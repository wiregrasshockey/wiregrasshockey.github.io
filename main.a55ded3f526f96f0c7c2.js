var $A=Object.defineProperty,zA=Object.defineProperties,WA=Object.getOwnPropertyDescriptors,TC=Object.getOwnPropertySymbols,KA=Object.prototype.hasOwnProperty,YA=Object.prototype.propertyIsEnumerable,SC=(ln,at,q)=>at in ln?$A(ln,at,{enumerable:!0,configurable:!0,writable:!0,value:q}):ln[at]=q,IC=(ln,at)=>{for(var q in at||(at={}))KA.call(at,q)&&SC(ln,q,at[q]);if(TC)for(var q of TC(at))YA.call(at,q)&&SC(ln,q,at[q]);return ln},DC=(ln,at)=>zA(ln,WA(at));(self.webpackChunkwiregrass_web=self.webpackChunkwiregrass_web||[]).push([[179],{8255:ln=>{function at(q){return Promise.resolve().then(()=>{var k=new Error("Cannot find module '"+q+"'");throw k.code="MODULE_NOT_FOUND",k})}at.keys=()=>[],at.resolve=at,at.id=8255,ln.exports=at},7238:(ln,at,q)=>{"use strict";q.d(at,{l3:()=>te,_j:()=>k,LC:()=>o,ZN:()=>vt,jt:()=>Be,pV:()=>be,IO:()=>pt,vP:()=>Ge,SB:()=>Te,oB:()=>Ce,eR:()=>he,X$:()=>Ue,ZE:()=>Jt,k1:()=>Zt});class k{}class o{}const te="*";function Ue(St,Ct){return{type:7,name:St,definitions:Ct,options:{}}}function Be(St,Ct=null){return{type:4,styles:Ct,timings:St}}function Ge(St,Ct=null){return{type:2,steps:St,options:Ct}}function Ce(St){return{type:6,styles:St,offset:null}}function Te(St,Ct,Rt){return{type:0,name:St,styles:Ct,options:Rt}}function he(St,Ct,Rt=null){return{type:1,expr:St,animation:Ct,options:Rt}}function be(St=null){return{type:9,options:St}}function pt(St,Ct,Rt=null){return{type:11,selector:St,animation:Ct,options:Rt}}function ce(St){Promise.resolve(null).then(St)}class vt{constructor(Ct=0,Rt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ct+Rt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ct=>Ct()),this._onDoneFns=[])}onStart(Ct){this._onStartFns.push(Ct)}onDone(Ct){this._onDoneFns.push(Ct)}onDestroy(Ct){this._onDestroyFns.push(Ct)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ce(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ct=>Ct()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ct=>Ct()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ct){this._position=this.totalTime?Ct*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ct){const Rt="start"==Ct?this._onStartFns:this._onDoneFns;Rt.forEach(Nt=>Nt()),Rt.length=0}}class Jt{constructor(Ct){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ct;let Rt=0,Nt=0,ct=0;const lt=this.players.length;0==lt?ce(()=>this._onFinish()):this.players.forEach(Dt=>{Dt.onDone(()=>{++Rt==lt&&this._onFinish()}),Dt.onDestroy(()=>{++Nt==lt&&this._onDestroy()}),Dt.onStart(()=>{++ct==lt&&this._onStart()})}),this.totalTime=this.players.reduce((Dt,Qe)=>Math.max(Dt,Qe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ct=>Ct()),this._onDoneFns=[])}init(){this.players.forEach(Ct=>Ct.init())}onStart(Ct){this._onStartFns.push(Ct)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ct=>Ct()),this._onStartFns=[])}onDone(Ct){this._onDoneFns.push(Ct)}onDestroy(Ct){this._onDestroyFns.push(Ct)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ct=>Ct.play())}pause(){this.players.forEach(Ct=>Ct.pause())}restart(){this.players.forEach(Ct=>Ct.restart())}finish(){this._onFinish(),this.players.forEach(Ct=>Ct.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ct=>Ct.destroy()),this._onDestroyFns.forEach(Ct=>Ct()),this._onDestroyFns=[])}reset(){this.players.forEach(Ct=>Ct.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ct){const Rt=Ct*this.totalTime;this.players.forEach(Nt=>{const ct=Nt.totalTime?Math.min(1,Rt/Nt.totalTime):1;Nt.setPosition(ct)})}getPosition(){const Ct=this.players.reduce((Rt,Nt)=>null===Rt||Nt.totalTime>Rt.totalTime?Nt:Rt,null);return null!=Ct?Ct.getPosition():0}beforeDestroy(){this.players.forEach(Ct=>{Ct.beforeDestroy&&Ct.beforeDestroy()})}triggerCallback(Ct){const Rt="start"==Ct?this._onStartFns:this._onDoneFns;Rt.forEach(Nt=>Nt()),Rt.length=0}}const Zt="!"},8583:(ln,at,q)=>{"use strict";q.d(at,{mr:()=>Jt,Ov:()=>zs,ez:()=>bo,K0:()=>Ge,uU:()=>za,Do:()=>St,V_:()=>ue,Ye:()=>Ct,S$:()=>ce,mk:()=>Xn,sg:()=>vi,O5:()=>Xe,RF:()=>Mn,n9:()=>pr,ED:()=>ui,tP:()=>fs,b0:()=>Zt,lw:()=>Ce,EM:()=>Vs,JF:()=>to,NF:()=>Jo,PM:()=>Xo,w_:()=>Ie,bD:()=>Io,q:()=>te,Mx:()=>bt,HT:()=>Be});var k=q(3018);let o=null;function te(){return o}function Be(G){o||(o=G)}class Ie{}const Ge=new k.OlP("DocumentToken");let Ce=(()=>{class G{historyGo(Z){throw new Error("Not implemented")}}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275prov=(0,k.Yz7)({factory:Te,token:G,providedIn:"platform"}),G})();function Te(){return(0,k.LFG)(he)}const ue=new k.OlP("Location Initialized");let he=(()=>{class G extends Ce{constructor(Z){super(),this._doc=Z,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(Z){const oe=te().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",Z,!1),()=>oe.removeEventListener("popstate",Z)}onHashChange(Z){const oe=te().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",Z,!1),()=>oe.removeEventListener("hashchange",Z)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Z){this.location.pathname=Z}pushState(Z,oe,$e){Ve()?this._history.pushState(Z,oe,$e):this.location.hash=$e}replaceState(Z,oe,$e){Ve()?this._history.replaceState(Z,oe,$e):this.location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(Z=0){this._history.go(Z)}getState(){return this._history.state}}return G.\u0275fac=function(Z){return new(Z||G)(k.LFG(Ge))},G.\u0275prov=(0,k.Yz7)({factory:be,token:G,providedIn:"platform"}),G})();function Ve(){return!!window.history.pushState}function be(){return new he((0,k.LFG)(Ge))}function Ke(G,se){if(0==G.length)return se;if(0==se.length)return G;let Z=0;return G.endsWith("/")&&Z++,se.startsWith("/")&&Z++,2==Z?G+se.substring(1):1==Z?G+se:G+"/"+se}function pt(G){const se=G.match(/#|\?|$/),Z=se&&se.index||G.length;return G.slice(0,Z-("/"===G[Z-1]?1:0))+G.slice(Z)}function tt(G){return G&&"?"!==G[0]?"?"+G:G}let ce=(()=>{class G{historyGo(Z){throw new Error("Not implemented")}}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275prov=(0,k.Yz7)({factory:vt,token:G,providedIn:"root"}),G})();function vt(G){const se=(0,k.LFG)(Ge).location;return new Zt((0,k.LFG)(Ce),se&&se.origin||"")}const Jt=new k.OlP("appBaseHref");let Zt=(()=>{class G extends ce{constructor(Z,oe){if(super(),this._platformLocation=Z,this._removeListenerFns=[],null==oe&&(oe=this._platformLocation.getBaseHrefFromDOM()),null==oe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=oe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}prepareExternalUrl(Z){return Ke(this._baseHref,Z)}path(Z=!1){const oe=this._platformLocation.pathname+tt(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&Z?`${oe}${$e}`:oe}pushState(Z,oe,$e,wt){const ne=this.prepareExternalUrl($e+tt(wt));this._platformLocation.pushState(Z,oe,ne)}replaceState(Z,oe,$e,wt){const ne=this.prepareExternalUrl($e+tt(wt));this._platformLocation.replaceState(Z,oe,ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Z=0){var oe,$e;null===($e=(oe=this._platformLocation).historyGo)||void 0===$e||$e.call(oe,Z)}}return G.\u0275fac=function(Z){return new(Z||G)(k.LFG(Ce),k.LFG(Jt,8))},G.\u0275prov=k.Yz7({token:G,factory:G.\u0275fac}),G})(),St=(()=>{class G extends ce{constructor(Z,oe){super(),this._platformLocation=Z,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Z){this._removeListenerFns.push(this._platformLocation.onPopState(Z),this._platformLocation.onHashChange(Z))}getBaseHref(){return this._baseHref}path(Z=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(Z){const oe=Ke(this._baseHref,Z);return oe.length>0?"#"+oe:oe}pushState(Z,oe,$e,wt){let ne=this.prepareExternalUrl($e+tt(wt));0==ne.length&&(ne=this._platformLocation.pathname),this._platformLocation.pushState(Z,oe,ne)}replaceState(Z,oe,$e,wt){let ne=this.prepareExternalUrl($e+tt(wt));0==ne.length&&(ne=this._platformLocation.pathname),this._platformLocation.replaceState(Z,oe,ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Z=0){var oe,$e;null===($e=(oe=this._platformLocation).historyGo)||void 0===$e||$e.call(oe,Z)}}return G.\u0275fac=function(Z){return new(Z||G)(k.LFG(Ce),k.LFG(Jt,8))},G.\u0275prov=k.Yz7({token:G,factory:G.\u0275fac}),G})(),Ct=(()=>{class G{constructor(Z,oe){this._subject=new k.vpe,this._urlChangeListeners=[],this._platformStrategy=Z;const $e=this._platformStrategy.getBaseHref();this._platformLocation=oe,this._baseHref=pt(ct($e)),this._platformStrategy.onPopState(wt=>{this._subject.emit({url:this.path(!0),pop:!0,state:wt.state,type:wt.type})})}path(Z=!1){return this.normalize(this._platformStrategy.path(Z))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Z,oe=""){return this.path()==this.normalize(Z+tt(oe))}normalize(Z){return G.stripTrailingSlash(function(G,se){return G&&se.startsWith(G)?se.substring(G.length):se}(this._baseHref,ct(Z)))}prepareExternalUrl(Z){return Z&&"/"!==Z[0]&&(Z="/"+Z),this._platformStrategy.prepareExternalUrl(Z)}go(Z,oe="",$e=null){this._platformStrategy.pushState($e,"",Z,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+tt(oe)),$e)}replaceState(Z,oe="",$e=null){this._platformStrategy.replaceState($e,"",Z,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Z+tt(oe)),$e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Z=0){var oe,$e;null===($e=(oe=this._platformStrategy).historyGo)||void 0===$e||$e.call(oe,Z)}onUrlChange(Z){this._urlChangeListeners.push(Z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)}))}_notifyUrlChangeListeners(Z="",oe){this._urlChangeListeners.forEach($e=>$e(Z,oe))}subscribe(Z,oe,$e){return this._subject.subscribe({next:Z,error:oe,complete:$e})}}return G.\u0275fac=function(Z){return new(Z||G)(k.LFG(ce),k.LFG(Ce))},G.normalizeQueryParams=tt,G.joinWithSlash=Ke,G.stripTrailingSlash=pt,G.\u0275prov=(0,k.Yz7)({factory:Rt,token:G,providedIn:"root"}),G})();function Rt(){return new Ct((0,k.LFG)(ce),(0,k.LFG)(Ce))}function ct(G){return G.replace(/\/index.html$/,"")}var Qe=(()=>((Qe=Qe||{})[Qe.Zero=0]="Zero",Qe[Qe.One=1]="One",Qe[Qe.Two=2]="Two",Qe[Qe.Few=3]="Few",Qe[Qe.Many=4]="Many",Qe[Qe.Other=5]="Other",Qe))(),Je=(()=>((Je=Je||{})[Je.Format=0]="Format",Je[Je.Standalone=1]="Standalone",Je))(),et=(()=>((et=et||{})[et.Narrow=0]="Narrow",et[et.Abbreviated=1]="Abbreviated",et[et.Wide=2]="Wide",et[et.Short=3]="Short",et))(),yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.Medium=1]="Medium",yt[yt.Long=2]="Long",yt[yt.Full=3]="Full",yt))(),ft=(()=>((ft=ft||{})[ft.Decimal=0]="Decimal",ft[ft.Group=1]="Group",ft[ft.List=2]="List",ft[ft.PercentSign=3]="PercentSign",ft[ft.PlusSign=4]="PlusSign",ft[ft.MinusSign=5]="MinusSign",ft[ft.Exponential=6]="Exponential",ft[ft.SuperscriptingExponent=7]="SuperscriptingExponent",ft[ft.PerMille=8]="PerMille",ft[ft.Infinity=9]="Infinity",ft[ft.NaN=10]="NaN",ft[ft.TimeSeparator=11]="TimeSeparator",ft[ft.CurrencyDecimal=12]="CurrencyDecimal",ft[ft.CurrencyGroup=13]="CurrencyGroup",ft))();function li(G,se){return tr((0,k.cg1)(G)[k.wAp.DateFormat],se)}function on(G,se){return tr((0,k.cg1)(G)[k.wAp.TimeFormat],se)}function yn(G,se){return tr((0,k.cg1)(G)[k.wAp.DateTimeFormat],se)}function mr(G,se){const Z=(0,k.cg1)(G),oe=Z[k.wAp.NumberSymbols][se];if(void 0===oe){if(se===ft.CurrencyDecimal)return Z[k.wAp.NumberSymbols][ft.Decimal];if(se===ft.CurrencyGroup)return Z[k.wAp.NumberSymbols][ft.Group]}return oe}const vn=k.kL8;function dr(G){if(!G[k.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${G[k.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tr(G,se){for(let Z=se;Z>-1;Z--)if(void 0!==G[Z])return G[Z];throw new Error("Locale data API: locale data undefined")}function Br(G){const[se,Z]=G.split(":");return{hours:+se,minutes:+Z}}const Zr=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oi={},$r=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tr=(()=>((Tr=Tr||{})[Tr.Short=0]="Short",Tr[Tr.ShortGMT=1]="ShortGMT",Tr[Tr.Long=2]="Long",Tr[Tr.Extended=3]="Extended",Tr))(),wn=(()=>((wn=wn||{})[wn.FullYear=0]="FullYear",wn[wn.Month=1]="Month",wn[wn.Date=2]="Date",wn[wn.Hours=3]="Hours",wn[wn.Minutes=4]="Minutes",wn[wn.Seconds=5]="Seconds",wn[wn.FractionalSeconds=6]="FractionalSeconds",wn[wn.Day=7]="Day",wn))(),rn=(()=>((rn=rn||{})[rn.DayPeriods=0]="DayPeriods",rn[rn.Days=1]="Days",rn[rn.Months=2]="Months",rn[rn.Eras=3]="Eras",rn))();function fr(G,se,Z,oe){let $e=function(G){if(dn(G))return G;if("number"==typeof G&&!isNaN(G))return new Date(G);if("string"==typeof G){if(G=G.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(G)){const[$e,wt=1,ne=1]=G.split("-").map(ae=>+ae);return Xi($e,wt-1,ne)}const Z=parseFloat(G);if(!isNaN(G-Z))return new Date(Z);let oe;if(oe=G.match(Zr))return function(G){const se=new Date(0);let Z=0,oe=0;const $e=G[8]?se.setUTCFullYear:se.setFullYear,wt=G[8]?se.setUTCHours:se.setHours;G[9]&&(Z=Number(G[9]+G[10]),oe=Number(G[9]+G[11])),$e.call(se,Number(G[1]),Number(G[2])-1,Number(G[3]));const ne=Number(G[4]||0)-Z,ae=Number(G[5]||0)-oe,je=Number(G[6]||0),ot=Math.floor(1e3*parseFloat("0."+(G[7]||0)));return wt.call(se,ne,ae,je,ot),se}(oe)}const se=new Date(G);if(!dn(se))throw new Error(`Unable to convert "${G}" into a date`);return se}(G);se=yi(Z,se)||se;let ae,ne=[];for(;se;){if(ae=$r.exec(se),!ae){ne.push(se);break}{ne=ne.concat(ae.slice(1));const jt=ne.pop();if(!jt)break;se=jt}}let je=$e.getTimezoneOffset();oe&&(je=ve(oe,je),$e=function(G,se,Z){const $e=G.getTimezoneOffset();return function(G,se){return(G=new Date(G.getTime())).setMinutes(G.getMinutes()+se),G}(G,-1*(ve(se,$e)-$e))}($e,oe));let ot="";return ne.forEach(jt=>{const Wt=function(G){if(Zn[G])return Zn[G];let se;switch(G){case"G":case"GG":case"GGG":se=xe(rn.Eras,et.Abbreviated);break;case"GGGG":se=xe(rn.Eras,et.Wide);break;case"GGGGG":se=xe(rn.Eras,et.Narrow);break;case"y":se=lr(wn.FullYear,1,0,!1,!0);break;case"yy":se=lr(wn.FullYear,2,0,!0,!0);break;case"yyy":se=lr(wn.FullYear,3,0,!1,!0);break;case"yyyy":se=lr(wn.FullYear,4,0,!1,!0);break;case"Y":se=Er(1);break;case"YY":se=Er(2,!0);break;case"YYY":se=Er(3);break;case"YYYY":se=Er(4);break;case"M":case"L":se=lr(wn.Month,1,1);break;case"MM":case"LL":se=lr(wn.Month,2,1);break;case"MMM":se=xe(rn.Months,et.Abbreviated);break;case"MMMM":se=xe(rn.Months,et.Wide);break;case"MMMMM":se=xe(rn.Months,et.Narrow);break;case"LLL":se=xe(rn.Months,et.Abbreviated,Je.Standalone);break;case"LLLL":se=xe(rn.Months,et.Wide,Je.Standalone);break;case"LLLLL":se=xe(rn.Months,et.Narrow,Je.Standalone);break;case"w":se=Vn(1);break;case"ww":se=Vn(2);break;case"W":se=Vn(1,!0);break;case"d":se=lr(wn.Date,1);break;case"dd":se=lr(wn.Date,2);break;case"c":case"cc":se=lr(wn.Day,1);break;case"ccc":se=xe(rn.Days,et.Abbreviated,Je.Standalone);break;case"cccc":se=xe(rn.Days,et.Wide,Je.Standalone);break;case"ccccc":se=xe(rn.Days,et.Narrow,Je.Standalone);break;case"cccccc":se=xe(rn.Days,et.Short,Je.Standalone);break;case"E":case"EE":case"EEE":se=xe(rn.Days,et.Abbreviated);break;case"EEEE":se=xe(rn.Days,et.Wide);break;case"EEEEE":se=xe(rn.Days,et.Narrow);break;case"EEEEEE":se=xe(rn.Days,et.Short);break;case"a":case"aa":case"aaa":se=xe(rn.DayPeriods,et.Abbreviated);break;case"aaaa":se=xe(rn.DayPeriods,et.Wide);break;case"aaaaa":se=xe(rn.DayPeriods,et.Narrow);break;case"b":case"bb":case"bbb":se=xe(rn.DayPeriods,et.Abbreviated,Je.Standalone,!0);break;case"bbbb":se=xe(rn.DayPeriods,et.Wide,Je.Standalone,!0);break;case"bbbbb":se=xe(rn.DayPeriods,et.Narrow,Je.Standalone,!0);break;case"B":case"BB":case"BBB":se=xe(rn.DayPeriods,et.Abbreviated,Je.Format,!0);break;case"BBBB":se=xe(rn.DayPeriods,et.Wide,Je.Format,!0);break;case"BBBBB":se=xe(rn.DayPeriods,et.Narrow,Je.Format,!0);break;case"h":se=lr(wn.Hours,1,-12);break;case"hh":se=lr(wn.Hours,2,-12);break;case"H":se=lr(wn.Hours,1);break;case"HH":se=lr(wn.Hours,2);break;case"m":se=lr(wn.Minutes,1);break;case"mm":se=lr(wn.Minutes,2);break;case"s":se=lr(wn.Seconds,1);break;case"ss":se=lr(wn.Seconds,2);break;case"S":se=lr(wn.FractionalSeconds,1);break;case"SS":se=lr(wn.FractionalSeconds,2);break;case"SSS":se=lr(wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":se=Ee(Tr.Short);break;case"ZZZZZ":se=Ee(Tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":se=Ee(Tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":se=Ee(Tr.Long);break;default:return null}return Zn[G]=se,se}(jt);ot+=Wt?Wt($e,Z,je):"''"===jt?"'":jt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ot}function Xi(G,se,Z){const oe=new Date(0);return oe.setFullYear(G,se,Z),oe.setHours(0,0,0),oe}function yi(G,se){const Z=function(G){return(0,k.cg1)(G)[k.wAp.LocaleId]}(G);if(oi[Z]=oi[Z]||{},oi[Z][se])return oi[Z][se];let oe="";switch(se){case"shortDate":oe=li(G,yt.Short);break;case"mediumDate":oe=li(G,yt.Medium);break;case"longDate":oe=li(G,yt.Long);break;case"fullDate":oe=li(G,yt.Full);break;case"shortTime":oe=on(G,yt.Short);break;case"mediumTime":oe=on(G,yt.Medium);break;case"longTime":oe=on(G,yt.Long);break;case"fullTime":oe=on(G,yt.Full);break;case"short":const $e=yi(G,"shortTime"),wt=yi(G,"shortDate");oe=Or(yn(G,yt.Short),[$e,wt]);break;case"medium":const ne=yi(G,"mediumTime"),ae=yi(G,"mediumDate");oe=Or(yn(G,yt.Medium),[ne,ae]);break;case"long":const je=yi(G,"longTime"),ot=yi(G,"longDate");oe=Or(yn(G,yt.Long),[je,ot]);break;case"full":const jt=yi(G,"fullTime"),Wt=yi(G,"fullDate");oe=Or(yn(G,yt.Full),[jt,Wt])}return oe&&(oi[Z][se]=oe),oe}function Or(G,se){return se&&(G=G.replace(/\{([^}]+)}/g,function(Z,oe){return null!=se&&oe in se?se[oe]:Z})),G}function Rn(G,se,Z="-",oe,$e){let wt="";(G<0||$e&&G<=0)&&($e?G=1-G:(G=-G,wt=Z));let ne=String(G);for(;ne.length<se;)ne="0"+ne;return oe&&(ne=ne.substr(ne.length-se)),wt+ne}function lr(G,se,Z=0,oe=!1,$e=!1){return function(wt,ne){let ae=function(G,se){switch(G){case wn.FullYear:return se.getFullYear();case wn.Month:return se.getMonth();case wn.Date:return se.getDate();case wn.Hours:return se.getHours();case wn.Minutes:return se.getMinutes();case wn.Seconds:return se.getSeconds();case wn.FractionalSeconds:return se.getMilliseconds();case wn.Day:return se.getDay();default:throw new Error(`Unknown DateType value "${G}".`)}}(G,wt);if((Z>0||ae>-Z)&&(ae+=Z),G===wn.Hours)0===ae&&-12===Z&&(ae=12);else if(G===wn.FractionalSeconds)return function(G,se){return Rn(G,3).substr(0,se)}(ae,se);const je=mr(ne,ft.MinusSign);return Rn(ae,se,je,oe,$e)}}function xe(G,se,Z=Je.Format,oe=!1){return function($e,wt){return function(G,se,Z,oe,$e,wt){switch(Z){case rn.Months:return function(G,se,Z){const oe=(0,k.cg1)(G),wt=tr([oe[k.wAp.MonthsFormat],oe[k.wAp.MonthsStandalone]],se);return tr(wt,Z)}(se,$e,oe)[G.getMonth()];case rn.Days:return function(G,se,Z){const oe=(0,k.cg1)(G),wt=tr([oe[k.wAp.DaysFormat],oe[k.wAp.DaysStandalone]],se);return tr(wt,Z)}(se,$e,oe)[G.getDay()];case rn.DayPeriods:const ne=G.getHours(),ae=G.getMinutes();if(wt){const ot=function(G){const se=(0,k.cg1)(G);return dr(se),(se[k.wAp.ExtraData][2]||[]).map(oe=>"string"==typeof oe?Br(oe):[Br(oe[0]),Br(oe[1])])}(se),jt=function(G,se,Z){const oe=(0,k.cg1)(G);dr(oe);const wt=tr([oe[k.wAp.ExtraData][0],oe[k.wAp.ExtraData][1]],se)||[];return tr(wt,Z)||[]}(se,$e,oe),Wt=ot.findIndex(Sn=>{if(Array.isArray(Sn)){const[On,ri]=Sn,Si=ne>=On.hours&&ae>=On.minutes,gr=ne<ri.hours||ne===ri.hours&&ae<ri.minutes;if(On.hours<ri.hours){if(Si&&gr)return!0}else if(Si||gr)return!0}else if(Sn.hours===ne&&Sn.minutes===ae)return!0;return!1});if(-1!==Wt)return jt[Wt]}return function(G,se,Z){const oe=(0,k.cg1)(G),wt=tr([oe[k.wAp.DayPeriodsFormat],oe[k.wAp.DayPeriodsStandalone]],se);return tr(wt,Z)}(se,$e,oe)[ne<12?0:1];case rn.Eras:return function(G,se){return tr((0,k.cg1)(G)[k.wAp.Eras],se)}(se,oe)[G.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Z}`)}}($e,wt,G,se,Z,oe)}}function Ee(G){return function(se,Z,oe){const $e=-1*oe,wt=mr(Z,ft.MinusSign),ne=$e>0?Math.floor($e/60):Math.ceil($e/60);switch(G){case Tr.Short:return($e>=0?"+":"")+Rn(ne,2,wt)+Rn(Math.abs($e%60),2,wt);case Tr.ShortGMT:return"GMT"+($e>=0?"+":"")+Rn(ne,1,wt);case Tr.Long:return"GMT"+($e>=0?"+":"")+Rn(ne,2,wt)+":"+Rn(Math.abs($e%60),2,wt);case Tr.Extended:return 0===oe?"Z":($e>=0?"+":"")+Rn(ne,2,wt)+":"+Rn(Math.abs($e%60),2,wt);default:throw new Error(`Unknown zone width "${G}"`)}}}function nn(G){return Xi(G.getFullYear(),G.getMonth(),G.getDate()+(4-G.getDay()))}function Vn(G,se=!1){return function(Z,oe){let $e;if(se){const wt=new Date(Z.getFullYear(),Z.getMonth(),1).getDay()-1,ne=Z.getDate();$e=1+Math.floor((ne+wt)/7)}else{const wt=nn(Z),ne=function(G){const se=Xi(G,0,1).getDay();return Xi(G,0,1+(se<=4?4:11)-se)}(wt.getFullYear()),ae=wt.getTime()-ne.getTime();$e=1+Math.round(ae/6048e5)}return Rn($e,G,mr(oe,ft.MinusSign))}}function Er(G,se=!1){return function(Z,oe){return Rn(nn(Z).getFullYear(),G,mr(oe,ft.MinusSign),se)}}const Zn={};function ve(G,se){G=G.replace(/:/g,"");const Z=Date.parse("Jan 01, 1970 00:00:00 "+G)/6e4;return isNaN(Z)?se:Z}function dn(G){return G instanceof Date&&!isNaN(G.valueOf())}class Ye{}let we=(()=>{class G extends Ye{constructor(Z){super(),this.locale=Z}getPluralCategory(Z,oe){switch(vn(oe||this.locale)(Z)){case Qe.Zero:return"zero";case Qe.One:return"one";case Qe.Two:return"two";case Qe.Few:return"few";case Qe.Many:return"many";default:return"other"}}}return G.\u0275fac=function(Z){return new(Z||G)(k.LFG(k.soG))},G.\u0275prov=k.Yz7({token:G,factory:G.\u0275fac}),G})();function bt(G,se){se=encodeURIComponent(se);for(const Z of G.split(";")){const oe=Z.indexOf("="),[$e,wt]=-1==oe?[Z,""]:[Z.slice(0,oe),Z.slice(oe+1)];if($e.trim()===se)return decodeURIComponent(wt)}return null}let Xn=(()=>{class G{constructor(Z,oe,$e,wt){this._iterableDiffers=Z,this._keyValueDiffers=oe,this._ngEl=$e,this._renderer=wt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Z){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Z?Z.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Z){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Z?Z.split(/\s+/):Z,this._rawClass&&((0,k.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Z=this._iterableDiffer.diff(this._rawClass);Z&&this._applyIterableChanges(Z)}else if(this._keyValueDiffer){const Z=this._keyValueDiffer.diff(this._rawClass);Z&&this._applyKeyValueChanges(Z)}}_applyKeyValueChanges(Z){Z.forEachAddedItem(oe=>this._toggleClass(oe.key,oe.currentValue)),Z.forEachChangedItem(oe=>this._toggleClass(oe.key,oe.currentValue)),Z.forEachRemovedItem(oe=>{oe.previousValue&&this._toggleClass(oe.key,!1)})}_applyIterableChanges(Z){Z.forEachAddedItem(oe=>{if("string"!=typeof oe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,k.AaK)(oe.item)}`);this._toggleClass(oe.item,!0)}),Z.forEachRemovedItem(oe=>this._toggleClass(oe.item,!1))}_applyClasses(Z){Z&&(Array.isArray(Z)||Z instanceof Set?Z.forEach(oe=>this._toggleClass(oe,!0)):Object.keys(Z).forEach(oe=>this._toggleClass(oe,!!Z[oe])))}_removeClasses(Z){Z&&(Array.isArray(Z)||Z instanceof Set?Z.forEach(oe=>this._toggleClass(oe,!1)):Object.keys(Z).forEach(oe=>this._toggleClass(oe,!1)))}_toggleClass(Z,oe){(Z=Z.trim())&&Z.split(/\s+/g).forEach($e=>{oe?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.ZZ4),k.Y36(k.aQg),k.Y36(k.SBq),k.Y36(k.Qsj))},G.\u0275dir=k.lG2({type:G,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),G})();class ni{constructor(se,Z,oe,$e){this.$implicit=se,this.ngForOf=Z,this.index=oe,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vi=(()=>{class G{constructor(Z,oe,$e){this._viewContainer=Z,this._template=oe,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Z){this._ngForOf=Z,this._ngForOfDirty=!0}set ngForTrackBy(Z){this._trackByFn=Z}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Z){Z&&(this._template=Z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Z=this._ngForOf;if(!this._differ&&Z)try{this._differ=this._differs.find(Z).create(this.ngForTrackBy)}catch(oe){throw new Error(`Cannot find a differ supporting object '${Z}' of type '${function(G){return G.name||typeof G}(Z)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const Z=this._differ.diff(this._ngForOf);Z&&this._applyChanges(Z)}}_applyChanges(Z){const oe=[];Z.forEachOperation(($e,wt,ne)=>{if(null==$e.previousIndex){const ae=this._viewContainer.createEmbeddedView(this._template,new ni(null,this._ngForOf,-1,-1),null===ne?void 0:ne),je=new Oi($e,ae);oe.push(je)}else if(null==ne)this._viewContainer.remove(null===wt?void 0:wt);else if(null!==wt){const ae=this._viewContainer.get(wt);this._viewContainer.move(ae,ne);const je=new Oi($e,ae);oe.push(je)}});for(let $e=0;$e<oe.length;$e++)this._perViewChange(oe[$e].view,oe[$e].record);for(let $e=0,wt=this._viewContainer.length;$e<wt;$e++){const ne=this._viewContainer.get($e);ne.context.index=$e,ne.context.count=wt,ne.context.ngForOf=this._ngForOf}Z.forEachIdentityChange($e=>{this._viewContainer.get($e.currentIndex).context.$implicit=$e.item})}_perViewChange(Z,oe){Z.context.$implicit=oe.item}static ngTemplateContextGuard(Z,oe){return!0}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.s_b),k.Y36(k.Rgc),k.Y36(k.ZZ4))},G.\u0275dir=k.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),G})();class Oi{constructor(se,Z){this.record=se,this.view=Z}}let Xe=(()=>{class G{constructor(Z,oe){this._viewContainer=Z,this._context=new mt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(Z){this._context.$implicit=this._context.ngIf=Z,this._updateView()}set ngIfThen(Z){At("ngIfThen",Z),this._thenTemplateRef=Z,this._thenViewRef=null,this._updateView()}set ngIfElse(Z){At("ngIfElse",Z),this._elseTemplateRef=Z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Z,oe){return!0}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.s_b),k.Y36(k.Rgc))},G.\u0275dir=k.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),G})();class mt{constructor(){this.$implicit=null,this.ngIf=null}}function At(G,se){if(se&&!se.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,k.AaK)(se)}'.`)}class an{constructor(se,Z){this._viewContainerRef=se,this._templateRef=Z,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(se){se&&!this._created?this.create():!se&&this._created&&this.destroy()}}let Mn=(()=>{class G{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Z){this._ngSwitch=Z,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Z){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Z)}_matchCase(Z){const oe=Z==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),oe}_updateDefaultCases(Z){if(this._defaultViews&&Z!==this._defaultUsed){this._defaultUsed=Z;for(let oe=0;oe<this._defaultViews.length;oe++)this._defaultViews[oe].enforceState(Z)}}}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275dir=k.lG2({type:G,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),G})(),pr=(()=>{class G{constructor(Z,oe,$e){this.ngSwitch=$e,$e._addCase(),this._view=new an(Z,oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.s_b),k.Y36(k.Rgc),k.Y36(Mn,9))},G.\u0275dir=k.lG2({type:G,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),G})(),ui=(()=>{class G{constructor(Z,oe,$e){$e._addDefault(new an(Z,oe))}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.s_b),k.Y36(k.Rgc),k.Y36(Mn,9))},G.\u0275dir=k.lG2({type:G,selectors:[["","ngSwitchDefault",""]]}),G})(),fs=(()=>{class G{constructor(Z){this._viewContainerRef=Z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(Z){if(Z.ngTemplateOutlet){const oe=this._viewContainerRef;this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?oe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&Z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.s_b))},G.\u0275dir=k.lG2({type:G,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[k.TTD]}),G})();function Gr(G,se){return Error(`InvalidPipeArgument: '${se}' for pipe '${(0,k.AaK)(G)}'`)}class _o{createSubscription(se,Z){return se.subscribe({next:Z,error:oe=>{throw oe}})}dispose(se){se.unsubscribe()}onDestroy(se){se.unsubscribe()}}class Gi{createSubscription(se,Z){return se.then(Z,oe=>{throw oe})}dispose(se){}onDestroy(se){}}const es=new Gi,Bi=new _o;let zs=(()=>{class G{constructor(Z){this._ref=Z,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(Z){return this._obj?Z!==this._obj?(this._dispose(),this.transform(Z)):this._latestValue:(Z&&this._subscribe(Z),this._latestValue)}_subscribe(Z){this._obj=Z,this._strategy=this._selectStrategy(Z),this._subscription=this._strategy.createSubscription(Z,oe=>this._updateLatestValue(Z,oe))}_selectStrategy(Z){if((0,k.QGY)(Z))return es;if((0,k.F4k)(Z))return Bi;throw Gr(G,Z)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Z,oe){Z===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.sBO,16))},G.\u0275pipe=k.Yjl({name:"async",type:G,pure:!1}),G})(),za=(()=>{class G{constructor(Z){this.locale=Z}transform(Z,oe="mediumDate",$e,wt){if(null==Z||""===Z||Z!=Z)return null;try{return fr(Z,oe,wt||this.locale,$e)}catch(ne){throw Gr(G,ne.message)}}}return G.\u0275fac=function(Z){return new(Z||G)(k.Y36(k.soG,16))},G.\u0275pipe=k.Yjl({name:"date",type:G,pure:!0}),G})(),bo=(()=>{class G{}return G.\u0275fac=function(Z){return new(Z||G)},G.\u0275mod=k.oAB({type:G}),G.\u0275inj=k.cJS({providers:[{provide:Ye,useClass:we}]}),G})();const Io="browser";function Jo(G){return G===Io}function Xo(G){return"server"===G}let Vs=(()=>{class G{}return G.\u0275prov=(0,k.Yz7)({token:G,providedIn:"root",factory:()=>new ao((0,k.LFG)(Ge),window)}),G})();class ao{constructor(se,Z){this.document=se,this.window=Z,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const Z=function(G,se){const Z=G.getElementById(se)||G.getElementsByName(se)[0];if(Z)return Z;if("function"==typeof G.createTreeWalker&&G.body&&(G.body.createShadowRoot||G.body.attachShadow)){const oe=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let $e=oe.currentNode;for(;$e;){const wt=$e.shadowRoot;if(wt){const ne=wt.getElementById(se)||wt.querySelector(`[name="${se}"]`);if(ne)return ne}$e=oe.nextNode()}}return null}(this.document,se);Z&&(this.scrollToElement(Z),this.attemptFocus(Z))}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=se)}}scrollToElement(se){const Z=se.getBoundingClientRect(),oe=Z.left+this.window.pageXOffset,$e=Z.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(oe-wt[0],$e-wt[1])}attemptFocus(se){return se.focus(),this.document.activeElement===se}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=_a(this.window.history)||_a(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function _a(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class to{}},3018:(ln,at,q)=>{"use strict";q.d(at,{deG:()=>oa,tb:()=>F0,AFp:()=>k0,ip1:()=>dE,CZH:()=>Ky,hGG:()=>KD,z2F:()=>X_,sBO:()=>BT,Sil:()=>J_,_Vd:()=>jy,EJc:()=>V0,SBq:()=>Cf,qLn:()=>Ql,vpe:()=>Tf,gxx:()=>Fl,tBr:()=>Gs,XFs:()=>cn,OlP:()=>Pi,zs3:()=>$s,ZZ4:()=>Hv,aQg:()=>qv,soG:()=>Xv,YKP:()=>Ew,v3s:()=>AD,h0i:()=>Ym,PXZ:()=>wD,R0b:()=>Bc,FiY:()=>yl,Lbi:()=>N0,g9A:()=>P0,n_E:()=>Y_,Qsj:()=>ST,FYo:()=>jv,JOm:()=>Jl,Tiy:()=>Vb,q3G:()=>Cr,tp0:()=>Ha,EAV:()=>RD,Rgc:()=>U_,dDg:()=>H0,DyG:()=>Wu,q4F:()=>Ub,GfV:()=>pw,s_b:()=>$v,ifc:()=>Or,eFA:()=>z0,G48:()=>gD,Gpc:()=>tt,f3M:()=>Gc,X6Q:()=>_E,_c5:()=>HD,VLi:()=>pD,c2e:()=>L0,zSh:()=>Ll,wAp:()=>N,vHH:()=>Zt,EiD:()=>Wd,mCW:()=>qa,qzn:()=>T,JVY:()=>ie,pB0:()=>jn,eBb:()=>_t,L6k:()=>ye,LAX:()=>Yt,cg1:()=>r,Tjo:()=>BD,kL8:()=>p,yhl:()=>V,dqk:()=>xe,sIi:()=>yh,CqO:()=>Sd,QGY:()=>Lc,F4k:()=>qg,RDi:()=>Z,AaK:()=>be,z3N:()=>E,qOj:()=>Ng,TTD:()=>Jo,_Bn:()=>uw,xp6:()=>Qh,uIk:()=>Fg,Gre:()=>xv,ekj:()=>bf,Suo:()=>c0,Xpm:()=>ge,lG2:()=>Pr,Yz7:()=>Un,cJS:()=>yr,oAB:()=>Pn,Yjl:()=>sn,Y36:()=>Th,_UZ:()=>Gm,GkF:()=>Zm,BQk:()=>d_,ynx:()=>kp,qZA:()=>u_,TgZ:()=>$o,EpF:()=>yf,n5z:()=>en,Ikx:()=>k_,LFG:()=>Ms,$8M:()=>xn,NdJ:()=>h_,CRH:()=>d0,oxw:()=>cv,ALo:()=>n0,lcZ:()=>r0,xi3:()=>s0,Hsn:()=>g_,F$t:()=>dv,Q6J:()=>Rp,MGl:()=>Ry,DdM:()=>Kw,VKq:()=>Yw,iGM:()=>l0,MAs:()=>Bg,CHM:()=>X,LSH:()=>gi,kYT:()=>kn,Udp:()=>w_,YNc:()=>wi,W1O:()=>g0,_uU:()=>Av,Oqu:()=>Ly,hij:()=>Wm,AsE:()=>Dh,lnq:()=>cu,Gf:()=>u0});var k=q(9765),o=q(5319),te=q(7574),Ue=q(6682),Be=q(2441);var Ce=q(1307);function Te(){return new k.xQ}function he(t){for(let n in t)if(t[n]===he)return n;throw Error("Could not find renamed property on target object.")}function Ve(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ke(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const pt=he({__forward_ref__:he});function tt(t){return t.__forward_ref__=tt,t.toString=function(){return be(this())},t}function ce(t){return vt(t)?t():t}function vt(t){return"function"==typeof t&&t.hasOwnProperty(pt)&&t.__forward_ref__===tt}class Zt extends Error{constructor(n,i){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,i)),this.code=n}}function Rt(t){return"string"==typeof t?t:null==t?"":String(t)}function Nt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Rt(t)}function Qe(t,n){const i=n?` in ${n}`:"";throw new Zt("201",`No provider for ${Nt(t)} found${i}`)}function on(t,n){null==t&&function(t,n,i,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${i} ${u} ${n} <=Actual]`))}(n,t,null,"!=")}function Un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function vn(t){return dr(t,tr)||dr(t,ti)}function dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Yr(t){return t&&(t.hasOwnProperty(Br)||t.hasOwnProperty(hi))?t[Br]:null}const tr=he({\u0275prov:he}),Br=he({\u0275inj:he}),ti=he({ngInjectableDef:he}),hi=he({ngInjectorDef:he});var cn=(()=>((cn=cn||{})[cn.Default=0]="Default",cn[cn.Host=1]="Host",cn[cn.Self=2]="Self",cn[cn.SkipSelf=4]="SkipSelf",cn[cn.Optional=8]="Optional",cn))();let Zr;function $r(t){const n=Zr;return Zr=t,n}function Tr(t,n,i){const u=vn(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:i&cn.Optional?null:void 0!==n?n:void Qe(be(t),"Injector")}function rn(t){return{toString:t}.toString()}var fr=(()=>((fr=fr||{})[fr.OnPush=0]="OnPush",fr[fr.Default=1]="Default",fr))(),Or=(()=>((Or=Or||{})[Or.Emulated=0]="Emulated",Or[Or.None=2]="None",Or[Or.ShadowDom=3]="ShadowDom",Or))();const Rn="undefined"!=typeof globalThis&&globalThis,zr="undefined"!=typeof window&&window,lr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe=Rn||"undefined"!=typeof global&&global||zr||lr,Fe={},De=[],Ft=he({\u0275cmp:he}),nn=he({\u0275dir:he}),Vn=he({\u0275pipe:he}),Er=he({\u0275mod:he}),Zn=he({\u0275loc:he}),st=he({\u0275fac:he}),ve=he({__NG_ELEMENT_ID__:he});let _e=0;function ge(t){return rn(()=>{const i={},u={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===fr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||De,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Or.Emulated,id:"c",styles:t.styles||De,_:null,setInput:null,schemas:t.schemas||null,tView:null},f=t.directives,y=t.features,w=t.pipes;return u.id+=_e++,u.inputs=Ir(t.inputs,i),u.outputs=Ir(t.outputs),y&&y.forEach(S=>S(u)),u.directiveDefs=f?()=>("function"==typeof f?f():f).map(Ut):null,u.pipeDefs=w?()=>("function"==typeof w?w():w).map(dn):null,u})}function Ut(t){return or(t)||function(t){return t[nn]||null}(t)}function dn(t){return function(t){return t[Vn]||null}(t)}const Cn={};function Pn(t){return rn(()=>{const n={type:t.type,bootstrap:t.bootstrap||De,declarations:t.declarations||De,imports:t.imports||De,exports:t.exports||De,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Cn[t.id]=t.type),n})}function kn(t,n){return rn(()=>{const i=Lr(t,!0);i.declarations=n.declarations||De,i.imports=n.imports||De,i.exports=n.exports||De})}function Ir(t,n){if(null==t)return Fe;const i={};for(const u in t)if(t.hasOwnProperty(u)){let f=t[u],y=f;Array.isArray(f)&&(y=f[1],f=f[0]),i[f]=u,n&&(n[f]=y)}return i}const Pr=ge;function sn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function or(t){return t[Ft]||null}function Lr(t,n){const i=t[Er]||null;if(!i&&!0===n)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return i}function Ai(t){return Array.isArray(t)&&"object"==typeof t[1]}function Gr(t){return Array.isArray(t)&&!0===t[1]}function _o(t){return 0!=(8&t.flags)}function Gi(t){return 2==(2&t.flags)}function es(t){return 1==(1&t.flags)}function Bi(t){return null!==t.template}function zs(t){return 0!=(512&t[2])}function ts(t,n){return t.hasOwnProperty(st)?t[st]:null}class Qo{constructor(n,i,u){this.previousValue=n,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}function Jo(){return Xo}function Xo(t){return t.type.prototype.ngOnChanges&&(t.setInput=Eo),Is}function Is(){const t=Vs(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Fe)t.previous=n;else for(let u in n)i[u]=n[u];t.current=null,this.ngOnChanges(n)}}function Eo(t,n,i,u){const f=Vs(t)||function(t,n){return t[ns]=n}(t,{previous:Fe,current:null}),y=f.current||(f.current={}),w=f.previous,S=this.declaredInputs[i],P=w[S];y[S]=new Qo(P&&P.currentValue,n,w===Fe),t[u]=n}Jo.ngInherit=!0;const ns="__ngSimpleChanges__";function Vs(t){return t[ns]||null}let se;function Z(t){se=t}function wt(t){return!!t.listen}const ae={createRenderer:(t,n)=>void 0!==se?se:"undefined"!=typeof document?document:void 0};function ot(t){for(;Array.isArray(t);)t=t[0];return t}function Sn(t,n){return ot(n[t])}function On(t,n){return ot(n[t.index])}function Si(t,n){return t.data[n]}function gr(t,n){return t[n]}function Nn(t,n){const i=n[t];return Ai(i)?i:i[0]}function Hi(t){return 4==(4&t[2])}function Ds(t){return 128==(128&t[2])}function gs(t,n){return null==n?null:t[n]}function Do(t){t[18]=0}function cl(t,n){t[5]+=n;let i=t,u=t[3];for(;null!==u&&(1===n&&1===i[5]||-1===n&&0===i[5]);)u[5]+=n,i=u,u=u[3]}const hr={lFrame:Qi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zi(){return hr.bindingsEnabled}function Vt(){return hr.lFrame.lView}function Wr(){return hr.lFrame.tView}function X(t){return hr.lFrame.contextLView=t,t[8]}function D(){let t=x();for(;null!==t&&64===t.type;)t=t.parent;return t}function x(){return hr.lFrame.currentTNode}function ee(t,n){const i=hr.lFrame;i.currentTNode=t,i.isParent=n}function fe(){return hr.lFrame.isParent}function Ne(){hr.lFrame.isParent=!1}function Pt(){return hr.isInCheckNoChangesMode}function hn(t){hr.isInCheckNoChangesMode=t}function Dn(){const t=hr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function nr(){return hr.lFrame.bindingIndex}function qn(){return hr.lFrame.bindingIndex++}function ar(t){const n=hr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Ci(t,n){const i=hr.lFrame;i.bindingIndex=i.bindingRootIndex=t,Sr(n)}function Sr(t){hr.lFrame.currentDirectiveIndex=t}function xs(){return hr.lFrame.currentQueryIndex}function Yi(t){hr.lFrame.currentQueryIndex=t}function uo(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Oo(t,n,i){if(i&cn.SkipSelf){let f=n,y=t;for(;!(f=f.parent,null!==f||i&cn.Host||(f=uo(y),null===f||(y=y[15],10&f.type))););if(null===f)return!1;n=f,t=y}const u=hr.lFrame=va();return u.currentTNode=n,u.lView=t,!0}function js(t){const n=va(),i=t[1];hr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function va(){const t=hr.lFrame,n=null===t?null:t.child;return null===n?Qi(t):n}function Qi(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ea(){const t=hr.lFrame;return hr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Al=ea;function ta(){const t=ea();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ir(){return hr.lFrame.selectedIndex}function Vr(t){hr.lFrame.selectedIndex=t}function Bn(){const t=hr.lFrame;return Si(t.tView,t.selectedIndex)}function Lo(t,n){for(let i=n.directiveStart,u=n.directiveEnd;i<u;i++){const y=t.data[i].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:j,ngOnDestroy:K}=y;w&&(t.contentHooks||(t.contentHooks=[])).push(-i,w),S&&((t.contentHooks||(t.contentHooks=[])).push(i,S),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,S)),P&&(t.viewHooks||(t.viewHooks=[])).push(-i,P),j&&((t.viewHooks||(t.viewHooks=[])).push(i,j),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,j)),null!=K&&(t.destroyHooks||(t.destroyHooks=[])).push(i,K)}}function co(t,n,i){qi(t,n,3,i)}function ys(t,n,i,u){(3&t[2])===i&&qi(t,n,i,u)}function Wa(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function qi(t,n,i,u){const y=null!=u?u:-1,w=n.length-1;let S=0;for(let P=void 0!==u?65535&t[18]:0;P<w;P++)if("number"==typeof n[P+1]){if(S=n[P],null!=u&&S>=u)break}else n[P]<0&&(t[18]+=65536),(S<y||-1==y)&&(Hs(t,i,n,P),t[18]=(4294901760&t[18])+P+2),P++}function Hs(t,n,i,u){const f=i[u]<0,y=i[u+1],S=t[f?-i[u]:i[u]];if(f){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{y.call(S)}finally{}}}else try{y.call(S)}finally{}}class ba{constructor(n,i,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=u}}function fl(t,n,i){const u=wt(t);let f=0;for(;f<i.length;){const y=i[f];if("number"==typeof y){if(0!==y)break;f++;const w=i[f++],S=i[f++],P=i[f++];u?t.setAttribute(n,S,P,w):n.setAttributeNS(w,S,P)}else{const w=y,S=i[++f];Vl(w)?u&&t.setProperty(n,w,S):u?t.setAttribute(n,w,S):n.setAttribute(w,S),f++}}return f}function _s(t){return 3===t||4===t||6===t}function Vl(t){return 64===t.charCodeAt(0)}function vs(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let u=0;u<n.length;u++){const f=n[u];"number"==typeof f?i=f:0===i||Uo(t,i,f,null,-1===i||2===i?n[++u]:null)}}return t}function Uo(t,n,i,u,f){let y=0,w=t.length;if(-1===n)w=-1;else for(;y<t.length;){const S=t[y++];if("number"==typeof S){if(S===n){w=-1;break}if(S>n){w=y-1;break}}}for(;y<t.length;){const S=t[y];if("number"==typeof S)break;if(S===i){if(null===u)return void(null!==f&&(t[y+1]=f));if(u===t[y+1])return void(t[y+2]=f)}y++,null!==u&&y++,null!==f&&y++}-1!==w&&(t.splice(w,0,n),y=w+1),t.splice(y++,0,i),null!==u&&t.splice(y++,0,u),null!==f&&t.splice(y++,0,f)}function ra(t){return-1!==t}function xl(t){return 32767&t}function Xt(t,n){let i=function(t){return t>>16}(t),u=n;for(;i>0;)u=u[15],i--;return u}let zi=!0;function Mo(t){const n=zi;return zi=t,n}let kh=0;function xt(t,n){const i=cs(t,n);if(-1!==i)return i;const u=n[1];u.firstCreatePass&&(t.injectorIndex=n.length,$t(u.data,t),$t(n,null),$t(u.blueprint,null));const f=sa(t,n),y=t.injectorIndex;if(ra(f)){const w=xl(f),S=Xt(f,n),P=S[1].data;for(let j=0;j<8;j++)n[y+j]=S[w+j]|P[w+j]}return n[y+8]=f,y}function $t(t,n){t.push(0,0,0,0,0,0,0,0,n)}function cs(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function sa(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,u=null,f=n;for(;null!==f;){const y=f[1],w=y.type;if(u=2===w?y.declTNode:1===w?f[6]:null,null===u)return-1;if(i++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return-1}function Ul(t,n,i){!function(t,n,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(ve)&&(u=i[ve]),null==u&&(u=i[ve]=kh++);const f=255&u;n.data[t+(f>>5)]|=1<<f}(t,n,i)}function Md(t,n,i){if(i&cn.Optional)return t;Qe(n,"NodeInjector")}function U(t,n,i,u){if(i&cn.Optional&&void 0===u&&(u=null),0==(i&(cn.Self|cn.Host))){const f=t[9],y=$r(void 0);try{return f?f.get(n,u,i&cn.Optional):Tr(n,u,i&cn.Optional)}finally{$r(y)}}return Md(u,n,i)}function M(t,n,i,u=cn.Default,f){if(null!==t){const y=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ve)?t[ve]:void 0;return"number"==typeof n?n>=0?255&n:H:n}(i);if("function"==typeof y){if(!Oo(n,t,u))return u&cn.Host?Md(f,i,u):U(n,i,u,f);try{const w=y(u);if(null!=w||u&cn.Optional)return w;Qe(i)}finally{Al()}}else if("number"==typeof y){let w=null,S=cs(t,n),P=-1,j=u&cn.Host?n[16][6]:null;for((-1===S||u&cn.SkipSelf)&&(P=-1===S?sa(t,n):n[S+8],-1!==P&&Ln(u,!1)?(w=n[1],S=xl(P),n=Xt(P,n)):S=-1);-1!==S;){const K=n[1];if(Ht(y,S,K.data)){const de=W(S,n,i,w,u,j);if(de!==O)return de}P=n[S+8],-1!==P&&Ln(u,n[1].data[S+8]===j)&&Ht(y,S,n)?(w=K,S=xl(P),n=Xt(P,n)):S=-1}}}return U(n,i,u,f)}const O={};function H(){return new Kn(D(),Vt())}function W(t,n,i,u,f,y){const w=n[1],S=w.data[t+8],K=le(S,w,i,null==u?Gi(S)&&zi:u!=w&&0!=(3&S.type),f&cn.Host&&y===S);return null!==K?Me(n,w,K,S):O}function le(t,n,i,u,f){const y=t.providerIndexes,w=n.data,S=1048575&y,P=t.directiveStart,K=y>>20,me=f?S+K:t.directiveEnd;for(let Ze=u?S:S+K;Ze<me;Ze++){const rt=w[Ze];if(Ze<P&&i===rt||Ze>=P&&rt.type===i)return Ze}if(f){const Ze=w[P];if(Ze&&Bi(Ze)&&Ze.type===i)return P}return null}function Me(t,n,i,u){let f=t[i];const y=n.data;if(function(t){return t instanceof ba}(f)){const w=f;w.resolving&&function(t,n){throw new Zt("200",`Circular dependency in DI detected for ${t}`)}(Nt(y[i]));const S=Mo(w.canSeeViewProviders);w.resolving=!0;const P=w.injectImpl?$r(w.injectImpl):null;Oo(t,u,cn.Default);try{f=t[i]=w.factory(void 0,y,t,u),n.firstCreatePass&&i>=u.directiveStart&&function(t,n,i){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:y}=n.type.prototype;if(u){const w=Xo(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,w),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,w)}f&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,f),y&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,y),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,y))}(i,y[i],n)}finally{null!==P&&$r(P),Mo(S),w.resolving=!1,Al()}}return f}function Ht(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function Ln(t,n){return!(t&cn.Self||t&cn.Host&&n)}class Kn{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,u){return M(this._tNode,this._lView,n,u,i)}}function en(t){return rn(()=>{const n=t.prototype.constructor,i=n[st]||pi(n),u=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==u;){const y=f[st]||pi(f);if(y&&y!==i)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function pi(t){return vt(t)?()=>{const n=pi(ce(t));return n&&n()}:ts(t)}function xn(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const u=i.length;let f=0;for(;f<u;){const y=i[f];if(_s(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<u&&"string"==typeof i[f];)f++;else{if(y===n)return i[f+1];f+=2}}}return null}(D(),t)}const Qr="__parameters__";function ss(t,n,i){return rn(()=>{const u=function(t){return function(...i){if(t){const u=t(...i);for(const f in u)this[f]=u[f]}}}(n);function f(...y){if(this instanceof f)return u.apply(this,y),this;const w=new f(...y);return S.annotation=w,S;function S(P,j,K){const de=P.hasOwnProperty(Qr)?P[Qr]:Object.defineProperty(P,Qr,{value:[]})[Qr];for(;de.length<=K;)de.push(null);return(de[K]=de[K]||[]).push(w),P}}return i&&(f.prototype=Object.create(i.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}class Pi{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Un({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const oa=new Pi("AnalyzeForEntryComponents"),Wu=Function;function os(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let u=t[i];Array.isArray(u)?(n===t&&(n=t.slice(0,i)),os(u,n)):n!==t&&n.push(u)}return n}function Ya(t,n){t.forEach(i=>Array.isArray(i)?Ya(i,n):n(i))}function Ca(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function pl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ti(t,n){const i=[];for(let u=0;u<t;u++)i.push(n);return i}function ja(t,n,i){let u=Ol(t,n);return u>=0?t[1|u]=i:(u=~u,function(t,n,i,u){let f=t.length;if(f==n)t.push(i,u);else if(1===f)t.push(u,t[0]),t[0]=i;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=i,t[n+1]=u}}(t,u,n,i)),u}function bs(t,n){const i=Ol(t,n);if(i>=0)return t[1|i]}function Ol(t,n){return function(t,n,i){let u=0,f=t.length>>i;for(;f!==u;){const y=u+(f-u>>1),w=t[y<<i];if(n===w)return y<<i;w>n?f=y:u=y+1}return~(f<<i)}(t,n,1)}const Qa={},_u="__NG_DI_FLAG__",la="ngTempTokenPath",vu=/\n/gm,Hc="__source",Yu=he({provide:String,useValue:he});let ml;function Gl(t){const n=ml;return ml=t,n}function pc(t,n=cn.Default){if(void 0===ml)throw new Error("inject() must be called from an injection context");return null===ml?Tr(t,void 0,n):ml.get(t,n&cn.Optional?null:void 0,n)}function Ms(t,n=cn.Default){return(Zr||pc)(ce(t),n)}const Gc=Ms;function Ia(t){const n=[];for(let i=0;i<t.length;i++){const u=ce(t[i]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let f,y=cn.Default;for(let w=0;w<u.length;w++){const S=u[w],P=Qg(S);"number"==typeof P?-1===P?f=S.token:y|=P:f=S}n.push(Ms(f,y))}else n.push(Ms(u))}return n}function gc(t,n){return t[_u]=n,t.prototype[_u]=n,t}function Qg(t){return t[_u]}function Af(t,n,i,u){const f=t[la];throw n[Hc]&&f.unshift(n[Hc]),t.message=function(t,n,i,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let f=be(n);if(Array.isArray(n))f=n.map(be).join(" -> ");else if("object"==typeof n){let y=[];for(let w in n)if(n.hasOwnProperty(w)){let S=n[w];y.push(w+":"+("string"==typeof S?JSON.stringify(S):be(S)))}f=`{${y.join(", ")}}`}return`${i}${u?"("+u+")":""}[${f}]: ${t.replace(vu,"\n  ")}`}("\n"+t.message,f,i,u),t.ngTokenPath=f,t[la]=null,t}const Gs=gc(ss("Inject",t=>({token:t})),-1),yl=gc(ss("Optional"),8),Ha=gc(ss("SkipSelf"),4);let _l;function Ju(t){var n;return(null===(n=function(){if(void 0===_l&&(_l=null,xe.trustedTypes))try{_l=xe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return _l}())||void 0===n?void 0:n.createHTML(t))||t}class ua{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mc extends ua{getTypeName(){return"HTML"}}class Aa extends ua{getTypeName(){return"Style"}}class jd extends ua{getTypeName(){return"Script"}}class Hd extends ua{getTypeName(){return"URL"}}class R extends ua{getTypeName(){return"ResourceURL"}}function E(t){return t instanceof ua?t.changingThisBreaksApplicationSecurity:t}function T(t,n){const i=V(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function V(t){return t instanceof ua&&t.getTypeName()||null}function ie(t){return new mc(t)}function ye(t){return new Aa(t)}function _t(t){return new jd(t)}function Yt(t){return new Hd(t)}function jn(t){return new R(t)}class si{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ju(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class Es{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const u=this.inertDocument.createElement("body");i.appendChild(u)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Ju(n),i;const u=this.inertDocument.createElement("body");return u.innerHTML=Ju(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(n){const i=n.attributes;for(let f=i.length-1;0<f;f--){const w=i.item(f).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&n.removeAttribute(w)}let u=n.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const xa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qa(t){return(t=String(t)).match(xa)||t.match(qh)?t:"unsafe:"+t}function jo(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function wu(...t){const n={};for(const i of t)for(const u in i)i.hasOwnProperty(u)&&(n[u]=!0);return n}const Gd=jo("area,br,col,hr,img,wbr"),zl=jo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wl=jo("rp,rt"),Cu=wu(Gd,wu(zl,jo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wu(Wl,jo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wu(Wl,zl)),Zd=jo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$d=jo("srcset"),Rf=wu(Zd,$d,jo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yc=jo("script,style,template");class Tu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,u=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?u=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,u&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let f=this.checkClobberedElement(i,i.nextSibling);if(f){i=f;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Cu.hasOwnProperty(i))return this.sanitizedSomething=!0,!yc.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const u=n.attributes;for(let f=0;f<u.length;f++){const y=u.item(f),w=y.name,S=w.toLowerCase();if(!Rf.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let P=y.value;Zd[S]&&(P=qa(P)),$d[S]&&(t=P,P=(t=String(t)).split(",").map(n=>qa(n.trim())).join(", ")),this.buf.push(" ",w,'="',qp(P),'"')}var t;return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Cu.hasOwnProperty(i)&&!Gd.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(qp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const em=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hp=/([^\#-~ |!])/g;function qp(t){return t.replace(/&/g,"&amp;").replace(em,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Hp,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xu;function Wd(t,n){let i=null;try{Xu=Xu||function(t){const n=new Es(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ju(""),"text/html")}catch(t){return!1}}()?new si(n):n}(t);let u=n?String(n):"";i=Xu.getInertBodyElement(u);let f=5,y=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=y,y=i.innerHTML,i=Xu.getInertBodyElement(u)}while(u!==y);return Ju((new Tu).sanitizeChildren(Gp(i)||i))}finally{if(i){const u=Gp(i)||i;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Gp(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function gi(t){const n=function(){const t=Vt();return t&&t[12]}();return n?n.sanitize(Cr.URL,t)||"":T(t,"URL")?E(t):qa(Rt(t))}const ca="__ngContext__";function Xs(t,n){t[ca]=n}function wc(t){const n=function(t){return t[ca]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Oa(t){return t.ngOriginalError}function nm(t,...n){t.error(...n)}class Ql{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),u=this._findContext(n),f=(t=n)&&t.ngErrorLogger||nm;var t;f(this._console,"ERROR",n),i&&f(this._console,"ORIGINAL ERROR",i),u&&f(this._console,"ERROR CONTEXT",u)}_findContext(n){return n?n.ngDebugContext||this._findContext(Oa(n)):null}_findOriginalError(n){let i=n&&Oa(n);for(;i&&Oa(i);)i=Oa(i);return i||null}}const Gh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe))();function kl(t){return t instanceof Function?t():t}var Jl=(()=>((Jl=Jl||{})[Jl.Important=1]="Important",Jl[Jl.DashCase=2]="DashCase",Jl))();function Ga(t,n){return undefined(t,n)}function td(t){const n=t[3];return Gr(n)?n[3]:n}function zf(t){return Cs(t[13])}function Jp(t){return Cs(t[4])}function Cs(t){for(;null!==t&&!Gr(t);)t=t[4];return t}function Ji(t,n,i,u,f){if(null!=u){let y,w=!1;Gr(u)?y=u:Ai(u)&&(w=!0,u=u[0]);const S=ot(u);0===t&&null!==i?null==f?id(n,i,S):qo(n,i,S,f||null,!0):1===t&&null!==i?qo(n,i,S,f||null,!0):2===t?function(t,n,i){const u=tl(t,n);u&&function(t,n,i,u){wt(t)?t.removeChild(n,i,u):n.removeChild(i)}(t,u,n,i)}(n,S,w):3===t&&n.destroyNode(S),null!=y&&function(t,n,i,u,f){const y=i[7];y!==ot(i)&&Ji(n,t,u,y,f);for(let S=10;S<i.length;S++){const P=i[S];rc(P[1],P,t,n,u,y)}}(n,t,y,i,f)}}function Du(t,n,i){return wt(t)?t.createElement(n,i):null===i?t.createElement(n):t.createElementNS(i,n)}function ng(t,n){const i=t[9],u=i.indexOf(n),f=n[3];1024&n[2]&&(n[2]&=-1025,cl(f,-1)),i.splice(u,1)}function Yd(t,n){if(t.length<=10)return;const i=10+n,u=t[i];if(u){const f=u[17];null!==f&&f!==t&&ng(f,u),n>0&&(t[i-1][4]=u[4]);const y=pl(t,10+n);!function(t,n){rc(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(u[1],u);const w=y[19];null!==w&&w.detachView(y[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Qd(t,n){if(!(256&n[2])){const i=n[11];wt(i)&&i.destroyNode&&rc(t,n,i,3,null,null),function(t){let n=t[13];if(!n)return Jd(t[1],t);for(;n;){let i=null;if(Ai(n))i=n[13];else{const u=n[10];u&&(i=u)}if(!i){for(;n&&!n[4]&&n!==t;)Ai(n)&&Jd(n[1],n),n=n[3];null===n&&(n=t),Ai(n)&&Jd(n[1],n),i=n&&n[4]}n=i}}(n)}}function Jd(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let u=0;u<i.length;u+=2){const f=n[i[u]];if(!(f instanceof ba)){const y=i[u+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const S=f[y[w]],P=y[w+1];try{P.call(S)}finally{}}else try{y.call(f)}finally{}}}}(t,n),function(t,n){const i=t.cleanup,u=n[7];let f=-1;if(null!==i)for(let y=0;y<i.length-1;y+=2)if("string"==typeof i[y]){const w=i[y+1],S="function"==typeof w?w(n):ot(n[w]),P=u[f=i[y+2]],j=i[y+3];"boolean"==typeof j?S.removeEventListener(i[y],P,j):j>=0?u[f=j]():u[f=-j].unsubscribe(),y+=2}else{const w=u[f=i[y+1]];i[y].call(w)}if(null!==u){for(let y=f+1;y<u.length;y++)u[y]();n[7]=null}}(t,n),1===n[1].type&&wt(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&Gr(n[3])){i!==n[3]&&ng(i,n);const u=n[19];null!==u&&u.detachView(t)}}}function Xd(t,n,i){return function(t,n,i){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return i[0];if(2&u.flags){const f=t.data[u.directiveStart].encapsulation;if(f===Or.None||f===Or.Emulated)return null}return On(u,i)}(t,n.parent,i)}function qo(t,n,i,u,f){wt(t)?t.insertBefore(n,i,u,f):n.insertBefore(i,u,f)}function id(t,n,i){wt(t)?t.appendChild(n,i):n.appendChild(i)}function Yf(t,n,i,u,f){null!==u?qo(t,n,i,u,f):id(t,n,i)}function tl(t,n){return wt(t)?t.parentNode(n):n.parentNode}function da(t,n,i){return Mu(t,n,i)}let Mu=function(t,n,i){return 40&t.type?On(t,i):null};function nc(t,n,i,u){const f=Xd(t,u,n),y=n[11],S=da(u.parent||n[6],u,n);if(null!=f)if(Array.isArray(i))for(let P=0;P<i.length;P++)Yf(y,f,i[P],S,!1);else Yf(y,f,i,S,!1)}function Sc(t,n){if(null!==n){const i=n.type;if(3&i)return On(n,t);if(4&i)return th(-1,t[n.index]);if(8&i){const u=n.child;if(null!==u)return Sc(t,u);{const f=t[n.index];return Gr(f)?th(-1,f):ot(f)}}if(32&i)return Ga(n,t)()||ot(t[n.index]);{const u=Qf(t,n);return null!==u?Array.isArray(u)?u[0]:Sc(td(t[16]),u):Sc(t,n.next)}}return null}function Qf(t,n){return null!==n?t[16][6].projection[n.projection]:null}function th(t,n){const i=10+t+1;if(i<n.length){const u=n[i],f=u[1].firstChild;if(null!==f)return Sc(u,f)}return n[7]}function nh(t,n,i,u,f,y,w){for(;null!=i;){const S=u[i.index],P=i.type;if(w&&0===n&&(S&&Xs(ot(S),u),i.flags|=4),64!=(64&i.flags))if(8&P)nh(t,n,i.child,u,f,y,!1),Ji(n,t,f,S,y);else if(32&P){const j=Ga(i,u);let K;for(;K=j();)Ji(n,t,f,K,y);Ji(n,t,f,S,y)}else 16&P?vl(t,n,u,i,f,y):Ji(n,t,f,S,y);i=w?i.projectionNext:i.next}}function rc(t,n,i,u,f,y){nh(i,u,t.firstChild,n,f,y,!1)}function vl(t,n,i,u,f,y){const w=i[16],P=w[6].projection[u.projection];if(Array.isArray(P))for(let j=0;j<P.length;j++)Ji(n,t,f,P[j],y);else nh(t,n,P,w[3],f,y,!0)}function Ic(t,n,i){wt(t)?t.setAttribute(n,"style",i):n.style.cssText=i}function rh(t,n,i){wt(t)?""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i):n.className=i}function Jf(t,n,i){let u=t.length;for(;;){const f=t.indexOf(n,i);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const y=n.length;if(f+y===u||t.charCodeAt(f+y)<=32)return f}i=f+1}}const Ma="ng-template";function Dc(t,n,i){let u=0;for(;u<t.length;){let f=t[u++];if(i&&"class"===f){if(f=t[u],-1!==Jf(f.toLowerCase(),n,0))return!0}else if(1===f){for(;u<t.length&&"string"==typeof(f=t[u++]);)if(f.toLowerCase()===n)return!0;return!1}}return!1}function rg(t){return 4===t.type&&t.value!==Ma}function ig(t,n,i){return n===(4!==t.type||i?t.value:Ma)}function hm(t,n,i){let u=4;const f=t.attrs||[],y=function(t){for(let n=0;n<t.length;n++)if(_s(t[n]))return n;return t.length}(f);let w=!1;for(let S=0;S<n.length;S++){const P=n[S];if("number"!=typeof P){if(!w)if(4&u){if(u=2|1&u,""!==P&&!ig(t,P,i)||""===P&&1===n.length){if(ko(u))return!1;w=!0}}else{const j=8&u?P:n[++S];if(8&u&&null!==t.attrs){if(!Dc(t.attrs,j,i)){if(ko(u))return!1;w=!0}continue}const de=ha(8&u?"class":P,f,rg(t),i);if(-1===de){if(ko(u))return!1;w=!0;continue}if(""!==j){let me;me=de>y?"":f[de+1].toLowerCase();const Ze=8&u?me:null;if(Ze&&-1!==Jf(Ze,j,0)||2&u&&j!==me){if(ko(u))return!1;w=!0}}}}else{if(!w&&!ko(u)&&!ko(P))return!1;if(w&&ko(P))continue;w=!1,u=P|1&u}}return ko(u)||w}function ko(t){return 0==(1&t)}function ha(t,n,i,u){if(null===n)return-1;let f=0;if(u||!i){let y=!1;for(;f<n.length;){const w=n[f];if(w===t)return f;if(3===w||6===w)y=!0;else{if(1===w||2===w){let S=n[++f];for(;"string"==typeof S;)S=n[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=y?1:2}return-1}return function(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const u=t[i];if("number"==typeof u)return-1;if(u===n)return i;i++}return-1}(n,t)}function fm(t,n,i=!1){for(let u=0;u<n.length;u++)if(hm(t,n[u],i))return!0;return!1}function ih(t,n){e:for(let i=0;i<n.length;i++){const u=n[i];if(t.length===u.length){for(let f=0;f<t.length;f++)if(t[f]!==u[f])continue e;return!0}}return!1}function Xf(t,n){return t?":not("+n.trim()+")":n}function sg(t){let n=t[0],i=1,u=2,f="",y=!1;for(;i<t.length;){let w=t[i];if("string"==typeof w)if(2&u){const S=t[++i];f+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?f+="."+w:4&u&&(f+=" "+w);else""!==f&&!ko(w)&&(n+=Xf(y,f),f=""),u=w,y=y||!ko(u);i++}return""!==f&&(n+=Xf(y,f)),n}const Ar={};function Qh(t){ep(Wr(),Vt(),ir()+t,Pt())}function ep(t,n,i,u){if(!u)if(3==(3&n[2])){const y=t.preOrderCheckHooks;null!==y&&co(n,y,i)}else{const y=t.preOrderHooks;null!==y&&ys(n,y,0,i)}Vr(i)}function rl(t,n){return t<<17|n<<2}function fa(t){return t>>17&32767}function er(t){return 2|t}function ks(t){return(131068&t)>>2}function ds(t,n){return-131069&t|n<<2}function Jh(t){return 1|t}function lp(t,n){const i=t.contentQueries;if(null!==i)for(let u=0;u<i.length;u+=2){const f=i[u],y=i[u+1];if(-1!==y){const w=t.data[y];Yi(f),w.contentQueries(2,n[y],y)}}}function Nu(t,n,i,u,f,y,w,S,P,j){const K=n.blueprint.slice();return K[0]=f,K[2]=140|u,Do(K),K[3]=K[15]=t,K[8]=i,K[10]=w||t&&t[10],K[11]=S||t&&t[11],K[12]=P||t&&t[12]||null,K[9]=j||t&&t[9]||null,K[6]=y,K[16]=2==n.type?t[16]:K,K}function El(t,n,i,u,f){let y=t.data[n];if(null===y)y=function(t,n,i,u,f){const y=x(),w=fe(),P=t.data[n]=function(t,n,i,u,f,y){return{type:i,index:u,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,i,n,u,f);return null===t.firstChild&&(t.firstChild=P),null!==y&&(w?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P)),P}(t,n,i,u,f),hr.lFrame.inI18n&&(y.flags|=64);else if(64&y.type){y.type=i,y.value=u,y.attrs=f;const w=function(){const t=hr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return ee(y,!0),y}function wl(t,n,i,u){if(0===i)return-1;const f=n.length;for(let y=0;y<i;y++)n.push(u),t.blueprint.push(u),t.data.push(null);return f}function ch(t,n,i){js(n);try{const u=t.viewQuery;null!==u&&Nl(1,u,i);const f=t.template;null!==f&&ef(t,n,f,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&lp(t,n),t.staticViewQueries&&Nl(2,t.viewQuery,i);const y=t.components;null!==y&&function(t,n){for(let i=0;i<n.length;i++)Y(t,n[i])}(n,y)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{n[2]&=-5,ta()}}function il(t,n,i,u){const f=n[2];if(256==(256&f))return;js(n);const y=Pt();try{Do(n),function(t){hr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&ef(t,n,i,2,u);const w=3==(3&f);if(!y)if(w){const j=t.preOrderCheckHooks;null!==j&&co(n,j,null)}else{const j=t.preOrderHooks;null!==j&&ys(n,j,0,null),Wa(n,0)}if(function(t){for(let n=zf(t);null!==n;n=Jp(n)){if(!n[2])continue;const i=n[9];for(let u=0;u<i.length;u++){const f=i[u],y=f[3];0==(1024&f[2])&&cl(y,1),f[2]|=1024}}}(n),function(t){for(let n=zf(t);null!==n;n=Jp(n))for(let i=10;i<n.length;i++){const u=n[i],f=u[1];Ds(u)&&il(f,u,f.template,u[8])}}(n),null!==t.contentQueries&&lp(t,n),!y)if(w){const j=t.contentCheckHooks;null!==j&&co(n,j)}else{const j=t.contentHooks;null!==j&&ys(n,j,1),Wa(n,1)}!function(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let u=0;u<i.length;u++){const f=i[u];if(f<0)Vr(~f);else{const y=f,w=i[++u],S=i[++u];Ci(w,y),S(2,n[y])}}}finally{Vr(-1)}}(t,n);const S=t.components;null!==S&&function(t,n){for(let i=0;i<n.length;i++)v(t,n[i])}(n,S);const P=t.viewQuery;if(null!==P&&Nl(2,P,u),!y)if(w){const j=t.viewCheckHooks;null!==j&&co(n,j)}else{const j=t.viewHooks;null!==j&&ys(n,j,2),Wa(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),y||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,cl(n[3],-1))}finally{ta()}}function No(t,n,i,u){const f=n[10],y=!Pt(),w=Hi(n);try{y&&!w&&f.begin&&f.begin(),w&&ch(t,n,u),il(t,n,i,u)}finally{y&&!w&&f.end&&f.end()}}function ef(t,n,i,u,f){const y=ir(),w=2&u;try{Vr(-1),w&&n.length>20&&ep(t,n,20,Pt()),i(u,f)}finally{Vr(y)}}function dh(t,n,i){if(_o(n)){const f=n.directiveEnd;for(let y=n.directiveStart;y<f;y++){const w=t.data[y];w.contentQueries&&w.contentQueries(1,i[y],y)}}}function tf(t,n,i){!Zi()||(function(t,n,i,u){const f=i.directiveStart,y=i.directiveEnd;t.firstCreatePass||xt(i,n),Xs(u,n);const w=i.initialInputs;for(let S=f;S<y;S++){const P=t.data[S],j=Bi(P);j&&af(n,i,P);const K=Me(n,t,S,i);Xs(K,n),null!==w&&_d(0,S-f,K,P,0,w),j&&(Nn(i.index,n)[8]=K)}}(t,n,i,On(i,n)),128==(128&i.flags)&&function(t,n,i){const u=i.directiveStart,f=i.directiveEnd,w=i.index,S=hr.lFrame.currentDirectiveIndex;try{Vr(w);for(let P=u;P<f;P++){const j=t.data[P],K=n[P];Sr(P),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&ph(j,K)}}finally{Vr(-1),Sr(S)}}(t,n,i))}function dd(t,n,i=On){const u=n.localNames;if(null!==u){let f=n.index+1;for(let y=0;y<u.length;y+=2){const w=u[y+1],S=-1===w?i(n,t):t[w];t[f++]=S}}}function up(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Oc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Oc(t,n,i,u,f,y,w,S,P,j){const K=20+u,de=K+f,me=function(t,n){const i=[];for(let u=0;u<n;u++)i.push(u<t?null:Ar);return i}(K,de),Ze="function"==typeof j?j():j;return me[1]={type:t,blueprint:me,template:i,queries:null,viewQuery:S,declTNode:n,data:me.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:P,consts:Ze,incompleteFirstPass:!1}}function Ps(t,n,i,u){const f=oc(n);null===i?f.push(u):(f.push(i),t.firstCreatePass&&sl(t).push(u,f.length-1))}function hd(t,n,i){for(let u in t)if(t.hasOwnProperty(u)){const f=t[u];(i=null===i?{}:i).hasOwnProperty(u)?i[u].push(n,f):i[u]=[n,f]}return i}function pa(t,n,i,u,f,y,w,S){const P=On(n,i);let K,j=n.inputs;!S&&null!=j&&(K=j[u])?(vg(t,i,K,u,f),Gi(n)&&function(t,n){const i=Nn(n,t);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(u=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),f=null!=w?w(f,n.value||"",u):f,wt(y)?y.setProperty(P,u,f):Vl(u)||(P.setProperty?P.setProperty(u,f):P[u]=f))}function nu(t,n,i,u){let f=!1;if(Zi()){const y=function(t,n,i){const u=t.directiveRegistry;let f=null;if(u)for(let y=0;y<u.length;y++){const w=u[y];fm(i,w.selectors,!1)&&(f||(f=[]),Ul(xt(i,n),t,w.type),Bi(w)?(sf(t,i),f.unshift(w)):f.push(w))}return f}(t,n,i),w=null===u?null:{"":-1};if(null!==y){f=!0,md(i,t.data.length,y.length);for(let K=0;K<y.length;K++){const de=y[K];de.providersResolver&&de.providersResolver(de)}let S=!1,P=!1,j=wl(t,n,y.length,null);for(let K=0;K<y.length;K++){const de=y[K];i.mergedAttrs=vs(i.mergedAttrs,de.hostAttrs),yd(t,i,n,j,de),pp(j,de,w),null!==de.contentQueries&&(i.flags|=8),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(i.flags|=128);const me=de.type.prototype;!S&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),S=!0),!P&&(me.ngOnChanges||me.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),P=!0),j++}!function(t,n){const u=n.directiveEnd,f=t.data,y=n.attrs,w=[];let S=null,P=null;for(let j=n.directiveStart;j<u;j++){const K=f[j],de=K.inputs,me=null===y||rg(n)?null:Vu(de,y);w.push(me),S=hd(de,j,S),P=hd(K.outputs,j,P)}null!==S&&(S.hasOwnProperty("class")&&(n.flags|=16),S.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=w,n.inputs=S,n.outputs=P}(t,i)}w&&function(t,n,i){if(n){const u=t.localNames=[];for(let f=0;f<n.length;f+=2){const y=i[n[f+1]];if(null==y)throw new Zt("301",`Export of name '${n[f+1]}' not found!`);u.push(n[f],y)}}}(i,u,w)}return i.mergedAttrs=vs(i.mergedAttrs,i.attrs),f}function sc(t,n,i,u,f,y){const w=y.hostBindings;if(w){let S=t.hostBindingOpCodes;null===S&&(S=t.hostBindingOpCodes=[]);const P=~n.index;(function(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(S)!=P&&S.push(P),S.push(u,f,w)}}function ph(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function sf(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function pp(t,n,i){if(i){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)i[n.exportAs[u]]=t;Bi(n)&&(i[""]=t)}}function md(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function yd(t,n,i,u,f){t.data[u]=f;const y=f.factory||(f.factory=ts(f.type)),w=new ba(y,Bi(f),null);t.blueprint[u]=w,i[u]=w,sc(t,n,0,u,wl(t,i,f.hostVars,Ar),f)}function af(t,n,i){const u=On(n,t),f=up(i),y=t[10],w=Mt(t,Nu(t,f,null,i.onPush?64:16,u,n,y,y.createRenderer(u,i),null,null));t[n.index]=w}function Pl(t,n,i,u,f,y){const w=On(t,n);!function(t,n,i,u,f,y,w){if(null==y)wt(t)?t.removeAttribute(n,f,i):n.removeAttribute(f);else{const S=null==w?Rt(y):w(y,u||"",f);wt(t)?t.setAttribute(n,f,S,i):i?n.setAttributeNS(i,f,S):n.setAttribute(f,S)}}(n[11],w,y,t.value,i,u,f)}function _d(t,n,i,u,f,y){const w=y[n];if(null!==w){const S=u.setInput;for(let P=0;P<w.length;){const j=w[P++],K=w[P++],de=w[P++];null!==S?u.setInput(i,de,j,K):i[K]=de}}}function Vu(t,n){let i=null,u=0;for(;u<n.length;){const f=n[u];if(0!==f)if(5!==f){if("number"==typeof f)break;t.hasOwnProperty(f)&&(null===i&&(i=[]),i.push(f,t[f],n[u+1])),u+=2}else u+=2;else u+=4}return i}function _(t,n,i,u){return new Array(t,!0,!1,n,null,0,u,i,null,null)}function v(t,n){const i=Nn(n,t);if(Ds(i)){const u=i[1];80&i[2]?il(u,i,u.template,i[8]):i[5]>0&&F(i)}}function F(t){for(let u=zf(t);null!==u;u=Jp(u))for(let f=10;f<u.length;f++){const y=u[f];if(1024&y[2]){const w=y[1];il(w,y,w.template,y[8])}else y[5]>0&&F(y)}const i=t[1].components;if(null!==i)for(let u=0;u<i.length;u++){const f=Nn(i[u],t);Ds(f)&&f[5]>0&&F(f)}}function Y(t,n){const i=Nn(n,t),u=i[1];(function(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(u,i),ch(u,i,i[8])}function Mt(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Gt(t){for(;t;){t[2]|=64;const n=td(t);if(zs(t)&&!n)return t;t=n}return null}function mi(t,n,i){const u=n[10];u.begin&&u.begin();try{il(t,n,t.template,i)}catch(f){throw _g(n,f),f}finally{u.end&&u.end()}}function Zo(t){!function(t){for(let n=0;n<t.components.length;n++){const i=t.components[n],u=wc(i),f=u[1];No(f,u,f.template,i)}}(t[8])}function Nl(t,n,i){Yi(0),n(t,i)}const gp=(()=>Promise.resolve(null))();function oc(t){return t[7]||(t[7]=[])}function sl(t){return t.cleanup||(t.cleanup=[])}function _g(t,n){const i=t[9],u=i?i.get(Ql,null):null;u&&u.handleError(n)}function vg(t,n,i,u,f){for(let y=0;y<i.length;){const w=i[y++],S=i[y++],P=n[w],j=t.data[w];null!==j.setInput?j.setInput(P,f,u,S):P[S]=f}}function Pc(t,n,i){const u=Sn(n,t);!function(t,n,i){wt(t)?t.setValue(n,i):n.textContent=i}(t[11],u,i)}function mp(t,n,i){let u=i?t.styles:null,f=i?t.classes:null,y=0;if(null!==n)for(let w=0;w<n.length;w++){const S=n[w];"number"==typeof S?y=S:1==y?f=Ke(f,S):2==y&&(u=Ke(u,S+": "+n[++w]+";"))}i?t.styles=u:t.stylesWithoutHost=u,i?t.classes=f:t.classesWithoutHost=f}const Fl=new Pi("INJECTOR",-1);class wg{get(n,i=Qa){if(i===Qa){const u=new Error(`NullInjectorError: No provider for ${be(n)}!`);throw u.name="NullInjectorError",u}return i}}const Ll=new Pi("Set Injector scope."),ru={},uy={};let ac;function yp(){return void 0===ac&&(ac=new wg),ac}function Cg(t,n=null,i=null,u){return new vd(t,i,n||yp(),u)}class vd{constructor(n,i,u,f=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];i&&Ya(i,S=>this.processProvider(S,n,i)),Ya([n],S=>this.processInjectorType(S,[],y)),this.records.set(Fl,Nc(void 0,this));const w=this.records.get(Ll);this.scope=null!=w?w.value:null,this.source=f||("object"==typeof n?null:be(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=Qa,u=cn.Default){this.assertNotDestroyed();const f=Gl(this),y=$r(void 0);try{if(!(u&cn.SkipSelf)){let S=this.records.get(n);if(void 0===S){const P=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Pi)&&vn(n);S=P&&this.injectableDefInScope(P)?Nc(vp(n),ru):null,this.records.set(n,S)}if(null!=S)return this.hydrate(n,S)}return(u&cn.Self?yp():this.parent).get(n,i=u&cn.Optional&&i===Qa?null:i)}catch(w){if("NullInjectorError"===w.name){if((w[la]=w[la]||[]).unshift(be(n)),f)throw w;return Af(w,n,"R3InjectorError",this.source)}throw w}finally{$r(y),Gl(f)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((u,f)=>n.push(be(f))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,u){if(!(n=ce(n)))return!1;let f=Yr(n);const y=null==f&&n.ngModule||void 0,w=void 0===y?n:y,S=-1!==u.indexOf(w);if(void 0!==y&&(f=Yr(y)),null==f)return!1;if(null!=f.imports&&!S){let K;u.push(w);try{Ya(f.imports,de=>{this.processInjectorType(de,i,u)&&(void 0===K&&(K=[]),K.push(de))})}finally{}if(void 0!==K)for(let de=0;de<K.length;de++){const{ngModule:me,providers:Ze}=K[de];Ya(Ze,rt=>this.processProvider(rt,me,Ze||De))}}this.injectorDefTypes.add(w);const P=ts(w)||(()=>new w);this.records.set(w,Nc(P,ru));const j=f.providers;if(null!=j&&!S){const K=n;Ya(j,de=>this.processProvider(de,K,j))}return void 0!==y&&void 0!==n.providers}processProvider(n,i,u){let f=lf(n=ce(n))?n:ce(n&&n.provide);const y=(t=n,Sg(t)?Nc(void 0,t.useValue):Nc(cy(t),ru));var t;if(lf(n)||!0!==n.multi)this.records.get(f);else{let w=this.records.get(f);w||(w=Nc(void 0,ru,!0),w.factory=()=>Ia(w.multi),this.records.set(f,w)),f=n,w.multi.push(n)}this.records.set(f,y)}hydrate(n,i){return i.value===ru&&(i.value=uy,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(t=i.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ce(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function vp(t){const n=vn(t),i=null!==n?n.factory:ts(t);if(null!==i)return i;if(t instanceof Pi)throw new Error(`Token ${be(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const u=Ti(n,"?");throw new Error(`Can't resolve all parameters for ${be(t)}: (${u.join(", ")}).`)}const i=function(t){const n=t&&(t[tr]||t[ti]);if(n){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function cy(t,n,i){let u;if(lf(t)){const f=ce(t);return ts(f)||vp(f)}if(Sg(t))u=()=>ce(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Ia(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))u=()=>Ms(ce(t.useExisting));else{const f=ce(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ts(f)||vp(f);u=()=>new f(...Ia(t.deps))}return u}function Nc(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Sg(t){return null!==t&&"object"==typeof t&&Yu in t}function lf(t){return"function"==typeof t}const Sm=function(t,n,i){return function(t,n=null,i=null,u){const f=Cg(t,n,i,u);return f._resolveInjectorDefTypes(),f}({name:i},n,t,i)};let $s=(()=>{class t{static create(i,u){return Array.isArray(i)?Sm(i,u,""):Sm(i.providers,i.parent,i.name||"")}}return t.THROW_IF_NOT_FOUND=Qa,t.NULL=new wg,t.\u0275prov=Un({token:t,providedIn:"any",factory:()=>Ms(Fl)}),t.__NG_ELEMENT_ID__=-1,t})();function Mm(t,n){Lo(wc(t)[1],D())}function Ng(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const u=[t];for(;n;){let f;if(Bi(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");f=n.\u0275dir}if(f){if(i){u.push(f);const w=t;w.inputs=Ey(t.inputs),w.declaredInputs=Ey(t.declaredInputs),w.outputs=Ey(t.outputs);const S=f.hostBindings;S&&Cy(t,S);const P=f.viewQuery,j=f.contentQueries;if(P&&l_(t,P),j&&wy(t,j),Ve(t.inputs,f.inputs),Ve(t.declaredInputs,f.declaredInputs),Ve(t.outputs,f.outputs),Bi(f)&&f.data.animation){const K=t.data;K.animation=(K.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let w=0;w<y.length;w++){const S=y[w];S&&S.ngInherit&&S(t),S===Ng&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,i=null;for(let u=t.length-1;u>=0;u--){const f=t[u];f.hostVars=n+=f.hostVars,f.hostAttrs=vs(f.hostAttrs,i=vs(i,f.hostAttrs))}}(u)}function Ey(t){return t===Fe?{}:t===De?[]:t}function l_(t,n){const i=t.viewQuery;t.viewQuery=i?(u,f)=>{n(u,f),i(u,f)}:n}function wy(t,n){const i=t.contentQueries;t.contentQueries=i?(u,f,y)=>{n(u,f,y),i(u,f,y)}:n}function Cy(t,n){const i=t.hostBindings;t.hostBindings=i?(u,f)=>{n(u,f),i(u,f)}:n}let mh=null;function Ed(){if(!mh){const t=xe.Symbol;if(t&&t.iterator)mh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const u=n[i];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(mh=u)}}}return mh}class ol{constructor(n){this.wrapped=n}static wrap(n){return new ol(n)}static unwrap(n){return ol.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof ol}}function yh(t){return!!su(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ed()in t)}function su(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ou(t,n,i){return t[n]=i}function so(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function uc(t,n,i,u){const f=so(t,n,i);return so(t,n+1,u)||f}function Fg(t,n,i,u){const f=Vt();return so(f,qn(),n)&&(Wr(),Pl(Bn(),f,t,n,i,u)),Fg}function au(t,n,i,u){return so(t,qn(),i)?n+Rt(i)+u:Ar}function vh(t,n,i,u,f,y,w,S){const j=function(t,n,i,u,f){const y=uc(t,n,i,u);return so(t,n+2,f)||y}(t,nr(),i,f,w);return ar(3),j?n+Rt(i)+u+Rt(f)+y+Rt(w)+S:Ar}function wi(t,n,i,u,f,y,w,S){const P=Vt(),j=Wr(),K=t+20,de=j.firstCreatePass?function(t,n,i,u,f,y,w,S,P){const j=n.consts,K=El(n,t,4,w||null,gs(j,S));nu(n,i,K,gs(j,P)),Lo(n,K);const de=K.tViews=Oc(2,K,u,f,y,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j);return null!==n.queries&&(n.queries.template(n,K),de.queries=n.queries.embeddedTView(K)),K}(K,j,P,n,i,u,f,y,w):j.data[K];ee(de,!1);const me=P[11].createComment("");nc(j,P,me,de),Xs(me,P),Mt(P,P[K]=_(me,P,me,de)),es(de)&&tf(j,P,de),null!=w&&dd(P,de,S)}function Bg(t){return gr(hr.lFrame.contextLView,20+t)}function Th(t,n=cn.Default){const i=Vt();return null===i?Ms(t,n):M(D(),i,ce(t),n)}function Rp(t,n,i){const u=Vt();return so(u,qn(),n)&&pa(Wr(),Bn(),u,t,n,u[11],i,!1),Rp}function $a(t,n,i,u,f){const w=f?"class":"style";vg(t,i,n.inputs[w],w,u)}function $o(t,n,i,u){const f=Vt(),y=Wr(),w=20+t,S=f[11],P=f[w]=Du(S,n,hr.lFrame.currentNamespace),j=y.firstCreatePass?function(t,n,i,u,f,y,w){const S=n.consts,j=El(n,t,2,f,gs(S,y));return nu(n,i,j,gs(S,w)),null!==j.attrs&&mp(j,j.attrs,!1),null!==j.mergedAttrs&&mp(j,j.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,j),j}(w,y,f,0,n,i,u):y.data[w];ee(j,!0);const K=j.mergedAttrs;null!==K&&fl(S,P,K);const de=j.classes;null!==de&&rh(S,P,de);const me=j.styles;null!==me&&Ic(S,P,me),64!=(64&j.flags)&&nc(y,f,P,j),0===hr.lFrame.elementDepthCount&&Xs(P,f),hr.lFrame.elementDepthCount++,es(j)&&(tf(y,f,j),dh(y,j,f)),null!==u&&dd(f,j)}function u_(){let t=D();fe()?Ne():(t=t.parent,ee(t,!1));const n=t;hr.lFrame.elementDepthCount--;const i=Wr();i.firstCreatePass&&(Lo(i,t),_o(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&$a(i,n,Vt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&$a(i,n,Vt(),n.stylesWithoutHost,!1)}function Gm(t,n,i,u){$o(t,n,i,u),u_()}function kp(t,n,i){const u=Vt(),f=Wr(),y=t+20,w=f.firstCreatePass?function(t,n,i,u,f){const y=n.consts,w=gs(y,u),S=El(n,t,8,"ng-container",w);return null!==w&&mp(S,w,!0),nu(n,i,S,gs(y,f)),null!==n.queries&&n.queries.elementStart(n,S),S}(y,f,u,n,i):f.data[y];ee(w,!0);const S=u[y]=u[11].createComment("");nc(f,u,S,w),Xs(S,u),es(w)&&(tf(f,u,w),dh(f,w,u)),null!=i&&dd(u,w)}function d_(){let t=D();const n=Wr();fe()?Ne():(t=t.parent,ee(t,!1)),n.firstCreatePass&&(Lo(n,t),_o(t)&&n.queries.elementEnd(t))}function Zm(t,n,i){kp(t,n,i),d_()}function yf(){return Vt()}function Lc(t){return!!t&&"function"==typeof t.then}function qg(t){return!!t&&"function"==typeof t.subscribe}const Sd=qg;function h_(t,n,i,u){const f=Vt(),y=Wr(),w=D();return function(t,n,i,u,f,y,w,S){const P=es(u),K=t.firstCreatePass&&sl(t),de=n[8],me=oc(n);let Ze=!0;if(3&u.type||S){const Et=On(u,n),bn=S?S(Et):Et,Qt=me.length,xr=S?ei=>S(ot(ei[u.index])):u.index;if(wt(i)){let ei=null;if(!S&&P&&(ei=function(t,n,i,u){const f=t.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const w=f[y];if(w===i&&f[y+1]===u){const S=n[7],P=f[y+2];return S.length>P?S[P]:null}"string"==typeof w&&(y+=2)}return null}(t,n,f,u.index)),null!==ei)(ei.__ngLastListenerFn__||ei).__ngNextListenerFn__=y,ei.__ngLastListenerFn__=y,Ze=!1;else{y=p_(u,n,de,y,!1);const Ui=i.listen(bn,f,y);me.push(y,Ui),K&&K.push(f,xr,Qt,Qt+1)}}else y=p_(u,n,de,y,!0),bn.addEventListener(f,y,w),me.push(y),K&&K.push(f,xr,Qt,w)}else y=p_(u,n,de,y,!1);const rt=u.outputs;let Lt;if(Ze&&null!==rt&&(Lt=rt[f])){const Et=Lt.length;if(Et)for(let bn=0;bn<Et;bn+=2){const ll=n[Lt[bn]][Lt[bn+1]].subscribe(y),xd=me.length;me.push(y,ll),K&&K.push(f,u.index,xd,-(xd+1))}}}(y,f,f[11],w,t,n,!!i,u),h_}function Ih(t,n,i,u){try{return!1!==i(u)}catch(f){return _g(t,f),!1}}function p_(t,n,i,u,f){return function y(w){if(w===Function)return u;const S=2&t.flags?Nn(t.index,n):n;0==(32&n[2])&&Gt(S);let P=Ih(n,0,u,w),j=y.__ngNextListenerFn__;for(;j;)P=Ih(n,0,j,w)&&P,j=j.__ngNextListenerFn__;return f&&!1===P&&(w.preventDefault(),w.returnValue=!1),P}}function cv(t=1){return function(t){return(hr.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,hr.lFrame.contextLView))[8]}(t)}function fb(t,n){let i=null;const u=function(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let f=0;f<n.length;f++){const y=n[f];if("*"!==y){if(null===u?fm(t,y,!0):ih(u,y))return f}else i=f}return i}function dv(t){const n=Vt()[16][6];if(!n.projection){const u=n.projection=Ti(t?t.length:1,null),f=u.slice();let y=n.child;for(;null!==y;){const w=t?fb(y,t):0;null!==w&&(f[w]?f[w].projectionNext=y:u[w]=y,f[w]=y),y=y.next}}}function g_(t,n=0,i){const u=Vt(),f=Wr(),y=El(f,20+t,16,null,i||null);null===y.projection&&(y.projection=n),Ne(),64!=(64&y.flags)&&function(t,n,i){vl(n[11],0,n,i,Xd(t,i,n),da(i.parent||n[6],i,n))}(f,u,y)}function Ry(t,n,i,u,f){const y=Vt(),w=au(y,n,i,u);return w!==Ar&&pa(Wr(),Bn(),y,t,w,y[11],f,!1),Ry}function ky(t,n,i,u,f){const y=t[i+1],w=null===n;let S=u?fa(y):ks(y),P=!1;for(;0!==S&&(!1===P||w);){const K=t[S+1];Py(t[S],n)&&(P=!0,t[S+1]=u?Jh(K):er(K)),S=u?fa(K):ks(K)}P&&(t[i+1]=u?er(y):Jh(y))}function Py(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ol(t,n)>=0}const Pa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function b_(t){return t.substring(Pa.key,Pa.keyEnd)}function vf(t,n){const i=Pa.textEnd;return i===n?-1:(n=Pa.keyEnd=function(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Pa.key=n,i),Zg(t,n,i))}function Zg(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function w_(t,n,i){return Vc(t,n,i,!1),w_}function bf(t,n){return Vc(t,n,null,!0),bf}function Id(t,n){for(let i=function(t){return function(t){Pa.key=0,Pa.keyEnd=0,Pa.value=0,Pa.valueEnd=0,Pa.textEnd=t.length}(t),vf(t,Zg(t,0,Pa.textEnd))}(n);i>=0;i=vf(n,i))ja(t,b_(n),!0)}function Vc(t,n,i,u){const f=Vt(),y=Wr(),w=ar(2);y.firstUpdatePass&&Cv(y,t,w,u),n!==Ar&&so(f,w,n)&&Ny(y,y.data[ir()],f,f[11],t,f[w+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=be(E(t)))),t}(n,i),u,w)}function wv(t,n){return n>=t.expandoStartIndex}function Cv(t,n,i,u){const f=t.data;if(null===f[i+1]){const y=f[ir()],w=wv(t,i);zm(y,u)&&null===n&&!w&&(n=!1),n=function(t,n,i,u){const f=function(t){const n=hr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let y=u?n.residualClasses:n.residualStyles;if(null===f)0===(u?n.classBindings:n.styleBindings)&&(i=Pp(i=C_(null,t,n,i,u),n.attrs,u),y=null);else{const w=n.directiveStylingLast;if(-1===w||t[w]!==f)if(i=C_(f,t,n,i,u),null===y){let P=function(t,n,i){const u=i?n.classBindings:n.styleBindings;if(0!==ks(u))return t[fa(u)]}(t,n,u);void 0!==P&&Array.isArray(P)&&(P=C_(null,t,n,P[1],u),P=Pp(P,n.attrs,u),function(t,n,i,u){t[fa(i?n.classBindings:n.styleBindings)]=u}(t,n,u,P))}else y=function(t,n,i){let u;const f=n.directiveEnd;for(let y=1+n.directiveStylingLast;y<f;y++)u=Pp(u,t[y].hostAttrs,i);return Pp(u,n.attrs,i)}(t,n,u)}return void 0!==y&&(u?n.residualClasses=y:n.residualStyles=y),i}(f,y,n,u),function(t,n,i,u,f,y){let w=y?n.classBindings:n.styleBindings,S=fa(w),P=ks(w);t[u]=i;let K,j=!1;if(Array.isArray(i)){const de=i;K=de[1],(null===K||Ol(de,K)>0)&&(j=!0)}else K=i;if(f)if(0!==P){const me=fa(t[S+1]);t[u+1]=rl(me,S),0!==me&&(t[me+1]=ds(t[me+1],u)),t[S+1]=function(t,n){return 131071&t|n<<17}(t[S+1],u)}else t[u+1]=rl(S,0),0!==S&&(t[S+1]=ds(t[S+1],u)),S=u;else t[u+1]=rl(P,0),0===S?S=u:t[P+1]=ds(t[P+1],u),P=u;j&&(t[u+1]=er(t[u+1])),ky(t,K,u,!0),ky(t,K,u,!1),function(t,n,i,u,f){const y=f?t.residualClasses:t.residualStyles;null!=y&&"string"==typeof n&&Ol(y,n)>=0&&(i[u+1]=Jh(i[u+1]))}(n,K,t,u,y),w=rl(S,P),y?n.classBindings=w:n.styleBindings=w}(f,y,n,i,w,u)}}function C_(t,n,i,u,f){let y=null;const w=i.directiveEnd;let S=i.directiveStylingLast;for(-1===S?S=i.directiveStart:S++;S<w&&(y=n[S],u=Pp(u,y.hostAttrs,f),y!==t);)S++;return null!==t&&(i.directiveStylingLast=S),u}function Pp(t,n,i){const u=i?1:2;let f=-1;if(null!==n)for(let y=0;y<n.length;y++){const w=n[y];"number"==typeof w?f=w:f===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ja(t,w,!!i||n[++y]))}return void 0===t?null:t}function Ny(t,n,i,u,f,y,w,S){if(!(3&n.type))return;const P=t.data,j=P[S+1];Fy(function(t){return 1==(1&t)}(j)?Iv(P,n,i,f,ks(j),w):void 0)||(Fy(y)||function(t){return 2==(2&t)}(j)&&(y=Iv(P,null,i,f,S,w)),function(t,n,i,u,f){const y=wt(t);if(n)f?y?t.addClass(i,u):i.classList.add(u):y?t.removeClass(i,u):i.classList.remove(u);else{let w=-1===u.indexOf("-")?void 0:Jl.DashCase;if(null==f)y?t.removeStyle(i,u,w):i.style.removeProperty(u);else{const S="string"==typeof f&&f.endsWith("!important");S&&(f=f.slice(0,-10),w|=Jl.Important),y?t.setStyle(i,u,f,w):i.style.setProperty(u,f,S?"important":"")}}}(u,w,Sn(ir(),i),f,y))}function Iv(t,n,i,u,f,y){const w=null===n;let S;for(;f>0;){const P=t[f],j=Array.isArray(P),K=j?P[1]:P,de=null===K;let me=i[f+1];me===Ar&&(me=de?De:void 0);let Ze=de?bs(me,u):K===u?me:void 0;if(j&&!Fy(Ze)&&(Ze=bs(P,u)),Fy(Ze)&&(S=Ze,w))return S;const rt=t[f+1];f=w?fa(rt):ks(rt)}if(null!==n){let P=y?n.residualClasses:n.residualStyles;null!=P&&(S=bs(P,u))}return S}function Fy(t){return void 0!==t}function zm(t,n){return 0!=(t.flags&(n?16:32))}function Av(t,n=""){const i=Vt(),u=Wr(),f=t+20,y=u.firstCreatePass?El(u,f,1,n,null):u.data[f],w=i[f]=function(t,n){return wt(t)?t.createText(n):t.createTextNode(n)}(i[11],n);nc(u,i,w,y),ee(y,!1)}function Ly(t){return Wm("",t,""),Ly}function Wm(t,n,i){const u=Vt(),f=au(u,t,n,i);return f!==Ar&&Pc(u,ir(),f),Wm}function Dh(t,n,i,u,f){const y=Vt(),w=function(t,n,i,u,f,y){const S=uc(t,nr(),i,f);return ar(2),S?n+Rt(i)+u+Rt(f)+y:Ar}(y,t,n,i,u,f);return w!==Ar&&Pc(y,ir(),w),Dh}function cu(t,n,i,u,f,y,w){const S=Vt(),P=vh(S,t,n,i,u,f,y,w);return P!==Ar&&Pc(S,ir(),P),cu}function xv(t,n,i){!function(t,n,i,u){const f=Wr(),y=ar(2);f.firstUpdatePass&&Cv(f,null,y,u);const w=Vt();if(i!==Ar&&so(w,y,i)){const S=f.data[ir()];if(zm(S,u)&&!wv(f,y)){let P=u?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(i=Ke(P,i||"")),$a(f,S,w,i,u)}else!function(t,n,i,u,f,y,w,S){f===Ar&&(f=De);let P=0,j=0,K=0<f.length?f[0]:null,de=0<y.length?y[0]:null;for(;null!==K||null!==de;){const me=P<f.length?f[P+1]:void 0,Ze=j<y.length?y[j+1]:void 0;let Lt,rt=null;K===de?(P+=2,j+=2,me!==Ze&&(rt=de,Lt=Ze)):null===de||null!==K&&K<de?(P+=2,rt=K):(j+=2,rt=de,Lt=Ze),null!==rt&&Ny(t,n,i,u,rt,Lt,w,S),K=P<f.length?f[P]:null,de=j<y.length?y[j]:null}}(f,S,w,w[11],w[y+1],w[y+1]=function(t,n,i){if(null==i||""===i)return De;const u=[],f=E(i);if(Array.isArray(f))for(let y=0;y<f.length;y++)t(u,f[y],!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&t(u,y,f[y]);else"string"==typeof f&&n(u,f);return u}(t,n,i),u,y)}}(ja,Id,au(Vt(),t,n,i),!0)}function k_(t,n,i){const u=Vt();return so(u,qn(),n)&&pa(Wr(),Bn(),u,t,n,u[11],i,!0),k_}const wf=void 0;var HE=["en",[["a","p"],["AM","PM"],wf],[["AM","PM"],wf,wf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wf,"{1} 'at' {0}",wf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let s={};function r(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=b(n);if(i)return i;const u=n.split("-")[0];if(i=b(u),i)return i;if("en"===u)return HE;throw new Error(`Missing locale data for the locale "${t}".`)}function p(t){return r(t)[N.PluralCase]}function b(t){return t in s||(s[t]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[t]),s[t]}var N=(()=>((N=N||{})[N.LocaleId=0]="LocaleId",N[N.DayPeriodsFormat=1]="DayPeriodsFormat",N[N.DayPeriodsStandalone=2]="DayPeriodsStandalone",N[N.DaysFormat=3]="DaysFormat",N[N.DaysStandalone=4]="DaysStandalone",N[N.MonthsFormat=5]="MonthsFormat",N[N.MonthsStandalone=6]="MonthsStandalone",N[N.Eras=7]="Eras",N[N.FirstDayOfWeek=8]="FirstDayOfWeek",N[N.WeekendRange=9]="WeekendRange",N[N.DateFormat=10]="DateFormat",N[N.TimeFormat=11]="TimeFormat",N[N.DateTimeFormat=12]="DateTimeFormat",N[N.NumberSymbols=13]="NumberSymbols",N[N.NumberFormats=14]="NumberFormats",N[N.CurrencyCode=15]="CurrencyCode",N[N.CurrencySymbol=16]="CurrencySymbol",N[N.CurrencyName=17]="CurrencyName",N[N.Currencies=18]="Currencies",N[N.Directionality=19]="Directionality",N[N.PluralCase=20]="PluralCase",N[N.ExtraData=21]="ExtraData",N))();const qe="en-US";let Vi=qe;function hs(t){on(t,"Expected localeId to be defined"),"string"==typeof t&&(Vi=t.toLowerCase().replace(/_/g,"-"))}function kb(t,n,i,u,f){if(t=ce(t),Array.isArray(t))for(let y=0;y<t.length;y++)kb(t[y],n,i,u,f);else{const y=Wr(),w=Vt();let S=lf(t)?t:ce(t.provide),P=cy(t);const j=D(),K=1048575&j.providerIndexes,de=j.directiveStart,me=j.providerIndexes>>20;if(lf(t)||!t.multi){const Ze=new ba(P,f,Th),rt=Nb(S,n,f?K:K+me,de);-1===rt?(Ul(xt(j,w),y,S),Pb(y,t,n.length),n.push(S),j.directiveStart++,j.directiveEnd++,f&&(j.providerIndexes+=1048576),i.push(Ze),w.push(Ze)):(i[rt]=Ze,w[rt]=Ze)}else{const Ze=Nb(S,n,K+me,de),rt=Nb(S,n,K,K+me),Lt=Ze>=0&&i[Ze],Et=rt>=0&&i[rt];if(f&&!Et||!f&&!Lt){Ul(xt(j,w),y,S);const bn=function(t,n,i,u,f){const y=new ba(t,i,Th);return y.multi=[],y.index=n,y.componentProviders=0,lw(y,f,u&&!i),y}(f?_T:yT,i.length,f,u,P);!f&&Et&&(i[rt].providerFactory=bn),Pb(y,t,n.length,0),n.push(S),j.directiveStart++,j.directiveEnd++,f&&(j.providerIndexes+=1048576),i.push(bn),w.push(bn)}else Pb(y,t,Ze>-1?Ze:rt,lw(i[f?rt:Ze],P,!f&&u));!f&&u&&Et&&i[rt].componentProviders++}}}function Pb(t,n,i,u){const f=lf(n);if(f||function(t){return!!t.useClass}(n)){const w=(n.useClass||n).prototype.ngOnDestroy;if(w){const S=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const P=S.indexOf(i);-1===P?S.push(i,[u,w]):S[P+1].push(u,w)}else S.push(i,w)}}}function lw(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Nb(t,n,i,u){for(let f=i;f<u;f++)if(n[f]===t)return f;return-1}function yT(t,n,i,u){return Fb(this.multi,[])}function _T(t,n,i,u){const f=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=Me(i,i[1],this.providerFactory.index,u);y=S.slice(0,w),Fb(f,y);for(let P=w;P<S.length;P++)y.push(S[P])}else y=[],Fb(f,y);return y}function Fb(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function uw(t,n=[]){return i=>{i.providersResolver=(u,f)=>function(t,n,i){const u=Wr();if(u.firstCreatePass){const f=Bi(t);kb(i,u.data,u.blueprint,f,!0),kb(n,u.data,u.blueprint,f,!1)}}(u,f?f(t):t,n)}}class cw{}const hw="ngComponent";class ET{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${be(t)}. Did you add it to @NgModule.entryComponents?`);return n[hw]=t,n}(n)}}let jy=(()=>{class t{}return t.NULL=new ET,t})();function Bv(...t){}function Hy(t,n){return new Cf(On(t,n))}const TT=function(){return Hy(D(),Vt())};let Cf=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=TT,t})();function fw(t){return t instanceof Cf?t.nativeElement:t}class jv{}let ST=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>DT(),t})();const DT=function(){const t=Vt(),i=Nn(D().index,t);return function(t){return t[11]}(Ai(i)?i:t)};let Vb=(()=>{class t{}return t.\u0275prov=Un({token:t,providedIn:"root",factory:()=>null}),t})();class pw{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Ub=new pw("12.2.16");class gw{constructor(){}supports(n){return yh(n)}create(n){return new MT(n)}}const OT=(t,n)=>n;class MT{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OT}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,u=this._removalsHead,f=0,y=null;for(;i||u;){const w=!u||i&&i.currentIndex<yw(u,f,y)?i:u,S=yw(w,f,y),P=w.currentIndex;if(w===u)f--,u=u._nextRemoved;else if(i=i._next,null==w.previousIndex)f++;else{y||(y=[]);const j=S-f,K=P-f;if(j!=K){for(let me=0;me<j;me++){const Ze=me<y.length?y[me]:y[me]=0,rt=Ze+me;K<=rt&&rt<j&&(y[me]=Ze+1)}y[w.previousIndex]=K-j}}S!==P&&n(w,S,P)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!yh(n))throw new Error(`Error trying to diff '${be(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,y,w,i=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let S=0;S<this.length;S++)y=n[S],w=this._trackByFn(S,y),null!==i&&Object.is(i.trackById,w)?(u&&(i=this._verifyReinsertion(i,y,w,S)),Object.is(i.item,y)||this._addIdentityChange(i,y)):(i=this._mismatch(i,y,w,S),u=!0),i=i._next}else f=0,function(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Ed()]();let u;for(;!(u=i.next()).done;)n(u.value)}}(n,S=>{w=this._trackByFn(f,S),null!==i&&Object.is(i.trackById,w)?(u&&(i=this._verifyReinsertion(i,S,w,f)),Object.is(i.item,S)||this._addIdentityChange(i,S)):(i=this._mismatch(i,S,w,f),u=!0),i=i._next,f++}),this.length=f;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,u,f){let y;return null===n?y=this._itTail:(y=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,y,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,y,f)):n=this._addAfter(new RT(i,u),y,f),n}_verifyReinsertion(n,i,u,f){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?n=this._reinsertAfter(y,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,y=n._nextRemoved;return null===f?this._removalsHead=y:f._nextRemoved=y,null===y?this._removalsTail=f:y._prevRemoved=f,this._insertAfter(n,i,u),this._addToMoves(n,u),n}_moveAfter(n,i,u){return this._unlink(n),this._insertAfter(n,i,u),this._addToMoves(n,u),n}_addAfter(n,i,u){return this._insertAfter(n,i,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,u){const f=null===i?this._itHead:i._next;return n._next=f,n._prev=i,null===f?this._itTail=n:f._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new mw),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,u=n._next;return null===i?this._itHead=u:i._next=u,null===u?this._itTail=i:u._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class RT{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kT{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===i||i<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const i=n._prevDup,u=n._nextDup;return null===i?this._head=u:i._nextDup=u,null===u?this._tail=i:u._prevDup=i,null===this._head}}class mw{constructor(){this.map=new Map}put(n){const i=n.trackById;let u=this.map.get(i);u||(u=new kT,this.map.set(i,u)),u.add(n)}get(n,i){const f=this.map.get(n);return f?f.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yw(t,n,i){const u=t.previousIndex;if(null===u)return u;let f=0;return i&&u<i.length&&(f=i[u]),u+n+f}class _w{constructor(){}supports(n){return n instanceof Map||su(n)}create(){return new PT}}class PT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||su(n)))throw new Error(`Error trying to diff '${be(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,f)=>{if(i&&i.key===f)this._maybeAddToChanges(i,u),this._appendAfter=i,i=i._next;else{const y=this._getOrCreateRecordForKey(f,u);i=this._insertBeforeOrAppend(i,y)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let u=i;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const u=n._prev;return i._next=n,i._prev=u,n._prev=i,u&&(u._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,i);const y=f._prev,w=f._next;return y&&(y._next=w),w&&(w._prev=y),f._next=null,f._prev=null,f}const u=new NT(n);return this._records.set(n,u),u.currentValue=i,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(u=>i(n[u],u))}}class NT{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vw(){return new Hv([new gw])}let Hv=(()=>{class t{constructor(i){this.factories=i}static create(i,u){if(null!=u){const f=u.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||vw()),deps:[[t,new Ha,new yl]]}}find(i){const u=this.factories.find(f=>f.supports(i));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'`)}}return t.\u0275prov=Un({token:t,providedIn:"root",factory:vw}),t})();function bw(){return new qv([new _w])}let qv=(()=>{class t{constructor(i){this.factories=i}static create(i,u){if(u){const f=u.factories.slice();i=i.concat(f)}return new t(i)}static extend(i){return{provide:t,useFactory:u=>t.create(i,u||bw()),deps:[[t,new Ha,new yl]]}}find(i){const u=this.factories.find(f=>f.supports(i));if(u)return u;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return t.\u0275prov=Un({token:t,providedIn:"root",factory:bw}),t})();function Gv(t,n,i,u,f=!1){for(;null!==i;){const y=n[i.index];if(null!==y&&u.push(ot(y)),Gr(y))for(let S=10;S<y.length;S++){const P=y[S],j=P[1].firstChild;null!==j&&Gv(P[1],P,j,u)}const w=i.type;if(8&w)Gv(t,n,i.child,u);else if(32&w){const S=Ga(i,n);let P;for(;P=S();)u.push(P)}else if(16&w){const S=Qf(n,i);if(Array.isArray(S))u.push(...S);else{const P=td(n[16]);Gv(P[1],P,S,u,!0)}}i=f?i.projectionNext:i.next}return u}class V_{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return Gv(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Gr(n)){const i=n[8],u=i?i.indexOf(this):-1;u>-1&&(Yd(n,u),pl(i,u))}this._attachedToViewContainer=!1}Qd(this._lView[1],this._lView)}onDestroy(n){Ps(this._lView[1],this._lView,null,n)}markForCheck(){Gt(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,i){hn(!0);try{mi(t,n,i)}finally{hn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,rc(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class LT extends V_{constructor(n){super(n),this._view=n}detectChanges(){Zo(this._view)}checkNoChanges(){!function(t){hn(!0);try{Zo(t)}finally{hn(!1)}}(this._view)}get context(){return null}}const UT=function(t){return function(t,n,i){if(Gi(t)&&!i){const u=Nn(t.index,n);return new V_(u,u)}return 47&t.type?new V_(n[16],n):null}(D(),Vt(),16==(16&t))};let BT=(()=>{class t{}return t.__NG_ELEMENT_ID__=UT,t})();const qT=[new _w],ZT=new Hv([new gw]),$T=new qv(qT),WT=function(){return Zv(D(),Vt())};let U_=(()=>{class t{}return t.__NG_ELEMENT_ID__=WT,t})();const KT=U_,YT=class extends KT{constructor(n,i,u){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=u}createEmbeddedView(n){const i=this._declarationTContainer.tViews,u=Nu(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(u[19]=y.createEmbeddedView(i)),ch(i,u,n),new V_(u)}};function Zv(t,n){return 4&t.type?new YT(n,t,Hy(t,n)):null}class Ym{}class Ew{}const XT=function(){return Tw(D(),Vt())};let $v=(()=>{class t{}return t.__NG_ELEMENT_ID__=XT,t})();const tS=$v,ww=class extends tS{constructor(n,i,u){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=u}get element(){return Hy(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){const n=sa(this._hostTNode,this._hostLView);if(ra(n)){const i=Xt(n,this._hostLView),u=xl(n);return new Kn(i[1].data[u+8],i)}return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Cw(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,u){const f=n.createEmbeddedView(i||{});return this.insert(f,u),f}createComponent(n,i,u,f,y){const w=u||this.parentInjector;if(!y&&null==n.ngModule&&w){const P=w.get(Ym,null);P&&(y=P)}const S=n.create(w,f,void 0,y);return this.insert(S.hostView,i),S}insert(n,i){const u=n._lView,f=u[1];if(Gr(u[3])){const K=this.indexOf(n);if(-1!==K)this.detach(K);else{const de=u[3],me=new ww(de,de[6],de[3]);me.detach(me.indexOf(n))}}const y=this._adjustIndex(i),w=this._lContainer;!function(t,n,i,u){const f=10+u,y=i.length;u>0&&(i[f-1][4]=n),u<y-10?(n[4]=i[f],Ca(i,10+u,n)):(i.push(n),n[4]=null),n[3]=i;const w=n[17];null!==w&&i!==w&&function(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(w,n);const S=n[19];null!==S&&S.insertView(t),n[2]|=128}(f,u,w,y);const S=th(y,w),P=u[11],j=tl(P,w[7]);return null!==j&&function(t,n,i,u,f,y){u[0]=f,u[6]=n,rc(t,u,i,1,f,y)}(f,w[6],P,u,j,S),n.attachToViewContainerRef(),Ca(Bb(w),y,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Cw(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),u=Yd(this._lContainer,i);u&&(pl(Bb(this._lContainer),i),Qd(u[1],u))}detach(n){const i=this._adjustIndex(n,-1),u=Yd(this._lContainer,i);return u&&null!=pl(Bb(this._lContainer),i)?new V_(u):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function Cw(t){return t[8]}function Bb(t){return t[8]||(t[8]=[])}function Tw(t,n){let i;const u=n[t.index];if(Gr(u))i=u;else{let f;if(8&t.type)f=ot(u);else{const y=n[11];f=y.createComment("");const w=On(t,n);qo(y,tl(y,w),f,function(t,n){return wt(t)?t.nextSibling(n):n.nextSibling}(y,w),!1)}n[t.index]=i=_(u,n,f,t),Mt(n,i)}return new ww(i,t,n)}const $y={};class Gw extends jy{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=or(n);return new $w(i,this.ngModule)}}function Zw(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}const QS=new Pi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gh});class $w extends cw{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(sg).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return Zw(this.componentDef.inputs)}get outputs(){return Zw(this.componentDef.outputs)}create(n,i,u,f){const y=(f=f||this.ngModule)?function(t,n){return{get:(i,u,f)=>{const y=t.get(i,$y,f);return y!==$y||u===$y?y:n.get(i,u,f)}}}(n,f.injector):n,w=y.get(jv,ae),S=y.get(Vb,null),P=w.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",K=u?function(t,n,i){if(wt(t))return t.selectRootElement(n,i===Or.ShadowDom);let u="string"==typeof n?t.querySelector(n):n;return u.textContent="",u}(P,u,this.componentDef.encapsulation):Du(w.createRenderer(null,this.componentDef),j,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(j)),de=this.componentDef.onPush?576:528,me=function(t,n){return{components:[],scheduler:t||Gh,clean:gp,playerHandler:n||null,flags:0}}(),Ze=Oc(0,null,null,1,0,null,null,null,null,null),rt=Nu(null,Ze,me,de,null,null,w,P,S,y);let Lt,Et;js(rt);try{const bn=function(t,n,i,u,f,y){const w=i[1];i[20]=t;const P=El(w,20,2,"#host",null),j=P.mergedAttrs=n.hostAttrs;null!==j&&(mp(P,j,!0),null!==t&&(fl(f,t,j),null!==P.classes&&rh(f,t,P.classes),null!==P.styles&&Ic(f,t,P.styles)));const K=u.createRenderer(t,n),de=Nu(i,up(n),null,n.onPush?64:16,i[20],P,u,K,y||null,null);return w.firstCreatePass&&(Ul(xt(P,i),w,n.type),sf(w,P),md(P,i.length,1)),Mt(i,de),i[20]=de}(K,this.componentDef,rt,w,P);if(K)if(u)fl(P,K,["ng-version",Ub.full]);else{const{attrs:Qt,classes:xr}=function(t){const n=[],i=[];let u=1,f=2;for(;u<t.length;){let y=t[u];if("string"==typeof y)2===f?""!==y&&n.push(y,t[++u]):8===f&&i.push(y);else{if(!ko(f))break;f=y}u++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);Qt&&fl(P,K,Qt),xr&&xr.length>0&&rh(P,K,xr.join(" "))}if(Et=Si(Ze,20),void 0!==i){const Qt=Et.projection=[];for(let xr=0;xr<this.ngContentSelectors.length;xr++){const ei=i[xr];Qt.push(null!=ei?Array.from(ei):null)}}Lt=function(t,n,i,u,f){const y=i[1],w=function(t,n,i){const u=D();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),yd(t,u,n,wl(t,n,1,null),i));const f=Me(n,t,u.directiveStart,u);Xs(f,n);const y=On(u,n);return y&&Xs(y,n),f}(y,i,n);if(u.components.push(w),t[8]=w,f&&f.forEach(P=>P(w,n)),n.contentQueries){const P=D();n.contentQueries(1,w,P.directiveStart)}const S=D();return!y.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Vr(S.index),sc(i[1],S,0,S.directiveStart,S.directiveEnd,n),ph(n,w)),w}(bn,this.componentDef,rt,me,[Mm]),ch(Ze,rt,null)}finally{ta()}return new eI(this.componentType,Lt,Hy(Et,rt),rt,Et)}}class eI extends class{}{constructor(n,i,u,f,y){super(),this.location=u,this._rootLView=f,this._tNode=y,this.instance=i,this.hostView=this.changeDetectorRef=new LT(f),this.componentType=n}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const zy=new Map;class rI extends Ym{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Gw(this);const u=Lr(n),f=n[Zn]||null;f&&hs(f),this._bootstrapComponents=kl(u.bootstrap),this._r3Injector=Cg(n,i,[{provide:Ym,useValue:this},{provide:jy,useValue:this.componentFactoryResolver}],be(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=$s.THROW_IF_NOT_FOUND,u=cn.Default){return n===$s||n===Ym||n===Fl?this:this._r3Injector.get(n,i,u)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Xb extends Ew{constructor(n){super(),this.moduleType=n,null!==Lr(n)&&function(t){const n=new Set;!function i(u){const f=Lr(u,!0),y=f.id;null!==y&&(function(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${be(n)} vs ${be(n.name)}`)}(y,zy.get(y),u),zy.set(y,u));const w=kl(f.imports);for(const S of w)n.has(S)||(n.add(S),i(S))}(t)}(n)}create(n){return new rI(this.moduleType,n)}}function Kw(t,n,i){const u=Dn()+t,f=Vt();return f[u]===Ar?ou(f,u,i?n.call(i):n()):function(t,n){return t[n]}(f,u)}function Yw(t,n,i,u){return Qw(Vt(),Dn(),t,n,i,u)}function z_(t,n){const i=t[n];return i===Ar?void 0:i}function Qw(t,n,i,u,f,y){const w=n+i;return so(t,w,f)?ou(t,w+1,y?u.call(y,f):u(f)):z_(t,w+1)}function n0(t,n){const i=Wr();let u;const f=t+20;i.firstCreatePass?(u=function(t,n){if(n)for(let i=n.length-1;i>=0;i--){const u=n[i];if(t===u.name)return u}throw new Zt("302",`The pipe '${t}' could not be found!`)}(n,i.pipeRegistry),i.data[f]=u,u.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(f,u.onDestroy)):u=i.data[f];const y=u.factory||(u.factory=ts(u.type)),w=$r(Th);try{const S=Mo(!1),P=y();return Mo(S),function(t,n,i,u){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=u}(i,Vt(),f,P),P}finally{$r(w)}}function r0(t,n,i){const u=t+20,f=Vt(),y=gr(f,u);return K_(f,W_(f,u)?Qw(f,Dn(),n,y.transform,i,y):y.transform(i))}function s0(t,n,i,u){const f=t+20,y=Vt(),w=gr(y,f);return K_(y,W_(y,f)?function(t,n,i,u,f,y,w){const S=n+i;return uc(t,S,f,y)?ou(t,S+2,w?u.call(w,f,y):u(f,y)):z_(t,S+2)}(y,Dn(),n,w.transform,i,u,w):w.transform(i,u))}function W_(t,n){return t[1].data[n].pure}function K_(t,n){return ol.isWrapped(n)&&(n=ol.unwrap(n),t[nr()]=Ar),n}function eE(t){return n=>{setTimeout(t,void 0,n)}}const Tf=class extends k.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,u){var f,y,w;let S=n,P=i||(()=>null),j=u;if(n&&"object"==typeof n){const de=n;S=null===(f=de.next)||void 0===f?void 0:f.bind(de),P=null===(y=de.error)||void 0===y?void 0:y.bind(de),j=null===(w=de.complete)||void 0===w?void 0:w.bind(de)}this.__isAsync&&(P=eE(P),S&&(S=eE(S)),j&&(j=eE(j)));const K=super.subscribe({next:S,error:P,complete:j});return n instanceof o.w&&n.add(K),K}};function yI(){return this._results[Ed()]()}class Y_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Ed(),u=Y_.prototype;u[i]||(u[i]=yI)}get changes(){return this._changes||(this._changes=new Tf)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const u=this;u.dirty=!1;const f=os(n);(this._changesDetected=!function(t,n,i){if(t.length!==n.length)return!1;for(let u=0;u<t.length;u++){let f=t[u],y=n[u];if(i&&(f=i(f),y=i(y)),y!==f)return!1}return!0}(u._results,f,i))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tE{constructor(n){this.queryList=n,this.matches=null}clone(){return new tE(this.queryList)}setDirty(){this.queryList.setDirty()}}class nE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const u=null!==n.contentQueries?n.contentQueries[0]:i.length,f=[];for(let y=0;y<u;y++){const w=i.getByIndex(y);f.push(this.queries[w.indexInDeclarationView].clone())}return new nE(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==p0(n,i).matches&&this.queries[i].setDirty()}}class o0{constructor(n,i,u=null){this.predicate=n,this.flags=i,this.read=u}}class rE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let u=0;u<this.length;u++){const f=null!==i?i.length:0,y=this.getByIndex(u).embeddedTView(n,f);y&&(y.indexInDeclarationView=u,null!==i?i.push(y):i=[y])}return null!==i?new rE(i):null}template(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class iE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new iE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const y=u[f];this.matchTNodeWithReadOption(n,i,bI(i,y)),this.matchTNodeWithReadOption(n,i,le(i,n,y,!1,!1))}else u===U_?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,le(i,n,u,!1,!1))}matchTNodeWithReadOption(n,i,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Cf||f===$v||f===U_&&4&i.type)this.addMatch(i.index,-2);else{const y=le(i,n,f,!1,!1);null!==y&&this.addMatch(i.index,y)}else this.addMatch(i.index,u)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function bI(t,n){const i=t.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===n)return i[u+1];return null}function wI(t,n,i,u){return-1===i?function(t,n){return 11&t.type?Hy(t,n):4&t.type?Zv(t,n):null}(n,t):-2===i?function(t,n,i){return i===Cf?Hy(n,t):i===U_?Zv(n,t):i===$v?Tw(n,t):void 0}(t,n,u):Me(t,t[1],i,n)}function a0(t,n,i,u){const f=n[19].queries[u];if(null===f.matches){const y=t.data,w=i.matches,S=[];for(let P=0;P<w.length;P+=2){const j=w[P];S.push(j<0?null:wI(n,y[j],w[P+1],i.metadata.read))}f.matches=S}return f.matches}function sE(t,n,i,u){const f=t.queries.getByIndex(i),y=f.matches;if(null!==y){const w=a0(t,n,f,i);for(let S=0;S<y.length;S+=2){const P=y[S];if(P>0)u.push(w[S/2]);else{const j=y[S+1],K=n[-P];for(let de=10;de<K.length;de++){const me=K[de];me[17]===me[3]&&sE(me[1],me,j,u)}if(null!==K[9]){const de=K[9];for(let me=0;me<de.length;me++){const Ze=de[me];sE(Ze[1],Ze,j,u)}}}}}return u}function l0(t){const n=Vt(),i=Wr(),u=xs();Yi(u+1);const f=p0(i,u);if(t.dirty&&Hi(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const y=f.crossesNgTemplate?sE(i,n,u,[]):a0(i,n,f,u);t.reset(y,fw),t.notifyOnChanges()}return!0}return!1}function u0(t,n,i){const u=Wr();u.firstCreatePass&&(f0(u,new o0(t,n,i),-1),2==(2&n)&&(u.staticViewQueries=!0)),h0(u,Vt(),n)}function c0(t,n,i,u){const f=Wr();if(f.firstCreatePass){const y=D();f0(f,new o0(n,i,u),y.index),function(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(f,t),2==(2&i)&&(f.staticContentQueries=!0)}h0(f,Vt(),i)}function d0(){return t=Vt(),n=xs(),t[19].queries[n].queryList;var t,n}function h0(t,n,i){const u=new Y_(4==(4&i));Ps(t,n,u,u.destroy),null===n[19]&&(n[19]=new nE),n[19].queries.push(new tE(u))}function f0(t,n,i){null===t.queries&&(t.queries=new rE),t.queries.track(new iE(n,i))}function p0(t,n){return t.queries.getByIndex(n)}function g0(t,n){return Zv(t,n)}const dE=new Pi("Application Initializer");let Ky=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Bv,this.reject=Bv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const i=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const y=this.appInits[f]();if(Lc(y))i.push(y);else if(Sd(y)){const w=new Promise((S,P)=>{y.subscribe({complete:S,error:P})});i.push(w)}}Promise.all(i).then(()=>{u()}).catch(f=>{this.reject(f)}),0===i.length&&u(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(Ms(dE,8))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();const k0=new Pi("AppId"),JI={provide:k0,useFactory:function(){return`${hE()}${hE()}${hE()}`},deps:[]};function hE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const P0=new Pi("Platform Initializer"),N0=new Pi("Platform ID"),F0=new Pi("appBootstrapListener");let L0=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();const Xv=new Pi("LocaleId"),V0=new Pi("DefaultCurrencyCode");class eD{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const fE=function(t){return new Xb(t)},tD=fE,nD=function(t){return Promise.resolve(fE(t))},U0=function(t){const n=fE(t),u=kl(Lr(t).declarations).reduce((f,y)=>{const w=or(y);return w&&f.push(new $w(w)),f},[]);return new eD(n,u)},rD=U0,iD=function(t){return Promise.resolve(U0(t))};let J_=(()=>{class t{constructor(){this.compileModuleSync=tD,this.compileModuleAsync=nD,this.compileModuleAndAllComponentsSync=rD,this.compileModuleAndAllComponentsAsync=iD}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();const aD=(()=>Promise.resolve(0))();function pE(t){"undefined"==typeof Zone?aD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Bc{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tf(!1),this.onMicrotaskEmpty=new Tf(!1),this.onStable=new Tf(!1),this.onError=new Tf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&i,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let t=xe.requestAnimationFrame,n=xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mE(t),t.isCheckStableRunning=!0,gE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,u,f,y,w,S)=>{try{return B0(t),i.invokeTask(f,y,w,S)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||t.shouldCoalesceRunChangeDetection)&&n(),j0(t)}},onInvoke:(i,u,f,y,w,S,P)=>{try{return B0(t),i.invoke(f,y,w,S,P)}finally{t.shouldCoalesceRunChangeDetection&&n(),j0(t)}},onHasTask:(i,u,f,y)=>{i.hasTask(f,y),u===f&&("microTask"==y.change?(t._hasPendingMicrotasks=y.microTask,mE(t),gE(t)):"macroTask"==y.change&&(t.hasPendingMacrotasks=y.macroTask))},onHandleError:(i,u,f,y)=>(i.handleError(f,y),t.runOutsideAngular(()=>t.onError.emit(y)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,u){return this._inner.run(n,i,u)}runTask(n,i,u,f){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+f,n,uD,Bv,Bv);try{return y.runTask(w,i,u)}finally{y.cancelTask(w)}}runGuarded(n,i,u){return this._inner.runGuarded(n,i,u)}runOutsideAngular(n){return this._outer.run(n)}}const uD={};function gE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function B0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function j0(t){t._nesting--,gE(t)}class hD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tf,this.onMicrotaskEmpty=new Tf,this.onStable=new Tf,this.onError=new Tf}run(n,i,u){return n.apply(i,u)}runGuarded(n,i,u){return n.apply(i,u)}runOutsideAngular(n){return n()}runTask(n,i,u,f){return n.apply(i,u)}}let H0=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bc.assertNotInAngularZone(),pE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pE(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,f){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),i(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:i,timeoutId:y,updateCb:f})}whenStable(i,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,u,f){return[]}}return t.\u0275fac=function(i){return new(i||t)(Ms(Bc))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})(),q0=(()=>{class t{constructor(){this._applications=new Map,yE.addToWindow(this)}registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return yE.findTestabilityInTree(this,i,u)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();class fD{addToWindow(n){}findTestabilityInTree(n,i,u){return null}}function pD(t){yE=t}let yE=new fD,G0=!0,Z0=!1;function _E(){return Z0=!0,G0}function gD(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");G0=!1}let Oh;const $0=new Pi("AllowMultipleToken");class wD{constructor(n,i){this.name=n,this.token=i}}function z0(t,n,i=[]){const u=`Platform: ${n}`,f=new Pi(u);return(y=[])=>{let w=W0();if(!w||w.injector.get($0,!1))if(t)t(i.concat(y).concat({provide:f,useValue:!0}));else{const S=i.concat(y).concat({provide:f,useValue:!0},{provide:Ll,useValue:"platform"});!function(t){if(Oh&&!Oh.destroyed&&!Oh.injector.get($0,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Oh=t.get(K0);const n=t.get(P0,null);n&&n.forEach(i=>i())}($s.create({providers:S,name:u}))}return function(t){const n=W0();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(f)}}function W0(){return Oh&&!Oh.destroyed?Oh:null}let K0=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,u){const S=function(t,n){let i;return i="noop"===t?new hD:("zone.js"===t?void 0:t)||new Bc({enableLongStackTrace:_E(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),P=[{provide:Bc,useValue:S}];return S.run(()=>{const j=$s.create({providers:P,parent:this.injector,name:i.moduleType.name}),K=i.create(j),de=K.injector.get(Ql,null);if(!de)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return S.runOutsideAngular(()=>{const me=S.onError.subscribe({next:Ze=>{de.handleError(Ze)}});K.onDestroy(()=>{vE(this._modules,K),me.unsubscribe()})}),function(t,n,i){try{const u=i();return Lc(u)?u.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):u}catch(u){throw n.runOutsideAngular(()=>t.handleError(u)),u}}(de,S,()=>{const me=K.injector.get(Ky);return me.runInitializers(),me.donePromise.then(()=>(hs(K.injector.get(Xv,qe)||qe),this._moduleDoBootstrap(K),K))})})}bootstrapModule(i,u=[]){const f=Y0({},u);return function(t,n,i){const u=new Xb(i);return Promise.resolve(u)}(0,0,i).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(i){const u=i.injector.get(X_);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${be(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(u)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(Ms($s))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();function Y0(t,n){return Array.isArray(n)?n.reduce(Y0,t):Object.assign(Object.assign({},t),n)}let X_=(()=>{class t{constructor(i,u,f,y,w){this._zone=i,this._injector=u,this._exceptionHandler=f,this._componentFactoryResolver=y,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const S=new te.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),P=new te.y(j=>{let K;this._zone.runOutsideAngular(()=>{K=this._zone.onStable.subscribe(()=>{Bc.assertNotInAngularZone(),pE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const de=this._zone.onUnstable.subscribe(()=>{Bc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{K.unsubscribe(),de.unsubscribe()}});this.isStable=(0,Ue.T)(S,P.pipe(t=>(0,Ce.x)()(function(t,n){return function(u){let f;f="function"==typeof t?t:function(){return t};const y=Object.create(u,Be.N);return y.source=u,y.subjectFactory=f,y}}(Te)(t))))}bootstrap(i,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=i instanceof cw?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(f.componentType);const y=function(t){return t.isBoundToModule}(f)?void 0:this._injector.get(Ym),S=f.create($s.NULL,[],u||f.selector,y),P=S.location.nativeElement,j=S.injector.get(H0,null),K=j&&S.injector.get(q0);return j&&K&&K.registerApplication(P,j),S.onDestroy(()=>{this.detachView(S.hostView),vE(this.components,S),K&&K.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;vE(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(F0,[]).concat(this._bootstrapListeners).forEach(f=>f(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(Ms(Bc),Ms($s),Ms(Ql),Ms(jy),Ms(Ky))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();function vE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}class AD{}class OD{}const MD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let RD=(()=>{class t{constructor(i,u){this._compiler=i,this._config=u||MD}load(i){return this.loadAndCompile(i)}loadAndCompile(i){let[u,f]=i.split("#");return void 0===f&&(f="default"),q(8255)(u).then(y=>y[f]).then(y=>eC(y,u,f)).then(y=>this._compiler.compileModuleAsync(y))}loadFactory(i){let[u,f]=i.split("#"),y="NgFactory";return void 0===f&&(f="default",y=""),q(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(w=>w[f+y]).then(w=>eC(w,u,f))}}return t.\u0275fac=function(i){return new(i||t)(Ms(J_),Ms(OD,8))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),t})();function eC(t,n,i){if(!t)throw new Error(`Cannot find '${i}' in '${n}'`);return t}const BD=function(t){return null},HD=z0(null,"core",[{provide:N0,useValue:"unknown"},{provide:K0,deps:[$s]},{provide:q0,deps:[]},{provide:L0,deps:[]}]),zD=[{provide:X_,useClass:X_,deps:[Bc,$s,Ql,jy,Ky]},{provide:QS,deps:[Bc],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}},{provide:Ky,useClass:Ky,deps:[[new yl,dE]]},{provide:J_,useClass:J_,deps:[]},JI,{provide:Hv,useFactory:function(){return ZT},deps:[]},{provide:qv,useFactory:function(){return $T},deps:[]},{provide:Xv,useFactory:function(t){return hs(t=t||"undefined"!=typeof $localize&&$localize.locale||qe),t},deps:[[new Gs(Xv),new yl,new Ha]]},{provide:V0,useValue:"USD"}];let KD=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(Ms(X_))},t.\u0275mod=Pn({type:t}),t.\u0275inj=yr({providers:zD}),t})()},3801:(ln,at,q)=>{"use strict";q.d(at,{nm:()=>Ae});var k=q(5361),Be=(q(3018),q(127),q(2329),q(8239)),Ie=q(8026),Ge=q(3910),Ce=q(3854),Te=q(5422);const ue=new Map,he={activated:!1,tokenObservers:[]},Ve={initialized:!1,enabled:!1};function be(it){return ue.get(it)||he}function Ke(it,Xe){ue.set(it,Xe)}function pt(){return Ve}class Ct{constructor(Xe,mt,At,an,Mn){if(this.operation=Xe,this.retryPolicy=mt,this.getWaitDuration=At,this.lowerBound=an,this.upperBound=Mn,this.pending=null,this.nextErrorWaitInterval=an,an>Mn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Xe){var mt=this;return(0,Be.Z)(function*(){mt.stop();try{mt.pending=new Ce.BH,yield(it=mt.getNextRun(Xe),new Promise(Xe=>{setTimeout(Xe,it)})),mt.pending.resolve(),yield mt.pending.promise,mt.pending=new Ce.BH,yield mt.operation(),mt.pending.resolve(),yield mt.pending.promise,mt.process(!0).catch(()=>{})}catch(At){mt.retryPolicy(At)?mt.process(!1).catch(()=>{}):mt.stop()}var it})()}getNextRun(Xe){if(Xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const mt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),mt}}}const ct=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dt(it){if(!be(it).activated)throw ct.create("use-before-activation",{appName:it.name})}function et(it,Xe){return yt.apply(this,arguments)}function yt(){return(yt=(0,Be.Z)(function*({url:it,body:Xe},mt){var At,an;const Mn={"Content-Type":"application/json"},pr=mt.getImmediate({optional:!0});if(pr){const Ai=yield pr.getHeartbeatsHeader();Ai&&(Mn["X-Firebase-Client"]=Ai)}const ui={method:"POST",body:JSON.stringify(Xe),headers:Mn};let jr,ci;try{jr=yield fetch(it,ui)}catch(Ai){throw ct.create("fetch-network-error",{originalErrorMessage:null===(At=Ai)||void 0===At?void 0:At.message})}if(200!==jr.status)throw ct.create("fetch-status-error",{httpStatus:jr.status});try{ci=yield jr.json()}catch(Ai){throw ct.create("fetch-parse-error",{originalErrorMessage:null===(an=Ai)||void 0===an?void 0:an.message})}const Di=ci.ttl.match(/^([\d.]+)(s)$/);if(!Di||!Di[2]||isNaN(Number(Di[1])))throw ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ci.ttl}`});const fi=1e3*Number(Di[1]),fs=Date.now();return{token:ci.token,expireTimeMillis:fs+fi,issuedAtTimeMillis:fs}})).apply(this,arguments)}function En(it,Xe){const{projectId:mt,appId:At,apiKey:an}=it.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${mt}/apps/${At}:exchangeDebugToken?key=${an}`,body:{debug_token:Xe}}}const un="firebase-app-check-store";let Kr=null;function Nr(){return Kr||(Kr=new Promise((it,Xe)=>{var mt;try{const At=indexedDB.open("firebase-app-check-database",1);At.onsuccess=an=>{it(an.target.result)},At.onerror=an=>{var Mn;Xe(ct.create("storage-open",{originalErrorMessage:null===(Mn=an.target.error)||void 0===Mn?void 0:Mn.message}))},At.onupgradeneeded=an=>{0===an.oldVersion&&an.target.result.createObjectStore(un,{keyPath:"compositeKey"})}}catch(At){Xe(ct.create("storage-open",{originalErrorMessage:null===(mt=At)||void 0===mt?void 0:mt.message}))}}),Kr)}function Rr(){return(Rr=(0,Be.Z)(function*(it,Xe){const At=(yield Nr()).transaction(un,"readwrite"),Mn=At.objectStore(un).put({compositeKey:it,value:Xe});return new Promise((pr,ui)=>{Mn.onsuccess=jr=>{pr()},At.onerror=jr=>{var ci;ui(ct.create("storage-set",{originalErrorMessage:null===(ci=jr.target.error)||void 0===ci?void 0:ci.message}))}})})).apply(this,arguments)}const vn=new Te.Yd("@firebase/app-check");function _r(it,Xe){return(0,Ce.hl)()?function(it,Xe){return function(it,Xe){return Rr.apply(this,arguments)}(function(it){return`${it.options.appId}-${it.name}`}(it),Xe)}(it,Xe).catch(mt=>{vn.warn(`Failed to write token to IndexedDB. Error: ${mt}`)}):Promise.resolve()}function Br(){return pt().enabled}function ti(){return hi.apply(this,arguments)}function hi(){return(hi=(0,Be.Z)(function*(){const it=pt();if(it.enabled&&it.token)return it.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zr={error:"UNKNOWN_ERROR"};function oi(it){return Ce.US.encodeString(JSON.stringify(it),!1)}function $r(it){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,Be.Z)(function*(it,Xe=!1){const mt=it.app;Dt(mt);const At=be(mt);let Mn,an=At.token;if(!an){const jr=yield At.cachedTokenPromise;jr&&Or(jr)&&(an=jr)}if(!Xe&&an&&Or(an))return{token:an.token};let ui,pr=!1;if(Br()){At.exchangeTokenPromise||(At.exchangeTokenPromise=et(En(mt,yield ti()),it.heartbeatServiceProvider).then(ci=>(At.exchangeTokenPromise=void 0,ci)),pr=!0);const jr=yield At.exchangeTokenPromise;return yield _r(mt,jr),Ke(mt,Object.assign(Object.assign({},At),{token:jr})),{token:jr.token}}try{At.exchangeTokenPromise||(At.exchangeTokenPromise=At.provider.getToken().then(jr=>(At.exchangeTokenPromise=void 0,jr)),pr=!0),an=yield At.exchangeTokenPromise}catch(jr){"appCheck/throttled"===jr.code?vn.warn(jr.message):vn.error(jr),Mn=jr}return an?(ui={token:an.token},Ke(mt,Object.assign(Object.assign({},At),{token:an})),yield _r(mt,an)):ui=Rn(Mn),pr&&yi(mt,ui),ui})).apply(this,arguments)}function rn(it,Xe){const mt=be(it),At=mt.tokenObservers.filter(an=>an.next!==Xe);0===At.length&&mt.tokenRefresher&&mt.tokenRefresher.isRunning()&&mt.tokenRefresher.stop(),Ke(it,Object.assign(Object.assign({},mt),{tokenObservers:At}))}function fr(it){const{app:Xe}=it,mt=be(Xe);let At=mt.tokenRefresher;At||(At=function(it){const{app:Xe}=it;return new Ct((0,Be.Z)(function*(){let At;if(At=be(Xe).token?yield $r(it,!0):yield $r(it),At.error)throw At.error}),()=>!0,()=>{const mt=be(Xe);if(mt.token){let At=mt.token.issuedAtTimeMillis+.5*(mt.token.expireTimeMillis-mt.token.issuedAtTimeMillis)+3e5;return At=Math.min(At,mt.token.expireTimeMillis-3e5),Math.max(0,At-Date.now())}return 0},3e4,96e4)}(it),Ke(Xe,Object.assign(Object.assign({},mt),{tokenRefresher:At}))),!At.isRunning()&&mt.isTokenAutoRefreshEnabled&&At.start()}function yi(it,Xe){const mt=be(it).tokenObservers;for(const At of mt)try{"EXTERNAL"===At.type&&null!=Xe.error?At.error(Xe.error):At.next(Xe)}catch(an){}}function Or(it){return it.expireTimeMillis-Date.now()>0}function Rn(it){return{token:oi(Zr),error:it}}class zr{constructor(Xe,mt){this.app=Xe,this.heartbeatServiceProvider=mt}_delete(){const{tokenObservers:Xe}=be(this.app);for(const mt of Xe)rn(this.app,mt.next);return Promise.resolve()}}const Fr="app-check-internal";(0,Ie._registerComponent)(new Ge.wA("app-check",it=>function(it,Xe){return new zr(it,Xe)}(it.getProvider("app").getImmediate(),it.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((it,Xe,mt)=>{it.getProvider(Fr).initialize()})),(0,Ie._registerComponent)(new Ge.wA(Fr,it=>function(it){return{getToken:Xe=>$r(it,Xe),addTokenListener:Xe=>function(it,Xe,mt,At){const{app:an}=it,Mn=be(an),pr={next:mt,error:At,type:Xe};if(Ke(an,Object.assign(Object.assign({},Mn),{tokenObservers:[...Mn.tokenObservers,pr]})),Mn.token&&Or(Mn.token)){const ui=Mn.token;Promise.resolve().then(()=>{mt({token:ui.token}),fr(it)}).catch(()=>{})}Mn.cachedTokenPromise.then(()=>fr(it))}(it,"INTERNAL",Xe),removeTokenListener:Xe=>rn(it.app,Xe)}}(it.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)("@firebase/app-check","0.5.12");class Ae{constructor(){return(0,k.vb)("app-check")}}"undefined"!=typeof window&&window},127:(ln,at,q)=>{"use strict";q.d(at,{Ot:()=>te}),q(2329),q(3018);class te{constructor(St){return St}}},3820:(ln,at,q)=>{"use strict";q.d(at,{zQ:()=>Qe,ww:()=>Je,rT:()=>Nt,f7:()=>lt,L6:()=>Ct,_Q:()=>Rt,lh:()=>ct,Qv:()=>St,nw:()=>Dt});var k=q(3018),o=q(9765),te=q(5917),Ue=q(7574),Be=q(4402),Ie=q(6682),Ge=q(3190);function Ce(et,yt){return yt?(0,Ge.w)(()=>et,yt):(0,Ge.w)(()=>et)}var Te=q(309),ue=q(8002),he=q(2066),Ve=q(8049),be=q(9673),Ke=q(5435),pt=q(5361),tt=q(8939),ce=q(8583),vt=q(3801),Jt=q(7841);const St=new k.OlP("angularfire2.auth.use-emulator"),Ct=new k.OlP("angularfire2.auth.settings"),Rt=new k.OlP("angularfire2.auth.tenant-id"),Nt=new k.OlP("angularfire2.auth.langugage-code"),ct=new k.OlP("angularfire2.auth.use-device-language"),lt=new k.OlP("angularfire.auth.persistence"),Dt=(et,yt,ft,qt,En,Tn,sr,un)=>(0,tt.cc)(`${et.name}.auth`,"AngularFireAuth",et.name,()=>{const zn=yt.runOutsideAngular(()=>et.auth());if(ft&&zn.useEmulator(...ft),qt&&(zn.tenantId=qt),zn.languageCode=En,Tn&&zn.useDeviceLanguage(),sr)for(const[Kr,Nr]of Object.entries(sr))zn.settings[Kr]=Nr;return un&&zn.setPersistence(un),zn},[ft,qt,En,Tn,sr,un]);let Qe=(()=>{class et{constructor(ft,qt,En,Tn,sr,un,zn,Kr,Nr,li,on,yn){const mr=new o.xQ,Ei=(0,te.of)(void 0).pipe((0,Te.QV)(sr.outsideAngular),(0,Ge.w)(()=>Tn.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,4828)))),(0,ue.U)(()=>(0,tt.on)(ft,Tn,qt)),(0,ue.U)(Rr=>Dt(Rr,Tn,un,Kr,Nr,li,zn,on)),(0,he.d)({bufferSize:1,refCount:!1}));if((0,ce.PM)(En))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,te.of)(null);else{Ei.pipe((0,Ve.P)()).subscribe();const Un=Ei.pipe((0,Ge.w)(vn=>vn.getRedirectResult().then(dr=>dr,()=>null)),pt.iC,(0,he.d)({bufferSize:1,refCount:!1})),Qn=Ei.pipe((0,Ge.w)(vn=>new Ue.y(dr=>({unsubscribe:Tn.runOutsideAngular(()=>vn.onAuthStateChanged(kr=>dr.next(kr),kr=>dr.error(kr),()=>dr.complete()))})))),yr=Ei.pipe((0,Ge.w)(vn=>new Ue.y(dr=>({unsubscribe:Tn.runOutsideAngular(()=>vn.onIdTokenChanged(kr=>dr.next(kr),kr=>dr.error(kr),()=>dr.complete()))}))));this.authState=Un.pipe(Ce(Qn),(0,be.R)(sr.outsideAngular),(0,Te.QV)(sr.insideAngular)),this.user=Un.pipe(Ce(yr),(0,be.R)(sr.outsideAngular),(0,Te.QV)(sr.insideAngular)),this.idToken=this.user.pipe((0,Ge.w)(vn=>vn?(0,Be.D)(vn.getIdToken()):(0,te.of)(null))),this.idTokenResult=this.user.pipe((0,Ge.w)(vn=>vn?(0,Be.D)(vn.getIdTokenResult()):(0,te.of)(null))),this.credential=(0,Ie.T)(Un,mr,this.authState.pipe((0,Ke.h)(vn=>!vn))).pipe((0,ue.U)(vn=>(null==vn?void 0:vn.user)?vn:null),(0,be.R)(sr.outsideAngular),(0,Te.QV)(sr.insideAngular))}return(0,tt.pX)(this,Ei,Tn,{spy:{apply:(Rr,Un,Qn)=>{(Rr.startsWith("signIn")||Rr.startsWith("createUser"))&&Qn.then(yr=>mr.next(yr))}}})}}return et.\u0275fac=function(ft){return new(ft||et)(k.LFG(tt.Dh),k.LFG(tt.xv,8),k.LFG(k.Lbi),k.LFG(k.R0b),k.LFG(pt.HU),k.LFG(St,8),k.LFG(Ct,8),k.LFG(Rt,8),k.LFG(Nt,8),k.LFG(ct,8),k.LFG(lt,8),k.LFG(vt.nm,8))},et.\u0275prov=k.Yz7({token:et,factory:et.\u0275fac,providedIn:"any"}),et})(),Je=(()=>{class et{constructor(){Jt.Z.registerVersion("angularfire",pt.q4.full,"auth-compat")}}return et.\u0275fac=function(ft){return new(ft||et)},et.\u0275mod=k.oAB({type:et}),et.\u0275inj=k.cJS({providers:[Qe]}),et})()},4384:(ln,at,q)=>{"use strict";q.d(at,{ST:()=>Ob});var Nt,k=q(3018),o=q(3637),te=q(7574),Ue=q(4402),Be=q(5917),Ie=q(5361),Ge=q(9761),Ce=q(9328),Te=q(8002),ue=q(2145),he=q(7519),Ve=q(5435),be=q(8939),Ke=q(8583),tt=(q(4828),q(3394)),ce=q(8239),vt=q(8026),Jt=q(3910),Zt=q(5422),St=q(3854),Ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rt={},ct=ct||{},lt=Ct||self;function Dt(){}function Qe(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Je(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var yt="closure_uid_"+(1e9*Math.random()>>>0),ft=0;function qt(s,e,r){return s.call.apply(s.bind,arguments)}function En(s,e,r){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,l),s.apply(e,p)}}return function(){return s.apply(e,arguments)}}function Tn(s,e,r){return(Tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qt:En).apply(null,arguments)}function sr(s,e){var r=Array.prototype.slice.call(arguments,1);return function(){var l=r.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function un(s,e){function r(){}r.prototype=e.prototype,s.Z=e.prototype,s.prototype=new r,s.prototype.constructor=s,s.Vb=function(l,p,b){for(var I=Array(arguments.length-2),N=2;N<arguments.length;N++)I[N-2]=arguments[N];return e.prototype[p].apply(l,I)}}function zn(){this.s=this.s,this.o=this.o}var Nr={};zn.prototype.s=!1,zn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,yt)&&s[yt]||(s[yt]=++ft)}(this);delete Nr[s]}},zn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const li=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let r=0;r<s.length;r++)if(r in s&&s[r]===e)return r;return-1},on=Array.prototype.forEach?function(s,e,r){Array.prototype.forEach.call(s,e,r)}:function(s,e,r){const l=s.length,p="string"==typeof s?s.split(""):s;for(let b=0;b<l;b++)b in p&&e.call(r,p[b],b,s)};function mr(s){return Array.prototype.concat.apply([],arguments)}function Ei(s){const e=s.length;if(0<e){const r=Array(e);for(let l=0;l<e;l++)r[l]=s[l];return r}return[]}function Rr(s){return/^[\s\xa0]*$/.test(s)}var vn,Un=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Qn(s,e){return-1!=s.indexOf(e)}function yr(s,e){return s<e?-1:s>e?1:0}e:{var dr=lt.navigator;if(dr){var kr=dr.userAgent;if(kr){vn=kr;break e}}vn=""}function _r(s,e,r){for(const l in s)e.call(r,s[l],l,s)}function Yr(s){const e={};for(const r in s)e[r]=s[r];return e}var tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Br(s,e){let r,l;for(let p=1;p<arguments.length;p++){for(r in l=arguments[p],l)s[r]=l[r];for(let b=0;b<tr.length;b++)r=tr[b],Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])}}function ti(s){return ti[" "](s),s}ti[" "]=Dt;var fr,s,cn=Qn(vn,"Opera"),Zr=Qn(vn,"Trident")||Qn(vn,"MSIE"),oi=Qn(vn,"Edge"),$r=oi||Zr,Tr=Qn(vn,"Gecko")&&!(Qn(vn.toLowerCase(),"webkit")&&!Qn(vn,"Edge"))&&!(Qn(vn,"Trident")||Qn(vn,"MSIE"))&&!Qn(vn,"Edge"),wn=Qn(vn.toLowerCase(),"webkit")&&!Qn(vn,"Edge");function rn(){var s=lt.document;return s?s.documentMode:void 0}e:{var Xi="",yi=(s=vn,Tr?/rv:([^\);]+)(\)|;)/.exec(s):oi?/Edge\/([\d\.]+)/.exec(s):Zr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):wn?/WebKit\/(\S+)/.exec(s):cn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(yi&&(Xi=yi?yi[1]:""),Zr){var Or=rn();if(null!=Or&&Or>parseFloat(Xi)){fr=String(Or);break e}}fr=Xi}var Rn={};function zr(){return e=Rn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=Un(String(fr)).split("."),r=Un("9").split("."),l=Math.max(e.length,r.length);for(let I=0;0==s&&I<l;I++){var p=e[I]||"",b=r[I]||"";do{if(p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==p[0].length&&0==b[0].length)break;s=yr(0==p[1].length?0:parseInt(p[1],10),0==b[1].length?0:parseInt(b[1],10))||yr(0==p[2].length,0==b[2].length)||yr(p[2],b[2]),p=p[3],b=b[3]}while(0==s)}return 0<=s}();var e}var xe=lt.document&&Zr&&(rn()||parseInt(fr,10))||void 0,Le=function(){if(!lt.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{lt.addEventListener("test",Dt,e),lt.removeEventListener("test",Dt,e)}catch(r){}return s}();function Ee(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function Fe(s,e){if(Ee.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var r=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Tr){e:{try{ti(e.nodeName);var p=!0;break e}catch(b){}p=!1}p||(e=null)}}else"mouseover"==r?e=s.fromElement:"mouseout"==r&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:De[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Fe.Z.h.call(this)}}Ee.prototype.h=function(){this.defaultPrevented=!0},un(Fe,Ee);var De={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),nn=0;function Vn(s,e,r,l,p){this.listener=s,this.proxy=null,this.src=e,this.type=r,this.capture=!!l,this.ia=p,this.key=++nn,this.ca=this.fa=!1}function Er(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Zn(s){this.src=s,this.g={},this.h=0}function st(s,e){var r=e.type;if(r in s.g){var b,l=s.g[r],p=li(l,e);(b=0<=p)&&Array.prototype.splice.call(l,p,1),b&&(Er(e),0==s.g[r].length&&(delete s.g[r],s.h--))}}function ve(s,e,r,l){for(var p=0;p<s.length;++p){var b=s[p];if(!b.ca&&b.listener==e&&b.capture==!!r&&b.ia==l)return p}return-1}Zn.prototype.add=function(s,e,r,l,p){var b=s.toString();(s=this.g[b])||(s=this.g[b]=[],this.h++);var I=ve(s,e,l,p);return-1<I?(e=s[I],r||(e.fa=!1)):((e=new Vn(e,this.src,b,!!l,p)).fa=r,s.push(e)),e};var _e="closure_lm_"+(1e6*Math.random()|0),ge={};function nt(s,e,r,l,p){if(l&&l.once)return Cn(s,e,r,l,p);if(Array.isArray(e)){for(var b=0;b<e.length;b++)nt(s,e[b],r,l,p);return null}return r=Ni(r),s&&s[Ft]?s.N(e,r,Je(l)?!!l.capture:!!l,p):Ut(s,e,r,!1,l,p)}function Ut(s,e,r,l,p,b){if(!e)throw Error("Invalid event type");var I=Je(p)?!!p.capture:!!p,N=sn(s);if(N||(s[_e]=N=new Zn(s)),(r=N.add(e,r,l,I,b)).proxy)return r;if(l=function(){var e=Pr;return function s(r){return e.call(s.src,s.listener,r)}}(),r.proxy=l,l.src=s,l.listener=r,s.addEventListener)Le||(p=I),void 0===p&&(p=!1),s.addEventListener(e.toString(),l,p);else if(s.attachEvent)s.attachEvent(Ir(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return r}function Cn(s,e,r,l,p){if(Array.isArray(e)){for(var b=0;b<e.length;b++)Cn(s,e[b],r,l,p);return null}return r=Ni(r),s&&s[Ft]?s.O(e,r,Je(l)?!!l.capture:!!l,p):Ut(s,e,r,!0,l,p)}function Pn(s,e,r,l,p){if(Array.isArray(e))for(var b=0;b<e.length;b++)Pn(s,e[b],r,l,p);else l=Je(l)?!!l.capture:!!l,r=Ni(r),s&&s[Ft]?(s=s.i,(e=String(e).toString())in s.g&&-1<(r=ve(b=s.g[e],r,l,p))&&(Er(b[r]),Array.prototype.splice.call(b,r,1),0==b.length&&(delete s.g[e],s.h--))):s&&(s=sn(s))&&(e=s.g[e.toString()],s=-1,e&&(s=ve(e,r,l,p)),(r=-1<s?e[s]:null)&&kn(r))}function kn(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[Ft])st(e.i,s);else{var r=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(r,l,s.capture):e.detachEvent?e.detachEvent(Ir(r),l):e.addListener&&e.removeListener&&e.removeListener(l),(r=sn(e))?(st(r,s),0==r.h&&(r.src=null,e[_e]=null)):Er(s)}}}function Ir(s){return s in ge?ge[s]:ge[s]="on"+s}function Pr(s,e){if(s.ca)s=!0;else{e=new Fe(e,this);var r=s.listener,l=s.ia||s.src;s.fa&&kn(s),s=r.call(l,e)}return s}function sn(s){return(s=s[_e])instanceof Zn?s:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ni(s){return"function"==typeof s?s:(s[or]||(s[or]=function(e){return s.handleEvent(e)}),s[or])}function Fr(){zn.call(this),this.i=new Zn(this),this.P=this,this.I=null}function Lr(s,e){var r,l=s.I;if(l)for(r=[];l;l=l.I)r.push(l);if(s=s.P,l=e.type||e,"string"==typeof e)e=new Ee(e,s);else if(e instanceof Ee)e.target=e.target||s;else{var p=e;Br(e=new Ee(l,s),p)}if(p=!0,r)for(var b=r.length-1;0<=b;b--){var I=e.g=r[b];p=Ls(I,l,!0,e)&&p}if(p=Ls(I=e.g=s,l,!0,e)&&p,p=Ls(I,l,!1,e)&&p,r)for(b=0;b<r.length;b++)p=Ls(I=e.g=r[b],l,!1,e)&&p}function Ls(s,e,r,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var p=!0,b=0;b<e.length;++b){var I=e[b];if(I&&!I.ca&&I.capture==r){var N=I.listener,$=I.ia||I.src;I.fa&&st(s.i,I),p=!1!==N.call($,l)&&p}}return p&&!l.defaultPrevented}un(Fr,zn),Fr.prototype[Ft]=!0,Fr.prototype.removeEventListener=function(s,e,r,l){Pn(this,s,e,r,l)},Fr.prototype.M=function(){if(Fr.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var r=s.g[e],l=0;l<r.length;l++)Er(r[l]);delete s.g[e],s.h--}}this.I=null},Fr.prototype.N=function(s,e,r,l){return this.i.add(String(s),e,!1,r,l)},Fr.prototype.O=function(s,e,r,l){return this.i.add(String(s),e,!0,r,l)};var Jn=lt.JSON.stringify;function Ae(){var s=ut;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Ye,kt=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new In,s=>s.reset());class In{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function qr(s){lt.setTimeout(()=>{throw s},0)}function ur(s,e){Ye||function(){var s=lt.Promise.resolve(void 0);Ye=function(){s.then(bt)}}(),we||(Ye(),we=!0),ut.add(s,e)}var we=!1,ut=new class{constructor(){this.h=this.g=null}add(e,r){const l=kt.get();l.set(e,r),this.h?this.h.next=l:this.g=l,this.h=l}};function bt(){for(var s;s=Ae();){try{s.h.call(s.g)}catch(r){qr(r)}var e=kt;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}we=!1}function Xn(s,e){Fr.call(this),this.h=s||1,this.g=e||lt,this.j=Tn(this.kb,this),this.l=Date.now()}function wr(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function ni(s,e,r){if("function"==typeof s)r&&(s=Tn(s,r));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Tn(s.handleEvent,s)}return 2147483647<Number(e)?-1:lt.setTimeout(s,e||0)}function vi(s){s.g=ni(()=>{s.g=null,s.i&&(s.i=!1,vi(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}un(Xn,Fr),(Nt=Xn.prototype).da=!1,Nt.S=null,Nt.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lr(this,"tick"),this.da&&(wr(this),this.start()))}},Nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Nt.M=function(){Xn.Z.M.call(this),wr(this),delete this.g};class Oi extends zn{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vi(this)}M(){super.M(),this.g&&(lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function it(s){zn.call(this),this.h=s,this.g={}}un(it,zn);var Xe=[];function mt(s,e,r,l){Array.isArray(r)||(r&&(Xe[0]=r.toString()),r=Xe);for(var p=0;p<r.length;p++){var b=nt(e,r[p],l||s.handleEvent,!1,s.h||s);if(!b)break;s.g[b.key]=b}}function At(s){_r(s.g,function(e,r){this.g.hasOwnProperty(r)&&kn(e)},s),s.g={}}function an(){this.g=!0}function ui(s,e,r,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(s=0;s<r.length;s++)if(Array.isArray(r[s])){var l=r[s];if(!(2>l.length)){var p=l[1];if(Array.isArray(p)&&!(1>p.length)){var b=p[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var I=1;I<p.length;I++)p[I]=""}}}return Jn(r)}catch(N){return e}}(s,r)+(l?" "+l:"")})}it.prototype.M=function(){it.Z.M.call(this),At(this)},it.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},an.prototype.Aa=function(){this.g=!1},an.prototype.info=function(){};var Di={},fi=null;function fs(){return fi=fi||new Fr}function Ai(s){Ee.call(this,Di.Ma,s)}function Gr(s){const e=fs();Lr(e,new Ai(e,s))}function _o(s,e){Ee.call(this,Di.STAT_EVENT,s),this.stat=e}function Gi(s){const e=fs();Lr(e,new _o(e,s))}function es(s,e){Ee.call(this,Di.Na,s),this.size=e}function Bi(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return lt.setTimeout(function(){s()},e)}Di.Ma="serverreachability",un(Ai,Ee),Di.STAT_EVENT="statevent",un(_o,Ee),Di.Na="timingevent",un(es,Ee);var zs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ws(){}function Fa(){}Ws.prototype.h=null;var oo,za={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ss(){Ee.call(this,"d")}function eo(){Ee.call(this,"c")}function Wo(){}function ma(s,e,r,l){this.l=s,this.j=e,this.m=r,this.X=l||1,this.V=new it(this),this.P=ul,this.W=new Xn(s=$r?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ya}function ya(){this.i=null,this.g="",this.h=!1}un(Ss,Ee),un(eo,Ee),un(Wo,Ws),Wo.prototype.g=function(){return new XMLHttpRequest},Wo.prototype.i=function(){return{}},oo=new Wo;var ul=45e3,Co={},Ks={};function vo(s,e,r){s.K=1,s.v=$e(ji(e)),s.s=r,s.U=!0,To(s,null)}function To(s,e){s.F=Date.now(),bo(s),s.A=ji(s.v);var r=s.A,l=s.X;Array.isArray(l)||(l=[String(l)]),Ds(r.h,"t",l),s.C=0,r=s.l.H,s.h=new ya,s.g=ys(s.l,r?e:null,!s.s),0<s.O&&(s.L=new Oi(Tn(s.Ia,s,s.g),s.O)),mt(s.V,s.g,"readystatechange",s.gb),e=s.H?Yr(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),Gr(1),function(s,e,r,l,p,b){s.info(function(){if(s.g)if(b)for(var I="",N=b.split("&"),$=0;$<N.length;$++){var Q=N[$].split("=");if(1<Q.length){var pe=Q[0];Q=Q[1];var qe=pe.split("_");I=2<=qe.length&&"type"==qe[1]?I+(pe+"=")+Q+"&":I+(pe+"=redacted&")}}else I=null;else I=b;return"XMLHTTP REQ ("+l+") [attempt "+p+"]: "+e+"\n"+r+"\n"+I})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Ko(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function So(s,e,r){let p,l=!0;for(;!s.I&&s.C<r.length;){if(p=La(s,r),p==Ks){4==e&&(s.o=4,Gi(14),l=!1),ui(s.j,s.m,null,"[Incomplete Response]");break}if(p==Co){s.o=4,Gi(15),ui(s.j,s.m,r,"[Invalid Chunk]"),l=!1;break}ui(s.j,s.m,p,null),Jo(s,p)}Ko(s)&&p!=Ks&&p!=Co&&(s.h.g="",s.C=0),4!=e||0!=r.length||s.h.h||(s.o=1,Gi(16),l=!1),s.i=s.i&&l,l?0<r.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),ms(e),e.L=!0,Gi(11))):(ui(s.j,s.m,r,"[Invalid Chunked Response]"),Qo(s),ts(s))}function La(s,e){var r=s.C,l=e.indexOf("\n",r);return-1==l?Ks:(r=Number(e.substring(r,l)),isNaN(r)?Co:(l+=1)+r>e.length?Ks:(e=e.substr(l,r),s.C=l+r,e))}function bo(s){s.Y=Date.now()+s.P,Io(s,s.P)}function Io(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Bi(Tn(s.eb,s),e)}function Yo(s){s.B&&(lt.clearTimeout(s.B),s.B=null)}function ts(s){0==s.l.G||s.I||ki(s.l,s)}function Qo(s){Yo(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,wr(s.W),At(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Jo(s,e){try{var r=s.l;if(0!=r.G&&(r.g==s||no(r.i,s)))if(r.I=s.N,!s.J&&no(r.i,s)&&3==r.G){try{var l=r.Ca.g.parse(e)}catch(Q){l=null}if(Array.isArray(l)&&3==l.length){var p=l;if(0==p[0])e:if(r.u)r.ta=p[1],0<r.ta-r.U&&37500>p[2]&&r.N&&0==r.A&&!r.v&&(r.v=Bi(Tn(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<s.F))break e;$i(r),va(r)}Bn(r),Gi(18)}if(1>=As(r.i)&&r.ka){try{r.ka()}catch(Q){}r.ka=void 0}}else Ys(r,11)}else if((s.J||r.g==s)&&$i(r),!Rr(e))for(p=r.Ca.g.parse(e),e=0;e<p.length;e++){let Q=p[e];if(r.U=Q[0],Q=Q[1],2==r.G)if("c"==Q[0]){r.J=Q[1],r.la=Q[2];const pe=Q[3];null!=pe&&(r.ma=pe,r.h.info("VER="+r.ma));const qe=Q[4];null!=qe&&(r.za=qe,r.h.info("SVER="+r.za));const Tt=Q[5];null!=Tt&&"number"==typeof Tt&&0<Tt&&(r.K=l=1.5*Tt,r.h.info("backChannelRequestTimeoutMs_="+l)),l=r;const zt=s.g;if(zt){const Kt=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kt){var b=l.i;!b.g&&(Qn(Kt,"spdy")||Qn(Kt,"quic")||Qn(Kt,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(lo(b,b.h),b.h=null))}if(l.D){const gn=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;gn&&(l.sa=gn,oe(l.F,l.D,gn))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-s.F,r.h.info("Handshake RTT: "+r.O+"ms"));var I=s;if((l=r).oa=co(l,l.H?l.la:null,l.W),I.J){Zi(l.i,I);var N=I,$=l.K;$&&N.setTimeout($),N.B&&(Yo(N),bo(N)),l.g=I}else Vr(l);0<r.l.length&&Al(r)}else"stop"!=Q[0]&&"close"!=Q[0]||Ys(r,7);else 3==r.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Ys(r,7):js(r):"noop"!=Q[0]&&r.j&&r.j.wa(Q),r.A=0)}Gr(4)}catch(Q){}}function Is(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Qe(s)||"string"==typeof s)on(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var r=s.T();else if(s.R&&"function"==typeof s.R)r=void 0;else if(Qe(s)||"string"==typeof s){r=[];for(var l=s.length,p=0;p<l;p++)r.push(p)}else for(p in r=[],l=0,s)r[l++]=p;l=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Qe(s)){for(var e=[],r=s.length,l=0;l<r;l++)e.push(s[l]);return e}for(l in e=[],r=0,s)e[r++]=s[l];return e}(s),p=l.length;for(var b=0;b<p;b++)e.call(void 0,l[b],r&&r[b],s)}}function Eo(s,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var l=0;l<r;l+=2)this.set(arguments[l],arguments[l+1])}else if(s)if(s instanceof Eo)for(r=s.T(),l=0;l<r.length;l++)this.set(r[l],s.get(r[l]));else for(l in s)this.set(l,s[l])}function ns(s){if(s.i!=s.g.length){for(var e=0,r=0;e<s.g.length;){var l=s.g[e];Vs(s.h,l)&&(s.g[r++]=l),e++}s.g.length=r}if(s.i!=s.g.length){var p={};for(r=e=0;e<s.g.length;)Vs(p,l=s.g[e])||(s.g[r++]=l,p[l]=1),e++;s.g.length=r}}function Vs(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(Nt=ma.prototype).setTimeout=function(s){this.P=s},Nt.gb=function(s){s=s.target;const e=this.L;e&&3==Sr(s)?e.l():this.Ia(s)},Nt.Ia=function(s){try{if(s==this.g)e:{const pe=Sr(this.g);var e=this.g.Da();const qe=this.g.ba();if(!(3>pe)&&(3!=pe||$r||this.g&&(this.h.h||this.g.ga()||xo(this.g)))){this.I||4!=pe||7==e||Gr(8==e||0>=qe?3:2),Yo(this);var r=this.g.ba();this.N=r;t:if(Ko(this)){var l=xo(this.g);s="";var p=l.length,b=4==Sr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qo(this),ts(this);var I="";break t}this.h.i=new lt.TextDecoder}for(e=0;e<p;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:b&&e==p-1});l.splice(0,p),this.h.g+=s,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==r,function(s,e,r,l,p,b,I){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+p+"]: "+e+"\n"+r+"\n"+b+" "+I})}(this.j,this.u,this.A,this.m,this.X,pe,r),this.i){if(this.$&&!this.J){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(N)){var Q=N;break t}}Q=null}if(!(r=Q)){this.i=!1,this.o=3,Gi(12),Qo(this),ts(this);break e}ui(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jo(this,r)}this.U?(So(this,pe,I),$r&&this.i&&3==pe&&(mt(this.V,this.W,"tick",this.fb),this.W.start())):(ui(this.j,this.m,I,null),Jo(this,I)),4==pe&&Qo(this),this.i&&!this.I&&(4==pe?ki(this.l,this):(this.i=!1,bo(this)))}else 400==r&&0<I.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),Qo(this),ts(this)}}}catch(pe){}},Nt.fb=function(){if(this.g){var s=Sr(this.g),e=this.g.ga();this.C<e.length&&(Yo(this),So(this,s,e),this.i&&4!=s&&bo(this))}},Nt.cancel=function(){this.I=!0,Qo(this)},Nt.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gr(3),Gi(17)),Qo(this),this.o=2,ts(this)):Io(this,this.Y-s)},(Nt=Eo.prototype).R=function(){ns(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},Nt.T=function(){return ns(this),this.g.concat()},Nt.get=function(s,e){return Vs(this.h,s)?this.h[s]:e},Nt.set=function(s,e){Vs(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},Nt.forEach=function(s,e){for(var r=this.T(),l=0;l<r.length;l++){var p=r[l],b=this.get(p);s.call(e,b,p,this)}};var ao=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Us(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Us){this.g=void 0!==e?e:s.g,to(this,s.j),this.s=s.s,G(this,s.i),se(this,s.m),this.l=s.l,e=s.h;var r=new Si;r.i=e.i,e.g&&(r.g=new Eo(e.g),r.h=e.h),Z(this,r),this.o=s.o}else s&&(r=String(s).match(ao))?(this.g=!!e,to(this,r[1]||"",!0),this.s=ae(r[2]||""),G(this,r[3]||"",!0),se(this,r[4]),this.l=ae(r[5]||"",!0),Z(this,r[6]||"",!0),this.o=ae(r[7]||"")):(this.g=!!e,this.h=new Si(null,this.g))}function ji(s){return new Us(s)}function to(s,e,r){s.j=r?ae(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function G(s,e,r){s.i=r?ae(e,!0):e}function se(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function Z(s,e,r){e instanceof Si?(s.h=e,function(s,e){e&&!s.j&&(gr(s),s.i=null,s.g.forEach(function(r,l){var p=l.toLowerCase();l!=p&&(Nn(this,l),Ds(this,p,r))},s)),s.j=e}(s.h,s.g)):(r||(e=je(e,On)),s.h=new Si(e,s.g))}function oe(s,e,r){s.h.set(e,r)}function $e(s){return oe(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function ae(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function je(s,e,r){return"string"==typeof s?(s=encodeURI(s).replace(e,ot),r&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function ot(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Us.prototype.toString=function(){var s=[],e=this.j;e&&s.push(je(e,jt,!0),":");var r=this.i;return(r||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(je(e,jt,!0),"@"),s.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&s.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&s.push("/"),s.push(je(r,"/"==r.charAt(0)?Sn:Wt,!0))),(r=this.h.toString())&&s.push("?",r),(r=this.o)&&s.push("#",je(r,ri)),s.join("")};var jt=/[#\/\?@]/g,Wt=/[#\?:]/g,Sn=/[#\?]/g,On=/[#\?@]/g,ri=/#/g;function Si(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function gr(s){s.g||(s.g=new Eo,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var r=0;r<s.length;r++){var l=s[r].indexOf("="),p=null;if(0<=l){var b=s[r].substring(0,l);p=s[r].substring(l+1)}else b=s[r];e(b,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}(s.i,function(e,r){s.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Nn(s,e){gr(s),e=ps(s,e),Vs(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,Vs((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&ns(s)))}function Hi(s,e){return gr(s),e=ps(s,e),Vs(s.g.h,e)}function Ds(s,e,r){Nn(s,e),0<r.length&&(s.i=null,s.g.set(ps(s,e),Ei(r)),s.h+=r.length)}function ps(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function cl(s){this.l=s||hr,s=lt.PerformanceNavigationTiming?0<(s=lt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(lt.g&&lt.g.Ea&&lt.g.Ea()&&lt.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Nt=Si.prototype).add=function(s,e){gr(this),this.i=null,s=ps(this,s);var r=this.g.get(s);return r||this.g.set(s,r=[]),r.push(e),this.h+=1,this},Nt.forEach=function(s,e){gr(this),this.g.forEach(function(r,l){on(r,function(p){s.call(e,p,l,this)},this)},this)},Nt.T=function(){gr(this);for(var s=this.g.R(),e=this.g.T(),r=[],l=0;l<e.length;l++)for(var p=s[l],b=0;b<p.length;b++)r.push(e[l]);return r},Nt.R=function(s){gr(this);var e=[];if("string"==typeof s)Hi(this,s)&&(e=mr(e,this.g.get(ps(this,s))));else{s=this.g.R();for(var r=0;r<s.length;r++)e=mr(e,s[r])}return e},Nt.set=function(s,e){return gr(this),this.i=null,Hi(this,s=ps(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Nt.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},Nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),r=0;r<e.length;r++){var l=e[r],p=encodeURIComponent(String(l));l=this.R(l);for(var b=0;b<l.length;b++){var I=p;""!==l[b]&&(I+="="+encodeURIComponent(String(l[b]))),s.push(I)}}return this.i=s.join("&")};var hr=10;function Ki(s){return!!s.h||!!s.g&&s.g.size>=s.j}function As(s){return s.h?1:s.g?s.g.size:0}function no(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function lo(s,e){s.g?s.g.add(e):s.h=e}function Zi(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Ao(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const r of s.g.values())e=e.concat(r.D);return e}return Ei(s.i)}function dl(){}function Vt(){this.g=new dl}function Wr(s,e,r){const l=r||"";try{Is(s,function(p,b){let I=p;Je(p)&&(I=Jn(p)),e.push(l+b+"="+encodeURIComponent(I))})}catch(p){throw e.push(l+"type="+encodeURIComponent("_badmap")),p}}function D(s,e,r,l,p){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,p(l)}catch(b){}}function x(s){this.l=s.$b||null,this.j=s.ib||!1}function B(s,e){Fr.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=ee,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cl.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},dl.prototype.stringify=function(s){return lt.JSON.stringify(s,void 0)},dl.prototype.parse=function(s){return lt.JSON.parse(s,void 0)},un(x,Ws),x.prototype.g=function(){return new B(this.l,this.j)},x.prototype.i=function(s){return function(){return s}}({}),un(B,Fr);var ee=0;function fe(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function Ne(s){s.readyState=4,s.l=null,s.j=null,s.A=null,ze(s)}function ze(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Nt=B.prototype).open=function(s,e){if(this.readyState!=ee)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,ze(this)},Nt.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||lt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ne(this)),this.readyState=ee},Nt.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,ze(this)),this.g&&(this.readyState=3,ze(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==lt.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fe(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Nt.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Ne(this):ze(this),3==this.readyState&&fe(this)}},Nt.Ua=function(s){this.g&&(this.response=this.responseText=s,Ne(this))},Nt.Ta=function(s){this.g&&(this.response=s,Ne(this))},Nt.ha=function(){this.g&&Ne(this)},Nt.setRequestHeader=function(s,e){this.v.append(s,e)},Nt.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Nt.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var r=e.next();!r.done;)s.push((r=r.value)[0]+": "+r[1]),r=e.next();return s.join("\r\n")},Object.defineProperty(B.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var gt=lt.JSON.parse;function Pt(s){Fr.call(this),this.headers=new Eo,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hn,this.K=this.L=!1}un(Pt,Fr);var hn="",Dn=/^https?$/i,nr=["POST","PUT"];function qn(s){return"content-type"==s.toLowerCase()}function ar(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Hr(s),Ci(s)}function Hr(s){s.D||(s.D=!0,Lr(s,"complete"),Lr(s,"error"))}function Mi(s){if(s.h&&void 0!==ct&&(!s.C[1]||4!=Sr(s)||2!=s.ba()))if(s.v&&4==Sr(s))ni(s.Fa,0,s);else if(Lr(s,"readystatechange"),4==Sr(s)){s.h=!1;try{const N=s.ba();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var l;if(l=0===N){var p=String(s.H).match(ao)[1]||null;if(!p&&lt.self&&lt.self.location){var b=lt.self.location.protocol;p=b.substr(0,b.length-1)}l=!Dn.test(p?p.toLowerCase():"")}r=l}if(r)Lr(s,"complete"),Lr(s,"success");else{s.m=6;try{var I=2<Sr(s)?s.g.statusText:""}catch($){I=""}s.j=I+" ["+s.ba()+"]",Hr(s)}}finally{Ci(s)}}}function Ci(s,e){if(s.g){Bs(s);const r=s.g,l=s.C[0]?Dt:null;s.g=null,s.C=null,e||Lr(s,"ready");try{r.onreadystatechange=l}catch(p){}}}function Bs(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(lt.clearTimeout(s.A),s.A=null)}function Sr(s){return s.g?s.g.readyState:0}function xo(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case hn:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Yi(s,e,r){e:{for(l in r){var l=!1;break e}l=!0}l||(r=function(s){let e="";return _r(s,function(r,l){e+=l,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof s?null!=r&&encodeURIComponent(String(r)):oe(s,e,r))}function uo(s,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[s]||e}function Oo(s){this.za=0,this.l=[],this.h=new an,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uo("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uo("baseRetryDelayMs",5e3,s),this.$a=uo("retryDelaySeedMs",1e4,s),this.Ya=uo("forwardChannelMaxRetries",2,s),this.ra=uo("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new cl(s&&s.concurrentRequestLimit),this.Ca=new Vt,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function js(s){if(Qi(s),3==s.G){var e=s.V++,r=ji(s.F);oe(r,"SID",s.J),oe(r,"RID",e),oe(r,"TYPE","terminate"),rr(s,r),(e=new ma(s,s.h,e,void 0)).K=2,e.v=$e(ji(r)),r=!1,lt.navigator&&lt.navigator.sendBeacon&&(r=lt.navigator.sendBeacon(e.v.toString(),"")),!r&&lt.Image&&((new Image).src=e.v,r=!0),r||(e.g=ys(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bo(e)}Lo(s)}function va(s){s.g&&(ms(s),s.g.cancel(),s.g=null)}function Qi(s){va(s),s.u&&(lt.clearTimeout(s.u),s.u=null),$i(s),s.i.cancel(),s.m&&("number"==typeof s.m&&lt.clearTimeout(s.m),s.m=null)}function ea(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&Al(s)}function Al(s){Ki(s.i)||s.m||(s.m=!0,ur(s.Ha,s),s.C=0)}function Gn(s,e){var r;r=e?e.m:s.V++;const l=ji(s.F);oe(l,"SID",s.J),oe(l,"RID",r),oe(l,"AID",s.U),rr(s,l),s.o&&s.s&&Yi(l,s.o,s.s),r=new ma(s,s.h,r,s.C+1),null===s.o&&(r.H=s.s),e&&(s.l=e.D.concat(s.l)),e=ir(s,r,1e3),r.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),lo(s.i,r),vo(r,l,e)}function rr(s,e){s.j&&Is({},function(r,l){oe(e,l,r)})}function ir(s,e,r){r=Math.min(s.l.length,r);var l=s.j?Tn(s.j.Oa,s.j,s):null;e:{var p=s.l;let b=-1;for(;;){const I=["count="+r];-1==b?0<r?(b=p[0].h,I.push("ofs="+b)):b=0:I.push("ofs="+b);let N=!0;for(let $=0;$<r;$++){let Q=p[$].h;const pe=p[$].g;if(Q-=b,0>Q)b=Math.max(0,p[$].h-100),N=!1;else try{Wr(pe,I,"req"+Q+"_")}catch(qe){l&&l(pe)}}if(N){l=I.join("&");break e}}}return s=s.l.splice(0,r),e.D=s,l}function Vr(s){s.g||s.u||(s.Y=1,ur(s.Ga,s),s.A=0)}function Bn(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Bi(Tn(s.Ga,s),rs(s,s.A)),s.A++,0))}function ms(s){null!=s.B&&(lt.clearTimeout(s.B),s.B=null)}function Ri(s){s.g=new ma(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=ji(s.oa);oe(e,"RID","rpc"),oe(e,"SID",s.J),oe(e,"CI",s.N?"0":"1"),oe(e,"AID",s.U),rr(s,e),oe(e,"TYPE","xmlhttp"),s.o&&s.s&&Yi(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var r=s.g;s=s.la,r.K=1,r.v=$e(ji(e)),r.s=null,r.U=!0,To(r,s)}function $i(s){null!=s.v&&(lt.clearTimeout(s.v),s.v=null)}function ki(s,e){var r=null;if(s.g==e){$i(s),ms(s),s.g=null;var l=2}else{if(!no(s.i,e))return;r=e.D,Zi(s.i,e),l=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==l){r=e.s?e.s.length:0,e=Date.now()-e.F;var p=s.C;Lr(l=fs(),new es(l,r,e,p)),Al(s)}else Vr(s);else if(3==(p=e.o)||0==p&&0<s.I||!(1==l&&function(s,e){return!(As(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Bi(Tn(s.Ha,s,e),rs(s,s.C)),s.C++,0)))}(s,e)||2==l&&Bn(s)))switch(r&&0<r.length&&(e=s.i,e.i=e.i.concat(r)),p){case 1:Ys(s,5);break;case 4:Ys(s,10);break;case 3:Ys(s,6);break;default:Ys(s,2)}}function rs(s,e){let r=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(r*=2),r*e}function Ys(s,e){if(s.h.info("Error code "+e),2==e){var r=null;s.j&&(r=null);var l=Tn(s.jb,s);r||(r=new Us("//www.google.com/images/cleardot.gif"),lt.location&&"http"==lt.location.protocol||to(r,"https"),$e(r)),function(s,e){const r=new an;if(lt.Image){const l=new Image;l.onload=sr(D,r,l,"TestLoadImage: loaded",!0,e),l.onerror=sr(D,r,l,"TestLoadImage: error",!1,e),l.onabort=sr(D,r,l,"TestLoadImage: abort",!1,e),l.ontimeout=sr(D,r,l,"TestLoadImage: timeout",!1,e),lt.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(r.toString(),l)}else Gi(2);s.G=0,s.j&&s.j.va(e),Lo(s),Qi(s)}function Lo(s){s.G=0,s.I=-1,s.j&&((0!=Ao(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Ei(s.l),s.l.length=0),s.j.ua())}function co(s,e,r){let l=function(s){return s instanceof Us?ji(s):new Us(s,void 0)}(r);if(""!=l.i)e&&G(l,e+"."+l.i),se(l,l.m);else{const p=lt.location;l=function(s,e,r,l){var p=new Us(null,void 0);return s&&to(p,s),e&&G(p,e),r&&se(p,r),l&&(p.l=l),p}(p.protocol,e?e+"."+p.hostname:p.hostname,+p.port,r)}return s.aa&&_r(s.aa,function(p,b){oe(l,b,p)}),r=s.sa,(e=s.D)&&r&&oe(l,e,r),oe(l,"VER",s.ma),rr(s,l),l}function ys(s,e,r){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pt(r&&s.Ba&&!s.qa?new x({ib:!0}):s.qa)).L=s.H,e}function Wa(){}function qi(){if(Zr&&!(10<=Number(xe)))throw Error("Environmental error: no available transport.")}function Hs(s,e){Fr.call(this),this.g=new Oo(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!Rr(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rr(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Ea(this)}function Vo(s){Ss.call(this);var e=s.__sm__;if(e){e:{for(const r in e){s=r;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function ba(){eo.call(this),this.status=1}function Ea(s){this.g=s}(Nt=Pt.prototype).ea=function(s,e,r,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oo.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:oo),this.g.onreadystatechange=Tn(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(b){return void ar(this,b)}s=r||"";const p=new Eo(this.headers);l&&Is(l,function(b,I){p.set(I,b)}),l=function(s){e:{var e=qn;const r=s.length,l="string"==typeof s?s.split(""):s;for(let p=0;p<r;p++)if(p in l&&e.call(void 0,l[p],p,s)){e=p;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(p.T()),r=lt.FormData&&s instanceof lt.FormData,!(0<=li(nr,e))||l||r||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),p.forEach(function(b,I){this.g.setRequestHeader(I,b)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bs(this),0<this.B&&((this.K=function(s){return Zr&&zr()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tn(this.pa,this)):this.A=ni(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(b){ar(this,b)}},Nt.pa=function(){void 0!==ct&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},Nt.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Lr(this,"complete"),Lr(this,"abort"),Ci(this))},Nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ci(this,!0)),Pt.Z.M.call(this)},Nt.Fa=function(){this.s||(this.F||this.v||this.l?Mi(this):this.cb())},Nt.cb=function(){Mi(this)},Nt.ba=function(){try{return 2<Sr(this)?this.g.status:-1}catch(s){return-1}},Nt.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Nt.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),gt(e)}},Nt.Da=function(){return this.m},Nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Nt=Oo.prototype).ma=8,Nt.G=1,Nt.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},Nt.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const p=new ma(this,this.h,s,void 0);let b=this.s;if(this.P&&(b?(b=Yr(b),Br(b,this.P)):b=this.P),null===this.o&&(p.H=b),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var l=this.l[r];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=ir(this,p,e),oe(r=ji(this.F),"RID",s),oe(r,"CVER",22),this.D&&oe(r,"X-HTTP-Session-Id",this.D),rr(this,r),this.o&&b&&Yi(r,this.o,b),lo(this.i,p),this.Ra&&oe(r,"TYPE","init"),this.ja?(oe(r,"$req",e),oe(r,"SID","null"),p.$=!0,vo(p,r,null)):vo(p,r,e),this.G=2}}else 3==this.G&&(s?Gn(this,s):0==this.l.length||Ki(this.i)||Gn(this))},Nt.Ga=function(){if(this.u=null,Ri(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Bi(Tn(this.bb,this),s)}},Nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gi(10),va(this),Ri(this))},Nt.ab=function(){null!=this.v&&(this.v=null,va(this),Bn(this),Gi(19))},Nt.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Gi(2)):(this.h.info("Failed to ping google.com"),Gi(1))},(Nt=Wa.prototype).xa=function(){},Nt.wa=function(){},Nt.va=function(){},Nt.ua=function(){},Nt.Oa=function(){},qi.prototype.g=function(s,e){return new Hs(s,e)},un(Hs,Fr),Hs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,r=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),ur(Tn(s.hb,s,e))),Gi(0),s.W=e,s.aa=r||{},s.N=s.X,s.F=co(s,null,s.W),Al(s)},Hs.prototype.close=function(){js(this.g)},Hs.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,ea(this.g,e)}else this.v?((e={}).__data__=Jn(s),ea(this.g,e)):ea(this.g,s)},Hs.prototype.M=function(){this.g.j=null,delete this.j,js(this.g),delete this.g,Hs.Z.M.call(this)},un(Vo,Ss),un(ba,eo),un(Ea,Wa),Ea.prototype.xa=function(){Lr(this.g,"a")},Ea.prototype.wa=function(s){Lr(this.g,new Vo(s))},Ea.prototype.va=function(s){Lr(this.g,new ba(s))},Ea.prototype.ua=function(){Lr(this.g,"b")},qi.prototype.createWebChannel=qi.prototype.g,Hs.prototype.send=Hs.prototype.u,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Dl.COMPLETE="complete",Fa.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",Fr.prototype.listen=Fr.prototype.N,Pt.prototype.listenOnce=Pt.prototype.O,Pt.prototype.getLastError=Pt.prototype.La,Pt.prototype.getLastErrorCode=Pt.prototype.Da,Pt.prototype.getStatus=Pt.prototype.ba,Pt.prototype.getResponseJson=Pt.prototype.Qa,Pt.prototype.getResponseText=Pt.prototype.ga,Pt.prototype.send=Pt.prototype.ea;var qs=Rt.createWebChannelTransport=function(){return new qi},Va=Rt.getStatEventTarget=function(){return fs()},na=Rt.ErrorCode=zs,fu=Rt.EventType=Dl,Ua=Rt.Event=Di,Od=Rt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hl=Rt.FetchXmlHttpFactory=x,fl=Rt.WebChannel=Fa,_s=Rt.XhrIo=Pt;const Vl="@firebase/firestore";class vs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vs.UNAUTHENTICATED=new vs(null),vs.GOOGLE_CREDENTIALS=new vs("google-credentials-uid"),vs.FIRST_PARTY=new vs("first-party-uid"),vs.MOCK_USER=new vs("mock-user");let Uo="9.9.4";const ra=new Zt.Yd("@firebase/firestore");function xl(){return ra.logLevel}function Xt(s,...e){if(ra.logLevel<=Zt.in.DEBUG){const r=e.map(Gu);ra.debug(`Firestore (${Uo}): ${s}`,...r)}}function zi(s,...e){if(ra.logLevel<=Zt.in.ERROR){const r=e.map(Gu);ra.error(`Firestore (${Uo}): ${s}`,...r)}}function Mo(s,...e){if(ra.logLevel<=Zt.in.WARN){const r=e.map(Gu);ra.warn(`Firestore (${Uo}): ${s}`,...r)}}function Gu(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(r){return s}}function Fn(s="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+s;throw zi(e),new Error(e)}function vr(s,e){s||Fn()}function An(s,e){return s}const xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $t extends St.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class sa{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ul{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(vs.UNAUTHENTICATED))}shutdown(){}}class jc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Md{constructor(e){this.t=e,this.currentUser=vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var l=this;let p=this.i;const b=Q=>this.i!==p?(p=this.i,r(Q)):Promise.resolve();let I=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new cs,e.enqueueRetryable(()=>b(this.currentUser))};const N=()=>{const Q=I;e.enqueueRetryable((0,ce.Z)(function*(){yield Q.promise,yield b(l.currentUser)}))},$=Q=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(Q=>$(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?$(Q):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new cs)}},0),N()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(l=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(vr("string"==typeof l.accessToken),new sa(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vr(null===e||"string"==typeof e),new vs(e)}}class U{constructor(e,r,l,p){this.h=e,this.l=r,this.m=l,this.g=p,this.type="FirstParty",this.user=vs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vr(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class M{constructor(e,r,l,p){this.h=e,this.l=r,this.m=l,this.g=p}getToken(){return Promise.resolve(new U(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const l=b=>{null!=b.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const I=b.token!==this.A;return this.A=b.token,Xt("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?r(b.token):Promise.resolve()};this.o=b=>{e.enqueueRetryable(()=>l(b))};const p=b=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.T.onInit(b=>p(b)),setTimeout(()=>{if(!this.appCheck){const b=this.T.getImmediate({optional:!0});b?p(b):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(vr("string"==typeof r.token),this.A=r.token,new O(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function le(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let l=0;l<s;l++)r[l]=Math.floor(256*Math.random());return r}class Me{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const p=le(40);for(let b=0;b<p.length;++b)l.length<20&&p[b]<r&&(l+=e.charAt(p[b]%e.length))}return l}}function Oe(s,e){return s<e?-1:s>e?1:0}function Ht(s,e,r){return s.length===e.length&&s.every((l,p)=>r(l,e[p]))}function Ln(s){return s+"\0"}class Kn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $t(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $t(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new $t(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $t(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*r));return new Kn(r,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{constructor(e){this.timestamp=e}static fromTimestamp(e){return new en(e)}static min(){return new en(new Kn(0,0))}static max(){return new en(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pi{constructor(e,r,l){void 0===r?r=0:r>e.length&&Fn(),void 0===l?l=e.length-r:l>e.length-r&&Fn(),this.segments=e,this.offset=r,this.len=l}get length(){return this.len}isEqual(e){return 0===pi.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(l=>{r.push(l)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,l=this.limit();r<l;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const l=Math.min(e.length,r.length);for(let p=0;p<l;p++){const b=e.get(p),I=r.get(p);if(b<I)return-1;if(b>I)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class xn extends pi{construct(e,r,l){return new xn(e,r,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const l of e){if(l.indexOf("//")>=0)throw new $t(xt.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);r.push(...l.split("/").filter(p=>p.length>0))}return new xn(r)}static emptyPath(){return new xn([])}}const is=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends pi{construct(e,r,l){return new Qr(e,r,l)}static isValidIdentifier(e){return is.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const r=[];let l="",p=0;const b=()=>{if(0===l.length)throw new $t(xt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(l),l=""};let I=!1;for(;p<e.length;){const N=e[p];if("\\"===N){if(p+1===e.length)throw new $t(xt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[p+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new $t(xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=$,p+=2}else"`"===N?(I=!I,p++):"."!==N||I?(l+=N,p++):(b(),p++)}if(b(),I)throw new $t(xt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(r)}static emptyPath(){return new Qr([])}}class fn{constructor(e){this.path=e}static fromPath(e){return new fn(xn.fromString(e))}static fromName(e){return new fn(xn.fromString(e).popFirst(5))}static empty(){return new fn(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return xn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new xn(e.slice()))}}class wa{constructor(e,r,l,p){this.indexId=e,this.collectionGroup=r,this.fields=l,this.indexState=p}}function Qs(s){return s.fields.find(e=>2===e.kind)}function ss(s){return s.fields.filter(e=>2!==e.kind)}wa.UNKNOWN_ID=-1;class Rd{constructor(e,r){this.fieldPath=e,this.kind=r}}class kd{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new kd(0,oa.min())}}function $u(s,e){const r=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,p=en.fromTimestamp(1e9===l?new Kn(r+1,0):new Kn(r,l));return new oa(p,fn.empty(),e)}function Pi(s){return new oa(s.readTime,s.key,-1)}class oa{constructor(e,r,l){this.readTime=e,this.documentKey=r,this.largestBatchId=l}static min(){return new oa(en.min(),fn.empty(),-1)}static max(){return new oa(en.max(),fn.empty(),-1)}}function pu(s,e){let r=s.readTime.compareTo(e.readTime);return 0!==r?r:(r=fn.comparator(s.documentKey,e.documentKey),0!==r?r:Oe(s.largestBatchId,e.largestBatchId))}const Nh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bl(s){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,ce.Z)(function*(s){if(s.code!==xt.FAILED_PRECONDITION||s.message!==Nh)throw s;Xt("LocalStore","Unexpectedly lost primary lease")}),Pd.apply(this,arguments)}class It{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new It((l,p)=>{this.nextCallback=b=>{this.wrapSuccess(e,b).next(l,p)},this.catchCallback=b=>{this.wrapFailure(r,b).next(l,p)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof It?r:It.resolve(r)}catch(r){return It.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):It.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):It.reject(r)}static resolve(e){return new It((r,l)=>{r(e)})}static reject(e){return new It((r,l)=>{l(e)})}static waitFor(e){return new It((r,l)=>{let p=0,b=0,I=!1;e.forEach(N=>{++p,N.next(()=>{++b,I&&b===p&&r()},$=>l($))}),I=!0,b===p&&r()})}static or(e){let r=It.resolve(!1);for(const l of e)r=r.next(p=>p?It.resolve(p):l());return r}static forEach(e,r){const l=[];return e.forEach((p,b)=>{l.push(r.call(this,p,b))}),this.waitFor(l)}static mapArray(e,r){return new It((l,p)=>{const b=e.length,I=new Array(b);let N=0;for(let $=0;$<b;$++){const Q=$;r(e[Q]).next(pe=>{I[Q]=pe,++N,N===b&&l(I)},pe=>p(pe))}})}static doWhile(e,r){return new It((l,p)=>{const b=()=>{!0===e()?r().next(()=>{b()},p):l()};b()})}}class hc{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.P=new cs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{r.error?this.P.reject(new ho(e,r.error)):this.P.resolve()},this.transaction.onerror=l=>{const p=jl(l.target.error);this.P.reject(new ho(e,p))}}static open(e,r,l,p){try{return new hc(r,e.transaction(p,l))}catch(b){throw new ho(r,b)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Sf(r)}}class Ba{constructor(e,r,l){this.name=e,this.version=r,this.S=l,12.2===Ba.D((0,St.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xt("SimpleDb","Removing database:",e),Fi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,St.hl)())return!1;if(Ba.N())return!0;const e=(0,St.z$)(),r=Ba.D(e),l=0<r&&r<10,p=Ba.k(e),b=0<p&&p<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||b)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,r){return e.store(r)}static D(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static k(e){const r=e.match(/Android ([\d.]+)/i),l=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(l)}F(e){var r=this;return(0,ce.Z)(function*(){return r.db||(Xt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((l,p)=>{const b=indexedDB.open(r.name,r.version);b.onsuccess=I=>{l(I.target.result)},b.onblocked=()=>{p(new ho(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=I=>{const N=I.target.error;p("VersionError"===N.name?new $t(xt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new $t(xt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new ho(e,N))},b.onupgradeneeded=I=>{Xt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',I.oldVersion),r.S.$(I.target.result,b.transaction,I.oldVersion,r.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=l=>r.B(l)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,l,p){var b=this;return(0,ce.Z)(function*(){const I="readonly"===r;let N=0;for(;;){++N;try{b.db=yield b.F(e);const $=hc.open(b.db,e,I?"readonly":"readwrite",l),Q=p($).next(pe=>($.V(),pe)).catch(pe=>($.abort(pe),It.reject(pe))).toPromise();return Q.catch(()=>{}),yield $.v,Q}catch($){const Q=$,pe="FirebaseError"!==Q.name&&N<3;if(Xt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",pe),b.close(),!pe)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fh{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Fi(this.U.delete())}}class ho extends $t{constructor(e,r){super(xt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Js(s){return"IndexedDbTransactionError"===s.name}class Sf{constructor(e){this.store=e}put(e,r){let l;return void 0!==r?(Xt("SimpleDb","PUT",this.store.name,e,r),l=this.store.put(r,e)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Fi(l)}add(e){return Xt("SimpleDb","ADD",this.store.name,e,e),Fi(this.store.add(e))}get(e){return Fi(this.store.get(e)).next(r=>(void 0===r&&(r=null),Xt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Xt("SimpleDb","DELETE",this.store.name,e),Fi(this.store.delete(e))}count(){return Xt("SimpleDb","COUNT",this.store.name),Fi(this.store.count())}W(e,r){const l=this.options(e,r);if(l.index||"function"!=typeof this.store.getAll){const p=this.cursor(l),b=[];return this.H(p,(I,N)=>{b.push(N)}).next(()=>b)}{const p=this.store.getAll(l.range);return new It((b,I)=>{p.onerror=N=>{I(N.target.error)},p.onsuccess=N=>{b(N.target.result)}})}}J(e,r){const l=this.store.getAll(e,null===r?void 0:r);return new It((p,b)=>{l.onerror=I=>{b(I.target.error)},l.onsuccess=I=>{p(I.target.result)}})}Y(e,r){Xt("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,r);l.X=!1;const p=this.cursor(l);return this.H(p,(b,I,N)=>N.delete())}Z(e,r){let l;r?l=e:(l={},r=e);const p=this.cursor(l);return this.H(p,r)}tt(e){const r=this.cursor({});return new It((l,p)=>{r.onerror=b=>{const I=jl(b.target.error);p(I)},r.onsuccess=b=>{const I=b.target.result;I?e(I.primaryKey,I.value).next(N=>{N?I.continue():l()}):l()}})}H(e,r){const l=[];return new It((p,b)=>{e.onerror=I=>{b(I.target.error)},e.onsuccess=I=>{const N=I.target.result;if(!N)return void p();const $=new Fh(N),Q=r(N.primaryKey,N.value,$);if(Q instanceof It){const pe=Q.catch(qe=>($.done(),It.reject(qe)));l.push(pe)}$.isDone?p():null===$.G?N.continue():N.continue($.G)}}).next(()=>It.waitFor(l))}options(e,r){let l;return void 0!==e&&("string"==typeof e?l=e:r=e),{index:l,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const l=this.store.index(e.index);return e.X?l.openKeyCursor(e.range,r):l.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Fi(s){return new It((e,r)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const p=jl(l.target.error);r(p)}})}let Wu=!1;function jl(s){const e=Ba.D((0,St.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(r)>=0){const l=new $t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wu||(Wu=!0,setTimeout(()=>{throw l},0)),l}}return s}class If{constructor(e,r){this.asyncQueue=e,this.et=r,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var r=this;Xt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.Z)(function*(){r.task=null;try{Xt("IndexBackiller",`Documents written: ${yield r.et.st()}`)}catch(l){Js(l)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield Bl(l)}yield r.nt(1)}))}}class Ka{constructor(e,r){this.localStore=e,this.persistence=r}st(e=50){var r=this;return(0,ce.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>r.it(l,e))})()}it(e,r){const l=new Set;let p=r,b=!0;return It.doWhile(()=>!0===b&&p>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!l.has(I))return Xt("IndexBackiller",`Processing collection: ${I}`),this.rt(e,I,p).next(N=>{p-=N,l.add(I)});b=!1})).next(()=>r-p)}rt(e,r,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(p=>this.localStore.localDocuments.getNextDocuments(e,r,p,l).next(b=>{const I=b.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.ot(p,b)).next(N=>(Xt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(e,r,N))).next(()=>I.size)}))}ot(e,r){let l=e;return r.changes.forEach((p,b)=>{const I=Pi(b);pu(I,l)>0&&(l=I)}),new oa(l.readTime,l.documentKey,Math.max(r.batchId,e.largestBatchId))}}class os{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>r.writeSequenceNumber(l))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ya(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function Ca(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function pl(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}os.at=-1;class Ti{constructor(e,r){this.comparator=e,this.root=r||fo.EMPTY}insert(e,r){return new Ti(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,fo.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fo.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(0===l)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}indexOf(e){let r=0,l=this.root;for(;!l.isEmpty();){const p=this.comparator(e,l.key);if(0===p)return r+l.left.size;p<0?l=l.left:(r+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,l)=>(e(r,l),!1))}toString(){const e=[];return this.inorderTraversal((r,l)=>(e.push(`${r}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ta(this.root,e,this.comparator,!0)}}class Ta{constructor(e,r,l,p){this.isReverse=p,this.nodeStack=[];let b=1;for(;!e.isEmpty();)if(b=r?l(e.key,r):1,r&&p&&(b*=-1),b<0)e=this.isReverse?e.left:e.right;else{if(0===b){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fo{constructor(e,r,l,p,b){this.key=e,this.value=r,this.color=null!=l?l:fo.RED,this.left=null!=p?p:fo.EMPTY,this.right=null!=b?b:fo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,l,p,b){return new fo(null!=e?e:this.key,null!=r?r:this.value,null!=l?l:this.color,null!=p?p:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,l){let p=this;const b=l(e,p.key);return p=b<0?p.copy(null,null,null,p.left.insert(e,r,l),null):0===b?p.copy(null,r,null,null,null):p.copy(null,null,null,null,p.right.insert(e,r,l)),p.fixUp()}removeMin(){if(this.left.isEmpty())return fo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let l,p=this;if(r(e,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(e,r),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),0===r(e,p.key)){if(p.right.isEmpty())return fo.EMPTY;l=p.right.min(),p=p.copy(l.key,l.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(e,r))}return p.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fn();const e=this.left.check();if(e!==this.right.check())throw Fn();return e+(this.isRed()?0:1)}}fo.EMPTY=null,fo.RED=!0,fo.BLACK=!1,fo.EMPTY=new class{constructor(){this.size=0}get key(){throw Fn()}get value(){throw Fn()}get color(){throw Fn()}get left(){throw Fn()}get right(){throw Fn()}copy(s,e,r,l,p){return this}insert(s,e,r){return new fo(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Li{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,l)=>(e(r),!1))}forEachInRange(e,r){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const p=l.getNext();if(this.comparator(p.key,e[1])>=0)return;r(p.key)}}forEachWhile(e,r){let l;for(l=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Df(this.data.getIterator())}getIteratorFrom(e){return new Df(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(l=>{r=r.add(l)}),r}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const r=this.data.getIterator(),l=e.data.getIterator();for(;r.hasNext();){const p=r.getNext().key,b=l.getNext().key;if(0!==this.comparator(p,b))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Li(this.comparator);return r.data=e,r}}class Df{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hl(s){return s.hasNext()?s.getNext():void 0}class aa{constructor(e){this.fields=e,e.sort(Qr.comparator)}static empty(){return new aa([])}unionWith(e){let r=new Li(Qr.comparator);for(const l of this.fields)r=r.add(l);for(const l of e)r=r.add(l);return new aa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ht(this.fields,e.fields,(r,l)=>r.isEqual(l))}}class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new bs(r)}static fromUint8Array(e){const r=function(l){let p="";for(let b=0;b<l.length;++b)p+=String.fromCharCode(l[b]);return p}(e);return new bs(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let l=0;l<e.length;l++)r[l]=e.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const Ol=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(s){if(vr(!!s),"string"==typeof s){let e=0;const r=Ol.exec(s);if(vr(!!r),r[1]){let p=r[1];p=(p+"000000000").substr(0,9),e=Number(p)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Os(s.seconds),nanos:Os(s.nanos)}}function Os(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function gu(s){return"string"==typeof s?bs.fromBase64String(s):bs.fromUint8Array(s)}function Nd(s){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Lh(s){const e=s.mapValue.fields.__previous_value__;return Nd(e)?Lh(e):e}function Ku(s){const e=Ml(s.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class Vp{constructor(e,r,l,p,b,I,N,$){this.databaseId=e,this.appId=r,this.persistenceKey=l,this.host=p,this.ssl=b,this.forceLongPolling=I,this.autoDetectLongPolling=N,this.useFetchStreams=$}}class Sa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}function mu(s){return null==s}function yu(s){return 0===s&&1/s==-1/0}function fc(s){return"number"==typeof s&&Number.isInteger(s)&&!yu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_u={nullValue:"NULL_VALUE"};function la(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nd(s)?4:gc(s)?9007199254740991:10:Fn()}function gl(s,e){if(s===e)return!0;const r=la(s);if(r!==la(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ku(s).isEqual(Ku(e));case 3:return function(l,p){if("string"==typeof l.timestampValue&&"string"==typeof p.timestampValue&&l.timestampValue.length===p.timestampValue.length)return l.timestampValue===p.timestampValue;const b=Ml(l.timestampValue),I=Ml(p.timestampValue);return b.seconds===I.seconds&&b.nanos===I.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return p=e,gu(s.bytesValue).isEqual(gu(p.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,p){return Os(l.geoPointValue.latitude)===Os(p.geoPointValue.latitude)&&Os(l.geoPointValue.longitude)===Os(p.geoPointValue.longitude)}(s,e);case 2:return function(l,p){if("integerValue"in l&&"integerValue"in p)return Os(l.integerValue)===Os(p.integerValue);if("doubleValue"in l&&"doubleValue"in p){const b=Os(l.doubleValue),I=Os(p.doubleValue);return b===I?yu(b)===yu(I):isNaN(b)&&isNaN(I)}return!1}(s,e);case 9:return Ht(s.arrayValue.values||[],e.arrayValue.values||[],gl);case 10:return function(l,p){const b=l.mapValue.fields||{},I=p.mapValue.fields||{};if(Ya(b)!==Ya(I))return!1;for(const N in b)if(b.hasOwnProperty(N)&&(void 0===I[N]||!gl(b[N],I[N])))return!1;return!0}(s,e);default:return Fn()}var p}function vu(s,e){return void 0!==(s.values||[]).find(r=>gl(r,e))}function ql(s,e){if(s===e)return 0;const r=la(s),l=la(e);if(r!==l)return Oe(r,l);switch(r){case 0:case 9007199254740991:return 0;case 1:return Oe(s.booleanValue,e.booleanValue);case 2:return function(p,b){const I=Os(p.integerValue||p.doubleValue),N=Os(b.integerValue||b.doubleValue);return I<N?-1:I>N?1:I===N?0:isNaN(I)?isNaN(N)?0:-1:1}(s,e);case 3:return Hc(s.timestampValue,e.timestampValue);case 4:return Hc(Ku(s),Ku(e));case 5:return Oe(s.stringValue,e.stringValue);case 6:return function(p,b){const I=gu(p),N=gu(b);return I.compareTo(N)}(s.bytesValue,e.bytesValue);case 7:return function(p,b){const I=p.split("/"),N=b.split("/");for(let $=0;$<I.length&&$<N.length;$++){const Q=Oe(I[$],N[$]);if(0!==Q)return Q}return Oe(I.length,N.length)}(s.referenceValue,e.referenceValue);case 8:return function(p,b){const I=Oe(Os(p.latitude),Os(b.latitude));return 0!==I?I:Oe(Os(p.longitude),Os(b.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(p,b){const I=p.values||[],N=b.values||[];for(let $=0;$<I.length&&$<N.length;++$){const Q=ql(I[$],N[$]);if(Q)return Q}return Oe(I.length,N.length)}(s.arrayValue,e.arrayValue);case 10:return function(p,b){if(p===Qa.mapValue&&b===Qa.mapValue)return 0;if(p===Qa.mapValue)return 1;if(b===Qa.mapValue)return-1;const I=p.fields||{},N=Object.keys(I),$=b.fields||{},Q=Object.keys($);N.sort(),Q.sort();for(let pe=0;pe<N.length&&pe<Q.length;++pe){const qe=Oe(N[pe],Q[pe]);if(0!==qe)return qe;const Tt=ql(I[N[pe]],$[Q[pe]]);if(0!==Tt)return Tt}return Oe(N.length,Q.length)}(s.mapValue,e.mapValue);default:throw Fn()}}function Hc(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Oe(s,e);const r=Ml(s),l=Ml(e),p=Oe(r.seconds,l.seconds);return 0!==p?p:Oe(r.nanos,l.nanos)}function qc(s){return Yu(s)}function Yu(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const p=Ml(l);return`time(${p.seconds},${p.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?gu(s.bytesValue).toBase64():"referenceValue"in s?fn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let p="[",b=!0;for(const I of l.values||[])b?b=!1:p+=",",p+=Yu(I);return p+"]"}(s.arrayValue):"mapValue"in s?function(l){const p=Object.keys(l.fields||{}).sort();let b="{",I=!0;for(const N of p)I?I=!1:b+=",",b+=`${N}:${Yu(l.fields[N])}`;return b+"}"}(s.mapValue):Fn();var e}function ml(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Gl(s){return!!s&&"integerValue"in s}function pc(s){return!!s&&"arrayValue"in s}function Ms(s){return!!s&&"nullValue"in s}function Vh(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function Ia(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ca(s.mapValue.fields,(r,l)=>e.mapValue.fields[r]=Ia(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ia(s.arrayValue.values[r]);return e}return Object.assign({},s)}function gc(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qg(s){return"nullValue"in s?_u:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?ml(Sa.empty(),fn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Fn()}function Af(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?ml(Sa.empty(),fn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Qa:Fn()}function Fd(s,e){const r=ql(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Jg(s,e){const r=ql(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Gs{constructor(e){this.value=e}static empty(){return new Gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let l=0;l<e.length-1;++l)if(r=(r.mapValue.fields||{})[e.get(l)],!Gc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(r)}setAll(e){let r=Qr.emptyPath(),l={},p=[];e.forEach((I,N)=>{if(!r.isImmediateParentOf(N)){const $=this.getFieldsMap(r);this.applyChanges($,l,p),l={},p=[],r=N.popLast()}I?l[N.lastSegment()]=Ia(I):p.push(N.lastSegment())});const b=this.getFieldsMap(r);this.applyChanges(b,l,p)}delete(e){const r=this.field(e.popLast());Gc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return gl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let l=0;l<e.length;++l){let p=r.mapValue.fields[e.get(l)];Gc(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},r.mapValue.fields[e.get(l)]=p),r=p}return r.mapValue.fields}applyChanges(e,r,l){Ca(r,(p,b)=>e[p]=b);for(const p of l)delete e[p]}clone(){return new Gs(Ia(this.value))}}function yl(s){const e=[];return Ca(s.fields,(r,l)=>{const p=new Qr([r]);if(Gc(l)){const b=yl(l.mapValue).fields;if(0===b.length)e.push(p);else for(const I of b)e.push(p.child(I))}else e.push(p)}),new aa(e)}class xi{constructor(e,r,l,p,b,I){this.key=e,this.documentType=r,this.version=l,this.readTime=p,this.data=b,this.documentState=I}static newInvalidDocument(e){return new xi(e,0,en.min(),en.min(),Gs.empty(),0)}static newFoundDocument(e,r,l){return new xi(e,1,r,en.min(),l,0)}static newNoDocument(e,r){return new xi(e,2,r,en.min(),Gs.empty(),0)}static newUnknownDocument(e,r){return new xi(e,3,r,en.min(),Gs.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=en.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ha{constructor(e,r=null,l=[],p=[],b=null,I=null,N=null){this.path=e,this.collectionGroup=r,this.orderBy=l,this.filters=p,this.limit=b,this.startAt=I,this.endAt=N,this.ht=null}}function Ld(s,e=null,r=[],l=[],p=null,b=null,I=null){return new Ha(s,e,r,l,p,b,I)}function Bo(s){const e=An(s);if(null===e.ht){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(l=>{return(p=l).field.canonicalString()+p.op.toString()+qc(p.value);var p}).join(","),r+="|ob:",r+=e.orderBy.map(l=>{return(p=l).field.canonicalString()+p.dir;var p}).join(","),mu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(l=>qc(l)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(l=>qc(l)).join(",")),e.ht=r}return e.ht}function Zl(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let p=0;p<s.orderBy.length;p++)if(!Ju(s.orderBy[p],e.orderBy[p]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let p=0;p<s.filters.length;p++)if((r=s.filters[p]).op!==(l=e.filters[p]).op||!r.field.isEqual(l.field)||!gl(r.value,l.value))return!1;var r,l;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Bd(s.startAt,e.startAt)&&Bd(s.endAt,e.endAt)}function Zc(s){return fn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Ud(s,e){return s.filters.filter(r=>r instanceof Rs&&r.field.isEqual(e))}function xf(s,e,r){let l=_u,p=!0;for(const b of Ud(s,e)){let I=_u,N=!0;switch(b.op){case"<":case"<=":I=Qg(b.value);break;case"==":case"in":case">=":I=b.value;break;case">":I=b.value,N=!1;break;case"!=":case"not-in":I=_u}Fd({value:l,inclusive:p},{value:I,inclusive:N})<0&&(l=I,p=N)}if(null!==r)for(let b=0;b<s.orderBy.length;++b)if(s.orderBy[b].field.isEqual(e)){const I=r.position[b];Fd({value:l,inclusive:p},{value:I,inclusive:r.inclusive})<0&&(l=I,p=r.inclusive);break}return{value:l,inclusive:p}}function Qu(s,e,r){let l=Qa,p=!0;for(const b of Ud(s,e)){let I=Qa,N=!0;switch(b.op){case">=":case">":I=Af(b.value),N=!1;break;case"==":case"in":case"<=":I=b.value;break;case"<":I=b.value,N=!1;break;case"!=":case"not-in":I=Qa}Jg({value:l,inclusive:p},{value:I,inclusive:N})>0&&(l=I,p=N)}if(null!==r)for(let b=0;b<s.orderBy.length;++b)if(s.orderBy[b].field.isEqual(e)){const I=r.position[b];Jg({value:l,inclusive:p},{value:I,inclusive:r.inclusive})>0&&(l=I,p=r.inclusive);break}return{value:l,inclusive:p}}class Rs extends class{}{constructor(e,r,l){super(),this.field=e,this.op=r,this.value=l}static create(e,r,l){return e.isKeyField()?"in"===r||"not-in"===r?this.lt(e,r,l):new Up(e,r,l):"array-contains"===r?new Bh(e,l):"in"===r?new jh(e,l):"not-in"===r?new Bp(e,l):"array-contains-any"===r?new jp(e,l):new Rs(e,r,l)}static lt(e,r,l){return"in"===r?new Xg(e,l):new Of(e,l)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.ft(ql(r,this.value)):null!==r&&la(this.value)===la(r)&&this.ft(ql(r,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Up extends Rs{constructor(e,r,l){super(e,r,l),this.key=fn.fromName(l.referenceValue)}matches(e){const r=fn.comparator(e.key,this.key);return this.ft(r)}}class Xg extends Rs{constructor(e,r){super(e,"in",r),this.keys=Uh(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Of extends Rs{constructor(e,r){super(e,"not-in",r),this.keys=Uh(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Uh(s,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(l=>fn.fromName(l.referenceValue))}class Bh extends Rs{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return pc(r)&&vu(r.arrayValue,this.value)}}class jh extends Rs{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&vu(this.value.arrayValue,r)}}class Bp extends Rs{constructor(e,r){super(e,"not-in",r)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!vu(this.value.arrayValue,r)}}class jp extends Rs{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!pc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(l=>vu(this.value.arrayValue,l))}}class _l{constructor(e,r){this.position=e,this.inclusive=r}}class Rl{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ju(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function Mf(s,e,r){let l=0;for(let p=0;p<s.position.length;p++){const b=e[p],I=s.position[p];if(l=b.field.isKeyField()?fn.comparator(fn.fromName(I.referenceValue),r.key):ql(I,r.data.field(b.field)),"desc"===b.dir&&(l*=-1),0!==l)break}return l}function Bd(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!gl(s.position[r],e.position[r]))return!1;return!0}class bu{constructor(e,r=null,l=[],p=[],b=null,I="F",N=null,$=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=l,this.filters=p,this.limit=b,this.limitType=I,this.startAt=N,this.endAt=$,this._t=null,this.wt=null}}function Da(s,e,r,l,p,b,I,N){return new bu(s,e,r,l,p,b,I,N)}function Eu(s){return new bu(s)}function $c(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Hh(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function zc(s){for(const e of s.filters)if(e.dt())return e.field;return null}function ua(s){return null!==s.collectionGroup}function mc(s){const e=An(s);if(null===e._t){e._t=[];const r=zc(e),l=Hh(e);if(null!==r&&null===l)r.isKeyField()||e._t.push(new Rl(r)),e._t.push(new Rl(Qr.keyField(),"asc"));else{let p=!1;for(const b of e.explicitOrderBy)e._t.push(b),b.field.isKeyField()&&(p=!0);if(!p){const b=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Rl(Qr.keyField(),b))}}}return e._t}function Aa(s){const e=An(s);if(!e.wt)if("F"===e.limitType)e.wt=Ld(e.path,e.collectionGroup,mc(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const b of mc(e))r.push(new Rl(b.field,"desc"===b.dir?"asc":"desc"));const l=e.endAt?new _l(e.endAt.position,e.endAt.inclusive):null,p=e.startAt?new _l(e.startAt.position,e.startAt.inclusive):null;e.wt=Ld(e.path,e.collectionGroup,r,e.filters,e.limit,l,p)}return e.wt}function jd(s,e,r){return new bu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function Hd(s,e){return Zl(Aa(s),Aa(e))&&s.limitType===e.limitType}function R(s){return`${Bo(Aa(s))}|lt:${s.limitType}`}function E(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(r=>{return`${(l=r).field.canonicalString()} ${l.op} ${qc(l.value)}`;var l}).join(", ")}]`),mu(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(r=>{return`${(l=r).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(r=>qc(r)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(r=>qc(r)).join(",")),`Target(${e})`}(Aa(s))}; limitType=${s.limitType})`}function T(s,e){return e.isFoundDocument()&&function(r,l){const p=l.key.path;return null!==r.collectionGroup?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(p):fn.isDocumentKey(r.path)?r.path.isEqual(p):r.path.isImmediateParentOf(p)}(s,e)&&function(r,l){for(const p of r.explicitOrderBy)if(!p.field.isKeyField()&&null===l.data.field(p.field))return!1;return!0}(s,e)&&function(r,l){for(const p of r.filters)if(!p.matches(l))return!1;return!0}(s,e)&&(l=e,!((r=s).startAt&&!function(p,b,I){const N=Mf(p,b,I);return p.inclusive?N<=0:N<0}(r.startAt,mc(r),l)||r.endAt&&!function(p,b,I){const N=Mf(p,b,I);return p.inclusive?N>=0:N>0}(r.endAt,mc(r),l)));var r,l}function V(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ie(s){return(e,r)=>{let l=!1;for(const p of mc(s)){const b=ye(p,e,r);if(0!==b)return b;l=l||p.field.isKeyField()}return 0}}function ye(s,e,r){const l=s.field.isKeyField()?fn.comparator(e.key,r.key):function(p,b,I){const N=b.data.field(p),$=I.data.field(p);return null!==N&&null!==$?ql(N,$):Fn()}(s.field,e,r);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Fn()}}function _t(s,e){if(s.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(e)?"-0":e}}function Yt(s){return{integerValue:""+s}}function jn(s,e){return fc(e)?Yt(e):_t(s,e)}class cr{constructor(){this._=void 0}}function si(s,e,r){return s instanceof xa?function(l,p){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return p&&(b.fields.__previous_value__=p),{mapValue:b}}(r,e):s instanceof $l?qh(s,e):s instanceof qa?qd(s,e):function(l,p){const b=Ja(l,p),I=wu(b)+wu(l.yt);return Gl(b)&&Gl(l.yt)?Yt(I):_t(l.It,I)}(s,e)}function Es(s,e,r){return s instanceof $l?qh(s,e):s instanceof qa?qd(s,e):r}function Ja(s,e){return s instanceof jo?Gl(r=e)||(l=r)&&"doubleValue"in l?e:{integerValue:0}:null;var l,r}class xa extends cr{}class $l extends cr{constructor(e){super(),this.elements=e}}function qh(s,e){const r=Gd(e);for(const l of s.elements)r.some(p=>gl(p,l))||r.push(l);return{arrayValue:{values:r}}}class qa extends cr{constructor(e){super(),this.elements=e}}function qd(s,e){let r=Gd(e);for(const l of s.elements)r=r.filter(p=>!gl(p,l));return{arrayValue:{values:r}}}class jo extends cr{constructor(e,r){super(),this.It=e,this.yt=r}}function wu(s){return Os(s.integerValue||s.doubleValue)}function Gd(s){return pc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class zl{constructor(e,r){this.field=e,this.transform=r}}class Wc{constructor(e,r){this.version=e,this.transformResults=r}}class ws{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Cu{}function Zd(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Xu(s.key,ws.none()):new yc(s.key,s.data,ws.none());{const r=s.data,l=Gs.empty();let p=new Li(Qr.comparator);for(let b of e.fields)if(!p.has(b)){let I=r.field(b);null===I&&b.length>1&&(b=b.popLast(),I=r.field(b)),null===I?l.delete(b):l.set(b,I),p=p.add(b)}return new Tu(s.key,l,new aa(p.toArray()),ws.none())}}function $d(s,e,r){s instanceof yc?function(l,p,b){const I=l.value.clone(),N=Hp(l.fieldTransforms,p,b.transformResults);I.setAll(N),p.convertToFoundDocument(b.version,I).setHasCommittedMutations()}(s,e,r):s instanceof Tu?function(l,p,b){if(!Kc(l.precondition,p))return void p.convertToUnknownDocument(b.version);const I=Hp(l.fieldTransforms,p,b.transformResults),N=p.data;N.setAll(em(l)),N.setAll(I),p.convertToFoundDocument(b.version,N).setHasCommittedMutations()}(s,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function zd(s,e,r,l){return s instanceof yc?function(p,b,I,N){if(!Kc(p.precondition,b))return I;const $=p.value.clone(),Q=qp(p.fieldTransforms,N,b);return $.setAll(Q),b.convertToFoundDocument(b.version,$).setHasLocalMutations(),null}(s,e,r,l):s instanceof Tu?function(p,b,I,N){if(!Kc(p.precondition,b))return I;const $=qp(p.fieldTransforms,N,b),Q=b.data;return Q.setAll(em(p)),Q.setAll($),b.convertToFoundDocument(b.version,Q).setHasLocalMutations(),null===I?null:I.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(pe=>pe.field))}(s,e,r,l):(I=r,Kc(s.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):I);var b,I}function ty(s,e){let r=null;for(const l of s.fieldTransforms){const p=e.data.field(l.field),b=Ja(l.transform,p||null);null!=b&&(null===r&&(r=Gs.empty()),r.set(l.field,b))}return r||null}function Rf(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(r=s.fieldTransforms)&&void 0===l||r&&l&&Ht(r,l,(p,b)=>function(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(r=s.transform)instanceof $l&&l instanceof $l||r instanceof qa&&l instanceof qa?Ht(r.elements,l.elements,gl):r instanceof jo&&l instanceof jo?gl(r.yt,l.yt):r instanceof xa&&l instanceof xa);var r,l}(p,b))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var r,l}class yc extends Cu{constructor(e,r,l,p=[]){super(),this.key=e,this.value=r,this.precondition=l,this.fieldTransforms=p,this.type=0}getFieldMask(){return null}}class Tu extends Cu{constructor(e,r,l,p,b=[]){super(),this.key=e,this.data=r,this.fieldMask=l,this.precondition=p,this.fieldTransforms=b,this.type=1}getFieldMask(){return this.fieldMask}}function em(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const l=s.data.field(r);e.set(r,l)}}),e}function Hp(s,e,r){const l=new Map;vr(s.length===r.length);for(let p=0;p<r.length;p++){const b=s[p],I=b.transform,N=e.data.field(b.field);l.set(b.field,Es(I,N,r[p]))}return l}function qp(s,e,r){const l=new Map;for(const p of s){const b=p.transform,I=r.data.field(p.field);l.set(p.field,si(b,I,e))}return l}class Xu extends Cu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wd extends Cu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gp{constructor(e){this.count=e}}var po,Cr;function kf(s){switch(s){default:return Fn();case xt.CANCELLED:case xt.UNKNOWN:case xt.DEADLINE_EXCEEDED:case xt.RESOURCE_EXHAUSTED:case xt.INTERNAL:case xt.UNAVAILABLE:case xt.UNAUTHENTICATED:return!1;case xt.INVALID_ARGUMENT:case xt.NOT_FOUND:case xt.ALREADY_EXISTS:case xt.PERMISSION_DENIED:case xt.FAILED_PRECONDITION:case xt.ABORTED:case xt.OUT_OF_RANGE:case xt.UNIMPLEMENTED:case xt.DATA_LOSS:return!0}}function Pf(s){if(void 0===s)return zi("GRPC error has no .code"),xt.UNKNOWN;switch(s){case po.OK:return xt.OK;case po.CANCELLED:return xt.CANCELLED;case po.UNKNOWN:return xt.UNKNOWN;case po.DEADLINE_EXCEEDED:return xt.DEADLINE_EXCEEDED;case po.RESOURCE_EXHAUSTED:return xt.RESOURCE_EXHAUSTED;case po.INTERNAL:return xt.INTERNAL;case po.UNAVAILABLE:return xt.UNAVAILABLE;case po.UNAUTHENTICATED:return xt.UNAUTHENTICATED;case po.INVALID_ARGUMENT:return xt.INVALID_ARGUMENT;case po.NOT_FOUND:return xt.NOT_FOUND;case po.ALREADY_EXISTS:return xt.ALREADY_EXISTS;case po.PERMISSION_DENIED:return xt.PERMISSION_DENIED;case po.FAILED_PRECONDITION:return xt.FAILED_PRECONDITION;case po.ABORTED:return xt.ABORTED;case po.OUT_OF_RANGE:return xt.OUT_OF_RANGE;case po.UNIMPLEMENTED:return xt.UNIMPLEMENTED;case po.DATA_LOSS:return xt.DATA_LOSS;default:return Fn()}}(Cr=po||(po={}))[Cr.OK=0]="OK",Cr[Cr.CANCELLED=1]="CANCELLED",Cr[Cr.UNKNOWN=2]="UNKNOWN",Cr[Cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cr[Cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cr[Cr.NOT_FOUND=5]="NOT_FOUND",Cr[Cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cr[Cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cr[Cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cr[Cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cr[Cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cr[Cr.ABORTED=10]="ABORTED",Cr[Cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cr[Cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cr[Cr.INTERNAL=13]="INTERNAL",Cr[Cr.UNAVAILABLE=14]="UNAVAILABLE",Cr[Cr.DATA_LOSS=15]="DATA_LOSS";class gi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),l=this.inner[r];if(void 0!==l)for(const[p,b]of l)if(this.equalsFn(p,e))return b}has(e){return void 0!==this.get(e)}set(e,r){const l=this.mapKeyFn(e),p=this.inner[l];if(void 0===p)return this.inner[l]=[[e,r]],void this.innerSize++;for(let b=0;b<p.length;b++)if(this.equalsFn(p[b][0],e))return void(p[b]=[e,r]);p.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),l=this.inner[r];if(void 0===l)return!1;for(let p=0;p<l.length;p++)if(this.equalsFn(l[p][0],e))return 1===l.length?delete this.inner[r]:l.splice(p,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(r,l)=>{for(const[p,b]of l)e(p,b)})}isEmpty(){return pl(this.inner)}size(){return this.innerSize}}const _c=new Ti(fn.comparator);function ht(){return _c}const Kd=new Ti(fn.comparator);function vc(...s){let e=Kd;for(const r of s)e=e.insert(r.key,r);return e}function Zp(s){let e=Kd;return s.forEach((r,l)=>e=e.insert(r,l.overlayedDocument)),e}function bi(){return bc()}function $n(){return bc()}function bc(){return new gi(s=>s.toString(),(s,e)=>s.isEqual(e))}const Ec=new Ti(fn.comparator),ro=new Li(fn.comparator);function Jr(...s){let e=ro;for(const r of s)e=e.add(r);return e}const $p=new Li(Oe);function ca(){return $p}class Xs{constructor(e,r,l,p,b){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=l,this.documentUpdates=p,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(e,r){const l=new Map;return l.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,r)),new Xs(en.min(),l,ca(),ht(),Jr())}}class Kl{constructor(e,r,l,p,b){this.resumeToken=e,this.current=r,this.addedDocuments=l,this.modifiedDocuments=p,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(e,r){return new Kl(bs.EMPTY_BYTE_STRING,r,Jr(),Jr(),Jr())}}class wc{constructor(e,r,l,p){this.Tt=e,this.removedTargetIds=r,this.key=l,this.Et=p}}class zp{constructor(e,r){this.targetId=e,this.At=r}}class Nf{constructor(e,r,l=bs.EMPTY_BYTE_STRING,p=null){this.state=e,this.targetIds=r,this.resumeToken=l,this.cause=p}}class Yl{constructor(){this.Rt=0,this.bt=Wp(),this.Pt=bs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Jr(),r=Jr(),l=Jr();return this.bt.forEach((p,b)=>{switch(b){case 0:e=e.add(p);break;case 2:r=r.add(p);break;case 1:l=l.add(p);break;default:Fn()}}),new Kl(this.Pt,this.vt,e,r,l)}Nt(){this.Vt=!1,this.bt=Wp()}kt(e,r){this.Vt=!0,this.bt=this.bt.insert(e,r)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ff{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ht(),this.qt=Yc(),this.Kt=new Li(Oe)}Gt(e){for(const r of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et);for(const r of e.removedTargetIds)this.jt(r,e.key,e.Et)}Wt(e){this.forEachTarget(e,r=>{const l=this.zt(r);switch(e.state){case 0:this.Ht(r)&&l.Ct(e.resumeToken);break;case 1:l.Ft(),l.St||l.Nt(),l.Ct(e.resumeToken);break;case 2:l.Ft(),l.St||this.removeTarget(r);break;case 3:this.Ht(r)&&(l.$t(),l.Ct(e.resumeToken));break;case 4:this.Ht(r)&&(this.Jt(r),l.Ct(e.resumeToken));break;default:Fn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Lt.forEach((l,p)=>{this.Ht(p)&&r(p)})}Yt(e){const r=e.targetId,l=e.At.count,p=this.Xt(r);if(p){const b=p.target;if(Zc(b))if(0===l){const I=new fn(b.path);this.jt(r,I,xi.newNoDocument(I,en.min()))}else vr(1===l);else this.Zt(r)!==l&&(this.Jt(r),this.Kt=this.Kt.add(r))}}te(e){const r=new Map;this.Lt.forEach((b,I)=>{const N=this.Xt(I);if(N){if(b.current&&Zc(N.target)){const $=new fn(N.target.path);null!==this.Ut.get($)||this.ee(I,$)||this.jt(I,$,xi.newNoDocument($,e))}b.Dt&&(r.set(I,b.xt()),b.Nt())}});let l=Jr();this.qt.forEach((b,I)=>{let N=!0;I.forEachWhile($=>{const Q=this.Xt($);return!Q||2===Q.purpose||(N=!1,!1)}),N&&(l=l.add(b))}),this.Ut.forEach((b,I)=>I.setReadTime(e));const p=new Xs(e,r,this.Kt,this.Ut,l);return this.Ut=ht(),this.qt=Yc(),this.Kt=new Li(Oe),p}Qt(e,r){if(!this.Ht(e))return;const l=this.ee(e,r.key)?2:0;this.zt(e).kt(r.key,l),this.Ut=this.Ut.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ne(r.key).add(e))}jt(e,r,l){if(!this.Ht(e))return;const p=this.zt(e);this.ee(e,r)?p.kt(r,1):p.Mt(r),this.qt=this.qt.insert(r,this.ne(r).delete(e)),l&&(this.Ut=this.Ut.insert(r,l))}removeTarget(e){this.Lt.delete(e)}Zt(e){const r=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let r=this.Lt.get(e);return r||(r=new Yl,this.Lt.set(e,r)),r}ne(e){let r=this.qt.get(e);return r||(r=new Li(Oe),this.qt=this.qt.insert(e,r)),r}Ht(e){const r=null!==this.Xt(e);return r||Xt("WatchChangeAggregator","Detected inactive target",e),r}Xt(e){const r=this.Lt.get(e);return r&&r.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Yl),this.Bt.getRemoteKeysForTarget(e).forEach(r=>{this.jt(e,r,null)})}ee(e,r){return this.Bt.getRemoteKeysForTarget(e).has(r)}}function Yc(){return new Ti(fn.comparator)}function Wp(){return new Ti(fn.comparator)}const Lf={asc:"ASCENDING",desc:"DESCENDING"},ny={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Kp{constructor(e,r){this.databaseId=e,this.gt=r}}function Qc(s,e){return s.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vf(s,e){return s.gt?e.toBase64():e.toUint8Array()}function Jc(s,e){return Qc(s,e.toTimestamp())}function Zs(s){return vr(!!s),en.fromTimestamp(function(e){const r=Ml(e);return new Kn(r.seconds,r.nanos)}(s))}function Yp(s,e){return(r=s,new xn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function tm(s){const e=xn.fromString(s);return vr(Xc(e)),e}function ec(s,e){return Yp(s.databaseId,e.path)}function Oa(s,e){const r=tm(e);if(r.get(1)!==s.databaseId.projectId)throw new $t(xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new $t(xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new fn(rm(r))}function Uf(s,e){return Yp(s.databaseId,e)}function nm(s){const e=tm(s);return 4===e.length?xn.emptyPath():rm(e)}function Ql(s){return new xn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rm(s){return vr(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function im(s,e,r){return{name:ec(s,e),fields:r.value.mapValue.fields}}function Bf(s,e,r){const l=Oa(s,e.name),p=Zs(e.updateTime),b=new Gs({mapValue:{fields:e.fields}}),I=xi.newFoundDocument(l,p,b);return r&&I.setHasCommittedMutations(),r?I.setHasCommittedMutations():I}function Su(s,e){let r;if(e instanceof yc)r={update:im(s,e.key,e.value)};else if(e instanceof Xu)r={delete:ec(s,e.key)};else if(e instanceof Tu)r={update:im(s,e.key,e.data),updateMask:um(e.fieldMask)};else{if(!(e instanceof Wd))return Fn();r={verify:ec(s,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(l=>function(p,b){const I=b.transform;if(I instanceof xa)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof $l)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof qa)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof jo)return{fieldPath:b.field.canonicalString(),increment:I.yt};throw Fn()}(0,l))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Jc(s,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Fn()),r;var p}function Xa(s,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?ws.updateTime(Zs(p.updateTime)):void 0!==p.exists?ws.exists(p.exists):ws.none():ws.none(),l=e.updateTransforms?e.updateTransforms.map(p=>function(b,I){let N=null;"setToServerValue"in I?(vr("REQUEST_TIME"===I.setToServerValue),N=new xa):"appendMissingElements"in I?N=new $l(I.appendMissingElements.values||[]):"removeAllFromArray"in I?N=new qa(I.removeAllFromArray.values||[]):"increment"in I?N=new jo(b,I.increment):Fn();const $=Qr.fromServerFormat(I.fieldPath);return new zl($,N)}(s,p)):[];var p;if(e.update){const p=Oa(s,e.update.name),b=new Gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new aa((e.updateMask.fieldPaths||[]).map(Q=>Qr.fromServerFormat(Q)));return new Tu(p,b,I,r,l)}return new yc(p,b,r,l)}if(e.delete){const p=Oa(s,e.delete);return new Xu(p,r)}if(e.verify){const p=Oa(s,e.verify);return new Wd(p,r)}return Fn()}function am(s,e){return{documents:[Uf(s,e.path)]}}function jf(s,e){const r={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(r.parent=Uf(s,l),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Uf(s,l.popLast()),r.structuredQuery.from=[{collectionId:l.lastSegment()}]);const p=function($){if(0===$.length)return;const Q=$.map(pe=>function(qe){if("=="===qe.op){if(Vh(qe.value))return{unaryFilter:{field:tc(qe.field),op:"IS_NAN"}};if(Ms(qe.value))return{unaryFilter:{field:tc(qe.field),op:"IS_NULL"}}}else if("!="===qe.op){if(Vh(qe.value))return{unaryFilter:{field:tc(qe.field),op:"IS_NOT_NAN"}};if(Ms(qe.value))return{unaryFilter:{field:tc(qe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(qe.field),op:Gf(qe.op),value:qe.value}}}(pe));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);p&&(r.structuredQuery.where=p);const b=function($){if(0!==$.length)return $.map(Q=>{return{field:tc((pe=Q).field),direction:qf(pe.dir)};var pe})}(e.orderBy);b&&(r.structuredQuery.orderBy=b);const I=(Q=e.limit,s.gt||mu(Q)?Q:{value:Q});var Q,N,$;return null!==I&&(r.structuredQuery.limit=I),e.startAt&&(r.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(r.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),r}function Hf(s){let e=nm(s.parent);const r=s.structuredQuery,l=r.from?r.from.length:0;let p=null;if(l>0){vr(1===l);const pe=r.from[0];pe.allDescendants?p=pe.collectionId:e=e.child(pe.collectionId)}let b=[];r.where&&(b=Gh(r.where));let I=[];r.orderBy&&(I=r.orderBy.map(pe=>{return new Rl(el((qe=pe).field),function(Tt){switch(Tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qe.direction));var qe}));let N=null;r.limit&&(N=function(pe){let qe;return qe="object"==typeof pe?pe.value:pe,mu(qe)?null:qe}(r.limit));let $=null;var pe;r.startAt&&($=new _l((pe=r.startAt).values||[],!!pe.before));let Q=null;return r.endAt&&(Q=function(pe){return new _l(pe.values||[],!pe.before)}(r.endAt)),Da(e,p,I,b,N,"F",$,Q)}function Gh(s){return s?void 0!==s.unaryFilter?[Zf(s)]:void 0!==s.fieldFilter?[kl(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Gh(e)).reduce((e,r)=>e.concat(r)):Fn():[]}function qf(s){return Lf[s]}function Gf(s){return ny[s]}function tc(s){return{fieldPath:s.canonicalString()}}function el(s){return Qr.fromServerFormat(s.fieldPath)}function kl(s){return Rs.create(el(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fn()}}(s.fieldFilter.op),s.fieldFilter.value)}function Zf(s){switch(s.unaryFilter.op){case"IS_NAN":const e=el(s.unaryFilter.field);return Rs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=el(s.unaryFilter.field);return Rs.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(s.unaryFilter.field);return Rs.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=el(s.unaryFilter.field);return Rs.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Fn()}}function um(s){const e=[];return s.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Xc(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Ro(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=Iu(e)),e=Jl(s.get(r),e);return Iu(e)}function Jl(s,e){let r=e;const l=s.length;for(let p=0;p<l;p++){const b=s.charAt(p);switch(b){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=b}}return r}function Iu(s){return s+"\x01\x01"}function Ga(s){const e=s.length;if(vr(e>=2),2===e)return vr("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),xn.emptyPath();const r=e-2,l=[];let p="";for(let b=0;b<e;){const I=s.indexOf("\x01",b);switch((I<0||I>r)&&Fn(),s.charAt(I+1)){case"\x01":const N=s.substring(b,I);let $;0===p.length?$=N:(p+=N,$=p,p=""),l.push($);break;case"\x10":p+=s.substring(b,I),p+="\0";break;case"\x11":p+=s.substring(b,I+1);break;default:Fn()}b=I+2}return new xn(l)}const Qp=["userId","batchId"];function ed(s,e){return[s,Ro(e)]}function td(s,e,r){return[s,Ro(e),r]}const $f={},Zh=["prefixPath","collectionGroup","readTime","documentId"],zf=["prefixPath","collectionGroup","documentId"],Jp=["collectionGroup","readTime","prefixPath","documentId"],Cs=["canonicalId","targetId"],t_=["targetId","path"],Ji=["path","targetId"],$h=["collectionId","parent"],nd=["indexId","uid"],Wf=["uid","sequenceNumber"],Du=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ii=["indexId","uid","orderedDocumentKey"],Xp=["userId","collectionPath","documentId"],eg=["userId","collectionPath","largestBatchId"],cm=["userId","collectionGroup","largestBatchId"],Kf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tg=[...Kf,"documentOverlays"],ng=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yd=ng,Qd=[...Yd,"indexConfiguration","indexState","indexEntries"];class Jd extends zu{constructor(e,r){super(),this.ie=e,this.currentSequenceNumber=r}}function Ho(s,e){const r=An(s);return Ba.O(r.ie,e)}class Au{constructor(e,r,l,p){this.batchId=e,this.localWriteTime=r,this.baseMutations=l,this.mutations=p}applyToRemoteDocument(e,r){const l=r.mutationResults;for(let p=0;p<this.mutations.length;p++){const b=this.mutations[p];b.key.isEqual(e.key)&&$d(b,e,l[p])}}applyToLocalView(e,r){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(r=zd(l,e,r,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(r=zd(l,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const l=$n();return this.mutations.forEach(p=>{const b=e.get(p.key),I=b.overlayedDocument;let N=this.applyToLocalView(I,b.mutatedFields);N=r.has(p.key)?null:N;const $=Zd(I,N);null!==$&&l.set(p.key,$),I.isValidDocument()||I.convertToNoDocument(en.min())}),l}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Jr())}isEqual(e){return this.batchId===e.batchId&&Ht(this.mutations,e.mutations,(r,l)=>Rf(r,l))&&Ht(this.baseMutations,e.baseMutations,(r,l)=>Rf(r,l))}}class Xd{constructor(e,r,l,p){this.batch=e,this.commitVersion=r,this.mutationResults=l,this.docVersions=p}static from(e,r,l){vr(e.mutations.length===l.length);let p=Ec;const b=e.mutations;for(let I=0;I<b.length;I++)p=p.insert(b[I].key,l[I].version);return new Xd(e,r,l,p)}}class rd{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qo{constructor(e,r,l,p,b=en.min(),I=en.min(),N=bs.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=l,this.sequenceNumber=p,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=N}withSequenceNumber(e){return new qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class id{constructor(e){this.re=e}}function Cc(s,e){const r=e.key,l={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:tl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:ec(p=s.re,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Qc(p,b.version.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:r.path.toArray(),readTime:xu(e.version)};else{if(!e.isUnknownDocument())return Fn();l.unknownDocument={path:r.path.toArray(),version:xu(e.version)}}var p,b;return l}function tl(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function xu(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function da(s){const e=new Kn(s.seconds,s.nanoseconds);return en.fromTimestamp(e)}function Ou(s,e){const r=(e.baseMutations||[]).map(b=>Xa(s.re,b));for(let b=0;b<e.mutations.length-1;++b){const I=e.mutations[b];b+1<e.mutations.length&&void 0!==e.mutations[b+1].transform&&(I.updateTransforms=e.mutations[b+1].transform.fieldTransforms,e.mutations.splice(b+1,1),++b)}const l=e.mutations.map(b=>Xa(s.re,b)),p=Kn.fromMillis(e.localWriteTimeMs);return new Au(e.batchId,p,r,l)}function Mu(s){const e=da(s.readTime),r=void 0!==s.lastLimboFreeSnapshotVersion?da(s.lastLimboFreeSnapshotVersion):en.min();let l;var p;return void 0!==s.query.documents?(vr(1===(p=s.query).documents.length),l=Aa(Eu(nm(p.documents[0])))):l=Aa(Hf(s.query)),new qo(l,s.targetId,0,s.lastListenSequenceNumber,e,r,bs.fromBase64String(s.resumeToken))}function Tc(s,e){const r=xu(e.snapshotVersion),l=xu(e.lastLimboFreeSnapshotVersion);let p;p=Zc(e.target)?am(s.re,e.target):jf(s.re,e.target);const b=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bo(e.target),readTime:r,resumeToken:b,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:p}}function eh(s){const e=Hf({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?jd(e,e.limit,"L"):e}function nc(s,e){return new rd(e.largestBatchId,Xa(s.re,e.overlayMutation))}function Sc(s,e){const r=e.path.lastSegment();return[s,Ro(e.path.popLast()),r]}function Qf(s,e,r,l){return{indexId:s,uid:e.uid||"",sequenceNumber:r,readTime:xu(l.readTime),documentKey:Ro(l.documentKey.path),largestBatchId:l.largestBatchId}}class th{getBundleMetadata(e,r){return Za(e).get(r).next(l=>{if(l)return{id:(p=l).bundleId,createTime:da(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Za(e).put({bundleId:(l=r).id,createTime:xu(Zs(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return nh(e).get(r).next(l=>{if(l)return{name:(p=l).name,query:eh(p.bundledQuery),readTime:da(p.readTime)};var p})}saveNamedQuery(e,r){return nh(e).put({name:(l=r).name,readTime:xu(Zs(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Za(s){return Ho(s,"bundles")}function nh(s){return Ho(s,"namedQueries")}class rc{constructor(e,r){this.It=e,this.userId=r}static oe(e,r){return new rc(e,r.uid||"")}getOverlay(e,r){return sd(e).get(Sc(this.userId,r)).next(l=>l?nc(this.It,l):null)}getOverlays(e,r){const l=bi();return It.forEach(r,p=>this.getOverlay(e,p).next(b=>{null!==b&&l.set(p,b)})).next(()=>l)}saveOverlays(e,r,l){const p=[];return l.forEach((b,I)=>{const N=new rd(r,I);p.push(this.ue(e,N))}),It.waitFor(p)}removeOverlaysForBatchId(e,r,l){const p=new Set;r.forEach(I=>p.add(Ro(I.getCollectionPath())));const b=[];return p.forEach(I=>{const N=IDBKeyRange.bound([this.userId,I,l],[this.userId,I,l+1],!1,!0);b.push(sd(e).Y("collectionPathOverlayIndex",N))}),It.waitFor(b)}getOverlaysForCollection(e,r,l){const p=bi(),b=Ro(r),I=IDBKeyRange.bound([this.userId,b,l],[this.userId,b,Number.POSITIVE_INFINITY],!0);return sd(e).W("collectionPathOverlayIndex",I).next(N=>{for(const $ of N){const Q=nc(this.It,$);p.set(Q.getKey(),Q)}return p})}getOverlaysForCollectionGroup(e,r,l,p){const b=bi();let I;const N=IDBKeyRange.bound([this.userId,r,l],[this.userId,r,Number.POSITIVE_INFINITY],!0);return sd(e).Z({index:"collectionGroupOverlayIndex",range:N},($,Q,pe)=>{const qe=nc(this.It,Q);b.size()<p||qe.largestBatchId===I?(b.set(qe.getKey(),qe),I=qe.largestBatchId):pe.done()}).next(()=>b)}ue(e,r){return sd(e).put(function(l,p,b){const[I,N,$]=Sc(p,b.mutation.key);return{userId:p,collectionPath:N,documentId:$,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Su(l.re,b.mutation)}}(this.It,this.userId,r))}}function sd(s){return Ho(s,"documentOverlays")}class vl{constructor(){}ce(e,r){this.ae(e,r),r.he()}ae(e,r){if("nullValue"in e)this.le(r,5);else if("booleanValue"in e)this.le(r,10),r.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(r,15),r.fe(Os(e.integerValue));else if("doubleValue"in e){const l=Os(e.doubleValue);isNaN(l)?this.le(r,13):(this.le(r,15),yu(l)?r.fe(0):r.fe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.le(r,20),"string"==typeof l?r.de(l):(r.de(`${l.seconds||""}`),r.fe(l.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,r),this.we(r);else if("bytesValue"in e)this.le(r,30),r.me(gu(e.bytesValue)),this.we(r);else if("referenceValue"in e)this.ge(e.referenceValue,r);else if("geoPointValue"in e){const l=e.geoPointValue;this.le(r,45),r.fe(l.latitude||0),r.fe(l.longitude||0)}else"mapValue"in e?gc(e)?this.le(r,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,r),this.we(r)):"arrayValue"in e?(this.pe(e.arrayValue,r),this.we(r)):Fn()}_e(e,r){this.le(r,25),this.Ie(e,r)}Ie(e,r){r.de(e)}ye(e,r){const l=e.fields||{};this.le(r,55);for(const p of Object.keys(l))this._e(p,r),this.ae(l[p],r)}pe(e,r){const l=e.values||[];this.le(r,50);for(const p of l)this.ae(p,r)}ge(e,r){this.le(r,37),fn.fromName(e).path.forEach(l=>{this.le(r,60),this.Ie(l,r)})}le(e,r){e.fe(r)}we(e){e.fe(2)}}function zh(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function dm(s){const e=64-function(r){let l=0;for(let p=0;p<8;++p){const b=zh(255&r[p]);if(l+=b,8!==b)break}return l}(s);return Math.ceil(e/8)}vl.Te=new vl;class Ic{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const r=e[Symbol.iterator]();let l=r.next();for(;!l.done;)this.Ae(l.value),l=r.next();this.Re()}be(e){const r=e[Symbol.iterator]();let l=r.next();for(;!l.done;)this.Pe(l.value),l=r.next();this.ve()}Ve(e){for(const r of e){const l=r.charCodeAt(0);if(l<128)this.Ae(l);else if(l<2048)this.Ae(960|l>>>6),this.Ae(128|63&l);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l);else{const p=r.codePointAt(0);this.Ae(240|p>>>18),this.Ae(128|63&p>>>12),this.Ae(128|63&p>>>6),this.Ae(128|63&p)}}this.Re()}Se(e){for(const r of e){const l=r.charCodeAt(0);if(l<128)this.Pe(l);else if(l<2048)this.Pe(960|l>>>6),this.Pe(128|63&l);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|l>>>12),this.Pe(128|63&l>>>6),this.Pe(128|63&l);else{const p=r.codePointAt(0);this.Pe(240|p>>>18),this.Pe(128|63&p>>>12),this.Pe(128|63&p>>>6),this.Pe(128|63&p)}}this.ve()}De(e){const r=this.Ce(e),l=dm(r);this.xe(1+l),this.buffer[this.position++]=255&l;for(let p=r.length-l;p<r.length;++p)this.buffer[this.position++]=255&r[p]}Ne(e){const r=this.Ce(e),l=dm(r);this.xe(1+l),this.buffer[this.position++]=~(255&l);for(let p=r.length-l;p<r.length;++p)this.buffer[this.position++]=~(255&r[p])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const r=function(p){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,p,!1),new Uint8Array(b.buffer)}(e),l=0!=(128&r[0]);r[0]^=l?255:128;for(let p=1;p<r.length;++p)r[p]^=l?255:0;return r}Ae(e){const r=255&e;0===r?(this.Me(0),this.Me(255)):255===r?(this.Me(255),this.Me(0)):this.Me(r)}Pe(e){const r=255&e;0===r?(this.Fe(0),this.Fe(255)):255===r?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const r=e+this.position;if(r<=this.buffer.length)return;let l=2*this.buffer.length;l<r&&(l=r);const p=new Uint8Array(l);p.set(this.buffer),this.buffer=p}}class rh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Jf{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Wh{constructor(){this.Be=new Ic,this.Le=new rh(this.Be),this.Ue=new Jf(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ma{constructor(e,r,l,p){this.indexId=e,this.documentKey=r,this.arrayValue=l,this.directionalValue=p}Ke(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(r);return l.set(this.directionalValue,0),r!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new Ma(this.indexId,this.documentKey,this.arrayValue,l)}}function Dc(s,e){let r=s.indexId-e.indexId;return 0!==r?r:(r=rg(s.arrayValue,e.arrayValue),0!==r?r:(r=rg(s.directionalValue,e.directionalValue),0!==r?r:fn.comparator(s.documentKey,e.documentKey)))}function rg(s,e){for(let r=0;r<s.length&&r<e.length;++r){const l=s[r]-e[r];if(0!==l)return l}return s.length-e.length}class ig{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const r of e.filters){const l=r;l.dt()?this.je=l:this.Qe.push(l)}}We(e){const r=Qs(e);if(void 0!==r&&!this.ze(r))return!1;const l=ss(e);let p=0,b=0;for(;p<l.length&&this.ze(l[p]);++p);if(p===l.length)return!0;if(void 0!==this.je){const I=l[p];if(!this.He(this.je,I)||!this.Je(this.Ge[b++],I))return!1;++p}for(;p<l.length;++p){const I=l[p];if(b>=this.Ge.length||!this.Je(this.Ge[b++],I))return!1}return!0}ze(e){for(const r of this.Qe)if(this.He(r,e))return!0;return!1}He(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}class hm{constructor(){this.Ye=new ko}addToCollectionParentIndex(e,r){return this.Ye.add(r),It.resolve()}getCollectionParents(e,r){return It.resolve(this.Ye.getEntries(r))}addFieldIndex(e,r){return It.resolve()}deleteFieldIndex(e,r){return It.resolve()}getDocumentsMatchingTarget(e,r){return It.resolve(null)}getIndexType(e,r){return It.resolve(0)}getFieldIndexes(e,r){return It.resolve([])}getNextCollectionGroupToUpdate(e){return It.resolve(null)}getMinOffset(e,r){return It.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,r){return It.resolve(oa.min())}updateCollectionGroup(e,r,l){return It.resolve()}updateIndexEntries(e,r){return It.resolve()}}class ko{constructor(){this.index={}}add(e){const r=e.lastSegment(),l=e.popLast(),p=this.index[r]||new Li(xn.comparator),b=!p.has(l);return this.index[r]=p.add(l),b}has(e){const r=e.lastSegment(),l=e.popLast(),p=this.index[r];return p&&p.has(l)}getEntries(e){return(this.index[e]||new Li(xn.comparator)).toArray()}}const ha=new Uint8Array(0);class fm{constructor(e,r){this.user=e,this.databaseId=r,this.Xe=new ko,this.Ze=new gi(l=>Bo(l),(l,p)=>Zl(l,p)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Xe.has(r)){const l=r.lastSegment(),p=r.popLast();e.addOnCommittedListener(()=>{this.Xe.add(r)});const b={collectionId:l,parent:Ro(p)};return Kh(e).put(b)}return It.resolve()}getCollectionParents(e,r){const l=[],p=IDBKeyRange.bound([r,""],[Ln(r),""],!1,!0);return Kh(e).W(p).next(b=>{for(const I of b){if(I.collectionId!==r)break;l.push(Ga(I.parent))}return l})}addFieldIndex(e,r){const l=Yh(e),p={indexId:(I=r).indexId,collectionGroup:I.collectionGroup,fields:I.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var I;delete p.indexId;const b=l.add(p);if(r.indexState){const I=ih(e);return b.next(N=>{I.put(Qf(N,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return b.next()}deleteFieldIndex(e,r){const l=Yh(e),p=ih(e),b=Ac(e);return l.delete(r.indexId).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>b.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const l=Ac(e);let p=!0;const b=new Map;return It.forEach(this.tn(r),I=>this.en(e,I).next(N=>{p&&(p=!!N),b.set(I,N)})).next(()=>{if(p){let I=Jr();const N=[];return It.forEach(b,($,Q)=>{var pe;Xt("IndexedDbIndexManager",`Using index ${pe=$,`id=${pe.indexId}|cg=${pe.collectionGroup}|f=${pe.fields.map(ls=>`${ls.fieldPath}:${ls.kind}`).join(",")}`} to execute ${Bo(r)}`);const qe=function(ls,yo){const Wi=Qs(yo);if(void 0===Wi)return null;for(const us of Ud(ls,Wi.fieldPath))switch(us.op){case"array-contains-any":return us.value.arrayValue.values||[];case"array-contains":return[us.value]}return null}(Q,$),Tt=function(ls,yo){const Wi=new Map;for(const us of ss(yo))for(const ga of Ud(ls,us.fieldPath))switch(ga.op){case"==":case"in":Wi.set(us.fieldPath.canonicalString(),ga.value);break;case"not-in":case"!=":return Wi.set(us.fieldPath.canonicalString(),ga.value),Array.from(Wi.values())}return null}(Q,$),zt=function(ls,yo){const Wi=[];let us=!0;for(const ga of ss(yo)){const Km=0===ga.kind?xf(ls,ga.fieldPath,ls.startAt):Qu(ls,ga.fieldPath,ls.startAt);Wi.push(Km.value),us&&(us=Km.inclusive)}return new _l(Wi,us)}(Q,$),Kt=function(ls,yo){const Wi=[];let us=!0;for(const ga of ss(yo)){const Km=0===ga.kind?Qu(ls,ga.fieldPath,ls.endAt):xf(ls,ga.fieldPath,ls.endAt);Wi.push(Km.value),us&&(us=Km.inclusive)}return new _l(Wi,us)}(Q,$),gn=this.nn($,Q,zt),br=this.nn($,Q,Kt),Vi=this.sn($,Q,Tt),hs=this.rn($.indexId,qe,gn,zt.inclusive,br,Kt.inclusive,Vi);return It.forEach(hs,ls=>l.J(ls,r.limit).next(yo=>{yo.forEach(Wi=>{const us=fn.fromSegments(Wi.documentKey);I.has(us)||(I=I.add(us),N.push(us))})}))}).next(()=>N)}return It.resolve(null)})}tn(e){let r=this.Ze.get(e);return r||(r=[e],this.Ze.set(e,r),r)}rn(e,r,l,p,b,I,N){const $=(null!=r?r.length:1)*Math.max(l.length,b.length),Q=$/(null!=r?r.length:1),pe=[];for(let qe=0;qe<$;++qe){const Tt=r?this.on(r[qe/Q]):ha,zt=this.un(e,Tt,l[qe%Q],p),Kt=this.cn(e,Tt,b[qe%Q],I),gn=N.map(br=>this.un(e,Tt,br,!0));pe.push(...this.createRange(zt,Kt,gn))}return pe}un(e,r,l,p){const b=new Ma(e,fn.empty(),r,l);return p?b:b.Ke()}cn(e,r,l,p){const b=new Ma(e,fn.empty(),r,l);return p?b.Ke():b}en(e,r){const l=new ig(r),p=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,p).next(b=>{let I=null;for(const N of b)l.We(N)&&(!I||N.fields.length>I.fields.length)&&(I=N);return I})}getIndexType(e,r){let l=2;return It.forEach(this.tn(r),p=>this.en(e,p).next(b=>{b?0!==l&&b.fields.length<function(I){let N=new Li(Qr.comparator),$=!1;for(const Q of I.filters){const pe=Q;pe.field.isKeyField()||("array-contains"===pe.op||"array-contains-any"===pe.op?$=!0:N=N.add(pe.field))}for(const Q of I.orderBy)Q.field.isKeyField()||(N=N.add(Q.field));return N.size+($?1:0)}(p)&&(l=1):l=0})).next(()=>l)}an(e,r){const l=new Wh;for(const p of ss(e)){const b=r.data.field(p.fieldPath);if(null==b)return null;const I=l.qe(p.kind);vl.Te.ce(b,I)}return l.$e()}on(e){const r=new Wh;return vl.Te.ce(e,r.qe(0)),r.$e()}hn(e,r){const l=new Wh;return vl.Te.ce(ml(this.databaseId,r),l.qe(function(p){const b=ss(p);return 0===b.length?0:b[b.length-1].kind}(e))),l.$e()}sn(e,r,l){if(null===l)return[];let p=[];p.push(new Wh);let b=0;for(const I of ss(e)){const N=l[b++];for(const $ of p)if(this.ln(r,I.fieldPath)&&pc(N))p=this.fn(p,I,N);else{const Q=$.qe(I.kind);vl.Te.ce(N,Q)}}return this.dn(p)}nn(e,r,l){return this.sn(e,r,l.position)}dn(e){const r=[];for(let l=0;l<e.length;++l)r[l]=e[l].$e();return r}fn(e,r,l){const p=[...e],b=[];for(const I of l.arrayValue.values||[])for(const N of p){const $=new Wh;$.seed(N.$e()),vl.Te.ce(I,$.qe(r.kind)),b.push($)}return b}ln(e,r){return!!e.filters.find(l=>l instanceof Rs&&l.field.isEqual(r)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,r){const l=Yh(e),p=ih(e);return(r?l.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):l.W()).next(b=>{const I=[];return It.forEach(b,N=>p.get([N.indexId,this.uid]).next($=>{I.push(function(Q,pe){const qe=pe?new kd(pe.sequenceNumber,new oa(da(pe.readTime),new fn(Ga(pe.documentKey)),pe.largestBatchId)):kd.empty(),Tt=Q.fields.map(([zt,Kt])=>new Rd(Qr.fromServerFormat(zt),Kt));return new wa(Q.indexId,Q.collectionGroup,Tt,qe)}(N,$))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((l,p)=>{const b=l.indexState.sequenceNumber-p.indexState.sequenceNumber;return 0!==b?b:Oe(l.collectionGroup,p.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,l){const p=Yh(e),b=ih(e);return this._n(e).next(I=>p.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(N=>It.forEach(N,$=>b.put(Qf($.indexId,this.user,I,l)))))}updateIndexEntries(e,r){const l=new Map;return It.forEach(r,(p,b)=>{const I=l.get(p.collectionGroup);return(I?It.resolve(I):this.getFieldIndexes(e,p.collectionGroup)).next(N=>(l.set(p.collectionGroup,N),It.forEach(N,$=>this.wn(e,p,$).next(Q=>{const pe=this.mn(b,$);return Q.isEqual(pe)?It.resolve():this.gn(e,b,$,Q,pe)}))))})}yn(e,r,l,p){return Ac(e).put({indexId:p.indexId,uid:this.uid,arrayValue:p.arrayValue,directionalValue:p.directionalValue,orderedDocumentKey:this.hn(l,r.key),documentKey:r.key.path.toArray()})}pn(e,r,l,p){return Ac(e).delete([p.indexId,this.uid,p.arrayValue,p.directionalValue,this.hn(l,r.key),r.key.path.toArray()])}wn(e,r,l){const p=Ac(e);let b=new Li(Dc);return p.Z({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.hn(l,r)])},(I,N)=>{b=b.add(new Ma(l.indexId,r,N.arrayValue,N.directionalValue))}).next(()=>b)}mn(e,r){let l=new Li(Dc);const p=this.an(r,e);if(null==p)return l;const b=Qs(r);if(null!=b){const I=e.data.field(b.fieldPath);if(pc(I))for(const N of I.arrayValue.values||[])l=l.add(new Ma(r.indexId,e.key,this.on(N),p))}else l=l.add(new Ma(r.indexId,e.key,ha,p));return l}gn(e,r,l,p,b){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const I=[];return function(N,$,Q,pe,qe){const Tt=N.getIterator(),zt=$.getIterator();let Kt=Hl(Tt),gn=Hl(zt);for(;Kt||gn;){let br=!1,Vi=!1;if(Kt&&gn){const hs=Q(Kt,gn);hs<0?Vi=!0:hs>0&&(br=!0)}else null!=Kt?Vi=!0:br=!0;br?(pe(gn),gn=Hl(zt)):Vi?(qe(Kt),Kt=Hl(Tt)):(Kt=Hl(Tt),gn=Hl(zt))}}(p,b,Dc,N=>{I.push(this.yn(e,r,l,N))},N=>{I.push(this.pn(e,r,l,N))}),It.waitFor(I)}_n(e){let r=1;return ih(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,p,b)=>{b.done(),r=p.sequenceNumber+1}).next(()=>r)}createRange(e,r,l){l=l.sort((I,N)=>Dc(I,N)).filter((I,N,$)=>!N||0!==Dc(I,$[N-1]));const p=[];p.push(e);for(const I of l){const N=Dc(I,e),$=Dc(I,r);if(0===N)p[0]=e.Ke();else if(N>0&&$<0)p.push(I),p.push(I.Ke());else if($>0)break}p.push(r);const b=[];for(let I=0;I<p.length;I+=2)b.push(IDBKeyRange.bound([p[I].indexId,this.uid,p[I].arrayValue,p[I].directionalValue,ha,[]],[p[I+1].indexId,this.uid,p[I+1].arrayValue,p[I+1].directionalValue,ha,[]]));return b}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Xf)}getMinOffset(e,r){return It.mapArray(this.tn(r),l=>this.en(e,l).next(p=>p||Fn())).next(Xf)}}function Kh(s){return Ho(s,"collectionParents")}function Ac(s){return Ho(s,"indexEntries")}function Yh(s){return Ho(s,"indexConfiguration")}function ih(s){return Ho(s,"indexState")}function Xf(s){vr(0!==s.length);let e=s[0].indexState.offset,r=e.largestBatchId;for(let l=1;l<s.length;l++){const p=s[l].indexState.offset;pu(p,e)<0&&(e=p),r<p.largestBatchId&&(r=p.largestBatchId)}return new oa(e.readTime,e.documentKey,r)}const sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nl{constructor(e,r,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new nl(e,nl.DEFAULT_COLLECTION_PERCENTILE,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iy(s,e,r){const l=s.store("mutations"),p=s.store("documentMutations"),b=[],I=IDBKeyRange.only(r.batchId);let N=0;const $=l.Z({range:I},(pe,qe,Tt)=>(N++,Tt.delete()));b.push($.next(()=>{vr(1===N)}));const Q=[];for(const pe of r.mutations){const qe=td(e,pe.key.path,r.batchId);b.push(p.delete(qe)),Q.push(pe.key)}return It.waitFor(b).next(()=>Q)}function Ar(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw Fn();e=s.noDocument}return JSON.stringify(e).length}nl.DEFAULT_COLLECTION_PERCENTILE=10,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nl.DEFAULT=new nl(41943040,nl.DEFAULT_COLLECTION_PERCENTILE,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nl.DISABLED=new nl(-1,0,0);class Qh{constructor(e,r,l,p){this.userId=e,this.It=r,this.indexManager=l,this.referenceDelegate=p,this.In={}}static oe(e,r,l,p){vr(""!==e.uid);const b=e.isAuthenticated()?e.uid:"";return new Qh(b,r,l,p)}checkEmpty(e){let r=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).Z({index:"userMutationsIndex",range:l},(p,b,I)=>{r=!1,I.done()}).next(()=>r)}addMutationBatch(e,r,l,p){const b=fa(e),I=rl(e);return I.add({}).next(N=>{vr("number"==typeof N);const $=new Au(N,r,l,p),Q=function(Tt,zt,Kt){const gn=Kt.baseMutations.map(Vi=>Su(Tt.re,Vi)),br=Kt.mutations.map(Vi=>Su(Tt.re,Vi));return{userId:zt,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:gn,mutations:br}}(this.It,this.userId,$),pe=[];let qe=new Li((Tt,zt)=>Oe(Tt.canonicalString(),zt.canonicalString()));for(const Tt of p){const zt=td(this.userId,Tt.key.path,N);qe=qe.add(Tt.key.path.popLast()),pe.push(I.put(Q)),pe.push(b.put(zt,$f))}return qe.forEach(Tt=>{pe.push(this.indexManager.addToCollectionParentIndex(e,Tt))}),e.addOnCommittedListener(()=>{this.In[N]=$.keys()}),It.waitFor(pe).next(()=>$)})}lookupMutationBatch(e,r){return rl(e).get(r).next(l=>l?(vr(l.userId===this.userId),Ou(this.It,l)):null)}Tn(e,r){return this.In[r]?It.resolve(this.In[r]):this.lookupMutationBatch(e,r).next(l=>{if(l){const p=l.keys();return this.In[r]=p,p}return null})}getNextMutationBatchAfterBatchId(e,r){const l=r+1,p=IDBKeyRange.lowerBound([this.userId,l]);let b=null;return rl(e).Z({index:"userMutationsIndex",range:p},(I,N,$)=>{N.userId===this.userId&&(vr(N.batchId>=l),b=Ou(this.It,N)),$.done()}).next(()=>b)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return rl(e).Z({index:"userMutationsIndex",range:r,reverse:!0},(p,b,I)=>{l=b.batchId,I.done()}).next(()=>l)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).W("userMutationsIndex",r).next(l=>l.map(p=>Ou(this.It,p)))}getAllMutationBatchesAffectingDocumentKey(e,r){const l=ed(this.userId,r.path),p=IDBKeyRange.lowerBound(l),b=[];return fa(e).Z({range:p},(I,N,$)=>{const[Q,pe,qe]=I,Tt=Ga(pe);if(Q===this.userId&&r.path.isEqual(Tt))return rl(e).get(qe).next(zt=>{if(!zt)throw Fn();vr(zt.userId===this.userId),b.push(Ou(this.It,zt))});$.done()}).next(()=>b)}getAllMutationBatchesAffectingDocumentKeys(e,r){let l=new Li(Oe);const p=[];return r.forEach(b=>{const I=ed(this.userId,b.path),N=IDBKeyRange.lowerBound(I),$=fa(e).Z({range:N},(Q,pe,qe)=>{const[Tt,zt,Kt]=Q,gn=Ga(zt);Tt===this.userId&&b.path.isEqual(gn)?l=l.add(Kt):qe.done()});p.push($)}),It.waitFor(p).next(()=>this.En(e,l))}getAllMutationBatchesAffectingQuery(e,r){const l=r.path,p=l.length+1,b=ed(this.userId,l),I=IDBKeyRange.lowerBound(b);let N=new Li(Oe);return fa(e).Z({range:I},($,Q,pe)=>{const[qe,Tt,zt]=$,Kt=Ga(Tt);qe===this.userId&&l.isPrefixOf(Kt)?Kt.length===p&&(N=N.add(zt)):pe.done()}).next(()=>this.En(e,N))}En(e,r){const l=[],p=[];return r.forEach(b=>{p.push(rl(e).get(b).next(I=>{if(null===I)throw Fn();vr(I.userId===this.userId),l.push(Ou(this.It,I))}))}),It.waitFor(p).next(()=>l)}removeMutationBatch(e,r){return iy(e.ie,this.userId,r).next(l=>(e.addOnCommittedListener(()=>{this.An(r.batchId)}),It.forEach(l,p=>this.referenceDelegate.markPotentiallyOrphaned(e,p))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return It.resolve();const l=IDBKeyRange.lowerBound([this.userId]),p=[];return fa(e).Z({range:l},(b,I,N)=>{if(b[0]===this.userId){const $=Ga(b[1]);p.push($)}else N.done()}).next(()=>{vr(0===p.length)})})}containsKey(e,r){return ep(e,this.userId,r)}Rn(e){return sh(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ep(s,e,r){const l=ed(e,r.path),p=l[1],b=IDBKeyRange.lowerBound(l);let I=!1;return fa(s).Z({range:b,X:!0},(N,$,Q)=>{const[pe,qe,Tt]=N;pe===e&&qe===p&&(I=!0),Q.done()}).next(()=>I)}function rl(s){return Ho(s,"mutations")}function fa(s){return Ho(s,"documentMutations")}function sh(s){return Ho(s,"mutationQueues")}class Po{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Po(0)}static vn(){return new Po(-1)}}class er{constructor(e,r){this.referenceDelegate=e,this.It=r}allocateTargetId(e){return this.Vn(e).next(r=>{const l=new Po(r.highestTargetId);return r.highestTargetId=l.next(),this.Sn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(r=>en.fromTimestamp(new Kn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,l){return this.Vn(e).next(p=>(p.highestListenSequenceNumber=r,l&&(p.lastRemoteSnapshotVersion=l.toTimestamp()),r>p.highestListenSequenceNumber&&(p.highestListenSequenceNumber=r),this.Sn(e,p)))}addTargetData(e,r){return this.Dn(e,r).next(()=>this.Vn(e).next(l=>(l.targetCount+=1,this.Cn(r,l),this.Sn(e,l))))}updateTargetData(e,r){return this.Dn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ks(e).delete(r.targetId)).next(()=>this.Vn(e)).next(l=>(vr(l.targetCount>0),l.targetCount-=1,this.Sn(e,l)))}removeTargets(e,r,l){let p=0;const b=[];return ks(e).Z((I,N)=>{const $=Mu(N);$.sequenceNumber<=r&&null===l.get($.targetId)&&(p++,b.push(this.removeTargetData(e,$)))}).next(()=>It.waitFor(b)).next(()=>p)}forEachTarget(e,r){return ks(e).Z((l,p)=>{const b=Mu(p);r(b)})}Vn(e){return ds(e).get("targetGlobalKey").next(r=>(vr(null!==r),r))}Sn(e,r){return ds(e).put("targetGlobalKey",r)}Dn(e,r){return ks(e).put(Tc(this.It,r))}Cn(e,r){let l=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,l=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.Vn(e).next(r=>r.targetCount)}getTargetData(e,r){const l=Bo(r),p=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let b=null;return ks(e).Z({range:p,index:"queryTargetsIndex"},(I,N,$)=>{const Q=Mu(N);Zl(r,Q.target)&&(b=Q,$.done())}).next(()=>b)}addMatchingKeys(e,r,l){const p=[],b=bl(e);return r.forEach(I=>{const N=Ro(I.path);p.push(b.put({targetId:l,path:N})),p.push(this.referenceDelegate.addReference(e,l,I))}),It.waitFor(p)}removeMatchingKeys(e,r,l){const p=bl(e);return It.forEach(r,b=>{const I=Ro(b.path);return It.waitFor([p.delete([l,I]),this.referenceDelegate.removeReference(e,l,b)])})}removeMatchingKeysForTargetId(e,r){const l=bl(e),p=IDBKeyRange.bound([r],[r+1],!1,!0);return l.delete(p)}getMatchingKeysForTargetId(e,r){const l=IDBKeyRange.bound([r],[r+1],!1,!0),p=bl(e);let b=Jr();return p.Z({range:l,X:!0},(I,N,$)=>{const Q=Ga(I[1]),pe=new fn(Q);b=b.add(pe)}).next(()=>b)}containsKey(e,r){const l=Ro(r.path),p=IDBKeyRange.bound([l],[Ln(l)],!1,!0);let b=0;return bl(e).Z({index:"documentTargetsIndex",X:!0,range:p},([I,N],$,Q)=>{0!==I&&(b++,Q.done())}).next(()=>b>0)}se(e,r){return ks(e).get(r).next(l=>l?Mu(l):null)}}function ks(s){return Ho(s,"targets")}function ds(s){return Ho(s,"targetGlobal")}function bl(s){return Ho(s,"targetDocuments")}function Jh([s,e],[r,l]){const p=Oe(s,r);return 0===p?Oe(e,l):p}class pm{constructor(e){this.xn=e,this.buffer=new Li(Jh),this.Nn=0}kn(){return++this.Nn}Mn(e){const r=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(r);else{const l=this.buffer.last();Jh(r,l)<0&&(this.buffer=this.buffer.delete(l).add(r))}}get maxValue(){return this.buffer.last()[0]}}class og{constructor(e,r,l){this.garbageCollector=e,this.asyncQueue=r,this.localStore=l,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var r=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.Z)(function*(){r.On=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(l){Js(l)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Bl(l)}yield r.Fn(3e5)}))}}class sy{constructor(e,r){this.$n=e,this.params=r}calculateTargetCount(e,r){return this.$n.Bn(e).next(l=>Math.floor(r/100*l))}nthSequenceNumber(e,r){if(0===r)return It.resolve(os.at);const l=new pm(r);return this.$n.forEachTarget(e,p=>l.Mn(p.sequenceNumber)).next(()=>this.$n.Ln(e,p=>l.Mn(p))).next(()=>l.maxValue)}removeTargets(e,r,l){return this.$n.removeTargets(e,r,l)}removeOrphanedDocuments(e,r){return this.$n.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(sg)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sg):this.Un(e,r))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,r){let l,p,b,I,N,$,Q;const pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(qe=>(qe>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${qe}`),p=this.params.maximumSequenceNumbersToCollect):p=qe,I=Date.now(),this.nthSequenceNumber(e,p))).next(qe=>(l=qe,N=Date.now(),this.removeTargets(e,l,r))).next(qe=>(b=qe,$=Date.now(),this.removeOrphanedDocuments(e,l))).next(qe=>(Q=Date.now(),xl()<=Zt.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-pe}ms\n\tDetermined least recently used ${p} in `+(N-I)+`ms\n\tRemoved ${b} targets in `+($-N)+`ms\n\tRemoved ${qe} documents in `+(Q-$)+`ms\nTotal Duration: ${Q-pe}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:p,targetsRemoved:b,documentsRemoved:qe})))}}class Ru{constructor(e,r){this.db=e,this.garbageCollector=new sy(this,r)}Bn(e){const r=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>r.next(p=>l+p))}qn(e){let r=0;return this.Ln(e,l=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Ln(e,r){return this.Kn(e,(l,p)=>r(p))}addReference(e,r,l){return ku(e,l)}removeReference(e,r,l){return ku(e,l)}removeTargets(e,r,l){return this.db.getTargetCache().removeTargets(e,r,l)}markPotentiallyOrphaned(e,r){return ku(e,r)}Gn(e,r){return function(l,p){let b=!1;return sh(l).tt(I=>ep(l,I,p).next(N=>(N&&(b=!0),It.resolve(!N)))).next(()=>b)}(e,r)}removeOrphanedDocuments(e,r){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),p=[];let b=0;return this.Kn(e,(I,N)=>{if(N<=r){const $=this.Gn(e,I).next(Q=>{if(!Q)return b++,l.getEntry(e,I).next(()=>(l.removeEntry(I,en.min()),bl(e).delete([0,Ro(I.path)])))});p.push($)}}).next(()=>It.waitFor(p)).next(()=>l.apply(e)).next(()=>b)}removeTarget(e,r){const l=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,r){return ku(e,r)}Kn(e,r){const l=bl(e);let p,b=os.at;return l.Z({index:"documentTargetsIndex"},([I,N],{path:$,sequenceNumber:Q})=>{0===I?(b!==os.at&&r(new fn(Ga(p)),b),b=Q,p=$):b=os.at}).next(()=>{b!==os.at&&r(new fn(Ga(p)),b)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ku(s,e){return bl(s).put((l=s.currentSequenceNumber,{targetId:0,path:Ro(e.path),sequenceNumber:l}));var l}class od{constructor(){this.changes=new gi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,xi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const l=this.changes.get(r);return void 0!==l?It.resolve(l):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ag{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,l){return ad(e).put(l)}removeEntry(e,r,l){return ad(e).delete(function(p,b){const I=p.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],tl(b),I[I.length-1]]}(r,l))}updateMetadata(e,r){return this.getMetadata(e).next(l=>(l.byteSize+=r,this.Qn(e,l)))}getEntry(e,r){let l=xi.newInvalidDocument(r);return ad(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ld(r))},(p,b)=>{l=this.jn(r,b)}).next(()=>l)}Wn(e,r){let l={size:0,document:xi.newInvalidDocument(r)};return ad(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ld(r))},(p,b)=>{l={document:this.jn(r,b),size:Ar(b)}}).next(()=>l)}getEntries(e,r){let l=ht();return this.zn(e,r,(p,b)=>{const I=this.jn(p,b);l=l.insert(p,I)}).next(()=>l)}Hn(e,r){let l=ht(),p=new Ti(fn.comparator);return this.zn(e,r,(b,I)=>{const N=this.jn(b,I);l=l.insert(b,N),p=p.insert(b,Ar(I))}).next(()=>({documents:l,Jn:p}))}zn(e,r,l){if(r.isEmpty())return It.resolve();let p=new Li(rp);r.forEach($=>p=p.add($));const b=IDBKeyRange.bound(ld(p.first()),ld(p.last())),I=p.getIterator();let N=I.getNext();return ad(e).Z({index:"documentKeyIndex",range:b},($,Q,pe)=>{const qe=fn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;N&&rp(N,qe)<0;)l(N,null),N=I.getNext();N&&N.isEqual(qe)&&(l(N,Q),N=I.hasNext()?I.getNext():null),N?pe.j(ld(N)):pe.done()}).next(()=>{for(;N;)l(N,null),N=I.hasNext()?I.getNext():null})}getAllFromCollection(e,r,l){const p=[r.popLast().toArray(),r.lastSegment(),tl(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],b=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ad(e).W(IDBKeyRange.bound(p,b,!0)).next(I=>{let N=ht();for(const $ of I){const Q=this.jn(fn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);N=N.insert(Q.key,Q)}return N})}getAllFromCollectionGroup(e,r,l,p){let b=ht();const I=ug(r,l),N=ug(r,oa.max());return ad(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,N,!0)},($,Q,pe)=>{const qe=this.jn(fn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);b=b.insert(qe.key,qe),b.size===p&&pe.done()}).next(()=>b)}newChangeBuffer(e){return new np(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return lg(e).get("remoteDocumentGlobalKey").next(r=>(vr(!!r),r))}Qn(e,r){return lg(e).put("remoteDocumentGlobalKey",r)}jn(e,r){if(r){const l=function(s,e){let r;if(e.document)r=Bf(s.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=fn.fromSegments(e.noDocument.path),p=da(e.noDocument.readTime);r=xi.newNoDocument(l,p),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fn();{const l=fn.fromSegments(e.unknownDocument.path),p=da(e.unknownDocument.version);r=xi.newUnknownDocument(l,p)}}return e.readTime&&r.setReadTime(function(l){const p=new Kn(l[0],l[1]);return en.fromTimestamp(p)}(e.readTime)),r}(this.It,r);if(!l.isNoDocument()||!l.version.isEqual(en.min()))return l}return xi.newInvalidDocument(e)}}function tp(s){return new ag(s)}class np extends od{constructor(e,r){super(),this.Yn=e,this.trackRemovals=r,this.Xn=new gi(l=>l.toString(),(l,p)=>l.isEqual(p))}applyChanges(e){const r=[];let l=0,p=new Li((b,I)=>Oe(b.canonicalString(),I.canonicalString()));return this.changes.forEach((b,I)=>{const N=this.Xn.get(b);if(r.push(this.Yn.removeEntry(e,b,N.readTime)),I.isValidDocument()){const $=Cc(this.Yn.It,I);p=p.add(b.path.popLast()),l+=Ar($)-N.size,r.push(this.Yn.addEntry(e,b,$))}else if(l-=N.size,this.trackRemovals){const $=Cc(this.Yn.It,I.convertToNoDocument(en.min()));r.push(this.Yn.addEntry(e,b,$))}}),p.forEach(b=>{r.push(this.Yn.indexManager.addToCollectionParentIndex(e,b))}),r.push(this.Yn.updateMetadata(e,l)),It.waitFor(r)}getFromCache(e,r){return this.Yn.Wn(e,r).next(l=>(this.Xn.set(r,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,r){return this.Yn.Hn(e,r).next(({documents:l,Jn:p})=>(p.forEach((b,I)=>{this.Xn.set(b,{size:I,readTime:l.get(b).readTime})}),l))}}function lg(s){return Ho(s,"remoteDocumentGlobal")}function ad(s){return Ho(s,"remoteDocumentsV14")}function ld(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ug(s,e){const r=e.documentKey.path.toArray();return[s,tl(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function rp(s,e){const r=s.path.toArray(),l=e.path.toArray();let p=0;for(let b=0;b<r.length-2&&b<l.length-2;++b)if(p=Oe(r[b],l[b]),p)return p;return p=Oe(r.length,l.length),p||(p=Oe(r[r.length-2],l[l.length-2]),p||Oe(r[r.length-1],l[l.length-1]))}class ip{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class sp{constructor(e,r,l,p){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=l,this.indexManager=p}getDocument(e,r){let l=null;return this.documentOverlayCache.getOverlay(e,r).next(p=>(l=p,this.getBaseDocument(e,r,l))).next(p=>(null!==l&&zd(l.mutation,p,aa.empty(),Kn.now()),p))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(l=>this.getLocalViewOfDocuments(e,l,Jr()).next(()=>l))}getLocalViewOfDocuments(e,r,l=Jr()){const p=bi();return this.populateOverlays(e,p,r).next(()=>this.computeViews(e,r,p,l).next(b=>{let I=vc();return b.forEach((N,$)=>{I=I.insert(N,$.overlayedDocument)}),I}))}getOverlayedDocuments(e,r){const l=bi();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,Jr()))}populateOverlays(e,r,l){const p=[];return l.forEach(b=>{r.has(b)||p.push(b)}),this.documentOverlayCache.getOverlays(e,p).next(b=>{b.forEach((I,N)=>{r.set(I,N)})})}computeViews(e,r,l,p){let b=ht();const I=bc(),N=bc();return r.forEach(($,Q)=>{const pe=l.get(Q.key);p.has(Q.key)&&(void 0===pe||pe.mutation instanceof Tu)?b=b.insert(Q.key,Q):void 0!==pe&&(I.set(Q.key,pe.mutation.getFieldMask()),zd(pe.mutation,Q,pe.mutation.getFieldMask(),Kn.now()))}),this.recalculateAndSaveOverlays(e,b).next($=>($.forEach((Q,pe)=>I.set(Q,pe)),r.forEach((Q,pe)=>{var qe;return N.set(Q,new ip(pe,null!==(qe=I.get(Q))&&void 0!==qe?qe:null))}),N))}recalculateAndSaveOverlays(e,r){const l=bc();let p=new Ti((I,N)=>I-N),b=Jr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(I=>{for(const N of I)N.keys().forEach($=>{const Q=r.get($);if(null===Q)return;let pe=l.get($)||aa.empty();pe=N.applyToLocalView(Q,pe),l.set($,pe);const qe=(p.get(N.batchId)||Jr()).add($);p=p.insert(N.batchId,qe)})}).next(()=>{const I=[],N=p.getReverseIterator();for(;N.hasNext();){const $=N.getNext(),Q=$.key,pe=$.value,qe=$n();pe.forEach(Tt=>{if(!b.has(Tt)){const zt=Zd(r.get(Tt),l.get(Tt));null!==zt&&qe.set(Tt,zt),b=b.add(Tt)}}),I.push(this.documentOverlayCache.saveOverlays(e,Q,qe))}return It.waitFor(I)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,r,l){return fn.isDocumentKey((p=r).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ua(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,l):this.getDocumentsMatchingCollectionQuery(e,r,l);var p}getNextDocuments(e,r,l,p){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,l,p).next(b=>{const I=p-b.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,l.largestBatchId,p-b.size):It.resolve(bi());let N=-1,$=b;return I.next(Q=>It.forEach(Q,(pe,qe)=>(N<qe.largestBatchId&&(N=qe.largestBatchId),b.get(pe)?It.resolve():this.getBaseDocument(e,pe,qe).next(Tt=>{$=$.insert(pe,Tt)}))).next(()=>this.populateOverlays(e,Q,b)).next(()=>this.computeViews(e,$,Q,Jr())).next(pe=>({batchId:N,changes:Zp(pe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fn(r)).next(l=>{let p=vc();return l.isFoundDocument()&&(p=p.insert(l.key,l)),p})}getDocumentsMatchingCollectionGroupQuery(e,r,l){const p=r.collectionGroup;let b=vc();return this.indexManager.getCollectionParents(e,p).next(I=>It.forEach(I,N=>{const $=(Q=r,pe=N.child(p),new bu(pe,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,pe;return this.getDocumentsMatchingCollectionQuery(e,$,l).next(Q=>{Q.forEach((pe,qe)=>{b=b.insert(pe,qe)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,r,l){let p;return this.remoteDocumentCache.getAllFromCollection(e,r.path,l).next(b=>(p=b,this.documentOverlayCache.getOverlaysForCollection(e,r.path,l.largestBatchId))).next(b=>{b.forEach((N,$)=>{const Q=$.getKey();null===p.get(Q)&&(p=p.insert(Q,xi.newInvalidDocument(Q)))});let I=vc();return p.forEach((N,$)=>{const Q=b.get(N);void 0!==Q&&zd(Q.mutation,$,aa.empty(),Kn.now()),T(r,$)&&(I=I.insert(N,$))}),I})}getBaseDocument(e,r,l){return null===l||1===l.mutation.type?this.remoteDocumentCache.getEntry(e,r):It.resolve(xi.newInvalidDocument(r))}}class oh{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return It.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var l;return this.Zn.set(r.id,{id:(l=r).id,version:l.version,createTime:Zs(l.createTime)}),It.resolve()}getNamedQuery(e,r){return It.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,{name:(l=r).name,query:eh(l.bundledQuery),readTime:Zs(l.readTime)}),It.resolve();var l}}class io{constructor(){this.overlays=new Ti(fn.comparator),this.es=new Map}getOverlay(e,r){return It.resolve(this.overlays.get(r))}getOverlays(e,r){const l=bi();return It.forEach(r,p=>this.getOverlay(e,p).next(b=>{null!==b&&l.set(p,b)})).next(()=>l)}saveOverlays(e,r,l){return l.forEach((p,b)=>{this.ue(e,r,b)}),It.resolve()}removeOverlaysForBatchId(e,r,l){const p=this.es.get(l);return void 0!==p&&(p.forEach(b=>this.overlays=this.overlays.remove(b)),this.es.delete(l)),It.resolve()}getOverlaysForCollection(e,r,l){const p=bi(),b=r.length+1,I=new fn(r.child("")),N=this.overlays.getIteratorFrom(I);for(;N.hasNext();){const $=N.getNext().value,Q=$.getKey();if(!r.isPrefixOf(Q.path))break;Q.path.length===b&&$.largestBatchId>l&&p.set($.getKey(),$)}return It.resolve(p)}getOverlaysForCollectionGroup(e,r,l,p){let b=new Ti((Q,pe)=>Q-pe);const I=this.overlays.getIterator();for(;I.hasNext();){const Q=I.getNext().value;if(Q.getKey().getCollectionGroup()===r&&Q.largestBatchId>l){let pe=b.get(Q.largestBatchId);null===pe&&(pe=bi(),b=b.insert(Q.largestBatchId,pe)),pe.set(Q.getKey(),Q)}}const N=bi(),$=b.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((Q,pe)=>N.set(Q,pe)),!(N.size()>=p)););return It.resolve(N)}ue(e,r,l){const p=this.overlays.get(l.key);if(null!==p){const I=this.es.get(p.largestBatchId).delete(l.key);this.es.set(p.largestBatchId,I)}this.overlays=this.overlays.insert(l.key,new rd(r,l));let b=this.es.get(r);void 0===b&&(b=Jr(),this.es.set(r,b)),this.es.set(r,b.add(l.key))}}class op{constructor(){this.ns=new Li(wo.ss),this.rs=new Li(wo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const l=new wo(e,r);this.ns=this.ns.add(l),this.rs=this.rs.add(l)}us(e,r){e.forEach(l=>this.addReference(l,r))}removeReference(e,r){this.cs(new wo(e,r))}hs(e,r){e.forEach(l=>this.removeReference(l,r))}ls(e){const r=new fn(new xn([])),l=new wo(r,e),p=new wo(r,e+1),b=[];return this.rs.forEachInRange([l,p],I=>{this.cs(I),b.push(I.key)}),b}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new fn(new xn([])),l=new wo(r,e),p=new wo(r,e+1);let b=Jr();return this.rs.forEachInRange([l,p],I=>{b=b.add(I.key)}),b}containsKey(e){const r=new wo(e,0),l=this.ns.firstAfterOrEqual(r);return null!==l&&e.isEqual(l.key)}}class wo{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return fn.comparator(e.key,r.key)||Oe(e._s,r._s)}static os(e,r){return Oe(e._s,r._s)||fn.comparator(e.key,r.key)}}class Go{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new Li(wo.ss)}checkEmpty(e){return It.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,l,p){const b=this.ws;this.ws++;const I=new Au(b,r,l,p);this.mutationQueue.push(I);for(const N of p)this.gs=this.gs.add(new wo(N.key,b)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return It.resolve(I)}lookupMutationBatch(e,r){return It.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const p=this.ps(r+1),b=p<0?0:p;return It.resolve(this.mutationQueue.length>b?this.mutationQueue[b]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const l=new wo(r,0),p=new wo(r,Number.POSITIVE_INFINITY),b=[];return this.gs.forEachInRange([l,p],I=>{const N=this.ys(I._s);b.push(N)}),It.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(e,r){let l=new Li(Oe);return r.forEach(p=>{const b=new wo(p,0),I=new wo(p,Number.POSITIVE_INFINITY);this.gs.forEachInRange([b,I],N=>{l=l.add(N._s)})}),It.resolve(this.Is(l))}getAllMutationBatchesAffectingQuery(e,r){const l=r.path,p=l.length+1;let b=l;fn.isDocumentKey(b)||(b=b.child(""));const I=new wo(new fn(b),0);let N=new Li(Oe);return this.gs.forEachWhile($=>{const Q=$.key.path;return!!l.isPrefixOf(Q)&&(Q.length===p&&(N=N.add($._s)),!0)},I),It.resolve(this.Is(N))}Is(e){const r=[];return e.forEach(l=>{const p=this.ys(l);null!==p&&r.push(p)}),r}removeMutationBatch(e,r){vr(0===this.Ts(r.batchId,"removed")),this.mutationQueue.shift();let l=this.gs;return It.forEach(r.mutations,p=>{const b=new wo(p.key,r.batchId);return l=l.delete(b),this.referenceDelegate.markPotentiallyOrphaned(e,p.key)}).next(()=>{this.gs=l})}An(e){}containsKey(e,r){const l=new wo(r,0),p=this.gs.firstAfterOrEqual(l);return It.resolve(r.isEqual(p&&p.key))}performConsistencyCheck(e){return It.resolve()}Ts(e,r){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class cg{constructor(e){this.Es=e,this.docs=new Ti(fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const l=r.key,p=this.docs.get(l),b=p?p.size:0,I=this.Es(r);return this.docs=this.docs.insert(l,{document:r.mutableCopy(),size:I}),this.size+=I-b,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const l=this.docs.get(r);return It.resolve(l?l.document.mutableCopy():xi.newInvalidDocument(r))}getEntries(e,r){let l=ht();return r.forEach(p=>{const b=this.docs.get(p);l=l.insert(p,b?b.document.mutableCopy():xi.newInvalidDocument(p))}),It.resolve(l)}getAllFromCollection(e,r,l){let p=ht();const b=new fn(r.child("")),I=this.docs.getIteratorFrom(b);for(;I.hasNext();){const{key:N,value:{document:$}}=I.getNext();if(!r.isPrefixOf(N.path))break;N.path.length>r.length+1||pu(Pi($),l)<=0||(p=p.insert($.key,$.mutableCopy()))}return It.resolve(p)}getAllFromCollectionGroup(e,r,l,p){Fn()}As(e,r){return It.forEach(this.docs,l=>r(l))}newChangeBuffer(e){return new gm(this)}getSize(e){return It.resolve(this.size)}}class gm extends od{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((l,p)=>{p.isValidDocument()?r.push(this.Yn.addEntry(e,p)):this.Yn.removeEntry(l)}),It.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}class oy{constructor(e){this.persistence=e,this.Rs=new gi(r=>Bo(r),Zl),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.bs=0,this.Ps=new op,this.targetCount=0,this.vs=Po.Pn()}forEachTarget(e,r){return this.Rs.forEach((l,p)=>r(p)),It.resolve()}getLastRemoteSnapshotVersion(e){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return It.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(e,r,l){return l&&(this.lastRemoteSnapshotVersion=l),r>this.bs&&(this.bs=r),It.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new Po(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,It.resolve()}updateTargetData(e,r){return this.Dn(r),It.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,It.resolve()}removeTargets(e,r,l){let p=0;const b=[];return this.Rs.forEach((I,N)=>{N.sequenceNumber<=r&&null===l.get(N.targetId)&&(this.Rs.delete(I),b.push(this.removeMatchingKeysForTargetId(e,N.targetId)),p++)}),It.waitFor(b).next(()=>p)}getTargetCount(e){return It.resolve(this.targetCount)}getTargetData(e,r){const l=this.Rs.get(r)||null;return It.resolve(l)}addMatchingKeys(e,r,l){return this.Ps.us(r,l),It.resolve()}removeMatchingKeys(e,r,l){this.Ps.hs(r,l);const p=this.persistence.referenceDelegate,b=[];return p&&r.forEach(I=>{b.push(p.markPotentiallyOrphaned(e,I))}),It.waitFor(b)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),It.resolve()}getMatchingKeysForTargetId(e,r){const l=this.Ps.ds(r);return It.resolve(l)}containsKey(e,r){return It.resolve(this.Ps.containsKey(r))}}class mm{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new os(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new oy(this),this.indexManager=new hm,this.remoteDocumentCache=new cg(l=>this.referenceDelegate.xs(l)),this.It=new id(r),this.Ns=new oh(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new io,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let l=this.Vs[e.toKey()];return l||(l=new Go(r,this.referenceDelegate),this.Vs[e.toKey()]=l),l}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,l){Xt("MemoryPersistence","Starting transaction:",e);const p=new ay(this.Ss.next());return this.referenceDelegate.ks(),l(p).next(b=>this.referenceDelegate.Ms(p).next(()=>b)).toPromise().then(b=>(p.raiseOnCommittedEvent(),b))}Os(e,r){return It.or(Object.values(this.Vs).map(l=>()=>l.containsKey(e,r)))}}class ay extends zu{constructor(e){super(),this.currentSequenceNumber=e}}class Xh{constructor(e){this.persistence=e,this.Fs=new op,this.$s=null}static Bs(e){return new Xh(e)}get Ls(){if(this.$s)return this.$s;throw Fn()}addReference(e,r,l){return this.Fs.addReference(l,r),this.Ls.delete(l.toString()),It.resolve()}removeReference(e,r,l){return this.Fs.removeReference(l,r),this.Ls.add(l.toString()),It.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),It.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(p=>this.Ls.add(p.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,r.targetId).next(p=>{p.forEach(b=>this.Ls.add(b.toString()))}).next(()=>l.removeTargetData(e,r))}ks(){this.$s=new Set}Ms(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.Ls,l=>{const p=fn.fromPath(l);return this.Us(e,p).next(b=>{b||r.removeEntry(p,en.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.Us(e,r).next(l=>{l?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}Us(e,r){return It.or([()=>It.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Os(e,r)])}}class ly{constructor(e){this.It=e}$(e,r,l,p){const b=new hc("createOrUpgrade",r);var N;l<1&&p>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qp,{unique:!0}),N.createObjectStore("documentMutations"),Xl(e),function(N){N.createObjectStore("remoteDocuments")}(e));let I=It.resolve();return l<3&&p>=3&&(0!==l&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Xl(e)),I=I.next(()=>function(N){const $=N.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:en.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",Q)}(b))),l<4&&p>=4&&(0!==l&&(I=I.next(()=>function(N,$){return $.store("mutations").W().next(Q=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qp,{unique:!0});const pe=$.store("mutations"),qe=Q.map(Tt=>pe.put(Tt));return It.waitFor(qe)})}(e,b))),I=I.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&p>=5&&(I=I.next(()=>this.qs(b))),l<6&&p>=6&&(I=I.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(b)))),l<7&&p>=7&&(I=I.next(()=>this.Gs(b))),l<8&&p>=8&&(I=I.next(()=>this.Qs(e,b))),l<9&&p>=9&&(I=I.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&p>=10&&(I=I.next(()=>this.js(b))),l<11&&p>=11&&(I=I.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&p>=12&&(I=I.next(()=>{!function(N){const $=N.createObjectStore("documentOverlays",{keyPath:Xp});$.createIndex("collectionPathOverlayIndex",eg,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",cm,{unique:!1})}(e)})),l<13&&p>=13&&(I=I.next(()=>function(N){const $=N.createObjectStore("remoteDocumentsV14",{keyPath:Zh});$.createIndex("documentKeyIndex",zf),$.createIndex("collectionGroupIndex",Jp)}(e)).next(()=>this.Ws(e,b)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&p>=14&&(I=I.next(()=>this.zs(e,b))),l<15&&p>=15&&(I=I.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:nd}).createIndex("sequenceNumberIndex",Wf,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:Du}).createIndex("documentKeyIndex",Ii,{unique:!1})}(e))),I}Ks(e){let r=0;return e.store("remoteDocuments").Z((l,p)=>{r+=Ar(p)}).next(()=>{const l={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}qs(e){const r=e.store("mutationQueues"),l=e.store("mutations");return r.W().next(p=>It.forEach(p,b=>{const I=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return l.W("userMutationsIndex",I).next(N=>It.forEach(N,$=>{vr($.userId===b.userId);const Q=Ou(this.It,$);return iy(e,b.userId,Q).next(()=>{})}))}))}Gs(e){const r=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(p=>{const b=[];return l.Z((I,N)=>{const $=new xn(I),Q=[0,Ro($)];b.push(r.get(Q).next(pe=>pe?It.resolve():r.put({targetId:0,path:Ro($),sequenceNumber:p.highestListenSequenceNumber})))}).next(()=>It.waitFor(b))})}Qs(e,r){e.createObjectStore("collectionParents",{keyPath:$h});const l=r.store("collectionParents"),p=new ko,b=I=>{if(p.add(I)){const N=I.lastSegment(),$=I.popLast();return l.put({collectionId:N,parent:Ro($)})}};return r.store("remoteDocuments").Z({X:!0},(I,N)=>{const $=new xn(I);return b($.popLast())}).next(()=>r.store("documentMutations").Z({X:!0},([I,N,$],Q)=>{const pe=Ga(N);return b(pe.popLast())}))}js(e){const r=e.store("targets");return r.Z((l,p)=>{const b=Mu(p),I=Tc(this.It,b);return r.put(I)})}Ws(e,r){const l=r.store("remoteDocuments"),p=[];return l.Z((b,I)=>{const N=r.store("remoteDocumentsV14"),$=(Q=I,Q.document?new fn(xn.fromString(Q.document.name).popFirst(5)):Q.noDocument?fn.fromSegments(Q.noDocument.path):Q.unknownDocument?fn.fromSegments(Q.unknownDocument.path):Fn()).path.toArray();var Q;const pe={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};p.push(N.put(pe))}).next(()=>It.waitFor(p))}zs(e,r){const l=r.store("mutations"),p=tp(this.It),b=new mm(Xh.Bs,this.It.re);return l.W().next(I=>{const N=new Map;return I.forEach($=>{var Q;let pe=null!==(Q=N.get($.userId))&&void 0!==Q?Q:Jr();Ou(this.It,$).keys().forEach(qe=>pe=pe.add(qe)),N.set($.userId,pe)}),It.forEach(N,($,Q)=>{const pe=new vs(Q),qe=rc.oe(this.It,pe),Tt=b.getIndexManager(pe),zt=Qh.oe(pe,this.It,Tt,b.referenceDelegate);return new sp(p,zt,qe,Tt).recalculateAndSaveOverlaysForDocumentKeys(new Jd(r,os.at),$).next()})})}}function Xl(s){s.createObjectStore("targetDocuments",{keyPath:t_}).createIndex("documentTargetsIndex",Ji,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Cs,{unique:!0}),s.createObjectStore("targetGlobal")}const ah="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ap{constructor(e,r,l,p,b,I,N,$,Q,pe,qe=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=l,this.Hs=b,this.window=I,this.document=N,this.Js=Q,this.Ys=pe,this.Xs=qe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Tt=>Promise.resolve(),!ap.C())throw new $t(xt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ru(this,p),this.ii=r+"main",this.It=new id($),this.ri=new Ba(this.ii,this.Xs,new ly(this.It)),this.Cs=new er(this.referenceDelegate,this.It),this.remoteDocumentCache=tp(this.It),this.Ns=new th,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===pe&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $t(xt.FAILED_PRECONDITION,ah);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new os(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var r=this;return this.si=function(){var l=(0,ce.Z)(function*(p){if(r.started)return e(p)});return function(p){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var r=(0,ce.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ce.Z)(function*(){r.started&&(yield r.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ud(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(r=>this.isPrimary&&!r?this._i(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Js(e))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return eu(e).get("owner").next(r=>It.resolve(this.mi(r)))}gi(e){return ud(e).delete(this.clientId)}yi(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const p=Ho(l,"clientMetadata");return p.W().next(b=>{const I=e.Ii(b,18e5),N=b.filter($=>-1===I.indexOf($));return It.forEach(N,$=>p.delete($.clientId)).next(()=>N)})}).catch(()=>[]);if(e.oi)for(const l of r)e.oi.removeItem(e.Ti(l.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?It.resolve(!0):eu(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)){if(this.mi(r)&&this.networkEnabled)return!0;if(!this.mi(r)){if(!r.allowTabSynchronization)throw new $t(xt.FAILED_PRECONDITION,ah);return!1}}return!(!this.networkEnabled||!this.inForeground)||ud(e).W().next(l=>void 0===this.Ii(l,5e3).find(p=>{if(this.clientId!==p.clientId){const I=!this.inForeground&&p.inForeground,N=this.networkEnabled===p.networkEnabled;if(!this.networkEnabled&&p.networkEnabled||I&&N)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Xt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const l=new Jd(r,os.at);return e._i(l).next(()=>e.gi(l))}),e.ri.close(),e.Pi()})()}Ii(e,r){return e.filter(l=>this.pi(l.updateTimeMs,r)&&!this.Ei(l.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ud(e).W().next(r=>this.Ii(r,18e5).map(l=>l.clientId)))}get started(){return this.Ds}getMutationQueue(e,r){return Qh.oe(e,this.It,r,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fm(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return rc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,r,l){Xt("IndexedDbPersistence","Starting transaction:",e);const p="readonly"===r?"readonly":"readwrite",b=15===(I=this.Xs)?Qd:14===I?Yd:13===I?ng:12===I?tg:11===I?Kf:void Fn();var I;let N;return this.ri.runTransaction(e,p,b,$=>(N=new Jd($,this.Ss?this.Ss.next():os.at),"readwrite-primary"===r?this.fi(N).next(Q=>!!Q||this.di(N)).next(Q=>{if(!Q)throw zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $t(xt.FAILED_PRECONDITION,Nh);return l(N)}).next(Q=>this.wi(N).next(()=>Q)):this.Vi(N).next(()=>l(N)))).then($=>(N.raiseOnCommittedEvent(),$))}Vi(e){return eu(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)&&!this.mi(r)&&!(this.Ys||this.allowTabSynchronization&&r.allowTabSynchronization))throw new $t(xt.FAILED_PRECONDITION,ah)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eu(e).put("owner",r)}static C(){return Ba.C()}_i(e){const r=eu(e);return r.get("owner").next(l=>this.mi(l)?(Xt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):It.resolve())}pi(e,r){const l=Date.now();return!(e<l-r||e>l&&(zi(`Detected an update time that is in the future: ${e} > ${l}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,St.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var r;try{const l=null!==(null===(r=this.oi)||void 0===r?void 0:r.getItem(this.Ti(e)));return Xt("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return zi("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){zi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eu(s){return Ho(s,"owner")}function ud(s){return Ho(s,"clientMetadata")}function tu(s,e){let r=s.projectId;return s.isDefaultDatabase||(r+="."+s.database),"firestore/"+e+"/"+r+"/"}class lh{constructor(e,r,l,p){this.targetId=e,this.fromCache=r,this.Si=l,this.Di=p}static Ci(e,r){let l=Jr(),p=Jr();for(const b of r.docChanges)switch(b.type){case 0:l=l.add(b.doc.key);break;case 1:p=p.add(b.doc.key)}return new lh(e,r.fromCache,l,p)}}class dg{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,l,p){return this.ki(e,r).next(b=>b||this.Mi(e,r,p,l)).next(b=>b||this.Oi(e,r))}ki(e,r){if($c(r))return It.resolve(null);let l=Aa(r);return this.indexManager.getIndexType(e,l).next(p=>0===p?null:(null!==r.limit&&1===p&&(r=jd(r,null,"F"),l=Aa(r)),this.indexManager.getDocumentsMatchingTarget(e,l).next(b=>{const I=Jr(...b);return this.Ni.getDocuments(e,I).next(N=>this.indexManager.getMinOffset(e,l).next($=>{const Q=this.Fi(r,N);return this.$i(r,Q,I,$.readTime)?this.ki(e,jd(r,null,"F")):this.Bi(e,Q,r,$)}))})))}Mi(e,r,l,p){return $c(r)||p.isEqual(en.min())?this.Oi(e,r):this.Ni.getDocuments(e,l).next(b=>{const I=this.Fi(r,b);return this.$i(r,I,l,p)?this.Oi(e,r):(xl()<=Zt.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),E(r)),this.Bi(e,I,r,$u(p,-1)))})}Fi(e,r){let l=new Li(ie(e));return r.forEach((p,b)=>{T(e,b)&&(l=l.add(b))}),l}$i(e,r,l,p){if(null===e.limit)return!1;if(l.size!==r.size)return!0;const b="F"===e.limitType?r.last():r.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(p)>0)}Oi(e,r){return xl()<=Zt.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",E(r)),this.Ni.getDocumentsMatchingQuery(e,r,oa.min())}Bi(e,r,l,p){return this.Ni.getDocumentsMatchingQuery(e,l,p).next(b=>(r.forEach(I=>{b=b.insert(I.key,I)}),b))}}class Pu{constructor(e,r,l,p){this.persistence=e,this.Li=r,this.It=p,this.Ui=new Ti(Oe),this.qi=new gi(b=>Bo(b),Zl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(l)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ui))}}function hg(s,e,r,l){return new Pu(s,e,r,l)}function ym(s,e){return xc.apply(this,arguments)}function xc(){return xc=(0,ce.Z)(function*(s,e){const r=An(s);return yield r.persistence.runTransaction("Handle user change","readonly",l=>{let p;return r.mutationQueue.getAllMutationBatches(l).next(b=>(p=b,r.Qi(e),r.mutationQueue.getAllMutationBatches(l))).next(b=>{const I=[],N=[];let $=Jr();for(const Q of p){I.push(Q.batchId);for(const pe of Q.mutations)$=$.add(pe.key)}for(const Q of b){N.push(Q.batchId);for(const pe of Q.mutations)$=$.add(pe.key)}return r.localDocuments.getDocuments(l,$).next(Q=>({ji:Q,removedBatchIds:I,addedBatchIds:N}))})})}),xc.apply(this,arguments)}function uh(s,e){const r=An(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const p=e.batch.keys(),b=r.Gi.newChangeBuffer({trackRemovals:!0});return function(I,N,$,Q){const pe=$.batch,qe=pe.keys();let Tt=It.resolve();return qe.forEach(zt=>{Tt=Tt.next(()=>Q.getEntry(N,zt)).next(Kt=>{const gn=$.docVersions.get(zt);vr(null!==gn),Kt.version.compareTo(gn)<0&&(pe.applyToRemoteDocument(Kt,$),Kt.isValidDocument()&&(Kt.setReadTime($.commitVersion),Q.addEntry(Kt)))})}),Tt.next(()=>I.mutationQueue.removeMutationBatch(N,pe))}(r,l,e,b).next(()=>b.apply(l)).next(()=>r.mutationQueue.performConsistencyCheck(l)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(l,p,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(I){let N=Jr();for(let $=0;$<I.mutationResults.length;++$)I.mutationResults[$].transformResults.length>0&&(N=N.add(I.batch.mutations[$].key));return N}(e))).next(()=>r.localDocuments.getDocuments(l,p))})}function _m(s){const e=An(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function lp(s,e){const r=An(s),l=e.snapshotVersion;let p=r.Ui;return r.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const I=r.Gi.newChangeBuffer({trackRemovals:!0});p=r.Ui;const N=[];e.targetChanges.forEach((pe,qe)=>{const Tt=p.get(qe);if(!Tt)return;N.push(r.Cs.removeMatchingKeys(b,pe.removedDocuments,qe).next(()=>r.Cs.addMatchingKeys(b,pe.addedDocuments,qe)));let zt=Tt.withSequenceNumber(b.currentSequenceNumber);var Kt,gn,br;e.targetMismatches.has(qe)?zt=zt.withResumeToken(bs.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):pe.resumeToken.approximateByteSize()>0&&(zt=zt.withResumeToken(pe.resumeToken,l)),p=p.insert(qe,zt),gn=zt,br=pe,(0===(Kt=Tt).resumeToken.approximateByteSize()||gn.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||br.addedDocuments.size+br.modifiedDocuments.size+br.removedDocuments.size>0)&&N.push(r.Cs.updateTargetData(b,zt))});let $=ht(),Q=Jr();if(e.documentUpdates.forEach(pe=>{e.resolvedLimboDocuments.has(pe)&&N.push(r.persistence.referenceDelegate.updateLimboDocument(b,pe))}),N.push(fg(b,I,e.documentUpdates).next(pe=>{$=pe.Wi,Q=pe.zi})),!l.isEqual(en.min())){const pe=r.Cs.getLastRemoteSnapshotVersion(b).next(qe=>r.Cs.setTargetsMetadata(b,b.currentSequenceNumber,l));N.push(pe)}return It.waitFor(N).next(()=>I.apply(b)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,$,Q)).next(()=>$)}).then(b=>(r.Ui=p,b))}function fg(s,e,r){let l=Jr(),p=Jr();return r.forEach(b=>l=l.add(b)),e.getEntries(s,l).next(b=>{let I=ht();return r.forEach((N,$)=>{const Q=b.get(N);$.isFoundDocument()!==Q.isFoundDocument()&&(p=p.add(N)),$.isNoDocument()&&$.version.isEqual(en.min())?(e.removeEntry(N,$.readTime),I=I.insert(N,$)):!Q.isValidDocument()||$.version.compareTo(Q.version)>0||0===$.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry($),I=I.insert(N,$)):Xt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",Q.version," Watch version:",$.version)}),{Wi:I,zi:p}})}function pg(s,e){const r=An(s);return r.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Nu(s,e){const r=An(s);return r.persistence.runTransaction("Allocate target","readwrite",l=>{let p;return r.Cs.getTargetData(l,e).next(b=>b?(p=b,It.resolve(p)):r.Cs.allocateTargetId(l).next(I=>(p=new qo(e,I,0,l.currentSequenceNumber),r.Cs.addTargetData(l,p).next(()=>p))))}).then(l=>{const p=r.Ui.get(l.targetId);return(null===p||l.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(r.Ui=r.Ui.insert(l.targetId,l),r.qi.set(e,l.targetId)),l})}function El(s,e,r){return cd.apply(this,arguments)}function cd(){return cd=(0,ce.Z)(function*(s,e,r){const l=An(s),p=l.Ui.get(e),b=r?"readwrite":"readwrite-primary";try{r||(yield l.persistence.runTransaction("Release target",b,I=>l.persistence.referenceDelegate.removeTarget(I,p)))}catch(I){if(!Js(I))throw I;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}l.Ui=l.Ui.remove(e),l.qi.delete(p.target)}),cd.apply(this,arguments)}function wl(s,e,r){const l=An(s);let p=en.min(),b=Jr();return l.persistence.runTransaction("Execute query","readonly",I=>function(N,$,Q){const pe=An(N),qe=pe.qi.get(Q);return void 0!==qe?It.resolve(pe.Ui.get(qe)):pe.Cs.getTargetData($,Q)}(l,I,Aa(e)).next(N=>{if(N)return p=N.lastLimboFreeSnapshotVersion,l.Cs.getMatchingKeysForTargetId(I,N.targetId).next($=>{b=$})}).next(()=>l.Li.getDocumentsMatchingQuery(I,e,r?p:en.min(),r?b:Jr())).next(N=>(No(l,V(e),N),{documents:N,Hi:b})))}function ch(s,e){const r=An(s),l=An(r.Cs),p=r.Ui.get(e);return p?Promise.resolve(p.target):r.persistence.runTransaction("Get target data","readonly",b=>l.se(b,e).next(I=>I?I.target:null))}function il(s,e){const r=An(s),l=r.Ki.get(e)||en.min();return r.persistence.runTransaction("Get new document changes","readonly",p=>r.Gi.getAllFromCollectionGroup(p,e,$u(l,-1),Number.MAX_SAFE_INTEGER)).then(p=>(No(r,e,p),p))}function No(s,e,r){let l=en.min();r.forEach((p,b)=>{b.readTime.compareTo(l)>0&&(l=b.readTime)}),s.Ki.set(e,l)}function dh(){return dh=(0,ce.Z)(function*(s,e,r,l){const p=An(s);let b=Jr(),I=ht();for(const Q of r){const pe=e.Ji(Q.metadata.name);Q.document&&(b=b.add(pe));const qe=e.Yi(Q);qe.setReadTime(e.Xi(Q.metadata.readTime)),I=I.insert(pe,qe)}const N=p.Gi.newChangeBuffer({trackRemovals:!0}),$=yield Nu(p,(Q=l,Aa(Eu(xn.fromString(`__bundle__/docs/${Q}`)))));var Q;return p.persistence.runTransaction("Apply bundle documents","readwrite",Q=>fg(Q,N,I).next(pe=>(N.apply(Q),pe)).next(pe=>p.Cs.removeMatchingKeysForTargetId(Q,$.targetId).next(()=>p.Cs.addMatchingKeys(Q,b,$.targetId)).next(()=>p.localDocuments.getLocalViewOfDocuments(Q,pe.Wi,pe.zi)).next(()=>pe.Wi)))}),dh.apply(this,arguments)}function tf(s,e){return dd.apply(this,arguments)}function dd(){return dd=(0,ce.Z)(function*(s,e,r=Jr()){const l=yield Nu(s,Aa(eh(e.bundledQuery))),p=An(s);return p.persistence.runTransaction("Save named query","readwrite",b=>{const I=Zs(e.readTime);if(l.snapshotVersion.compareTo(I)>=0)return p.Ns.saveNamedQuery(b,e);const N=l.withResumeToken(bs.EMPTY_BYTE_STRING,I);return p.Ui=p.Ui.insert(N.targetId,N),p.Cs.updateTargetData(b,N).next(()=>p.Cs.removeMatchingKeysForTargetId(b,l.targetId)).next(()=>p.Cs.addMatchingKeys(b,r,l.targetId)).next(()=>p.Ns.saveNamedQuery(b,e))})}),dd.apply(this,arguments)}function up(s,e){return`firestore_clients_${s}_${e}`}function Oc(s,e,r){let l=`firestore_mutations_${s}_${r}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function Fu(s,e){return`firestore_targets_${s}_${e}`}class Mc{constructor(e,r,l,p){this.user=e,this.batchId=r,this.state=l,this.error=p}static Zi(e,r,l){const p=JSON.parse(l);let b,I="object"==typeof p&&-1!==["pending","acknowledged","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return I&&p.error&&(I="string"==typeof p.error.message&&"string"==typeof p.error.code,I&&(b=new $t(p.error.code,p.error.message))),I?new Mc(e,r,p.state,b):(zi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${l}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lu{constructor(e,r,l){this.targetId=e,this.state=r,this.error=l}static Zi(e,r){const l=JSON.parse(r);let p,b="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return b&&l.error&&(b="string"==typeof l.error.message&&"string"==typeof l.error.code,b&&(p=new $t(l.error.code,l.error.message))),b?new Lu(e,l.state,p):(zi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hh{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Zi(e,r){const l=JSON.parse(r);let p="object"==typeof l&&l.activeTargetIds instanceof Array,b=ca();for(let I=0;p&&I<l.activeTargetIds.length;++I)p=fc(l.activeTargetIds[I]),b=b.add(l.activeTargetIds[I]);return p?new hh(e,b):(zi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Ps{constructor(e,r){this.clientId=e,this.onlineState=r}static Zi(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Ps(r.clientId,r.onlineState):(zi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cp{constructor(){this.activeTargetIds=ca()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hd{constructor(e,r,l,p,b){this.window=e,this.Hs=r,this.persistenceKey=l,this.sr=p,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ti(Oe),this.started=!1,this.cr=[];const I=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=b,this.ar=up(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new cp),this.lr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const r=yield e.syncEngine.vi();for(const p of r){if(p===e.sr)continue;const b=e.getItem(up(e.persistenceKey,p));if(b){const I=hh.Zi(p,b);I&&(e.ur=e.ur.insert(I.clientId,I))}}e.gr();const l=e.storage.getItem(e.wr);if(l){const p=e.yr(l);p&&e.pr(p)}for(const p of e.cr)e.rr(p);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let r=!1;return this.ur.forEach((l,p)=>{p.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,r,l){this.Tr(e,r,l),this.Er(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(Fu(this.persistenceKey,e));if(l){const p=Lu.Zi(e,l);p&&(r=p.state)}}return this.Ar.er(e),this.gr(),r}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fu(this.persistenceKey,e))}updateQueryState(e,r,l){this.Rr(e,r,l)}handleUserChange(e,r,l){r.forEach(p=>{this.Er(p)}),this.currentUser=e,l.forEach(p=>{this.addPendingMutation(p)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Xt("SharedClientState","READ",e,r),r}setItem(e,r){Xt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var r=this;const l=e;if(l.storageArea===this.storage){if(Xt("SharedClientState","EVENT",l.key,l.newValue),l.key===this.ar)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ce.Z)(function*(){if(r.started){if(null!==l.key)if(r.lr.test(l.key)){if(null==l.newValue){const p=r.vr(l.key);return r.Vr(p,null)}{const p=r.Sr(l.key,l.newValue);if(p)return r.Vr(p.clientId,p)}}else if(r.dr.test(l.key)){if(null!==l.newValue){const p=r.Dr(l.key,l.newValue);if(p)return r.Cr(p)}}else if(r._r.test(l.key)){if(null!==l.newValue){const p=r.Nr(l.key,l.newValue);if(p)return r.kr(p)}}else if(l.key===r.wr){if(null!==l.newValue){const p=r.yr(l.newValue);if(p)return r.pr(p)}}else if(l.key===r.hr){const p=function(b){let I=os.at;if(null!=b)try{const N=JSON.parse(b);vr("number"==typeof N),I=N}catch(N){zi("SharedClientState","Failed to read sequence number from WebStorage",N)}return I}(l.newValue);p!==os.at&&r.sequenceNumberHandler(p)}else if(l.key===r.mr){const p=r.Mr(l.newValue);yield Promise.all(p.map(b=>r.syncEngine.Or(b)))}}else r.cr.push(l)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,r,l){const p=new Mc(this.currentUser,e,r,l),b=Oc(this.persistenceKey,this.currentUser,e);this.setItem(b,p.tr())}Er(e){const r=Oc(this.persistenceKey,this.currentUser,e);this.removeItem(r)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,r,l){const p=Fu(this.persistenceKey,e),b=new Lu(e,r,l);this.setItem(p,b.tr())}Pr(e){const r=JSON.stringify(Array.from(e));this.setItem(this.mr,r)}vr(e){const r=this.lr.exec(e);return r?r[1]:null}Sr(e,r){const l=this.vr(e);return hh.Zi(l,r)}Dr(e,r){const l=this.dr.exec(e),p=Number(l[1]);return Mc.Zi(new vs(void 0!==l[2]?l[2]:null),p,r)}Nr(e,r){const l=this._r.exec(e),p=Number(l[1]);return Lu.Zi(p,r)}yr(e){return Ps.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var r=this;return(0,ce.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Fr(e.batchId,e.state,e.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,r){const l=r?this.ur.insert(e,r):this.ur.remove(e),p=this.Ir(this.ur),b=this.Ir(l),I=[],N=[];return b.forEach($=>{p.has($)||I.push($)}),p.forEach($=>{b.has($)||N.push($)}),this.syncEngine.Br(I,N).then(()=>{this.ur=l})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let r=ca();return e.forEach((l,p)=>{r=r.unionWith(p.activeTargetIds)}),r}}class ic{constructor(){this.Lr=new cp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,l){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,r,l){this.Ur[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new cp,Promise.resolve()}handleUserChange(e,r,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dp{qr(e){}shutdown(){}}class pa{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class nf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,r,l,p,b){const I=this.ao(e,r);Xt("RestConnection","Sending: ",I,l);const N={};return this.ho(N,p,b),this.lo(e,I,N,l).then($=>(Xt("RestConnection","Received: ",$),$),$=>{throw Mo("RestConnection",`${e} failed with error: `,$,"url: ",I,"request:",l),$})}fo(e,r,l,p,b,I){return this.co(e,r,l,p,b)}ho(e,r,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((p,b)=>e[b]=p),l&&l.headers.forEach((p,b)=>e[b]=p)}ao(e,r){return`${this.oo}/v1/${r}:${gg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,r,l,p){return new Promise((b,I)=>{const N=new _s;N.listenOnce(fu.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case na.NO_ERROR:const Q=N.getResponseJson();Xt("Connection","XHR received:",JSON.stringify(Q)),b(Q);break;case na.TIMEOUT:Xt("Connection",'RPC "'+e+'" timed out'),I(new $t(xt.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:const pe=N.getStatus();if(Xt("Connection",'RPC "'+e+'" failed with status:',pe,"response text:",N.getResponseText()),pe>0){const qe=N.getResponseJson().error;if(qe&&qe.status&&qe.message){const Tt=function(zt){const Kt=zt.toLowerCase().replace(/_/g,"-");return Object.values(xt).indexOf(Kt)>=0?Kt:xt.UNKNOWN}(qe.status);I(new $t(Tt,qe.message))}else I(new $t(xt.UNKNOWN,"Server responded with status "+N.getStatus()))}else I(new $t(xt.UNAVAILABLE,"Connection failed."));break;default:Fn()}}finally{Xt("Connection",'RPC "'+e+'" completed.')}});const $=JSON.stringify(p);N.send(r,"POST",$,l,15)})}_o(e,r,l){const p=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=qs(),I=Va(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new hl({})),this.ho(N.initMessageHeaders,r,l),(0,St.uI)()||(0,St.b$)()||(0,St.d)()||(0,St.w1)()||(0,St.Mn)()||(0,St.ru)()||(N.httpHeadersOverwriteParam="$httpHeaders");const $=p.join("");Xt("Connection","Creating WebChannel: "+$,N);const Q=b.createWebChannel($,N);let pe=!1,qe=!1;const Tt=new hp({Hr:Kt=>{qe?Xt("Connection","Not sending because WebChannel is closed:",Kt):(pe||(Xt("Connection","Opening WebChannel transport."),Q.open(),pe=!0),Xt("Connection","WebChannel sending:",Kt),Q.send(Kt))},Jr:()=>Q.close()}),zt=(Kt,gn,br)=>{Kt.listen(gn,Vi=>{try{br(Vi)}catch(hs){setTimeout(()=>{throw hs},0)}})};return zt(Q,fl.EventType.OPEN,()=>{qe||Xt("Connection","WebChannel transport opened.")}),zt(Q,fl.EventType.CLOSE,()=>{qe||(qe=!0,Xt("Connection","WebChannel transport closed"),Tt.io())}),zt(Q,fl.EventType.ERROR,Kt=>{qe||(qe=!0,Mo("Connection","WebChannel transport errored:",Kt),Tt.io(new $t(xt.UNAVAILABLE,"The operation could not be completed")))}),zt(Q,fl.EventType.MESSAGE,Kt=>{var gn;if(!qe){const br=Kt.data[0];vr(!!br);const Vi=br,hs=Vi.error||(null===(gn=Vi[0])||void 0===gn?void 0:gn.error);if(hs){Xt("Connection","WebChannel received error:",hs);const ls=hs.status;let yo=function(us){const ga=po[us];if(void 0!==ga)return Pf(ga)}(ls),Wi=hs.message;void 0===yo&&(yo=xt.INTERNAL,Wi="Unknown error status: "+ls+" with message "+hs.message),qe=!0,Tt.io(new $t(yo,Wi)),Q.close()}else Xt("Connection","WebChannel received:",br),Tt.ro(br)}}),zt(I,Ua.STAT_EVENT,Kt=>{Kt.stat===Od.PROXY?Xt("Connection","Detected buffering proxy"):Kt.stat===Od.NOPROXY&&Xt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Tt.so()},0),Tt}}function vm(){return"undefined"!=typeof window?window:null}function fh(){return"undefined"!=typeof document?document:null}function rf(s){return new Kp(s,!0)}class fd{constructor(e,r,l=1e3,p=1.5,b=6e4){this.Hs=e,this.timerId=r,this.wo=l,this.mo=p,this.yo=b,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const r=Math.floor(this.po+this.Ro()),l=Math.max(0,Date.now()-this.To),p=Math.max(0,r-l);p>0&&Xt("ExponentialBackoff",`Backing off for ${p} ms (base delay: ${this.po} ms, delay with jitter: ${r} ms, last attempt: ${l} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,p,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class nu{constructor(e,r,l,p,b,I,N,$){this.Hs=e,this.Po=l,this.vo=p,this.Vo=b,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=N,this.listener=$,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new fd(e,r)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ce.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ce.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,r){var l=this;return(0,ce.Z)(function*(){l.Lo(),l.Uo(),l.xo.cancel(),l.So++,4!==e?l.xo.reset():r&&r.code===xt.RESOURCE_EXHAUSTED?(zi(r.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),l.xo.Eo()):r&&r.code===xt.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.qo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.Zr(r)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,p])=>{this.So===r&&this.Go(l,p)},l=>{e(()=>{const p=new $t(xt.UNKNOWN,"Fetching auth token failed: "+l.message);return this.Qo(p)})})}Go(e,r){const l=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{l(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(p=>{l(()=>this.Qo(p))}),this.stream.onMessage(p=>{l(()=>this.onMessage(p))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ce.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sc extends nu{constructor(e,r,l,p,b,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,l,p,I),this.It=b}jo(e,r){return this.Vo._o("Listen",e,r)}onMessage(e){this.xo.reset();const r=function(s,e){let r;if("targetChange"in e){const l="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Fn(),p=e.targetChange.targetIds||[],b=function($,Q){return $.gt?(vr(void 0===Q||"string"==typeof Q),bs.fromBase64String(Q||"")):(vr(void 0===Q||Q instanceof Uint8Array),bs.fromUint8Array(Q||new Uint8Array))}(s,e.targetChange.resumeToken),I=e.targetChange.cause,N=I&&function($){const Q=void 0===$.code?xt.UNKNOWN:Pf($.code);return new $t(Q,$.message||"")}(I);r=new Nf(l,p,b,N||null)}else if("documentChange"in e){const l=e.documentChange,p=Oa(s,l.document.name),b=Zs(l.document.updateTime),I=new Gs({mapValue:{fields:l.document.fields}}),N=xi.newFoundDocument(p,b,I);r=new wc(l.targetIds||[],l.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const l=e.documentDelete,p=Oa(s,l.document),b=l.readTime?Zs(l.readTime):en.min(),I=xi.newNoDocument(p,b);r=new wc([],l.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const l=e.documentRemove,p=Oa(s,l.document);r=new wc([],l.removedTargetIds||[],p,null)}else{if(!("filter"in e))return Fn();{const l=e.filter,b=new Gp(l.count||0);r=new zp(l.targetId,b)}}var $;return r}(this.It,e),l=function(p){if(!("targetChange"in p))return en.min();const b=p.targetChange;return b.targetIds&&b.targetIds.length?en.min():b.readTime?Zs(b.readTime):en.min()}(e);return this.listener.Wo(r,l)}zo(e){const r={};r.database=Ql(this.It),r.addTarget=function(p,b){let I;const N=b.target;return I=Zc(N)?{documents:am(p,N)}:{query:jf(p,N)},I.targetId=b.targetId,b.resumeToken.approximateByteSize()>0?I.resumeToken=Vf(p,b.resumeToken):b.snapshotVersion.compareTo(en.min())>0&&(I.readTime=Qc(p,b.snapshotVersion.toTimestamp())),I}(this.It,e);const l=function(s,e){const r=function(l,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fn()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);l&&(r.labels=l),this.Bo(r)}Ho(e){const r={};r.database=Ql(this.It),r.removeTarget=e,this.Bo(r)}}class fp extends nu{constructor(e,r,l,p,b,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,l,p,I),this.It=b,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,r){return this.Vo._o("Write",e,r)}onMessage(e){if(vr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=function(s,e){return s&&s.length>0?(vr(void 0!==e),s.map(r=>function(l,p){let b=Zs(l.updateTime?l.updateTime:p);return b.isEqual(en.min())&&(b=Zs(p)),new Wc(b,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),l=Zs(e.commitTime);return this.listener.Zo(l,r)}return vr(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ql(this.It),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(l=>Su(this.It,l))};this.Bo(r)}}class bm extends class{}{constructor(e,r,l,p){super(),this.authCredentials=e,this.appCheckCredentials=r,this.Vo=l,this.It=p,this.nu=!1}su(){if(this.nu)throw new $t(xt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,r,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,b])=>this.Vo.co(e,r,l,p,b)).catch(p=>{throw"FirebaseError"===p.name?(p.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new $t(xt.UNKNOWN,p.toString())})}fo(e,r,l,p){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,I])=>this.Vo.fo(e,r,l,b,I,p)).catch(b=>{throw"FirebaseError"===b.name?(b.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new $t(xt.UNKNOWN,b.toString())})}terminate(){this.nu=!0}}class mg{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(zi(r),this.ou=!1):Xt("OnlineStateTracker",r)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ph{constructor(e,r,l,p,b){var I=this;this.localStore=e,this.datastore=r,this.asyncQueue=l,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=b,this.mu.qr(N=>{l.enqueueAndForget((0,ce.Z)(function*(){var $;Vu(I)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,ce.Z)(function*(Q){const pe=An(Q);pe._u.add(4),yield gd(pe),pe.gu.set("Unknown"),pe._u.delete(4),yield pd(pe)}),function(Q){return $.apply(this,arguments)})(I))}))}),this.gu=new mg(l,p)}}function pd(s){return sf.apply(this,arguments)}function sf(){return sf=(0,ce.Z)(function*(s){if(Vu(s))for(const e of s.wu)yield e(!0)}),sf.apply(this,arguments)}function gd(s){return pp.apply(this,arguments)}function pp(){return pp=(0,ce.Z)(function*(s){for(const e of s.wu)yield e(!1)}),pp.apply(this,arguments)}function md(s,e){const r=An(s);r.du.has(e.targetId)||(r.du.set(e.targetId,e),_d(r)?Rc(r):Eg(r).ko()&&af(r,e))}function yd(s,e){const r=An(s),l=Eg(r);r.du.delete(e),l.ko()&&Pl(r,e),0===r.du.size&&(l.ko()?l.Fo():Vu(r)&&r.gu.set("Unknown"))}function af(s,e){s.yu.Ot(e.targetId),Eg(s).zo(e)}function Pl(s,e){s.yu.Ot(e),Eg(s).Ho(e)}function Rc(s){s.yu=new Ff({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),se:e=>s.du.get(e)||null}),Eg(s).start(),s.gu.uu()}function _d(s){return Vu(s)&&!Eg(s).No()&&s.du.size>0}function Vu(s){return 0===An(s)._u.size}function yg(s){s.yu=void 0}function _(s){return m.apply(this,arguments)}function m(){return m=(0,ce.Z)(function*(s){s.du.forEach((e,r)=>{af(s,e)})}),m.apply(this,arguments)}function d(s,e){return v.apply(this,arguments)}function v(){return v=(0,ce.Z)(function*(s,e){yg(s),_d(s)?(s.gu.hu(e),Rc(s)):s.gu.set("Unknown")}),v.apply(this,arguments)}function F(s,e,r){return Y.apply(this,arguments)}function Y(){return Y=(0,ce.Z)(function*(s,e,r){if(s.gu.set("Online"),e instanceof Nf&&2===e.state&&e.cause)try{yield(l=(0,ce.Z)(function*(p,b){const I=b.cause;for(const N of b.targetIds)p.du.has(N)&&(yield p.remoteSyncer.rejectListen(N,I),p.du.delete(N),p.yu.removeTarget(N))}),function(p,b){return l.apply(this,arguments)})(s,e)}catch(l){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Re(s,l)}else if(e instanceof wc?s.yu.Gt(e):e instanceof zp?s.yu.Yt(e):s.yu.Wt(e),!r.isEqual(en.min()))try{const l=yield _m(s.localStore);r.compareTo(l)>=0&&(yield function(p,b){const I=p.yu.te(b);return I.targetChanges.forEach((N,$)=>{if(N.resumeToken.approximateByteSize()>0){const Q=p.du.get($);Q&&p.du.set($,Q.withResumeToken(N.resumeToken,b))}}),I.targetMismatches.forEach(N=>{const $=p.du.get(N);if(!$)return;p.du.set(N,$.withResumeToken(bs.EMPTY_BYTE_STRING,$.snapshotVersion)),Pl(p,N);const Q=new qo($.target,N,1,$.sequenceNumber);af(p,Q)}),p.remoteSyncer.applyRemoteEvent(I)}(s,r))}catch(l){Xt("RemoteStore","Failed to raise snapshot:",l),yield Re(s,l)}var l}),Y.apply(this,arguments)}function Re(s,e,r){return Mt.apply(this,arguments)}function Mt(){return Mt=(0,ce.Z)(function*(s,e,r){if(!Js(e))throw e;s._u.add(1),yield gd(s),s.gu.set("Offline"),r||(r=()=>_m(s.localStore)),s.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield r(),s._u.delete(1),yield pd(s)}))}),Mt.apply(this,arguments)}function Gt(s,e){return e().catch(r=>Re(s,r,e))}function pn(s){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,ce.Z)(function*(s){const e=An(s),r=Fl(e);let l=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;mi(e);)try{const p=yield pg(e.localStore,l);if(null===p){0===e.fu.length&&r.Fo();break}l=p.batchId,Zo(e,p)}catch(p){yield Re(e,p)}Ra(e)&&as(e)}),Wn.apply(this,arguments)}function mi(s){return Vu(s)&&s.fu.length<10}function Zo(s,e){s.fu.push(e);const r=Fl(s);r.ko()&&r.Yo&&r.Xo(e.mutations)}function Ra(s){return Vu(s)&&!Fl(s).No()&&s.fu.length>0}function as(s){Fl(s).start()}function Nl(s){return kc.apply(this,arguments)}function kc(){return kc=(0,ce.Z)(function*(s){Fl(s).eu()}),kc.apply(this,arguments)}function gp(s){return oc.apply(this,arguments)}function oc(){return oc=(0,ce.Z)(function*(s){const e=Fl(s);for(const r of s.fu)e.Xo(r.mutations)}),oc.apply(this,arguments)}function sl(s,e,r){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,ce.Z)(function*(s,e,r){const l=s.fu.shift(),p=Xd.from(l,e,r);yield Gt(s,()=>s.remoteSyncer.applySuccessfulWrite(p)),yield pn(s)}),Uu.apply(this,arguments)}function _g(s,e){return vg.apply(this,arguments)}function vg(){return vg=(0,ce.Z)(function*(s,e){var r;e&&Fl(s).Yo&&(yield(r=(0,ce.Z)(function*(l,p){if(kf(b=p.code)&&b!==xt.ABORTED){const I=l.fu.shift();Fl(l).Oo(),yield Gt(l,()=>l.remoteSyncer.rejectFailedWrite(I.batchId,p)),yield pn(l)}var b}),function(l,p){return r.apply(this,arguments)})(s,e)),Ra(s)&&as(s)}),vg.apply(this,arguments)}function Pc(s,e){return mp.apply(this,arguments)}function mp(){return mp=(0,ce.Z)(function*(s,e){const r=An(s);r.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const l=Vu(r);r._u.add(3),yield gd(r),l&&r.gu.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),yield pd(r)}),mp.apply(this,arguments)}function Em(s,e){return bg.apply(this,arguments)}function bg(){return bg=(0,ce.Z)(function*(s,e){const r=An(s);e?(r._u.delete(2),yield pd(r)):e||(r._u.add(2),yield gd(r),r.gu.set("Unknown"))}),bg.apply(this,arguments)}function Eg(s){return s.pu||(s.pu=function(e,r,l){const p=An(e);return p.su(),new sc(r,p.Vo,p.authCredentials,p.appCheckCredentials,p.It,l)}(s.datastore,s.asyncQueue,{Yr:_.bind(null,s),Zr:d.bind(null,s),Wo:F.bind(null,s)}),s.wu.push(function(){var e=(0,ce.Z)(function*(r){r?(s.pu.Oo(),_d(s)?Rc(s):s.gu.set("Unknown")):(yield s.pu.stop(),yg(s))});return function(r){return e.apply(this,arguments)}}())),s.pu}function Fl(s){return s.Iu||(s.Iu=function(e,r,l){const p=An(e);return p.su(),new fp(r,p.Vo,p.authCredentials,p.appCheckCredentials,p.It,l)}(s.datastore,s.asyncQueue,{Yr:Nl.bind(null,s),Zr:_g.bind(null,s),tu:gp.bind(null,s),Zo:sl.bind(null,s)}),s.wu.push(function(){var e=(0,ce.Z)(function*(r){r?(s.Iu.Oo(),yield pn(s)):(yield s.Iu.stop(),s.fu.length>0&&(Xt("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(r){return e.apply(this,arguments)}}())),s.Iu}class wg{constructor(e,r,l,p,b){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=l,this.op=p,this.removalCallback=b,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,r,l,p,b){const I=Date.now()+l,N=new wg(e,r,I,p,b);return N.start(l),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $t(xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ll(s,e){if(zi("AsyncQueue",`${e}: ${s}`),Js(s))return new $t(xt.UNAVAILABLE,`${e}: ${s}`);throw s}class ru{constructor(e){this.comparator=e?(r,l)=>e(r,l)||fn.comparator(r.key,l.key):(r,l)=>fn.comparator(r.key,l.key),this.keyedMap=vc(),this.sortedSet=new Ti(this.comparator)}static emptySet(e){return new ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,l)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;r.hasNext();){const p=r.getNext().key,b=l.getNext().key;if(!p.isEqual(b))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const l=new ru;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=r,l}}class uy{constructor(){this.Tu=new Ti(fn.comparator)}track(e){const r=e.doc.key,l=this.Tu.get(r);l?0!==e.type&&3===l.type?this.Tu=this.Tu.insert(r,e):3===e.type&&1!==l.type?this.Tu=this.Tu.insert(r,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Tu=this.Tu.remove(r):1===e.type&&2===l.type?this.Tu=this.Tu.insert(r,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):Fn():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,l)=>{e.push(l)}),e}}class ac{constructor(e,r,l,p,b,I,N,$){this.query=e,this.docs=r,this.oldDocs=l,this.docChanges=p,this.mutatedKeys=b,this.fromCache=I,this.syncStateChanged=N,this.excludesMetadataChanges=$}static fromInitialDocuments(e,r,l,p){const b=[];return r.forEach(I=>{b.push({type:0,doc:I})}),new ac(e,r,ru.emptySet(r),b,l,p,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,l=e.docChanges;if(r.length!==l.length)return!1;for(let p=0;p<r.length;p++)if(r[p].type!==l[p].type||!r[p].doc.isEqual(l[p].doc))return!1;return!0}}class yp{constructor(){this.Au=void 0,this.listeners=[]}}class _p{constructor(){this.queries=new gi(e=>R(e),Hd),this.onlineState="Unknown",this.Ru=new Set}}function Cg(s,e){return vd.apply(this,arguments)}function vd(){return vd=(0,ce.Z)(function*(s,e){const r=An(s),l=e.query;let p=!1,b=r.queries.get(l);if(b||(p=!0,b=new yp),p)try{b.Au=yield r.onListen(l)}catch(I){const N=Ll(I,`Initialization of query '${E(e.query)}' failed`);return void e.onError(N)}r.queries.set(l,b),b.listeners.push(e),e.bu(r.onlineState),b.Au&&e.Pu(b.Au)&&Nc(r)}),vd.apply(this,arguments)}function vp(s,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,ce.Z)(function*(s,e){const r=An(s),l=e.query;let p=!1;const b=r.queries.get(l);if(b){const I=b.listeners.indexOf(e);I>=0&&(b.listeners.splice(I,1),p=0===b.listeners.length)}if(p)return r.queries.delete(l),r.onUnlisten(l)}),Tg.apply(this,arguments)}function n_(s,e){const r=An(s);let l=!1;for(const p of e){const I=r.queries.get(p.query);if(I){for(const N of I.listeners)N.Pu(p)&&(l=!0);I.Au=p}}l&&Nc(r)}function cy(s,e,r){const l=An(s),p=l.queries.get(e);if(p)for(const b of p.listeners)b.onError(r);l.queries.delete(e)}function Nc(s){s.Ru.forEach(e=>{e.next()})}class Sg{constructor(e,r,l){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=l||{}}Pu(e){if(!this.options.includeMetadataChanges){const l=[];for(const p of e.docChanges)3!==p.type&&l.push(p);e=new ac(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){return!e.fromCache||!(this.options.Nu&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class r_{constructor(e,r){this.payload=e,this.byteLength=r}ku(){return"metadata"in this.payload}}class Fc{constructor(e){this.It=e}Ji(e){return Oa(this.It,e)}Yi(e){return e.metadata.exists?Bf(this.It,e.document,!1):xi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Zs(e)}}class lf{constructor(e,r,l){this.Mu=e,this.localStore=r,this.It=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wm(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r;const l=xn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}Fu(e){const r=new Map,l=new Fc(this.It);for(const p of e)if(p.metadata.queries){const b=l.Ji(p.metadata.name);for(const I of p.metadata.queries){const N=(r.get(I)||Jr()).add(b);r.set(I,N)}}return r}complete(){var e=this;return(0,ce.Z)(function*(){const r=yield function(s,e,r,l){return dh.apply(this,arguments)}(e.localStore,new Fc(e.It),e.documents,e.Mu.id),l=e.Fu(e.documents);for(const p of e.queries)yield tf(e.localStore,p,l.get(p.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:r}})()}}function wm(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Cm{constructor(e){this.key=e}}class Ig{constructor(e){this.key=e}}class Tm{constructor(e,r){this.query=e,this.Lu=r,this.Uu=null,this.current=!1,this.qu=Jr(),this.mutatedKeys=Jr(),this.Ku=ie(e),this.Gu=new ru(this.Ku)}get Qu(){return this.Lu}ju(e,r){const l=r?r.Wu:new uy,p=r?r.Gu:this.Gu;let b=r?r.mutatedKeys:this.mutatedKeys,I=p,N=!1;const $="F"===this.query.limitType&&p.size===this.query.limit?p.last():null,Q="L"===this.query.limitType&&p.size===this.query.limit?p.first():null;if(e.inorderTraversal((pe,qe)=>{const Tt=p.get(pe),zt=T(this.query,qe)?qe:null,Kt=!!Tt&&this.mutatedKeys.has(Tt.key),gn=!!zt&&(zt.hasLocalMutations||this.mutatedKeys.has(zt.key)&&zt.hasCommittedMutations);let br=!1;Tt&&zt?Tt.data.isEqual(zt.data)?Kt!==gn&&(l.track({type:3,doc:zt}),br=!0):this.zu(Tt,zt)||(l.track({type:2,doc:zt}),br=!0,($&&this.Ku(zt,$)>0||Q&&this.Ku(zt,Q)<0)&&(N=!0)):!Tt&&zt?(l.track({type:0,doc:zt}),br=!0):Tt&&!zt&&(l.track({type:1,doc:Tt}),br=!0,($||Q)&&(N=!0)),br&&(zt?(I=I.add(zt),b=gn?b.add(pe):b.delete(pe)):(I=I.delete(pe),b=b.delete(pe)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const pe="F"===this.query.limitType?I.last():I.first();I=I.delete(pe.key),b=b.delete(pe.key),l.track({type:1,doc:pe})}return{Gu:I,Wu:l,$i:N,mutatedKeys:b}}zu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,l){const p=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const b=e.Wu.Eu();b.sort((Q,pe)=>function(qe,Tt){const zt=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fn()}};return zt(qe)-zt(Tt)}(Q.type,pe.type)||this.Ku(Q.doc,pe.doc)),this.Hu(l);const I=r?this.Ju():[],N=0===this.qu.size&&this.current?1:0,$=N!==this.Uu;return this.Uu=N,0!==b.length||$?{snapshot:new ac(this.query,e.Gu,p,b,e.mutatedKeys,0===N,$,!1),Yu:I}:{Yu:I}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new uy,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(r=>this.Lu=this.Lu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Lu=this.Lu.delete(r)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Jr(),this.Gu.forEach(l=>{this.Xu(l.key)&&(this.qu=this.qu.add(l.key))});const r=[];return e.forEach(l=>{this.qu.has(l)||r.push(new Ig(l))}),this.qu.forEach(l=>{e.has(l)||r.push(new Cm(l))}),r}Zu(e){this.Lu=e.Hi,this.qu=Jr();const r=this.ju(e.documents);return this.applyChanges(r,!0)}tc(){return ac.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class i_{constructor(e,r,l){this.query=e,this.targetId=r,this.view=l}}class dy{constructor(e){this.key=e,this.ec=!1}}class Sm{constructor(e,r,l,p,b,I){this.localStore=e,this.remoteStore=r,this.eventManager=l,this.sharedClientState=p,this.currentUser=b,this.maxConcurrentLimboResolutions=I,this.nc={},this.sc=new gi(N=>R(N),Hd),this.ic=new Map,this.rc=new Set,this.oc=new Ti(fn.comparator),this.uc=new Map,this.cc=new op,this.ac={},this.hc=new Map,this.lc=Po.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function $s(s,e){return bp.apply(this,arguments)}function bp(){return bp=(0,ce.Z)(function*(s,e){const r=Ng(s);let l,p;const b=r.sc.get(e);if(b)l=b.targetId,r.sharedClientState.addLocalQueryTarget(l),p=b.view.tc();else{const I=yield Nu(r.localStore,Aa(e));r.isPrimaryClient&&md(r.remoteStore,I);const N=r.sharedClientState.addLocalQueryTarget(I.targetId);l=I.targetId,p=yield hy(r,e,l,"current"===N)}return p}),bp.apply(this,arguments)}function hy(s,e,r,l){return iu.apply(this,arguments)}function iu(){return iu=(0,ce.Z)(function*(s,e,r,l){s.dc=(pe,qe,Tt)=>{return(zt=(0,ce.Z)(function*(Kt,gn,br,Vi){let hs=gn.view.ju(br);hs.$i&&(hs=yield wl(Kt.localStore,gn.query,!1).then(({documents:Wi})=>gn.view.ju(Wi,hs)));const ls=Vi&&Vi.targetChanges.get(gn.targetId),yo=gn.view.applyChanges(hs,Kt.isPrimaryClient,ls);return Cp(Kt,gn.targetId,yo.Yu),yo.snapshot}),function(Kt,gn,br,Vi){return zt.apply(this,arguments)})(s,pe,qe,Tt);var zt};const p=yield wl(s.localStore,e,!0),b=new Tm(e,p.Hi),I=b.ju(p.documents),N=Kl.createSynthesizedTargetChangeForCurrentChange(r,l&&"Offline"!==s.onlineState),$=b.applyChanges(I,s.isPrimaryClient,N);Cp(s,r,$.Yu);const Q=new i_(e,r,b);return s.sc.set(e,Q),s.ic.has(r)?s.ic.get(r).push(e):s.ic.set(r,[e]),$.snapshot}),iu.apply(this,arguments)}function Dg(s,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,ce.Z)(function*(s,e){const r=An(s),l=r.sc.get(e),p=r.ic.get(l.targetId);if(p.length>1)return r.ic.set(l.targetId,p.filter(b=>!Hd(b,e))),void r.sc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||(yield El(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),yd(r.remoteStore,l.targetId),ff(r,l.targetId)}).catch(Bl))):(ff(r,l.targetId),yield El(r.localStore,l.targetId,!0))}),Ag.apply(this,arguments)}function uf(){return uf=(0,ce.Z)(function*(s,e,r){const l=by(s);try{const p=yield function(b,I){const N=An(b),$=Kn.now(),Q=I.reduce((Tt,zt)=>Tt.add(zt.key),Jr());let pe,qe;return N.persistence.runTransaction("Locally write mutations","readwrite",Tt=>{let zt=ht(),Kt=Jr();return N.Gi.getEntries(Tt,Q).next(gn=>{zt=gn,zt.forEach((br,Vi)=>{Vi.isValidDocument()||(Kt=Kt.add(br))})}).next(()=>N.localDocuments.getOverlayedDocuments(Tt,zt)).next(gn=>{pe=gn;const br=[];for(const Vi of I){const hs=ty(Vi,pe.get(Vi.key).overlayedDocument);null!=hs&&br.push(new Tu(Vi.key,hs,yl(hs.value.mapValue),ws.exists(!0)))}return N.mutationQueue.addMutationBatch(Tt,$,br,I)}).next(gn=>{qe=gn;const br=gn.applyToLocalDocumentSet(pe,Kt);return N.documentOverlayCache.saveOverlays(Tt,gn.batchId,br)})}).then(()=>({batchId:qe.batchId,changes:Zp(pe)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(p.batchId),function(b,I,N){let $=b.ac[b.currentUser.toKey()];$||($=new Ti(Oe)),$=$.insert(I,N),b.ac[b.currentUser.toKey()]=$}(l,p.batchId,r),yield bd(l,p.changes),yield pn(l.remoteStore)}catch(p){const b=Ll(p,"Failed to persist write");r.reject(b)}}),uf.apply(this,arguments)}function xg(s,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ce.Z)(function*(s,e){const r=An(s);try{const l=yield lp(r.localStore,e);e.targetChanges.forEach((p,b)=>{const I=r.uc.get(b);I&&(vr(p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size<=1),p.addedDocuments.size>0?I.ec=!0:p.modifiedDocuments.size>0?vr(I.ec):p.removedDocuments.size>0&&(vr(I.ec),I.ec=!1))}),yield bd(r,l,e)}catch(l){yield Bl(l)}}),Ep.apply(this,arguments)}function gh(s,e,r){const l=An(s);if(l.isPrimaryClient&&0===r||!l.isPrimaryClient&&1===r){const p=[];l.sc.forEach((b,I)=>{const N=I.view.bu(e);N.snapshot&&p.push(N.snapshot)}),function(b,I){const N=An(b);N.onlineState=I;let $=!1;N.queries.forEach((Q,pe)=>{for(const qe of pe.listeners)qe.bu(I)&&($=!0)}),$&&Nc(N)}(l.eventManager,e),p.length&&l.nc.Wo(p),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function Im(s,e,r){return Og.apply(this,arguments)}function Og(){return Og=(0,ce.Z)(function*(s,e,r){const l=An(s);l.sharedClientState.updateQueryState(e,"rejected",r);const p=l.uc.get(e),b=p&&p.key;if(b){let I=new Ti(fn.comparator);I=I.insert(b,xi.newNoDocument(b,en.min()));const N=Jr().add(b),$=new Xs(en.min(),new Map,new Li(Oe),I,N);yield xg(l,$),l.oc=l.oc.remove(b),l.uc.delete(e),Tp(l)}else yield El(l.localStore,e,!1).then(()=>ff(l,e,r)).catch(Bl)}),Og.apply(this,arguments)}function s_(s,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,ce.Z)(function*(s,e){const r=An(s),l=e.batch.batchId;try{const p=yield uh(r.localStore,e);hf(r,l,null),df(r,l),r.sharedClientState.updateMutationState(l,"acknowledged"),yield bd(r,p)}catch(p){yield Bl(p)}}),Dm.apply(this,arguments)}function cf(s,e,r){return lc.apply(this,arguments)}function lc(){return lc=(0,ce.Z)(function*(s,e,r){const l=An(s);try{const p=yield function(b,I){const N=An(b);return N.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let Q;return N.mutationQueue.lookupMutationBatch($,I).next(pe=>(vr(null!==pe),Q=pe.keys(),N.mutationQueue.removeMutationBatch($,pe))).next(()=>N.mutationQueue.performConsistencyCheck($)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId($,Q,I)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,Q)).next(()=>N.localDocuments.getDocuments($,Q))})}(l.localStore,e);hf(l,e,r),df(l,e),l.sharedClientState.updateMutationState(e,"rejected",r),yield bd(l,p)}catch(p){yield Bl(p)}}),lc.apply(this,arguments)}function wp(){return wp=(0,ce.Z)(function*(s,e){const r=An(s);Vu(r.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(b){const I=An(b);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>I.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===l)return void e.resolve();const p=r.hc.get(l)||[];p.push(e),r.hc.set(l,p)}catch(l){const p=Ll(l,"Initialization of waitForPendingWrites() operation failed");e.reject(p)}}),wp.apply(this,arguments)}function df(s,e){(s.hc.get(e)||[]).forEach(r=>{r.resolve()}),s.hc.delete(e)}function hf(s,e,r){const l=An(s);let p=l.ac[l.currentUser.toKey()];if(p){const b=p.get(e);b&&(r?b.reject(r):b.resolve(),p=p.remove(e)),l.ac[l.currentUser.toKey()]=p}}function ff(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s.ic.get(e))s.sc.delete(l),r&&s.nc._c(l,r);s.ic.delete(e),s.isPrimaryClient&&s.cc.ls(e).forEach(l=>{s.cc.containsKey(l)||py(s,l)})}function py(s,e){s.rc.delete(e.path.canonicalString());const r=s.oc.get(e);null!==r&&(yd(s.remoteStore,r),s.oc=s.oc.remove(e),s.uc.delete(r),Tp(s))}function Cp(s,e,r){for(const l of r)l instanceof Cm?(s.cc.addReference(l.key,e),gy(s,l)):l instanceof Ig?(Xt("SyncEngine","Document no longer in limbo: "+l.key),s.cc.removeReference(l.key,e),s.cc.containsKey(l.key)||py(s,l.key)):Fn()}function gy(s,e){const r=e.key,l=r.path.canonicalString();s.oc.get(r)||s.rc.has(l)||(Xt("SyncEngine","New document in limbo: "+r),s.rc.add(l),Tp(s))}function Tp(s){for(;s.rc.size>0&&s.oc.size<s.maxConcurrentLimboResolutions;){const e=s.rc.values().next().value;s.rc.delete(e);const r=new fn(xn.fromString(e)),l=s.lc.next();s.uc.set(l,new dy(r)),s.oc=s.oc.insert(r,l),md(s.remoteStore,new qo(Aa(Eu(r.path)),l,2,os.at))}}function bd(s,e,r){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,ce.Z)(function*(s,e,r){const l=An(s),p=[],b=[],I=[];var N;l.sc.isEmpty()||(l.sc.forEach((N,$)=>{I.push(l.dc($,e,r).then(Q=>{if(Q){l.isPrimaryClient&&l.sharedClientState.updateQueryState($.targetId,Q.fromCache?"not-current":"current"),p.push(Q);const pe=lh.Ci($.targetId,Q);b.push(pe)}}))}),yield Promise.all(I),l.nc.Wo(p),yield(N=(0,ce.Z)(function*($,Q){const pe=An($);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",qe=>It.forEach(Q,Tt=>It.forEach(Tt.Si,zt=>pe.persistence.referenceDelegate.addReference(qe,Tt.targetId,zt)).next(()=>It.forEach(Tt.Di,zt=>pe.persistence.referenceDelegate.removeReference(qe,Tt.targetId,zt)))))}catch(qe){if(!Js(qe))throw qe;Xt("LocalStore","Failed to update sequence numbers: "+qe)}for(const qe of Q){const Tt=qe.targetId;if(!qe.fromCache){const zt=pe.Ui.get(Tt),gn=zt.withLastLimboFreeSnapshotVersion(zt.snapshotVersion);pe.Ui=pe.Ui.insert(Tt,gn)}}}),function($,Q){return N.apply(this,arguments)})(l.localStore,b))}),Rg.apply(this,arguments)}function o_(s,e){return kg.apply(this,arguments)}function kg(){return kg=(0,ce.Z)(function*(s,e){const r=An(s);if(!r.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const l=yield ym(r.localStore,e);r.currentUser=e,(p=r).hc.forEach(I=>{I.forEach(N=>{N.reject(new $t(xt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.hc.clear(),r.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield bd(r,l.ji)}var p}),kg.apply(this,arguments)}function sv(s,e){const r=An(s),l=r.uc.get(e);if(l&&l.ec)return Jr().add(l.key);{let p=Jr();const b=r.ic.get(e);if(!b)return p;for(const I of b){const N=r.sc.get(I);p=p.unionWith(N.view.Qu)}return p}}function ov(s,e){return pf.apply(this,arguments)}function pf(){return pf=(0,ce.Z)(function*(s,e){const r=An(s),l=yield wl(r.localStore,e.query,!0),p=e.view.Zu(l);return r.isPrimaryClient&&Cp(r,e.targetId,p.Yu),p}),pf.apply(this,arguments)}function my(s,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,ce.Z)(function*(s,e){const r=An(s);return il(r.localStore,e).then(l=>bd(r,l))}),Sp.apply(this,arguments)}function yy(s,e,r,l){return _y.apply(this,arguments)}function _y(){return _y=(0,ce.Z)(function*(s,e,r,l){const p=An(s),b=yield function(I,N){const $=An(I),Q=An($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",pe=>Q.Tn(pe,N).next(qe=>qe?$.localDocuments.getDocuments(pe,qe):It.resolve(null)))}(p.localStore,e);var N;null!==b?("pending"===r?yield pn(p.remoteStore):"acknowledged"===r||"rejected"===r?(hf(p,e,l||null),df(p,e),N=e,An(An(p.localStore).mutationQueue).An(N)):Fn(),yield bd(p,b)):Xt("SyncEngine","Cannot apply mutation batch with id: "+e)}),_y.apply(this,arguments)}function Am(){return Am=(0,ce.Z)(function*(s,e){const r=An(s);if(Ng(r),by(r),!0===e&&!0!==r.fc){const l=r.sharedClientState.getAllActiveQueryTargets(),p=yield a_(r,l.toArray());r.fc=!0,yield Em(r.remoteStore,!0);for(const b of p)md(r.remoteStore,b)}else if(!1===e&&!1!==r.fc){const l=[];let p=Promise.resolve();r.ic.forEach((b,I)=>{r.sharedClientState.isLocalQueryTarget(I)?l.push(I):p=p.then(()=>(ff(r,I),El(r.localStore,I,!0))),yd(r.remoteStore,I)}),yield p,yield a_(r,l),function(b){const I=An(b);I.uc.forEach((N,$)=>{yd(I.remoteStore,$)}),I.cc.fs(),I.uc=new Map,I.oc=new Ti(fn.comparator)}(r),r.fc=!1,yield Em(r.remoteStore,!1)}}),Am.apply(this,arguments)}function a_(s,e,r){return xm.apply(this,arguments)}function xm(){return xm=(0,ce.Z)(function*(s,e,r){const l=An(s),p=[],b=[];for(const I of e){let N;const $=l.ic.get(I);if($&&0!==$.length){N=yield Nu(l.localStore,Aa($[0]));for(const Q of $){const pe=l.sc.get(Q),qe=yield ov(l,pe);qe.snapshot&&b.push(qe.snapshot)}}else{const Q=yield ch(l.localStore,I);N=yield Nu(l.localStore,Q),yield hy(l,Om(Q),I,!1)}p.push(N)}return l.nc.Wo(b),p}),xm.apply(this,arguments)}function Om(s){return Da(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Pg(s){const e=An(s);return An(An(e.localStore).persistence).vi()}function vy(s,e,r,l){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,ce.Z)(function*(s,e,r,l){const p=An(s);if(p.fc)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const b=p.ic.get(e);if(b&&b.length>0)switch(r){case"current":case"not-current":{const I=yield il(p.localStore,V(b[0])),N=Xs.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield bd(p,I,N);break}case"rejected":yield El(p.localStore,e,!0),ff(p,e,l);break;default:Fn()}}),Mm.apply(this,arguments)}function cb(s,e,r){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,ce.Z)(function*(s,e,r){const l=Ng(s);if(l.fc){for(const p of e){if(l.ic.has(p)){Xt("SyncEngine","Adding an already active target "+p);continue}const b=yield ch(l.localStore,p),I=yield Nu(l.localStore,b);yield hy(l,Om(b),I.targetId,!1),md(l.remoteStore,I)}for(const p of r)l.ic.has(p)&&(yield El(l.localStore,p,!1).then(()=>{yd(l.remoteStore,p),ff(l,p)}).catch(Bl))}}),Rm.apply(this,arguments)}function Ng(s){const e=An(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Im.bind(null,e),e.nc.Wo=n_.bind(null,e.eventManager),e.nc._c=cy.bind(null,e.eventManager),e}function by(s){const e=An(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cf.bind(null,e),e}class l_{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,ce.Z)(function*(){r.It=rf(e.databaseInfo.databaseId),r.sharedClientState=r.mc(e),r.persistence=r.gc(e),yield r.persistence.start(),r.localStore=r.yc(e),r.gcScheduler=r.Ic(e,r.localStore),r.indexBackfillerScheduler=r.Tc(e,r.localStore)})()}Ic(e,r){return null}Tc(e,r){return null}yc(e){return hg(this.persistence,new dg,e.initialUser,this.It)}gc(e){return new mm(Xh.Bs,this.It)}mc(e){return new ic}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wy extends l_{constructor(e,r,l){super(),this.Ec=e,this.cacheSizeBytes=r,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,l=this;return(0,ce.Z)(function*(){yield r().call(l,e),yield l.Ec.initialize(l,e),yield by(l.Ec.syncEngine),yield pn(l.Ec.remoteStore),yield l.persistence.li(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return hg(this.persistence,new dg,e.initialUser,this.It)}Ic(e,r){return new og(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Tc(e,r){const l=new Ka(r,this.persistence);return new If(e.asyncQueue,l)}gc(e){const r=tu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?nl.withCacheSize(this.cacheSizeBytes):nl.DEFAULT;return new ap(this.synchronizeTabs,r,e.clientId,l,e.asyncQueue,vm(),fh(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new ic}}class Cy extends wy{constructor(e,r){super(e,r,!1),this.Ec=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,l=this;return(0,ce.Z)(function*(){yield r().call(l,e);const p=l.Ec.syncEngine;l.sharedClientState instanceof hd&&(l.sharedClientState.syncEngine={Fr:yy.bind(null,p),$r:vy.bind(null,p),Br:cb.bind(null,p),vi:Pg.bind(null,p),Or:my.bind(null,p)},yield l.sharedClientState.start()),yield l.persistence.li(function(){var b=(0,ce.Z)(function*(I){yield function(s,e){return Am.apply(this,arguments)}(l.Ec.syncEngine,I),l.gcScheduler&&(I&&!l.gcScheduler.started?l.gcScheduler.start():I||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(I&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():I||l.indexBackfillerScheduler.stop())});return function(I){return b.apply(this,arguments)}}())})()}mc(e){const r=vm();if(!hd.C(r))throw new $t(xt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=tu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hd(r,e.asyncQueue,l,e.clientId,e.initialUser)}}class km{initialize(e,r){var l=this;return(0,ce.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(r),l.remoteStore=l.createRemoteStore(r),l.eventManager=l.createEventManager(r),l.syncEngine=l.createSyncEngine(r,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=p=>gh(l.syncEngine,p,1),l.remoteStore.remoteSyncer.handleCredentialChange=o_.bind(null,l.syncEngine),yield Em(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _p}createDatastore(e){const r=rf(e.databaseInfo.databaseId),l=new nf(e.databaseInfo);return new bm(e.authCredentials,e.appCheckCredentials,l,r)}createRemoteStore(e){return r=this.localStore,l=this.datastore,p=e.asyncQueue,b=N=>gh(this.syncEngine,N,0),I=pa.C()?new pa:new dp,new ph(r,l,p,b,I);var r,l,p,b,I}createSyncEngine(e,r){return function(l,p,b,I,N,$,Q){const pe=new Sm(l,p,b,I,N,$);return Q&&(pe.fc=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,ce.Z)(function*(r){const l=An(r);Xt("RemoteStore","RemoteStore shutting down."),l._u.add(5),yield gd(l),l.mu.shutdown(),l.gu.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ty(s,e=10240){let r=0;return{read:()=>(0,ce.Z)(function*(){if(r<s.byteLength){const l={value:s.slice(r,r+e),done:!1};return r+=e,l}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class mh{constructor(e,r){this.bc=e,this.It=r,this.metadata=new cs,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(l=>{l&&l.ku()?this.metadata.resolve(l.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.payload)}`))},l=>this.metadata.reject(l))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ce.Z)(function*(){const r=yield e.Vc();if(null===r)return null;const l=e.Pc.decode(r),p=Number(l);isNaN(p)&&e.Sc(`length string (${l}) is not valid number`);const b=yield e.Dc(p);return new r_(JSON.parse(b),r.length+p)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ce.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const r=e.Cc();r<0&&e.Sc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),l})()}Dc(e){var r=this;return(0,ce.Z)(function*(){for(;r.buffer.length<e;)(yield r.xc())&&r.Sc("Reached the end of bundle when more is expected.");const l=r.Pc.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),l})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ce.Z)(function*(){const r=yield e.bc.read();if(!r.done){const l=new Uint8Array(e.buffer.length+r.value.length);l.set(e.buffer),l.set(r.value,e.buffer.length),e.buffer=l}return r.done})()}}class Ed{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,ce.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new $t(xt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(p=(0,ce.Z)(function*(b,I){const N=An(b),$=Ql(N.It)+"/documents",Q={documents:I.map(zt=>ec(N.It,zt))},pe=yield N.fo("BatchGetDocuments",$,Q,I.length),qe=new Map;pe.forEach(zt=>{const Kt=function(s,e){return"found"in e?function(r,l){vr(!!l.found);const p=Oa(r,l.found.name),b=Zs(l.found.updateTime),I=new Gs({mapValue:{fields:l.found.fields}});return xi.newFoundDocument(p,b,I)}(s,e):"missing"in e?function(r,l){vr(!!l.missing),vr(!!l.readTime);const p=Oa(r,l.missing),b=Zs(l.readTime);return xi.newNoDocument(p,b)}(s,e):Fn()}(N.It,zt);qe.set(Kt.key.toString(),Kt)});const Tt=[];return I.forEach(zt=>{const Kt=qe.get(zt.toString());vr(!!Kt),Tt.push(Kt)}),Tt}),function(b,I){return p.apply(this,arguments)})(r.datastore,e);var p;return l.forEach(p=>r.recordVersion(p)),l})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var l;e.mutations.forEach(l=>{r.delete(l.key.toString())}),r.forEach((l,p)=>{const b=fn.fromPath(p);e.mutations.push(new Wd(b,e.precondition(b)))}),yield(l=(0,ce.Z)(function*(p,b){const I=An(p),N=Ql(I.It)+"/documents",$={writes:b.map(Q=>Su(I.It,Q))};yield I.co("Commit",N,$)}),function(p,b){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Fn();r=en.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!r.isEqual(l))throw new $t(xt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(en.min())?ws.exists(!1):ws.updateTime(r):ws.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(en.min()))throw new $t(xt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ws.updateTime(r)}return ws.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pm{constructor(e,r,l,p,b){this.asyncQueue=e,this.datastore=r,this.options=l,this.updateFunction=p,this.deferred=b,this.Nc=l.maxAttempts,this.xo=new fd(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ce.Z)(function*(){const r=new Ed(e.datastore),l=e.Mc(r);l&&l.then(p=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(p)}).catch(b=>{e.Oc(b)}))}).catch(p=>{e.Oc(p)})}))}Mc(e){try{const r=this.updateFunction(e);return!mu(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!kf(r)}return!1}}class ol{constructor(e,r,l,p){var b=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=l,this.databaseInfo=p,this.user=vs.UNAUTHENTICATED,this.clientId=Me.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var I=(0,ce.Z)(function*(N){Xt("FirestoreClient","Received user=",N.uid),yield b.authCredentialListener(N),b.user=N});return function(N){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(l,I=>(Xt("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $t(xt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(l){const p=Ll(l,"Failed to shutdown persistence");r.reject(p)}})),r.promise}}function yh(s,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const r=yield s.getConfiguration();yield e.initialize(r);let l=r.initialUser;s.setCredentialChangeListener(function(){var p=(0,ce.Z)(function*(b){l.isEqual(b)||(yield ym(e.localStore,b),l=b)});return function(b){return p.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),Ip.apply(this,arguments)}function Nm(s,e){return su.apply(this,arguments)}function su(){return su=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const r=yield ou(s);Xt("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(r,l),s.setCredentialChangeListener(p=>Pc(e.remoteStore,p)),s.setAppCheckTokenChangeListener((p,b)=>Pc(e.remoteStore,b)),s.onlineComponents=e}),su.apply(this,arguments)}function ou(s){return _h.apply(this,arguments)}function _h(){return _h=(0,ce.Z)(function*(s){return s.offlineComponents||(Xt("FirestoreClient","Using default OfflineComponentProvider"),yield yh(s,new l_)),s.offlineComponents}),_h.apply(this,arguments)}function so(s){return uc.apply(this,arguments)}function uc(){return uc=(0,ce.Z)(function*(s){return s.onlineComponents||(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield Nm(s,new km)),s.onlineComponents}),uc.apply(this,arguments)}function Dp(s){return ou(s).then(e=>e.persistence)}function al(s){return ou(s).then(e=>e.localStore)}function Fg(s){return so(s).then(e=>e.remoteStore)}function wd(s){return so(s).then(e=>e.syncEngine)}function au(s){return cc.apply(this,arguments)}function cc(){return cc=(0,ce.Z)(function*(s){const e=yield so(s),r=e.eventManager;return r.onListen=$s.bind(null,e.syncEngine),r.onUnlisten=Dg.bind(null,e.syncEngine),r}),cc.apply(this,arguments)}function Td(s,e,r={}){const l=new cs;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(p,b,I,N,$){const Q=new gf({next:qe=>{b.enqueueAndForget(()=>vp(p,pe));const Tt=qe.docs.has(I);!Tt&&qe.fromCache?$.reject(new $t(xt.UNAVAILABLE,"Failed to get document because the client is offline.")):Tt&&qe.fromCache&&N&&"server"===N.source?$.reject(new $t(xt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(qe)},error:qe=>$.reject(qe)}),pe=new Sg(Eu(I.path),Q,{includeMetadataChanges:!0,Nu:!0});return Cg(p,pe)}(yield au(s),s.asyncQueue,e,r,l)})),l.promise}function lu(s,e,r={}){const l=new cs;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(p,b,I,N,$){const Q=new gf({next:qe=>{b.enqueueAndForget(()=>vp(p,pe)),qe.fromCache&&"server"===N.source?$.reject(new $t(xt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(qe)},error:qe=>$.reject(qe)}),pe=new Sg(I,Q,{includeMetadataChanges:!0,Nu:!0});return Cg(p,pe)}(yield au(s),s.asyncQueue,e,r,l)})),l.promise}const Vg=new Map;function Ap(s,e,r){if(!r)throw new $t(xt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Vm(s,e,r,l){if(!0===e&&!0===l)throw new $t(xt.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Ug(s){if(!fn.isDocumentKey(s))throw new $t(xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xp(s){if(fn.isDocumentKey(s))throw new $t(xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Op(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(r=s).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof s?"a function":Fn()}function wi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new $t(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Op(s);throw new $t(xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}function Iy(s,e){if(e<=0)throw new $t(xt.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class Bg{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new $t(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $t(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Vm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,r,l,p){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=l,this._app=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $t(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $t(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bg(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Ul;switch(r.type){case"gapi":return new M(r.client,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $t(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Vg.get(e);r&&(Xt("ComponentProvider","Removing Datastore"),Vg.delete(e),r.terminate())}(this),Promise.resolve()}}class Ts{constructor(e,r,l){this.converter=r,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ts(this.firestore,e,this._key)}}class ka{constructor(e,r,l){this.converter=r,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class uu extends ka{constructor(e,r,l){super(e,r,Eu(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ts(this.firestore,null,new fn(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function Dy(s,e,...r){if(s=(0,St.m9)(s),Ap("collection","path",e),s instanceof wh){const l=xn.fromString(e,...r);return xp(l),new uu(s,null,l)}{if(!(s instanceof Ts||s instanceof uu))throw new $t(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(xn.fromString(e,...r));return xp(l),new uu(s.firestore,null,l)}}function Mp(s,e,...r){if(s=(0,St.m9)(s),1===arguments.length&&(e=Me.R()),Ap("doc","path",e),s instanceof wh){const l=xn.fromString(e,...r);return Ug(l),new Ts(s,null,new fn(l))}{if(!(s instanceof Ts||s instanceof uu))throw new $t(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(xn.fromString(e,...r));return Ug(l),new Ts(s.firestore,s instanceof uu?s.converter:null,new fn(l))}}function Bm(s,e){return s=(0,St.m9)(s),e=(0,St.m9)(e),(s instanceof Ts||s instanceof uu)&&(e instanceof Ts||e instanceof uu)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Ch(s,e){return s=(0,St.m9)(s),e=(0,St.m9)(e),s instanceof ka&&e instanceof ka&&s.firestore===e.firestore&&Hd(s._query,e._query)&&s.converter===e.converter}class xy{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new fd(this,"async_queue_retry"),this.jc=()=>{const r=fh();r&&Xt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.bo()};const e=fh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const r=fh();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const r=new cs;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ce.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(r){if(!Js(r))throw r;Xt("AsyncQueue","Operation failed with retryable error: "+r)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const r=this.$c.then(()=>(this.Kc=!0,e().catch(l=>{throw this.qc=l,this.Kc=!1,zi("INTERNAL UNHANDLED ERROR: ",function(b){let I=b.message||"";return b.stack&&(I=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),I}(l)),l}).then(l=>(this.Kc=!1,l))));return this.$c=r,r}enqueueAfterDelay(e,r,l){this.Wc(),this.Qc.indexOf(e)>-1&&(r=0);const p=wg.createAndSchedule(this,e,r,l,b=>this.Jc(b));return this.Uc.push(p),p}Wc(){this.qc&&Fn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ce.Z)(function*(){let r;do{r=e.$c,yield r}while(r!==e.$c)})()}Xc(e){for(const r of this.Uc)if(r.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((r,l)=>r.targetTimeMs-l.targetTimeMs);for(const r of this.Uc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const r=this.Uc.indexOf(e);this.Uc.splice(r,1)}}function jg(s){return function(e,r){if("object"!=typeof e||null===e)return!1;const l=e;for(const p of["next","error","complete"])if(p in l&&"function"==typeof l[p])return!0;return!1}(s)}class av{constructor(){this._progressObserver={},this._taskCompletionResolver=new cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,l){this._progressObserver={next:e,error:r,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class go extends wh{constructor(e,r,l,p){super(e,r,l,p),this.type="firestore",this._queue=new xy,this._persistenceKey=(null==p?void 0:p.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Oy(this),this._firestoreClient.terminate()}}function Fo(s){return s._firestoreClient||Oy(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Oy(s){var e;const r=s._freezeSettings(),l=(b=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Vp(s._databaseId,b,s._persistenceKey,(N=r).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var b,N;s._firestoreClient=new ol(s._authCredentials,s._appCheckCredentials,s._queue,l)}function h(s,e,r){const l=new cs;return s.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield yh(s,r),yield Nm(s,e),l.resolve()}catch(p){const b=p;if(!("FirebaseError"===(I=b).name?I.code===xt.FAILED_PRECONDITION||I.code===xt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&I instanceof DOMException)||22===I.code||20===I.code||11===I.code))throw b;Mo("Error enabling offline persistence. Falling back to persistence disabled: "+b),l.reject(b)}var I})).then(()=>l.promise)}function J(s){if(s._initialized||s._terminated)throw new $t(xt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class re{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new $t(xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class He{constructor(e){this._byteString=e}static fromBase64String(e){try{return new He(bs.fromBase64String(e))}catch(r){throw new $t(xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new He(bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pe{constructor(e){this._methodName=e}}class We{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $t(xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $t(xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}const Ot=/^__.*__$/;class Bt{constructor(e,r,l){this.data=e,this.fieldMask=r,this.fieldTransforms=l}toMutation(e,r){return null!==this.fieldMask?new Tu(e,this.data,this.fieldMask,r,this.fieldTransforms):new yc(e,this.data,r,this.fieldTransforms)}}class tn{constructor(e,r,l){this.data=e,this.fieldMask=r,this.fieldTransforms=l}toMutation(e,r){return new Tu(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function _n(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fn()}}class Yn{constructor(e,r,l,p,b,I){this.settings=e,this.databaseId=r,this.It=l,this.ignoreUndefinedProperties=p,void 0===b&&this.ea(),this.fieldTransforms=b||[],this.fieldMask=I||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Yn(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var r;const l=null===(r=this.path)||void 0===r?void 0:r.child(e),p=this.sa({path:l,ra:!1});return p.oa(e),p}ua(e){var r;const l=null===(r=this.path)||void 0===r?void 0:r.child(e),p=this.sa({path:l,ra:!1});return p.ea(),p}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return c_(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(_n(this.na)&&Ot.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class mn{constructor(e,r,l){this.databaseId=e,this.ignoreUndefinedProperties=r,this.It=l||rf(e)}fa(e,r,l,p=!1){return new Yn({na:e,methodName:r,la:l,path:Qr.emptyPath(),ra:!1,ha:p},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Hn(s){const e=s._freezeSettings(),r=rf(s._databaseId);return new mn(s._databaseId,!!e.ignoreUndefinedProperties,r)}function Mr(s,e,r,l,p,b={}){const I=s.fa(b.merge||b.mergeFields?2:0,e,r,p);Hg("Data must be an object, but it was:",I,l);const N=Rp(l,I);let $,Q;if(b.merge)$=new aa(I.fieldMask),Q=I.fieldTransforms;else if(b.mergeFields){const pe=[];for(const qe of b.mergeFields){const Tt=$o(e,qe,r);if(!I.contains(Tt))throw new $t(xt.INVALID_ARGUMENT,`Field '${Tt}' is specified in your field mask but missing from your input data.`);lv(pe,Tt)||pe.push(Tt)}$=new aa(pe),Q=I.fieldTransforms.filter(qe=>$.covers(qe.field))}else $=null,Q=I.fieldTransforms;return new Bt(new Gs(N),$,Q)}class Dr extends Pe{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dr}}function Ur(s,e,r){return new Yn({na:3,la:e.settings.la,methodName:s._methodName,ra:r},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Xr extends Pe{_toFieldTransform(e){return new zl(e.path,new xa)}isEqual(e){return e instanceof Xr}}class mo extends Pe{constructor(e,r){super(e),this.da=r}_toFieldTransform(e){const r=Ur(this,e,!0),l=this.da.map(b=>Sh(b,r)),p=new $l(l);return new zl(e.path,p)}isEqual(e){return this===e}}class Ns extends Pe{constructor(e,r){super(e),this.da=r}_toFieldTransform(e){const r=Ur(this,e,!0),l=this.da.map(b=>Sh(b,r)),p=new qa(l);return new zl(e.path,p)}isEqual(e){return this===e}}class ju extends Pe{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=new jo(e.It,jn(e.It,this._a));return new zl(e.path,r)}isEqual(e){return this===e}}function mf(s,e,r,l){const p=s.fa(1,e,r);Hg("Data must be an object, but it was:",p,l);const b=[],I=Gs.empty();Ca(l,($,Q)=>{const pe=Gm(e,$,r);Q=(0,St.m9)(Q);const qe=p.ua(pe);if(Q instanceof Dr)b.push(pe);else{const Tt=Sh(Q,qe);null!=Tt&&(b.push(pe),I.set(pe,Tt))}});const N=new aa(b);return new tn(I,N,p.fieldTransforms)}function My(s,e,r,l,p,b){const I=s.fa(1,e,r),N=[$o(e,l,r)],$=[p];if(b.length%2!=0)throw new $t(xt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Tt=0;Tt<b.length;Tt+=2)N.push($o(e,b[Tt])),$.push(b[Tt+1]);const Q=[],pe=Gs.empty();for(let Tt=N.length-1;Tt>=0;--Tt)if(!lv(Q,N[Tt])){const zt=N[Tt];let Kt=$[Tt];Kt=(0,St.m9)(Kt);const gn=I.ua(zt);if(Kt instanceof Dr)Q.push(zt);else{const br=Sh(Kt,gn);null!=br&&(Q.push(zt),pe.set(zt,br))}}const qe=new aa(Q);return new tn(pe,qe,I.fieldTransforms)}function Th(s,e,r,l=!1){return Sh(r,s.fa(l?4:3,e))}function Sh(s,e){if($a(s=(0,St.m9)(s)))return Hg("Unsupported field value:",e,s),Rp(s,e);if(s instanceof Pe)return function(r,l){if(!_n(l.na))throw l.aa(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.aa(`${r._methodName}() is not currently supported inside arrays`);const p=r._toFieldTransform(l);p&&l.fieldTransforms.push(p)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(r,l){const p=[];let b=0;for(const I of r){let N=Sh(I,l.ca(b));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),b++}return{arrayValue:{values:p}}}(s,e)}return function(r,l){if(null===(r=(0,St.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return jn(l.It,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const p=Kn.fromDate(r);return{timestampValue:Qc(l.It,p)}}if(r instanceof Kn){const p=new Kn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qc(l.It,p)}}if(r instanceof We)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof He)return{bytesValue:Vf(l.It,r._byteString)};if(r instanceof Ts){const p=l.databaseId,b=r.firestore._databaseId;if(!b.isEqual(p))throw l.aa(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Yp(r.firestore._databaseId||l.databaseId,r._key.path)}}throw l.aa(`Unsupported field value: ${Op(r)}`)}(s,e)}function Rp(s,e){const r={};return pl(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(s,(l,p)=>{const b=Sh(p,e.ia(l));null!=b&&(r[l]=b)}),{mapValue:{fields:r}}}function $a(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Kn||s instanceof We||s instanceof He||s instanceof Ts||s instanceof Pe)}function Hg(s,e,r){if(!$a(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Op(r);throw e.aa("an object"===l?s+" a custom object":s+" "+l)}var l}function $o(s,e,r){if((e=(0,St.m9)(e))instanceof re)return e._internalPath;if("string"==typeof e)return Gm(s,e);throw c_("Field path arguments must be of type string or ",s,!1,void 0,r)}const u_=new RegExp("[~\\*/\\[\\]]");function Gm(s,e,r){if(e.search(u_)>=0)throw c_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new re(...e.split("."))._internalPath}catch(l){throw c_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function c_(s,e,r,l,p){const b=l&&!l.isEmpty(),I=void 0!==p;let N=`Function ${e}() called with invalid data`;r&&(N+=" (via `toFirestore()`)"),N+=". ";let $="";return(b||I)&&($+=" (found",b&&($+=` in field ${l}`),I&&($+=` in document ${p}`),$+=")"),new $t(xt.INVALID_ARGUMENT,N+s+$)}function lv(s,e){return s.some(r=>r.isEqual(e))}class kp{constructor(e,r,l,p,b){this._firestore=e,this._userDataWriter=r,this._key=l,this._document=p,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new Ts(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new d_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Zm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class d_ extends kp{data(){return super.data()}}function Zm(s,e){return"string"==typeof e?Gm(s,e):e instanceof re?e._internalPath:e._delegate._internalPath}class yf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lc extends kp{constructor(e,r,l,p,b,I){super(e,r,l,p,I),this._firestore=e,this._firestoreImpl=e,this.metadata=b}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const l=this._document.data.field(Zm("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,r.serverTimestamps)}}}class qg extends Lc{data(e={}){return super.data(e)}}class Sd{constructor(e,r,l,p){this._firestore=e,this._userDataWriter=r,this._snapshot=p,this.metadata=new yf(p.hasPendingWrites,p.fromCache),this.query=l}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(l=>{e.call(r,new qg(this._firestore,this._userDataWriter,l.key,l,new yf(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $t(xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,p){if(l._snapshot.oldDocs.isEmpty()){let b=0;return l._snapshot.docChanges.map(I=>({type:"added",doc:new qg(l._firestore,l._userDataWriter,I.doc.key,I.doc,new yf(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:b++}))}{let b=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(I=>p||3!==I.type).map(I=>{const N=new qg(l._firestore,l._userDataWriter,I.doc.key,I.doc,new yf(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter);let $=-1,Q=-1;return 0!==I.type&&($=b.indexOf(I.doc.key),b=b.delete(I.doc.key)),1!==I.type&&(b=b.add(I.doc),Q=b.indexOf(I.doc.key)),{type:h_(I.type),doc:N,oldIndex:$,newIndex:Q}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function h_(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fn()}}function f_(s,e){return s instanceof Lc&&e instanceof Lc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Sd&&e instanceof Sd&&s._firestore===e._firestore&&Ch(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function uv(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new $t(xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}function Ih(s,...e){for(const r of e)s=r._apply(s);return s}class p_ extends Gg{constructor(e,r,l){super(),this.wa=e,this.ma=r,this.ga=l,this.type="where"}_apply(e){const r=Hn(e.firestore),l=function(p,b,I,N,$,Q,pe){let qe;if($.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new $t(xt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){pb(pe,Q);const zt=[];for(const Kt of pe)zt.push(v_(N,p,Kt));qe={arrayValue:{values:zt}}}else qe=v_(N,p,pe)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||pb(pe,Q),qe=Th(I,"where",pe,"in"===Q||"not-in"===Q);const Tt=Rs.create($,Q,qe);return function(zt,Kt){if(Kt.dt()){const br=zc(zt);if(null!==br&&!br.isEqual(Kt.field))throw new $t(xt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${br.toString()}' and '${Kt.field.toString()}'`);const Vi=Hh(zt);null!==Vi&&yv(0,Kt.field,Vi)}const gn=function(br,Vi){for(const hs of br.filters)if(Vi.indexOf(hs.op)>=0)return hs.op;return null}(zt,function(br){switch(br){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Kt.op));if(null!==gn)throw new $t(xt.INVALID_ARGUMENT,gn===Kt.op?`Invalid query. You cannot use more than one '${Kt.op.toString()}' filter.`:`Invalid query. You cannot use '${Kt.op.toString()}' filters with '${gn.toString()}' filters.`)}(p,Tt),Tt}(e._query,0,r,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ka(e.firestore,e.converter,function(p,b){const I=p.filters.concat([b]);return new bu(p.path,p.collectionGroup,p.explicitOrderBy.slice(),I,p.limit,p.limitType,p.startAt,p.endAt)}(e._query,l))}}class fb extends Gg{constructor(e,r){super(),this.wa=e,this.ya=r,this.type="orderBy"}_apply(e){const r=function(l,p,b){if(null!==l.startAt)throw new $t(xt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new $t(xt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new Rl(p,b);return function(N,$){if(null===Hh(N)){const Q=zc(N);null!==Q&&yv(0,Q,$.field)}}(l,I),I}(e._query,this.wa,this.ya);return new ka(e.firestore,e.converter,function(l,p){const b=l.explicitOrderBy.concat([p]);return new bu(l.path,l.collectionGroup,b,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class g_ extends Gg{constructor(e,r,l){super(),this.type=e,this.pa=r,this.Ia=l}_apply(e){return new ka(e.firestore,e.converter,jd(e._query,this.pa,this.Ia))}}class m_ extends Gg{constructor(e,r,l){super(),this.type=e,this.Ta=r,this.Ea=l}_apply(e){const r=__(e,this.type,this.Ta,this.Ea);return new ka(e.firestore,e.converter,(p=r,new bu((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,p,l.endAt)));var l,p}}class y_ extends Gg{constructor(e,r,l){super(),this.type=e,this.Ta=r,this.Ea=l}_apply(e){const r=__(e,this.type,this.Ta,this.Ea);return new ka(e.firestore,e.converter,(p=r,new bu((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,p)));var l,p}}function __(s,e,r,l){if(r[0]=(0,St.m9)(r[0]),r[0]instanceof kp)return function(p,b,I,N,$){if(!N)throw new $t(xt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const Q=[];for(const pe of mc(p))if(pe.field.isKeyField())Q.push(ml(b,N.key));else{const qe=N.data.field(pe.field);if(Nd(qe))throw new $t(xt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===qe){const Tt=pe.field.canonicalString();throw new $t(xt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Tt}' (used as the orderBy) does not exist.`)}Q.push(qe)}return new _l(Q,$)}(s._query,s.firestore._databaseId,e,r[0]._document,l);{const p=Hn(s.firestore);return function(b,I,N,$,Q,pe){const qe=b.explicitOrderBy;if(Q.length>qe.length)throw new $t(xt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Tt=[];for(let zt=0;zt<Q.length;zt++){const Kt=Q[zt];if(qe[zt].field.isKeyField()){if("string"!=typeof Kt)throw new $t(xt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Kt}`);if(!ua(b)&&-1!==Kt.indexOf("/"))throw new $t(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Kt}' contains a slash.`);const gn=b.path.child(xn.fromString(Kt));if(!fn.isDocumentKey(gn))throw new $t(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${gn}' is not because it contains an odd number of segments.`);const br=new fn(gn);Tt.push(ml(I,br))}else{const gn=Th(N,$,Kt);Tt.push(gn)}}return new _l(Tt,pe)}(s._query,s.firestore._databaseId,p,e,r,l)}}function v_(s,e,r){if("string"==typeof(r=(0,St.m9)(r))){if(""===r)throw new $t(xt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ua(e)&&-1!==r.indexOf("/"))throw new $t(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const l=e.path.child(xn.fromString(r));if(!fn.isDocumentKey(l))throw new $t(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return ml(s,new fn(l))}if(r instanceof Ts)return ml(s,r._key);throw new $t(xt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Op(r)}.`)}function pb(s,e){if(!Array.isArray(s)||0===s.length)throw new $t(xt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new $t(xt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yv(s,e,r){if(!r.isEqual(e))throw new $t(xt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}const gb={maxAttempts:5};class ky{convertValue(e,r="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Os(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(gu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Fn()}}convertObject(e,r){const l={};return Ca(e.fields,(p,b)=>{l[p]=this.convertValue(b,r)}),l}convertGeoPoint(e){return new We(Os(e.latitude),Os(e.longitude))}convertArray(e,r){return(e.values||[]).map(l=>this.convertValue(l,r))}convertServerTimestamp(e,r){switch(r){case"previous":const l=Lh(e);return null==l?null:this.convertValue(l,r);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const r=Ml(e);return new Kn(r.seconds,r.nanos)}convertDocumentKey(e,r){const l=xn.fromString(e);vr(Xc(l));const p=new Sa(l.get(1),l.get(3)),b=new fn(l.popFirst(5));return p.isEqual(r)||zi(`Document ${b} contains a document reference within a different database (${p.projectId}/${p.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),b}}function Py(s,e,r){let l;return l=s?r&&(r.merge||r.mergeFields)?s.toFirestore(e,r):s.toFirestore(e):e,l}class Pa extends ky{constructor(e){super(),this.firestore=e}convertBytes(e){return new He(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,r)}}class b_{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Hn(e)}set(e,r,l){this._verifyNotCommitted();const p=_f(e,this._firestore),b=Py(p.converter,r,l),I=Mr(this._dataReader,"WriteBatch.set",p._key,b,null!==p.converter,l);return this._mutations.push(I.toMutation(p._key,ws.none())),this}update(e,r,l,...p){this._verifyNotCommitted();const b=_f(e,this._firestore);let I;return I="string"==typeof(r=(0,St.m9)(r))||r instanceof re?My(this._dataReader,"WriteBatch.update",b._key,r,l,p):mf(this._dataReader,"WriteBatch.update",b._key,r),this._mutations.push(I.toMutation(b._key,ws.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=_f(e,this._firestore);return this._mutations=this._mutations.concat(new Xu(r._key,ws.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $t(xt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _f(s,e){if((s=(0,St.m9)(s)).firestore!==e)throw new $t(xt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class vf extends ky{constructor(e){super(),this.firestore=e}convertBytes(e){return new He(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,r)}}function bv(s,e,r){s=wi(s,Ts);const l=wi(s.firestore,go),p=Py(s.converter,e,r);return bf(l,[Mr(Hn(l),"setDoc",s._key,p,null!==s.converter,r).toMutation(s._key,ws.none())])}function E_(s,e,r,...l){s=wi(s,Ts);const p=wi(s.firestore,go),b=Hn(p);let I;return I="string"==typeof(e=(0,St.m9)(e))||e instanceof re?My(b,"updateDoc",s._key,e,r,l):mf(b,"updateDoc",s._key,e),bf(p,[I.toMutation(s._key,ws.exists(!0))])}function bb(s,...e){var r,l,p;s=(0,St.m9)(s);let b={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||jg(e[I])||(b=e[I],I++);const N={includeMetadataChanges:b.includeMetadataChanges};if(jg(e[I])){const qe=e[I];e[I]=null===(r=qe.next)||void 0===r?void 0:r.bind(qe),e[I+1]=null===(l=qe.error)||void 0===l?void 0:l.bind(qe),e[I+2]=null===(p=qe.complete)||void 0===p?void 0:p.bind(qe)}let $,Q,pe;if(s instanceof Ts)Q=wi(s.firestore,go),pe=Eu(s._key.path),$={next:qe=>{e[I]&&e[I](dc(Q,s,qe))},error:e[I+1],complete:e[I+2]};else{const qe=wi(s,ka);Q=wi(qe.firestore,go),pe=qe._query;const Tt=new vf(Q);$={next:zt=>{e[I]&&e[I](new Sd(Q,Tt,qe,zt))},error:e[I+1],complete:e[I+2]},uv(s._query)}return function(qe,Tt,zt,Kt){const gn=new gf(Kt),br=new Sg(Tt,gn,zt);return qe.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return Cg(yield au(qe),br)})),()=>{gn.Rc(),qe.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return vp(yield au(qe),br)}))}}(Fo(Q),pe,N,$)}function bf(s,e){return function(r,l){const p=new cs;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(s,e,r){return uf.apply(this,arguments)}(yield wd(r),l,p)})),p.promise}(Fo(s),e)}function dc(s,e,r){const l=r.docs.get(e._key),p=new vf(s);return new Lc(s,p,e._key,l,new yf(r.hasPendingWrites,r.fromCache),e.converter)}class Eb extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Hn(e)}get(e){const r=_f(e,this._firestore),l=new Pa(this._firestore);return this._transaction.lookup([r._key]).then(p=>{if(!p||1!==p.length)return Fn();const b=p[0];if(b.isFoundDocument())return new kp(this._firestore,l,b.key,b,r.converter);if(b.isNoDocument())return new kp(this._firestore,l,r._key,null,r.converter);throw Fn()})}set(e,r,l){const p=_f(e,this._firestore),b=Py(p.converter,r,l),I=Mr(this._dataReader,"Transaction.set",p._key,b,null!==p.converter,l);return this._transaction.set(p._key,I),this}update(e,r,l,...p){const b=_f(e,this._firestore);let I;return I="string"==typeof(r=(0,St.m9)(r))||r instanceof re?My(this._dataReader,"Transaction.update",b._key,r,l,p):mf(this._dataReader,"Transaction.update",b._key,r),this._transaction.update(b._key,I),this}delete(e){const r=_f(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=_f(e,this._firestore),l=new vf(this._firestore);return super.get(e).then(p=>new Lc(this._firestore,l,r._key,p._document,new yf(!1,!1),r.converter))}}function Pp(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $t("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Sv(){if("undefined"==typeof Uint8Array)throw new $t("unimplemented","Uint8Arrays are not available in this environment.")}function T_(){if("undefined"==typeof atob)throw new $t("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){Uo=vt.SDK_VERSION,(0,vt._registerComponent)(new Jt.wA("firestore",(r,{instanceIdentifier:l,options:p})=>{const b=r.getProvider("app").getImmediate(),I=new go(new Md(r.getProvider("auth-internal")),new H(r.getProvider("app-check-internal")),function(N,$){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new $t(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(N.options.projectId,$)}(b,l),b);return p=Object.assign({useFetchStreams:e},p),I._setSettings(p),I},"PUBLIC").setMultipleInstances(!0)),(0,vt.registerVersion)(Vl,"3.4.15",s),(0,vt.registerVersion)(Vl,"3.4.15","esm2017")}();class $m{constructor(e){this._delegate=e}static fromBase64String(e){return T_(),new $m(He.fromBase64String(e))}static fromUint8Array(e){return Sv(),new $m(He.fromUint8Array(e))}toBase64(){return T_(),this._delegate.toBase64()}toUint8Array(){return Sv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ny(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const r=s;for(const l of["next","error","complete"])if(l in r&&"function"==typeof r[l])return!0;return!1}(s)}class Fy{enableIndexedDbPersistence(e,r){return function(s,e){J(s=wi(s,go));const r=Fo(s),l=s._freezeSettings(),p=new km;return h(r,p,new wy(p,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function(s){J(s=wi(s,go));const e=Fo(s),r=s._freezeSettings(),l=new km;return h(e,l,new Cy(l,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new $t(xt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cs;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(r=(0,ce.Z)(function*(l){if(!Ba.C())return Promise.resolve();const p=l+"main";yield Ba.delete(p)}),function(l){return r.apply(this,arguments)})(tu(s._databaseId,s._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class Dv{constructor(e,r,l){this._delegate=r,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Mo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,l={}){!function(s,e,r,l={}){var p;const b=(s=wi(s,wh))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==e&&Mo("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},b),{host:`${e}:${r}`,ssl:!1})),l.mockUserToken){let I,N;if("string"==typeof l.mockUserToken)I=l.mockUserToken,N=vs.MOCK_USER;else{I=(0,St.Sg)(l.mockUserToken,null===(p=s._app)||void 0===p?void 0:p.options.projectId);const $=l.mockUserToken.sub||l.mockUserToken.user_id;if(!$)throw new $t(xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new vs($)}s._authCredentials=new jc(new sa(I,N))}}(this._delegate,e,r,l)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Dp(s),r=yield Fg(s);return e.setNetworkEnabled(!0),function(l){const p=An(l);return p._u.delete(0),pd(p)}(r)}))}(Fo(s=wi(s,go)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Dp(s),r=yield Fg(s);return e.setNetworkEnabled(!1),(l=(0,ce.Z)(function*(p){const b=An(p);b._u.add(0),yield gd(b),b.gu.set("Offline")}),function(p){return l.apply(this,arguments)})(r);var l}))}(Fo(s=wi(s,go)))}(this._delegate)}enablePersistence(e){let r=!1,l=!1;return e&&(r=!!e.synchronizeTabs,l=!!e.experimentalForceOwningTab,Vm("synchronizeTabs",r,"experimentalForceOwningTab",l)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const r=new cs;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(s,e){return wp.apply(this,arguments)}(yield wd(e),r)})),r.promise}(Fo(s=wi(s,go)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const r=new gf(e);return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return l=yield au(s),p=r,An(l).Ru.add(p),void p.next();var l,p})),()=>{r.Rc(),s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return l=yield au(s),p=r,void An(l).Ru.delete(p);var l,p}))}}(Fo(s=wi(s,go)),jg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $t("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wg(this,Dy(this._delegate,e))}catch(r){throw Cl(r,"collection()","Firestore.collection()")}}doc(e){try{return new cu(this,Mp(this._delegate,e))}catch(r){throw Cl(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Tl(this,function(s,e){if(s=wi(s,wh),Ap("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $t(xt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ka(s,null,(r=e,new bu(xn.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw Cl(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e,r){s=wi(s,go);const l=Object.assign(Object.assign({},gb),r);return function(p){if(p.maxAttempts<1)throw new $t(xt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(s,e,r){const l=new cs;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const p=yield(b=s,so(b).then(I=>I.datastore));var b;new Pm(s.asyncQueue,p,r,e,l).run()})),l.promise}(Fo(s),p=>e(new Eb(s,p)),l)}(this._delegate,r=>e(new Ly(this,r)))}batch(){return Fo(this._delegate),new Wm(new b_(this._delegate,e=>bf(this._delegate,e)))}loadBundle(e){return function(s,e){const r=Fo(s=wi(s,go)),l=new av;return function(s,e,r,l){const p=function(b,I){let N;return N="string"==typeof b?(new TextEncoder).encode(b):b,$=function($,Q){if($ instanceof Uint8Array)return Ty($,Q);if($ instanceof ArrayBuffer)return Ty(new Uint8Array($),Q);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new mh($,I);var $}(r,rf(e));s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function(s,e,r){const l=An(s);var p;(p=(0,ce.Z)(function*(b,I,N){try{const $=yield I.getMetadata();if(yield function(Tt,zt){const Kt=An(Tt),gn=Zs(zt.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",br=>Kt.Ns.getBundleMetadata(br,zt.id)).then(br=>!!br&&br.createTime.compareTo(gn)>=0)}(b.localStore,$))return yield I.close(),N._completeWith({taskState:"Success",documentsLoaded:(Tt=$).totalDocuments,bytesLoaded:Tt.totalBytes,totalDocuments:Tt.totalDocuments,totalBytes:Tt.totalBytes}),Promise.resolve(new Set);N._updateProgress(wm($));const Q=new lf($,b.localStore,I.It);let pe=yield I.wc();for(;pe;){const Tt=yield Q.Ou(pe);Tt&&N._updateProgress(Tt),pe=yield I.wc()}const qe=yield Q.complete();return yield bd(b,qe.Bu,void 0),yield function(Tt,zt){const Kt=An(Tt);return Kt.persistence.runTransaction("Save bundle","readwrite",gn=>Kt.Ns.saveBundleMetadata(gn,zt))}(b.localStore,$),N._completeWith(qe.progress),Promise.resolve(qe.$u)}catch($){return Mo("SyncEngine",`Loading bundle failed with ${$}`),N._failWith($),Promise.resolve(new Set)}var Tt}),function(b,I,N){return p.apply(this,arguments)})(l,e,r).then(p=>{l.sharedClientState.notifyBundleLoaded(p)})}(yield wd(s),p,l)}))}(r,s._databaseId,e,l),l}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,ce.Z)(function*(){return function(r,l){const p=An(r);return p.persistence.runTransaction("Get named query","readonly",b=>p.Ns.getNamedQuery(b,l))}(yield al(s),e)}))}(Fo(s=wi(s,go)),e).then(r=>r?new ka(s,null,r.query):null)}(this._delegate,e).then(r=>r?new Tl(this,r):null)}}class zm extends ky{constructor(e){super(),this.firestore=e}convertBytes(e){return new $m(new He(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return cu.forKey(r,this.firestore,null)}}class Ly{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new zm(e)}get(e){const r=Np(e);return this._delegate.get(r).then(l=>new $g(this._firestore,new Lc(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,r.converter)))}set(e,r,l){const p=Np(e);return l?(Pp("Transaction.set",l),this._delegate.set(p,r,l)):this._delegate.set(p,r),this}update(e,r,l,...p){const b=Np(e);return 2===arguments.length?this._delegate.update(b,r):this._delegate.update(b,r,l,...p),this}delete(e){const r=Np(e);return this._delegate.delete(r),this}}class Wm{constructor(e){this._delegate=e}set(e,r,l){const p=Np(e);return l?(Pp("WriteBatch.set",l),this._delegate.set(p,r,l)):this._delegate.set(p,r),this}update(e,r,l,...p){const b=Np(e);return 2===arguments.length?this._delegate.update(b,r):this._delegate.update(b,r,l,...p),this}delete(e){const r=Np(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Dh{constructor(e,r,l){this._firestore=e,this._userDataWriter=r,this._delegate=l}fromFirestore(e,r){const l=new qg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zg(this._firestore,l),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const l=Dh.INSTANCES;let p=l.get(e);p||(p=new WeakMap,l.set(e,p));let b=p.get(r);return b||(b=new Dh(e,new zm(e),r),p.set(r,b)),b}}Dh.INSTANCES=new WeakMap;class cu{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new zm(e)}static forPath(e,r,l){if(e.length%2!=0)throw new $t("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new cu(r,new Ts(r._delegate,l,new fn(e)))}static forKey(e,r,l){return new cu(r,new Ts(r._delegate,l,e))}get id(){return this._delegate.id}get parent(){return new Wg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wg(this.firestore,Dy(this._delegate,e))}catch(r){throw Cl(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,St.m9)(e))instanceof Ts&&Bm(this._delegate,e)}set(e,r){r=Pp("DocumentReference.set",r);try{return r?bv(this._delegate,e,r):bv(this._delegate,e)}catch(l){throw Cl(l,"setDoc()","DocumentReference.set()")}}update(e,r,...l){try{return 1===arguments.length?E_(this._delegate,e):E_(this._delegate,e,r,...l)}catch(p){throw Cl(p,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return bf(wi(s.firestore,go),[new Xu(s._key,ws.none())])}(this._delegate)}onSnapshot(...e){const r=S_(e),l=I_(e,p=>new $g(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,p._key,p._document,p.metadata,this._delegate.converter)));return bb(this._delegate,r,l)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=wi(s,Ts);const e=wi(s.firestore,go),r=Fo(e),l=new vf(e);return function(s,e){const r=new cs;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(l=(0,ce.Z)(function*(p,b,I){try{const N=yield function($,Q){const pe=An($);return pe.persistence.runTransaction("read document","readonly",qe=>pe.localDocuments.getDocument(qe,Q))}(p,b);N.isFoundDocument()?I.resolve(N):N.isNoDocument()?I.resolve(null):I.reject(new $t(xt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const $=Ll(N,`Failed to get document '${b} from cache`);I.reject($)}}),function(p,b,I){return l.apply(this,arguments)})(yield al(s),e,r);var l})),r.promise}(r,s._key).then(p=>new Lc(e,l,s._key,p,new yf(null!==p&&p.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=wi(s,Ts);const e=wi(s.firestore,go);return Td(Fo(e),s._key,{source:"server"}).then(r=>dc(e,s,r))}(this._delegate):function(s){s=wi(s,Ts);const e=wi(s.firestore,go);return Td(Fo(e),s._key).then(r=>dc(e,s,r))}(this._delegate),r.then(l=>new $g(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(e){return new cu(this.firestore,this._delegate.withConverter(e?Dh.getInstance(this.firestore,e):null))}}function Cl(s,e,r){return s.message=s.message.replace(e,r),s}function S_(s){for(const e of s)if("object"==typeof e&&!Ny(e))return e;return{}}function I_(s,e){var r,l;let p;return p=Ny(s[0])?s[0]:Ny(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:b=>{p.next&&p.next(e(b))},error:null===(r=p.error)||void 0===r?void 0:r.bind(p),complete:null===(l=p.complete)||void 0===l?void 0:l.bind(p)}}class $g{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new cu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return f_(this._delegate,e._delegate)}}class zg extends $g{data(e){const r=this._delegate.data(e);return function(s,e){s||Fn()}(void 0!==r),r}}class Tl{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new zm(e)}where(e,r,l){try{return new Tl(this.firestore,Ih(this._delegate,function(s,e,r){const l=e,p=Zm("where",s);return new p_(p,l,r)}(e,r,l)))}catch(p){throw Cl(p,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Tl(this.firestore,Ih(this._delegate,function(s,e="asc"){const r=e,l=Zm("orderBy",s);return new fb(l,r)}(e,r)))}catch(l){throw Cl(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Tl(this.firestore,Ih(this._delegate,function(s){return Iy("limit",s),new g_("limit",s,"F")}(e)))}catch(r){throw Cl(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Tl(this.firestore,Ih(this._delegate,function(s){return Iy("limitToLast",s),new g_("limitToLast",s,"L")}(e)))}catch(r){throw Cl(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Tl(this.firestore,Ih(this._delegate,function(...s){return new m_("startAt",s,!0)}(...e)))}catch(r){throw Cl(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Tl(this.firestore,Ih(this._delegate,function(...s){return new m_("startAfter",s,!1)}(...e)))}catch(r){throw Cl(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Tl(this.firestore,Ih(this._delegate,function(...s){return new y_("endBefore",s,!1)}(...e)))}catch(r){throw Cl(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Tl(this.firestore,Ih(this._delegate,function(...s){return new y_("endAt",s,!0)}(...e)))}catch(r){throw Cl(r,"endAt()","Query.endAt()")}}isEqual(e){return Ch(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=wi(s,ka);const e=wi(s.firestore,go),r=Fo(e),l=new vf(e);return function(s,e){const r=new cs;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(l=(0,ce.Z)(function*(p,b,I){try{const N=yield wl(p,b,!0),$=new Tm(b,N.Hi),Q=$.ju(N.documents),pe=$.applyChanges(Q,!1);I.resolve(pe.snapshot)}catch(N){const $=Ll(N,`Failed to execute query '${b} against cache`);I.reject($)}}),function(p,b,I){return l.apply(this,arguments)})(yield al(s),e,r);var l})),r.promise}(r,s._query).then(p=>new Sd(e,l,s,p))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=wi(s,ka);const e=wi(s.firestore,go),r=Fo(e),l=new vf(e);return lu(r,s._query,{source:"server"}).then(p=>new Sd(e,l,s,p))}(this._delegate):function(s){s=wi(s,ka);const e=wi(s.firestore,go),r=Fo(e),l=new vf(e);return uv(s._query),lu(r,s._query).then(p=>new Sd(e,l,s,p))}(this._delegate),r.then(l=>new D_(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...e){const r=S_(e),l=I_(e,p=>new D_(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,this._delegate,p._snapshot)));return bb(this._delegate,r,l)}withConverter(e){return new Tl(this.firestore,this._delegate.withConverter(e?Dh.getInstance(this.firestore,e):null))}}class xv{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new zg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class D_{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Tl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new xv(this._firestore,r))}forEach(e,r){this._delegate.forEach(l=>{e.call(r,new zg(this._firestore,l))})}isEqual(e){return f_(this._delegate,e._delegate)}}class Wg extends Tl{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new cu(this.firestore,e):null}doc(e){try{return new cu(this.firestore,void 0===e?Mp(this._delegate):Mp(this._delegate,e))}catch(r){throw Cl(r,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const r=wi(s.firestore,go),l=Mp(s),p=Py(s.converter,e);return bf(r,[Mr(Hn(s.firestore),"addDoc",l._key,p,null!==s.converter,{}).toMutation(l._key,ws.exists(!1))]).then(()=>l)}(this._delegate,e).then(r=>new cu(this.firestore,r))}isEqual(e){return Bm(this._delegate,e._delegate)}withConverter(e){return new Wg(this.firestore,this._delegate.withConverter(e?Dh.getInstance(this.firestore,e):null))}}function Np(s){return wi(s,Ts)}class A_{constructor(...e){this._delegate=new re(...e)}static documentId(){return new A_(Qr.keyField().canonicalString())}isEqual(e){return(e=(0,St.m9)(e))instanceof re&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Xr("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Fp(e)}static delete(){const e=new Dr("deleteField");return e._methodName="FieldValue.delete",new Fp(e)}static arrayUnion(...e){const r=function(...s){return new mo("arrayUnion",s)}(...e);return r._methodName="FieldValue.arrayUnion",new Fp(r)}static arrayRemove(...e){const r=function(...s){return new Ns("arrayRemove",s)}(...e);return r._methodName="FieldValue.arrayRemove",new Fp(r)}static increment(e){const r=function(s){return new ju("increment",s)}(e);return r._methodName="FieldValue.increment",new Fp(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Tb={Firestore:Dv,GeoPoint:We,Timestamp:Kn,Blob:$m,Transaction:Ly,WriteBatch:Wm,DocumentReference:cu,DocumentSnapshot:$g,Query:Tl,QueryDocumentSnapshot:zg,QuerySnapshot:D_,CollectionReference:Wg,FieldPath:A_,FieldValue:Fp,setLogLevel:function(s){!function(s){ra.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new Jt.wA("firestore-compat",r=>((e,r)=>new Dv(e,r,new Fy))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Tb)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.24")}(tt.Z);var Ef=q(3820),Db=q(3801);function Ov(s,e){return function(s,e=o.z){return new te.y(r=>{let l;return null!=e?e.schedule(()=>{l=s.onSnapshot({includeMetadataChanges:!0},r)}):l=s.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=l&&l()}})}(s,e)}function x_(s,e){return Ov(s,e).pipe((0,Te.U)(r=>({payload:r,type:"query"})))}function Vy(s,e){return x_(s,e).pipe((0,Ge.O)(void 0),(0,Ce.G)(),(0,Te.U)(([r,l])=>{const p=l.payload.docChanges(),b=p.map(I=>({type:I.type,payload:I}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((I,N)=>{const $=p.find(pe=>pe.doc.ref.isEqual(I.ref)),Q=null==r?void 0:r.payload.docs.find(pe=>pe.ref.isEqual(I.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(I.metadata)||!$&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(I.metadata)||b.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:I}})}),b}))}function Mv(s,e,r){return Vy(s,r).pipe((0,ue.R)((l,p)=>function(s,e,r){return e.forEach(l=>{r.indexOf(l.type)>-1&&(s=function(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Uy(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=s.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return Uy(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Uy(s,e.oldIndex,1)}return s}(s,l))}),s}(l,p.map(b=>b.payload),e),[]),(0,he.x)(),(0,Te.U)(l=>l.map(p=>({type:p.type,payload:p}))))}function Uy(s,e,r,...l){const p=s.slice();return p.splice(e,r,...l),p}function O_(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}q(7841);class M_{constructor(e,r,l){this.ref=e,this.query=r,this.afs=l}stateChanges(e){let r=Vy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Te.U)(l=>l.filter(p=>e.indexOf(p.type)>-1)))),r.pipe((0,Ge.O)(void 0),(0,Ce.G)(),(0,Ve.h)(([l,p])=>p.length>0||!l),(0,Te.U)(([l,p])=>p),Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((r,l)=>[...r,...l],[]))}snapshotChanges(e){const r=O_(e);return Mv(this.query,r,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return x_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(r=>r.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),Ie.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(Ie.iC)}add(e){return this.ref.add(e)}doc(e){return new R_(this.ref.doc(e),this.afs)}}class R_{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const l=this.ref.collection(e),{ref:p,query:b}=wf(l,r);return new M_(p,b,this.afs)}snapshotChanges(){return function(s,e){return Ov(s,e).pipe((0,Ge.O)(void 0),(0,Ce.G)(),(0,Te.U)(([r,l])=>l.exists?(null==r?void 0:r.exists)?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Te.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,Ue.D)(this.ref.get(e)).pipe(Ie.iC)}}class Pv{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Vy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(r=>r.filter(l=>e.indexOf(l.type)>-1)),(0,Ve.h)(r=>r.length>0),Ie.iC):Vy(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((r,l)=>[...r,...l],[]))}snapshotChanges(e){const r=O_(e);return Mv(this.query,r,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return x_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(l=>l.payload.docs.map(p=>e.idField?Object.assign({[e.idField]:p.id},p.data()):p.data())),Ie.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(Ie.iC)}}const Nv=new k.OlP("angularfire2.enableFirestorePersistence"),Fv=new k.OlP("angularfire2.firestore.persistenceSettings"),k_=new k.OlP("angularfire2.firestore.settings"),Lv=new k.OlP("angularfire2.firestore.use-emulator");function wf(s,e=(r=>r)){return{query:e(s),ref:s}}let Ob=(()=>{class s{constructor(r,l,p,b,I,N,$,Q,pe,qe,Tt,zt,Kt,gn,br,Vi,hs){this.schedulers=$;const ls=(0,be.on)(r,N,l),yo=pe;qe&&(0,Ef.nw)(ls,N,Tt,Kt,gn,br,zt,Vi),[this.firestore,this.persistenceEnabled$]=(0,be.cc)(`${ls.name}.firestore`,"AngularFirestore",ls.name,()=>{const Wi=N.runOutsideAngular(()=>ls.firestore());if(b&&Wi.settings(b),yo&&Wi.useEmulator(...yo),p&&!(0,Ke.PM)(I)){const us=()=>{try{return(0,Ue.D)(Wi.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(ga){return"undefined"!=typeof console&&console.warn(ga),(0,Be.of)(!1)}};return[Wi,N.runOutsideAngular(us)]}return[Wi,(0,Be.of)(!1)]},[b,yo,p])}collection(r,l){let p;p="string"==typeof r?this.firestore.collection(r):r;const{ref:b,query:I}=wf(p,l),N=this.schedulers.ngZone.run(()=>b);return new M_(N,I,this)}collectionGroup(r,l){const p=l||(I=>I),b=this.firestore.collectionGroup(r);return new Pv(p(b),this)}doc(r){let l;l="string"==typeof r?this.firestore.doc(r):r;const p=this.schedulers.ngZone.run(()=>l);return new R_(p,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(r){return new(r||s)(k.LFG(be.Dh),k.LFG(be.xv,8),k.LFG(Nv,8),k.LFG(k_,8),k.LFG(k.Lbi),k.LFG(k.R0b),k.LFG(Ie.HU),k.LFG(Fv,8),k.LFG(Lv,8),k.LFG(Ef.zQ,8),k.LFG(Ef.Qv,8),k.LFG(Ef.L6,8),k.LFG(Ef._Q,8),k.LFG(Ef.rT,8),k.LFG(Ef.lh,8),k.LFG(Ef.f7,8),k.LFG(Db.nm,8))},s.\u0275prov=k.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})()},8939:(ln,at,q)=>{"use strict";q.d(at,{hO:()=>be,xv:()=>Te,Dh:()=>Ce,GT:()=>Ie,cc:()=>Ke,on:()=>ue,pX:()=>Be});var k=q(3018),o=q(7841),te=q(5361);ln=q.hmd(ln);const Ue=["ngOnDestroy"],Be=(vt,Jt,Zt,St={})=>new Proxy(vt,{get:(Ct,Rt)=>Zt.runOutsideAngular(()=>{var Nt;if(vt[Rt])return(null===(Nt=null==St?void 0:St.spy)||void 0===Nt?void 0:Nt.get)&&St.spy.get(Rt,vt[Rt]),vt[Rt];if(Ue.indexOf(Rt)>-1)return()=>{};const ct=Jt.toPromise().then(lt=>{const Dt=lt&&lt[Rt];return"function"==typeof Dt?Dt.bind(lt):Dt&&Dt.then?Dt.then(Qe=>Zt.run(()=>Qe)):Zt.run(()=>Dt)});return new Proxy(()=>{},{get:(lt,Dt)=>ct[Dt],apply:(lt,Dt,Qe)=>ct.then(Je=>{var et;const yt=Je&&Je(...Qe);return(null===(et=null==St?void 0:St.spy)||void 0===et?void 0:et.apply)&&St.spy.apply(Rt,Qe,yt),yt})})})}),Ie=(vt,Jt)=>{Jt.forEach(Zt=>{Object.getOwnPropertyNames(Zt.prototype||Zt).forEach(St=>{Object.defineProperty(vt.prototype,St,Object.getOwnPropertyDescriptor(Zt.prototype||Zt,St))})})};class Ge{constructor(Jt){return Jt}}const Ce=new k.OlP("angularfire2.app.options"),Te=new k.OlP("angularfire2.app.name");function ue(vt,Jt,Zt){const Ct="object"==typeof Zt&&Zt||{};Ct.name=Ct.name||"string"==typeof Zt&&Zt||"[DEFAULT]";const Nt=o.Z.apps.filter(ct=>ct&&ct.name===Ct.name)[0]||Jt.runOutsideAngular(()=>o.Z.initializeApp(vt,Ct));try{JSON.stringify(vt)!==JSON.stringify(Nt.options)&&he("error",`${Nt.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ct){}return new Ge(Nt)}const he=(vt,...Jt)=>{(0,k.X6Q)()&&"undefined"!=typeof console&&console[vt](...Jt)},Ve={provide:Ge,useFactory:ue,deps:[Ce,k.R0b,[new k.FiY,Te]]};let be=(()=>{class vt{constructor(Zt){o.Z.registerVersion("angularfire",te.q4.full,"core"),o.Z.registerVersion("angularfire",te.q4.full,"app-compat"),o.Z.registerVersion("angular",k.q4F.full,Zt.toString())}static initializeApp(Zt,St){return{ngModule:vt,providers:[{provide:Ce,useValue:Zt},{provide:Te,useValue:St}]}}}return vt.\u0275fac=function(Zt){return new(Zt||vt)(k.LFG(k.Lbi))},vt.\u0275mod=k.oAB({type:vt}),vt.\u0275inj=k.cJS({providers:[Ve]}),vt})();function Ke(vt,Jt,Zt,St,Ct){const[,Rt,Nt]=globalThis.\u0275AngularfireInstanceCache.find(ct=>ct[0]===vt)||[];if(Rt)return function(vt,Jt){try{return vt.toString()===Jt.toString()}catch(Zt){return vt===Jt}}(Ct,Nt)||(ce("error",`${Jt} was already initialized on the ${Zt} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Ct,was:Nt})),Rt;{const ct=St();return globalThis.\u0275AngularfireInstanceCache.push([vt,ct,Ct]),ct}}const tt=!!ln.hot,ce=(vt,...Jt)=>{(0,k.X6Q)()&&"undefined"!=typeof console&&console[vt](...Jt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5361:(ln,at,q)=>{"use strict";q.d(at,{q4:()=>To,iC:()=>Z,fc:()=>G,HU:()=>_a,vb:()=>Eo,JM:()=>Is,nk:()=>Xo,u3:()=>wt});var k=q(3018),o=q(2329),te=q(8239),Ue=q(8026),Be=q(3854),Ie=q(3910),Ge=q(5422);q(3328);const Te="@firebase/remote-config",Ke=new Be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class En{constructor(ae,je,ot,jt){this.client=ae,this.storage=je,this.storageCache=ot,this.logger=jt}isCachedDataFresh(ae,je){if(!je)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ot=Date.now()-je,jt=ot<=ae;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ot}. Cache max age millis (minimumFetchIntervalMillis setting): ${ae}. Is cache hit: ${jt}.`),jt}fetch(ae){var je=this;return(0,te.Z)(function*(){const[ot,jt]=yield Promise.all([je.storage.getLastSuccessfulFetchTimestampMillis(),je.storage.getLastSuccessfulFetchResponse()]);if(jt&&je.isCachedDataFresh(ae.cacheMaxAgeMillis,ot))return jt;ae.eTag=jt&&jt.eTag;const Wt=yield je.client.fetch(ae),Sn=[je.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Wt.status&&Sn.push(je.storage.setLastSuccessfulFetchResponse(Wt)),yield Promise.all(Sn),Wt})()}}function Tn(ne=navigator){return ne.languages&&ne.languages[0]||ne.language}class sr{constructor(ae,je,ot,jt,Wt,Sn){this.firebaseInstallations=ae,this.sdkVersion=je,this.namespace=ot,this.projectId=jt,this.apiKey=Wt,this.appId=Sn}fetch(ae){var je=this;return(0,te.Z)(function*(){var ot,jt,Wt;const[Sn,On]=yield Promise.all([je.firebaseInstallations.getId(),je.firebaseInstallations.getToken()]),Si=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${je.projectId}/namespaces/${je.namespace}:fetch?key=${je.apiKey}`,gr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ae.eTag||"*"},Nn={sdk_version:je.sdkVersion,app_instance_id:Sn,app_instance_id_token:On,app_id:je.appId,language_code:Tn()},Hi={method:"POST",headers:gr,body:JSON.stringify(Nn)},Ds=fetch(Si,Hi),ps=new Promise((As,no)=>{ae.signal.addEventListener(()=>{const lo=new Error("The operation was aborted.");lo.name="AbortError",no(lo)})});let gs;try{yield Promise.race([Ds,ps]),gs=yield Ds}catch(As){let no="fetch-client-network";throw"AbortError"===(null===(ot=As)||void 0===ot?void 0:ot.name)&&(no="fetch-timeout"),Ke.create(no,{originalErrorMessage:null===(jt=As)||void 0===jt?void 0:jt.message})}let Do=gs.status;const cl=gs.headers.get("ETag")||void 0;let hr,Ki;if(200===gs.status){let As;try{As=yield gs.json()}catch(no){throw Ke.create("fetch-client-parse",{originalErrorMessage:null===(Wt=no)||void 0===Wt?void 0:Wt.message})}hr=As.entries,Ki=As.state}if("INSTANCE_STATE_UNSPECIFIED"===Ki?Do=500:"NO_CHANGE"===Ki?Do=304:("NO_TEMPLATE"===Ki||"EMPTY_CONFIG"===Ki)&&(hr={}),304!==Do&&200!==Do)throw Ke.create("fetch-status",{httpStatus:Do});return{status:Do,eTag:cl,config:hr}})()}}class Kr{constructor(ae,je){this.client=ae,this.storage=je}fetch(ae){var je=this;return(0,te.Z)(function*(){const ot=(yield je.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return je.attemptFetch(ae,ot)})()}attemptFetch(ae,{throttleEndTimeMillis:je,backoffCount:ot}){var jt=this;return(0,te.Z)(function*(){yield function(ne,ae){return new Promise((je,ot)=>{const jt=Math.max(ae-Date.now(),0),Wt=setTimeout(je,jt);ne.addEventListener(()=>{clearTimeout(Wt),ot(Ke.create("fetch-throttle",{throttleEndTimeMillis:ae}))})})}(ae.signal,je);try{const Wt=yield jt.client.fetch(ae);return yield jt.storage.deleteThrottleMetadata(),Wt}catch(Wt){if(!function(ne){if(!(ne instanceof Be.ZR&&ne.customData))return!1;const ae=Number(ne.customData.httpStatus);return 429===ae||500===ae||503===ae||504===ae}(Wt))throw Wt;const Sn={throttleEndTimeMillis:Date.now()+(0,Be.$s)(ot),backoffCount:ot+1};return yield jt.storage.setThrottleMetadata(Sn),jt.attemptFetch(ae,Sn)}})()}}class on{constructor(ae,je,ot,jt,Wt){this.app=ae,this._client=je,this._storageCache=ot,this._storage=jt,this._logger=Wt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yn(ne,ae){var je;const ot=ne.target.error||void 0;return Ke.create(ae,{originalErrorMessage:ot&&(null===(je=ot)||void 0===je?void 0:je.message)})}const mr="app_namespace_store";class Qn{constructor(ae,je,ot,jt=function(){return new Promise((ne,ae)=>{var je;try{const ot=indexedDB.open("firebase_remote_config",1);ot.onerror=jt=>{ae(yn(jt,"storage-open"))},ot.onsuccess=jt=>{ne(jt.target.result)},ot.onupgradeneeded=jt=>{0===jt.oldVersion&&jt.target.result.createObjectStore(mr,{keyPath:"compositeKey"})}}catch(ot){ae(Ke.create("storage-open",{originalErrorMessage:null===(je=ot)||void 0===je?void 0:je.message}))}})}()){this.appId=ae,this.appName=je,this.namespace=ot,this.openDbPromise=jt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ae){return this.set("last_fetch_status",ae)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ae){return this.set("last_successful_fetch_timestamp_millis",ae)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ae){return this.set("last_successful_fetch_response",ae)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ae){return this.set("active_config",ae)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ae){return this.set("active_config_etag",ae)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ae){return this.set("throttle_metadata",ae)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ae){var je=this;return(0,te.Z)(function*(){const ot=yield je.openDbPromise;return new Promise((jt,Wt)=>{var Sn;const ri=ot.transaction([mr],"readonly").objectStore(mr),Si=je.createCompositeKey(ae);try{const gr=ri.get(Si);gr.onerror=Nn=>{Wt(yn(Nn,"storage-get"))},gr.onsuccess=Nn=>{const Hi=Nn.target.result;jt(Hi?Hi.value:void 0)}}catch(gr){Wt(Ke.create("storage-get",{originalErrorMessage:null===(Sn=gr)||void 0===Sn?void 0:Sn.message}))}})})()}set(ae,je){var ot=this;return(0,te.Z)(function*(){const jt=yield ot.openDbPromise;return new Promise((Wt,Sn)=>{var On;const Si=jt.transaction([mr],"readwrite").objectStore(mr),gr=ot.createCompositeKey(ae);try{const Nn=Si.put({compositeKey:gr,value:je});Nn.onerror=Hi=>{Sn(yn(Hi,"storage-set"))},Nn.onsuccess=()=>{Wt()}}catch(Nn){Sn(Ke.create("storage-set",{originalErrorMessage:null===(On=Nn)||void 0===On?void 0:On.message}))}})})()}delete(ae){var je=this;return(0,te.Z)(function*(){const ot=yield je.openDbPromise;return new Promise((jt,Wt)=>{var Sn;const ri=ot.transaction([mr],"readwrite").objectStore(mr),Si=je.createCompositeKey(ae);try{const gr=ri.delete(Si);gr.onerror=Nn=>{Wt(yn(Nn,"storage-delete"))},gr.onsuccess=()=>{jt()}}catch(gr){Wt(Ke.create("storage-delete",{originalErrorMessage:null===(Sn=gr)||void 0===Sn?void 0:Sn.message}))}})})()}createCompositeKey(ae){return[this.appId,this.appName,this.namespace,ae].join()}}class yr{constructor(ae){this.storage=ae}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ae=this;return(0,te.Z)(function*(){const je=ae.storage.getLastFetchStatus(),ot=ae.storage.getLastSuccessfulFetchTimestampMillis(),jt=ae.storage.getActiveConfig(),Wt=yield je;Wt&&(ae.lastFetchStatus=Wt);const Sn=yield ot;Sn&&(ae.lastSuccessfulFetchTimestampMillis=Sn);const On=yield jt;On&&(ae.activeConfig=On)})()}setLastFetchStatus(ae){return this.lastFetchStatus=ae,this.storage.setLastFetchStatus(ae)}setLastSuccessfulFetchTimestampMillis(ae){return this.lastSuccessfulFetchTimestampMillis=ae,this.storage.setLastSuccessfulFetchTimestampMillis(ae)}setActiveConfig(ae){return this.activeConfig=ae,this.storage.setActiveConfig(ae)}}function _r(){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,te.Z)(function*(){if(!(0,Be.hl)())return!1;try{return yield(0,Be.eu)()}catch(ne){return!1}})).apply(this,arguments)}(0,Ue._registerComponent)(new Ie.wA("remote-config",function(ae,{instanceIdentifier:je}){const ot=ae.getProvider("app").getImmediate(),jt=ae.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ke.create("registration-window");if(!(0,Be.hl)())throw Ke.create("indexed-db-unavailable");const{projectId:Wt,apiKey:Sn,appId:On}=ot.options;if(!Wt)throw Ke.create("registration-project-id");if(!Sn)throw Ke.create("registration-api-key");if(!On)throw Ke.create("registration-app-id");const ri=new Qn(On,ot.name,je=je||"firebase"),Si=new yr(ri),gr=new Ge.Yd(Te);gr.logLevel=Ge.in.ERROR;const Nn=new sr(jt,Ue.SDK_VERSION,je,Wt,Sn,On),Hi=new Kr(Nn,ri),Ds=new En(Hi,ri,Si,gr),ps=new on(ot,Ds,Si,ri,gr);return function(ne){const ae=(0,Be.m9)(ne);ae._initializePromise||(ae._initializePromise=ae._storageCache.loadFromStorage().then(()=>{ae._isInitializationComplete=!0}))}(ps),ps},"PUBLIC").setMultipleInstances(!0)),(0,Ue.registerVersion)(Te,"0.3.11"),(0,Ue.registerVersion)(Te,"0.3.11","esm2017");var tr=q(5401);const Br="/firebase-messaging-sw.js",ti="/firebase-cloud-messaging-push-scope",hi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zr="google.c.a.c_id",oi="google.c.a.c_l",$r="google.c.a.ts",Tr="google.c.a.e";var rn=(()=>{return(ne=rn||(rn={})).PUSH_RECEIVED="push-received",ne.NOTIFICATION_CLICKED="notification-clicked",rn;var ne})();function fr(ne){const ae=new Uint8Array(ne);return btoa(String.fromCharCode(...ae)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xi(ne){const je=(ne+"=".repeat((4-ne.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ot=atob(je),jt=new Uint8Array(ot.length);for(let Wt=0;Wt<ot.length;++Wt)jt[Wt]=ot.charCodeAt(Wt);return jt}const yi="fcm_token_details_db",Rn="fcm_token_object_Store";function zr(ne){return lr.apply(this,arguments)}function lr(){return lr=(0,te.Z)(function*(ne){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Wt=>Wt.name).includes(yi))return null;let ae=null;return(yield(0,tr.X3)(yi,5,{upgrade:(ot=(0,te.Z)(function*(jt,Wt,Sn,On){var ri;if(Wt<2||!jt.objectStoreNames.contains(Rn))return;const Si=On.objectStore(Rn),gr=yield Si.index("fcmSenderId").get(ne);if(yield Si.clear(),gr)if(2===Wt){const Nn=gr;if(!Nn.auth||!Nn.p256dh||!Nn.endpoint)return;ae={token:Nn.fcmToken,createTime:null!==(ri=Nn.createTime)&&void 0!==ri?ri:Date.now(),subscriptionOptions:{auth:Nn.auth,p256dh:Nn.p256dh,endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:"string"==typeof Nn.vapidKey?Nn.vapidKey:fr(Nn.vapidKey)}}}else if(3===Wt){const Nn=gr;ae={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:fr(Nn.auth),p256dh:fr(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:fr(Nn.vapidKey)}}}else if(4===Wt){const Nn=gr;ae={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:fr(Nn.auth),p256dh:fr(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:fr(Nn.vapidKey)}}}}),function(Wt,Sn,On,ri){return ot.apply(this,arguments)})})).close(),yield(0,tr.Lj)(yi),yield(0,tr.Lj)("fcm_vapid_details_db"),yield(0,tr.Lj)("undefined"),_i(ae)?ae:null;var ot}),lr.apply(this,arguments)}function _i(ne){if(!ne||!ne.subscriptionOptions)return!1;const{subscriptionOptions:ae}=ne;return"number"==typeof ne.createTime&&ne.createTime>0&&"string"==typeof ne.token&&ne.token.length>0&&"string"==typeof ae.auth&&ae.auth.length>0&&"string"==typeof ae.p256dh&&ae.p256dh.length>0&&"string"==typeof ae.endpoint&&ae.endpoint.length>0&&"string"==typeof ae.swScope&&ae.swScope.length>0&&"string"==typeof ae.vapidKey&&ae.vapidKey.length>0}const Ee="firebase-messaging-store";let Fe=null;function De(){return Fe||(Fe=(0,tr.X3)("firebase-messaging-database",1,{upgrade:(ne,ae)=>{0===ae&&ne.createObjectStore(Ee)}})),Fe}function Ft(ne){return nn.apply(this,arguments)}function nn(){return(nn=(0,te.Z)(function*(ne){const ae=ve(ne),ot=yield(yield De()).transaction(Ee).objectStore(Ee).get(ae);if(ot)return ot;{const jt=yield zr(ne.appConfig.senderId);if(jt)return yield Vn(ne,jt),jt}})).apply(this,arguments)}function Vn(ne,ae){return Er.apply(this,arguments)}function Er(){return(Er=(0,te.Z)(function*(ne,ae){const je=ve(ne),jt=(yield De()).transaction(Ee,"readwrite");return yield jt.objectStore(Ee).put(ae,je),yield jt.done,ae})).apply(this,arguments)}function Zn(ne){return st.apply(this,arguments)}function st(){return(st=(0,te.Z)(function*(ne){const ae=ve(ne),ot=(yield De()).transaction(Ee,"readwrite");yield ot.objectStore(Ee).delete(ae),yield ot.done})).apply(this,arguments)}function ve({appConfig:ne}){return ne.appId}const ge=new Be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nt(ne,ae){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,te.Z)(function*(ne,ae){var je;const ot=yield Pr(ne),jt=or(ae),Wt={method:"POST",headers:ot,body:JSON.stringify(jt)};let Sn;try{Sn=yield(yield fetch(Ir(ne.appConfig),Wt)).json()}catch(On){throw ge.create("token-subscribe-failed",{errorInfo:null===(je=On)||void 0===je?void 0:je.toString()})}if(Sn.error)throw ge.create("token-subscribe-failed",{errorInfo:Sn.error.message});if(!Sn.token)throw ge.create("token-subscribe-no-token");return Sn.token})).apply(this,arguments)}function dn(ne,ae){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,te.Z)(function*(ne,ae){var je;const ot=yield Pr(ne),jt=or(ae.subscriptionOptions),Wt={method:"PATCH",headers:ot,body:JSON.stringify(jt)};let Sn;try{Sn=yield(yield fetch(`${Ir(ne.appConfig)}/${ae.token}`,Wt)).json()}catch(On){throw ge.create("token-update-failed",{errorInfo:null===(je=On)||void 0===je?void 0:je.toString()})}if(Sn.error)throw ge.create("token-update-failed",{errorInfo:Sn.error.message});if(!Sn.token)throw ge.create("token-update-no-token");return Sn.token})).apply(this,arguments)}function Pn(ne,ae){return kn.apply(this,arguments)}function kn(){return(kn=(0,te.Z)(function*(ne,ae){var je;const jt={method:"DELETE",headers:yield Pr(ne)};try{const Sn=yield(yield fetch(`${Ir(ne.appConfig)}/${ae}`,jt)).json();if(Sn.error)throw ge.create("token-unsubscribe-failed",{errorInfo:Sn.error.message})}catch(Wt){throw ge.create("token-unsubscribe-failed",{errorInfo:null===(je=Wt)||void 0===je?void 0:je.toString()})}})).apply(this,arguments)}function Ir({projectId:ne}){return`https://fcmregistrations.googleapis.com/v1/projects/${ne}/registrations`}function Pr(ne){return sn.apply(this,arguments)}function sn(){return(sn=(0,te.Z)(function*({appConfig:ne,installations:ae}){const je=yield ae.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ne.apiKey,"x-goog-firebase-installations-auth":`FIS ${je}`})})).apply(this,arguments)}function or({p256dh:ne,auth:ae,endpoint:je,vapidKey:ot}){const jt={web:{endpoint:je,auth:ae,p256dh:ne}};return ot!==hi&&(jt.web.applicationPubKey=ot),jt}const Ni=6048e5;function Fr(ne){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,te.Z)(function*(ne){const ae=yield qr(ne.swRegistration,ne.vapidKey),je={vapidKey:ne.vapidKey,swScope:ne.swRegistration.scope,endpoint:ae.endpoint,auth:fr(ae.getKey("auth")),p256dh:fr(ae.getKey("p256dh"))},ot=yield Ft(ne.firebaseDependencies);if(ot){if(Ye(ot.subscriptionOptions,je))return Date.now()>=ot.createTime+Ni?Ae(ne,{token:ot.token,createTime:Date.now(),subscriptionOptions:je}):ot.token;try{yield Pn(ne.firebaseDependencies,ot.token)}catch(jt){console.warn(jt)}return kt(ne.firebaseDependencies,je)}return kt(ne.firebaseDependencies,je)})).apply(this,arguments)}function Ls(ne){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,te.Z)(function*(ne){const ae=yield Ft(ne.firebaseDependencies);ae&&(yield Pn(ne.firebaseDependencies,ae.token),yield Zn(ne.firebaseDependencies));const je=yield ne.swRegistration.pushManager.getSubscription();return!je||je.unsubscribe()})).apply(this,arguments)}function Ae(ne,ae){return dt.apply(this,arguments)}function dt(){return(dt=(0,te.Z)(function*(ne,ae){try{const je=yield dn(ne.firebaseDependencies,ae),ot=Object.assign(Object.assign({},ae),{token:je,createTime:Date.now()});return yield Vn(ne.firebaseDependencies,ot),je}catch(je){throw yield Ls(ne),je}})).apply(this,arguments)}function kt(ne,ae){return In.apply(this,arguments)}function In(){return(In=(0,te.Z)(function*(ne,ae){const ot={token:yield nt(ne,ae),createTime:Date.now(),subscriptionOptions:ae};return yield Vn(ne,ot),ot.token})).apply(this,arguments)}function qr(ne,ae){return ur.apply(this,arguments)}function ur(){return(ur=(0,te.Z)(function*(ne,ae){return(yield ne.pushManager.getSubscription())||ne.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xi(ae)})})).apply(this,arguments)}function Ye(ne,ae){return ae.vapidKey===ne.vapidKey&&ae.endpoint===ne.endpoint&&ae.auth===ne.auth&&ae.p256dh===ne.p256dh}function ke(ne){const ae={from:ne.from,collapseKey:ne.collapse_key,messageId:ne.fcmMessageId};return function(ne,ae){if(!ae.notification)return;ne.notification={};const je=ae.notification.title;je&&(ne.notification.title=je);const ot=ae.notification.body;ot&&(ne.notification.body=ot);const jt=ae.notification.image;jt&&(ne.notification.image=jt)}(ae,ne),function(ne,ae){!ae.data||(ne.data=ae.data)}(ae,ne),function(ne,ae){var je,ot,jt,Wt,Sn;if(!ae.fcmOptions&&!(null===(je=ae.notification)||void 0===je?void 0:je.click_action))return;ne.fcmOptions={};const On=null!==(jt=null===(ot=ae.fcmOptions)||void 0===ot?void 0:ot.link)&&void 0!==jt?jt:null===(Wt=ae.notification)||void 0===Wt?void 0:Wt.click_action;On&&(ne.fcmOptions.link=On);const ri=null===(Sn=ae.fcmOptions)||void 0===Sn?void 0:Sn.analytics_label;ri&&(ne.fcmOptions.analyticsLabel=ri)}(ae,ne),ae}function Xn(ne){return"object"==typeof ne&&!!ne&&Zr in ne}function wr(ne,ae){const je=[];for(let ot=0;ot<ne.length;ot++)je.push(ne.charAt(ot)),ot<ae.length&&je.push(ae.charAt(ot));return je.join("")}function vi(ne){return ge.create("missing-app-config-values",{valueName:ne})}wr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Oi{constructor(ae,je,ot){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const jt=function(ne){if(!ne||!ne.options)throw vi("App Configuration Object");if(!ne.name)throw vi("App Name");const ae=["projectId","apiKey","appId","messagingSenderId"],{options:je}=ne;for(const ot of ae)if(!je[ot])throw vi(ot);return{appName:ne.name,projectId:je.projectId,apiKey:je.apiKey,appId:je.appId,senderId:je.messagingSenderId}}(ae);this.firebaseDependencies={app:ae,appConfig:jt,installations:je,analyticsProvider:ot}}_delete(){return Promise.resolve()}}function it(ne){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,te.Z)(function*(ne){var ae;try{ne.swRegistration=yield navigator.serviceWorker.register(Br,{scope:ti}),ne.swRegistration.update().catch(()=>{})}catch(je){throw ge.create("failed-service-worker-registration",{browserErrorMessage:null===(ae=je)||void 0===ae?void 0:ae.message})}})).apply(this,arguments)}function mt(ne,ae){return At.apply(this,arguments)}function At(){return(At=(0,te.Z)(function*(ne,ae){if(!ae&&!ne.swRegistration&&(yield it(ne)),ae||!ne.swRegistration){if(!(ae instanceof ServiceWorkerRegistration))throw ge.create("invalid-sw-registration");ne.swRegistration=ae}})).apply(this,arguments)}function an(ne,ae){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,te.Z)(function*(ne,ae){ae?ne.vapidKey=ae:ne.vapidKey||(ne.vapidKey=hi)})).apply(this,arguments)}function ui(){return(ui=(0,te.Z)(function*(ne,ae){if(!navigator)throw ge.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ge.create("permission-blocked");return yield an(ne,null==ae?void 0:ae.vapidKey),yield mt(ne,null==ae?void 0:ae.serviceWorkerRegistration),Fr(ne)})).apply(this,arguments)}function jr(ne,ae,je){return ci.apply(this,arguments)}function ci(){return(ci=(0,te.Z)(function*(ne,ae,je){const ot=Di(ae);(yield ne.firebaseDependencies.analyticsProvider.get()).logEvent(ot,{message_id:je[Zr],message_name:je[oi],message_time:je[$r],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Di(ne){switch(ne){case rn.NOTIFICATION_CLICKED:return"notification_open";case rn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fs(){return(fs=(0,te.Z)(function*(ne,ae){const je=ae.data;if(!je.isFirebaseMessaging)return;ne.onMessageHandler&&je.messageType===rn.PUSH_RECEIVED&&("function"==typeof ne.onMessageHandler?ne.onMessageHandler(ke(je)):ne.onMessageHandler.next(ke(je)));const ot=je.data;Xn(ot)&&"1"===ot[Tr]&&(yield jr(ne,je.messageType,ot))})).apply(this,arguments)}const Ai="@firebase/messaging";function Bi(){return zs.apply(this,arguments)}function zs(){return(zs=(0,te.Z)(function*(){try{yield(0,Be.eu)()}catch(ne){return!1}return"undefined"!=typeof window&&(0,Be.hl)()&&(0,Be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ue._registerComponent)(new Ie.wA("messaging",ne=>{const ae=new Oi(ne.getProvider("app").getImmediate(),ne.getProvider("installations-internal").getImmediate(),ne.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",je=>function(ne,ae){return fs.apply(this,arguments)}(ae,je)),ae},"PUBLIC")),(0,Ue._registerComponent)(new Ie.wA("messaging-internal",ne=>{const ae=ne.getProvider("messaging").getImmediate();return{getToken:ot=>function(ne,ae){return ui.apply(this,arguments)}(ae,ot)}},"PRIVATE")),(0,Ue.registerVersion)(Ai,"0.9.16"),(0,Ue.registerVersion)(Ai,"0.9.16","esm2017");var Wo=q(6917),ma=q(7771),ya=q(3637),ul=q(7574),Co=q(3342),Ks=q(309),vo=q(9673);const To=new k.GfV("7.4.1"),Ko="__angularfire_symbol__analyticsIsSupportedValue",So="__angularfire_symbol__analyticsIsSupported",La="__angularfire_symbol__remoteConfigIsSupportedValue",bo="__angularfire_symbol__remoteConfigIsSupported",Io="__angularfire_symbol__messagingIsSupportedValue",Yo="__angularfire_symbol__messagingIsSupported";globalThis[So]||(globalThis[So]=(0,Wo.Gb)().then(ne=>globalThis[Ko]=ne).catch(()=>globalThis[Ko]=!1)),globalThis[Yo]||(globalThis[Yo]=Bi().then(ne=>globalThis[Io]=ne).catch(()=>globalThis[Io]=!1)),globalThis[bo]||(globalThis[bo]=_r().then(ne=>globalThis[La]=ne).catch(()=>globalThis[La]=!1));const Xo={async:()=>globalThis[So],sync:()=>{const ne=globalThis[Ko];if(void 0===ne)throw new Error((ne=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${ne} in the constructor, first ensure that ${ne} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${ne})\`.`)("Analytics"));return ne}};function Is(ne,ae,je){if(ae){if(1===ae.length)return ae[0];const Wt=ae.filter(Sn=>Sn.app===je);if(1===Wt.length)return Wt[0]}return je.container.getProvider(ne).getImmediate({optional:!0})}const Eo=(ne,ae)=>{const je=ae?[ae]:(0,o.C6)(),ot=[];return je.forEach(jt=>{jt.container.getProvider(ne).instances.forEach(Sn=>{ot.includes(Sn)||ot.push(Sn)})}),ot};function ns(){}class Vs{constructor(ae,je=ma.N){this.zone=ae,this.delegate=je}now(){return this.delegate.now()}schedule(ae,je,ot){const jt=this.zone;return this.delegate.schedule(function(Sn){jt.runGuarded(()=>{ae.apply(this,[Sn])})},je,ot)}}class ao{constructor(ae){this.zone=ae,this.task=null}call(ae,je){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ns,{},ns,ns)),je.pipe((0,Co.b)({next:ot,complete:ot,error:ot})).subscribe(ae).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _a=(()=>{class ne{constructor(je){this.ngZone=je,this.outsideAngular=je.runOutsideAngular(()=>new Vs(Zone.current)),this.insideAngular=je.run(()=>new Vs(Zone.current,ya.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ne.\u0275fac=function(je){return new(je||ne)(k.LFG(k.R0b))},ne.\u0275prov=k.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();function Us(){const ne=globalThis.\u0275AngularFireScheduler;if(!ne)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ne}function ji(ne){return Us().ngZone.runOutsideAngular(()=>ne())}function to(ne){return Us().ngZone.run(()=>ne())}function G(ne){return ne.pipe((0,Ks.QV)(Us().outsideAngular))}function Z(ne){return Us(),function(ne){return function(je){return(je=je.lift(new ao(ne.ngZone))).pipe((0,vo.R)(ne.outsideAngular),(0,Ks.QV)(ne.insideAngular))}}(Us())(ne)}const $e=(ne,ae)=>function(){const ot=arguments;return ae&&setTimeout(()=>{"scheduled"===ae.state&&ae.invoke()},10),to(()=>ne.apply(void 0,ot))},wt=(ne,ae)=>function(){let je;const ot=arguments;for(let Wt=0;Wt<arguments.length;Wt++)"function"==typeof ot[Wt]&&(ae&&(je||(je=to(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ns,{},ns,ns)))),ot[Wt]=$e(ot[Wt],je));const jt=ji(()=>ne.apply(this,ot));if(!ae){if(jt instanceof ul.y){const Wt=Us();return jt.pipe((0,vo.R)(Wt.outsideAngular),(0,Ks.QV)(Wt.insideAngular))}return to(()=>jt)}return jt instanceof ul.y?jt.pipe(Z):jt instanceof Promise?to(()=>new Promise((Wt,Sn)=>jt.then(On=>to(()=>Wt(On)),On=>to(()=>Sn(On))))):"function"==typeof jt&&je?function(){return setTimeout(()=>{je&&"scheduled"===je.state&&je.invoke()},10),jt.apply(this,arguments)}:to(()=>jt)}},6237:(ln,at,q)=>{"use strict";q.d(at,{Qb:()=>lo,PW:()=>Vt});var k=q(3018),o=q(9075),te=q(7238);function Ue(){return"undefined"!=typeof window&&void 0!==window.document}function Be(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ie(X){switch(X.length){case 0:return new te.ZN;case 1:return X[0];default:return new te.ZE(X)}}function Ge(X,D,x,B,ee={},fe={}){const Ne=[],ze=[];let gt=-1,Pt=null;if(B.forEach(hn=>{const Dn=hn.offset,nr=Dn==gt,ii=nr&&Pt||{};Object.keys(hn).forEach(qn=>{let ar=qn,Hr=hn[qn];if("offset"!==qn)switch(ar=D.normalizePropertyName(ar,Ne),Hr){case te.k1:Hr=ee[qn];break;case te.l3:Hr=fe[qn];break;default:Hr=D.normalizeStyleValue(qn,ar,Hr,Ne)}ii[ar]=Hr}),nr||ze.push(ii),Pt=ii,gt=Dn}),Ne.length){const hn="\n - ";throw new Error(`Unable to animate due to the following errors:${hn}${Ne.join(hn)}`)}return ze}function Ce(X,D,x,B){switch(D){case"start":X.onStart(()=>B(x&&Te(x,"start",X)));break;case"done":X.onDone(()=>B(x&&Te(x,"done",X)));break;case"destroy":X.onDestroy(()=>B(x&&Te(x,"destroy",X)))}}function Te(X,D,x){const B=x.totalTime,fe=ue(X.element,X.triggerName,X.fromState,X.toState,D||X.phaseName,null==B?X.totalTime:B,!!x.disabled),Ne=X._data;return null!=Ne&&(fe._data=Ne),fe}function ue(X,D,x,B,ee="",fe=0,Ne){return{element:X,triggerName:D,fromState:x,toState:B,phaseName:ee,totalTime:fe,disabled:!!Ne}}function he(X,D,x){let B;return X instanceof Map?(B=X.get(D),B||X.set(D,B=x)):(B=X[D],B||(B=X[D]=x)),B}function Ve(X){const D=X.indexOf(":");return[X.substring(1,D),X.substr(D+1)]}let be=(X,D)=>!1,pt=(X,D)=>!1,ce=(X,D,x)=>[];const Jt=Be();(Jt||"undefined"!=typeof Element)&&(be=Ue()?(X,D)=>{for(;D&&D!==document.documentElement;){if(D===X)return!0;D=D.parentNode||D.host}return!1}:(X,D)=>X.contains(D),pt=(()=>{if(Jt||Element.prototype.matches)return(X,D)=>X.matches(D);{const X=Element.prototype,D=X.matchesSelector||X.mozMatchesSelector||X.msMatchesSelector||X.oMatchesSelector||X.webkitMatchesSelector;return D?(x,B)=>D.apply(x,[B]):pt}})(),ce=(X,D,x)=>{let B=[];if(x){const ee=X.querySelectorAll(D);for(let fe=0;fe<ee.length;fe++)B.push(ee[fe])}else{const ee=X.querySelector(D);ee&&B.push(ee)}return B});let St=null,Ct=!1;function Rt(X){St||(St=("undefined"!=typeof document?document.body:null)||{},Ct=!!St.style&&"WebkitAppearance"in St.style);let D=!0;return St.style&&!function(X){return"ebkit"==X.substring(1,6)}(X)&&(D=X in St.style,!D&&Ct&&(D="Webkit"+X.charAt(0).toUpperCase()+X.substr(1)in St.style)),D}const ct=pt,lt=be,Dt=ce;function Qe(X){const D={};return Object.keys(X).forEach(x=>{const B=x.replace(/([a-z])([A-Z])/g,"$1-$2");D[B]=X[x]}),D}let Je=(()=>{class X{validateStyleProperty(x){return Rt(x)}matchesElement(x,B){return ct(x,B)}containsElement(x,B){return lt(x,B)}query(x,B,ee){return Dt(x,B,ee)}computeStyle(x,B,ee){return ee||""}animate(x,B,ee,fe,Ne,ze=[],gt){return new te.ZN(ee,fe)}}return X.\u0275fac=function(x){return new(x||X)},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})(),et=(()=>{class X{}return X.NOOP=new Je,X})();const En="ng-enter",Tn="ng-leave",zn="ng-trigger",Kr=".ng-trigger",Nr="ng-animating",li=".ng-animating";function on(X){if("number"==typeof X)return X;const D=X.match(/^(-?[\.\d]+)(m?s)/);return!D||D.length<2?0:yn(parseFloat(D[1]),D[2])}function yn(X,D){return"s"===D?1e3*X:X}function mr(X,D,x){return X.hasOwnProperty("duration")?X:function(X,D,x){let ee,fe=0,Ne="";if("string"==typeof X){const ze=X.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ze)return D.push(`The provided timing value "${X}" is invalid.`),{duration:0,delay:0,easing:""};ee=yn(parseFloat(ze[1]),ze[2]);const gt=ze[3];null!=gt&&(fe=yn(parseFloat(gt),ze[4]));const Pt=ze[5];Pt&&(Ne=Pt)}else ee=X;if(!x){let ze=!1,gt=D.length;ee<0&&(D.push("Duration values below 0 are not allowed for this animation step."),ze=!0),fe<0&&(D.push("Delay values below 0 are not allowed for this animation step."),ze=!0),ze&&D.splice(gt,0,`The provided timing value "${X}" is invalid.`)}return{duration:ee,delay:fe,easing:Ne}}(X,D,x)}function Rr(X,D={}){return Object.keys(X).forEach(x=>{D[x]=X[x]}),D}function Qn(X,D,x={}){if(D)for(let B in X)x[B]=X[B];else Rr(X,x);return x}function yr(X,D,x){return x?D+":"+x+";":""}function vn(X){let D="";for(let x=0;x<X.style.length;x++){const B=X.style.item(x);D+=yr(0,B,X.style.getPropertyValue(B))}for(const x in X.style)X.style.hasOwnProperty(x)&&!x.startsWith("_")&&(D+=yr(0,oi(x),X.style[x]));X.setAttribute("style",D)}function dr(X,D,x){X.style&&(Object.keys(D).forEach(B=>{const ee=Zr(B);x&&!x.hasOwnProperty(B)&&(x[B]=X.style[ee]),X.style[ee]=D[B]}),Be()&&vn(X))}function kr(X,D){X.style&&(Object.keys(D).forEach(x=>{const B=Zr(x);X.style[B]=""}),Be()&&vn(X))}function _r(X){return Array.isArray(X)?1==X.length?X[0]:(0,te.vP)(X):X}const tr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Br(X){let D=[];if("string"==typeof X){let x;for(;x=tr.exec(X);)D.push(x[1]);tr.lastIndex=0}return D}function ti(X,D,x){const B=X.toString(),ee=B.replace(tr,(fe,Ne)=>{let ze=D[Ne];return D.hasOwnProperty(Ne)||(x.push(`Please provide a value for the animation param ${Ne}`),ze=""),ze.toString()});return ee==B?X:ee}function hi(X){const D=[];let x=X.next();for(;!x.done;)D.push(x.value),x=X.next();return D}const cn=/-+([a-z0-9])/g;function Zr(X){return X.replace(cn,(...D)=>D[1].toUpperCase())}function oi(X){return X.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $r(X,D){return 0===X||0===D}function Tr(X,D,x){const B=Object.keys(x);if(B.length&&D.length){let fe=D[0],Ne=[];if(B.forEach(ze=>{fe.hasOwnProperty(ze)||Ne.push(ze),fe[ze]=x[ze]}),Ne.length)for(var ee=1;ee<D.length;ee++){let ze=D[ee];Ne.forEach(function(gt){ze[gt]=rn(X,gt)})}}return D}function wn(X,D,x){switch(D.type){case 7:return X.visitTrigger(D,x);case 0:return X.visitState(D,x);case 1:return X.visitTransition(D,x);case 2:return X.visitSequence(D,x);case 3:return X.visitGroup(D,x);case 4:return X.visitAnimate(D,x);case 5:return X.visitKeyframes(D,x);case 6:return X.visitStyle(D,x);case 8:return X.visitReference(D,x);case 9:return X.visitAnimateChild(D,x);case 10:return X.visitAnimateRef(D,x);case 11:return X.visitQuery(D,x);case 12:return X.visitStagger(D,x);default:throw new Error(`Unable to resolve animation metadata node #${D.type}`)}}function rn(X,D){return window.getComputedStyle(X)[D]}function Xi(X,D){const x=[];return"string"==typeof X?X.split(/\s*,\s*/).forEach(B=>function(X,D,x){if(":"==X[0]){const gt=function(X,D){switch(X){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(x,B)=>parseFloat(B)>parseFloat(x);case":decrement":return(x,B)=>parseFloat(B)<parseFloat(x);default:return D.push(`The transition alias value "${X}" is not supported`),"* => *"}}(X,x);if("function"==typeof gt)return void D.push(gt);X=gt}const B=X.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return x.push(`The provided transition expression "${X}" is not supported`),D;const ee=B[1],fe=B[2],Ne=B[3];D.push(lr(ee,Ne));"<"==fe[0]&&!("*"==ee&&"*"==Ne)&&D.push(lr(Ne,ee))}(B,x,D)):x.push(X),x}const Rn=new Set(["true","1"]),zr=new Set(["false","0"]);function lr(X,D){const x=Rn.has(X)||zr.has(X),B=Rn.has(D)||zr.has(D);return(ee,fe)=>{let Ne="*"==X||X==ee,ze="*"==D||D==fe;return!Ne&&x&&"boolean"==typeof ee&&(Ne=ee?Rn.has(X):zr.has(X)),!ze&&B&&"boolean"==typeof fe&&(ze=fe?Rn.has(D):zr.has(D)),Ne&&ze}}const xe=new RegExp("s*:selfs*,?","g");function Le(X,D,x){return new Fe(X).build(D,x)}class Fe{constructor(D){this._driver=D}build(D,x){const B=new nn(x);return this._resetContextStyleTimingState(B),wn(this,_r(D),B)}_resetContextStyleTimingState(D){D.currentQuerySelector="",D.collectedStyles={},D.collectedStyles[""]={},D.currentTime=0}visitTrigger(D,x){let B=x.queryCount=0,ee=x.depCount=0;const fe=[],Ne=[];return"@"==D.name.charAt(0)&&x.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),D.definitions.forEach(ze=>{if(this._resetContextStyleTimingState(x),0==ze.type){const gt=ze,Pt=gt.name;Pt.toString().split(/\s*,\s*/).forEach(hn=>{gt.name=hn,fe.push(this.visitState(gt,x))}),gt.name=Pt}else if(1==ze.type){const gt=this.visitTransition(ze,x);B+=gt.queryCount,ee+=gt.depCount,Ne.push(gt)}else x.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:D.name,states:fe,transitions:Ne,queryCount:B,depCount:ee,options:null}}visitState(D,x){const B=this.visitStyle(D.styles,x),ee=D.options&&D.options.params||null;if(B.containsDynamicStyles){const fe=new Set,Ne=ee||{};if(B.styles.forEach(ze=>{if(Er(ze)){const gt=ze;Object.keys(gt).forEach(Pt=>{Br(gt[Pt]).forEach(hn=>{Ne.hasOwnProperty(hn)||fe.add(hn)})})}}),fe.size){const ze=hi(fe.values());x.errors.push(`state("${D.name}", ...) must define default values for all the following style substitutions: ${ze.join(", ")}`)}}return{type:0,name:D.name,style:B,options:ee?{params:ee}:null}}visitTransition(D,x){x.queryCount=0,x.depCount=0;const B=wn(this,_r(D.animation),x);return{type:1,matchers:Xi(D.expr,x.errors),animation:B,queryCount:x.queryCount,depCount:x.depCount,options:st(D.options)}}visitSequence(D,x){return{type:2,steps:D.steps.map(B=>wn(this,B,x)),options:st(D.options)}}visitGroup(D,x){const B=x.currentTime;let ee=0;const fe=D.steps.map(Ne=>{x.currentTime=B;const ze=wn(this,Ne,x);return ee=Math.max(ee,x.currentTime),ze});return x.currentTime=ee,{type:3,steps:fe,options:st(D.options)}}visitAnimate(D,x){const B=function(X,D){let x=null;if(X.hasOwnProperty("duration"))x=X;else if("number"==typeof X)return ve(mr(X,D).duration,0,"");const B=X;if(B.split(/\s+/).some(fe=>"{"==fe.charAt(0)&&"{"==fe.charAt(1))){const fe=ve(0,0,"");return fe.dynamic=!0,fe.strValue=B,fe}return x=x||mr(B,D),ve(x.duration,x.delay,x.easing)}(D.timings,x.errors);x.currentAnimateTimings=B;let ee,fe=D.styles?D.styles:(0,te.oB)({});if(5==fe.type)ee=this.visitKeyframes(fe,x);else{let Ne=D.styles,ze=!1;if(!Ne){ze=!0;const Pt={};B.easing&&(Pt.easing=B.easing),Ne=(0,te.oB)(Pt)}x.currentTime+=B.duration+B.delay;const gt=this.visitStyle(Ne,x);gt.isEmptyStep=ze,ee=gt}return x.currentAnimateTimings=null,{type:4,timings:B,style:ee,options:null}}visitStyle(D,x){const B=this._makeStyleAst(D,x);return this._validateStyleAst(B,x),B}_makeStyleAst(D,x){const B=[];Array.isArray(D.styles)?D.styles.forEach(Ne=>{"string"==typeof Ne?Ne==te.l3?B.push(Ne):x.errors.push(`The provided style string value ${Ne} is not allowed.`):B.push(Ne)}):B.push(D.styles);let ee=!1,fe=null;return B.forEach(Ne=>{if(Er(Ne)){const ze=Ne,gt=ze.easing;if(gt&&(fe=gt,delete ze.easing),!ee)for(let Pt in ze)if(ze[Pt].toString().indexOf("{{")>=0){ee=!0;break}}}),{type:6,styles:B,easing:fe,offset:D.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(D,x){const B=x.currentAnimateTimings;let ee=x.currentTime,fe=x.currentTime;B&&fe>0&&(fe-=B.duration+B.delay),D.styles.forEach(Ne=>{"string"!=typeof Ne&&Object.keys(Ne).forEach(ze=>{if(!this._driver.validateStyleProperty(ze))return void x.errors.push(`The provided animation property "${ze}" is not a supported CSS property for animations`);const gt=x.collectedStyles[x.currentQuerySelector],Pt=gt[ze];let hn=!0;Pt&&(fe!=ee&&fe>=Pt.startTime&&ee<=Pt.endTime&&(x.errors.push(`The CSS property "${ze}" that exists between the times of "${Pt.startTime}ms" and "${Pt.endTime}ms" is also being animated in a parallel animation between the times of "${fe}ms" and "${ee}ms"`),hn=!1),fe=Pt.startTime),hn&&(gt[ze]={startTime:fe,endTime:ee}),x.options&&function(X,D,x){const B=D.params||{},ee=Br(X);ee.length&&ee.forEach(fe=>{B.hasOwnProperty(fe)||x.push(`Unable to resolve the local animation param ${fe} in the given list of values`)})}(Ne[ze],x.options,x.errors)})})}visitKeyframes(D,x){const B={type:5,styles:[],options:null};if(!x.currentAnimateTimings)return x.errors.push("keyframes() must be placed inside of a call to animate()"),B;let fe=0;const Ne=[];let ze=!1,gt=!1,Pt=0;const hn=D.steps.map(Mi=>{const Ci=this._makeStyleAst(Mi,x);let Bs=null!=Ci.offset?Ci.offset:function(X){if("string"==typeof X)return null;let D=null;if(Array.isArray(X))X.forEach(x=>{if(Er(x)&&x.hasOwnProperty("offset")){const B=x;D=parseFloat(B.offset),delete B.offset}});else if(Er(X)&&X.hasOwnProperty("offset")){const x=X;D=parseFloat(x.offset),delete x.offset}return D}(Ci.styles),Sr=0;return null!=Bs&&(fe++,Sr=Ci.offset=Bs),gt=gt||Sr<0||Sr>1,ze=ze||Sr<Pt,Pt=Sr,Ne.push(Sr),Ci});gt&&x.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ze&&x.errors.push("Please ensure that all keyframe offsets are in order");const Dn=D.steps.length;let nr=0;fe>0&&fe<Dn?x.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==fe&&(nr=1/(Dn-1));const ii=Dn-1,qn=x.currentTime,ar=x.currentAnimateTimings,Hr=ar.duration;return hn.forEach((Mi,Ci)=>{const Bs=nr>0?Ci==ii?1:nr*Ci:Ne[Ci],Sr=Bs*Hr;x.currentTime=qn+ar.delay+Sr,ar.duration=Sr,this._validateStyleAst(Mi,x),Mi.offset=Bs,B.styles.push(Mi)}),B}visitReference(D,x){return{type:8,animation:wn(this,_r(D.animation),x),options:st(D.options)}}visitAnimateChild(D,x){return x.depCount++,{type:9,options:st(D.options)}}visitAnimateRef(D,x){return{type:10,animation:this.visitReference(D.animation,x),options:st(D.options)}}visitQuery(D,x){const B=x.currentQuerySelector,ee=D.options||{};x.queryCount++,x.currentQuery=D;const[fe,Ne]=function(X){const D=!!X.split(/\s*,\s*/).find(x=>":self"==x);return D&&(X=X.replace(xe,"")),X=X.replace(/@\*/g,Kr).replace(/@\w+/g,x=>Kr+"-"+x.substr(1)).replace(/:animating/g,li),[X,D]}(D.selector);x.currentQuerySelector=B.length?B+" "+fe:fe,he(x.collectedStyles,x.currentQuerySelector,{});const ze=wn(this,_r(D.animation),x);return x.currentQuery=null,x.currentQuerySelector=B,{type:11,selector:fe,limit:ee.limit||0,optional:!!ee.optional,includeSelf:Ne,animation:ze,originalSelector:D.selector,options:st(D.options)}}visitStagger(D,x){x.currentQuery||x.errors.push("stagger() can only be used inside of query()");const B="full"===D.timings?{duration:0,delay:0,easing:"full"}:mr(D.timings,x.errors,!0);return{type:12,animation:wn(this,_r(D.animation),x),timings:B,options:null}}}class nn{constructor(D){this.errors=D,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Er(X){return!Array.isArray(X)&&"object"==typeof X}function st(X){return X?(X=Rr(X)).params&&(X.params=function(X){return X?Rr(X):null}(X.params)):X={},X}function ve(X,D,x){return{duration:X,delay:D,easing:x}}function _e(X,D,x,B,ee,fe,Ne=null,ze=!1){return{type:1,element:X,keyframes:D,preStyleProps:x,postStyleProps:B,duration:ee,delay:fe,totalTime:ee+fe,easing:Ne,subTimeline:ze}}class ge{constructor(){this._map=new Map}consume(D){let x=this._map.get(D);return x?this._map.delete(D):x=[],x}append(D,x){let B=this._map.get(D);B||this._map.set(D,B=[]),B.push(...x)}has(D){return this._map.has(D)}clear(){this._map.clear()}}const dn=new RegExp(":enter","g"),Pn=new RegExp(":leave","g");function kn(X,D,x,B,ee,fe={},Ne={},ze,gt,Pt=[]){return(new Ir).buildKeyframes(X,D,x,B,ee,fe,Ne,ze,gt,Pt)}class Ir{buildKeyframes(D,x,B,ee,fe,Ne,ze,gt,Pt,hn=[]){Pt=Pt||new ge;const Dn=new sn(D,x,Pt,ee,fe,hn,[]);Dn.options=gt,Dn.currentTimeline.setStyles([Ne],null,Dn.errors,gt),wn(this,B,Dn);const nr=Dn.timelines.filter(ii=>ii.containsAnimation());if(nr.length&&Object.keys(ze).length){const ii=nr[nr.length-1];ii.allowOnlyTimelineStyles()||ii.setStyles([ze],null,Dn.errors,gt)}return nr.length?nr.map(ii=>ii.buildKeyframes()):[_e(x,[],[],[],0,0,"",!1)]}visitTrigger(D,x){}visitState(D,x){}visitTransition(D,x){}visitAnimateChild(D,x){const B=x.subInstructions.consume(x.element);if(B){const ee=x.createSubContext(D.options),fe=x.currentTimeline.currentTime,Ne=this._visitSubInstructions(B,ee,ee.options);fe!=Ne&&x.transformIntoNewTimeline(Ne)}x.previousNode=D}visitAnimateRef(D,x){const B=x.createSubContext(D.options);B.transformIntoNewTimeline(),this.visitReference(D.animation,B),x.transformIntoNewTimeline(B.currentTimeline.currentTime),x.previousNode=D}_visitSubInstructions(D,x,B){let fe=x.currentTimeline.currentTime;const Ne=null!=B.duration?on(B.duration):null,ze=null!=B.delay?on(B.delay):null;return 0!==Ne&&D.forEach(gt=>{const Pt=x.appendInstructionToTimeline(gt,Ne,ze);fe=Math.max(fe,Pt.duration+Pt.delay)}),fe}visitReference(D,x){x.updateOptions(D.options,!0),wn(this,D.animation,x),x.previousNode=D}visitSequence(D,x){const B=x.subContextCount;let ee=x;const fe=D.options;if(fe&&(fe.params||fe.delay)&&(ee=x.createSubContext(fe),ee.transformIntoNewTimeline(),null!=fe.delay)){6==ee.previousNode.type&&(ee.currentTimeline.snapshotCurrentStyles(),ee.previousNode=Pr);const Ne=on(fe.delay);ee.delayNextStep(Ne)}D.steps.length&&(D.steps.forEach(Ne=>wn(this,Ne,ee)),ee.currentTimeline.applyStylesToKeyframe(),ee.subContextCount>B&&ee.transformIntoNewTimeline()),x.previousNode=D}visitGroup(D,x){const B=[];let ee=x.currentTimeline.currentTime;const fe=D.options&&D.options.delay?on(D.options.delay):0;D.steps.forEach(Ne=>{const ze=x.createSubContext(D.options);fe&&ze.delayNextStep(fe),wn(this,Ne,ze),ee=Math.max(ee,ze.currentTimeline.currentTime),B.push(ze.currentTimeline)}),B.forEach(Ne=>x.currentTimeline.mergeTimelineCollectedStyles(Ne)),x.transformIntoNewTimeline(ee),x.previousNode=D}_visitTiming(D,x){if(D.dynamic){const B=D.strValue;return mr(x.params?ti(B,x.params,x.errors):B,x.errors)}return{duration:D.duration,delay:D.delay,easing:D.easing}}visitAnimate(D,x){const B=x.currentAnimateTimings=this._visitTiming(D.timings,x),ee=x.currentTimeline;B.delay&&(x.incrementTime(B.delay),ee.snapshotCurrentStyles());const fe=D.style;5==fe.type?this.visitKeyframes(fe,x):(x.incrementTime(B.duration),this.visitStyle(fe,x),ee.applyStylesToKeyframe()),x.currentAnimateTimings=null,x.previousNode=D}visitStyle(D,x){const B=x.currentTimeline,ee=x.currentAnimateTimings;!ee&&B.getCurrentStyleProperties().length&&B.forwardFrame();const fe=ee&&ee.easing||D.easing;D.isEmptyStep?B.applyEmptyStep(fe):B.setStyles(D.styles,fe,x.errors,x.options),x.previousNode=D}visitKeyframes(D,x){const B=x.currentAnimateTimings,ee=x.currentTimeline.duration,fe=B.duration,ze=x.createSubContext().currentTimeline;ze.easing=B.easing,D.styles.forEach(gt=>{ze.forwardTime((gt.offset||0)*fe),ze.setStyles(gt.styles,gt.easing,x.errors,x.options),ze.applyStylesToKeyframe()}),x.currentTimeline.mergeTimelineCollectedStyles(ze),x.transformIntoNewTimeline(ee+fe),x.previousNode=D}visitQuery(D,x){const B=x.currentTimeline.currentTime,ee=D.options||{},fe=ee.delay?on(ee.delay):0;fe&&(6===x.previousNode.type||0==B&&x.currentTimeline.getCurrentStyleProperties().length)&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Pr);let Ne=B;const ze=x.invokeQuery(D.selector,D.originalSelector,D.limit,D.includeSelf,!!ee.optional,x.errors);x.currentQueryTotal=ze.length;let gt=null;ze.forEach((Pt,hn)=>{x.currentQueryIndex=hn;const Dn=x.createSubContext(D.options,Pt);fe&&Dn.delayNextStep(fe),Pt===x.element&&(gt=Dn.currentTimeline),wn(this,D.animation,Dn),Dn.currentTimeline.applyStylesToKeyframe(),Ne=Math.max(Ne,Dn.currentTimeline.currentTime)}),x.currentQueryIndex=0,x.currentQueryTotal=0,x.transformIntoNewTimeline(Ne),gt&&(x.currentTimeline.mergeTimelineCollectedStyles(gt),x.currentTimeline.snapshotCurrentStyles()),x.previousNode=D}visitStagger(D,x){const B=x.parentContext,ee=x.currentTimeline,fe=D.timings,Ne=Math.abs(fe.duration),ze=Ne*(x.currentQueryTotal-1);let gt=Ne*x.currentQueryIndex;switch(fe.duration<0?"reverse":fe.easing){case"reverse":gt=ze-gt;break;case"full":gt=B.currentStaggerTime}const hn=x.currentTimeline;gt&&hn.delayNextStep(gt);const Dn=hn.currentTime;wn(this,D.animation,x),x.previousNode=D,B.currentStaggerTime=ee.currentTime-Dn+(ee.startTime-B.currentTimeline.startTime)}}const Pr={};class sn{constructor(D,x,B,ee,fe,Ne,ze,gt){this._driver=D,this.element=x,this.subInstructions=B,this._enterClassName=ee,this._leaveClassName=fe,this.errors=Ne,this.timelines=ze,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=gt||new or(this._driver,x,0),ze.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(D,x){if(!D)return;const B=D;let ee=this.options;null!=B.duration&&(ee.duration=on(B.duration)),null!=B.delay&&(ee.delay=on(B.delay));const fe=B.params;if(fe){let Ne=ee.params;Ne||(Ne=this.options.params={}),Object.keys(fe).forEach(ze=>{(!x||!Ne.hasOwnProperty(ze))&&(Ne[ze]=ti(fe[ze],Ne,this.errors))})}}_copyOptions(){const D={};if(this.options){const x=this.options.params;if(x){const B=D.params={};Object.keys(x).forEach(ee=>{B[ee]=x[ee]})}}return D}createSubContext(D=null,x,B){const ee=x||this.element,fe=new sn(this._driver,ee,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ee,B||0));return fe.previousNode=this.previousNode,fe.currentAnimateTimings=this.currentAnimateTimings,fe.options=this._copyOptions(),fe.updateOptions(D),fe.currentQueryIndex=this.currentQueryIndex,fe.currentQueryTotal=this.currentQueryTotal,fe.parentContext=this,this.subContextCount++,fe}transformIntoNewTimeline(D){return this.previousNode=Pr,this.currentTimeline=this.currentTimeline.fork(this.element,D),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(D,x,B){const ee={duration:null!=x?x:D.duration,delay:this.currentTimeline.currentTime+(null!=B?B:0)+D.delay,easing:""},fe=new Ni(this._driver,D.element,D.keyframes,D.preStyleProps,D.postStyleProps,ee,D.stretchStartingKeyframe);return this.timelines.push(fe),ee}incrementTime(D){this.currentTimeline.forwardTime(this.currentTimeline.duration+D)}delayNextStep(D){D>0&&this.currentTimeline.delayNextStep(D)}invokeQuery(D,x,B,ee,fe,Ne){let ze=[];if(ee&&ze.push(this.element),D.length>0){D=(D=D.replace(dn,"."+this._enterClassName)).replace(Pn,"."+this._leaveClassName);let Pt=this._driver.query(this.element,D,1!=B);0!==B&&(Pt=B<0?Pt.slice(Pt.length+B,Pt.length):Pt.slice(0,B)),ze.push(...Pt)}return!fe&&0==ze.length&&Ne.push(`\`query("${x}")\` returned zero elements. (Use \`query("${x}", { optional: true })\` if you wish to allow this.)`),ze}}class or{constructor(D,x,B,ee){this._driver=D,this.element=x,this.startTime=B,this._elementTimelineStylesLookup=ee,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(x),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(x,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(D){const x=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||x?(this.forwardTime(this.currentTime+D),x&&this.snapshotCurrentStyles()):this.startTime+=D}fork(D,x){return this.applyStylesToKeyframe(),new or(this._driver,D,x||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(D){this.applyStylesToKeyframe(),this.duration=D,this._loadKeyframe()}_updateStyle(D,x){this._localTimelineStyles[D]=x,this._globalTimelineStyles[D]=x,this._styleSummary[D]={time:this.currentTime,value:x}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(D){D&&(this._previousKeyframe.easing=D),Object.keys(this._globalTimelineStyles).forEach(x=>{this._backFill[x]=this._globalTimelineStyles[x]||te.l3,this._currentKeyframe[x]=te.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(D,x,B,ee){x&&(this._previousKeyframe.easing=x);const fe=ee&&ee.params||{},Ne=function(X,D){const x={};let B;return X.forEach(ee=>{"*"===ee?(B=B||Object.keys(D),B.forEach(fe=>{x[fe]=te.l3})):Qn(ee,!1,x)}),x}(D,this._globalTimelineStyles);Object.keys(Ne).forEach(ze=>{const gt=ti(Ne[ze],fe,B);this._pendingStyles[ze]=gt,this._localTimelineStyles.hasOwnProperty(ze)||(this._backFill[ze]=this._globalTimelineStyles.hasOwnProperty(ze)?this._globalTimelineStyles[ze]:te.l3),this._updateStyle(ze,gt)})}applyStylesToKeyframe(){const D=this._pendingStyles,x=Object.keys(D);0!=x.length&&(this._pendingStyles={},x.forEach(B=>{this._currentKeyframe[B]=D[B]}),Object.keys(this._localTimelineStyles).forEach(B=>{this._currentKeyframe.hasOwnProperty(B)||(this._currentKeyframe[B]=this._localTimelineStyles[B])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(D=>{const x=this._localTimelineStyles[D];this._pendingStyles[D]=x,this._updateStyle(D,x)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const D=[];for(let x in this._currentKeyframe)D.push(x);return D}mergeTimelineCollectedStyles(D){Object.keys(D._styleSummary).forEach(x=>{const B=this._styleSummary[x],ee=D._styleSummary[x];(!B||ee.time>B.time)&&this._updateStyle(x,ee.value)})}buildKeyframes(){this.applyStylesToKeyframe();const D=new Set,x=new Set,B=1===this._keyframes.size&&0===this.duration;let ee=[];this._keyframes.forEach((ze,gt)=>{const Pt=Qn(ze,!0);Object.keys(Pt).forEach(hn=>{const Dn=Pt[hn];Dn==te.k1?D.add(hn):Dn==te.l3&&x.add(hn)}),B||(Pt.offset=gt/this.duration),ee.push(Pt)});const fe=D.size?hi(D.values()):[],Ne=x.size?hi(x.values()):[];if(B){const ze=ee[0],gt=Rr(ze);ze.offset=0,gt.offset=1,ee=[ze,gt]}return _e(this.element,ee,fe,Ne,this.duration,this.startTime,this.easing,!1)}}class Ni extends or{constructor(D,x,B,ee,fe,Ne,ze=!1){super(D,x,Ne.delay),this.keyframes=B,this.preStyleProps=ee,this.postStyleProps=fe,this._stretchStartingKeyframe=ze,this.timings={duration:Ne.duration,delay:Ne.delay,easing:Ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let D=this.keyframes,{delay:x,duration:B,easing:ee}=this.timings;if(this._stretchStartingKeyframe&&x){const fe=[],Ne=B+x,ze=x/Ne,gt=Qn(D[0],!1);gt.offset=0,fe.push(gt);const Pt=Qn(D[0],!1);Pt.offset=Fr(ze),fe.push(Pt);const hn=D.length-1;for(let Dn=1;Dn<=hn;Dn++){let nr=Qn(D[Dn],!1);nr.offset=Fr((x+nr.offset*B)/Ne),fe.push(nr)}B=Ne,x=0,ee="",D=fe}return _e(this.element,D,this.preStyleProps,this.postStyleProps,B,x,ee,!0)}}function Fr(X,D=3){const x=Math.pow(10,D-1);return Math.round(X*x)/x}class Jn{}class dt extends Jn{normalizePropertyName(D,x){return Zr(D)}normalizeStyleValue(D,x,B,ee){let fe="";const Ne=B.toString().trim();if(In[x]&&0!==B&&"0"!==B)if("number"==typeof B)fe="px";else{const ze=B.match(/^[+-]?[\d\.]+([a-z]*)$/);ze&&0==ze[1].length&&ee.push(`Please provide a CSS unit value for ${D}:${B}`)}return Ne+fe}}const In=(()=>function(X){const D={};return X.forEach(x=>D[x]=!0),D}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ur(X,D,x,B,ee,fe,Ne,ze,gt,Pt,hn,Dn,nr){return{type:0,element:X,triggerName:D,isRemovalTransition:ee,fromState:x,fromStyles:fe,toState:B,toStyles:Ne,timelines:ze,queriedElements:gt,preStyleProps:Pt,postStyleProps:hn,totalTime:Dn,errors:nr}}const Ye={};class ke{constructor(D,x,B){this._triggerName=D,this.ast=x,this._stateStyles=B}match(D,x,B,ee){return function(X,D,x,B,ee){return X.some(fe=>fe(D,x,B,ee))}(this.ast.matchers,D,x,B,ee)}buildStyles(D,x,B){const ee=this._stateStyles["*"],fe=this._stateStyles[D],Ne=ee?ee.buildStyles(x,B):{};return fe?fe.buildStyles(x,B):Ne}build(D,x,B,ee,fe,Ne,ze,gt,Pt,hn){const Dn=[],nr=this.ast.options&&this.ast.options.params||Ye,qn=this.buildStyles(B,ze&&ze.params||Ye,Dn),ar=gt&&gt.params||Ye,Hr=this.buildStyles(ee,ar,Dn),Mi=new Set,Ci=new Map,Bs=new Map,Sr="void"===ee,xo={params:Object.assign(Object.assign({},nr),ar)},xs=hn?[]:kn(D,x,this.ast.animation,fe,Ne,qn,Hr,xo,Pt,Dn);let Yi=0;if(xs.forEach(Oo=>{Yi=Math.max(Oo.duration+Oo.delay,Yi)}),Dn.length)return ur(x,this._triggerName,B,ee,Sr,qn,Hr,[],[],Ci,Bs,Yi,Dn);xs.forEach(Oo=>{const js=Oo.element,va=he(Ci,js,{});Oo.preStyleProps.forEach(ea=>va[ea]=!0);const Qi=he(Bs,js,{});Oo.postStyleProps.forEach(ea=>Qi[ea]=!0),js!==x&&Mi.add(js)});const uo=hi(Mi.values());return ur(x,this._triggerName,B,ee,Sr,qn,Hr,xs,uo,Ci,Bs,Yi)}}class ut{constructor(D,x,B){this.styles=D,this.defaultParams=x,this.normalizer=B}buildStyles(D,x){const B={},ee=Rr(this.defaultParams);return Object.keys(D).forEach(fe=>{const Ne=D[fe];null!=Ne&&(ee[fe]=Ne)}),this.styles.styles.forEach(fe=>{if("string"!=typeof fe){const Ne=fe;Object.keys(Ne).forEach(ze=>{let gt=Ne[ze];gt.length>1&&(gt=ti(gt,ee,x));const Pt=this.normalizer.normalizePropertyName(ze,x);gt=this.normalizer.normalizeStyleValue(ze,Pt,gt,x),B[Pt]=gt})}}),B}}class Xn{constructor(D,x,B){this.name=D,this.ast=x,this._normalizer=B,this.transitionFactories=[],this.states={},x.states.forEach(ee=>{this.states[ee.name]=new ut(ee.style,ee.options&&ee.options.params||{},B)}),ni(this.states,"true","1"),ni(this.states,"false","0"),x.transitions.forEach(ee=>{this.transitionFactories.push(new ke(D,ee,this.states))}),this.fallbackTransition=function(X,D,x){return new ke(X,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ne,ze)=>!0],options:null,queryCount:0,depCount:0},D)}(D,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(D,x,B,ee){return this.transitionFactories.find(Ne=>Ne.match(D,x,B,ee))||null}matchStyles(D,x,B){return this.fallbackTransition.buildStyles(D,x,B)}}function ni(X,D,x){X.hasOwnProperty(D)?X.hasOwnProperty(x)||(X[x]=X[D]):X.hasOwnProperty(x)&&(X[D]=X[x])}const vi=new ge;class Oi{constructor(D,x,B){this.bodyNode=D,this._driver=x,this._normalizer=B,this._animations={},this._playersById={},this.players=[]}register(D,x){const B=[],ee=Le(this._driver,x,B);if(B.length)throw new Error(`Unable to build the animation due to the following errors: ${B.join("\n")}`);this._animations[D]=ee}_buildPlayer(D,x,B){const ee=D.element,fe=Ge(0,this._normalizer,0,D.keyframes,x,B);return this._driver.animate(ee,fe,D.duration,D.delay,D.easing,[],!0)}create(D,x,B={}){const ee=[],fe=this._animations[D];let Ne;const ze=new Map;if(fe?(Ne=kn(this._driver,x,fe,En,Tn,{},{},B,vi,ee),Ne.forEach(hn=>{const Dn=he(ze,hn.element,{});hn.postStyleProps.forEach(nr=>Dn[nr]=null)})):(ee.push("The requested animation doesn't exist or has already been destroyed"),Ne=[]),ee.length)throw new Error(`Unable to create the animation due to the following errors: ${ee.join("\n")}`);ze.forEach((hn,Dn)=>{Object.keys(hn).forEach(nr=>{hn[nr]=this._driver.computeStyle(Dn,nr,te.l3)})});const Pt=Ie(Ne.map(hn=>{const Dn=ze.get(hn.element);return this._buildPlayer(hn,{},Dn)}));return this._playersById[D]=Pt,Pt.onDestroy(()=>this.destroy(D)),this.players.push(Pt),Pt}destroy(D){const x=this._getPlayer(D);x.destroy(),delete this._playersById[D];const B=this.players.indexOf(x);B>=0&&this.players.splice(B,1)}_getPlayer(D){const x=this._playersById[D];if(!x)throw new Error(`Unable to find the timeline player referenced by ${D}`);return x}listen(D,x,B,ee){const fe=ue(x,"","","");return Ce(this._getPlayer(D),B,fe,ee),()=>{}}command(D,x,B,ee){if("register"==B)return void this.register(D,ee[0]);if("create"==B)return void this.create(D,x,ee[0]||{});const fe=this._getPlayer(D);switch(B){case"play":fe.play();break;case"pause":fe.pause();break;case"reset":fe.reset();break;case"restart":fe.restart();break;case"finish":fe.finish();break;case"init":fe.init();break;case"setPosition":fe.setPosition(parseFloat(ee[0]));break;case"destroy":this.destroy(D)}}}const it="ng-animate-queued",mt="ng-animate-disabled",At=".ng-animate-disabled",pr=[],ui={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ci="__ng_removed";class Di{constructor(D,x=""){this.namespaceId=x;const B=D&&D.hasOwnProperty("value");if(this.value=null!=(X=B?D.value:D)?X:null,B){const fe=Rr(D);delete fe.value,this.options=fe}else this.options={};var X;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(D){const x=D.params;if(x){const B=this.options.params;Object.keys(x).forEach(ee=>{null==B[ee]&&(B[ee]=x[ee])})}}}const fi="void",fs=new Di(fi);class Ai{constructor(D,x,B){this.id=D,this.hostElement=x,this._engine=B,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+D,Ss(x,this._hostClassName)}listen(D,x,B,ee){if(!this._triggers.hasOwnProperty(x))throw new Error(`Unable to listen on the animation trigger event "${B}" because the animation trigger "${x}" doesn't exist!`);if(null==B||0==B.length)throw new Error(`Unable to listen on the animation trigger "${x}" because the provided event is undefined!`);if("start"!=(X=B)&&"done"!=X)throw new Error(`The provided animation trigger event "${B}" for the animation trigger "${x}" is not supported!`);var X;const fe=he(this._elementListeners,D,[]),Ne={name:x,phase:B,callback:ee};fe.push(Ne);const ze=he(this._engine.statesByElement,D,{});return ze.hasOwnProperty(x)||(Ss(D,zn),Ss(D,zn+"-"+x),ze[x]=fs),()=>{this._engine.afterFlush(()=>{const gt=fe.indexOf(Ne);gt>=0&&fe.splice(gt,1),this._triggers[x]||delete ze[x]})}}register(D,x){return!this._triggers[D]&&(this._triggers[D]=x,!0)}_getTrigger(D){const x=this._triggers[D];if(!x)throw new Error(`The provided animation trigger "${D}" has not been registered!`);return x}trigger(D,x,B,ee=!0){const fe=this._getTrigger(x),Ne=new _o(this.id,x,D);let ze=this._engine.statesByElement.get(D);ze||(Ss(D,zn),Ss(D,zn+"-"+x),this._engine.statesByElement.set(D,ze={}));let gt=ze[x];const Pt=new Di(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&gt&&Pt.absorbOptions(gt.options),ze[x]=Pt,gt||(gt=fs),Pt.value!==fi&&gt.value===Pt.value){if(!function(X,D){const x=Object.keys(X),B=Object.keys(D);if(x.length!=B.length)return!1;for(let ee=0;ee<x.length;ee++){const fe=x[ee];if(!D.hasOwnProperty(fe)||X[fe]!==D[fe])return!1}return!0}(gt.params,Pt.params)){const ar=[],Hr=fe.matchStyles(gt.value,gt.params,ar),Mi=fe.matchStyles(Pt.value,Pt.params,ar);ar.length?this._engine.reportError(ar):this._engine.afterFlush(()=>{kr(D,Hr),dr(D,Mi)})}return}const nr=he(this._engine.playersByElement,D,[]);nr.forEach(ar=>{ar.namespaceId==this.id&&ar.triggerName==x&&ar.queued&&ar.destroy()});let ii=fe.matchTransition(gt.value,Pt.value,D,Pt.params),qn=!1;if(!ii){if(!ee)return;ii=fe.fallbackTransition,qn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:x,transition:ii,fromState:gt,toState:Pt,player:Ne,isFallbackTransition:qn}),qn||(Ss(D,it),Ne.onStart(()=>{eo(D,it)})),Ne.onDone(()=>{let ar=this.players.indexOf(Ne);ar>=0&&this.players.splice(ar,1);const Hr=this._engine.playersByElement.get(D);if(Hr){let Mi=Hr.indexOf(Ne);Mi>=0&&Hr.splice(Mi,1)}}),this.players.push(Ne),nr.push(Ne),Ne}deregister(D){delete this._triggers[D],this._engine.statesByElement.forEach((x,B)=>{delete x[D]}),this._elementListeners.forEach((x,B)=>{this._elementListeners.set(B,x.filter(ee=>ee.name!=D))})}clearElementCache(D){this._engine.statesByElement.delete(D),this._elementListeners.delete(D);const x=this._engine.playersByElement.get(D);x&&(x.forEach(B=>B.destroy()),this._engine.playersByElement.delete(D))}_signalRemovalForInnerTriggers(D,x){const B=this._engine.driver.query(D,Kr,!0);B.forEach(ee=>{if(ee[ci])return;const fe=this._engine.fetchNamespacesByElement(ee);fe.size?fe.forEach(Ne=>Ne.triggerLeaveAnimation(ee,x,!1,!0)):this.clearElementCache(ee)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(ee=>this.clearElementCache(ee)))}triggerLeaveAnimation(D,x,B,ee){const fe=this._engine.statesByElement.get(D);if(fe){const Ne=[];if(Object.keys(fe).forEach(ze=>{if(this._triggers[ze]){const gt=this.trigger(D,ze,fi,ee);gt&&Ne.push(gt)}}),Ne.length)return this._engine.markElementAsRemoved(this.id,D,!0,x),B&&Ie(Ne).onDone(()=>this._engine.processLeaveNode(D)),!0}return!1}prepareLeaveAnimationListeners(D){const x=this._elementListeners.get(D),B=this._engine.statesByElement.get(D);if(x&&B){const ee=new Set;x.forEach(fe=>{const Ne=fe.name;if(ee.has(Ne))return;ee.add(Ne);const gt=this._triggers[Ne].fallbackTransition,Pt=B[Ne]||fs,hn=new Di(fi),Dn=new _o(this.id,Ne,D);this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:Ne,transition:gt,fromState:Pt,toState:hn,player:Dn,isFallbackTransition:!0})})}}removeNode(D,x){const B=this._engine;if(D.childElementCount&&this._signalRemovalForInnerTriggers(D,x),this.triggerLeaveAnimation(D,x,!0))return;let ee=!1;if(B.totalAnimations){const fe=B.players.length?B.playersByQueriedElement.get(D):[];if(fe&&fe.length)ee=!0;else{let Ne=D;for(;Ne=Ne.parentNode;)if(B.statesByElement.get(Ne)){ee=!0;break}}}if(this.prepareLeaveAnimationListeners(D),ee)B.markElementAsRemoved(this.id,D,!1,x);else{const fe=D[ci];(!fe||fe===ui)&&(B.afterFlush(()=>this.clearElementCache(D)),B.destroyInnerAnimations(D),B._onRemovalComplete(D,x))}}insertNode(D,x){Ss(D,this._hostClassName)}drainQueuedTransitions(D){const x=[];return this._queue.forEach(B=>{const ee=B.player;if(ee.destroyed)return;const fe=B.element,Ne=this._elementListeners.get(fe);Ne&&Ne.forEach(ze=>{if(ze.name==B.triggerName){const gt=ue(fe,B.triggerName,B.fromState.value,B.toState.value);gt._data=D,Ce(B.player,ze.phase,gt,ze.callback)}}),ee.markedForDestroy?this._engine.afterFlush(()=>{ee.destroy()}):x.push(B)}),this._queue=[],x.sort((B,ee)=>{const fe=B.transition.ast.depCount,Ne=ee.transition.ast.depCount;return 0==fe||0==Ne?fe-Ne:this._engine.driver.containsElement(B.element,ee.element)?1:-1})}destroy(D){this.players.forEach(x=>x.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,D)}elementContainsData(D){let x=!1;return this._elementListeners.has(D)&&(x=!0),x=!!this._queue.find(B=>B.element===D)||x,x}}class Gr{constructor(D,x,B){this.bodyNode=D,this.driver=x,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ee,fe)=>{}}_onRemovalComplete(D,x){this.onRemovalComplete(D,x)}get queuedPlayers(){const D=[];return this._namespaceList.forEach(x=>{x.players.forEach(B=>{B.queued&&D.push(B)})}),D}createNamespace(D,x){const B=new Ai(D,x,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,x)?this._balanceNamespaceList(B,x):(this.newHostElements.set(x,B),this.collectEnterElement(x)),this._namespaceLookup[D]=B}_balanceNamespaceList(D,x){const B=this._namespaceList.length-1;if(B>=0){let ee=!1;for(let fe=B;fe>=0;fe--)if(this.driver.containsElement(this._namespaceList[fe].hostElement,x)){this._namespaceList.splice(fe+1,0,D),ee=!0;break}ee||this._namespaceList.splice(0,0,D)}else this._namespaceList.push(D);return this.namespacesByHostElement.set(x,D),D}register(D,x){let B=this._namespaceLookup[D];return B||(B=this.createNamespace(D,x)),B}registerTrigger(D,x,B){let ee=this._namespaceLookup[D];ee&&ee.register(x,B)&&this.totalAnimations++}destroy(D,x){if(!D)return;const B=this._fetchNamespace(D);this.afterFlush(()=>{this.namespacesByHostElement.delete(B.hostElement),delete this._namespaceLookup[D];const ee=this._namespaceList.indexOf(B);ee>=0&&this._namespaceList.splice(ee,1)}),this.afterFlushAnimationsDone(()=>B.destroy(x))}_fetchNamespace(D){return this._namespaceLookup[D]}fetchNamespacesByElement(D){const x=new Set,B=this.statesByElement.get(D);if(B){const ee=Object.keys(B);for(let fe=0;fe<ee.length;fe++){const Ne=B[ee[fe]].namespaceId;if(Ne){const ze=this._fetchNamespace(Ne);ze&&x.add(ze)}}}return x}trigger(D,x,B,ee){if(Bi(x)){const fe=this._fetchNamespace(D);if(fe)return fe.trigger(x,B,ee),!0}return!1}insertNode(D,x,B,ee){if(!Bi(x))return;const fe=x[ci];if(fe&&fe.setForRemoval){fe.setForRemoval=!1,fe.setForMove=!0;const Ne=this.collectedLeaveElements.indexOf(x);Ne>=0&&this.collectedLeaveElements.splice(Ne,1)}if(D){const Ne=this._fetchNamespace(D);Ne&&Ne.insertNode(x,B)}ee&&this.collectEnterElement(x)}collectEnterElement(D){this.collectedEnterElements.push(D)}markElementAsDisabled(D,x){x?this.disabledNodes.has(D)||(this.disabledNodes.add(D),Ss(D,mt)):this.disabledNodes.has(D)&&(this.disabledNodes.delete(D),eo(D,mt))}removeNode(D,x,B,ee){if(Bi(x)){const fe=D?this._fetchNamespace(D):null;if(fe?fe.removeNode(x,ee):this.markElementAsRemoved(D,x,!1,ee),B){const Ne=this.namespacesByHostElement.get(x);Ne&&Ne.id!==D&&Ne.removeNode(x,ee)}}else this._onRemovalComplete(x,ee)}markElementAsRemoved(D,x,B,ee){this.collectedLeaveElements.push(x),x[ci]={namespaceId:D,setForRemoval:ee,hasAnimation:B,removedBeforeQueried:!1}}listen(D,x,B,ee,fe){return Bi(x)?this._fetchNamespace(D).listen(x,B,ee,fe):()=>{}}_buildInstruction(D,x,B,ee,fe){return D.transition.build(this.driver,D.element,D.fromState.value,D.toState.value,B,ee,D.fromState.options,D.toState.options,x,fe)}destroyInnerAnimations(D){let x=this.driver.query(D,Kr,!0);x.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(x=this.driver.query(D,li,!0),x.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(D){const x=this.playersByElement.get(D);x&&x.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(D){const x=this.playersByQueriedElement.get(D);x&&x.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(D=>{if(this.players.length)return Ie(this.players).onDone(()=>D());D()})}processLeaveNode(D){const x=D[ci];if(x&&x.setForRemoval){if(D[ci]=ui,x.namespaceId){this.destroyInnerAnimations(D);const B=this._fetchNamespace(x.namespaceId);B&&B.clearElementCache(D)}this._onRemovalComplete(D,x.setForRemoval)}this.driver.matchesElement(D,At)&&this.markElementAsDisabled(D,!1),this.driver.query(D,At,!0).forEach(B=>{this.markElementAsDisabled(B,!1)})}flush(D=-1){let x=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,ee)=>this._balanceNamespaceList(B,ee)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)Ss(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{x=this._flushAnimations(B,D)}finally{for(let ee=0;ee<B.length;ee++)B[ee]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],x.length?Ie(x).onDone(()=>{B.forEach(ee=>ee())}):B.forEach(ee=>ee())}}reportError(D){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${D.join("\n")}`)}_flushAnimations(D,x){const B=new ge,ee=[],fe=new Map,Ne=[],ze=new Map,gt=new Map,Pt=new Map,hn=new Set;this.disabledNodes.forEach(Gn=>{hn.add(Gn);const rr=this.driver.query(Gn,".ng-animate-queued",!0);for(let ir=0;ir<rr.length;ir++)hn.add(rr[ir])});const Dn=this.bodyNode,nr=Array.from(this.statesByElement.keys()),ii=Na(nr,this.collectedEnterElements),qn=new Map;let ar=0;ii.forEach((Gn,rr)=>{const ir=En+ar++;qn.set(rr,ir),Gn.forEach(Vr=>Ss(Vr,ir))});const Hr=[],Mi=new Set,Ci=new Set;for(let Gn=0;Gn<this.collectedLeaveElements.length;Gn++){const rr=this.collectedLeaveElements[Gn],ir=rr[ci];ir&&ir.setForRemoval&&(Hr.push(rr),Mi.add(rr),ir.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(Vr=>Mi.add(Vr)):Ci.add(rr))}const Bs=new Map,Sr=Na(nr,Array.from(Mi));Sr.forEach((Gn,rr)=>{const ir=Tn+ar++;Bs.set(rr,ir),Gn.forEach(Vr=>Ss(Vr,ir))}),D.push(()=>{ii.forEach((Gn,rr)=>{const ir=qn.get(rr);Gn.forEach(Vr=>eo(Vr,ir))}),Sr.forEach((Gn,rr)=>{const ir=Bs.get(rr);Gn.forEach(Vr=>eo(Vr,ir))}),Hr.forEach(Gn=>{this.processLeaveNode(Gn)})});const xo=[],xs=[];for(let Gn=this._namespaceList.length-1;Gn>=0;Gn--)this._namespaceList[Gn].drainQueuedTransitions(x).forEach(ir=>{const Vr=ir.player,Bn=ir.element;if(xo.push(Vr),this.collectedEnterElements.length){const Ys=Bn[ci];if(Ys&&Ys.setForMove)return void Vr.destroy()}const ms=!Dn||!this.driver.containsElement(Dn,Bn),Ri=Bs.get(Bn),$i=qn.get(Bn),ki=this._buildInstruction(ir,B,$i,Ri,ms);if(ki.errors&&ki.errors.length)xs.push(ki);else{if(ms)return Vr.onStart(()=>kr(Bn,ki.fromStyles)),Vr.onDestroy(()=>dr(Bn,ki.toStyles)),void ee.push(Vr);if(ir.isFallbackTransition)return Vr.onStart(()=>kr(Bn,ki.fromStyles)),Vr.onDestroy(()=>dr(Bn,ki.toStyles)),void ee.push(Vr);ki.timelines.forEach(Ys=>Ys.stretchStartingKeyframe=!0),B.append(Bn,ki.timelines),Ne.push({instruction:ki,player:Vr,element:Bn}),ki.queriedElements.forEach(Ys=>he(ze,Ys,[]).push(Vr)),ki.preStyleProps.forEach((Ys,Lo)=>{const co=Object.keys(Ys);if(co.length){let ys=gt.get(Lo);ys||gt.set(Lo,ys=new Set),co.forEach(Wa=>ys.add(Wa))}}),ki.postStyleProps.forEach((Ys,Lo)=>{const co=Object.keys(Ys);let ys=Pt.get(Lo);ys||Pt.set(Lo,ys=new Set),co.forEach(Wa=>ys.add(Wa))})}});if(xs.length){const Gn=[];xs.forEach(rr=>{Gn.push(`@${rr.triggerName} has failed due to:\n`),rr.errors.forEach(ir=>Gn.push(`- ${ir}\n`))}),xo.forEach(rr=>rr.destroy()),this.reportError(Gn)}const Yi=new Map,uo=new Map;Ne.forEach(Gn=>{const rr=Gn.element;B.has(rr)&&(uo.set(rr,rr),this._beforeAnimationBuild(Gn.player.namespaceId,Gn.instruction,Yi))}),ee.forEach(Gn=>{const rr=Gn.element;this._getPreviousPlayers(rr,!1,Gn.namespaceId,Gn.triggerName,null).forEach(Vr=>{he(Yi,rr,[]).push(Vr),Vr.destroy()})});const Oo=Hr.filter(Gn=>ul(Gn,gt,Pt)),js=new Map;Ws(js,this.driver,Ci,Pt,te.l3).forEach(Gn=>{ul(Gn,gt,Pt)&&Oo.push(Gn)});const Qi=new Map;ii.forEach((Gn,rr)=>{Ws(Qi,this.driver,new Set(Gn),gt,te.k1)}),Oo.forEach(Gn=>{const rr=js.get(Gn),ir=Qi.get(Gn);js.set(Gn,Object.assign(Object.assign({},rr),ir))});const ea=[],Al=[],ta={};Ne.forEach(Gn=>{const{element:rr,player:ir,instruction:Vr}=Gn;if(B.has(rr)){if(hn.has(rr))return ir.onDestroy(()=>dr(rr,Vr.toStyles)),ir.disabled=!0,ir.overrideTotalTime(Vr.totalTime),void ee.push(ir);let Bn=ta;if(uo.size>1){let Ri=rr;const $i=[];for(;Ri=Ri.parentNode;){const ki=uo.get(Ri);if(ki){Bn=ki;break}$i.push(Ri)}$i.forEach(ki=>uo.set(ki,Bn))}const ms=this._buildAnimation(ir.namespaceId,Vr,Yi,fe,Qi,js);if(ir.setRealPlayer(ms),Bn===ta)ea.push(ir);else{const Ri=this.playersByElement.get(Bn);Ri&&Ri.length&&(ir.parentPlayer=Ie(Ri)),ee.push(ir)}}else kr(rr,Vr.fromStyles),ir.onDestroy(()=>dr(rr,Vr.toStyles)),Al.push(ir),hn.has(rr)&&ee.push(ir)}),Al.forEach(Gn=>{const rr=fe.get(Gn.element);if(rr&&rr.length){const ir=Ie(rr);Gn.setRealPlayer(ir)}}),ee.forEach(Gn=>{Gn.parentPlayer?Gn.syncPlayerEvents(Gn.parentPlayer):Gn.destroy()});for(let Gn=0;Gn<Hr.length;Gn++){const rr=Hr[Gn],ir=rr[ci];if(eo(rr,Tn),ir&&ir.hasAnimation)continue;let Vr=[];if(ze.size){let ms=ze.get(rr);ms&&ms.length&&Vr.push(...ms);let Ri=this.driver.query(rr,li,!0);for(let $i=0;$i<Ri.length;$i++){let ki=ze.get(Ri[$i]);ki&&ki.length&&Vr.push(...ki)}}const Bn=Vr.filter(ms=>!ms.destroyed);Bn.length?oo(this,rr,Bn):this.processLeaveNode(rr)}return Hr.length=0,ea.forEach(Gn=>{this.players.push(Gn),Gn.onDone(()=>{Gn.destroy();const rr=this.players.indexOf(Gn);this.players.splice(rr,1)}),Gn.play()}),ea}elementContainsData(D,x){let B=!1;const ee=x[ci];return ee&&ee.setForRemoval&&(B=!0),this.playersByElement.has(x)&&(B=!0),this.playersByQueriedElement.has(x)&&(B=!0),this.statesByElement.has(x)&&(B=!0),this._fetchNamespace(D).elementContainsData(x)||B}afterFlush(D){this._flushFns.push(D)}afterFlushAnimationsDone(D){this._whenQuietFns.push(D)}_getPreviousPlayers(D,x,B,ee,fe){let Ne=[];if(x){const ze=this.playersByQueriedElement.get(D);ze&&(Ne=ze)}else{const ze=this.playersByElement.get(D);if(ze){const gt=!fe||fe==fi;ze.forEach(Pt=>{Pt.queued||!gt&&Pt.triggerName!=ee||Ne.push(Pt)})}}return(B||ee)&&(Ne=Ne.filter(ze=>!(B&&B!=ze.namespaceId||ee&&ee!=ze.triggerName))),Ne}_beforeAnimationBuild(D,x,B){const fe=x.element,Ne=x.isRemovalTransition?void 0:D,ze=x.isRemovalTransition?void 0:x.triggerName;for(const gt of x.timelines){const Pt=gt.element,hn=Pt!==fe,Dn=he(B,Pt,[]);this._getPreviousPlayers(Pt,hn,Ne,ze,x.toState).forEach(ii=>{const qn=ii.getRealPlayer();qn.beforeDestroy&&qn.beforeDestroy(),ii.destroy(),Dn.push(ii)})}kr(fe,x.fromStyles)}_buildAnimation(D,x,B,ee,fe,Ne){const ze=x.triggerName,gt=x.element,Pt=[],hn=new Set,Dn=new Set,nr=x.timelines.map(qn=>{const ar=qn.element;hn.add(ar);const Hr=ar[ci];if(Hr&&Hr.removedBeforeQueried)return new te.ZN(qn.duration,qn.delay);const Mi=ar!==gt,Ci=function(X){const D=[];return ma(X,D),D}((B.get(ar)||pr).map(Yi=>Yi.getRealPlayer())).filter(Yi=>!!Yi.element&&Yi.element===ar),Bs=fe.get(ar),Sr=Ne.get(ar),xo=Ge(0,this._normalizer,0,qn.keyframes,Bs,Sr),xs=this._buildPlayer(qn,xo,Ci);if(qn.subTimeline&&ee&&Dn.add(ar),Mi){const Yi=new _o(D,ze,ar);Yi.setRealPlayer(xs),Pt.push(Yi)}return xs});Pt.forEach(qn=>{he(this.playersByQueriedElement,qn.element,[]).push(qn),qn.onDone(()=>function(X,D,x){let B;if(X instanceof Map){if(B=X.get(D),B){if(B.length){const ee=B.indexOf(x);B.splice(ee,1)}0==B.length&&X.delete(D)}}else if(B=X[D],B){if(B.length){const ee=B.indexOf(x);B.splice(ee,1)}0==B.length&&delete X[D]}return B}(this.playersByQueriedElement,qn.element,qn))}),hn.forEach(qn=>Ss(qn,Nr));const ii=Ie(nr);return ii.onDestroy(()=>{hn.forEach(qn=>eo(qn,Nr)),dr(gt,x.toStyles)}),Dn.forEach(qn=>{he(ee,qn,[]).push(ii)}),ii}_buildPlayer(D,x,B){return x.length>0?this.driver.animate(D.element,x,D.duration,D.delay,D.easing,B):new te.ZN(D.duration,D.delay)}}class _o{constructor(D,x,B){this.namespaceId=D,this.triggerName=x,this.element=B,this._player=new te.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(D){this._containsRealPlayer||(this._player=D,Object.keys(this._queuedCallbacks).forEach(x=>{this._queuedCallbacks[x].forEach(B=>Ce(D,x,void 0,B))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(D.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(D){this.totalTime=D}syncPlayerEvents(D){const x=this._player;x.triggerCallback&&D.onStart(()=>x.triggerCallback("start")),D.onDone(()=>this.finish()),D.onDestroy(()=>this.destroy())}_queueEvent(D,x){he(this._queuedCallbacks,D,[]).push(x)}onDone(D){this.queued&&this._queueEvent("done",D),this._player.onDone(D)}onStart(D){this.queued&&this._queueEvent("start",D),this._player.onStart(D)}onDestroy(D){this.queued&&this._queueEvent("destroy",D),this._player.onDestroy(D)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(D){this.queued||this._player.setPosition(D)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(D){const x=this._player;x.triggerCallback&&x.triggerCallback(D)}}function Bi(X){return X&&1===X.nodeType}function Dl(X,D){const x=X.style.display;return X.style.display=null!=D?D:"none",x}function Ws(X,D,x,B,ee){const fe=[];x.forEach(gt=>fe.push(Dl(gt)));const Ne=[];B.forEach((gt,Pt)=>{const hn={};gt.forEach(Dn=>{const nr=hn[Dn]=D.computeStyle(Pt,Dn,ee);(!nr||0==nr.length)&&(Pt[ci]=jr,Ne.push(Pt))}),X.set(Pt,hn)});let ze=0;return x.forEach(gt=>Dl(gt,fe[ze++])),Ne}function Na(X,D){const x=new Map;if(X.forEach(ze=>x.set(ze,[])),0==D.length)return x;const ee=new Set(D),fe=new Map;function Ne(ze){if(!ze)return 1;let gt=fe.get(ze);if(gt)return gt;const Pt=ze.parentNode;return gt=x.has(Pt)?Pt:ee.has(Pt)?1:Ne(Pt),fe.set(ze,gt),gt}return D.forEach(ze=>{const gt=Ne(ze);1!==gt&&x.get(gt).push(ze)}),x}const Fa="$$classes";function Ss(X,D){if(X.classList)X.classList.add(D);else{let x=X[Fa];x||(x=X[Fa]={}),x[D]=!0}}function eo(X,D){if(X.classList)X.classList.remove(D);else{let x=X[Fa];x&&delete x[D]}}function oo(X,D,x){Ie(x).onDone(()=>X.processLeaveNode(D))}function ma(X,D){for(let x=0;x<X.length;x++){const B=X[x];B instanceof te.ZE?ma(B.players,D):D.push(B)}}function ul(X,D,x){const B=x.get(X);if(!B)return!1;let ee=D.get(X);return ee?B.forEach(fe=>ee.add(fe)):D.set(X,B),x.delete(X),!0}class Co{constructor(D,x,B){this.bodyNode=D,this._driver=x,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(ee,fe)=>{},this._transitionEngine=new Gr(D,x,B),this._timelineEngine=new Oi(D,x,B),this._transitionEngine.onRemovalComplete=(ee,fe)=>this.onRemovalComplete(ee,fe)}registerTrigger(D,x,B,ee,fe){const Ne=D+"-"+ee;let ze=this._triggerCache[Ne];if(!ze){const gt=[],Pt=Le(this._driver,fe,gt);if(gt.length)throw new Error(`The animation trigger "${ee}" has failed to build due to the following errors:\n - ${gt.join("\n - ")}`);ze=function(X,D,x){return new Xn(X,D,x)}(ee,Pt,this._normalizer),this._triggerCache[Ne]=ze}this._transitionEngine.registerTrigger(x,ee,ze)}register(D,x){this._transitionEngine.register(D,x)}destroy(D,x){this._transitionEngine.destroy(D,x)}onInsert(D,x,B,ee){this._transitionEngine.insertNode(D,x,B,ee)}onRemove(D,x,B,ee){this._transitionEngine.removeNode(D,x,ee||!1,B)}disableAnimations(D,x){this._transitionEngine.markElementAsDisabled(D,x)}process(D,x,B,ee){if("@"==B.charAt(0)){const[fe,Ne]=Ve(B);this._timelineEngine.command(fe,x,Ne,ee)}else this._transitionEngine.trigger(D,x,B,ee)}listen(D,x,B,ee,fe){if("@"==B.charAt(0)){const[Ne,ze]=Ve(B);return this._timelineEngine.listen(Ne,x,ze,fe)}return this._transitionEngine.listen(D,x,B,ee,fe)}flush(D=-1){this._transitionEngine.flush(D)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ks(X,D){let x=null,B=null;return Array.isArray(D)&&D.length?(x=To(D[0]),D.length>1&&(B=To(D[D.length-1]))):D&&(x=To(D)),x||B?new vo(X,x,B):null}let vo=(()=>{class X{constructor(x,B,ee){this._element=x,this._startStyles=B,this._endStyles=ee,this._state=0;let fe=X.initialStylesByElement.get(x);fe||X.initialStylesByElement.set(x,fe={}),this._initialStyles=fe}start(){this._state<1&&(this._startStyles&&dr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dr(this._element,this._initialStyles),this._endStyles&&(dr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(X.initialStylesByElement.delete(this._element),this._startStyles&&(kr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kr(this._element,this._endStyles),this._endStyles=null),dr(this._element,this._initialStyles),this._state=3)}}return X.initialStylesByElement=new WeakMap,X})();function To(X){let D=null;const x=Object.keys(X);for(let B=0;B<x.length;B++){const ee=x[B];Ko(ee)&&(D=D||{},D[ee]=X[ee])}return D}function Ko(X){return"display"===X||"position"===X}const La="animation",bo="animationend";class Yo{constructor(D,x,B,ee,fe,Ne,ze){this._element=D,this._name=x,this._duration=B,this._delay=ee,this._easing=fe,this._fillMode=Ne,this._onDoneFn=ze,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=gt=>this._handleCallback(gt)}apply(){(function(X,D){const x=Vs(X,"").trim();let B=0;x.length&&(function(X,D){let x=0;for(let B=0;B<X.length;B++)","===X.charAt(B)&&x++;return x}(x)+1,D=`${x}, ${D}`),ns(X,"",D)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Eo(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ts(this._element,this._name,"paused")}resume(){ts(this._element,this._name,"running")}setPosition(D){const x=Xo(this._element,this._name);this._position=D*this._duration,ns(this._element,"Delay",`-${this._position}ms`,x)}getPosition(){return this._position}_handleCallback(D){const x=D._ngTestManualTimestamp||Date.now(),B=1e3*parseFloat(D.elapsedTime.toFixed(3));D.animationName==this._name&&Math.max(x-this._startTime,0)>=this._delay&&B>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Eo(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(X,D){const B=Vs(X,"").split(","),ee=Is(B,D);ee>=0&&(B.splice(ee,1),ns(X,"",B.join(",")))}(this._element,this._name))}}function ts(X,D,x){ns(X,"PlayState",x,Xo(X,D))}function Xo(X,D){const x=Vs(X,"");return x.indexOf(",")>0?Is(x.split(","),D):Is([x],D)}function Is(X,D){for(let x=0;x<X.length;x++)if(X[x].indexOf(D)>=0)return x;return-1}function Eo(X,D,x){x?X.removeEventListener(bo,D):X.addEventListener(bo,D)}function ns(X,D,x,B){const ee=La+D;if(null!=B){const fe=X.style[ee];if(fe.length){const Ne=fe.split(",");Ne[B]=x,x=Ne.join(",")}}X.style[ee]=x}function Vs(X,D){return X.style[La+D]||""}class ji{constructor(D,x,B,ee,fe,Ne,ze,gt){this.element=D,this.keyframes=x,this.animationName=B,this._duration=ee,this._delay=fe,this._finalStyles=ze,this._specialStyles=gt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=Ne||"linear",this.totalTime=ee+fe,this._buildStyler()}onStart(D){this._onStartFns.push(D)}onDone(D){this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(D=>D()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(D=>D()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(D){this._styler.setPosition(D)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Yo(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(D){const x="start"==D?this._onStartFns:this._onDoneFns;x.forEach(B=>B()),x.length=0}beforeDestroy(){this.init();const D={};if(this.hasStarted()){const x=this._state>=3;Object.keys(this._finalStyles).forEach(B=>{"offset"!=B&&(D[B]=x?this._finalStyles[B]:rn(this.element,B))})}this.currentSnapshot=D}}class to extends te.ZN{constructor(D,x){super(),this.element=D,this._startingStyles={},this.__initialized=!1,this._styles=Qe(x)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(D=>{this._startingStyles[D]=this.element.style[D]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(D=>this.element.style.setProperty(D,this._styles[D])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(D=>{const x=this._startingStyles[D];x?this.element.style.setProperty(D,x):this.element.style.removeProperty(D)}),this._startingStyles=null,super.destroy())}}class Z{constructor(){this._count=0}validateStyleProperty(D){return Rt(D)}matchesElement(D,x){return ct(D,x)}containsElement(D,x){return lt(D,x)}query(D,x,B){return Dt(D,x,B)}computeStyle(D,x,B){return window.getComputedStyle(D)[x]}buildKeyframeElement(D,x,B){B=B.map(ze=>Qe(ze));let ee=`@keyframes ${x} {\n`,fe="";B.forEach(ze=>{fe=" ";const gt=parseFloat(ze.offset);ee+=`${fe}${100*gt}% {\n`,fe+=" ",Object.keys(ze).forEach(Pt=>{const hn=ze[Pt];switch(Pt){case"offset":return;case"easing":return void(hn&&(ee+=`${fe}animation-timing-function: ${hn};\n`));default:return void(ee+=`${fe}${Pt}: ${hn};\n`)}}),ee+=`${fe}}\n`}),ee+="}\n";const Ne=document.createElement("style");return Ne.textContent=ee,Ne}animate(D,x,B,ee,fe,Ne=[],ze){const gt=Ne.filter(Hr=>Hr instanceof ji),Pt={};$r(B,ee)&&gt.forEach(Hr=>{let Mi=Hr.currentSnapshot;Object.keys(Mi).forEach(Ci=>Pt[Ci]=Mi[Ci])});const hn=function(X){let D={};return X&&(Array.isArray(X)?X:[X]).forEach(B=>{Object.keys(B).forEach(ee=>{"offset"==ee||"easing"==ee||(D[ee]=B[ee])})}),D}(x=Tr(D,x,Pt));if(0==B)return new to(D,hn);const Dn="gen_css_kf_"+this._count++,nr=this.buildKeyframeElement(D,Dn,x);(function(X){var D;const x=null===(D=X.getRootNode)||void 0===D?void 0:D.call(X);return"undefined"!=typeof ShadowRoot&&x instanceof ShadowRoot?x:document.head})(D).appendChild(nr);const qn=Ks(D,x),ar=new ji(D,x,Dn,B,ee,fe,hn,qn);return ar.onDestroy(()=>{var X;(X=nr).parentNode.removeChild(X)}),ar}}class je{constructor(D,x,B,ee){this.element=D,this.keyframes=x,this.options=B,this._specialStyles=ee,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const D=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,D,this.options),this._finalKeyframe=D.length?D[D.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(D,x,B){return D.animate(x,B)}onStart(D){this._onStartFns.push(D)}onDone(D){this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(D=>D()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}setPosition(D){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=D*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const D={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(x=>{"offset"!=x&&(D[x]=this._finished?this._finalKeyframe[x]:rn(this.element,x))}),this.currentSnapshot=D}triggerCallback(D){const x="start"==D?this._onStartFns:this._onDoneFns;x.forEach(B=>B()),x.length=0}}class ot{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Wt().toString()),this._cssKeyframesDriver=new Z}validateStyleProperty(D){return Rt(D)}matchesElement(D,x){return ct(D,x)}containsElement(D,x){return lt(D,x)}query(D,x,B){return Dt(D,x,B)}computeStyle(D,x,B){return window.getComputedStyle(D)[x]}overrideWebAnimationsSupport(D){this._isNativeImpl=D}animate(D,x,B,ee,fe,Ne=[],ze){if(!ze&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(D,x,B,ee,fe,Ne);const hn={duration:B,delay:ee,fill:0==ee?"both":"forwards"};fe&&(hn.easing=fe);const Dn={},nr=Ne.filter(qn=>qn instanceof je);$r(B,ee)&&nr.forEach(qn=>{let ar=qn.currentSnapshot;Object.keys(ar).forEach(Hr=>Dn[Hr]=ar[Hr])});const ii=Ks(D,x=Tr(D,x=x.map(qn=>Qn(qn,!1)),Dn));return new je(D,x,hn,ii)}}function Wt(){return Ue()&&Element.prototype.animate||{}}var Sn=q(8583);let On=(()=>{class X extends te._j{constructor(x,B){super(),this._nextAnimationId=0,this._renderer=x.createRenderer(B.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(x){const B=this._nextAnimationId.toString();this._nextAnimationId++;const ee=Array.isArray(x)?(0,te.vP)(x):x;return gr(this._renderer,null,B,"register",[ee]),new ri(B,this._renderer)}}return X.\u0275fac=function(x){return new(x||X)(k.LFG(k.FYo),k.LFG(Sn.K0))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();class ri extends te.LC{constructor(D,x){super(),this._id=D,this._renderer=x}create(D,x){return new Si(this._id,D,x||{},this._renderer)}}class Si{constructor(D,x,B,ee){this.id=D,this.element=x,this._renderer=ee,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",B)}_listen(D,x){return this._renderer.listen(this.element,`@@${this.id}:${D}`,x)}_command(D,...x){return gr(this._renderer,this.element,this.id,D,x)}onDone(D){this._listen("done",D)}onStart(D){this._listen("start",D)}onDestroy(D){this._listen("destroy",D)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(D){this._command("setPosition",D)}getPosition(){var D,x;return null!==(x=null===(D=this._renderer.engine.players[+this.id])||void 0===D?void 0:D.getPosition())&&void 0!==x?x:0}}function gr(X,D,x,B,ee){return X.setProperty(D,`@@${x}:${B}`,ee)}const Hi="@.disabled";let Ds=(()=>{class X{constructor(x,B,ee){this.delegate=x,this.engine=B,this._zone=ee,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),B.onRemovalComplete=(fe,Ne)=>{Ne&&Ne.parentNode(fe)&&Ne.removeChild(fe.parentNode,fe)}}createRenderer(x,B){const fe=this.delegate.createRenderer(x,B);if(!(x&&B&&B.data&&B.data.animation)){let hn=this._rendererCache.get(fe);return hn||(hn=new ps("",fe,this.engine),this._rendererCache.set(fe,hn)),hn}const Ne=B.id,ze=B.id+"-"+this._currentId;this._currentId++,this.engine.register(ze,x);const gt=hn=>{Array.isArray(hn)?hn.forEach(gt):this.engine.registerTrigger(Ne,ze,x,hn.name,hn)};return B.data.animation.forEach(gt),new gs(this,ze,fe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(x,B,ee){x>=0&&x<this._microtaskId?this._zone.run(()=>B(ee)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(fe=>{const[Ne,ze]=fe;Ne(ze)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([B,ee]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return X.\u0275fac=function(x){return new(x||X)(k.LFG(k.FYo),k.LFG(Co),k.LFG(k.R0b))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();class ps{constructor(D,x,B){this.namespaceId=D,this.delegate=x,this.engine=B,this.destroyNode=this.delegate.destroyNode?ee=>x.destroyNode(ee):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(D,x){return this.delegate.createElement(D,x)}createComment(D){return this.delegate.createComment(D)}createText(D){return this.delegate.createText(D)}appendChild(D,x){this.delegate.appendChild(D,x),this.engine.onInsert(this.namespaceId,x,D,!1)}insertBefore(D,x,B,ee=!0){this.delegate.insertBefore(D,x,B),this.engine.onInsert(this.namespaceId,x,D,ee)}removeChild(D,x,B){this.engine.onRemove(this.namespaceId,x,this.delegate,B)}selectRootElement(D,x){return this.delegate.selectRootElement(D,x)}parentNode(D){return this.delegate.parentNode(D)}nextSibling(D){return this.delegate.nextSibling(D)}setAttribute(D,x,B,ee){this.delegate.setAttribute(D,x,B,ee)}removeAttribute(D,x,B){this.delegate.removeAttribute(D,x,B)}addClass(D,x){this.delegate.addClass(D,x)}removeClass(D,x){this.delegate.removeClass(D,x)}setStyle(D,x,B,ee){this.delegate.setStyle(D,x,B,ee)}removeStyle(D,x,B){this.delegate.removeStyle(D,x,B)}setProperty(D,x,B){"@"==x.charAt(0)&&x==Hi?this.disableAnimations(D,!!B):this.delegate.setProperty(D,x,B)}setValue(D,x){this.delegate.setValue(D,x)}listen(D,x,B){return this.delegate.listen(D,x,B)}disableAnimations(D,x){this.engine.disableAnimations(D,x)}}class gs extends ps{constructor(D,x,B,ee){super(x,B,ee),this.factory=D,this.namespaceId=x}setProperty(D,x,B){"@"==x.charAt(0)?"."==x.charAt(1)&&x==Hi?this.disableAnimations(D,B=void 0===B||!!B):this.engine.process(this.namespaceId,D,x.substr(1),B):this.delegate.setProperty(D,x,B)}listen(D,x,B){if("@"==x.charAt(0)){const ee=function(X){switch(X){case"body":return document.body;case"document":return document;case"window":return window;default:return X}}(D);let fe=x.substr(1),Ne="";return"@"!=fe.charAt(0)&&([fe,Ne]=function(X){const D=X.indexOf(".");return[X.substring(0,D),X.substr(D+1)]}(fe)),this.engine.listen(this.namespaceId,ee,fe,Ne,ze=>{this.factory.scheduleListenerCallback(ze._data||-1,B,ze)})}return this.delegate.listen(D,x,B)}}let hr=(()=>{class X extends Co{constructor(x,B,ee){super(x.body,B,ee)}ngOnDestroy(){this.flush()}}return X.\u0275fac=function(x){return new(x||X)(k.LFG(Sn.K0),k.LFG(et),k.LFG(Jn))},X.\u0275prov=k.Yz7({token:X,factory:X.\u0275fac}),X})();const lo=new k.OlP("AnimationModuleType"),Zi=[{provide:te._j,useClass:On},{provide:Jn,useFactory:function(){return new dt}},{provide:Co,useClass:hr},{provide:k.FYo,useFactory:function(X,D,x){return new Ds(X,D,x)},deps:[o.se,Co,k.R0b]}],Ao=[{provide:et,useFactory:function(){return"function"==typeof Wt()?new ot:new Z}},{provide:lo,useValue:"BrowserAnimations"},...Zi],dl=[{provide:et,useClass:Je},{provide:lo,useValue:"NoopAnimations"},...Zi];let Vt=(()=>{class X{static withConfig(x){return{ngModule:X,providers:x.disableAnimations?dl:Ao}}}return X.\u0275fac=function(x){return new(x||X)},X.\u0275mod=k.oAB({type:X}),X.\u0275inj=k.cJS({providers:Ao,imports:[o.b2]}),X})()},9075:(ln,at,q)=>{"use strict";q.d(at,{b2:()=>ge,Dx:()=>Pn,q6:()=>ve,se:()=>Rr});var k=q(8583),o=q(3018);class te extends k.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ue extends te{static makeCurrent(){(0,k.HT)(new Ue)}onAndCancel(ke,we,ut){return ke.addEventListener(we,ut,!1),()=>{ke.removeEventListener(we,ut,!1)}}dispatchEvent(ke,we){ke.dispatchEvent(we)}remove(ke){ke.parentNode&&ke.parentNode.removeChild(ke)}createElement(ke,we){return(we=we||this.getDefaultDocument()).createElement(ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ke){return ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(ke){return ke instanceof DocumentFragment}getGlobalEventTarget(ke,we){return"window"===we?window:"document"===we?ke:"body"===we?ke.body:null}getBaseHref(ke){const we=(Be=Be||document.querySelector("base"),Be?Be.getAttribute("href"):null);return null==we?null:function(Ye){Ge=Ge||document.createElement("a"),Ge.setAttribute("href",Ye);const ke=Ge.pathname;return"/"===ke.charAt(0)?ke:`/${ke}`}(we)}resetBaseElement(){Be=null}getUserAgent(){return window.navigator.userAgent}getCookie(ke){return(0,k.Mx)(document.cookie,ke)}}let Ge,Be=null;const Te=new o.OlP("TRANSITION_ID"),he=[{provide:o.ip1,useFactory:function(Ye,ke,we){return()=>{we.get(o.CZH).donePromise.then(()=>{const ut=(0,k.q)(),bt=ke.querySelectorAll(`style[ng-transition="${Ye}"]`);for(let Xn=0;Xn<bt.length;Xn++)ut.remove(bt[Xn])})}},deps:[Te,k.K0,o.zs3],multi:!0}];class Ve{static init(){(0,o.VLi)(new Ve)}addToWindow(ke){o.dqk.getAngularTestability=(ut,bt=!0)=>{const Xn=ke.findTestabilityInTree(ut,bt);if(null==Xn)throw new Error("Could not find testability for element.");return Xn},o.dqk.getAllAngularTestabilities=()=>ke.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>ke.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(ut=>{const bt=o.dqk.getAllAngularTestabilities();let Xn=bt.length,wr=!1;const ni=function(vi){wr=wr||vi,Xn--,0==Xn&&ut(wr)};bt.forEach(function(vi){vi.whenStable(ni)})})}findTestabilityInTree(ke,we,ut){if(null==we)return null;const bt=ke.getTestability(we);return null!=bt?bt:ut?(0,k.q)().isShadowRoot(we)?this.findTestabilityInTree(ke,we.host,!0):this.findTestabilityInTree(ke,we.parentElement,!0):null}}let be=(()=>{class Ye{build(){return new XMLHttpRequest}}return Ye.\u0275fac=function(we){return new(we||Ye)},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Je=new o.OlP("EventManagerPlugins");let et=(()=>{class Ye{constructor(we,ut){this._zone=ut,this._eventNameToPlugin=new Map,we.forEach(bt=>bt.manager=this),this._plugins=we.slice().reverse()}addEventListener(we,ut,bt){return this._findPluginFor(ut).addEventListener(we,ut,bt)}addGlobalEventListener(we,ut,bt){return this._findPluginFor(ut).addGlobalEventListener(we,ut,bt)}getZone(){return this._zone}_findPluginFor(we){const ut=this._eventNameToPlugin.get(we);if(ut)return ut;const bt=this._plugins;for(let Xn=0;Xn<bt.length;Xn++){const wr=bt[Xn];if(wr.supports(we))return this._eventNameToPlugin.set(we,wr),wr}throw new Error(`No event manager plugin found for event ${we}`)}}return Ye.\u0275fac=function(we){return new(we||Ye)(o.LFG(Je),o.LFG(o.R0b))},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class yt{constructor(ke){this._doc=ke}addGlobalEventListener(ke,we,ut){const bt=(0,k.q)().getGlobalEventTarget(this._doc,ke);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${we}`);return this.addEventListener(bt,we,ut)}}let ft=(()=>{class Ye{constructor(){this._stylesSet=new Set}addStyles(we){const ut=new Set;we.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),ut.add(bt))}),this.onStylesAdded(ut)}onStylesAdded(we){}getAllStyles(){return Array.from(this._stylesSet)}}return Ye.\u0275fac=function(we){return new(we||Ye)},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),qt=(()=>{class Ye extends ft{constructor(we){super(),this._doc=we,this._hostNodes=new Map,this._hostNodes.set(we.head,[])}_addStylesToHost(we,ut,bt){we.forEach(Xn=>{const wr=this._doc.createElement("style");wr.textContent=Xn,bt.push(ut.appendChild(wr))})}addHost(we){const ut=[];this._addStylesToHost(this._stylesSet,we,ut),this._hostNodes.set(we,ut)}removeHost(we){const ut=this._hostNodes.get(we);ut&&ut.forEach(En),this._hostNodes.delete(we)}onStylesAdded(we){this._hostNodes.forEach((ut,bt)=>{this._addStylesToHost(we,bt,ut)})}ngOnDestroy(){this._hostNodes.forEach(we=>we.forEach(En))}}return Ye.\u0275fac=function(we){return new(we||Ye)(o.LFG(k.K0))},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function En(Ye){(0,k.q)().remove(Ye)}const Tn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sr=/%COMP%/g;function yn(Ye,ke,we){for(let ut=0;ut<ke.length;ut++){let bt=ke[ut];Array.isArray(bt)?yn(Ye,bt,we):(bt=bt.replace(sr,Ye),we.push(bt))}return we}function mr(Ye){return ke=>{if("__ngUnwrap__"===ke)return Ye;!1===Ye(ke)&&(ke.preventDefault(),ke.returnValue=!1)}}let Rr=(()=>{class Ye{constructor(we,ut,bt){this.eventManager=we,this.sharedStylesHost=ut,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new Un(we)}createRenderer(we,ut){if(!we||!ut)return this.defaultRenderer;switch(ut.encapsulation){case o.ifc.Emulated:{let bt=this.rendererByCompId.get(ut.id);return bt||(bt=new dr(this.eventManager,this.sharedStylesHost,ut,this.appId),this.rendererByCompId.set(ut.id,bt)),bt.applyToHost(we),bt}case 1:case o.ifc.ShadowDom:return new kr(this.eventManager,this.sharedStylesHost,we,ut);default:if(!this.rendererByCompId.has(ut.id)){const bt=yn(ut.id,ut.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(ut.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ye.\u0275fac=function(we){return new(we||Ye)(o.LFG(et),o.LFG(qt),o.LFG(o.AFp))},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class Un{constructor(ke){this.eventManager=ke,this.data=Object.create(null)}destroy(){}createElement(ke,we){return we?document.createElementNS(Tn[we]||we,ke):document.createElement(ke)}createComment(ke){return document.createComment(ke)}createText(ke){return document.createTextNode(ke)}appendChild(ke,we){ke.appendChild(we)}insertBefore(ke,we,ut){ke&&ke.insertBefore(we,ut)}removeChild(ke,we){ke&&ke.removeChild(we)}selectRootElement(ke,we){let ut="string"==typeof ke?document.querySelector(ke):ke;if(!ut)throw new Error(`The selector "${ke}" did not match any elements`);return we||(ut.textContent=""),ut}parentNode(ke){return ke.parentNode}nextSibling(ke){return ke.nextSibling}setAttribute(ke,we,ut,bt){if(bt){we=bt+":"+we;const Xn=Tn[bt];Xn?ke.setAttributeNS(Xn,we,ut):ke.setAttribute(we,ut)}else ke.setAttribute(we,ut)}removeAttribute(ke,we,ut){if(ut){const bt=Tn[ut];bt?ke.removeAttributeNS(bt,we):ke.removeAttribute(`${ut}:${we}`)}else ke.removeAttribute(we)}addClass(ke,we){ke.classList.add(we)}removeClass(ke,we){ke.classList.remove(we)}setStyle(ke,we,ut,bt){bt&(o.JOm.DashCase|o.JOm.Important)?ke.style.setProperty(we,ut,bt&o.JOm.Important?"important":""):ke.style[we]=ut}removeStyle(ke,we,ut){ut&o.JOm.DashCase?ke.style.removeProperty(we):ke.style[we]=""}setProperty(ke,we,ut){ke[we]=ut}setValue(ke,we){ke.nodeValue=we}listen(ke,we,ut){return"string"==typeof ke?this.eventManager.addGlobalEventListener(ke,we,mr(ut)):this.eventManager.addEventListener(ke,we,mr(ut))}}class dr extends Un{constructor(ke,we,ut,bt){super(ke),this.component=ut;const Xn=yn(bt+"-"+ut.id,ut.styles,[]);we.addStyles(Xn),this.contentAttr="_ngcontent-%COMP%".replace(sr,bt+"-"+ut.id),this.hostAttr="_nghost-%COMP%".replace(sr,bt+"-"+ut.id)}applyToHost(ke){super.setAttribute(ke,this.hostAttr,"")}createElement(ke,we){const ut=super.createElement(ke,we);return super.setAttribute(ut,this.contentAttr,""),ut}}class kr extends Un{constructor(ke,we,ut,bt){super(ke),this.sharedStylesHost=we,this.hostEl=ut,this.shadowRoot=ut.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xn=yn(bt.id,bt.styles,[]);for(let wr=0;wr<Xn.length;wr++){const ni=document.createElement("style");ni.textContent=Xn[wr],this.shadowRoot.appendChild(ni)}}nodeOrShadowRoot(ke){return ke===this.hostEl?this.shadowRoot:ke}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ke,we){return super.appendChild(this.nodeOrShadowRoot(ke),we)}insertBefore(ke,we,ut){return super.insertBefore(this.nodeOrShadowRoot(ke),we,ut)}removeChild(ke,we){return super.removeChild(this.nodeOrShadowRoot(ke),we)}parentNode(ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ke)))}}let _r=(()=>{class Ye extends yt{constructor(we){super(we)}supports(we){return!0}addEventListener(we,ut,bt){return we.addEventListener(ut,bt,!1),()=>this.removeEventListener(we,ut,bt)}removeEventListener(we,ut,bt){return we.removeEventListener(ut,bt)}}return Ye.\u0275fac=function(we){return new(we||Ye)(o.LFG(k.K0))},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Tr=["alt","control","meta","shift"],rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zr={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let lr=(()=>{class Ye extends yt{constructor(we){super(we)}supports(we){return null!=Ye.parseEventName(we)}addEventListener(we,ut,bt){const Xn=Ye.parseEventName(ut),wr=Ye.eventCallback(Xn.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,k.q)().onAndCancel(we,Xn.domEventName,wr))}static parseEventName(we){const ut=we.toLowerCase().split("."),bt=ut.shift();if(0===ut.length||"keydown"!==bt&&"keyup"!==bt)return null;const Xn=Ye._normalizeKey(ut.pop());let wr="";if(Tr.forEach(vi=>{const Oi=ut.indexOf(vi);Oi>-1&&(ut.splice(Oi,1),wr+=vi+".")}),wr+=Xn,0!=ut.length||0===Xn.length)return null;const ni={};return ni.domEventName=bt,ni.fullKey=wr,ni}static getEventFullKey(we){let ut="",bt=function(Ye){let ke=Ye.key;if(null==ke){if(ke=Ye.keyIdentifier,null==ke)return"Unidentified";ke.startsWith("U+")&&(ke=String.fromCharCode(parseInt(ke.substring(2),16)),3===Ye.location&&fr.hasOwnProperty(ke)&&(ke=fr[ke]))}return rn[ke]||ke}(we);return bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),Tr.forEach(Xn=>{Xn!=bt&&zr[Xn](we)&&(ut+=Xn+".")}),ut+=bt,ut}static eventCallback(we,ut,bt){return Xn=>{Ye.getEventFullKey(Xn)===we&&bt.runGuarded(()=>ut(Xn))}}static _normalizeKey(we){return"esc"===we?"escape":we}}return Ye.\u0275fac=function(we){return new(we||Ye)(o.LFG(k.K0))},Ye.\u0275prov=o.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const ve=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:k.bD},{provide:o.g9A,useValue:function(){Ue.makeCurrent(),Ve.init()},multi:!0},{provide:k.K0,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),_e=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Je,useClass:_r,multi:!0,deps:[k.K0,o.R0b,o.Lbi]},{provide:Je,useClass:lr,multi:!0,deps:[k.K0]},[],{provide:Rr,useClass:Rr,deps:[et,qt,o.AFp]},{provide:o.FYo,useExisting:Rr},{provide:ft,useExisting:qt},{provide:qt,useClass:qt,deps:[k.K0]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:et,useClass:et,deps:[Je,o.R0b]},{provide:k.JF,useClass:be,deps:[]},[]];let ge=(()=>{class Ye{constructor(we){if(we)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(we){return{ngModule:Ye,providers:[{provide:o.AFp,useValue:we.appId},{provide:Te,useExisting:o.AFp},he]}}}return Ye.\u0275fac=function(we){return new(we||Ye)(o.LFG(Ye,12))},Ye.\u0275mod=o.oAB({type:Ye}),Ye.\u0275inj=o.cJS({providers:_e,imports:[k.ez,o.hGG]}),Ye})();function Cn(){return new Pn((0,o.LFG)(k.K0))}let Pn=(()=>{class Ye{constructor(we){this._doc=we}getTitle(){return this._doc.title}setTitle(we){this._doc.title=we||""}}return Ye.\u0275fac=function(we){return new(we||Ye)(o.LFG(k.K0))},Ye.\u0275prov=(0,o.Yz7)({factory:Cn,token:Ye,providedIn:"root"}),Ye})();"undefined"!=typeof window&&window},430:(ln,at,q)=>{"use strict";q.d(at,{gz:()=>fi,jw:()=>yi,F0:()=>qi,rH:()=>ba,Od:()=>Va,yS:()=>Ea,Bz:()=>zi,lC:()=>fu,fw:()=>Z});var k=q(8583),o=q(3018),te=q(4869),Ue=q(9796),Be=q(7393);class Ie extends Be.L{notifyNext(M,O,H,W,le){this.destination.next(O)}notifyError(M,O){this.destination.error(M)}notifyComplete(M){this.destination.complete()}}class Ge extends Be.L{constructor(M,O,H){super(),this.parent=M,this.outerValue=O,this.outerIndex=H,this.index=0}_next(M){this.parent.notifyNext(this.outerValue,M,this.outerIndex,this.index++,this)}_error(M){this.parent.notifyError(M,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ce=q(7444),Te=q(7574);function ue(U,M,O,H,W=new Ge(U,O,H)){if(!W.closed)return M instanceof Te.y?M.subscribe(W):(0,Ce.s)(M)(W)}var he=q(6693);const Ve={};class Ke{constructor(M){this.resultSelector=M}call(M,O){return O.subscribe(new pt(M,this.resultSelector))}}class pt extends Ie{constructor(M,O){super(M),this.resultSelector=O,this.active=0,this.values=[],this.observables=[]}_next(M){this.values.push(Ve),this.observables.push(M)}_complete(){const M=this.observables,O=M.length;if(0===O)this.destination.complete();else{this.active=O,this.toRespond=O;for(let H=0;H<O;H++)this.add(ue(this,M[H],void 0,H))}}notifyComplete(M){0==(this.active-=1)&&this.destination.complete()}notifyNext(M,O,H){const W=this.values,Me=this.toRespond?W[H]===Ve?--this.toRespond:this.toRespond:0;W[H]=O,0===Me&&(this.resultSelector?this._tryResultSelector(W):this.destination.next(W.slice()))}_tryResultSelector(M){let O;try{O=this.resultSelector.apply(this,M)}catch(H){return void this.destination.error(H)}this.destination.next(O)}}var tt=q(4402),ce=q(5917),vt=q(6215),Jt=q(3410),Zt=q(8071),St=q(1439),Ct=q(9193),Rt=q(2441),Nt=q(9765),ct=q(5345);function lt(U){return function(O){const H=new Dt(U),W=O.lift(H);return H.caught=W}}class Dt{constructor(M){this.selector=M}call(M,O){return O.subscribe(new Qe(M,this.selector,this.caught))}}class Qe extends ct.Ds{constructor(M,O,H){super(M),this.selector=O,this.caught=H}error(M){if(!this.isStopped){let O;try{O=this.selector(M,this.caught)}catch(le){return void super.error(le)}this._unsubscribeAndRecycle();const H=new ct.IY(this);this.add(H);const W=(0,ct.ft)(O,H);W!==H&&this.add(W)}}}var Je=q(5435),et=q(7108);function yt(U){return function(O){return 0===U?(0,Ct.c)():O.lift(new ft(U))}}class ft{constructor(M){if(this.total=M,this.total<0)throw new et.W}call(M,O){return O.subscribe(new qt(M,this.total))}}class qt extends Be.L{constructor(M,O){super(M),this.total=O,this.ring=new Array,this.count=0}_next(M){const O=this.ring,H=this.total,W=this.count++;O.length<H?O.push(M):O[W%H]=M}_complete(){const M=this.destination;let O=this.count;if(O>0){const H=this.count>=this.total?this.total:this.count,W=this.ring;for(let le=0;le<H;le++){const Me=O++%H;M.next(W[Me])}}M.complete()}}var En=q(4635),Tn=q(5242),sr=q(4487),zn=q(5319);class Nr{constructor(M){this.callback=M}call(M,O){return O.subscribe(new li(M,this.callback))}}class li extends Be.L{constructor(M,O){super(M),this.add(new zn.w(O))}}var on=q(8002),yn=q(3190),mr=q(5257),Ei=q(9761),Rr=q(2145),Un=q(4612),Qn=q(8049),yr=q(9773),vn=q(3342),dr=q(1307),kr=q(3282);class _r{constructor(M,O){this.id=M,this.url=O}}class Yr extends _r{constructor(M,O,H="imperative",W=null){super(M,O),this.navigationTrigger=H,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tr extends _r{constructor(M,O,H){super(M,O),this.urlAfterRedirects=H}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Br extends _r{constructor(M,O,H){super(M,O),this.reason=H}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ti extends _r{constructor(M,O,H){super(M,O),this.error=H}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hi extends _r{constructor(M,O,H,W){super(M,O),this.urlAfterRedirects=H,this.state=W}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cn extends _r{constructor(M,O,H,W){super(M,O),this.urlAfterRedirects=H,this.state=W}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr extends _r{constructor(M,O,H,W,le){super(M,O),this.urlAfterRedirects=H,this.state=W,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oi extends _r{constructor(M,O,H,W){super(M,O),this.urlAfterRedirects=H,this.state=W}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends _r{constructor(M,O,H,W){super(M,O),this.urlAfterRedirects=H,this.state=W}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr{constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wn{constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rn{constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yi{constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(M,O,H){this.routerEvent=M,this.position=O,this.anchor=H}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rn="primary";class zr{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const O=this.params[M];return Array.isArray(O)?O[0]:O}return null}getAll(M){if(this.has(M)){const O=this.params[M];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function lr(U){return new zr(U)}const _i="ngNavigationCancelingError";function xe(U){const M=Error("NavigationCancelingError: "+U);return M[_i]=!0,M}function Ee(U,M,O){const H=O.path.split("/");if(H.length>U.length||"full"===O.pathMatch&&(M.hasChildren()||H.length<U.length))return null;const W={};for(let le=0;le<H.length;le++){const Me=H[le],Oe=U[le];if(Me.startsWith(":"))W[Me.substring(1)]=Oe;else if(Me!==Oe.path)return null}return{consumed:U.slice(0,H.length),posParams:W}}function De(U,M){const O=U?Object.keys(U):void 0,H=M?Object.keys(M):void 0;if(!O||!H||O.length!=H.length)return!1;let W;for(let le=0;le<O.length;le++)if(W=O[le],!Ft(U[W],M[W]))return!1;return!0}function Ft(U,M){if(Array.isArray(U)&&Array.isArray(M)){if(U.length!==M.length)return!1;const O=[...U].sort(),H=[...M].sort();return O.every((W,le)=>H[le]===W)}return U===M}function nn(U){return Array.prototype.concat.apply([],U)}function Vn(U){return U.length>0?U[U.length-1]:null}function Zn(U,M){for(const O in U)U.hasOwnProperty(O)&&M(U[O],O)}function st(U){return(0,o.CqO)(U)?U:(0,o.QGY)(U)?(0,tt.D)(Promise.resolve(U)):(0,ce.of)(U)}const _e={exact:function dn(U,M,O){if(!Fr(U.segments,M.segments)||!Ir(U.segments,M.segments,O)||U.numberOfChildren!==M.numberOfChildren)return!1;for(const H in M.children)if(!U.children[H]||!dn(U.children[H],M.children[H],O))return!1;return!0},subset:Pn},ge={exact:function(U,M){return De(U,M)},subset:function(U,M){return Object.keys(M).length<=Object.keys(U).length&&Object.keys(M).every(O=>Ft(U[O],M[O]))},ignored:()=>!0};function nt(U,M,O){return _e[O.paths](U.root,M.root,O.matrixParams)&&ge[O.queryParams](U.queryParams,M.queryParams)&&!("exact"===O.fragment&&U.fragment!==M.fragment)}function Pn(U,M,O){return kn(U,M,M.segments,O)}function kn(U,M,O,H){if(U.segments.length>O.length){const W=U.segments.slice(0,O.length);return!(!Fr(W,O)||M.hasChildren()||!Ir(W,O,H))}if(U.segments.length===O.length){if(!Fr(U.segments,O)||!Ir(U.segments,O,H))return!1;for(const W in M.children)if(!U.children[W]||!Pn(U.children[W],M.children[W],H))return!1;return!0}{const W=O.slice(0,U.segments.length),le=O.slice(U.segments.length);return!!(Fr(U.segments,W)&&Ir(U.segments,W,H)&&U.children[Rn])&&kn(U.children[Rn],M,le,H)}}function Ir(U,M,O){return M.every((H,W)=>ge[O](U[W].parameters,H.parameters))}class Pr{constructor(M,O,H){this.root=M,this.queryParams=O,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return Ae.serialize(this)}}class sn{constructor(M,O){this.segments=M,this.children=O,this.parent=null,Zn(O,(H,W)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dt(this)}}class or{constructor(M,O){this.path=M,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return ut(this)}}function Fr(U,M){return U.length===M.length&&U.every((O,H)=>O.path===M[H].path)}class Ls{}class Jn{parse(M){const O=new mt(M);return new Pr(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(M){const O=`/${kt(M.root,!0)}`,H=function(U){const M=Object.keys(U).map(O=>{const H=U[O];return Array.isArray(H)?H.map(W=>`${qr(O)}=${qr(W)}`).join("&"):`${qr(O)}=${qr(H)}`}).filter(O=>!!O);return M.length?`?${M.join("&")}`:""}(M.queryParams);var U;return`${O}${H}${"string"==typeof M.fragment?`#${U=M.fragment,encodeURI(U)}`:""}`}}const Ae=new Jn;function dt(U){return U.segments.map(M=>ut(M)).join("/")}function kt(U,M){if(!U.hasChildren())return dt(U);if(M){const O=U.children[Rn]?kt(U.children[Rn],!1):"",H=[];return Zn(U.children,(W,le)=>{le!==Rn&&H.push(`${le}:${kt(W,!1)}`)}),H.length>0?`${O}(${H.join("//")})`:O}{const O=function(U,M){let O=[];return Zn(U.children,(H,W)=>{W===Rn&&(O=O.concat(M(H,W)))}),Zn(U.children,(H,W)=>{W!==Rn&&(O=O.concat(M(H,W)))}),O}(U,(H,W)=>W===Rn?[kt(U.children[Rn],!1)]:[`${W}:${kt(H,!1)}`]);return 1===Object.keys(U.children).length&&null!=U.children[Rn]?`${dt(U)}/${O[0]}`:`${dt(U)}/(${O.join("//")})`}}function In(U){return encodeURIComponent(U).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qr(U){return In(U).replace(/%3B/gi,";")}function Ye(U){return In(U).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ke(U){return decodeURIComponent(U)}function we(U){return ke(U.replace(/\+/g,"%20"))}function ut(U){return`${Ye(U.path)}${function(U){return Object.keys(U).map(M=>`;${Ye(M)}=${Ye(U[M])}`).join("")}(U.parameters)}`}const wr=/^[^\/()?;=#]+/;function ni(U){const M=U.match(wr);return M?M[0]:""}const vi=/^[^=?&#]+/,it=/^[^?&#]+/;class mt{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(M.length>0||Object.keys(O).length>0)&&(H[Rn]=new sn(M,O)),H}parseSegment(){const M=ni(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(M),new or(ke(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const O=ni(this.remaining);if(!O)return;this.capture(O);let H="";if(this.consumeOptional("=")){const W=ni(this.remaining);W&&(H=W,this.capture(H))}M[ke(O)]=ke(H)}parseQueryParam(M){const O=function(U){const M=U.match(vi);return M?M[0]:""}(this.remaining);if(!O)return;this.capture(O);let H="";if(this.consumeOptional("=")){const Me=function(U){const M=U.match(it);return M?M[0]:""}(this.remaining);Me&&(H=Me,this.capture(H))}const W=we(O),le=we(H);if(M.hasOwnProperty(W)){let Me=M[W];Array.isArray(Me)||(Me=[Me],M[W]=Me),Me.push(le)}else M[W]=le}parseParens(M){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=ni(this.remaining),W=this.remaining[H.length];if("/"!==W&&")"!==W&&";"!==W)throw new Error(`Cannot parse url '${this.url}'`);let le;H.indexOf(":")>-1?(le=H.substr(0,H.indexOf(":")),this.capture(le),this.capture(":")):M&&(le=Rn);const Me=this.parseChildren();O[le]=1===Object.keys(Me).length?Me[Rn]:new sn([],Me),this.consumeOptional("//")}return O}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new Error(`Expected "${M}".`)}}class At{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const O=this.pathFromRoot(M);return O.length>1?O[O.length-2]:null}children(M){const O=an(M,this._root);return O?O.children.map(H=>H.value):[]}firstChild(M){const O=an(M,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(M){const O=Mn(M,this._root);return O.length<2?[]:O[O.length-2].children.map(W=>W.value).filter(W=>W!==M)}pathFromRoot(M){return Mn(M,this._root).map(O=>O.value)}}function an(U,M){if(U===M.value)return M;for(const O of M.children){const H=an(U,O);if(H)return H}return null}function Mn(U,M){if(U===M.value)return[M];for(const O of M.children){const H=Mn(U,O);if(H.length)return H.unshift(M),H}return[]}class pr{constructor(M,O){this.value=M,this.children=O}toString(){return`TreeNode(${this.value})`}}function ui(U){const M={};return U&&U.children.forEach(O=>M[O.value.outlet]=O),M}class jr extends At{constructor(M,O){super(M),this.snapshot=O,Gi(this,M)}toString(){return this.snapshot.toString()}}function ci(U,M){const O=function(U,M){const Me=new Gr([],{},{},"",{},Rn,M,null,U.root,-1,{});return new _o("",new pr(Me,[]))}(U,M),H=new vt.X([new or("",{})]),W=new vt.X({}),le=new vt.X({}),Me=new vt.X({}),Oe=new vt.X(""),Ht=new fi(H,W,Me,Oe,le,Rn,M,O.root);return Ht.snapshot=O.root,new jr(new pr(Ht,[]),O)}class fi{constructor(M,O,H,W,le,Me,Oe,Ht){this.url=M,this.params=O,this.queryParams=H,this.fragment=W,this.data=le,this.outlet=Me,this.component=Oe,this._futureSnapshot=Ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,on.U)(M=>lr(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,on.U)(M=>lr(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fs(U,M="emptyOnly"){const O=U.pathFromRoot;let H=0;if("always"!==M)for(H=O.length-1;H>=1;){const W=O[H],le=O[H-1];if(W.routeConfig&&""===W.routeConfig.path)H--;else{if(le.component)break;H--}}return function(U){return U.reduce((M,O)=>({params:Object.assign(Object.assign({},M.params),O.params),data:Object.assign(Object.assign({},M.data),O.data),resolve:Object.assign(Object.assign({},M.resolve),O._resolvedData)}),{params:{},data:{},resolve:{}})}(O.slice(H))}class Gr{constructor(M,O,H,W,le,Me,Oe,Ht,Ln,Kn,en){this.url=M,this.params=O,this.queryParams=H,this.fragment=W,this.data=le,this.outlet=Me,this.component=Oe,this.routeConfig=Ht,this._urlSegment=Ln,this._lastPathIndex=Kn,this._resolve=en}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _o extends At{constructor(M,O){super(O),this.url=M,Gi(this,O)}toString(){return es(this._root)}}function Gi(U,M){M.value._routerState=U,M.children.forEach(O=>Gi(U,O))}function es(U){const M=U.children.length>0?` { ${U.children.map(es).join(", ")} } `:"";return`${U.value}${M}`}function Bi(U){if(U.snapshot){const M=U.snapshot,O=U._futureSnapshot;U.snapshot=O,De(M.queryParams,O.queryParams)||U.queryParams.next(O.queryParams),M.fragment!==O.fragment&&U.fragment.next(O.fragment),De(M.params,O.params)||U.params.next(O.params),function(U,M){if(U.length!==M.length)return!1;for(let O=0;O<U.length;++O)if(!De(U[O],M[O]))return!1;return!0}(M.url,O.url)||U.url.next(O.url),De(M.data,O.data)||U.data.next(O.data)}else U.snapshot=U._futureSnapshot,U.data.next(U._futureSnapshot.data)}function zs(U,M){const O=De(U.params,M.params)&&function(U,M){return Fr(U,M)&&U.every((O,H)=>De(O.parameters,M[H].parameters))}(U.url,M.url);return O&&!(!U.parent!=!M.parent)&&(!U.parent||zs(U.parent,M.parent))}function Ws(U,M,O){if(O&&U.shouldReuseRoute(M.value,O.value.snapshot)){const H=O.value;H._futureSnapshot=M.value;const W=function(U,M,O){return M.children.map(H=>{for(const W of O.children)if(U.shouldReuseRoute(H.value,W.value.snapshot))return Ws(U,H,W);return Ws(U,H)})}(U,M,O);return new pr(H,W)}{if(U.shouldAttach(M.value)){const le=U.retrieve(M.value);if(null!==le){const Me=le.route;return Na(M,Me),Me}}const H=function(U){return new fi(new vt.X(U.url),new vt.X(U.params),new vt.X(U.queryParams),new vt.X(U.fragment),new vt.X(U.data),U.outlet,U.component,U)}(M.value),W=M.children.map(le=>Ws(U,le));return new pr(H,W)}}function Na(U,M){if(U.value.routeConfig!==M.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(U.children.length!==M.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");M.value._futureSnapshot=U.value;for(let O=0;O<U.children.length;++O)Na(U.children[O],M.children[O])}function eo(U){return"object"==typeof U&&null!=U&&!U.outlets&&!U.segmentPath}function oo(U){return"object"==typeof U&&null!=U&&U.outlets}function Wo(U,M,O,H,W){let le={};return H&&Zn(H,(Me,Oe)=>{le[Oe]=Array.isArray(Me)?Me.map(Ht=>`${Ht}`):`${Me}`}),new Pr(O.root===U?M:ma(O.root,U,M),le,W)}function ma(U,M,O){const H={};return Zn(U.children,(W,le)=>{H[le]=W===M?O:ma(W,M,O)}),new sn(U.segments,H)}class ya{constructor(M,O,H){if(this.isAbsolute=M,this.numberOfDoubleDots=O,this.commands=H,M&&H.length>0&&eo(H[0]))throw new Error("Root segment cannot have matrix parameters");const W=H.find(oo);if(W&&W!==Vn(H))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Co{constructor(M,O,H){this.segmentGroup=M,this.processChildren=O,this.index=H}}function Ko(U,M,O){if(U||(U=new sn([],{})),0===U.segments.length&&U.hasChildren())return So(U,M,O);const H=function(U,M,O){let H=0,W=M;const le={match:!1,pathIndex:0,commandIndex:0};for(;W<U.segments.length;){if(H>=O.length)return le;const Me=U.segments[W],Oe=O[H];if(oo(Oe))break;const Ht=`${Oe}`,Ln=H<O.length-1?O[H+1]:null;if(W>0&&void 0===Ht)break;if(Ht&&Ln&&"object"==typeof Ln&&void 0===Ln.outlets){if(!ts(Ht,Ln,Me))return le;H+=2}else{if(!ts(Ht,{},Me))return le;H++}W++}return{match:!0,pathIndex:W,commandIndex:H}}(U,M,O),W=O.slice(H.commandIndex);if(H.match&&H.pathIndex<U.segments.length){const le=new sn(U.segments.slice(0,H.pathIndex),{});return le.children[Rn]=new sn(U.segments.slice(H.pathIndex),U.children),So(le,0,W)}return H.match&&0===W.length?new sn(U.segments,{}):H.match&&!U.hasChildren()?bo(U,M,O):H.match?So(U,0,W):bo(U,M,O)}function So(U,M,O){if(0===O.length)return new sn(U.segments,{});{const H=function(U){return oo(U[0])?U[0].outlets:{[Rn]:U}}(O),W={};return Zn(H,(le,Me)=>{"string"==typeof le&&(le=[le]),null!==le&&(W[Me]=Ko(U.children[Me],M,le))}),Zn(U.children,(le,Me)=>{void 0===H[Me]&&(W[Me]=le)}),new sn(U.segments,W)}}function bo(U,M,O){const H=U.segments.slice(0,M);let W=0;for(;W<O.length;){const le=O[W];if(oo(le)){const Ht=Io(le.outlets);return new sn(H,Ht)}if(0===W&&eo(O[0])){H.push(new or(U.segments[M].path,Yo(O[0]))),W++;continue}const Me=oo(le)?le.outlets[Rn]:`${le}`,Oe=W<O.length-1?O[W+1]:null;Me&&Oe&&eo(Oe)?(H.push(new or(Me,Yo(Oe))),W+=2):(H.push(new or(Me,{})),W++)}return new sn(H,{})}function Io(U){const M={};return Zn(U,(O,H)=>{"string"==typeof O&&(O=[O]),null!==O&&(M[H]=bo(new sn([],{}),0,O))}),M}function Yo(U){const M={};return Zn(U,(O,H)=>M[H]=`${O}`),M}function ts(U,M,O){return U==O.path&&De(M,O.parameters)}class Jo{constructor(M,O,H,W){this.routeReuseStrategy=M,this.futureState=O,this.currState=H,this.forwardEvent=W}activate(M){const O=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,H,M),Bi(this.futureState.root),this.activateChildRoutes(O,H,M)}deactivateChildRoutes(M,O,H){const W=ui(O);M.children.forEach(le=>{const Me=le.value.outlet;this.deactivateRoutes(le,W[Me],H),delete W[Me]}),Zn(W,(le,Me)=>{this.deactivateRouteAndItsChildren(le,H)})}deactivateRoutes(M,O,H){const W=M.value,le=O?O.value:null;if(W===le)if(W.component){const Me=H.getContext(W.outlet);Me&&this.deactivateChildRoutes(M,O,Me.children)}else this.deactivateChildRoutes(M,O,H);else le&&this.deactivateRouteAndItsChildren(O,H)}deactivateRouteAndItsChildren(M,O){this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,O):this.deactivateRouteAndOutlet(M,O)}detachAndStoreRouteSubtree(M,O){const H=O.getContext(M.value.outlet);if(H&&H.outlet){const W=H.outlet.detach(),le=H.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:W,route:M,contexts:le})}}deactivateRouteAndOutlet(M,O){const H=O.getContext(M.value.outlet),W=H&&M.value.component?H.children:O,le=ui(M);for(const Me of Object.keys(le))this.deactivateRouteAndItsChildren(le[Me],W);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(M,O,H){const W=ui(O);M.children.forEach(le=>{this.activateRoutes(le,W[le.value.outlet],H),this.forwardEvent(new yi(le.value.snapshot))}),M.children.length&&this.forwardEvent(new fr(M.value.snapshot))}activateRoutes(M,O,H){const W=M.value,le=O?O.value:null;if(Bi(W),W===le)if(W.component){const Me=H.getOrCreateContext(W.outlet);this.activateChildRoutes(M,O,Me.children)}else this.activateChildRoutes(M,O,H);else if(W.component){const Me=H.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const Oe=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Me.children.onOutletReAttached(Oe.contexts),Me.attachRef=Oe.componentRef,Me.route=Oe.route.value,Me.outlet&&Me.outlet.attach(Oe.componentRef,Oe.route.value),Xo(Oe.route)}else{const Oe=function(U){for(let M=U.parent;M;M=M.parent){const O=M.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig;if(O&&O.component)return null}return null}(W.snapshot),Ht=Oe?Oe.module.componentFactoryResolver:null;Me.attachRef=null,Me.route=W,Me.resolver=Ht,Me.outlet&&Me.outlet.activateWith(W,Ht),this.activateChildRoutes(M,null,Me.children)}}else this.activateChildRoutes(M,null,H)}}function Xo(U){Bi(U.value),U.children.forEach(Xo)}class Eo{constructor(M,O){this.routes=M,this.module=O}}function ns(U){return"function"==typeof U}function ao(U){return U instanceof Pr}const G=Symbol("INITIAL_VALUE");function se(){return(0,yn.w)(U=>function(...U){let M,O;return(0,te.K)(U[U.length-1])&&(O=U.pop()),"function"==typeof U[U.length-1]&&(M=U.pop()),1===U.length&&(0,Ue.k)(U[0])&&(U=U[0]),(0,he.n)(U,O).lift(new Ke(M))}(U.map(M=>M.pipe((0,mr.q)(1),(0,Ei.O)(G)))).pipe((0,Rr.R)((M,O)=>{let H=!1;return O.reduce((W,le,Me)=>W!==G?W:(le===G&&(H=!0),H||!1!==le&&Me!==O.length-1&&!ao(le)?W:le),M)},G),(0,Je.h)(M=>M!==G),(0,on.U)(M=>ao(M)?M:!0===M),(0,mr.q)(1)))}let Z=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275cmp=o.Xpm({type:U,selectors:[["ng-component"]],decls:1,vars:0,template:function(O,H){1&O&&o._UZ(0,"router-outlet")},directives:function(){return[fu]},encapsulation:2}),U})();function oe(U,M=""){for(let O=0;O<U.length;O++){const H=U[O];$e(H,wt(M,H))}}function $e(U,M){U.children&&oe(U.children,M)}function wt(U,M){return M?U||M.path?U&&!M.path?`${U}/`:!U&&M.path?M.path:`${U}/${M.path}`:"":U}function ne(U){const M=U.children&&U.children.map(ne),O=M?Object.assign(Object.assign({},U),{children:M}):Object.assign({},U);return!O.component&&(M||O.loadChildren)&&O.outlet&&O.outlet!==Rn&&(O.component=Z),O}function ae(U){return U.outlet||Rn}function je(U,M){const O=U.filter(H=>ae(H)===M);return O.push(...U.filter(H=>ae(H)!==M)),O}const ot={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function jt(U,M,O){var H;if(""===M.path)return"full"===M.pathMatch&&(U.hasChildren()||O.length>0)?Object.assign({},ot):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const le=(M.matcher||Ee)(O,U,M);if(!le)return Object.assign({},ot);const Me={};Zn(le.posParams,(Ht,Ln)=>{Me[Ln]=Ht.path});const Oe=le.consumed.length>0?Object.assign(Object.assign({},Me),le.consumed[le.consumed.length-1].parameters):Me;return{matched:!0,consumedSegments:le.consumed,lastChild:le.consumed.length,parameters:Oe,positionalParamSegments:null!==(H=le.posParams)&&void 0!==H?H:{}}}function Wt(U,M,O,H,W="corrected"){if(O.length>0&&function(U,M,O){return O.some(H=>gr(U,M,H)&&ae(H)!==Rn)}(U,O,H)){const Me=new sn(M,function(U,M,O,H){const W={};W[Rn]=H,H._sourceSegment=U,H._segmentIndexShift=M.length;for(const le of O)if(""===le.path&&ae(le)!==Rn){const Me=new sn([],{});Me._sourceSegment=U,Me._segmentIndexShift=M.length,W[ae(le)]=Me}return W}(U,M,H,new sn(O,U.children)));return Me._sourceSegment=U,Me._segmentIndexShift=M.length,{segmentGroup:Me,slicedSegments:[]}}if(0===O.length&&function(U,M,O){return O.some(H=>gr(U,M,H))}(U,O,H)){const Me=new sn(U.segments,function(U,M,O,H,W,le){const Me={};for(const Oe of H)if(gr(U,O,Oe)&&!W[ae(Oe)]){const Ht=new sn([],{});Ht._sourceSegment=U,Ht._segmentIndexShift="legacy"===le?U.segments.length:M.length,Me[ae(Oe)]=Ht}return Object.assign(Object.assign({},W),Me)}(U,M,O,H,U.children,W));return Me._sourceSegment=U,Me._segmentIndexShift=M.length,{segmentGroup:Me,slicedSegments:O}}const le=new sn(U.segments,U.children);return le._sourceSegment=U,le._segmentIndexShift=M.length,{segmentGroup:le,slicedSegments:O}}function gr(U,M,O){return(!(U.hasChildren()||M.length>0)||"full"!==O.pathMatch)&&""===O.path}function Nn(U,M,O,H){return!!(ae(U)===H||H!==Rn&&gr(M,O,U))&&("**"===U.path||jt(M,U,O).matched)}function Hi(U,M,O){return 0===M.length&&!U.children[O]}class Ds{constructor(M){this.segmentGroup=M||null}}class ps{constructor(M){this.urlTree=M}}function gs(U){return new Te.y(M=>M.error(new Ds(U)))}function Do(U){return new Te.y(M=>M.error(new ps(U)))}function cl(U){return new Te.y(M=>M.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${U}'`)))}class As{constructor(M,O,H,W,le){this.configLoader=O,this.urlSerializer=H,this.urlTree=W,this.config=le,this.allowRedirects=!0,this.ngModule=M.get(o.h0i)}apply(){const M=Wt(this.urlTree.root,[],[],this.config).segmentGroup,O=new sn(M.segments,M.children);return this.expandSegmentGroup(this.ngModule,this.config,O,Rn).pipe((0,on.U)(le=>this.createUrlTree(lo(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lt(le=>{if(le instanceof ps)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof Ds?this.noMatchError(le):le}))}match(M){return this.expandSegmentGroup(this.ngModule,this.config,M.root,Rn).pipe((0,on.U)(W=>this.createUrlTree(lo(W),M.queryParams,M.fragment))).pipe(lt(W=>{throw W instanceof Ds?this.noMatchError(W):W}))}noMatchError(M){return new Error(`Cannot match any routes. URL Segment: '${M.segmentGroup}'`)}createUrlTree(M,O,H){const W=M.segments.length>0?new sn([],{[Rn]:M}):M;return new Pr(W,O,H)}expandSegmentGroup(M,O,H,W){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(M,O,H).pipe((0,on.U)(le=>new sn([],le))):this.expandSegment(M,H,O,H.segments,W,!0)}expandChildren(M,O,H){const W=[];for(const le of Object.keys(H.children))"primary"===le?W.unshift(le):W.push(le);return(0,tt.D)(W).pipe((0,Un.b)(le=>{const Me=H.children[le],Oe=je(O,le);return this.expandSegmentGroup(M,Oe,Me,le).pipe((0,on.U)(Ht=>({segment:Ht,outlet:le})))}),(0,Rr.R)((le,Me)=>(le[Me.outlet]=Me.segment,le),{}),function(U,M){const O=arguments.length>=2;return H=>H.pipe(U?(0,Je.h)((W,le)=>U(W,le,H)):sr.y,yt(1),O?(0,Tn.d)(M):(0,En.T)(()=>new Jt.K))}())}expandSegment(M,O,H,W,le,Me){return(0,tt.D)(H).pipe((0,Un.b)(Oe=>this.expandSegmentAgainstRoute(M,O,H,Oe,W,le,Me).pipe(lt(Ln=>{if(Ln instanceof Ds)return(0,ce.of)(null);throw Ln}))),(0,Qn.P)(Oe=>!!Oe),lt((Oe,Ht)=>{if(Oe instanceof Jt.K||"EmptyError"===Oe.name){if(Hi(O,W,le))return(0,ce.of)(new sn([],{}));throw new Ds(O)}throw Oe}))}expandSegmentAgainstRoute(M,O,H,W,le,Me,Oe){return Nn(W,O,le,Me)?void 0===W.redirectTo?this.matchSegmentAgainstRoute(M,O,W,le,Me):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,O,H,W,le,Me):gs(O):gs(O)}expandSegmentAgainstRouteUsingRedirect(M,O,H,W,le,Me){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,H,W,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(M,O,H,W,le,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,O,H,W){const le=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?Do(le):this.lineralizeSegments(H,le).pipe((0,yr.zg)(Me=>{const Oe=new sn(Me,{});return this.expandSegment(M,Oe,O,Me,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,O,H,W,le,Me){const{matched:Oe,consumedSegments:Ht,lastChild:Ln,positionalParamSegments:Kn}=jt(O,W,le);if(!Oe)return gs(O);const en=this.applyRedirectCommands(Ht,W.redirectTo,Kn);return W.redirectTo.startsWith("/")?Do(en):this.lineralizeSegments(W,en).pipe((0,yr.zg)(pi=>this.expandSegment(M,O,H,pi.concat(le.slice(Ln)),Me,!1)))}matchSegmentAgainstRoute(M,O,H,W,le){if("**"===H.path)return H.loadChildren?(H._loadedConfig?(0,ce.of)(H._loadedConfig):this.configLoader.load(M.injector,H)).pipe((0,on.U)(pi=>(H._loadedConfig=pi,new sn(W,{})))):(0,ce.of)(new sn(W,{}));const{matched:Me,consumedSegments:Oe,lastChild:Ht}=jt(O,H,W);if(!Me)return gs(O);const Ln=W.slice(Ht);return this.getChildConfig(M,H,W).pipe((0,yr.zg)(en=>{const pi=en.module,xn=en.routes,{segmentGroup:is,slicedSegments:Qr}=Wt(O,Oe,Ln,xn),fn=new sn(is.segments,is.children);if(0===Qr.length&&fn.hasChildren())return this.expandChildren(pi,xn,fn).pipe((0,on.U)(Zu=>new sn(Oe,Zu)));if(0===xn.length&&0===Qr.length)return(0,ce.of)(new sn(Oe,{}));const wa=ae(H)===le;return this.expandSegment(pi,fn,xn,Qr,wa?Rn:le,!0).pipe((0,on.U)(ss=>new sn(Oe.concat(ss.segments),ss.children)))}))}getChildConfig(M,O,H){return O.children?(0,ce.of)(new Eo(O.children,M)):O.loadChildren?void 0!==O._loadedConfig?(0,ce.of)(O._loadedConfig):this.runCanLoadGuards(M.injector,O,H).pipe((0,yr.zg)(W=>{return W?this.configLoader.load(M.injector,O).pipe((0,on.U)(le=>(O._loadedConfig=le,le))):(U=O,new Te.y(M=>M.error(xe(`Cannot load children because the guard of the route "path: '${U.path}'" returned false`))));var U})):(0,ce.of)(new Eo([],M))}runCanLoadGuards(M,O,H){const W=O.canLoad;if(!W||0===W.length)return(0,ce.of)(!0);const le=W.map(Me=>{const Oe=M.get(Me);let Ht;if((U=Oe)&&ns(U.canLoad))Ht=Oe.canLoad(O,H);else{if(!ns(Oe))throw new Error("Invalid CanLoad guard");Ht=Oe(O,H)}var U;return st(Ht)});return(0,ce.of)(le).pipe(se(),(0,vn.b)(Me=>{if(!ao(Me))return;const Oe=xe(`Redirecting to "${this.urlSerializer.serialize(Me)}"`);throw Oe.url=Me,Oe}),(0,on.U)(Me=>!0===Me))}lineralizeSegments(M,O){let H=[],W=O.root;for(;;){if(H=H.concat(W.segments),0===W.numberOfChildren)return(0,ce.of)(H);if(W.numberOfChildren>1||!W.children[Rn])return cl(M.redirectTo);W=W.children[Rn]}}applyRedirectCommands(M,O,H){return this.applyRedirectCreatreUrlTree(O,this.urlSerializer.parse(O),M,H)}applyRedirectCreatreUrlTree(M,O,H,W){const le=this.createSegmentGroup(M,O.root,H,W);return new Pr(le,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(M,O){const H={};return Zn(M,(W,le)=>{if("string"==typeof W&&W.startsWith(":")){const Oe=W.substring(1);H[le]=O[Oe]}else H[le]=W}),H}createSegmentGroup(M,O,H,W){const le=this.createSegments(M,O.segments,H,W);let Me={};return Zn(O.children,(Oe,Ht)=>{Me[Ht]=this.createSegmentGroup(M,Oe,H,W)}),new sn(le,Me)}createSegments(M,O,H,W){return O.map(le=>le.path.startsWith(":")?this.findPosParam(M,le,W):this.findOrReturn(le,H))}findPosParam(M,O,H){const W=H[O.path.substring(1)];if(!W)throw new Error(`Cannot redirect to '${M}'. Cannot find '${O.path}'.`);return W}findOrReturn(M,O){let H=0;for(const W of O){if(W.path===M.path)return O.splice(H),W;H++}return M}}function lo(U){const M={};for(const H of Object.keys(U.children)){const le=lo(U.children[H]);(le.segments.length>0||le.hasChildren())&&(M[H]=le)}return function(U){if(1===U.numberOfChildren&&U.children[Rn]){const M=U.children[Rn];return new sn(U.segments.concat(M.segments),M.children)}return U}(new sn(U.segments,M))}class Ao{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class dl{constructor(M,O){this.component=M,this.route=O}}function Vt(U,M,O){const H=U._root;return x(H,M?M._root:null,O,[H.value])}function X(U,M,O){const H=function(U){if(!U)return null;for(let M=U.parent;M;M=M.parent){const O=M.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig}return null}(M);return(H?H.module.injector:O).get(U)}function x(U,M,O,H,W={canDeactivateChecks:[],canActivateChecks:[]}){const le=ui(M);return U.children.forEach(Me=>{(function(U,M,O,H,W={canDeactivateChecks:[],canActivateChecks:[]}){const le=U.value,Me=M?M.value:null,Oe=O?O.getContext(U.value.outlet):null;if(Me&&le.routeConfig===Me.routeConfig){const Ht=function(U,M,O){if("function"==typeof O)return O(U,M);switch(O){case"pathParamsChange":return!Fr(U.url,M.url);case"pathParamsOrQueryParamsChange":return!Fr(U.url,M.url)||!De(U.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zs(U,M)||!De(U.queryParams,M.queryParams);default:return!zs(U,M)}}(Me,le,le.routeConfig.runGuardsAndResolvers);Ht?W.canActivateChecks.push(new Ao(H)):(le.data=Me.data,le._resolvedData=Me._resolvedData),x(U,M,le.component?Oe?Oe.children:null:O,H,W),Ht&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&W.canDeactivateChecks.push(new dl(Oe.outlet.component,Me))}else Me&&fe(M,Oe,W),W.canActivateChecks.push(new Ao(H)),x(U,null,le.component?Oe?Oe.children:null:O,H,W)})(Me,le[Me.value.outlet],O,H.concat([Me.value]),W),delete le[Me.value.outlet]}),Zn(le,(Me,Oe)=>fe(Me,O.getContext(Oe),W)),W}function fe(U,M,O){const H=ui(U),W=U.value;Zn(H,(le,Me)=>{fe(le,W.component?M?M.children.getContext(Me):null:M,O)}),O.canDeactivateChecks.push(new dl(W.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,W))}class qn{}function ar(U){return new Te.y(M=>M.error(U))}class Mi{constructor(M,O,H,W,le,Me){this.rootComponentType=M,this.config=O,this.urlTree=H,this.url=W,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=Me}recognize(){const M=Wt(this.urlTree.root,[],[],this.config.filter(Me=>void 0===Me.redirectTo),this.relativeLinkResolution).segmentGroup,O=this.processSegmentGroup(this.config,M,Rn);if(null===O)return null;const H=new Gr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),W=new pr(H,O),le=new _o(this.url,W);return this.inheritParamsAndData(le._root),le}inheritParamsAndData(M){const O=M.value,H=fs(O,this.paramsInheritanceStrategy);O.params=Object.freeze(H.params),O.data=Object.freeze(H.data),M.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(M,O,H){return 0===O.segments.length&&O.hasChildren()?this.processChildren(M,O):this.processSegment(M,O,O.segments,H)}processChildren(M,O){const H=[];for(const le of Object.keys(O.children)){const Me=O.children[le],Oe=je(M,le),Ht=this.processSegmentGroup(Oe,Me,le);if(null===Ht)return null;H.push(...Ht)}const W=xo(H);return W.sort((M,O)=>M.value.outlet===Rn?-1:O.value.outlet===Rn?1:M.value.outlet.localeCompare(O.value.outlet)),W}processSegment(M,O,H,W){for(const le of M){const Me=this.processSegmentAgainstRoute(le,O,H,W);if(null!==Me)return Me}return Hi(O,H,W)?[]:null}processSegmentAgainstRoute(M,O,H,W){if(M.redirectTo||!Nn(M,O,H,W))return null;let le,Me=[],Oe=[];if("**"===M.path){const xn=H.length>0?Vn(H).parameters:{};le=new Gr(H,xn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oo(M),ae(M),M.component,M,Yi(O),uo(O)+H.length,js(M))}else{const xn=jt(O,M,H);if(!xn.matched)return null;Me=xn.consumedSegments,Oe=H.slice(xn.lastChild),le=new Gr(Me,xn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oo(M),ae(M),M.component,M,Yi(O),uo(O)+Me.length,js(M))}const Ht=(U=M).children?U.children:U.loadChildren?U._loadedConfig.routes:[],{segmentGroup:Ln,slicedSegments:Kn}=Wt(O,Me,Oe,Ht.filter(xn=>void 0===xn.redirectTo),this.relativeLinkResolution);var U;if(0===Kn.length&&Ln.hasChildren()){const xn=this.processChildren(Ht,Ln);return null===xn?null:[new pr(le,xn)]}if(0===Ht.length&&0===Kn.length)return[new pr(le,[])];const en=ae(M)===W,pi=this.processSegment(Ht,Ln,Kn,en?Rn:W);return null===pi?null:[new pr(le,pi)]}}function Sr(U){const M=U.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function xo(U){const M=[],O=new Set;for(const H of U){if(!Sr(H)){M.push(H);continue}const W=M.find(le=>H.value.routeConfig===le.value.routeConfig);void 0!==W?(W.children.push(...H.children),O.add(W)):M.push(H)}for(const H of O){const W=xo(H.children);M.push(new pr(H.value,W))}return M.filter(H=>!O.has(H))}function Yi(U){let M=U;for(;M._sourceSegment;)M=M._sourceSegment;return M}function uo(U){let M=U,O=M._segmentIndexShift?M._segmentIndexShift:0;for(;M._sourceSegment;)M=M._sourceSegment,O+=M._segmentIndexShift?M._segmentIndexShift:0;return O-1}function Oo(U){return U.data||{}}function js(U){return U.resolve||{}}function Gn(U){return(0,yn.w)(M=>{const O=U(M);return O?(0,tt.D)(O).pipe((0,on.U)(()=>M)):(0,ce.of)(M)})}class Vr extends class{shouldDetach(M){return!1}store(M,O){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,O){return M.routeConfig===O.routeConfig}}{}const Bn=new o.OlP("ROUTES");class ms{constructor(M,O,H,W){this.loader=M,this.compiler=O,this.onLoadStartListener=H,this.onLoadEndListener=W}load(M,O){if(O._loader$)return O._loader$;this.onLoadStartListener&&this.onLoadStartListener(O);const W=this.loadModuleFactory(O.loadChildren).pipe((0,on.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(O);const Me=le.create(M);return new Eo(nn(Me.injector.get(Bn,void 0,o.XFs.Self|o.XFs.Optional)).map(ne),Me)}),lt(le=>{throw O._loader$=void 0,le}));return O._loader$=new Rt.c(W,()=>new Nt.xQ).pipe((0,dr.x)()),O._loader$}loadModuleFactory(M){return"string"==typeof M?(0,tt.D)(this.loader.load(M)):st(M()).pipe((0,yr.zg)(O=>O instanceof o.YKP?(0,ce.of)(O):(0,tt.D)(this.compiler.compileModuleAsync(O))))}}class Ri{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $i,this.attachRef=null}}class $i{constructor(){this.contexts=new Map}onChildOutletCreated(M,O){const H=this.getOrCreateContext(M);H.outlet=O,this.contexts.set(M,H)}onChildOutletDestroyed(M){const O=this.getContext(M);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let O=this.getContext(M);return O||(O=new Ri,this.contexts.set(M,O)),O}getContext(M){return this.contexts.get(M)||null}}class rs{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,O){return M}}function Ys(U){throw U}function Lo(U,M,O){return M.parse("/")}function co(U,M){return(0,ce.of)(null)}const ys={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class U{constructor(O,H,W,le,Me,Oe,Ht,Ln){this.rootComponentType=O,this.urlSerializer=H,this.rootContexts=W,this.location=le,this.config=Ln,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt.xQ,this.errorHandler=Ys,this.malformedUriErrorHandler=Lo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:co,afterPreactivation:co},this.urlHandlingStrategy=new rs,this.routeReuseStrategy=new Vr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Me.get(o.h0i),this.console=Me.get(o.c2e);const pi=Me.get(o.R0b);this.isNgZoneEnabled=pi instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(Ln),this.currentUrlTree=new Pr(new sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ms(Oe,Ht,xn=>this.triggerEvent(new Tr(xn)),xn=>this.triggerEvent(new wn(xn))),this.routerState=ci(this.currentUrlTree,this.rootComponentType),this.transitions=new vt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var O;return null===(O=this.location.getState())||void 0===O?void 0:O.\u0275routerPageId}setupNavigations(O){const H=this.events;return O.pipe((0,Je.h)(W=>0!==W.id),(0,on.U)(W=>Object.assign(Object.assign({},W),{extractedUrl:this.urlHandlingStrategy.extract(W.rawUrl)})),(0,yn.w)(W=>{let le=!1,Me=!1;return(0,ce.of)(W).pipe((0,vn.b)(Oe=>{this.currentNavigation={id:Oe.id,initialUrl:Oe.currentRawUrl,extractedUrl:Oe.extractedUrl,trigger:Oe.source,extras:Oe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,yn.w)(Oe=>{const Ht=this.browserUrlTree.toString(),Ln=!this.navigated||Oe.extractedUrl.toString()!==Ht||Ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ln)&&this.urlHandlingStrategy.shouldProcessUrl(Oe.rawUrl))return Vo(Oe.source)&&(this.browserUrlTree=Oe.extractedUrl),(0,ce.of)(Oe).pipe((0,yn.w)(en=>{const pi=this.transitions.getValue();return H.next(new Yr(en.id,this.serializeUrl(en.extractedUrl),en.source,en.restoredState)),pi!==this.transitions.getValue()?Ct.E:Promise.resolve(en)}),function(U,M,O,H){return(0,yn.w)(W=>function(U,M,O,H,W){return new As(U,M,O,H,W).apply()}(U,M,O,W.extractedUrl,H).pipe((0,on.U)(le=>Object.assign(Object.assign({},W),{urlAfterRedirects:le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vn.b)(en=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:en.urlAfterRedirects})}),function(U,M,O,H,W){return(0,yr.zg)(le=>function(U,M,O,H,W="emptyOnly",le="legacy"){try{const Me=new Mi(U,M,O,H,W,le).recognize();return null===Me?ar(new qn):(0,ce.of)(Me)}catch(Me){return ar(Me)}}(U,M,le.urlAfterRedirects,O(le.urlAfterRedirects),H,W).pipe((0,on.U)(Me=>Object.assign(Object.assign({},le),{targetSnapshot:Me}))))}(this.rootComponentType,this.config,en=>this.serializeUrl(en),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vn.b)(en=>{"eager"===this.urlUpdateStrategy&&(en.extras.skipLocationChange||this.setBrowserUrl(en.urlAfterRedirects,en),this.browserUrlTree=en.urlAfterRedirects);const pi=new hi(en.id,this.serializeUrl(en.extractedUrl),this.serializeUrl(en.urlAfterRedirects),en.targetSnapshot);H.next(pi)}));if(Ln&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:pi,extractedUrl:xn,source:is,restoredState:Qr,extras:fn}=Oe,wa=new Yr(pi,this.serializeUrl(xn),is,Qr);H.next(wa);const Qs=ci(xn,this.rootComponentType).snapshot;return(0,ce.of)(Object.assign(Object.assign({},Oe),{targetSnapshot:Qs,urlAfterRedirects:xn,extras:Object.assign(Object.assign({},fn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Oe.rawUrl,this.browserUrlTree=Oe.urlAfterRedirects,Oe.resolve(null),Ct.E}),Gn(Oe=>{const{targetSnapshot:Ht,id:Ln,extractedUrl:Kn,rawUrl:en,extras:{skipLocationChange:pi,replaceUrl:xn}}=Oe;return this.hooks.beforePreactivation(Ht,{navigationId:Ln,appliedUrlTree:Kn,rawUrlTree:en,skipLocationChange:!!pi,replaceUrl:!!xn})}),(0,vn.b)(Oe=>{const Ht=new cn(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(Ht)}),(0,on.U)(Oe=>Object.assign(Object.assign({},Oe),{guards:Vt(Oe.targetSnapshot,Oe.currentSnapshot,this.rootContexts)})),function(U,M){return(0,yr.zg)(O=>{const{targetSnapshot:H,currentSnapshot:W,guards:{canActivateChecks:le,canDeactivateChecks:Me}}=O;return 0===Me.length&&0===le.length?(0,ce.of)(Object.assign(Object.assign({},O),{guardsResult:!0})):function(U,M,O,H){return(0,tt.D)(U).pipe((0,yr.zg)(W=>function(U,M,O,H,W){const le=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,ce.of)(!0);const Me=le.map(Oe=>{const Ht=X(Oe,M,W);let Ln;if(function(U){return U&&ns(U.canDeactivate)}(Ht))Ln=st(Ht.canDeactivate(U,M,O,H));else{if(!ns(Ht))throw new Error("Invalid CanDeactivate guard");Ln=st(Ht(U,M,O,H))}return Ln.pipe((0,Qn.P)())});return(0,ce.of)(Me).pipe(se())}(W.component,W.route,O,M,H)),(0,Qn.P)(W=>!0!==W,!0))}(Me,H,W,U).pipe((0,yr.zg)(Oe=>Oe&&function(U){return"boolean"==typeof U}(Oe)?function(U,M,O,H){return(0,tt.D)(M).pipe((0,Un.b)(W=>(0,Zt.z)(function(U,M){return null!==U&&M&&M(new rn(U)),(0,ce.of)(!0)}(W.route.parent,H),function(U,M){return null!==U&&M&&M(new Xi(U)),(0,ce.of)(!0)}(W.route,H),function(U,M,O){const H=M[M.length-1],le=M.slice(0,M.length-1).reverse().map(Me=>function(U){const M=U.routeConfig?U.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:U,guards:M}:null}(Me)).filter(Me=>null!==Me).map(Me=>(0,St.P)(()=>{const Oe=Me.guards.map(Ht=>{const Ln=X(Ht,Me.node,O);let Kn;if(function(U){return U&&ns(U.canActivateChild)}(Ln))Kn=st(Ln.canActivateChild(H,U));else{if(!ns(Ln))throw new Error("Invalid CanActivateChild guard");Kn=st(Ln(H,U))}return Kn.pipe((0,Qn.P)())});return(0,ce.of)(Oe).pipe(se())}));return(0,ce.of)(le).pipe(se())}(U,W.path,O),function(U,M,O){const H=M.routeConfig?M.routeConfig.canActivate:null;if(!H||0===H.length)return(0,ce.of)(!0);const W=H.map(le=>(0,St.P)(()=>{const Me=X(le,M,O);let Oe;if(function(U){return U&&ns(U.canActivate)}(Me))Oe=st(Me.canActivate(M,U));else{if(!ns(Me))throw new Error("Invalid CanActivate guard");Oe=st(Me(M,U))}return Oe.pipe((0,Qn.P)())}));return(0,ce.of)(W).pipe(se())}(U,W.route,O))),(0,Qn.P)(W=>!0!==W,!0))}(H,le,U,M):(0,ce.of)(Oe)),(0,on.U)(Oe=>Object.assign(Object.assign({},O),{guardsResult:Oe})))})}(this.ngModule.injector,Oe=>this.triggerEvent(Oe)),(0,vn.b)(Oe=>{if(ao(Oe.guardsResult)){const Ln=xe(`Redirecting to "${this.serializeUrl(Oe.guardsResult)}"`);throw Ln.url=Oe.guardsResult,Ln}const Ht=new Zr(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot,!!Oe.guardsResult);this.triggerEvent(Ht)}),(0,Je.h)(Oe=>!!Oe.guardsResult||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,""),!1)),Gn(Oe=>{if(Oe.guards.canActivateChecks.length)return(0,ce.of)(Oe).pipe((0,vn.b)(Ht=>{const Ln=new oi(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot);this.triggerEvent(Ln)}),(0,yn.w)(Ht=>{let Ln=!1;return(0,ce.of)(Ht).pipe(function(U,M){return(0,yr.zg)(O=>{const{targetSnapshot:H,guards:{canActivateChecks:W}}=O;if(!W.length)return(0,ce.of)(O);let le=0;return(0,tt.D)(W).pipe((0,Un.b)(Me=>function(U,M,O,H){return function(U,M,O,H){const W=Object.keys(U);if(0===W.length)return(0,ce.of)({});const le={};return(0,tt.D)(W).pipe((0,yr.zg)(Me=>function(U,M,O,H){const W=X(U,M,H);return st(W.resolve?W.resolve(M,O):W(M,O))}(U[Me],M,O,H).pipe((0,vn.b)(Oe=>{le[Me]=Oe}))),yt(1),(0,yr.zg)(()=>Object.keys(le).length===W.length?(0,ce.of)(le):Ct.E))}(U._resolve,U,M,H).pipe((0,on.U)(le=>(U._resolvedData=le,U.data=Object.assign(Object.assign({},U.data),fs(U,O).resolve),null)))}(Me.route,H,U,M)),(0,vn.b)(()=>le++),yt(1),(0,yr.zg)(Me=>le===W.length?(0,ce.of)(O):Ct.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vn.b)({next:()=>Ln=!0,complete:()=>{Ln||(this.restoreHistory(Ht),this.cancelNavigationTransition(Ht,"At least one route resolver didn't emit any value."))}}))}),(0,vn.b)(Ht=>{const Ln=new $r(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot);this.triggerEvent(Ln)}))}),Gn(Oe=>{const{targetSnapshot:Ht,id:Ln,extractedUrl:Kn,rawUrl:en,extras:{skipLocationChange:pi,replaceUrl:xn}}=Oe;return this.hooks.afterPreactivation(Ht,{navigationId:Ln,appliedUrlTree:Kn,rawUrlTree:en,skipLocationChange:!!pi,replaceUrl:!!xn})}),(0,on.U)(Oe=>{const Ht=function(U,M,O){const H=Ws(U,M._root,O?O._root:void 0);return new jr(H,M)}(this.routeReuseStrategy,Oe.targetSnapshot,Oe.currentRouterState);return Object.assign(Object.assign({},Oe),{targetRouterState:Ht})}),(0,vn.b)(Oe=>{this.currentUrlTree=Oe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Oe.urlAfterRedirects,Oe.rawUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Oe),this.browserUrlTree=Oe.urlAfterRedirects)}),((U,M,O)=>(0,on.U)(H=>(new Jo(M,H.targetRouterState,H.currentRouterState,O).activate(U),H)))(this.rootContexts,this.routeReuseStrategy,Oe=>this.triggerEvent(Oe)),(0,vn.b)({next(){le=!0},complete(){le=!0}}),function(U){return M=>M.lift(new Nr(U))}(()=>{var Oe;if(!le&&!Me){const Ht=`Navigation ID ${W.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(W),this.cancelNavigationTransition(W,Ht)):this.cancelNavigationTransition(W,Ht)}(null===(Oe=this.currentNavigation)||void 0===Oe?void 0:Oe.id)===W.id&&(this.currentNavigation=null)}),lt(Oe=>{if(Me=!0,function(U){return U&&U[_i]}(Oe)){const Ht=ao(Oe.url);Ht||(this.navigated=!0,this.restoreHistory(W,!0));const Ln=new Br(W.id,this.serializeUrl(W.extractedUrl),Oe.message);H.next(Ln),Ht?setTimeout(()=>{const Kn=this.urlHandlingStrategy.merge(Oe.url,this.rawUrlTree),en={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vo(W.source)};this.scheduleNavigation(Kn,"imperative",null,en,{resolve:W.resolve,reject:W.reject,promise:W.promise})},0):W.resolve(!1)}else{this.restoreHistory(W,!0);const Ht=new ti(W.id,this.serializeUrl(W.extractedUrl),Oe);H.next(Ht);try{W.resolve(this.errorHandler(Oe))}catch(Ln){W.reject(Ln)}}return Ct.E}))}))}resetRootComponentType(O){this.rootComponentType=O,this.routerState.root.component=this.rootComponentType}getTransition(){const O=this.transitions.value;return O.urlAfterRedirects=this.browserUrlTree,O}setTransition(O){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),O))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const H=this.extractLocationChangeInfoFromEvent(O);this.shouldScheduleNavigation(this.lastLocationChangeInfo,H)&&setTimeout(()=>{const{source:W,state:le,urlTree:Me}=H,Oe={replaceUrl:!0};if(le){const Ht=Object.assign({},le);delete Ht.navigationId,delete Ht.\u0275routerPageId,0!==Object.keys(Ht).length&&(Oe.state=Ht)}this.scheduleNavigation(Me,W,le,Oe)},0),this.lastLocationChangeInfo=H}))}extractLocationChangeInfoFromEvent(O){var H;return{source:"popstate"===O.type?"popstate":"hashchange",urlTree:this.parseUrl(O.url),state:(null===(H=O.state)||void 0===H?void 0:H.navigationId)?O.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(O,H){if(!O)return!0;const W=H.urlTree.toString()===O.urlTree.toString();return H.transitionId!==O.transitionId||!W||!("hashchange"===H.source&&"popstate"===O.source||"popstate"===H.source&&"hashchange"===O.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(O){this.events.next(O)}resetConfig(O){oe(O),this.config=O.map(ne),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,H={}){const{relativeTo:W,queryParams:le,fragment:Me,queryParamsHandling:Oe,preserveFragment:Ht}=H,Ln=W||this.routerState.root,Kn=Ht?this.currentUrlTree.fragment:Me;let en=null;switch(Oe){case"merge":en=Object.assign(Object.assign({},this.currentUrlTree.queryParams),le);break;case"preserve":en=this.currentUrlTree.queryParams;break;default:en=le||null}return null!==en&&(en=this.removeEmptyProps(en)),function(U,M,O,H,W){if(0===O.length)return Wo(M.root,M.root,M,H,W);const le=function(U){if("string"==typeof U[0]&&1===U.length&&"/"===U[0])return new ya(!0,0,U);let M=0,O=!1;const H=U.reduce((W,le,Me)=>{if("object"==typeof le&&null!=le){if(le.outlets){const Oe={};return Zn(le.outlets,(Ht,Ln)=>{Oe[Ln]="string"==typeof Ht?Ht.split("/"):Ht}),[...W,{outlets:Oe}]}if(le.segmentPath)return[...W,le.segmentPath]}return"string"!=typeof le?[...W,le]:0===Me?(le.split("/").forEach((Oe,Ht)=>{0==Ht&&"."===Oe||(0==Ht&&""===Oe?O=!0:".."===Oe?M++:""!=Oe&&W.push(Oe))}),W):[...W,le]},[]);return new ya(O,M,H)}(O);if(le.toRoot())return Wo(M.root,new sn([],{}),M,H,W);const Me=function(U,M,O){if(U.isAbsolute)return new Co(M.root,!0,0);if(-1===O.snapshot._lastPathIndex){const le=O.snapshot._urlSegment;return new Co(le,le===M.root,0)}const H=eo(U.commands[0])?0:1;return function(U,M,O){let H=U,W=M,le=O;for(;le>W;){if(le-=W,H=H.parent,!H)throw new Error("Invalid number of '../'");W=H.segments.length}return new Co(H,!1,W-le)}(O.snapshot._urlSegment,O.snapshot._lastPathIndex+H,U.numberOfDoubleDots)}(le,M,U),Oe=Me.processChildren?So(Me.segmentGroup,Me.index,le.commands):Ko(Me.segmentGroup,Me.index,le.commands);return Wo(Me.segmentGroup,Oe,M,H,W)}(Ln,this.currentUrlTree,O,en,null!=Kn?Kn:null)}navigateByUrl(O,H={skipLocationChange:!1}){const W=ao(O)?O:this.parseUrl(O),le=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(le,"imperative",null,H)}navigate(O,H={skipLocationChange:!1}){return function(U){for(let M=0;M<U.length;M++){const O=U[M];if(null==O)throw new Error(`The requested path contains ${O} segment at index ${M}`)}}(O),this.navigateByUrl(this.createUrlTree(O,H),H)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let H;try{H=this.urlSerializer.parse(O)}catch(W){H=this.malformedUriErrorHandler(W,this.urlSerializer,O)}return H}isActive(O,H){let W;if(W=!0===H?Object.assign({},ys):!1===H?Object.assign({},Wa):H,ao(O))return nt(this.currentUrlTree,O,W);const le=this.parseUrl(O);return nt(this.currentUrlTree,le,W)}removeEmptyProps(O){return Object.keys(O).reduce((H,W)=>{const le=O[W];return null!=le&&(H[W]=le),H},{})}processNavigations(){this.navigations.subscribe(O=>{this.navigated=!0,this.lastSuccessfulId=O.id,this.currentPageId=O.targetPageId,this.events.next(new tr(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,O.resolve(!0)},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)})}scheduleNavigation(O,H,W,le,Me){var Oe,Ht;if(this.disposed)return Promise.resolve(!1);const Ln=this.getTransition(),Kn=Vo(H)&&Ln&&!Vo(Ln.source),xn=(this.lastSuccessfulId===Ln.id||this.currentNavigation?Ln.rawUrl:Ln.urlAfterRedirects).toString()===O.toString();if(Kn&&xn)return Promise.resolve(!0);let is,Qr,fn;Me?(is=Me.resolve,Qr=Me.reject,fn=Me.promise):fn=new Promise((ss,Zu)=>{is=ss,Qr=Zu});const wa=++this.navigationId;let Qs;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(W=this.location.getState()),Qs=W&&W.\u0275routerPageId?W.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?null!==(Oe=this.browserPageId)&&void 0!==Oe?Oe:0:(null!==(Ht=this.browserPageId)&&void 0!==Ht?Ht:0)+1):Qs=0,this.setTransition({id:wa,targetPageId:Qs,source:H,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:O,extras:le,resolve:is,reject:Qr,promise:fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fn.catch(ss=>Promise.reject(ss))}setBrowserUrl(O,H){const W=this.urlSerializer.serialize(O),le=Object.assign(Object.assign({},H.extras.state),this.generateNgRouterState(H.id,H.targetPageId));this.location.isCurrentPathEqualTo(W)||H.extras.replaceUrl?this.location.replaceState(W,"",le):this.location.go(W,"",le)}restoreHistory(O,H=!1){var W,le;if("computed"===this.canceledNavigationResolution){const Me=this.currentPageId-O.targetPageId;"popstate"!==O.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)||0===Me?this.currentUrlTree===(null===(le=this.currentNavigation)||void 0===le?void 0:le.finalUrl)&&0===Me&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Me)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(O,H){const W=new Br(O.id,this.serializeUrl(O.extractedUrl),H);this.triggerEvent(W),O.resolve(!1)}generateNgRouterState(O,H){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:H}:{navigationId:O}}}return U.\u0275fac=function(O){return new(O||U)(o.LFG(o.DyG),o.LFG(Ls),o.LFG($i),o.LFG(k.Ye),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},U.\u0275prov=o.Yz7({token:U,factory:U.\u0275fac}),U})();function Vo(U){return"imperative"!==U}let ba=(()=>{class U{constructor(O,H,W,le,Me){this.router=O,this.route=H,this.commands=[],this.onChanges=new Nt.xQ,null==W&&le.setAttribute(Me.nativeElement,"tabindex","0")}ngOnChanges(O){this.onChanges.next(this)}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:[]}onClick(){const O={skipLocationChange:qs(this.skipLocationChange),replaceUrl:qs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,O),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qs(this.preserveFragment)})}}return U.\u0275fac=function(O){return new(O||U)(o.Y36(qi),o.Y36(fi),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},U.\u0275dir=o.lG2({type:U,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(O,H){1&O&&o.NdJ("click",function(){return H.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),U})(),Ea=(()=>{class U{constructor(O,H,W){this.router=O,this.route=H,this.locationStrategy=W,this.commands=[],this.onChanges=new Nt.xQ,this.subscription=O.events.subscribe(le=>{le instanceof tr&&this.updateTargetUrlAndHref()})}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:[]}ngOnChanges(O){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(O,H,W,le,Me){if(0!==O||H||W||le||Me||"string"==typeof this.target&&"_self"!=this.target)return!0;const Oe={skipLocationChange:qs(this.skipLocationChange),replaceUrl:qs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Oe),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qs(this.preserveFragment)})}}return U.\u0275fac=function(O){return new(O||U)(o.Y36(qi),o.Y36(fi),o.Y36(k.S$))},U.\u0275dir=o.lG2({type:U,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(O,H){1&O&&o.NdJ("click",function(le){return H.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&O&&(o.Ikx("href",H.href,o.LSH),o.uIk("target",H.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),U})();function qs(U){return""===U||!!U}let Va=(()=>{class U{constructor(O,H,W,le,Me,Oe){this.router=O,this.element=H,this.renderer=W,this.cdr=le,this.link=Me,this.linkWithHref=Oe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=O.events.subscribe(Ht=>{Ht instanceof tr&&this.update()})}ngAfterContentInit(){(0,ce.of)(this.links.changes,this.linksWithHrefs.changes,(0,ce.of)(null)).pipe((0,kr.J)()).subscribe(O=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var O;null===(O=this.linkInputChangesSubscription)||void 0===O||O.unsubscribe();const H=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(W=>!!W).map(W=>W.onChanges);this.linkInputChangesSubscription=(0,tt.D)(H).pipe((0,kr.J)()).subscribe(W=>{this.isActive!==this.isLinkActive(this.router)(W)&&this.update()})}set routerLinkActive(O){const H=Array.isArray(O)?O:O.split(" ");this.classes=H.filter(W=>!!W)}ngOnChanges(O){this.update()}ngOnDestroy(){var O;this.routerEventsSubscription.unsubscribe(),null===(O=this.linkInputChangesSubscription)||void 0===O||O.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const O=this.hasActiveLinks();this.isActive!==O&&(this.isActive=O,this.cdr.markForCheck(),this.classes.forEach(H=>{O?this.renderer.addClass(this.element.nativeElement,H):this.renderer.removeClass(this.element.nativeElement,H)}))})}isLinkActive(O){const H=function(U){return!!U.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return W=>O.isActive(W.urlTree,H)}hasActiveLinks(){const O=this.isLinkActive(this.router);return this.link&&O(this.link)||this.linkWithHref&&O(this.linkWithHref)||this.links.some(O)||this.linksWithHrefs.some(O)}}return U.\u0275fac=function(O){return new(O||U)(o.Y36(qi),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(ba,8),o.Y36(Ea,8))},U.\u0275dir=o.lG2({type:U,selectors:[["","routerLinkActive",""]],contentQueries:function(O,H,W){if(1&O&&(o.Suo(W,ba,5),o.Suo(W,Ea,5)),2&O){let le;o.iGM(le=o.CRH())&&(H.links=le),o.iGM(le=o.CRH())&&(H.linksWithHrefs=le)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[o.TTD]}),U})(),fu=(()=>{class U{constructor(O,H,W,le,Me){this.parentContexts=O,this.location=H,this.resolver=W,this.changeDetector=Me,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=le||Rn,O.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const O=this.parentContexts.getContext(this.name);O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,O}attach(O,H){this.activated=O,this._activatedRoute=H,this.location.insert(O.hostView)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,H){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=O;const Me=(H=H||this.resolver).resolveComponentFactory(O._futureSnapshot.routeConfig.component),Oe=this.parentContexts.getOrCreateContext(this.name).children,Ht=new Ua(O,Oe,this.location.injector);this.activated=this.location.createComponent(Me,this.location.length,Ht),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return U.\u0275fac=function(O){return new(O||U)(o.Y36($i),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},U.\u0275dir=o.lG2({type:U,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),U})();class Ua{constructor(M,O,H){this.route=M,this.childContexts=O,this.parent=H}get(M,O){return M===fi?this.route:M===$i?this.childContexts:this.parent.get(M,O)}}class Od{}class fl{preload(M,O){return(0,ce.of)(null)}}let _s=(()=>{class U{constructor(O,H,W,le,Me){this.router=O,this.injector=le,this.preloadingStrategy=Me,this.loader=new ms(H,W,Ln=>O.triggerEvent(new Tr(Ln)),Ln=>O.triggerEvent(new wn(Ln)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Je.h)(O=>O instanceof tr),(0,Un.b)(()=>this.preload())).subscribe(()=>{})}preload(){const O=this.injector.get(o.h0i);return this.processRoutes(O,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,H){const W=[];for(const le of H)if(le.loadChildren&&!le.canLoad&&le._loadedConfig){const Me=le._loadedConfig;W.push(this.processRoutes(Me.module,Me.routes))}else le.loadChildren&&!le.canLoad?W.push(this.preloadConfig(O,le)):le.children&&W.push(this.processRoutes(O,le.children));return(0,tt.D)(W).pipe((0,kr.J)(),(0,on.U)(le=>{}))}preloadConfig(O,H){return this.preloadingStrategy.preload(H,()=>(H._loadedConfig?(0,ce.of)(H._loadedConfig):this.loader.load(O.injector,H)).pipe((0,yr.zg)(le=>(H._loadedConfig=le,this.processRoutes(le.module,le.routes)))))}}return U.\u0275fac=function(O){return new(O||U)(o.LFG(qi),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Od))},U.\u0275prov=o.Yz7({token:U,factory:U.\u0275fac}),U})(),Vl=(()=>{class U{constructor(O,H,W={}){this.router=O,this.viewportScroller=H,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(O=>{O instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof tr&&(this.lastId=O.id,this.scheduleScrollEvent(O,this.router.parseUrl(O.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(O=>{O instanceof Or&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,H){this.router.triggerEvent(new Or(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return U.\u0275fac=function(O){return new(O||U)(o.LFG(qi),o.LFG(k.EM),o.LFG(void 0))},U.\u0275prov=o.Yz7({token:U,factory:U.\u0275fac}),U})();const Uo=new o.OlP("ROUTER_CONFIGURATION"),ra=new o.OlP("ROUTER_FORROOT_GUARD"),ia=[k.Ye,{provide:Ls,useClass:Jn},{provide:qi,useFactory:function(U,M,O,H,W,le,Me,Oe={},Ht,Ln){const Kn=new qi(null,U,M,O,H,W,le,nn(Me));return Ht&&(Kn.urlHandlingStrategy=Ht),Ln&&(Kn.routeReuseStrategy=Ln),function(U,M){U.errorHandler&&(M.errorHandler=U.errorHandler),U.malformedUriErrorHandler&&(M.malformedUriErrorHandler=U.malformedUriErrorHandler),U.onSameUrlNavigation&&(M.onSameUrlNavigation=U.onSameUrlNavigation),U.paramsInheritanceStrategy&&(M.paramsInheritanceStrategy=U.paramsInheritanceStrategy),U.relativeLinkResolution&&(M.relativeLinkResolution=U.relativeLinkResolution),U.urlUpdateStrategy&&(M.urlUpdateStrategy=U.urlUpdateStrategy)}(Oe,Kn),Oe.enableTracing&&Kn.events.subscribe(en=>{var pi,xn;null===(pi=console.group)||void 0===pi||pi.call(console,`Router Event: ${en.constructor.name}`),console.log(en.toString()),console.log(en),null===(xn=console.groupEnd)||void 0===xn||xn.call(console)}),Kn},deps:[Ls,$i,k.Ye,o.zs3,o.v3s,o.Sil,Bn,Uo,[class{},new o.FiY],[class{},new o.FiY]]},$i,{provide:fi,useFactory:function(U){return U.routerState.root},deps:[qi]},{provide:o.v3s,useClass:o.EAV},_s,fl,class{preload(M,O){return O().pipe(lt(()=>(0,ce.of)(null)))}},{provide:Uo,useValue:{enableTracing:!1}}];function Xt(){return new o.PXZ("Router",qi)}let zi=(()=>{class U{constructor(O,H){}static forRoot(O,H){return{ngModule:U,providers:[ia,vr(O),{provide:ra,useFactory:Fn,deps:[[qi,new o.FiY,new o.tp0]]},{provide:Uo,useValue:H||{}},{provide:k.S$,useFactory:Gu,deps:[k.lw,[new o.tBr(k.mr),new o.FiY],Uo]},{provide:Vl,useFactory:Mo,deps:[qi,k.EM,Uo]},{provide:Od,useExisting:H&&H.preloadingStrategy?H.preloadingStrategy:fl},{provide:o.PXZ,multi:!0,useFactory:Xt},[$t,{provide:o.ip1,multi:!0,useFactory:cs,deps:[$t]},{provide:Ul,useFactory:sa,deps:[$t]},{provide:o.tb,multi:!0,useExisting:Ul}]]}}static forChild(O){return{ngModule:U,providers:[vr(O)]}}}return U.\u0275fac=function(O){return new(O||U)(o.LFG(ra,8),o.LFG(qi,8))},U.\u0275mod=o.oAB({type:U}),U.\u0275inj=o.cJS({}),U})();function Mo(U,M,O){return O.scrollOffset&&M.setOffset(O.scrollOffset),new Vl(U,M,O)}function Gu(U,M,O={}){return O.useHash?new k.Do(U,M):new k.b0(U,M)}function Fn(U){return"guarded"}function vr(U){return[{provide:o.deG,multi:!0,useValue:U},{provide:Bn,multi:!0,useValue:U}]}let $t=(()=>{class U{constructor(O){this.injector=O,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Nt.xQ}appInitializer(){return this.injector.get(k.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let H=null;const W=new Promise(Oe=>H=Oe),le=this.injector.get(qi),Me=this.injector.get(Uo);return"disabled"===Me.initialNavigation?(le.setUpLocationChangeListener(),H(!0)):"enabled"===Me.initialNavigation||"enabledBlocking"===Me.initialNavigation?(le.hooks.afterPreactivation=()=>this.initNavigation?(0,ce.of)(null):(this.initNavigation=!0,H(!0),this.resultOfPreactivationDone),le.initialNavigation()):H(!0),W})}bootstrapListener(O){const H=this.injector.get(Uo),W=this.injector.get(_s),le=this.injector.get(Vl),Me=this.injector.get(qi),Oe=this.injector.get(o.z2F);O===Oe.components[0]&&(("enabledNonBlocking"===H.initialNavigation||void 0===H.initialNavigation)&&Me.initialNavigation(),W.setUpPreloading(),le.init(),Me.resetRootComponentType(Oe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return U.\u0275fac=function(O){return new(O||U)(o.LFG(o.zs3))},U.\u0275prov=o.Yz7({token:U,factory:U.\u0275fac}),U})();function cs(U){return U.appInitializer.bind(U)}function sa(U){return U.bootstrapListener.bind(U)}const Ul=new o.OlP("Router Initializer")},708:(ln,at,q)=>{"use strict";q.d(at,{$:()=>gr,A:()=>he,B:()=>Ke,G:()=>dt,H:()=>Ye,J:()=>es,L:()=>Er,M:()=>Co,N:()=>Ko,P:()=>ho,Q:()=>So,R:()=>kd,T:()=>La,U:()=>To,V:()=>ts,W:()=>Qo,X:()=>ns,Y:()=>je,Z:()=>jt,_:()=>Sn,a:()=>fu,a0:()=>gs,a1:()=>cl,a2:()=>Ki,a3:()=>no,a4:()=>Zi,a5:()=>dl,a6:()=>Wr,a7:()=>X,a8:()=>x,a9:()=>B,aA:()=>Gl,aB:()=>ql,aC:()=>gu,aD:()=>Os,aE:()=>Jn,aI:()=>hl,aL:()=>Io,aa:()=>ze,ab:()=>Pt,ac:()=>Dn,af:()=>ar,ag:()=>Mi,ah:()=>Ci,ak:()=>ji,al:()=>Qi,an:()=>ki,ao:()=>Wa,ap:()=>Ir,aq:()=>Dt,ar:()=>kn,as:()=>dn,at:()=>Zt,au:()=>Ju,av:()=>Gc,aw:()=>St,ax:()=>ct,ay:()=>Je,az:()=>Zn,b:()=>Va,c:()=>Ya,d:()=>Ta,e:()=>pl,f:()=>Ku,g:()=>Qa,h:()=>mu,i:()=>M,j:()=>gl,k:()=>Da,l:()=>Nh,m:()=>Hh,o:()=>Ce,r:()=>Bl,s:()=>oa,u:()=>Ba,v:()=>Gn});var k=q(8239),o=q(3854),te=q(8026),Ue=q(4762),Be=q(5422),Ie=q(3910);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new o.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new Be.Yd("@firebase/auth");function Jt(R,...E){vt.logLevel<=Be.in.ERROR&&vt.error(`Auth (${te.SDK_VERSION}): ${R}`,...E)}function Zt(R,...E){throw Nt(R,...E)}function St(R,...E){return Nt(R,...E)}function Ct(R,E,T){const V=Object.assign(Object.assign({},pt()),{[E]:T});return new o.LL("auth","Firebase",V).create(E,{appName:R.name})}function Rt(R,E,T){if(!(E instanceof T))throw T.name!==E.constructor.name&&Zt(R,"argument-error"),Ct(R,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(R,...E){if("string"!=typeof R){const T=E[0],V=[...E.slice(1)];return V[0]&&(V[0].appName=R.name),R._errorFactory.create(T,...V)}return tt.create(R,...E)}function ct(R,E,...T){if(!R)throw Nt(E,...T)}function lt(R){const E="INTERNAL ASSERTION FAILED: "+R;throw Jt(E),new Error(E)}function Dt(R,E){R||lt(E)}const Qe=new Map;function Je(R){Dt(R instanceof Function,"Expected a class definition");let E=Qe.get(R);return E?(Dt(E instanceof R,"Instance stored in cache mismatched with class"),E):(E=new R,Qe.set(R,E),E)}function ft(){var R;return"undefined"!=typeof self&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function qt(){return"http:"===En()||"https:"===En()}function En(){var R;return"undefined"!=typeof self&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class un{constructor(E,T){this.shortDelay=E,this.longDelay=T,Dt(T>E,"Short delay should be less than long delay!"),this.isMobile=(0,o.uI)()||(0,o.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,o.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function zn(R,E){Dt(R.emulator,"Emulator should always be set here");const{url:T}=R.emulator;return E?`${T}${E.startsWith("/")?E.slice(1):E}`:T}class Kr{static initialize(E,T,V){this.fetchImpl=E,T&&(this.headersImpl=T),V&&(this.responseImpl=V)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},li=new un(3e4,6e4);function on(R,E){return R.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:R.tenantId}):E}function yn(R,E,T,V){return mr.apply(this,arguments)}function mr(){return(mr=(0,k.Z)(function*(R,E,T,V,ie={}){return Ei(R,ie,(0,k.Z)(function*(){let ye={},_t={};V&&("GET"===E?_t=V:ye={body:JSON.stringify(V)});const Yt=(0,o.xO)(Object.assign({key:R.config.apiKey},_t)).slice(1),jn=yield R._getAdditionalHeaders();return jn["Content-Type"]="application/json",R.languageCode&&(jn["X-Firebase-Locale"]=R.languageCode),Kr.fetch()(yr(R,R.config.apiHost,T,Yt),Object.assign({method:E,headers:jn,referrerPolicy:"no-referrer"},ye))}))})).apply(this,arguments)}function Ei(R,E,T){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,k.Z)(function*(R,E,T){R._canInitEmulator=!1;const V=Object.assign(Object.assign({},Nr),E);try{const ie=new vn(R),ye=yield Promise.race([T(),ie.promise]);ie.clearNetworkTimeout();const _t=yield ye.json();if("needConfirmation"in _t)throw dr(R,"account-exists-with-different-credential",_t);if(ye.ok&&!("errorMessage"in _t))return _t;{const Yt=ye.ok?_t.errorMessage:_t.error.message,[jn,cr]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jn)throw dr(R,"credential-already-in-use",_t);if("EMAIL_EXISTS"===jn)throw dr(R,"email-already-in-use",_t);if("USER_DISABLED"===jn)throw dr(R,"user-disabled",_t);const si=V[jn]||jn.toLowerCase().replace(/[_\s]+/g,"-");if(cr)throw Ct(R,si,cr);Zt(R,si)}}catch(ie){if(ie instanceof o.ZR)throw ie;Zt(R,"network-request-failed")}})).apply(this,arguments)}function Un(R,E,T,V){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,k.Z)(function*(R,E,T,V,ie={}){const ye=yield yn(R,E,T,V,ie);return"mfaPendingCredential"in ye&&Zt(R,"multi-factor-auth-required",{_serverResponse:ye}),ye})).apply(this,arguments)}function yr(R,E,T,V){const ie=`${E}${T}?${V}`;return R.config.emulator?zn(R.config,ie):`${R.config.apiScheme}://${ie}`}class vn{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((T,V)=>{this.timer=setTimeout(()=>V(St(this.auth,"network-request-failed")),li.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(R,E,T){const V={appName:R.name};T.email&&(V.email=T.email),T.phoneNumber&&(V.phoneNumber=T.phoneNumber);const ie=St(R,E,V);return ie.customData._tokenResponse=T,ie}function _r(){return(_r=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Yr(R,E){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Br(R,E){return ti.apply(this,arguments)}function ti(){return(ti=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function hi(R){if(R)try{const E=new Date(Number(R));if(!isNaN(E.getTime()))return E.toUTCString()}catch(E){}}function oi(){return(oi=(0,k.Z)(function*(R,E=!1){const T=(0,o.m9)(R),V=yield T.getIdToken(E),ie=Tr(V);ct(ie&&ie.exp&&ie.auth_time&&ie.iat,T.auth,"internal-error");const ye="object"==typeof ie.firebase?ie.firebase:void 0,_t=null==ye?void 0:ye.sign_in_provider;return{claims:ie,token:V,authTime:hi($r(ie.auth_time)),issuedAtTime:hi($r(ie.iat)),expirationTime:hi($r(ie.exp)),signInProvider:_t||null,signInSecondFactor:(null==ye?void 0:ye.sign_in_second_factor)||null}})).apply(this,arguments)}function $r(R){return 1e3*Number(R)}function Tr(R){var E;const[T,V,ie]=R.split(".");if(void 0===T||void 0===V||void 0===ie)return Jt("JWT malformed, contained fewer than 3 sections"),null;try{const ye=(0,o.tV)(V);return ye?JSON.parse(ye):(Jt("Failed to decode base64 JWT payload"),null)}catch(ye){return Jt("Caught error parsing JWT payload as JSON",null===(E=ye)||void 0===E?void 0:E.toString()),null}}function rn(R,E){return fr.apply(this,arguments)}function fr(){return(fr=(0,k.Z)(function*(R,E,T=!1){if(T)return E;try{return yield E}catch(V){throw V instanceof o.ZR&&Xi(V)&&R.auth.currentUser===R&&(yield R.auth.signOut()),V}})).apply(this,arguments)}function Xi({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class yi{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var T;if(E){const V=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),V}{this.errorBackoff=3e4;const ie=(null!==(T=this.user.stsTokenManager.expirationTime)&&void 0!==T?T:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(E=!1){var T=this;if(!this.isRunning)return;const V=this.getInterval(E);this.timerId=setTimeout((0,k.Z)(function*(){yield T.iteration()}),V)}iteration(){var E=this;return(0,k.Z)(function*(){var T;try{yield E.user.getIdToken(!0)}catch(V){return void("auth/network-request-failed"===(null===(T=V)||void 0===T?void 0:T.code)&&E.schedule(!0))}E.schedule()})()}}class Or{constructor(E,T){this.createdAt=E,this.lastLoginAt=T,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(R){return zr.apply(this,arguments)}function zr(){return(zr=(0,k.Z)(function*(R){var E;const T=R.auth,V=yield R.getIdToken(),ie=yield rn(R,Br(T,{idToken:V}));ct(null==ie?void 0:ie.users.length,T,"internal-error");const ye=ie.users[0];R._notifyReloadListener(ye);const _t=(null===(E=ye.providerUserInfo)||void 0===E?void 0:E.length)?Le(ye.providerUserInfo):[],Yt=xe(R.providerData,_t),si=!!R.isAnonymous&&!(R.email&&ye.passwordHash||(null==Yt?void 0:Yt.length)),Es={uid:ye.localId,displayName:ye.displayName||null,photoURL:ye.photoUrl||null,email:ye.email||null,emailVerified:ye.emailVerified||!1,phoneNumber:ye.phoneNumber||null,tenantId:ye.tenantId||null,providerData:Yt,metadata:new Or(ye.createdAt,ye.lastLoginAt),isAnonymous:si};Object.assign(R,Es)})).apply(this,arguments)}function _i(){return(_i=(0,k.Z)(function*(R){const E=(0,o.m9)(R);yield Rn(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function xe(R,E){return[...R.filter(V=>!E.some(ie=>ie.providerId===V.providerId)),...E]}function Le(R){return R.map(E=>{var{providerId:T}=E,V=(0,Ue._T)(E,["providerId"]);return{providerId:T,uid:V.rawId||"",displayName:V.displayName||null,email:V.email||null,phoneNumber:V.phoneNumber||null,photoURL:V.photoUrl||null}})}function Fe(){return(Fe=(0,k.Z)(function*(R,E){const T=yield Ei(R,{},(0,k.Z)(function*(){const V=(0,o.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:ie,apiKey:ye}=R.config,_t=yr(R,ie,"/v1/token",`key=${ye}`),Yt=yield R._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",Kr.fetch()(_t,{method:"POST",headers:Yt,body:V})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}class De{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){ct(E.idToken,"internal-error"),ct(void 0!==E.idToken,"internal-error"),ct(void 0!==E.refreshToken,"internal-error");const T="expiresIn"in E&&void 0!==E.expiresIn?Number(E.expiresIn):function(R){const E=Tr(R);return ct(E,"internal-error"),ct(void 0!==E.exp,"internal-error"),ct(void 0!==E.iat,"internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,T)}getToken(E,T=!1){var V=this;return(0,k.Z)(function*(){return ct(!V.accessToken||V.refreshToken,E,"user-token-expired"),T||!V.accessToken||V.isExpired?V.refreshToken?(yield V.refresh(E,V.refreshToken),V.accessToken):null:V.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,T){var V=this;return(0,k.Z)(function*(){const{accessToken:ie,refreshToken:ye,expiresIn:_t}=yield function(R,E){return Fe.apply(this,arguments)}(E,T);V.updateTokensAndExpiration(ie,ye,Number(_t))})()}updateTokensAndExpiration(E,T,V){this.refreshToken=T||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*V}static fromJSON(E,T){const{refreshToken:V,accessToken:ie,expirationTime:ye}=T,_t=new De;return V&&(ct("string"==typeof V,"internal-error",{appName:E}),_t.refreshToken=V),ie&&(ct("string"==typeof ie,"internal-error",{appName:E}),_t.accessToken=ie),ye&&(ct("number"==typeof ye,"internal-error",{appName:E}),_t.expirationTime=ye),_t}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new De,this.toJSON())}_performRefresh(){return lt("not implemented")}}function Ft(R,E){ct("string"==typeof R||void 0===R,"internal-error",{appName:E})}class nn{constructor(E){var{uid:T,auth:V,stsTokenManager:ie}=E,ye=(0,Ue._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=T,this.auth=V,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=ye.displayName||null,this.email=ye.email||null,this.emailVerified=ye.emailVerified||!1,this.phoneNumber=ye.phoneNumber||null,this.photoURL=ye.photoURL||null,this.isAnonymous=ye.isAnonymous||!1,this.tenantId=ye.tenantId||null,this.providerData=ye.providerData?[...ye.providerData]:[],this.metadata=new Or(ye.createdAt||void 0,ye.lastLoginAt||void 0)}getIdToken(E){var T=this;return(0,k.Z)(function*(){const V=yield rn(T,T.stsTokenManager.getToken(T.auth,E));return ct(V,T.auth,"internal-error"),T.accessToken!==V&&(T.accessToken=V,yield T.auth._persistUserIfCurrent(T),T.auth._notifyListenersIfCurrent(T)),V})()}getIdTokenResult(E){return function(R){return oi.apply(this,arguments)}(this,E)}reload(){return function(R){return _i.apply(this,arguments)}(this)}_assign(E){this!==E&&(ct(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(T=>Object.assign({},T)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){return new nn(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(E){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,T=!1){var V=this;return(0,k.Z)(function*(){let ie=!1;E.idToken&&E.idToken!==V.stsTokenManager.accessToken&&(V.stsTokenManager.updateFromServerResponse(E),ie=!0),T&&(yield Rn(V)),yield V.auth._persistUserIfCurrent(V),ie&&V.auth._notifyListenersIfCurrent(V)})()}delete(){var E=this;return(0,k.Z)(function*(){const T=yield E.getIdToken();return yield rn(E,function(R,E){return _r.apply(this,arguments)}(E.auth,{idToken:T})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,T){var V,ie,ye,_t,Yt,jn,cr,si;const Es=null!==(V=T.displayName)&&void 0!==V?V:void 0,Ja=null!==(ie=T.email)&&void 0!==ie?ie:void 0,xa=null!==(ye=T.phoneNumber)&&void 0!==ye?ye:void 0,$l=null!==(_t=T.photoURL)&&void 0!==_t?_t:void 0,qh=null!==(Yt=T.tenantId)&&void 0!==Yt?Yt:void 0,qa=null!==(jn=T._redirectEventId)&&void 0!==jn?jn:void 0,qd=null!==(cr=T.createdAt)&&void 0!==cr?cr:void 0,jo=null!==(si=T.lastLoginAt)&&void 0!==si?si:void 0,{uid:wu,emailVerified:Gd,isAnonymous:zl,providerData:Wl,stsTokenManager:Wc}=T;ct(wu&&Wc,E,"internal-error");const ws=De.fromJSON(this.name,Wc);ct("string"==typeof wu,E,"internal-error"),Ft(Es,E.name),Ft(Ja,E.name),ct("boolean"==typeof Gd,E,"internal-error"),ct("boolean"==typeof zl,E,"internal-error"),Ft(xa,E.name),Ft($l,E.name),Ft(qh,E.name),Ft(qa,E.name),Ft(qd,E.name),Ft(jo,E.name);const Kc=new nn({uid:wu,auth:E,email:Ja,emailVerified:Gd,displayName:Es,isAnonymous:zl,photoURL:$l,phoneNumber:xa,tenantId:qh,stsTokenManager:ws,createdAt:qd,lastLoginAt:jo});return Wl&&Array.isArray(Wl)&&(Kc.providerData=Wl.map(Cu=>Object.assign({},Cu))),qa&&(Kc._redirectEventId=qa),Kc}static _fromIdTokenResponse(E,T,V=!1){return(0,k.Z)(function*(){const ie=new De;ie.updateFromServerResponse(T);const ye=new nn({uid:T.localId,auth:E,stsTokenManager:ie,isAnonymous:V});return yield Rn(ye),ye})()}}const Er=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,k.Z)(function*(){return!0})()}_set(T,V){var ie=this;return(0,k.Z)(function*(){ie.storage[T]=V})()}_get(T){var V=this;return(0,k.Z)(function*(){const ie=V.storage[T];return void 0===ie?null:ie})()}_remove(T){var V=this;return(0,k.Z)(function*(){delete V.storage[T]})()}_addListener(T,V){}_removeListener(T,V){}}return R.type="NONE",R})();function Zn(R,E,T){return`firebase:${R}:${E}:${T}`}class st{constructor(E,T,V){this.persistence=E,this.auth=T,this.userKey=V;const{config:ie,name:ye}=this.auth;this.fullUserKey=Zn(this.userKey,ie.apiKey,ye),this.fullPersistenceKey=Zn("persistence",ie.apiKey,ye),this.boundEventHandler=T._onStorageEvent.bind(T),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,k.Z)(function*(){const T=yield E.persistence._get(E.fullUserKey);return T?nn._fromJSON(E.auth,T):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var T=this;return(0,k.Z)(function*(){if(T.persistence===E)return;const V=yield T.getCurrentUser();return yield T.removeCurrentUser(),T.persistence=E,V?T.setCurrentUser(V):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,T,V="authUser"){return(0,k.Z)(function*(){if(!T.length)return new st(Je(Er),E,V);const ie=(yield Promise.all(T.map(function(){var cr=(0,k.Z)(function*(si){if(yield si._isAvailable())return si});return function(si){return cr.apply(this,arguments)}}()))).filter(cr=>cr);let ye=ie[0]||Je(Er);const _t=Zn(V,E.config.apiKey,E.name);let Yt=null;for(const cr of T)try{const si=yield cr._get(_t);if(si){const Es=nn._fromJSON(E,si);cr!==ye&&(Yt=Es),ye=cr;break}}catch(si){}const jn=ie.filter(cr=>cr._shouldAllowMigration);return ye._shouldAllowMigration&&jn.length?(ye=jn[0],Yt&&(yield ye._set(_t,Yt.toJSON())),yield Promise.all(T.map(function(){var cr=(0,k.Z)(function*(si){if(si!==ye)try{yield si._remove(_t)}catch(Es){}});return function(si){return cr.apply(this,arguments)}}())),new st(ye,E,V)):new st(ye,E,V)})()}}function ve(R){const E=R.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(Ut(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(_e(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(Cn(E))return"Blackberry";if(Pn(E))return"Webos";if(ge(E))return"Safari";if((E.includes("chrome/")||nt(E))&&!E.includes("edge/"))return"Chrome";if(dn(E))return"Android";{const V=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==V?void 0:V.length))return V[1]}return"Other"}function _e(R=(0,o.z$)()){return/firefox\//i.test(R)}function ge(R=(0,o.z$)()){const E=R.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function nt(R=(0,o.z$)()){return/crios\//i.test(R)}function Ut(R=(0,o.z$)()){return/iemobile/i.test(R)}function dn(R=(0,o.z$)()){return/android/i.test(R)}function Cn(R=(0,o.z$)()){return/blackberry/i.test(R)}function Pn(R=(0,o.z$)()){return/webos/i.test(R)}function kn(R=(0,o.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function Ir(R=(0,o.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function or(R=(0,o.z$)()){return kn(R)||dn(R)||Pn(R)||Cn(R)||/windows phone/i.test(R)||Ut(R)}function Fr(R,E=[]){let T;switch(R){case"Browser":T=ve((0,o.z$)());break;case"Worker":T=`${ve((0,o.z$)())}-${R}`;break;default:T=R}const V=E.length?E.join(","):"FirebaseCore-web";return`${T}/JsCore/${te.SDK_VERSION}/${V}`}class Lr{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,T){const V=ye=>new Promise((_t,Yt)=>{try{_t(E(ye))}catch(jn){Yt(jn)}});V.onAbort=T,this.queue.push(V);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(E){var T=this;return(0,k.Z)(function*(){var V;if(T.auth.currentUser===E)return;const ie=[];try{for(const ye of T.queue)yield ye(E),ye.onAbort&&ie.push(ye.onAbort)}catch(ye){ie.reverse();for(const _t of ie)try{_t()}catch(Yt){}throw T.auth._errorFactory.create("login-blocked",{originalMessage:null===(V=ye)||void 0===V?void 0:V.message})}})()}}class Ls{constructor(E,T,V){this.app=E,this.heartbeatServiceProvider=T,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ae(this),this.idTokenSubscription=new Ae(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(E,T){var V=this;return T&&(this._popupRedirectResolver=Je(T)),this._initializationPromise=this.queue((0,k.Z)(function*(){var ie,ye;if(!V._deleted&&(V.persistenceManager=yield st.create(V,E),!V._deleted)){if(null===(ie=V._popupRedirectResolver)||void 0===ie?void 0:ie._shouldInitProactively)try{yield V._popupRedirectResolver._initialize(V)}catch(_t){}yield V.initializeCurrentUser(T),V.lastNotifiedUid=(null===(ye=V.currentUser)||void 0===ye?void 0:ye.uid)||null,!V._deleted&&(V._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,k.Z)(function*(){if(E._deleted)return;const T=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||T){if(E.currentUser&&T&&E.currentUser.uid===T.uid)return E._currentUser._assign(T),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(T,!0)}})()}initializeCurrentUser(E){var T=this;return(0,k.Z)(function*(){var V;const ie=yield T.assertedPersistence.getCurrentUser();let ye=ie,_t=!1;if(E&&T.config.authDomain){yield T.getOrInitRedirectPersistenceManager();const Yt=null===(V=T.redirectUser)||void 0===V?void 0:V._redirectEventId,jn=null==ye?void 0:ye._redirectEventId,cr=yield T.tryRedirectSignIn(E);(!Yt||Yt===jn)&&(null==cr?void 0:cr.user)&&(ye=cr.user,_t=!0)}if(!ye)return T.directlySetCurrentUser(null);if(!ye._redirectEventId){if(_t)try{yield T.beforeStateQueue.runMiddleware(ye)}catch(Yt){ye=ie,T._popupRedirectResolver._overrideRedirectResult(T,()=>Promise.reject(Yt))}return ye?T.reloadAndSetCurrentUserOrClear(ye):T.directlySetCurrentUser(null)}return ct(T._popupRedirectResolver,T,"argument-error"),yield T.getOrInitRedirectPersistenceManager(),T.redirectUser&&T.redirectUser._redirectEventId===ye._redirectEventId?T.directlySetCurrentUser(ye):T.reloadAndSetCurrentUserOrClear(ye)})()}tryRedirectSignIn(E){var T=this;return(0,k.Z)(function*(){let V=null;try{V=yield T._popupRedirectResolver._completeRedirectFn(T,E,!0)}catch(ie){yield T._setRedirectUser(null)}return V})()}reloadAndSetCurrentUserOrClear(E){var T=this;return(0,k.Z)(function*(){var V;try{yield Rn(E)}catch(ie){if("auth/network-request-failed"!==(null===(V=ie)||void 0===V?void 0:V.code))return T.directlySetCurrentUser(null)}return T.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var E=this;return(0,k.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var T=this;return(0,k.Z)(function*(){const V=E?(0,o.m9)(E):null;return V&&ct(V.auth.config.apiKey===T.config.apiKey,T,"invalid-user-token"),T._updateCurrentUser(V&&V._clone(T))})()}_updateCurrentUser(E,T=!1){var V=this;return(0,k.Z)(function*(){if(!V._deleted)return E&&ct(V.tenantId===E.tenantId,V,"tenant-id-mismatch"),T||(yield V.beforeStateQueue.runMiddleware(E)),V.queue((0,k.Z)(function*(){yield V.directlySetCurrentUser(E),V.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,k.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var T=this;return this.queue((0,k.Z)(function*(){yield T.assertedPersistence.setPersistence(Je(E))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new o.LL("auth","Firebase",E())}onAuthStateChanged(E,T,V){return this.registerStateListener(this.authStateSubscription,E,T,V)}beforeAuthStateChanged(E,T){return this.beforeStateQueue.pushCallback(E,T)}onIdTokenChanged(E,T,V){return this.registerStateListener(this.idTokenSubscription,E,T,V)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,T){var V=this;return(0,k.Z)(function*(){const ie=yield V.getOrInitRedirectPersistenceManager(T);return null===E?ie.removeCurrentUser():ie.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var T=this;return(0,k.Z)(function*(){if(!T.redirectPersistenceManager){const V=E&&Je(E)||T._popupRedirectResolver;ct(V,T,"argument-error"),T.redirectPersistenceManager=yield st.create(T,[Je(V._redirectPersistence)],"redirectUser"),T.redirectUser=yield T.redirectPersistenceManager.getCurrentUser()}return T.redirectPersistenceManager})()}_redirectUserForId(E){var T=this;return(0,k.Z)(function*(){var V,ie;return T._isInitialized&&(yield T.queue((0,k.Z)(function*(){}))),(null===(V=T._currentUser)||void 0===V?void 0:V._redirectEventId)===E?T._currentUser:(null===(ie=T.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===E?T.redirectUser:null})()}_persistUserIfCurrent(E){var T=this;return(0,k.Z)(function*(){if(E===T.currentUser)return T.queue((0,k.Z)(function*(){return T.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,T;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const V=null!==(T=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==T?T:null;this.lastNotifiedUid!==V&&(this.lastNotifiedUid=V,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,T,V,ie){if(this._deleted)return()=>{};const ye="function"==typeof T?T:T.next.bind(T),_t=this._isInitialized?Promise.resolve():this._initializationPromise;return ct(_t,this,"internal-error"),_t.then(()=>ye(this.currentUser)),"function"==typeof T?E.addObserver(T,V,ie):E.addObserver(T)}directlySetCurrentUser(E){var T=this;return(0,k.Z)(function*(){T.currentUser&&T.currentUser!==E&&T._currentUser._stopProactiveRefresh(),E&&T.isProactiveRefreshEnabled&&E._startProactiveRefresh(),T.currentUser=E,E?yield T.assertedPersistence.setCurrentUser(E):yield T.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,k.Z)(function*(){var T;const V={"X-Client-Version":E.clientVersion};E.app.options.appId&&(V["X-Firebase-gmpid"]=E.app.options.appId);const ie=yield null===(T=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getHeartbeatsHeader();return ie&&(V["X-Firebase-Client"]=ie),V})()}}function Jn(R){return(0,o.m9)(R)}class Ae{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,o.ne)(T=>this.observer=T)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dt(R,E,T){const V=Jn(R);ct(V._canInitEmulator,V,"emulator-config-failed"),ct(/^https?:\/\//.test(E),V,"invalid-emulator-scheme");const ie=!!(null==T?void 0:T.disableWarnings),ye=kt(E),{host:_t,port:Yt}=function(R){const E=kt(R),T=/(\/\/)?([^?#/]+)/.exec(R.substr(E.length));if(!T)return{host:"",port:null};const V=T[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(V);if(ie){const ye=ie[1];return{host:ye,port:qr(V.substr(ye.length+1))}}{const[ye,_t]=V.split(":");return{host:ye,port:qr(_t)}}}(E);V.config.emulator={url:`${ye}//${_t}${null===Yt?"":`:${Yt}`}/`},V.settings.appVerificationDisabledForTesting=!0,V.emulatorConfig=Object.freeze({host:_t,port:Yt,protocol:ye.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function(){function R(){const E=document.createElement("p"),T=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function kt(R){const E=R.indexOf(":");return E<0?"":R.substr(0,E+1)}function qr(R){if(!R)return null;const E=Number(R);return isNaN(E)?null:E}class Ye{constructor(E,T){this.providerId=E,this.signInMethod=T}toJSON(){return lt("not implemented")}_getIdTokenResponse(E){return lt("not implemented")}_linkToIdToken(E,T){return lt("not implemented")}_getReauthenticationResolver(E){return lt("not implemented")}}function ke(R,E){return we.apply(this,arguments)}function we(){return(we=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:resetPassword",on(R,E))})).apply(this,arguments)}function ut(R,E){return bt.apply(this,arguments)}function bt(){return(bt=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Xn(R,E){return wr.apply(this,arguments)}function wr(){return(wr=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:update",on(R,E))})).apply(this,arguments)}function vi(){return(vi=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signInWithPassword",on(R,E))})).apply(this,arguments)}function Oi(R,E){return it.apply(this,arguments)}function it(){return(it=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:sendOobCode",on(R,E))})).apply(this,arguments)}function Xe(R,E){return mt.apply(this,arguments)}function mt(){return(mt=(0,k.Z)(function*(R,E){return Oi(R,E)})).apply(this,arguments)}function At(R,E){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(R,E){return Oi(R,E)})).apply(this,arguments)}function Mn(R,E){return pr.apply(this,arguments)}function pr(){return(pr=(0,k.Z)(function*(R,E){return Oi(R,E)})).apply(this,arguments)}function ui(R,E){return jr.apply(this,arguments)}function jr(){return(jr=(0,k.Z)(function*(R,E){return Oi(R,E)})).apply(this,arguments)}function Di(){return(Di=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signInWithEmailLink",on(R,E))})).apply(this,arguments)}function fs(){return(fs=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signInWithEmailLink",on(R,E))})).apply(this,arguments)}class Ai extends Ye{constructor(E,T,V,ie=null){super("password",V),this._email=E,this._password=T,this._tenantId=ie}static _fromEmailAndPassword(E,T){return new Ai(E,T,"password")}static _fromEmailAndCode(E,T,V=null){return new Ai(E,T,"emailLink",V)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E;if((null==T?void 0:T.email)&&(null==T?void 0:T.password)){if("password"===T.signInMethod)return this._fromEmailAndPassword(T.email,T.password);if("emailLink"===T.signInMethod)return this._fromEmailAndCode(T.email,T.password,T.tenantId)}return null}_getIdTokenResponse(E){var T=this;return(0,k.Z)(function*(){switch(T.signInMethod){case"password":return function(R,E){return vi.apply(this,arguments)}(E,{returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(R,E){return Di.apply(this,arguments)}(E,{email:T._email,oobCode:T._password});default:Zt(E,"internal-error")}})()}_linkToIdToken(E,T){var V=this;return(0,k.Z)(function*(){switch(V.signInMethod){case"password":return ut(E,{idToken:T,returnSecureToken:!0,email:V._email,password:V._password});case"emailLink":return function(R,E){return fs.apply(this,arguments)}(E,{idToken:T,email:V._email,oobCode:V._password});default:Zt(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function Gr(R,E){return _o.apply(this,arguments)}function _o(){return(_o=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signInWithIdp",on(R,E))})).apply(this,arguments)}class es extends Ye{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const T=new es(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(T.idToken=E.idToken),E.accessToken&&(T.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(T.nonce=E.nonce),E.pendingToken&&(T.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(T.accessToken=E.oauthToken,T.secret=E.oauthTokenSecret):Zt("argument-error"),T}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E,{providerId:V,signInMethod:ie}=T,ye=(0,Ue._T)(T,["providerId","signInMethod"]);if(!V||!ie)return null;const _t=new es(V,ie);return _t.idToken=ye.idToken||void 0,_t.accessToken=ye.accessToken||void 0,_t.secret=ye.secret,_t.nonce=ye.nonce,_t.pendingToken=ye.pendingToken||null,_t}_getIdTokenResponse(E){return Gr(E,this.buildRequest())}_linkToIdToken(E,T){const V=this.buildRequest();return V.idToken=T,Gr(E,V)}_getReauthenticationResolver(E){const T=this.buildRequest();return T.autoCreate=!1,Gr(E,T)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const T={};this.idToken&&(T.id_token=this.idToken),this.accessToken&&(T.access_token=this.accessToken),this.secret&&(T.oauth_token_secret=this.secret),T.providerId=this.providerId,this.nonce&&!this.pendingToken&&(T.nonce=this.nonce),E.postBody=(0,o.xO)(T)}return E}}function Bi(R,E){return zs.apply(this,arguments)}function zs(){return(zs=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:sendVerificationCode",on(R,E))})).apply(this,arguments)}function Ws(){return(Ws=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signInWithPhoneNumber",on(R,E))})).apply(this,arguments)}function Fa(){return(Fa=(0,k.Z)(function*(R,E){const T=yield Un(R,"POST","/v1/accounts:signInWithPhoneNumber",on(R,E));if(T.temporaryProof)throw dr(R,"account-exists-with-different-credential",T);return T})).apply(this,arguments)}const za={USER_NOT_FOUND:"user-not-found"};function eo(){return(eo=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signInWithPhoneNumber",on(R,Object.assign(Object.assign({},E),{operation:"REAUTH"})),za)})).apply(this,arguments)}class oo extends Ye{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,T){return new oo({verificationId:E,verificationCode:T})}static _fromTokenResponse(E,T){return new oo({phoneNumber:E,temporaryProof:T})}_getIdTokenResponse(E){return function(R,E){return Ws.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,T){return function(R,E){return Fa.apply(this,arguments)}(E,Object.assign({idToken:T},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function(R,E){return eo.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:T,verificationId:V,verificationCode:ie}=this.params;return E&&T?{temporaryProof:E,phoneNumber:T}:{sessionInfo:V,code:ie}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:T,verificationCode:V,phoneNumber:ie,temporaryProof:ye}=E;return V||T||ie||ye?new oo({verificationId:T,verificationCode:V,phoneNumber:ie,temporaryProof:ye}):null}}class ya{constructor(E){var T,V,ie,ye,_t,Yt;const jn=(0,o.zd)((0,o.pd)(E)),cr=null!==(T=jn.apiKey)&&void 0!==T?T:null,si=null!==(V=jn.oobCode)&&void 0!==V?V:null,Es=function(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=jn.mode)&&void 0!==ie?ie:null);ct(cr&&si&&Es,"argument-error"),this.apiKey=cr,this.operation=Es,this.code=si,this.continueUrl=null!==(ye=jn.continueUrl)&&void 0!==ye?ye:null,this.languageCode=null!==(_t=jn.languageCode)&&void 0!==_t?_t:null,this.tenantId=null!==(Yt=jn.tenantId)&&void 0!==Yt?Yt:null}static parseLink(E){const T=function(R){const E=(0,o.zd)((0,o.pd)(R)).link,T=E?(0,o.zd)((0,o.pd)(E)).deep_link_id:null,V=(0,o.zd)((0,o.pd)(R)).deep_link_id;return(V?(0,o.zd)((0,o.pd)(V)).link:null)||V||T||E||R}(E);try{return new ya(T)}catch(V){return null}}}let Co=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(T,V){return Ai._fromEmailAndPassword(T,V)}static credentialWithLink(T,V){const ie=ya.parseLink(V);return ct(ie,"argument-error"),Ai._fromEmailAndCode(T,ie.code,ie.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Ks{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class vo extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class To extends vo{static credentialFromJSON(E){const T="string"==typeof E?JSON.parse(E):E;return ct("providerId"in T&&"signInMethod"in T,"argument-error"),es._fromParams(T)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return ct(E.idToken||E.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return To.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return To.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:T,oauthAccessToken:V,oauthTokenSecret:ie,pendingToken:ye,nonce:_t,providerId:Yt}=E;if(!V&&!ie&&!T&&!ye||!Yt)return null;try{return new To(Yt)._credential({idToken:T,accessToken:V,nonce:_t,pendingToken:ye})}catch(jn){return null}}}let Ko=(()=>{class R extends vo{constructor(){super("facebook.com")}static credential(T){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return R.credentialFromTaggedObject(T)}static credentialFromError(T){return R.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return R.credential(T.oauthAccessToken)}catch(V){return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),So=(()=>{class R extends vo{constructor(){super("google.com"),this.addScope("profile")}static credential(T,V){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:T,accessToken:V})}static credentialFromResult(T){return R.credentialFromTaggedObject(T)}static credentialFromError(T){return R.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthIdToken:V,oauthAccessToken:ie}=T;if(!V&&!ie)return null;try{return R.credential(V,ie)}catch(ye){return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),La=(()=>{class R extends vo{constructor(){super("github.com")}static credential(T){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return R.credentialFromTaggedObject(T)}static credentialFromError(T){return R.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return R.credential(T.oauthAccessToken)}catch(V){return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class Io extends Ye{constructor(E,T){super(E,E),this.pendingToken=T}_getIdTokenResponse(E){return Gr(E,this.buildRequest())}_linkToIdToken(E,T){const V=this.buildRequest();return V.idToken=T,Gr(E,V)}_getReauthenticationResolver(E){const T=this.buildRequest();return T.autoCreate=!1,Gr(E,T)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E,{providerId:V,signInMethod:ie,pendingToken:ye}=T;return V&&ie&&ye&&V===ie?new Io(V,ye):null}static _create(E,T){return new Io(E,T)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends Ks{constructor(E){ct(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return ts.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return ts.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const T=Io.fromJSON(E);return ct(T,"argument-error"),T}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:T,providerId:V}=E;if(!T||!V)return null;try{return Io._create(V,T)}catch(ie){return null}}}let Qo=(()=>{class R extends vo{constructor(){super("twitter.com")}static credential(T,V){return es._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:T,oauthTokenSecret:V})}static credentialFromResult(T){return R.credentialFromTaggedObject(T)}static credentialFromError(T){return R.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthAccessToken:V,oauthTokenSecret:ie}=T;if(!V||!ie)return null;try{return R.credential(V,ie)}catch(ye){return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function Jo(R,E){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signUp",on(R,E))})).apply(this,arguments)}class Is{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,T,V,ie=!1){return(0,k.Z)(function*(){const ye=yield nn._fromIdTokenResponse(E,V,ie),_t=Eo(V);return new Is({user:ye,providerId:_t,_tokenResponse:V,operationType:T})})()}static _forOperation(E,T,V){return(0,k.Z)(function*(){yield E._updateTokensIfNecessary(V,!0);const ie=Eo(V);return new Is({user:E,providerId:ie,_tokenResponse:V,operationType:T})})()}}function Eo(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function ns(R){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,k.Z)(function*(R){var E;const T=Jn(R);if(yield T._initializationPromise,null===(E=T.currentUser)||void 0===E?void 0:E.isAnonymous)return new Is({user:T.currentUser,providerId:null,operationType:"signIn"});const V=yield Jo(T,{returnSecureToken:!0}),ie=yield Is._fromIdTokenResponse(T,"signIn",V,!0);return yield T._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class ao extends o.ZR{constructor(E,T,V,ie){var ye;super(T.code,T.message),this.operationType=V,this.user=ie,Object.setPrototypeOf(this,ao.prototype),this.customData={appName:E.name,tenantId:null!==(ye=E.tenantId)&&void 0!==ye?ye:void 0,_serverResponse:T.customData._serverResponse,operationType:V}}static _fromErrorAndOperation(E,T,V,ie){return new ao(E,T,V,ie)}}function _a(R,E,T,V){return("reauthenticate"===E?T._getReauthenticationResolver(R):T._getIdTokenResponse(R)).catch(ye=>{throw"auth/multi-factor-auth-required"===ye.code?ao._fromErrorAndOperation(R,ye,E,V):ye})}function Us(R){return new Set(R.map(({providerId:E})=>E).filter(E=>!!E))}function ji(R,E){return to.apply(this,arguments)}function to(){return(to=(0,k.Z)(function*(R,E){const T=(0,o.m9)(R);yield Z(!0,T,E);const{providerUserInfo:V}=yield Yr(T.auth,{idToken:yield T.getIdToken(),deleteProvider:[E]}),ie=Us(V||[]);return T.providerData=T.providerData.filter(ye=>ie.has(ye.providerId)),ie.has("phone")||(T.phoneNumber=null),yield T.auth._persistUserIfCurrent(T),T})).apply(this,arguments)}function G(R,E){return se.apply(this,arguments)}function se(){return(se=(0,k.Z)(function*(R,E,T=!1){const V=yield rn(R,E._linkToIdToken(R.auth,yield R.getIdToken()),T);return Is._forOperation(R,"link",V)})).apply(this,arguments)}function Z(R,E,T){return oe.apply(this,arguments)}function oe(){return(oe=(0,k.Z)(function*(R,E,T){yield Rn(E);const ie=!1===R?"provider-already-linked":"no-such-provider";ct(Us(E.providerData).has(T)===R,E.auth,ie)})).apply(this,arguments)}function $e(R,E){return wt.apply(this,arguments)}function wt(){return(wt=(0,k.Z)(function*(R,E,T=!1){var V;const{auth:ie}=R,ye="reauthenticate";try{const _t=yield rn(R,_a(ie,ye,E,R),T);ct(_t.idToken,ie,"internal-error");const Yt=Tr(_t.idToken);ct(Yt,ie,"internal-error");const{sub:jn}=Yt;return ct(R.uid===jn,ie,"user-mismatch"),Is._forOperation(R,ye,_t)}catch(_t){throw"auth/user-not-found"===(null===(V=_t)||void 0===V?void 0:V.code)&&Zt(ie,"user-mismatch"),_t}})).apply(this,arguments)}function ne(R,E){return ae.apply(this,arguments)}function ae(){return(ae=(0,k.Z)(function*(R,E,T=!1){const V="signIn",ie=yield _a(R,V,E),ye=yield Is._fromIdTokenResponse(R,V,ie);return T||(yield R._updateCurrentUser(ye.user)),ye})).apply(this,arguments)}function je(R,E){return ot.apply(this,arguments)}function ot(){return(ot=(0,k.Z)(function*(R,E){return ne(Jn(R),E)})).apply(this,arguments)}function jt(R,E){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,k.Z)(function*(R,E){const T=(0,o.m9)(R);return yield Z(!1,T,E.providerId),G(T,E)})).apply(this,arguments)}function Sn(R,E){return On.apply(this,arguments)}function On(){return(On=(0,k.Z)(function*(R,E){return $e((0,o.m9)(R),E)})).apply(this,arguments)}function ri(R,E){return Si.apply(this,arguments)}function Si(){return(Si=(0,k.Z)(function*(R,E){return Un(R,"POST","/v1/accounts:signInWithCustomToken",on(R,E))})).apply(this,arguments)}function gr(R,E){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(R,E){const T=Jn(R),V=yield ri(T,{token:E,returnSecureToken:!0}),ie=yield Is._fromIdTokenResponse(T,"signIn",V);return yield T._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class Hi{constructor(E,T){this.factorId=E,this.uid=T.mfaEnrollmentId,this.enrollmentTime=new Date(T.enrolledAt).toUTCString(),this.displayName=T.displayName}static _fromServerResponse(E,T){return"phoneInfo"in T?Ds._fromServerResponse(E,T):Zt(E,"internal-error")}}class Ds extends Hi{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,T){return new Ds(T)}}function ps(R,E,T){var V;ct((null===(V=T.url)||void 0===V?void 0:V.length)>0,R,"invalid-continue-uri"),ct(void 0===T.dynamicLinkDomain||T.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),E.continueUrl=T.url,E.dynamicLinkDomain=T.dynamicLinkDomain,E.canHandleCodeInApp=T.handleCodeInApp,T.iOS&&(ct(T.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),E.iOSBundleId=T.iOS.bundleId),T.android&&(ct(T.android.packageName.length>0,R,"missing-android-pkg-name"),E.androidInstallApp=T.android.installApp,E.androidMinimumVersionCode=T.android.minimumVersion,E.androidPackageName=T.android.packageName)}function gs(R,E,T){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R),ie={requestType:"PASSWORD_RESET",email:E};T&&ps(V,ie,T),yield At(V,ie)})).apply(this,arguments)}function cl(R,E,T){return hr.apply(this,arguments)}function hr(){return(hr=(0,k.Z)(function*(R,E,T){yield ke((0,o.m9)(R),{oobCode:E,newPassword:T})})).apply(this,arguments)}function Ki(R,E){return As.apply(this,arguments)}function As(){return(As=(0,k.Z)(function*(R,E){yield Xn((0,o.m9)(R),{oobCode:E})})).apply(this,arguments)}function no(R,E){return lo.apply(this,arguments)}function lo(){return(lo=(0,k.Z)(function*(R,E){const T=(0,o.m9)(R),V=yield ke(T,{oobCode:E}),ie=V.requestType;switch(ct(ie,T,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ct(V.newEmail,T,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ct(V.mfaInfo,T,"internal-error");default:ct(V.email,T,"internal-error")}let ye=null;return V.mfaInfo&&(ye=Hi._fromServerResponse(Jn(T),V.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===V.requestType?V.newEmail:V.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===V.requestType?V.email:V.newEmail)||null,multiFactorInfo:ye},operation:ie}})).apply(this,arguments)}function Zi(R,E){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(R,E){const{data:T}=yield no((0,o.m9)(R),E);return T.email})).apply(this,arguments)}function dl(R,E,T){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(R,E,T){const V=Jn(R),ie=yield Jo(V,{returnSecureToken:!0,email:E,password:T}),ye=yield Is._fromIdTokenResponse(V,"signIn",ie);return yield V._updateCurrentUser(ye.user),ye})).apply(this,arguments)}function Wr(R,E,T){return je((0,o.m9)(R),Co.credential(E,T))}function X(R,E,T){return D.apply(this,arguments)}function D(){return(D=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R),ie={requestType:"EMAIL_SIGNIN",email:E};ct(T.handleCodeInApp,V,"argument-error"),T&&ps(V,ie,T),yield Mn(V,ie)})).apply(this,arguments)}function x(R,E){const T=ya.parseLink(E);return"EMAIL_SIGNIN"===(null==T?void 0:T.operation)}function B(R,E,T){return ee.apply(this,arguments)}function ee(){return(ee=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R),ie=Co.credentialWithLink(E,T||ft());return ct(ie._tenantId===(V.tenantId||null),V,"tenant-id-mismatch"),je(V,ie)})).apply(this,arguments)}function fe(R,E){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:createAuthUri",on(R,E))})).apply(this,arguments)}function ze(R,E){return gt.apply(this,arguments)}function gt(){return(gt=(0,k.Z)(function*(R,E){const V={identifier:E,continueUri:qt()?ft():"http://localhost"},{signinMethods:ie}=yield fe((0,o.m9)(R),V);return ie||[]})).apply(this,arguments)}function Pt(R,E){return hn.apply(this,arguments)}function hn(){return(hn=(0,k.Z)(function*(R,E){const T=(0,o.m9)(R),ie={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};E&&ps(T.auth,ie,E);const{email:ye}=yield Xe(T.auth,ie);ye!==R.email&&(yield R.reload())})).apply(this,arguments)}function Dn(R,E,T){return nr.apply(this,arguments)}function nr(){return(nr=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R),ye={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:E};T&&ps(V.auth,ye,T);const{email:_t}=yield ui(V.auth,ye);_t!==R.email&&(yield R.reload())})).apply(this,arguments)}function ii(R,E){return qn.apply(this,arguments)}function qn(){return(qn=(0,k.Z)(function*(R,E){return yn(R,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function ar(R,E){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,k.Z)(function*(R,{displayName:E,photoURL:T}){if(void 0===E&&void 0===T)return;const V=(0,o.m9)(R),ye={idToken:yield V.getIdToken(),displayName:E,photoUrl:T,returnSecureToken:!0},_t=yield rn(V,ii(V.auth,ye));V.displayName=_t.displayName||null,V.photoURL=_t.photoUrl||null;const Yt=V.providerData.find(({providerId:jn})=>"password"===jn);Yt&&(Yt.displayName=V.displayName,Yt.photoURL=V.photoURL),yield V._updateTokensIfNecessary(_t)})).apply(this,arguments)}function Mi(R,E){return Bs((0,o.m9)(R),E,null)}function Ci(R,E){return Bs((0,o.m9)(R),null,E)}function Bs(R,E,T){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,k.Z)(function*(R,E,T){const{auth:V}=R,ye={idToken:yield R.getIdToken(),returnSecureToken:!0};E&&(ye.email=E),T&&(ye.password=T);const _t=yield rn(R,ut(V,ye));yield R._updateTokensIfNecessary(_t,!0)})).apply(this,arguments)}class xs{constructor(E,T,V={}){this.isNewUser=E,this.providerId=T,this.profile=V}}class Yi extends xs{constructor(E,T,V,ie){super(E,T,V),this.username=ie}}class uo extends xs{constructor(E,T){super(E,"facebook.com",T)}}class Oo extends Yi{constructor(E,T){super(E,"github.com",T,"string"==typeof(null==T?void 0:T.login)?null==T?void 0:T.login:null)}}class js extends xs{constructor(E,T){super(E,"google.com",T)}}class va extends Yi{constructor(E,T,V){super(E,"twitter.com",T,V)}}function Qi(R){const{user:E,_tokenResponse:T}=R;return E.isAnonymous&&!T?{providerId:null,isNewUser:!1,profile:null}:function(R){var E,T;if(!R)return null;const{providerId:V}=R,ie=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},ye=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!V&&(null==R?void 0:R.idToken)){const _t=null===(T=null===(E=Tr(R.idToken))||void 0===E?void 0:E.firebase)||void 0===T?void 0:T.sign_in_provider;if(_t)return new xs(ye,"anonymous"!==_t&&"custom"!==_t?_t:null)}if(!V)return null;switch(V){case"facebook.com":return new uo(ye,ie);case"github.com":return new Oo(ye,ie);case"google.com":return new js(ye,ie);case"twitter.com":return new va(ye,ie,R.screenName||null);case"custom":case"anonymous":return new xs(ye,null);default:return new xs(ye,V,ie)}}(T)}function Gn(R,E,T,V){return(0,o.m9)(R).onAuthStateChanged(E,T,V)}class Ri{constructor(E,T){this.type=E,this.credential=T}static _fromIdtoken(E){return new Ri("enroll",E)}static _fromMfaPendingCredential(E){return new Ri("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var T,V;if(null==E?void 0:E.multiFactorSession){if(null===(T=E.multiFactorSession)||void 0===T?void 0:T.pendingCredential)return Ri._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null===(V=E.multiFactorSession)||void 0===V?void 0:V.idToken)return Ri._fromIdtoken(E.multiFactorSession.idToken)}return null}}class $i{constructor(E,T,V){this.session=E,this.hints=T,this.signInResolver=V}static _fromError(E,T){const V=Jn(E),ie=T.customData._serverResponse,ye=(ie.mfaInfo||[]).map(Yt=>Hi._fromServerResponse(V,Yt));ct(ie.mfaPendingCredential,V,"internal-error");const _t=Ri._fromMfaPendingCredential(ie.mfaPendingCredential);return new $i(_t,ye,function(){var Yt=(0,k.Z)(function*(jn){const cr=yield jn._process(V,_t);delete ie.mfaInfo,delete ie.mfaPendingCredential;const si=Object.assign(Object.assign({},ie),{idToken:cr.idToken,refreshToken:cr.refreshToken});switch(T.operationType){case"signIn":const Es=yield Is._fromIdTokenResponse(V,T.operationType,si);return yield V._updateCurrentUser(Es.user),Es;case"reauthenticate":return ct(T.user,V,"internal-error"),Is._forOperation(T.user,T.operationType,si);default:Zt(V,"internal-error")}});return function(jn){return Yt.apply(this,arguments)}}())}resolveSignIn(E){var T=this;return(0,k.Z)(function*(){return T.signInResolver(E)})()}}function ki(R,E){var T;const V=(0,o.m9)(R),ie=E;return ct(E.customData.operationType,V,"argument-error"),ct(null===(T=ie.customData._serverResponse)||void 0===T?void 0:T.mfaPendingCredential,V,"argument-error"),$i._fromError(V,ie)}function rs(R,E){return yn(R,"POST","/v2/accounts/mfaEnrollment:start",on(R,E))}class co{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(T=>{T.mfaInfo&&(this.enrolledFactors=T.mfaInfo.map(V=>Hi._fromServerResponse(E.auth,V)))})}static _fromUser(E){return new co(E)}getSession(){var E=this;return(0,k.Z)(function*(){return Ri._fromIdtoken(yield E.user.getIdToken())})()}enroll(E,T){var V=this;return(0,k.Z)(function*(){const ie=E,ye=yield V.getSession(),_t=yield rn(V.user,ie._process(V.user.auth,ye,T));return yield V.user._updateTokensIfNecessary(_t),V.user.reload()})()}unenroll(E){var T=this;return(0,k.Z)(function*(){var V;const ie="string"==typeof E?E:E.uid,ye=yield T.user.getIdToken(),_t=yield rn(T.user,function(R,E){return yn(R,"POST","/v2/accounts/mfaEnrollment:withdraw",on(R,E))}(T.user.auth,{idToken:ye,mfaEnrollmentId:ie}));T.enrolledFactors=T.enrolledFactors.filter(({uid:Yt})=>Yt!==ie),yield T.user._updateTokensIfNecessary(_t);try{yield T.user.reload()}catch(Yt){if("auth/user-token-expired"!==(null===(V=Yt)||void 0===V?void 0:V.code))throw Yt}})()}}const ys=new WeakMap;function Wa(R){const E=(0,o.m9)(R);return ys.has(E)||ys.set(E,co._fromUser(E)),ys.get(E)}const qi="__sak";class Hs{constructor(E,T){this.storageRetriever=E,this.type=T}_isAvailable(){try{return this.storage?(this.storage.setItem(qi,"1"),this.storage.removeItem(qi),Promise.resolve(!0)):Promise.resolve(!1)}catch(E){return Promise.resolve(!1)}}_set(E,T){return this.storage.setItem(E,JSON.stringify(T)),Promise.resolve()}_get(E){const T=this.storage.getItem(E);return Promise.resolve(T?JSON.parse(T):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const Va=(()=>{class R extends Hs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(T,V)=>this.onStorageEvent(T,V),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const R=(0,o.z$)();return ge(R)||kn(R)}()&&function(){try{return!(!window||window===window.top)}catch(R){return!1}}(),this.fallbackToPolling=or(),this._shouldAllowMigration=!0}forAllChangedKeys(T){for(const V of Object.keys(this.listeners)){const ie=this.storage.getItem(V),ye=this.localCache[V];ie!==ye&&T(V,ye,ie)}}onStorageEvent(T,V=!1){if(!T.key)return void this.forAllChangedKeys((Yt,jn,cr)=>{this.notifyListeners(Yt,cr)});const ie=T.key;if(V?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Yt=this.storage.getItem(ie);if(T.newValue!==Yt)null!==T.newValue?this.storage.setItem(ie,T.newValue):this.storage.removeItem(ie);else if(this.localCache[ie]===T.newValue&&!V)return}const ye=()=>{const Yt=this.storage.getItem(ie);!V&&this.localCache[ie]===Yt||this.notifyListeners(ie,Yt)},_t=this.storage.getItem(ie);(0,o.w1)()&&10===document.documentMode&&_t!==T.newValue&&T.newValue!==T.oldValue?setTimeout(ye,10):ye()}notifyListeners(T,V){this.localCache[T]=V;const ie=this.listeners[T];if(ie)for(const ye of Array.from(ie))ye(V&&JSON.parse(V))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((T,V,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:T,oldValue:V,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(T,V){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[T]||(this.listeners[T]=new Set,this.localCache[T]=this.storage.getItem(T)),this.listeners[T].add(V)}_removeListener(T,V){this.listeners[T]&&(this.listeners[T].delete(V),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(T,V){var ie=()=>super._set,ye=this;return(0,k.Z)(function*(){yield ie().call(ye,T,V),ye.localCache[T]=JSON.stringify(V)})()}_get(T){var V=()=>super._get,ie=this;return(0,k.Z)(function*(){const ye=yield V().call(ie,T);return ie.localCache[T]=JSON.stringify(ye),ye})()}_remove(T){var V=()=>super._remove,ie=this;return(0,k.Z)(function*(){yield V().call(ie,T),delete ie.localCache[T]})()}}return R.type="LOCAL",R})(),fu=(()=>{class R extends Hs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(T,V){}_removeListener(T,V){}}return R.type="SESSION",R})();let Od=(()=>{class R{constructor(T){this.eventTarget=T,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(T){const V=this.receivers.find(ye=>ye.isListeningto(T));if(V)return V;const ie=new R(T);return this.receivers.push(ie),ie}isListeningto(T){return this.eventTarget===T}handleEvent(T){var V=this;return(0,k.Z)(function*(){const ie=T,{eventId:ye,eventType:_t,data:Yt}=ie.data,jn=V.handlersMap[_t];if(!(null==jn?void 0:jn.size))return;ie.ports[0].postMessage({status:"ack",eventId:ye,eventType:_t});const cr=Array.from(jn).map(function(){var Es=(0,k.Z)(function*(Ja){return Ja(ie.origin,Yt)});return function(Ja){return Es.apply(this,arguments)}}()),si=yield function(R){return Promise.all(R.map(function(){var E=(0,k.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(V){return{fulfilled:!1,reason:V}}});return function(T){return E.apply(this,arguments)}}()))}(cr);ie.ports[0].postMessage({status:"done",eventId:ye,eventType:_t,response:si})})()}_subscribe(T,V){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[T]||(this.handlersMap[T]=new Set),this.handlersMap[T].add(V)}_unsubscribe(T,V){this.handlersMap[T]&&V&&this.handlersMap[T].delete(V),(!V||0===this.handlersMap[T].size)&&delete this.handlersMap[T],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function hl(R="",E=10){let T="";for(let V=0;V<E;V++)T+=Math.floor(10*Math.random());return R+T}class fl{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,T,V=50){var ie=this;return(0,k.Z)(function*(){const ye="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ye)throw new Error("connection_unavailable");let _t,Yt;return new Promise((jn,cr)=>{const si=hl("",20);ye.port1.start();const Es=setTimeout(()=>{cr(new Error("unsupported_event"))},V);Yt={messageChannel:ye,onMessage(Ja){const xa=Ja;if(xa.data.eventId===si)switch(xa.data.status){case"ack":clearTimeout(Es),_t=setTimeout(()=>{cr(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),jn(xa.data.response);break;default:clearTimeout(Es),clearTimeout(_t),cr(new Error("invalid_response"))}}},ie.handlers.add(Yt),ye.port1.addEventListener("message",Yt.onMessage),ie.target.postMessage({eventType:E,eventId:si,data:T},[ye.port2])}).finally(()=>{Yt&&ie.removeMessageHandler(Yt)})})()}}function _s(){return window}function vs(){return void 0!==_s().WorkerGlobalScope&&"function"==typeof _s().importScripts}function ra(){return(ra=(0,k.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(R){return null}})).apply(this,arguments)}const Xt="firebaseLocalStorageDb",Mo="firebaseLocalStorage",Gu="fbase_key";class Fn{constructor(E){this.request=E}toPromise(){return new Promise((E,T)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{T(this.request.error)})})}}function vr(R,E){return R.transaction([Mo],E?"readwrite":"readonly").objectStore(Mo)}function An(){const R=indexedDB.open(Xt,1);return new Promise((E,T)=>{R.addEventListener("error",()=>{T(R.error)}),R.addEventListener("upgradeneeded",()=>{const V=R.result;try{V.createObjectStore(Mo,{keyPath:Gu})}catch(ie){T(ie)}}),R.addEventListener("success",(0,k.Z)(function*(){const V=R.result;V.objectStoreNames.contains(Mo)?E(V):(V.close(),yield function(){const R=indexedDB.deleteDatabase(Xt);return new Fn(R).toPromise()}(),E(yield An()))}))})}function xt(R,E,T){return $t.apply(this,arguments)}function $t(){return($t=(0,k.Z)(function*(R,E,T){const V=vr(R,!0).put({[Gu]:E,value:T});return new Fn(V).toPromise()})).apply(this,arguments)}function sa(){return(sa=(0,k.Z)(function*(R,E){const T=vr(R,!1).get(E),V=yield new Fn(T).toPromise();return void 0===V?null:V.value})).apply(this,arguments)}function Ul(R,E){const T=vr(R,!0).delete(E);return new Fn(T).toPromise()}const M=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var T=this;return(0,k.Z)(function*(){return T.db||(T.db=yield An()),T.db})()}_withRetries(T){var V=this;return(0,k.Z)(function*(){let ie=0;for(;;)try{const ye=yield V._openDb();return yield T(ye)}catch(ye){if(ie++>3)throw ye;V.db&&(V.db.close(),V.db=void 0)}})()}initializeServiceWorkerMessaging(){var T=this;return(0,k.Z)(function*(){return vs()?T.initializeReceiver():T.initializeSender()})()}initializeReceiver(){var T=this;return(0,k.Z)(function*(){T.receiver=Od._getInstance(vs()?self:null),T.receiver._subscribe("keyChanged",function(){var V=(0,k.Z)(function*(ie,ye){return{keyProcessed:(yield T._poll()).includes(ye.key)}});return function(ie,ye){return V.apply(this,arguments)}}()),T.receiver._subscribe("ping",function(){var V=(0,k.Z)(function*(ie,ye){return["keyChanged"]});return function(ie,ye){return V.apply(this,arguments)}}())})()}initializeSender(){var T=this;return(0,k.Z)(function*(){var V,ie;if(T.activeServiceWorker=yield function(){return ra.apply(this,arguments)}(),!T.activeServiceWorker)return;T.sender=new fl(T.activeServiceWorker);const ye=yield T.sender._send("ping",{},800);!ye||(null===(V=ye[0])||void 0===V?void 0:V.fulfilled)&&(null===(ie=ye[0])||void 0===ie?void 0:ie.value.includes("keyChanged"))&&(T.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(T){var V=this;return(0,k.Z)(function*(){if(V.sender&&V.activeServiceWorker&&function(){var R;return(null===(R=null==navigator?void 0:navigator.serviceWorker)||void 0===R?void 0:R.controller)||null}()===V.activeServiceWorker)try{yield V.sender._send("keyChanged",{key:T},V.serviceWorkerReceiverAvailable?800:50)}catch(ie){}})()}_isAvailable(){return(0,k.Z)(function*(){try{if(!indexedDB)return!1;const T=yield An();return yield xt(T,qi,"1"),yield Ul(T,qi),!0}catch(T){}return!1})()}_withPendingWrite(T){var V=this;return(0,k.Z)(function*(){V.pendingWrites++;try{yield T()}finally{V.pendingWrites--}})()}_set(T,V){var ie=this;return(0,k.Z)(function*(){return ie._withPendingWrite((0,k.Z)(function*(){return yield ie._withRetries(ye=>xt(ye,T,V)),ie.localCache[T]=V,ie.notifyServiceWorker(T)}))})()}_get(T){var V=this;return(0,k.Z)(function*(){const ie=yield V._withRetries(ye=>function(R,E){return sa.apply(this,arguments)}(ye,T));return V.localCache[T]=ie,ie})()}_remove(T){var V=this;return(0,k.Z)(function*(){return V._withPendingWrite((0,k.Z)(function*(){return yield V._withRetries(ie=>Ul(ie,T)),delete V.localCache[T],V.notifyServiceWorker(T)}))})()}_poll(){var T=this;return(0,k.Z)(function*(){const V=yield T._withRetries(_t=>{const Yt=vr(_t,!1).getAll();return new Fn(Yt).toPromise()});if(!V)return[];if(0!==T.pendingWrites)return[];const ie=[],ye=new Set;for(const{fbase_key:_t,value:Yt}of V)ye.add(_t),JSON.stringify(T.localCache[_t])!==JSON.stringify(Yt)&&(T.notifyListeners(_t,Yt),ie.push(_t));for(const _t of Object.keys(T.localCache))T.localCache[_t]&&!ye.has(_t)&&(T.notifyListeners(_t,null),ie.push(_t));return ie})()}notifyListeners(T,V){this.localCache[T]=V;const ie=this.listeners[T];if(ie)for(const ye of Array.from(ie))ye(V)}startPolling(){var T=this;this.stopPolling(),this.pollTimer=setInterval((0,k.Z)(function*(){return T._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(T,V){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[T]||(this.listeners[T]=new Set,this._get(T)),this.listeners[T].add(V)}_removeListener(T,V){this.listeners[T]&&(this.listeners[T].delete(V),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function O(R,E){return yn(R,"POST","/v2/accounts/mfaSignIn:start",on(R,E))}function le(){return(le=(0,k.Z)(function*(R){return(yield yn(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oe(R){return new Promise((E,T)=>{const V=document.createElement("script");V.setAttribute("src",R),V.onload=E,V.onerror=ie=>{const ye=St("internal-error");ye.customData=ie,T(ye)},V.type="text/javascript",V.charset="UTF-8",function(){var R,E;return null!==(E=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==E?E:document}().appendChild(V)})}function Ht(R){return`__${R}${Math.floor(1e6*Math.random())}`}const en=1e12;class pi{constructor(E){this.auth=E,this.counter=en,this._widgets=new Map}render(E,T){const V=this.counter;return this._widgets.set(V,new xn(E,this.auth.name,T||{})),this.counter++,V}reset(E){var T;const V=E||en;null===(T=this._widgets.get(V))||void 0===T||T.delete(),this._widgets.delete(V)}getResponse(E){var T;return(null===(T=this._widgets.get(E||en))||void 0===T?void 0:T.getResponse())||""}execute(E){var T=this;return(0,k.Z)(function*(){var V;return null===(V=T._widgets.get(E||en))||void 0===V||V.execute(),""})()}}class xn{constructor(E,T,V){this.params=V,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof E?document.getElementById(E):E;ct(ie,"argument-error",{appName:T}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(R){const E=[],T="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<50;V++)E.push(T.charAt(Math.floor(Math.random()*T.length)));return E.join("")}();const{callback:E,"expired-callback":T}=this.params;if(E)try{E(this.responseToken)}catch(V){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,T)try{T()}catch(V){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qr=Ht("rcb"),fn=new un(3e4,6e4);class Qs{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(E=_s().grecaptcha)||void 0===E?void 0:E.render)}load(E,T=""){return ct((R=T).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R),E,"argument-error"),this.shouldResolveImmediately(T)?Promise.resolve(_s().grecaptcha):new Promise((V,ie)=>{const ye=_s().setTimeout(()=>{ie(St(E,"network-request-failed"))},fn.get());_s()[Qr]=()=>{_s().clearTimeout(ye),delete _s()[Qr];const Yt=_s().grecaptcha;if(!Yt)return void ie(St(E,"internal-error"));const jn=Yt.render;Yt.render=(cr,si)=>{const Es=jn(cr,si);return this.counter++,Es},this.hostLanguage=T,V(Yt)},Oe(`https://www.google.com/recaptcha/api.js??${(0,o.xO)({onload:Qr,render:"explicit",hl:T})}`).catch(()=>{clearTimeout(ye),ie(St(E,"internal-error"))})});var R}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var T;return!!(null===(T=_s().grecaptcha)||void 0===T?void 0:T.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zu{load(E){return(0,k.Z)(function*(){return new pi(E)})()}clearedOneInstance(){}}const Rd="recaptcha",Ph={theme:"light",type:"image"};class kd{constructor(E,T=Object.assign({},Ph),V){this.parameters=T,this.type=Rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jn(V),this.isInvisible="invisible"===this.parameters.size,ct("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof E?document.getElementById(E):E;ct(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zu:new Qs,this.validateStartingState()}verify(){var E=this;return(0,k.Z)(function*(){E.assertNotDestroyed();const T=yield E.render(),V=E.getAssertedRecaptcha();return V.getResponse(T)||new Promise(ye=>{const _t=Yt=>{!Yt||(E.tokenChangeListeners.delete(_t),ye(Yt))};E.tokenChangeListeners.add(_t),E.isInvisible&&V.execute(T)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){ct(!this.parameters.sitekey,this.auth,"argument-error"),ct(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ct("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return T=>{if(this.tokenChangeListeners.forEach(V=>V(T)),"function"==typeof E)E(T);else if("string"==typeof E){const V=_s()[E];"function"==typeof V&&V(T)}}}assertNotDestroyed(){ct(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,k.Z)(function*(){if(yield E.init(),!E.widgetId){let T=E.container;if(!E.isInvisible){const V=document.createElement("div");T.appendChild(V),T=V}E.widgetId=E.getAssertedRecaptcha().render(T,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,k.Z)(function*(){ct(qt()&&!vs(),E.auth,"internal-error"),yield function(){let R=null;return new Promise(E=>{"complete"!==document.readyState?(R=()=>E(),window.addEventListener("load",R)):E()}).catch(E=>{throw R&&window.removeEventListener("load",R),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const T=yield function(R){return le.apply(this,arguments)}(E.auth);ct(T,E.auth,"internal-error"),E.parameters.sitekey=T})()}getAssertedRecaptcha(){return ct(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pi{constructor(E,T){this.verificationId=E,this.onConfirmation=T}confirm(E){const T=oo._fromVerification(this.verificationId,E);return this.onConfirmation(T)}}function oa(R,E,T){return pu.apply(this,arguments)}function pu(){return(pu=(0,k.Z)(function*(R,E,T){const V=Jn(R),ie=yield It(V,E,(0,o.m9)(T));return new Pi(ie,ye=>je(V,ye))})).apply(this,arguments)}function Nh(R,E,T){return zu.apply(this,arguments)}function zu(){return(zu=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R);yield Z(!1,V,"phone");const ie=yield It(V.auth,E,(0,o.m9)(T));return new Pi(ie,ye=>jt(V,ye))})).apply(this,arguments)}function Bl(R,E,T){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R),ie=yield It(V.auth,E,(0,o.m9)(T));return new Pi(ie,ye=>Sn(V,ye))})).apply(this,arguments)}function It(R,E,T){return hc.apply(this,arguments)}function hc(){return(hc=(0,k.Z)(function*(R,E,T){var V;const ie=yield T.verify();try{let ye;if(ct("string"==typeof ie,R,"argument-error"),ct(T.type===Rd,R,"argument-error"),ye="string"==typeof E?{phoneNumber:E}:E,"session"in ye){const _t=ye.session;if("phoneNumber"in ye)return ct("enroll"===_t.type,R,"internal-error"),(yield rs(R,{idToken:_t.credential,phoneEnrollmentInfo:{phoneNumber:ye.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{ct("signin"===_t.type,R,"internal-error");const Yt=(null===(V=ye.multiFactorHint)||void 0===V?void 0:V.uid)||ye.multiFactorUid;return ct(Yt,R,"missing-multi-factor-info"),(yield O(R,{mfaPendingCredential:_t.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_t}=yield Bi(R,{phoneNumber:ye.phoneNumber,recaptchaToken:ie});return _t}}finally{T._reset()}})).apply(this,arguments)}function Ba(R,E){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,k.Z)(function*(R,E){yield G((0,o.m9)(R),E)})).apply(this,arguments)}let ho=(()=>{class R{constructor(T){this.providerId=R.PROVIDER_ID,this.auth=Jn(T)}verifyPhoneNumber(T,V){return It(this.auth,T,(0,o.m9)(V))}static credential(T,V){return oo._fromVerification(T,V)}static credentialFromResult(T){return R.credentialFromTaggedObject(T)}static credentialFromError(T){return R.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{phoneNumber:V,temporaryProof:ie}=T;return V&&ie?oo._fromTokenResponse(V,ie):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function Js(R,E){return E?Je(E):(ct(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class Sf extends Ye{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return Gr(E,this._buildIdpRequest())}_linkToIdToken(E,T){return Gr(E,this._buildIdpRequest(T))}_getReauthenticationResolver(E){return Gr(E,this._buildIdpRequest())}_buildIdpRequest(E){const T={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(T.idToken=E),T}}function Fi(R){return ne(R.auth,new Sf(R),R.bypassAuthState)}function Wu(R){const{auth:E,user:T}=R;return ct(T,E,"internal-error"),$e(T,new Sf(R),R.bypassAuthState)}function jl(R){return If.apply(this,arguments)}function If(){return(If=(0,k.Z)(function*(R){const{auth:E,user:T}=R;return ct(T,E,"internal-error"),G(T,new Sf(R),R.bypassAuthState)})).apply(this,arguments)}class Ka{constructor(E,T,V,ie,ye=!1){this.auth=E,this.resolver=V,this.user=ie,this.bypassAuthState=ye,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(T)?T:[T]}execute(){var E=this;return new Promise(function(){var T=(0,k.Z)(function*(V,ie){E.pendingPromise={resolve:V,reject:ie};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(ye){E.reject(ye)}});return function(V,ie){return T.apply(this,arguments)}}())}onAuthEvent(E){var T=this;return(0,k.Z)(function*(){const{urlResponse:V,sessionId:ie,postBody:ye,tenantId:_t,error:Yt,type:jn}=E;if(Yt)return void T.reject(Yt);const cr={auth:T.auth,requestUri:V,sessionId:ie,tenantId:_t||void 0,postBody:ye||void 0,user:T.user,bypassAuthState:T.bypassAuthState};try{T.resolve(yield T.getIdpTask(jn)(cr))}catch(si){T.reject(si)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return Fi;case"linkViaPopup":case"linkViaRedirect":return jl;case"reauthViaPopup":case"reauthViaRedirect":return Wu;default:Zt(this.auth,"internal-error")}}resolve(E){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const os=new un(2e3,1e4);function Ya(R,E,T){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,k.Z)(function*(R,E,T){const V=Jn(R);Rt(R,E,Ks);const ie=Js(V,T);return new Li(V,"signInViaPopup",E,ie).executeNotNull()})).apply(this,arguments)}function pl(R,E,T){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R);Rt(V.auth,E,Ks);const ie=Js(V.auth,T);return new Li(V.auth,"reauthViaPopup",E,ie,V).executeNotNull()})).apply(this,arguments)}function Ta(R,E,T){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R);Rt(V.auth,E,Ks);const ie=Js(V.auth,T);return new Li(V.auth,"linkViaPopup",E,ie,V).executeNotNull()})).apply(this,arguments)}let Li=(()=>{class R extends Ka{constructor(T,V,ie,ye,_t){super(T,V,ye,_t),this.provider=ie,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var T=this;return(0,k.Z)(function*(){const V=yield T.execute();return ct(V,T.auth,"internal-error"),V})()}onExecution(){var T=this;return(0,k.Z)(function*(){Dt(1===T.filter.length,"Popup operations only handle one event");const V=hl();T.authWindow=yield T.resolver._openPopup(T.auth,T.provider,T.filter[0],V),T.authWindow.associatedEvent=V,T.resolver._originValidation(T.auth).catch(ie=>{T.reject(ie)}),T.resolver._isIframeWebStorageSupported(T.auth,ie=>{ie||T.reject(St(T.auth,"web-storage-unsupported"))}),T.pollUserCancellation()})()}get eventId(){var T;return(null===(T=this.authWindow)||void 0===T?void 0:T.associatedEvent)||null}cancel(){this.reject(St(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const T=()=>{var V,ie;this.pollId=(null===(ie=null===(V=this.authWindow)||void 0===V?void 0:V.window)||void 0===ie?void 0:ie.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(St(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(T,os.get())};T()}}return R.currentPopupAction=null,R})();const Hl=new Map;class aa extends Ka{constructor(E,T,V=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],T,void 0,V),this.eventId=null}execute(){var E=()=>super.execute,T=this;return(0,k.Z)(function*(){let V=Hl.get(T.auth._key());if(!V){try{const ye=(yield function(R,E){return bs.apply(this,arguments)}(T.resolver,T.auth))?yield E().call(T):null;V=()=>Promise.resolve(ye)}catch(ie){V=()=>Promise.reject(ie)}Hl.set(T.auth._key(),V)}return T.bypassAuthState||Hl.set(T.auth._key(),()=>Promise.resolve(null)),V()})()}onAuthEvent(E){var T=()=>super.onAuthEvent,V=this;return(0,k.Z)(function*(){if("signInViaRedirect"===E.type)return T().call(V,E);if("unknown"!==E.type){if(E.eventId){const ie=yield V.auth._redirectUserForId(E.eventId);if(ie)return V.user=ie,T().call(V,E);V.resolve(null)}}else V.resolve(null)})()}onExecution(){return(0,k.Z)(function*(){})()}cleanUp(){}}function bs(){return(bs=(0,k.Z)(function*(R,E){const T=Lh(E),V=Nd(R);if(!(yield V._isAvailable()))return!1;const ie="true"===(yield V._get(T));return yield V._remove(T),ie})).apply(this,arguments)}function Ol(R,E){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,k.Z)(function*(R,E){return Nd(R)._set(Lh(E),"true")})).apply(this,arguments)}function Os(){Hl.clear()}function gu(R,E){Hl.set(R._key(),E)}function Nd(R){return Je(R._redirectPersistence)}function Lh(R){return Zn("pendingRedirect",R.config.apiKey,R.name)}function Ku(R,E,T){return function(R,E,T){return Sa.apply(this,arguments)}(R,E,T)}function Sa(){return(Sa=(0,k.Z)(function*(R,E,T){const V=Jn(R);Rt(R,E,Ks);const ie=Js(V,T);return yield Ol(ie,V),ie._openRedirect(V,E,"signInViaRedirect")})).apply(this,arguments)}function mu(R,E,T){return function(R,E,T){return fc.apply(this,arguments)}(R,E,T)}function fc(){return(fc=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R);Rt(V.auth,E,Ks);const ie=Js(V.auth,T);yield Ol(ie,V.auth);const ye=yield qc(V);return ie._openRedirect(V.auth,E,"reauthViaRedirect",ye)})).apply(this,arguments)}function Qa(R,E,T){return function(R,E,T){return la.apply(this,arguments)}(R,E,T)}function la(){return(la=(0,k.Z)(function*(R,E,T){const V=(0,o.m9)(R);Rt(V.auth,E,Ks);const ie=Js(V.auth,T);yield Z(!1,V,E.providerId),yield Ol(ie,V.auth);const ye=yield qc(V);return ie._openRedirect(V.auth,E,"linkViaRedirect",ye)})).apply(this,arguments)}function gl(R,E){return vu.apply(this,arguments)}function vu(){return(vu=(0,k.Z)(function*(R,E){return yield Jn(R)._initializationPromise,ql(R,E,!1)})).apply(this,arguments)}function ql(R,E){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,k.Z)(function*(R,E,T=!1){const V=Jn(R),ie=Js(V,E),_t=yield new aa(V,ie,T).execute();return _t&&!T&&(delete _t.user._redirectEventId,yield V._persistUserIfCurrent(_t.user),yield V._setRedirectUser(null,E)),_t})).apply(this,arguments)}function qc(R){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,k.Z)(function*(R){const E=hl(`${R.uid}:::`);return R._redirectEventId=E,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),E})).apply(this,arguments)}class Gl{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let T=!1;return this.consumers.forEach(V=>{this.isEventForConsumer(E,V)&&(T=!0,this.sendToConsumer(E,V),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ms(R);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,T||(this.queuedRedirectEvent=E,T=!0)),T}sendToConsumer(E,T){var V;if(E.error&&!Ms(E)){const ie=(null===(V=E.error.code)||void 0===V?void 0:V.split("auth/")[1])||"internal-error";T.onError(St(this.auth,ie))}else T.onAuthEvent(E)}isEventForConsumer(E,T){const V=null===T.eventId||!!E.eventId&&E.eventId===T.eventId;return T.filter.includes(E.type)&&V}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pc(E))}saveEventToCache(E){this.cachedEventUids.add(pc(E)),this.lastProcessedEventTime=Date.now()}}function pc(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(E=>E).join("-")}function Ms({type:R,error:E}){return"unknown"===R&&"auth/no-auth-event"===(null==E?void 0:E.code)}function Gc(R){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,k.Z)(function*(R,E={}){return yn(R,"GET","/v1/projects",E)})).apply(this,arguments)}const gc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qg=/^https?/;function Fd(){return(Fd=(0,k.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:E}=yield Gc(R);for(const T of E)try{if(Jg(T))return}catch(V){}Zt(R,"unauthorized-domain")})).apply(this,arguments)}function Jg(R){const E=ft(),{protocol:T,hostname:V}=new URL(E);if(R.startsWith("chrome-extension://")){const _t=new URL(R);return""===_t.hostname&&""===V?"chrome-extension:"===T&&R.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===T&&_t.hostname===V}if(!Qg.test(T))return!1;if(gc.test(R))return V===R;const ie=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(V)}const Gs=new un(3e4,6e4);function yl(){const R=_s().___jsl;if(null==R?void 0:R.H)for(const E of Object.keys(R.H))if(R.H[E].r=R.H[E].r||[],R.H[E].L=R.H[E].L||[],R.H[E].r=[...R.H[E].L],R.CP)for(let T=0;T<R.CP.length;T++)R.CP[T]=null}let Ha=null;function Ld(R){return Ha=Ha||function(R){return new Promise((E,T)=>{var V,ie,ye;function _t(){yl(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{yl(),T(St(R,"network-request-failed"))},timeout:Gs.get()})}if(null===(ie=null===(V=_s().gapi)||void 0===V?void 0:V.iframes)||void 0===ie?void 0:ie.Iframe)E(gapi.iframes.getContext());else{if(!(null===(ye=_s().gapi)||void 0===ye?void 0:ye.load)){const Yt=Ht("iframefcb");return _s()[Yt]=()=>{gapi.load?_t():T(St(R,"network-request-failed"))},Oe(`https://apis.google.com/js/api.js?onload=${Yt}`).catch(jn=>T(jn))}_t()}}).catch(E=>{throw Ha=null,E})}(R),Ha}const Bo=new un(5e3,15e3),Zc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ud=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xf(R){const E=R.config;ct(E.authDomain,R,"auth-domain-config-required");const T=E.emulator?zn(E,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,V={apiKey:E.apiKey,appName:R.name,v:te.SDK_VERSION},ie=Ud.get(R.config.apiHost);ie&&(V.eid=ie);const ye=R._getFrameworks();return ye.length&&(V.fw=ye.join(",")),`${T}?${(0,o.xO)(V).slice(1)}`}function Rs(){return Rs=(0,k.Z)(function*(R){const E=yield Ld(R),T=_s().gapi;return ct(T,R,"internal-error"),E.open({where:document.body,url:xf(R),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zc,dontclear:!0},V=>new Promise(function(){var ie=(0,k.Z)(function*(ye,_t){yield V.restyle({setHideOnLeave:!1});const Yt=St(R,"network-request-failed"),jn=_s().setTimeout(()=>{_t(Yt)},Bo.get());function cr(){_s().clearTimeout(jn),ye(V)}V.ping(cr).then(cr,()=>{_t(Yt)})});return function(ye,_t){return ie.apply(this,arguments)}}()))}),Rs.apply(this,arguments)}const Up={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jh{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(E){}}}function Ju(R,E,T,V,ie,ye){ct(R.config.authDomain,R,"auth-domain-config-required"),ct(R.config.apiKey,R,"invalid-api-key");const _t={apiKey:R.config.apiKey,appName:R.name,authType:T,redirectUrl:V,v:te.SDK_VERSION,eventId:ie};if(E instanceof Ks){E.setDefaultLanguage(R.languageCode),_t.providerId=E.providerId||"",(0,o.xb)(E.getCustomParameters())||(_t.customParameters=JSON.stringify(E.getCustomParameters()));for(const[jn,cr]of Object.entries(ye||{}))_t[jn]=cr}if(E instanceof vo){const jn=E.getScopes().filter(cr=>""!==cr);jn.length>0&&(_t.scopes=jn.join(","))}R.tenantId&&(_t.tid=R.tenantId);const Yt=_t;for(const jn of Object.keys(Yt))void 0===Yt[jn]&&delete Yt[jn];return`${function({config:R}){return R.emulator?zn(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,o.xO)(Yt).slice(1)}`}const Bd="webStorageSupport",Da=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fu,this._completeRedirectFn=ql,this._overrideRedirectResult=gu}_openPopup(E,T,V,ie){var ye=this;return(0,k.Z)(function*(){var _t;Dt(null===(_t=ye.eventManagers[E._key()])||void 0===_t?void 0:_t.manager,"_initialize() not called before _openPopup()");const Yt=Ju(E,T,V,ft(),ie);return function(R,E,T,V=500,ie=600){const ye=Math.max((window.screen.availHeight-ie)/2,0).toString(),_t=Math.max((window.screen.availWidth-V)/2,0).toString();let Yt="";const jn=Object.assign(Object.assign({},Up),{width:V.toString(),height:ie.toString(),top:ye,left:_t}),cr=(0,o.z$)().toLowerCase();T&&(Yt=nt(cr)?"_blank":T),_e(cr)&&(E=E||"http://localhost",jn.scrollbars="yes");const si=Object.entries(jn).reduce((Ja,[xa,$l])=>`${Ja}${xa}=${$l},`,"");if(function(R=(0,o.z$)()){var E;return kn(R)&&!!(null===(E=window.navigator)||void 0===E?void 0:E.standalone)}(cr)&&"_self"!==Yt)return function(R,E){const T=document.createElement("a");T.href=R,T.target=E;const V=document.createEvent("MouseEvent");V.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),T.dispatchEvent(V)}(E||"",Yt),new jh(null);const Es=window.open(E||"",Yt,si);ct(Es,R,"popup-blocked");try{Es.focus()}catch(Ja){}return new jh(Es)}(E,Yt,hl())})()}_openRedirect(E,T,V,ie){var ye=this;return(0,k.Z)(function*(){return yield ye._originValidation(E),R=Ju(E,T,V,ft(),ie),_s().location.href=R,new Promise(()=>{});var R})()}_initialize(E){const T=E._key();if(this.eventManagers[T]){const{manager:ie,promise:ye}=this.eventManagers[T];return ie?Promise.resolve(ie):(Dt(ye,"If manager is not set, promise should be"),ye)}const V=this.initAndGetManager(E);return this.eventManagers[T]={promise:V},V.catch(()=>{delete this.eventManagers[T]}),V}initAndGetManager(E){var T=this;return(0,k.Z)(function*(){const V=yield function(R){return Rs.apply(this,arguments)}(E),ie=new Gl(E);return V.register("authEvent",ye=>(ct(null==ye?void 0:ye.authEvent,E,"invalid-auth-event"),{status:ie.onEvent(ye.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),T.eventManagers[E._key()]={manager:ie},T.iframes[E._key()]=V,ie})()}_isIframeWebStorageSupported(E,T){this.iframes[E._key()].send(Bd,{type:Bd},ie=>{var ye;const _t=null===(ye=null==ie?void 0:ie[0])||void 0===ye?void 0:ye[Bd];void 0!==_t&&T(!!_t),Zt(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const T=E._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function(R){return Fd.apply(this,arguments)}(E)),this.originValidationPromises[T]}get _shouldInitProactively(){return or()||ge()||kn()}};class $c extends class{constructor(E){this.factorId=E}_process(E,T,V){switch(T.type){case"enroll":return this._finalizeEnroll(E,T.credential,V);case"signin":return this._finalizeSignIn(E,T.credential);default:return lt("unexpected MultiFactorSessionType")}}}{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new $c(E)}_finalizeEnroll(E,T,V){return function(R,E){return yn(R,"POST","/v2/accounts/mfaEnrollment:finalize",on(R,E))}(E,{idToken:T,displayName:V,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,T){return function(R,E){return yn(R,"POST","/v2/accounts/mfaSignIn:finalize",on(R,E))}(E,{mfaPendingCredential:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hh=(()=>{class R{constructor(){}static assertion(T){return $c._fromCredential(T)}}return R.FACTOR_ID="phone",R})();var R,zc="@firebase/auth";class mc{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var T=this;return(0,k.Z)(function*(){return T.assertAuthConfigured(),yield T.auth._initializationPromise,T.auth.currentUser?{accessToken:yield T.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const T=this.auth.onIdTokenChanged(V=>{var ie;E((null===(ie=V)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(E,T),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const T=this.internalListeners.get(E);!T||(this.internalListeners.delete(E),T(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}R="Browser",(0,te._registerComponent)(new Ie.wA("auth",(E,{options:T})=>{const V=E.getProvider("app").getImmediate(),ie=E.getProvider("heartbeat"),{apiKey:ye,authDomain:_t}=V.options;return((Yt,jn)=>{ct(ye&&!ye.includes(":"),"invalid-api-key",{appName:Yt.name}),ct(!(null==_t?void 0:_t.includes(":")),"argument-error",{appName:Yt.name});const cr={apiKey:ye,authDomain:_t,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(R)},si=new Ls(Yt,jn,cr);return function(R,E){const T=(null==E?void 0:E.persistence)||[],V=(Array.isArray(T)?T:[T]).map(Je);(null==E?void 0:E.errorMap)&&R._updateErrorMap(E.errorMap),R._initializeWithPersistence(V,null==E?void 0:E.popupRedirectResolver)}(si,T),si})(V,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,T,V)=>{E.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new Ie.wA("auth-internal",E=>{const T=Jn(E.getProvider("auth").getImmediate());return new mc(T)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(zc,"0.20.6",void 0),(0,te.registerVersion)(zc,"0.20.6","esm2017")},3854:(ln,at,q)=>{"use strict";q.d(at,{BH:()=>be,LL:()=>ft,ZR:()=>yt,zI:()=>Qe,US:()=>Ie,tV:()=>Te,L:()=>Ce,$s:()=>Rn,r3:()=>on,Sg:()=>Ke,ne:()=>_r,vZ:()=>Rr,ZB:()=>he,pd:()=>dr,m9:()=>_i,z$:()=>pt,jU:()=>vt,ru:()=>Jt,d:()=>St,xb:()=>mr,w1:()=>Ct,hl:()=>lt,uI:()=>tt,UG:()=>ce,b$:()=>Zt,G6:()=>ct,Mn:()=>Rt,xO:()=>yr,zd:()=>vn,eu:()=>Dt});const Ue=function(xe){const Le=[];let Ee=0;for(let Fe=0;Fe<xe.length;Fe++){let De=xe.charCodeAt(Fe);De<128?Le[Ee++]=De:De<2048?(Le[Ee++]=De>>6|192,Le[Ee++]=63&De|128):55296==(64512&De)&&Fe+1<xe.length&&56320==(64512&xe.charCodeAt(Fe+1))?(De=65536+((1023&De)<<10)+(1023&xe.charCodeAt(++Fe)),Le[Ee++]=De>>18|240,Le[Ee++]=De>>12&63|128,Le[Ee++]=De>>6&63|128,Le[Ee++]=63&De|128):(Le[Ee++]=De>>12|224,Le[Ee++]=De>>6&63|128,Le[Ee++]=63&De|128)}return Le},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,Le){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ee=Le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let De=0;De<xe.length;De+=3){const Ft=xe[De],nn=De+1<xe.length,Vn=nn?xe[De+1]:0,Er=De+2<xe.length,Zn=Er?xe[De+2]:0;let _e=(15&Vn)<<2|Zn>>6,ge=63&Zn;Er||(ge=64,nn||(_e=64)),Fe.push(Ee[Ft>>2],Ee[(3&Ft)<<4|Vn>>4],Ee[_e],Ee[ge])}return Fe.join("")},encodeString(xe,Le){return this.HAS_NATIVE_SUPPORT&&!Le?btoa(xe):this.encodeByteArray(Ue(xe),Le)},decodeString(xe,Le){return this.HAS_NATIVE_SUPPORT&&!Le?atob(xe):function(xe){const Le=[];let Ee=0,Fe=0;for(;Ee<xe.length;){const De=xe[Ee++];if(De<128)Le[Fe++]=String.fromCharCode(De);else if(De>191&&De<224){const Ft=xe[Ee++];Le[Fe++]=String.fromCharCode((31&De)<<6|63&Ft)}else if(De>239&&De<365){const Er=((7&De)<<18|(63&xe[Ee++])<<12|(63&xe[Ee++])<<6|63&xe[Ee++])-65536;Le[Fe++]=String.fromCharCode(55296+(Er>>10)),Le[Fe++]=String.fromCharCode(56320+(1023&Er))}else{const Ft=xe[Ee++],nn=xe[Ee++];Le[Fe++]=String.fromCharCode((15&De)<<12|(63&Ft)<<6|63&nn)}}return Le.join("")}(this.decodeStringToByteArray(xe,Le))},decodeStringToByteArray(xe,Le){this.init_();const Ee=Le?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let De=0;De<xe.length;){const Ft=Ee[xe.charAt(De++)],Vn=De<xe.length?Ee[xe.charAt(De)]:0;++De;const Zn=De<xe.length?Ee[xe.charAt(De)]:64;++De;const ve=De<xe.length?Ee[xe.charAt(De)]:64;if(++De,null==Ft||null==Vn||null==Zn||null==ve)throw Error();Fe.push(Ft<<2|Vn>>4),64!==Zn&&(Fe.push(Vn<<4&240|Zn>>2),64!==ve&&Fe.push(Zn<<6&192|ve))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}},Ce=function(xe){return function(xe){const Le=Ue(xe);return Ie.encodeByteArray(Le,!0)}(xe).replace(/\./g,"")},Te=function(xe){try{return Ie.decodeString(xe,!0)}catch(Le){console.error("base64Decode failed: ",Le)}return null};function he(xe,Le){if(!(Le instanceof Object))return Le;switch(Le.constructor){case Date:return new Date(Le.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return Le}for(const Ee in Le)!Le.hasOwnProperty(Ee)||!Ve(Ee)||(xe[Ee]=he(xe[Ee],Le[Ee]));return xe}function Ve(xe){return"__proto__"!==xe}class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Le,Ee)=>{this.resolve=Le,this.reject=Ee})}wrapCallback(Le){return(Ee,Fe)=>{Ee?this.reject(Ee):this.resolve(Fe),"function"==typeof Le&&(this.promise.catch(()=>{}),1===Le.length?Le(Ee):Le(Ee,Fe))}}}function Ke(xe,Le){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fe=Le||"demo-project",De=xe.iat||0,Ft=xe.sub||xe.user_id;if(!Ft)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nn=Object.assign({iss:`https://securetoken.google.com/${Fe}`,aud:Fe,iat:De,exp:De+3600,auth_time:De,sub:Ft,user_id:Ft,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(nn)),""].join(".")}function pt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(xe){return!1}}function vt(){return"object"==typeof self&&self.self===self}function Jt(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function St(){return pt().indexOf("Electron/")>=0}function Ct(){const xe=pt();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function Rt(){return pt().indexOf("MSAppHost/")>=0}function ct(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lt(){return"object"==typeof indexedDB}function Dt(){return new Promise((xe,Le)=>{try{let Ee=!0;const Fe="validate-browser-context-for-indexeddb-analytics-module",De=self.indexedDB.open(Fe);De.onsuccess=()=>{De.result.close(),Ee||self.indexedDB.deleteDatabase(Fe),xe(!0)},De.onupgradeneeded=()=>{Ee=!1},De.onerror=()=>{var Ft;Le((null===(Ft=De.error)||void 0===Ft?void 0:Ft.message)||"")}}catch(Ee){Le(Ee)}})}function Qe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class yt extends Error{constructor(Le,Ee,Fe){super(Ee),this.code=Le,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(Le,Ee,Fe){this.service=Le,this.serviceName=Ee,this.errors=Fe}create(Le,...Ee){const Fe=Ee[0]||{},De=`${this.service}/${Le}`,Ft=this.errors[Le],nn=Ft?function(xe,Le){return xe.replace(En,(Ee,Fe)=>{const De=Le[Fe];return null!=De?String(De):`<${Fe}?>`})}(Ft,Fe):"Error";return new yt(De,`${this.serviceName}: ${nn} (${De}).`,Fe)}}const En=/\{\$([^}]+)}/g;function on(xe,Le){return Object.prototype.hasOwnProperty.call(xe,Le)}function mr(xe){for(const Le in xe)if(Object.prototype.hasOwnProperty.call(xe,Le))return!1;return!0}function Rr(xe,Le){if(xe===Le)return!0;const Ee=Object.keys(xe),Fe=Object.keys(Le);for(const De of Ee){if(!Fe.includes(De))return!1;const Ft=xe[De],nn=Le[De];if(Un(Ft)&&Un(nn)){if(!Rr(Ft,nn))return!1}else if(Ft!==nn)return!1}for(const De of Fe)if(!Ee.includes(De))return!1;return!0}function Un(xe){return null!==xe&&"object"==typeof xe}function yr(xe){const Le=[];for(const[Ee,Fe]of Object.entries(xe))Array.isArray(Fe)?Fe.forEach(De=>{Le.push(encodeURIComponent(Ee)+"="+encodeURIComponent(De))}):Le.push(encodeURIComponent(Ee)+"="+encodeURIComponent(Fe));return Le.length?"&"+Le.join("&"):""}function vn(xe){const Le={};return xe.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[De,Ft]=Fe.split("=");Le[decodeURIComponent(De)]=decodeURIComponent(Ft)}}),Le}function dr(xe){const Le=xe.indexOf("?");if(!Le)return"";const Ee=xe.indexOf("#",Le);return xe.substring(Le,Ee>0?Ee:void 0)}function _r(xe,Le){const Ee=new Yr(xe,Le);return Ee.subscribe.bind(Ee)}class Yr{constructor(Le,Ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(()=>{Le(this)}).catch(Fe=>{this.error(Fe)})}next(Le){this.forEachObserver(Ee=>{Ee.next(Le)})}error(Le){this.forEachObserver(Ee=>{Ee.error(Le)}),this.close(Le)}complete(){this.forEachObserver(Le=>{Le.complete()}),this.close()}subscribe(Le,Ee,Fe){let De;if(void 0===Le&&void 0===Ee&&void 0===Fe)throw new Error("Missing Observer.");De=function(xe,Le){if("object"!=typeof xe||null===xe)return!1;for(const Ee of["next","error","complete"])if(Ee in xe&&"function"==typeof xe[Ee])return!0;return!1}(Le)?Le:{next:Le,error:Ee,complete:Fe},void 0===De.next&&(De.next=ti),void 0===De.error&&(De.error=ti),void 0===De.complete&&(De.complete=ti);const Ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?De.error(this.finalError):De.complete()}catch(nn){}}),this.observers.push(De),Ft}unsubscribeOne(Le){void 0===this.observers||void 0===this.observers[Le]||(delete this.observers[Le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Le){if(!this.finalized)for(let Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,Le)}sendOne(Le,Ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Le])try{Ee(this.observers[Le])}catch(Fe){"undefined"!=typeof console&&console.error&&console.error(Fe)}})}close(Le){this.finalized||(this.finalized=!0,void 0!==Le&&(this.finalError=Le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function Rn(xe,Le=1e3,Ee=2){const Fe=Le*Math.pow(Ee,xe),De=Math.round(.5*Fe*(Math.random()-.5)*2);return Math.min(144e5,Fe+De)}function _i(xe){return xe&&xe._delegate?xe._delegate:xe}},6917:(ln,at,q)=>{"use strict";q.d(at,{Gb:()=>lr,Kz:()=>Ft,Iv:()=>Le});var k=q(8239),o=q(8026),te=q(5422),Ue=q(3854),Be=q(3910);q(3328);const Ge="analytics",Ce="firebase_id",he="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ve="https://www.googletagmanager.com/gtag/js",be=new te.Yd("@firebase/analytics");function Ke(st){return Promise.all(st.map(ve=>ve.catch(_e=>_e)))}function pt(st,ve){const _e=document.createElement("script");_e.src=`${Ve}?l=${st}&id=${ve}`,_e.async=!0,document.head.appendChild(_e)}function ce(st,ve,_e,ge,nt,Ut){return vt.apply(this,arguments)}function vt(){return(vt=(0,k.Z)(function*(st,ve,_e,ge,nt,Ut){const dn=ge[nt];try{if(dn)yield ve[dn];else{const Pn=(yield Ke(_e)).find(kn=>kn.measurementId===nt);Pn&&(yield ve[Pn.appId])}}catch(Cn){be.error(Cn)}st("config",nt,Ut)})).apply(this,arguments)}function Jt(st,ve,_e,ge,nt){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,k.Z)(function*(st,ve,_e,ge,nt){try{let Ut=[];if(nt&&nt.send_to){let dn=nt.send_to;Array.isArray(dn)||(dn=[dn]);const Cn=yield Ke(_e);for(const Pn of dn){const kn=Cn.find(Pr=>Pr.measurementId===Pn),Ir=kn&&ve[kn.appId];if(!Ir){Ut=[];break}Ut.push(Ir)}}0===Ut.length&&(Ut=Object.values(ve)),yield Promise.all(Ut),st("event",ge,nt||{})}catch(Ut){be.error(Ut)}})).apply(this,arguments)}function Rt(){const st=window.document.getElementsByTagName("script");for(const ve of Object.values(st))if(ve.src&&ve.src.includes(Ve))return ve;return null}const ct=new Ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Je=new class{constructor(ve={},_e=1e3){this.throttleMetadata=ve,this.intervalMillis=_e}getThrottleMetadata(ve){return this.throttleMetadata[ve]}setThrottleMetadata(ve,_e){this.throttleMetadata[ve]=_e}deleteThrottleMetadata(ve){delete this.throttleMetadata[ve]}};function et(st){return new Headers({Accept:"application/json","x-goog-api-key":st})}function yt(st){return ft.apply(this,arguments)}function ft(){return(ft=(0,k.Z)(function*(st){var ve;const{appId:_e,apiKey:ge}=st,nt={method:"GET",headers:et(ge)},Ut=he.replace("{app-id}",_e),dn=yield fetch(Ut,nt);if(200!==dn.status&&304!==dn.status){let Cn="";try{const Pn=yield dn.json();(null===(ve=Pn.error)||void 0===ve?void 0:ve.message)&&(Cn=Pn.error.message)}catch(Pn){}throw ct.create("config-fetch-failed",{httpStatus:dn.status,responseMessage:Cn})}return dn.json()})).apply(this,arguments)}function qt(st){return En.apply(this,arguments)}function En(){return(En=(0,k.Z)(function*(st,ve=Je,_e){const{appId:ge,apiKey:nt,measurementId:Ut}=st.options;if(!ge)throw ct.create("no-app-id");if(!nt){if(Ut)return{measurementId:Ut,appId:ge};throw ct.create("no-api-key")}const dn=ve.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new Kr;return setTimeout((0,k.Z)(function*(){Cn.abort()}),void 0!==_e?_e:6e4),Tn({appId:ge,apiKey:nt,measurementId:Ut},dn,Cn,ve)})).apply(this,arguments)}function Tn(st,ve,_e){return sr.apply(this,arguments)}function sr(){return(sr=(0,k.Z)(function*(st,{throttleEndTimeMillis:ve,backoffCount:_e},ge,nt=Je){var Ut,dn;const{appId:Cn,measurementId:Pn}=st;try{yield un(ge,ve)}catch(kn){if(Pn)return be.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pn} provided in the "measurementId" field in the local Firebase config. [${null===(Ut=kn)||void 0===Ut?void 0:Ut.message}]`),{appId:Cn,measurementId:Pn};throw kn}try{const kn=yield yt(st);return nt.deleteThrottleMetadata(Cn),kn}catch(kn){const Ir=kn;if(!zn(Ir)){if(nt.deleteThrottleMetadata(Cn),Pn)return be.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pn} provided in the "measurementId" field in the local Firebase config. [${null==Ir?void 0:Ir.message}]`),{appId:Cn,measurementId:Pn};throw kn}const Pr=503===Number(null===(dn=null==Ir?void 0:Ir.customData)||void 0===dn?void 0:dn.httpStatus)?(0,Ue.$s)(_e,nt.intervalMillis,30):(0,Ue.$s)(_e,nt.intervalMillis),sn={throttleEndTimeMillis:Date.now()+Pr,backoffCount:_e+1};return nt.setThrottleMetadata(Cn,sn),be.debug(`Calling attemptFetch again in ${Pr} millis`),Tn(st,sn,ge,nt)}})).apply(this,arguments)}function un(st,ve){return new Promise((_e,ge)=>{const nt=Math.max(ve-Date.now(),0),Ut=setTimeout(_e,nt);st.addEventListener(()=>{clearTimeout(Ut),ge(ct.create("fetch-throttle",{throttleEndTimeMillis:ve}))})})}function zn(st){if(!(st instanceof Ue.ZR&&st.customData))return!1;const ve=Number(st.customData.httpStatus);return 429===ve||500===ve||503===ve||504===ve}class Kr{constructor(){this.listeners=[]}addEventListener(ve){this.listeners.push(ve)}abort(){this.listeners.forEach(ve=>ve())}}let Nr,dr;function on(){return(on=(0,k.Z)(function*(st,ve,_e,ge,nt){if(nt&&nt.global)st("event",_e,ge);else{const Ut=yield ve;st("event",_e,Object.assign(Object.assign({},ge),{send_to:Ut}))}})).apply(this,arguments)}function Rr(){return(Rr=(0,k.Z)(function*(st,ve,_e,ge){if(ge&&ge.global)return st("set",{user_id:_e}),Promise.resolve();st("config",yield ve,{update:!0,user_id:_e})})).apply(this,arguments)}function kr(st){dr=st}function _r(st){Nr=st}function Yr(){return tr.apply(this,arguments)}function tr(){return(tr=(0,k.Z)(function*(){var st;if(!(0,Ue.hl)())return be.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ue.eu)()}catch(ve){return be.warn(ct.create("indexeddb-unavailable",{errorInfo:null===(st=ve)||void 0===st?void 0:st.toString()}).message),!1}return!0})).apply(this,arguments)}function ti(){return(ti=(0,k.Z)(function*(st,ve,_e,ge,nt,Ut,dn){var Cn;const Pn=qt(st);Pn.then(or=>{_e[or.measurementId]=or.appId,st.options.measurementId&&or.measurementId!==st.options.measurementId&&be.warn(`The measurement ID in the local Firebase config (${st.options.measurementId}) does not match the measurement ID fetched from the server (${or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(or=>be.error(or)),ve.push(Pn);const kn=Yr().then(or=>{if(or)return ge.getId()}),[Ir,Pr]=yield Promise.all([Pn,kn]);Rt()||pt(Ut,Ir.measurementId),dr&&(nt("consent","default",dr),kr(void 0)),nt("js",new Date);const sn=null!==(Cn=null==dn?void 0:dn.config)&&void 0!==Cn?Cn:{};return sn.origin="firebase",sn.update=!0,null!=Pr&&(sn[Ce]=Pr),nt("config",Ir.measurementId,sn),Nr&&(nt("set",Nr),_r(void 0)),Ir.measurementId})).apply(this,arguments)}class hi{constructor(ve){this.app=ve}_delete(){return delete cn[this.app.options.appId],Promise.resolve()}}let cn={},Zr=[];const oi={};let wn,rn,$r="dataLayer",fr=!1;function Or(st,ve,_e){!function(){const st=[];if((0,Ue.ru)()&&st.push("This is a browser extension environment."),(0,Ue.zI)()||st.push("Cookies are not available."),st.length>0){const ve=st.map((ge,nt)=>`(${nt+1}) ${ge}`).join(" "),_e=ct.create("invalid-analytics-context",{errorInfo:ve});be.warn(_e.message)}}();const ge=st.options.appId;if(!ge)throw ct.create("no-app-id");if(!st.options.apiKey){if(!st.options.measurementId)throw ct.create("no-api-key");be.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${st.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cn[ge])throw ct.create("already-exists",{id:ge});if(!fr){!function(st){let ve=[];Array.isArray(window[st])?ve=window[st]:window[st]=ve}($r);const{wrappedGtag:Ut,gtagCore:dn}=function(st,ve,_e,ge,nt){let Ut=function(...dn){window[ge].push(arguments)};return window[nt]&&"function"==typeof window[nt]&&(Ut=window[nt]),window[nt]=function(st,ve,_e,ge){function Ut(){return(Ut=(0,k.Z)(function*(dn,Cn,Pn){try{"event"===dn?yield Jt(st,ve,_e,Cn,Pn):"config"===dn?yield ce(st,ve,_e,ge,Cn,Pn):"consent"===dn?st("consent","update",Pn):st("set",Cn)}catch(kn){be.error(kn)}})).apply(this,arguments)}return function(dn,Cn,Pn){return Ut.apply(this,arguments)}}(Ut,st,ve,_e),{gtagCore:Ut,wrappedGtag:window[nt]}}(cn,Zr,oi,$r,"gtag");rn=Ut,wn=dn,fr=!0}return cn[ge]=function(st,ve,_e,ge,nt,Ut,dn){return ti.apply(this,arguments)}(st,Zr,oi,ve,wn,$r,_e),new hi(st)}function lr(){return _i.apply(this,arguments)}function _i(){return(_i=(0,k.Z)(function*(){if((0,Ue.ru)()||!(0,Ue.zI)()||!(0,Ue.hl)())return!1;try{return yield(0,Ue.eu)()}catch(st){return!1}})).apply(this,arguments)}function Le(st,ve,_e){st=(0,Ue.m9)(st),function(st,ve,_e,ge){return Rr.apply(this,arguments)}(rn,cn[st.app.options.appId],ve,_e).catch(ge=>be.error(ge))}function Ft(st,ve,_e,ge){st=(0,Ue.m9)(st),function(st,ve,_e,ge,nt){return on.apply(this,arguments)}(rn,cn[st.app.options.appId],ve,_e,ge).catch(nt=>be.error(nt))}const Vn="@firebase/analytics";(0,o._registerComponent)(new Be.wA(Ge,(ve,{options:_e})=>Or(ve.getProvider("app").getImmediate(),ve.getProvider("installations-internal").getImmediate(),_e),"PUBLIC")),(0,o._registerComponent)(new Be.wA("analytics-internal",function(ve){try{const _e=ve.getProvider(Ge).getImmediate();return{logEvent:(ge,nt,Ut)=>Ft(_e,ge,nt,Ut)}}catch(_e){throw ct.create("interop-component-reg-failed",{reason:_e})}},"PRIVATE")),(0,o.registerVersion)(Vn,"0.8.0"),(0,o.registerVersion)(Vn,"0.8.0","esm2017")},2329:(ln,at,q)=>{"use strict";q.d(at,{Mq:()=>k.getApp,C6:()=>k.getApps,KN:()=>k.registerVersion});var k=q(8026);(0,k.registerVersion)("firebase","9.9.4","app")},7841:(ln,at,q)=>{"use strict";q.d(at,{Z:()=>k.Z});var k=q(3394);k.Z.registerVersion("firebase","9.9.4","app-compat")},4828:(ln,at,q)=>{"use strict";q.r(at);var k=q(8239),o=q(3394),te=q(708),Ue=q(3854),Ge=(q(8026),q(5422),q(3910));function Ce(){return window}function he(){return(he=(0,k.Z)(function*(ve,_e,ge){var nt;const{BuildInfo:Ut}=Ce();(0,te.aq)(_e.sessionId,"AuthEvent did not contain a session ID");const dn=yield vt(_e.sessionId),Cn={};return(0,te.ar)()?Cn.ibi=Ut.packageName:(0,te.as)()?Cn.apn=Ut.packageName:(0,te.at)(ve,"operation-not-supported-in-this-environment"),Ut.displayName&&(Cn.appDisplayName=Ut.displayName),Cn.sessionId=dn,(0,te.au)(ve,ge,_e.type,void 0,null!==(nt=_e.eventId)&&void 0!==nt?nt:void 0,Cn)})).apply(this,arguments)}function be(){return(be=(0,k.Z)(function*(ve){const{BuildInfo:_e}=Ce(),ge={};(0,te.ar)()?ge.iosBundleId=_e.packageName:(0,te.as)()?ge.androidPackageName=_e.packageName:(0,te.at)(ve,"operation-not-supported-in-this-environment"),yield(0,te.av)(ve,ge)})).apply(this,arguments)}function tt(){return(tt=(0,k.Z)(function*(ve,_e,ge){const{cordova:nt}=Ce();let Ut=()=>{};try{yield new Promise((dn,Cn)=>{let Pn=null;function kn(){var sn;dn();const or=null===(sn=nt.plugins.browsertab)||void 0===sn?void 0:sn.close;"function"==typeof or&&or(),"function"==typeof(null==ge?void 0:ge.close)&&ge.close()}function Ir(){Pn||(Pn=window.setTimeout(()=>{Cn((0,te.aw)(ve,"redirect-cancelled-by-user"))},2e3))}function Pr(){"visible"===(null==document?void 0:document.visibilityState)&&Ir()}_e.addPassiveListener(kn),document.addEventListener("resume",Ir,!1),(0,te.as)()&&document.addEventListener("visibilitychange",Pr,!1),Ut=()=>{_e.removePassiveListener(kn),document.removeEventListener("resume",Ir,!1),document.removeEventListener("visibilitychange",Pr,!1),Pn&&window.clearTimeout(Pn)}})}finally{Ut()}})).apply(this,arguments)}function vt(ve){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,k.Z)(function*(ve){const _e=Zt(ve),ge=yield crypto.subtle.digest("SHA-256",_e);return Array.from(new Uint8Array(ge)).map(Ut=>Ut.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Zt(ve){if((0,te.aq)(/[0-9a-zA-Z]+/.test(ve),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ve);const _e=new ArrayBuffer(ve.length),ge=new Uint8Array(_e);for(let nt=0;nt<ve.length;nt++)ge[nt]=ve.charCodeAt(nt);return ge}class Ct extends te.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_e=>{this.resolveInialized=_e})}addPassiveListener(_e){this.passiveListeners.add(_e)}removePassiveListener(_e){this.passiveListeners.delete(_e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_e){return this.resolveInialized(),this.passiveListeners.forEach(ge=>ge(_e)),super.onEvent(_e)}initialized(){var _e=this;return(0,k.Z)(function*(){yield _e.initPromise})()}}function ct(ve){return lt.apply(this,arguments)}function lt(){return(lt=(0,k.Z)(function*(ve){const _e=yield Je()._get(et(ve));return _e&&(yield Je()._remove(et(ve))),_e})).apply(this,arguments)}function Qe(){const ve=[],_e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ge=0;ge<20;ge++){const nt=Math.floor(Math.random()*_e.length);ve.push(_e.charAt(nt))}return ve.join("")}function Je(){return(0,te.ay)(te.b)}function et(ve){return(0,te.az)("authEvent",ve.config.apiKey,ve.name)}function qt(ve){if(!(null==ve?void 0:ve.includes("?")))return{};const[_e,...ge]=ve.split("?");return(0,Ue.zd)(ge.join("?"))}function un(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,te.aw)("no-auth-event")}}function on(){var ve;return(null===(ve=null==self?void 0:self.location)||void 0===ve?void 0:ve.protocol)||null}function mr(ve=(0,Ue.z$)()){return!("file:"!==on()&&"ionic:"!==on()&&"capacitor:"!==on()||!ve.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){try{const ve=self.localStorage,_e=te.aI();if(ve)return ve.setItem(_e,"1"),ve.removeItem(_e),!function(ve=(0,Ue.z$)()){return(0,Ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(ve=(0,Ue.z$)()){return/Edge\/\d+/.test(ve)}(ve)}()||(0,Ue.hl)()}catch(ve){return vn()&&(0,Ue.hl)()}return!1}function vn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function dr(){return("http:"===on()||"https:"===on()||(0,Ue.ru)()||mr())&&!((0,Ue.b$)()||(0,Ue.UG)())&&yr()&&!vn()}function kr(){return mr()&&"undefined"!=typeof document}function Yr(){return(Yr=(0,k.Z)(function*(){return!!kr()&&new Promise(ve=>{const _e=setTimeout(()=>{ve(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_e),ve(!0)})})})).apply(this,arguments)}const Br={LOCAL:"local",NONE:"none",SESSION:"session"},ti=te.ax,hi="persistence";function Zr(ve){return oi.apply(this,arguments)}function oi(){return(oi=(0,k.Z)(function*(ve){yield ve._initializationPromise;const _e=Tr(),ge=te.az(hi,ve.config.apiKey,ve.name);_e&&_e.setItem(ge,ve._getPersistence())})).apply(this,arguments)}function Tr(){var ve;try{return(null===(ve="undefined"!=typeof window?window:null)||void 0===ve?void 0:ve.sessionStorage)||null}catch(_e){return null}}const wn=te.ax;class rn{constructor(){this.browserResolver=te.ay(te.k),this.cordovaResolver=te.ay(class{constructor(){this._redirectPersistence=te.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=te.aB,this._overrideRedirectResult=te.aC}_initialize(_e){var ge=this;return(0,k.Z)(function*(){const nt=_e._key();let Ut=ge.eventManagers.get(nt);return Ut||(Ut=new Ct(_e),ge.eventManagers.set(nt,Ut),ge.attachCallbackListeners(_e,Ut)),Ut})()}_openPopup(_e){(0,te.at)(_e,"operation-not-supported-in-this-environment")}_openRedirect(_e,ge,nt,Ut){var dn=this;return(0,k.Z)(function*(){!function(ve){var _e,ge,nt,Ut,dn,Cn,Pn,kn,Ir,Pr;const sn=Ce();(0,te.ax)("function"==typeof(null===(_e=null==sn?void 0:sn.universalLinks)||void 0===_e?void 0:_e.subscribe),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,te.ax)(void 0!==(null===(ge=null==sn?void 0:sn.BuildInfo)||void 0===ge?void 0:ge.packageName),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,te.ax)("function"==typeof(null===(dn=null===(Ut=null===(nt=null==sn?void 0:sn.cordova)||void 0===nt?void 0:nt.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===dn?void 0:dn.openUrl),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.ax)("function"==typeof(null===(kn=null===(Pn=null===(Cn=null==sn?void 0:sn.cordova)||void 0===Cn?void 0:Cn.plugins)||void 0===Pn?void 0:Pn.browsertab)||void 0===kn?void 0:kn.isAvailable),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.ax)("function"==typeof(null===(Pr=null===(Ir=null==sn?void 0:sn.cordova)||void 0===Ir?void 0:Ir.InAppBrowser)||void 0===Pr?void 0:Pr.open),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_e);const Cn=yield dn._initialize(_e);yield Cn.initialized(),Cn.resetRedirect(),(0,te.aD)(),yield dn._originValidation(_e);const Pn=function(ve,_e,ge=null){return{type:_e,eventId:ge,urlResponse:null,sessionId:Qe(),postBody:null,tenantId:ve.tenantId,error:(0,te.aw)(ve,"no-auth-event")}}(_e,nt,Ut);yield function(ve,_e){return Je()._set(et(ve),_e)}(_e,Pn);const kn=yield function(ve,_e,ge){return he.apply(this,arguments)}(_e,Pn,ge),Ir=yield function(ve){const{cordova:_e}=Ce();return new Promise(ge=>{_e.plugins.browsertab.isAvailable(nt=>{let Ut=null;nt?_e.plugins.browsertab.openUrl(ve):Ut=_e.InAppBrowser.open(ve,(0,te.ap)()?"_blank":"_system","location=yes"),ge(Ut)})})}(kn);return function(ve,_e,ge){return tt.apply(this,arguments)}(_e,Cn,Ir)})()}_isIframeWebStorageSupported(_e,ge){throw new Error("Method not implemented.")}_originValidation(_e){const ge=_e._key();return this.originValidationPromises[ge]||(this.originValidationPromises[ge]=function(ve){return be.apply(this,arguments)}(_e)),this.originValidationPromises[ge]}attachCallbackListeners(_e,ge){const{universalLinks:nt,handleOpenURL:Ut,BuildInfo:dn}=Ce(),Cn=setTimeout((0,k.Z)(function*(){yield ct(_e),ge.onEvent(un())}),500),Pn=function(){var Pr=(0,k.Z)(function*(sn){clearTimeout(Cn);const or=yield ct(_e);let Ni=null;or&&(null==sn?void 0:sn.url)&&(Ni=function(ve,_e){var ge,nt;const Ut=function(ve){const _e=qt(ve),ge=_e.link?decodeURIComponent(_e.link):void 0,nt=qt(ge).link,Ut=_e.deep_link_id?decodeURIComponent(_e.deep_link_id):void 0;return qt(Ut).link||Ut||nt||ge||ve}(_e);if(Ut.includes("/__/auth/callback")){const dn=qt(Ut),Cn=dn.firebaseError?function(ve){try{return JSON.parse(ve)}catch(_e){return null}}(decodeURIComponent(dn.firebaseError)):null,Pn=null===(nt=null===(ge=null==Cn?void 0:Cn.code)||void 0===ge?void 0:ge.split("auth/"))||void 0===nt?void 0:nt[1],kn=Pn?(0,te.aw)(Pn):null;return kn?{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,error:kn,urlResponse:null,sessionId:null,postBody:null}:{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,sessionId:ve.sessionId,urlResponse:Ut,postBody:null}}return null}(or,sn.url)),ge.onEvent(Ni||un())});return function(or){return Pr.apply(this,arguments)}}();void 0!==nt&&"function"==typeof nt.subscribe&&nt.subscribe(null,Pn);const kn=Ut,Ir=`${dn.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Pr=(0,k.Z)(function*(sn){if(sn.toLowerCase().startsWith(Ir)&&Pn({url:sn}),"function"==typeof kn)try{kn(sn)}catch(or){console.error(or)}});return function(sn){return Pr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=te.a,this._completeRedirectFn=te.aB,this._overrideRedirectResult=te.aC}_initialize(_e){var ge=this;return(0,k.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._initialize(_e)})()}_openPopup(_e,ge,nt,Ut){var dn=this;return(0,k.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openPopup(_e,ge,nt,Ut)})()}_openRedirect(_e,ge,nt,Ut){var dn=this;return(0,k.Z)(function*(){return yield dn.selectUnderlyingResolver(),dn.assertedUnderlyingResolver._openRedirect(_e,ge,nt,Ut)})()}_isIframeWebStorageSupported(_e,ge){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_e,ge)}_originValidation(_e){return this.assertedUnderlyingResolver._originValidation(_e)}get _shouldInitProactively(){return kr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _e=this;return(0,k.Z)(function*(){if(_e.underlyingResolver)return;const ge=yield function(){return Yr.apply(this,arguments)}();_e.underlyingResolver=ge?_e.cordovaResolver:_e.browserResolver})()}}function fr(ve){return ve.unwrap()}function yi(ve){return Rn(ve)}function Rn(ve){const{_tokenResponse:_e}=ve instanceof Ue.ZR?ve.customData:ve;if(!_e)return null;if(!(ve instanceof Ue.ZR)&&"temporaryProof"in _e&&"phoneNumber"in _e)return te.P.credentialFromResult(ve);const ge=_e.providerId;if(!ge||ge===te.o.PASSWORD)return null;let nt;switch(ge){case te.o.GOOGLE:nt=te.Q;break;case te.o.FACEBOOK:nt=te.N;break;case te.o.GITHUB:nt=te.T;break;case te.o.TWITTER:nt=te.W;break;default:const{oauthIdToken:Ut,oauthAccessToken:dn,oauthTokenSecret:Cn,pendingToken:Pn,nonce:kn}=_e;return dn||Cn||Ut||Pn?Pn?ge.startsWith("saml.")?te.aL._create(ge,Pn):te.J._fromParams({providerId:ge,signInMethod:ge,pendingToken:Pn,idToken:Ut,accessToken:dn}):new te.U(ge).credential({idToken:Ut,accessToken:dn,rawNonce:kn}):null}return ve instanceof Ue.ZR?nt.credentialFromError(ve):nt.credentialFromResult(ve)}function zr(ve,_e){return _e.catch(ge=>{throw ge instanceof Ue.ZR&&function(ve,_e){var ge,nt;const Ut=null===(ge=_e.customData)||void 0===ge?void 0:ge._tokenResponse;if("auth/multi-factor-auth-required"===(null===(nt=_e)||void 0===nt?void 0:nt.code))_e.resolver=new xe(ve,te.an(ve,_e));else if(Ut){const dn=Rn(_e),Cn=_e;dn&&(Cn.credential=dn,Cn.tenantId=Ut.tenantId||void 0,Cn.email=Ut.email||void 0,Cn.phoneNumber=Ut.phoneNumber||void 0)}}(ve,ge),ge}).then(ge=>{const Ut=ge.user;return{operationType:ge.operationType,credential:yi(ge),additionalUserInfo:te.al(ge),user:Le.getOrCreate(Ut)}})}function lr(ve,_e){return _i.apply(this,arguments)}function _i(){return(_i=(0,k.Z)(function*(ve,_e){const ge=yield _e;return{verificationId:ge.verificationId,confirm:nt=>zr(ve,ge.confirm(nt))}})).apply(this,arguments)}class xe{constructor(_e,ge){this.resolver=ge,this.auth=_e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_e){return zr(fr(this.auth),this.resolver.resolveSignIn(_e))}}class Le{constructor(_e){this._delegate=_e,this.multiFactor=te.ao(_e)}static getOrCreate(_e){return Le.USER_MAP.has(_e)||Le.USER_MAP.set(_e,new Le(_e)),Le.USER_MAP.get(_e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_e){return this._delegate.getIdTokenResult(_e)}getIdToken(_e){return this._delegate.getIdToken(_e)}linkAndRetrieveDataWithCredential(_e){return this.linkWithCredential(_e)}linkWithCredential(_e){var ge=this;return(0,k.Z)(function*(){return zr(ge.auth,te.Z(ge._delegate,_e))})()}linkWithPhoneNumber(_e,ge){var nt=this;return(0,k.Z)(function*(){return lr(nt.auth,te.l(nt._delegate,_e,ge))})()}linkWithPopup(_e){var ge=this;return(0,k.Z)(function*(){return zr(ge.auth,te.d(ge._delegate,_e,rn))})()}linkWithRedirect(_e){var ge=this;return(0,k.Z)(function*(){return yield Zr(te.aE(ge.auth)),te.g(ge._delegate,_e,rn)})()}reauthenticateAndRetrieveDataWithCredential(_e){return this.reauthenticateWithCredential(_e)}reauthenticateWithCredential(_e){var ge=this;return(0,k.Z)(function*(){return zr(ge.auth,te._(ge._delegate,_e))})()}reauthenticateWithPhoneNumber(_e,ge){return lr(this.auth,te.r(this._delegate,_e,ge))}reauthenticateWithPopup(_e){return zr(this.auth,te.e(this._delegate,_e,rn))}reauthenticateWithRedirect(_e){var ge=this;return(0,k.Z)(function*(){return yield Zr(te.aE(ge.auth)),te.h(ge._delegate,_e,rn)})()}sendEmailVerification(_e){return te.ab(this._delegate,_e)}unlink(_e){var ge=this;return(0,k.Z)(function*(){return yield te.ak(ge._delegate,_e),ge})()}updateEmail(_e){return te.ag(this._delegate,_e)}updatePassword(_e){return te.ah(this._delegate,_e)}updatePhoneNumber(_e){return te.u(this._delegate,_e)}updateProfile(_e){return te.af(this._delegate,_e)}verifyBeforeUpdateEmail(_e,ge){return te.ac(this._delegate,_e,ge)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Le.USER_MAP=new WeakMap;const Ee=te.ax;let Fe=(()=>{class ve{constructor(ge,nt){if(this.app=ge,nt.isInitialized())return this._delegate=nt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ut}=ge.options;Ee(Ut,"invalid-api-key",{appName:ge.name}),Ee(Ut,"invalid-api-key",{appName:ge.name});const dn="undefined"!=typeof window?rn:void 0;this._delegate=nt.initialize({options:{persistence:Ft(Ut,ge.name),popupRedirectResolver:dn}}),this._delegate._updateErrorMap(te.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Le.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ge){this._delegate.languageCode=ge}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ge){this._delegate.tenantId=ge}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ge,nt){te.G(this._delegate,ge,nt)}applyActionCode(ge){return te.a2(this._delegate,ge)}checkActionCode(ge){return te.a3(this._delegate,ge)}confirmPasswordReset(ge,nt){return te.a1(this._delegate,ge,nt)}createUserWithEmailAndPassword(ge,nt){var Ut=this;return(0,k.Z)(function*(){return zr(Ut._delegate,te.a5(Ut._delegate,ge,nt))})()}fetchProvidersForEmail(ge){return this.fetchSignInMethodsForEmail(ge)}fetchSignInMethodsForEmail(ge){return te.aa(this._delegate,ge)}isSignInWithEmailLink(ge){return te.a8(this._delegate,ge)}getRedirectResult(){var ge=this;return(0,k.Z)(function*(){Ee(dr(),ge._delegate,"operation-not-supported-in-this-environment");const nt=yield te.j(ge._delegate,rn);return nt?zr(ge._delegate,Promise.resolve(nt)):{credential:null,user:null}})()}addFrameworkForLogging(ge){!function(ve,_e){(0,te.aE)(ve)._logFramework(_e)}(this._delegate,ge)}onAuthStateChanged(ge,nt,Ut){const{next:dn,error:Cn,complete:Pn}=De(ge,nt,Ut);return this._delegate.onAuthStateChanged(dn,Cn,Pn)}onIdTokenChanged(ge,nt,Ut){const{next:dn,error:Cn,complete:Pn}=De(ge,nt,Ut);return this._delegate.onIdTokenChanged(dn,Cn,Pn)}sendSignInLinkToEmail(ge,nt){return te.a7(this._delegate,ge,nt)}sendPasswordResetEmail(ge,nt){return te.a0(this._delegate,ge,nt||void 0)}setPersistence(ge){var nt=this;return(0,k.Z)(function*(){let Ut;switch(function(ve,_e){ti(Object.values(Br).includes(_e),ve,"invalid-persistence-type"),(0,Ue.b$)()?ti(_e!==Br.SESSION,ve,"unsupported-persistence-type"):(0,Ue.UG)()?ti(_e===Br.NONE,ve,"unsupported-persistence-type"):vn()?ti(_e===Br.NONE||_e===Br.LOCAL&&(0,Ue.hl)(),ve,"unsupported-persistence-type"):ti(_e===Br.NONE||yr(),ve,"unsupported-persistence-type")}(nt._delegate,ge),ge){case Br.SESSION:Ut=te.a;break;case Br.LOCAL:Ut=(yield te.ay(te.i)._isAvailable())?te.i:te.b;break;case Br.NONE:Ut=te.L;break;default:return te.at("argument-error",{appName:nt._delegate.name})}return nt._delegate.setPersistence(Ut)})()}signInAndRetrieveDataWithCredential(ge){return this.signInWithCredential(ge)}signInAnonymously(){return zr(this._delegate,te.X(this._delegate))}signInWithCredential(ge){return zr(this._delegate,te.Y(this._delegate,ge))}signInWithCustomToken(ge){return zr(this._delegate,te.$(this._delegate,ge))}signInWithEmailAndPassword(ge,nt){return zr(this._delegate,te.a6(this._delegate,ge,nt))}signInWithEmailLink(ge,nt){return zr(this._delegate,te.a9(this._delegate,ge,nt))}signInWithPhoneNumber(ge,nt){return lr(this._delegate,te.s(this._delegate,ge,nt))}signInWithPopup(ge){var nt=this;return(0,k.Z)(function*(){return Ee(dr(),nt._delegate,"operation-not-supported-in-this-environment"),zr(nt._delegate,te.c(nt._delegate,ge,rn))})()}signInWithRedirect(ge){var nt=this;return(0,k.Z)(function*(){return Ee(dr(),nt._delegate,"operation-not-supported-in-this-environment"),yield Zr(nt._delegate),te.f(nt._delegate,ge,rn)})()}updateCurrentUser(ge){return this._delegate.updateCurrentUser(ge)}verifyPasswordResetCode(ge){return te.a4(this._delegate,ge)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ve.Persistence=Br,ve})();function De(ve,_e,ge){let nt=ve;"function"!=typeof ve&&({next:nt,error:_e,complete:ge}=ve);const Ut=nt;return{next:Cn=>Ut(Cn&&Le.getOrCreate(Cn)),error:_e,complete:ge}}function Ft(ve,_e){const ge=function(ve,_e){const ge=Tr();if(!ge)return[];const nt=te.az(hi,ve,_e);switch(ge.getItem(nt)){case Br.NONE:return[te.L];case Br.LOCAL:return[te.i,te.a];case Br.SESSION:return[te.a];default:return[]}}(ve,_e);if("undefined"!=typeof self&&!ge.includes(te.i)&&ge.push(te.i),"undefined"!=typeof window)for(const nt of[te.b,te.a])ge.includes(nt)||ge.push(nt);return ge.includes(te.L)||ge.push(te.L),ge}class nn{constructor(){this.providerId="phone",this._delegate=new te.P(fr(o.Z.auth()))}static credential(_e,ge){return te.P.credential(_e,ge)}verifyPhoneNumber(_e,ge){return this._delegate.verifyPhoneNumber(_e,ge)}unwrap(){return this._delegate}}nn.PHONE_SIGN_IN_METHOD=te.P.PHONE_SIGN_IN_METHOD,nn.PROVIDER_ID=te.P.PROVIDER_ID;const Vn=te.ax;var ve;(ve=o.Z).INTERNAL.registerComponent(new Ge.wA("auth-compat",_e=>{const ge=_e.getProvider("app-compat").getImmediate(),nt=_e.getProvider("auth");return new Fe(ge,nt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:te.A.EMAIL_SIGNIN,PASSWORD_RESET:te.A.PASSWORD_RESET,RECOVER_EMAIL:te.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:te.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:te.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:te.A.VERIFY_EMAIL}},EmailAuthProvider:te.M,FacebookAuthProvider:te.N,GithubAuthProvider:te.T,GoogleAuthProvider:te.Q,OAuthProvider:te.U,SAMLAuthProvider:te.V,PhoneAuthProvider:nn,PhoneMultiFactorGenerator:te.m,RecaptchaVerifier:class{constructor(_e,ge,nt=o.Z.app()){var Ut;Vn(null===(Ut=nt.options)||void 0===Ut?void 0:Ut.apiKey,"invalid-api-key",{appName:nt.name}),this._delegate=new te.R(_e,ge,nt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:te.W,Auth:Fe,AuthCredential:te.H,Error:Ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ve.registerVersion("@firebase/auth-compat","0.2.19")},6215:(ln,at,q)=>{"use strict";q.d(at,{X:()=>te});var k=q(9765),o=q(7971);class te extends k.xQ{constructor(Be){super(),this._value=Be}get value(){return this.getValue()}_subscribe(Be){const Ie=super._subscribe(Be);return Ie&&!Ie.closed&&Be.next(this._value),Ie}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value}next(Be){super.next(this._value=Be)}}},7574:(ln,at,q)=>{"use strict";q.d(at,{y:()=>he});var k=q(7393),te=q(9181),Ue=q(6490),Ie=q(6554),Ge=q(4487);var ue=q(2494);let he=(()=>{class be{constructor(pt){this._isScalar=!1,pt&&(this._subscribe=pt)}lift(pt){const tt=new be;return tt.source=this,tt.operator=pt,tt}subscribe(pt,tt,ce){const{operator:vt}=this,Jt=function(be,Ke,pt){if(be){if(be instanceof k.L)return be;if(be[te.b])return be[te.b]()}return be||Ke||pt?new k.L(be,Ke,pt):new k.L(Ue.c)}(pt,tt,ce);if(Jt.add(vt?vt.call(Jt,this.source):this.source||ue.v.useDeprecatedSynchronousErrorHandling&&!Jt.syncErrorThrowable?this._subscribe(Jt):this._trySubscribe(Jt)),ue.v.useDeprecatedSynchronousErrorHandling&&Jt.syncErrorThrowable&&(Jt.syncErrorThrowable=!1,Jt.syncErrorThrown))throw Jt.syncErrorValue;return Jt}_trySubscribe(pt){try{return this._subscribe(pt)}catch(tt){ue.v.useDeprecatedSynchronousErrorHandling&&(pt.syncErrorThrown=!0,pt.syncErrorValue=tt),function(be){for(;be;){const{closed:Ke,destination:pt,isStopped:tt}=be;if(Ke||tt)return!1;be=pt&&pt instanceof k.L?pt:null}return!0}(pt)?pt.error(tt):console.warn(tt)}}forEach(pt,tt){return new(tt=Ve(tt))((ce,vt)=>{let Jt;Jt=this.subscribe(Zt=>{try{pt(Zt)}catch(St){vt(St),Jt&&Jt.unsubscribe()}},vt,ce)})}_subscribe(pt){const{source:tt}=this;return tt&&tt.subscribe(pt)}[Ie.L](){return this}pipe(...pt){return 0===pt.length?this:function(be){return 0===be.length?Ge.y:1===be.length?be[0]:function(pt){return be.reduce((tt,ce)=>ce(tt),pt)}}(pt)(this)}toPromise(pt){return new(pt=Ve(pt))((tt,ce)=>{let vt;this.subscribe(Jt=>vt=Jt,Jt=>ce(Jt),()=>tt(vt))})}}return be.create=Ke=>new be(Ke),be})();function Ve(be){if(be||(be=ue.v.Promise||Promise),!be)throw new Error("no Promise impl found");return be}},6490:(ln,at,q)=>{"use strict";q.d(at,{c:()=>te});var k=q(2494),o=q(4449);const te={closed:!0,next(Ue){},error(Ue){if(k.v.useDeprecatedSynchronousErrorHandling)throw Ue;(0,o.z)(Ue)},complete(){}}},9765:(ln,at,q)=>{"use strict";q.d(at,{Yc:()=>Ge,xQ:()=>Ce});var k=q(7574),o=q(7393),te=q(5319),Ue=q(7971),Be=q(8858),Ie=q(9181);class Ge extends o.L{constructor(he){super(he),this.destination=he}}let Ce=(()=>{class ue extends k.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ie.b](){return new Ge(this)}lift(Ve){const be=new Te(this,this);return be.operator=Ve,be}next(Ve){if(this.closed)throw new Ue.N;if(!this.isStopped){const{observers:be}=this,Ke=be.length,pt=be.slice();for(let tt=0;tt<Ke;tt++)pt[tt].next(Ve)}}error(Ve){if(this.closed)throw new Ue.N;this.hasError=!0,this.thrownError=Ve,this.isStopped=!0;const{observers:be}=this,Ke=be.length,pt=be.slice();for(let tt=0;tt<Ke;tt++)pt[tt].error(Ve);this.observers.length=0}complete(){if(this.closed)throw new Ue.N;this.isStopped=!0;const{observers:Ve}=this,be=Ve.length,Ke=Ve.slice();for(let pt=0;pt<be;pt++)Ke[pt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Ve){if(this.closed)throw new Ue.N;return super._trySubscribe(Ve)}_subscribe(Ve){if(this.closed)throw new Ue.N;return this.hasError?(Ve.error(this.thrownError),te.w.EMPTY):this.isStopped?(Ve.complete(),te.w.EMPTY):(this.observers.push(Ve),new Be.W(this,Ve))}asObservable(){const Ve=new k.y;return Ve.source=this,Ve}}return ue.create=(he,Ve)=>new Te(he,Ve),ue})();class Te extends Ce{constructor(he,Ve){super(),this.destination=he,this.source=Ve}next(he){const{destination:Ve}=this;Ve&&Ve.next&&Ve.next(he)}error(he){const{destination:Ve}=this;Ve&&Ve.error&&this.destination.error(he)}complete(){const{destination:he}=this;he&&he.complete&&this.destination.complete()}_subscribe(he){const{source:Ve}=this;return Ve?this.source.subscribe(he):te.w.EMPTY}}},8858:(ln,at,q)=>{"use strict";q.d(at,{W:()=>o});var k=q(5319);class o extends k.w{constructor(Ue,Be){super(),this.subject=Ue,this.subscriber=Be,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ue=this.subject,Be=Ue.observers;if(this.subject=null,!Be||0===Be.length||Ue.isStopped||Ue.closed)return;const Ie=Be.indexOf(this.subscriber);-1!==Ie&&Be.splice(Ie,1)}}},7393:(ln,at,q)=>{"use strict";q.d(at,{L:()=>Ge});var k=q(9105),o=q(6490),te=q(5319),Ue=q(9181),Be=q(2494),Ie=q(4449);class Ge extends te.w{constructor(ue,he,Ve){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.c;break;case 1:if(!ue){this.destination=o.c;break}if("object"==typeof ue){ue instanceof Ge?(this.syncErrorThrowable=ue.syncErrorThrowable,this.destination=ue,ue.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ce(this,ue));break}default:this.syncErrorThrowable=!0,this.destination=new Ce(this,ue,he,Ve)}}[Ue.b](){return this}static create(ue,he,Ve){const be=new Ge(ue,he,Ve);return be.syncErrorThrowable=!1,be}next(ue){this.isStopped||this._next(ue)}error(ue){this.isStopped||(this.isStopped=!0,this._error(ue))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ue){this.destination.next(ue)}_error(ue){this.destination.error(ue),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ue}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ue,this}}class Ce extends Ge{constructor(ue,he,Ve,be){super(),this._parentSubscriber=ue;let Ke,pt=this;(0,k.m)(he)?Ke=he:he&&(Ke=he.next,Ve=he.error,be=he.complete,he!==o.c&&(pt=Object.create(he),(0,k.m)(pt.unsubscribe)&&this.add(pt.unsubscribe.bind(pt)),pt.unsubscribe=this.unsubscribe.bind(this))),this._context=pt,this._next=Ke,this._error=Ve,this._complete=be}next(ue){if(!this.isStopped&&this._next){const{_parentSubscriber:he}=this;Be.v.useDeprecatedSynchronousErrorHandling&&he.syncErrorThrowable?this.__tryOrSetError(he,this._next,ue)&&this.unsubscribe():this.__tryOrUnsub(this._next,ue)}}error(ue){if(!this.isStopped){const{_parentSubscriber:he}=this,{useDeprecatedSynchronousErrorHandling:Ve}=Be.v;if(this._error)Ve&&he.syncErrorThrowable?(this.__tryOrSetError(he,this._error,ue),this.unsubscribe()):(this.__tryOrUnsub(this._error,ue),this.unsubscribe());else if(he.syncErrorThrowable)Ve?(he.syncErrorValue=ue,he.syncErrorThrown=!0):(0,Ie.z)(ue),this.unsubscribe();else{if(this.unsubscribe(),Ve)throw ue;(0,Ie.z)(ue)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ue}=this;if(this._complete){const he=()=>this._complete.call(this._context);Be.v.useDeprecatedSynchronousErrorHandling&&ue.syncErrorThrowable?(this.__tryOrSetError(ue,he),this.unsubscribe()):(this.__tryOrUnsub(he),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ue,he){try{ue.call(this._context,he)}catch(Ve){if(this.unsubscribe(),Be.v.useDeprecatedSynchronousErrorHandling)throw Ve;(0,Ie.z)(Ve)}}__tryOrSetError(ue,he,Ve){if(!Be.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{he.call(this._context,Ve)}catch(be){return Be.v.useDeprecatedSynchronousErrorHandling?(ue.syncErrorValue=be,ue.syncErrorThrown=!0,!0):((0,Ie.z)(be),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ue}=this;this._context=null,this._parentSubscriber=null,ue.unsubscribe()}}},5319:(ln,at,q)=>{"use strict";q.d(at,{w:()=>Ie});var k=q(9796),o=q(1555),te=q(9105);const Be=(()=>{function Ce(Te){return Error.call(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((ue,he)=>`${he+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te,this}return Ce.prototype=Object.create(Error.prototype),Ce})();class Ie{constructor(Te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Te&&(this._ctorUnsubscribe=!0,this._unsubscribe=Te)}unsubscribe(){let Te;if(this.closed)return;let{_parentOrParents:ue,_ctorUnsubscribe:he,_unsubscribe:Ve,_subscriptions:be}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ue instanceof Ie)ue.remove(this);else if(null!==ue)for(let Ke=0;Ke<ue.length;++Ke)ue[Ke].remove(this);if((0,te.m)(Ve)){he&&(this._unsubscribe=void 0);try{Ve.call(this)}catch(Ke){Te=Ke instanceof Be?Ge(Ke.errors):[Ke]}}if((0,k.k)(be)){let Ke=-1,pt=be.length;for(;++Ke<pt;){const tt=be[Ke];if((0,o.K)(tt))try{tt.unsubscribe()}catch(ce){Te=Te||[],ce instanceof Be?Te=Te.concat(Ge(ce.errors)):Te.push(ce)}}}if(Te)throw new Be(Te)}add(Te){let ue=Te;if(!Te)return Ie.EMPTY;switch(typeof Te){case"function":ue=new Ie(Te);case"object":if(ue===this||ue.closed||"function"!=typeof ue.unsubscribe)return ue;if(this.closed)return ue.unsubscribe(),ue;if(!(ue instanceof Ie)){const be=ue;ue=new Ie,ue._subscriptions=[be]}break;default:throw new Error("unrecognized teardown "+Te+" added to Subscription.")}let{_parentOrParents:he}=ue;if(null===he)ue._parentOrParents=this;else if(he instanceof Ie){if(he===this)return ue;ue._parentOrParents=[he,this]}else{if(-1!==he.indexOf(this))return ue;he.push(this)}const Ve=this._subscriptions;return null===Ve?this._subscriptions=[ue]:Ve.push(ue),ue}remove(Te){const ue=this._subscriptions;if(ue){const he=ue.indexOf(Te);-1!==he&&ue.splice(he,1)}}}var Ce;function Ge(Ce){return Ce.reduce((Te,ue)=>Te.concat(ue instanceof Be?ue.errors:ue),[])}Ie.EMPTY=((Ce=new Ie).closed=!0,Ce)},2494:(ln,at,q)=>{"use strict";q.d(at,{v:()=>o});let k=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(te){if(te){const Ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ue.stack)}else k&&console.log("RxJS: Back to a better error behavior. Thank you. <3");k=te},get useDeprecatedSynchronousErrorHandling(){return k}}},5345:(ln,at,q)=>{"use strict";q.d(at,{IY:()=>Ue,Ds:()=>Ie,ft:()=>Ce});var k=q(7393),o=q(7574),te=q(7444);class Ue extends k.L{constructor(ue){super(),this.parent=ue}_next(ue){this.parent.notifyNext(ue)}_error(ue){this.parent.notifyError(ue),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Ie extends k.L{notifyNext(ue){this.destination.next(ue)}notifyError(ue){this.destination.error(ue)}notifyComplete(){this.destination.complete()}}function Ce(Te,ue){if(ue.closed)return;if(Te instanceof o.y)return Te.subscribe(ue);let he;try{he=(0,te.s)(Te)(ue)}catch(Ve){ue.error(Ve)}return he}},2441:(ln,at,q)=>{"use strict";q.d(at,{c:()=>Be,N:()=>Ie});var k=q(9765),o=q(7574),te=q(5319),Ue=q(1307);class Be extends o.y{constructor(he,Ve){super(),this.source=he,this.subjectFactory=Ve,this._refCount=0,this._isComplete=!1}_subscribe(he){return this.getSubject().subscribe(he)}getSubject(){const he=this._subject;return(!he||he.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let he=this._connection;return he||(this._isComplete=!1,he=this._connection=new te.w,he.add(this.source.subscribe(new Ge(this.getSubject(),this))),he.closed&&(this._connection=null,he=te.w.EMPTY)),he}refCount(){return(0,Ue.x)()(this)}}const Ie=(()=>{const ue=Be.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ue._subscribe},_isComplete:{value:ue._isComplete,writable:!0},getSubject:{value:ue.getSubject},connect:{value:ue.connect},refCount:{value:ue.refCount}}})();class Ge extends k.Yc{constructor(he,Ve){super(he),this.connectable=Ve}_error(he){this._unsubscribe(),super._error(he)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const he=this.connectable;if(he){this.connectable=null;const Ve=he._connection;he._refCount=0,he._subject=null,he._connection=null,Ve&&Ve.unsubscribe()}}}},8071:(ln,at,q)=>{"use strict";q.d(at,{z:()=>Ue});var k=q(5917),o=q(3282);function Ue(...Be){return(0,o.J)(1)((0,k.of)(...Be))}},1439:(ln,at,q)=>{"use strict";q.d(at,{P:()=>Ue});var k=q(7574),o=q(4402),te=q(9193);function Ue(Be){return new k.y(Ie=>{let Ge;try{Ge=Be()}catch(Te){return void Ie.error(Te)}return(Ge?(0,o.D)(Ge):(0,te.c)()).subscribe(Ie)})}},9193:(ln,at,q)=>{"use strict";q.d(at,{E:()=>o,c:()=>te});var k=q(7574);const o=new k.y(Be=>Be.complete());function te(Be){return Be?function(Be){return new k.y(Ie=>Be.schedule(()=>Ie.complete()))}(Be):o}},4402:(ln,at,q)=>{"use strict";q.d(at,{D:()=>pt});var k=q(7574),o=q(7444),te=q(5319),Ue=q(6554),Ge=q(4087),Ce=q(377),he=q(4072),Ve=q(9489);function pt(tt,ce){return ce?function(tt,ce){if(null!=tt){if(function(tt){return tt&&"function"==typeof tt[Ue.L]}(tt))return function(tt,ce){return new k.y(vt=>{const Jt=new te.w;return Jt.add(ce.schedule(()=>{const Zt=tt[Ue.L]();Jt.add(Zt.subscribe({next(St){Jt.add(ce.schedule(()=>vt.next(St)))},error(St){Jt.add(ce.schedule(()=>vt.error(St)))},complete(){Jt.add(ce.schedule(()=>vt.complete()))}}))})),Jt})}(tt,ce);if((0,he.t)(tt))return function(tt,ce){return new k.y(vt=>{const Jt=new te.w;return Jt.add(ce.schedule(()=>tt.then(Zt=>{Jt.add(ce.schedule(()=>{vt.next(Zt),Jt.add(ce.schedule(()=>vt.complete()))}))},Zt=>{Jt.add(ce.schedule(()=>vt.error(Zt)))}))),Jt})}(tt,ce);if((0,Ve.z)(tt))return(0,Ge.r)(tt,ce);if(function(tt){return tt&&"function"==typeof tt[Ce.hZ]}(tt)||"string"==typeof tt)return function(tt,ce){if(!tt)throw new Error("Iterable cannot be null");return new k.y(vt=>{const Jt=new te.w;let Zt;return Jt.add(()=>{Zt&&"function"==typeof Zt.return&&Zt.return()}),Jt.add(ce.schedule(()=>{Zt=tt[Ce.hZ](),Jt.add(ce.schedule(function(){if(vt.closed)return;let St,Ct;try{const Rt=Zt.next();St=Rt.value,Ct=Rt.done}catch(Rt){return void vt.error(Rt)}Ct?vt.complete():(vt.next(St),this.schedule())}))})),Jt})}(tt,ce)}throw new TypeError((null!==tt&&typeof tt||tt)+" is not observable")}(tt,ce):tt instanceof k.y?tt:new k.y((0,o.s)(tt))}},6693:(ln,at,q)=>{"use strict";q.d(at,{n:()=>Ue});var k=q(7574),o=q(5015),te=q(4087);function Ue(Be,Ie){return Ie?(0,te.r)(Be,Ie):new k.y((0,o.V)(Be))}},6682:(ln,at,q)=>{"use strict";q.d(at,{T:()=>Be});var k=q(7574),o=q(4869),te=q(3282),Ue=q(6693);function Be(...Ie){let Ge=Number.POSITIVE_INFINITY,Ce=null,Te=Ie[Ie.length-1];return(0,o.K)(Te)?(Ce=Ie.pop(),Ie.length>1&&"number"==typeof Ie[Ie.length-1]&&(Ge=Ie.pop())):"number"==typeof Te&&(Ge=Ie.pop()),null===Ce&&1===Ie.length&&Ie[0]instanceof k.y?Ie[0]:(0,te.J)(Ge)((0,Ue.n)(Ie,Ce))}},5917:(ln,at,q)=>{"use strict";q.d(at,{of:()=>Ue});var k=q(4869),o=q(6693),te=q(4087);function Ue(...Be){let Ie=Be[Be.length-1];return(0,k.K)(Ie)?(Be.pop(),(0,te.r)(Be,Ie)):(0,o.n)(Be)}},4612:(ln,at,q)=>{"use strict";q.d(at,{b:()=>o});var k=q(9773);function o(te,Ue){return(0,k.zg)(te,Ue,1)}},4395:(ln,at,q)=>{"use strict";q.d(at,{b:()=>te});var k=q(7393),o=q(3637);function te(Ge,Ce=o.P){return Te=>Te.lift(new Ue(Ge,Ce))}class Ue{constructor(Ce,Te){this.dueTime=Ce,this.scheduler=Te}call(Ce,Te){return Te.subscribe(new Be(Ce,this.dueTime,this.scheduler))}}class Be extends k.L{constructor(Ce,Te,ue){super(Ce),this.dueTime=Te,this.scheduler=ue,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Ce){this.clearDebounce(),this.lastValue=Ce,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ie,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Ce}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Ce)}}clearDebounce(){const Ce=this.debouncedSubscription;null!==Ce&&(this.remove(Ce),Ce.unsubscribe(),this.debouncedSubscription=null)}}function Ie(Ge){Ge.debouncedNext()}},5242:(ln,at,q)=>{"use strict";q.d(at,{d:()=>o});var k=q(7393);function o(Be=null){return Ie=>Ie.lift(new te(Be))}class te{constructor(Ie){this.defaultValue=Ie}call(Ie,Ge){return Ge.subscribe(new Ue(Ie,this.defaultValue))}}class Ue extends k.L{constructor(Ie,Ge){super(Ie),this.defaultValue=Ge,this.isEmpty=!0}_next(Ie){this.isEmpty=!1,this.destination.next(Ie)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(ln,at,q)=>{"use strict";q.d(at,{x:()=>o});var k=q(7393);function o(Be,Ie){return Ge=>Ge.lift(new te(Be,Ie))}class te{constructor(Ie,Ge){this.compare=Ie,this.keySelector=Ge}call(Ie,Ge){return Ge.subscribe(new Ue(Ie,this.compare,this.keySelector))}}class Ue extends k.L{constructor(Ie,Ge,Ce){super(Ie),this.keySelector=Ce,this.hasKey=!1,"function"==typeof Ge&&(this.compare=Ge)}compare(Ie,Ge){return Ie===Ge}_next(Ie){let Ge;try{const{keySelector:Te}=this;Ge=Te?Te(Ie):Ie}catch(Te){return this.destination.error(Te)}let Ce=!1;if(this.hasKey)try{const{compare:Te}=this;Ce=Te(this.key,Ge)}catch(Te){return this.destination.error(Te)}else this.hasKey=!0;Ce||(this.key=Ge,this.destination.next(Ie))}}},5435:(ln,at,q)=>{"use strict";q.d(at,{h:()=>o});var k=q(7393);function o(Be,Ie){return function(Ce){return Ce.lift(new te(Be,Ie))}}class te{constructor(Ie,Ge){this.predicate=Ie,this.thisArg=Ge}call(Ie,Ge){return Ge.subscribe(new Ue(Ie,this.predicate,this.thisArg))}}class Ue extends k.L{constructor(Ie,Ge,Ce){super(Ie),this.predicate=Ge,this.thisArg=Ce,this.count=0}_next(Ie){let Ge;try{Ge=this.predicate.call(this.thisArg,Ie,this.count++)}catch(Ce){return void this.destination.error(Ce)}Ge&&this.destination.next(Ie)}}},8049:(ln,at,q)=>{"use strict";q.d(at,{P:()=>Ge});var k=q(3410),o=q(5435),te=q(5257),Ue=q(5242),Be=q(4635),Ie=q(4487);function Ge(Ce,Te){const ue=arguments.length>=2;return he=>he.pipe(Ce?(0,o.h)((Ve,be)=>Ce(Ve,be,he)):Ie.y,(0,te.q)(1),ue?(0,Ue.d)(Te):(0,Be.T)(()=>new k.K))}},8002:(ln,at,q)=>{"use strict";q.d(at,{U:()=>o});var k=q(7393);function o(Be,Ie){return function(Ce){if("function"!=typeof Be)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ce.lift(new te(Be,Ie))}}class te{constructor(Ie,Ge){this.project=Ie,this.thisArg=Ge}call(Ie,Ge){return Ge.subscribe(new Ue(Ie,this.project,this.thisArg))}}class Ue extends k.L{constructor(Ie,Ge,Ce){super(Ie),this.project=Ge,this.count=0,this.thisArg=Ce||this}_next(Ie){let Ge;try{Ge=this.project.call(this.thisArg,Ie,this.count++)}catch(Ce){return void this.destination.error(Ce)}this.destination.next(Ge)}}},3282:(ln,at,q)=>{"use strict";q.d(at,{J:()=>te});var k=q(9773),o=q(4487);function te(Ue=Number.POSITIVE_INFINITY){return(0,k.zg)(o.y,Ue)}},9773:(ln,at,q)=>{"use strict";q.d(at,{zg:()=>Ue});var k=q(8002),o=q(4402),te=q(5345);function Ue(Ce,Te,ue=Number.POSITIVE_INFINITY){return"function"==typeof Te?he=>he.pipe(Ue((Ve,be)=>(0,o.D)(Ce(Ve,be)).pipe((0,k.U)((Ke,pt)=>Te(Ve,Ke,be,pt))),ue)):("number"==typeof Te&&(ue=Te),he=>he.lift(new Be(Ce,ue)))}class Be{constructor(Te,ue=Number.POSITIVE_INFINITY){this.project=Te,this.concurrent=ue}call(Te,ue){return ue.subscribe(new Ie(Te,this.project,this.concurrent))}}class Ie extends te.Ds{constructor(Te,ue,he=Number.POSITIVE_INFINITY){super(Te),this.project=ue,this.concurrent=he,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Te){this.active<this.concurrent?this._tryNext(Te):this.buffer.push(Te)}_tryNext(Te){let ue;const he=this.index++;try{ue=this.project(Te,he)}catch(Ve){return void this.destination.error(Ve)}this.active++,this._innerSub(ue)}_innerSub(Te){const ue=new te.IY(this),he=this.destination;he.add(ue);const Ve=(0,te.ft)(Te,ue);Ve!==ue&&he.add(Ve)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Te){this.destination.next(Te)}notifyComplete(){const Te=this.buffer;this.active--,Te.length>0?this._next(Te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ln,at,q)=>{"use strict";q.d(at,{ht:()=>he,QV:()=>Te});var k=q(7393),o=q(9193),te=q(5917),Ue=q(7574);class Ce{constructor(Ke,pt,tt){this.kind=Ke,this.value=pt,this.error=tt,this.hasValue="N"===Ke}observe(Ke){switch(this.kind){case"N":return Ke.next&&Ke.next(this.value);case"E":return Ke.error&&Ke.error(this.error);case"C":return Ke.complete&&Ke.complete()}}do(Ke,pt,tt){switch(this.kind){case"N":return Ke&&Ke(this.value);case"E":return pt&&pt(this.error);case"C":return tt&&tt()}}accept(Ke,pt,tt){return Ke&&"function"==typeof Ke.next?this.observe(Ke):this.do(Ke,pt,tt)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return be=this.error,new Ue.y(pt=>pt.error(be));case"C":return(0,o.c)()}var be;throw new Error("unexpected notification kind value")}static createNext(Ke){return void 0!==Ke?new Ce("N",Ke):Ce.undefinedValueNotification}static createError(Ke){return new Ce("E",void 0,Ke)}static createComplete(){return Ce.completeNotification}}function Te(be,Ke=0){return function(tt){return tt.lift(new ue(be,Ke))}}Ce.completeNotification=new Ce("C"),Ce.undefinedValueNotification=new Ce("N",void 0);class ue{constructor(Ke,pt=0){this.scheduler=Ke,this.delay=pt}call(Ke,pt){return pt.subscribe(new he(Ke,this.scheduler,this.delay))}}class he extends k.L{constructor(Ke,pt,tt=0){super(Ke),this.scheduler=pt,this.delay=tt}static dispatch(Ke){const{notification:pt,destination:tt}=Ke;pt.observe(tt),this.unsubscribe()}scheduleMessage(Ke){this.destination.add(this.scheduler.schedule(he.dispatch,this.delay,new Ve(Ke,this.destination)))}_next(Ke){this.scheduleMessage(Ce.createNext(Ke))}_error(Ke){this.scheduleMessage(Ce.createError(Ke)),this.unsubscribe()}_complete(){this.scheduleMessage(Ce.createComplete()),this.unsubscribe()}}class Ve{constructor(Ke,pt){this.notification=Ke,this.destination=pt}}},9328:(ln,at,q)=>{"use strict";q.d(at,{G:()=>o});var k=q(7393);function o(){return Be=>Be.lift(new te)}class te{call(Ie,Ge){return Ge.subscribe(new Ue(Ie))}}class Ue extends k.L{constructor(Ie){super(Ie),this.hasPrev=!1}_next(Ie){let Ge;this.hasPrev?Ge=[this.prev,Ie]:this.hasPrev=!0,this.prev=Ie,Ge&&this.destination.next(Ge)}}},1307:(ln,at,q)=>{"use strict";q.d(at,{x:()=>o});var k=q(7393);function o(){return function(Ie){return Ie.lift(new te(Ie))}}class te{constructor(Ie){this.connectable=Ie}call(Ie,Ge){const{connectable:Ce}=this;Ce._refCount++;const Te=new Ue(Ie,Ce),ue=Ge.subscribe(Te);return Te.closed||(Te.connection=Ce.connect()),ue}}class Ue extends k.L{constructor(Ie,Ge){super(Ie),this.connectable=Ge}_unsubscribe(){const{connectable:Ie}=this;if(!Ie)return void(this.connection=null);this.connectable=null;const Ge=Ie._refCount;if(Ge<=0)return void(this.connection=null);if(Ie._refCount=Ge-1,Ge>1)return void(this.connection=null);const{connection:Ce}=this,Te=Ie._connection;this.connection=null,Te&&(!Ce||Te===Ce)&&Te.unsubscribe()}}},2145:(ln,at,q)=>{"use strict";q.d(at,{R:()=>o});var k=q(7393);function o(Be,Ie){let Ge=!1;return arguments.length>=2&&(Ge=!0),function(Te){return Te.lift(new te(Be,Ie,Ge))}}class te{constructor(Ie,Ge,Ce=!1){this.accumulator=Ie,this.seed=Ge,this.hasSeed=Ce}call(Ie,Ge){return Ge.subscribe(new Ue(Ie,this.accumulator,this.seed,this.hasSeed))}}class Ue extends k.L{constructor(Ie,Ge,Ce,Te){super(Ie),this.accumulator=Ge,this._seed=Ce,this.hasSeed=Te,this.index=0}get seed(){return this._seed}set seed(Ie){this.hasSeed=!0,this._seed=Ie}_next(Ie){if(this.hasSeed)return this._tryNext(Ie);this.seed=Ie,this.destination.next(Ie)}_tryNext(Ie){const Ge=this.index++;let Ce;try{Ce=this.accumulator(this.seed,Ie,Ge)}catch(Te){this.destination.error(Te)}this.seed=Ce,this.destination.next(Ce)}}},2066:(ln,at,q)=>{"use strict";q.d(at,{d:()=>Te});var k=q(9765),o=q(7771),te=q(5319),Ue=q(309),Be=q(7971),Ie=q(8858);class Ge extends k.xQ{constructor(Ve=Number.POSITIVE_INFINITY,be=Number.POSITIVE_INFINITY,Ke){super(),this.scheduler=Ke,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Ve<1?1:Ve,this._windowTime=be<1?1:be,be===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Ve){if(!this.isStopped){const be=this._events;be.push(Ve),be.length>this._bufferSize&&be.shift()}super.next(Ve)}nextTimeWindow(Ve){this.isStopped||(this._events.push(new Ce(this._getNow(),Ve)),this._trimBufferThenGetEvents()),super.next(Ve)}_subscribe(Ve){const be=this._infiniteTimeWindow,Ke=be?this._events:this._trimBufferThenGetEvents(),pt=this.scheduler,tt=Ke.length;let ce;if(this.closed)throw new Be.N;if(this.isStopped||this.hasError?ce=te.w.EMPTY:(this.observers.push(Ve),ce=new Ie.W(this,Ve)),pt&&Ve.add(Ve=new Ue.ht(Ve,pt)),be)for(let vt=0;vt<tt&&!Ve.closed;vt++)Ve.next(Ke[vt]);else for(let vt=0;vt<tt&&!Ve.closed;vt++)Ve.next(Ke[vt].value);return this.hasError?Ve.error(this.thrownError):this.isStopped&&Ve.complete(),ce}_getNow(){return(this.scheduler||o.c).now()}_trimBufferThenGetEvents(){const Ve=this._getNow(),be=this._bufferSize,Ke=this._windowTime,pt=this._events,tt=pt.length;let ce=0;for(;ce<tt&&!(Ve-pt[ce].time<Ke);)ce++;return tt>be&&(ce=Math.max(ce,tt-be)),ce>0&&pt.splice(0,ce),pt}}class Ce{constructor(Ve,be){this.time=Ve,this.value=be}}function Te(he,Ve,be){let Ke;return Ke=he&&"object"==typeof he?he:{bufferSize:he,windowTime:Ve,refCount:!1,scheduler:be},pt=>pt.lift(function({bufferSize:he=Number.POSITIVE_INFINITY,windowTime:Ve=Number.POSITIVE_INFINITY,refCount:be,scheduler:Ke}){let pt,ce,tt=0,vt=!1,Jt=!1;return function(St){let Ct;tt++,!pt||vt?(vt=!1,pt=new Ge(he,Ve,Ke),Ct=pt.subscribe(this),ce=St.subscribe({next(Rt){pt.next(Rt)},error(Rt){vt=!0,pt.error(Rt)},complete(){Jt=!0,ce=void 0,pt.complete()}}),Jt&&(ce=void 0)):Ct=pt.subscribe(this),this.add(()=>{tt--,Ct.unsubscribe(),Ct=void 0,ce&&!Jt&&be&&0===tt&&(ce.unsubscribe(),ce=void 0,pt=void 0)})}}(Ke))}},9761:(ln,at,q)=>{"use strict";q.d(at,{O:()=>te});var k=q(8071),o=q(4869);function te(...Ue){const Be=Ue[Ue.length-1];return(0,o.K)(Be)?(Ue.pop(),Ie=>(0,k.z)(Ue,Ie,Be)):Ie=>(0,k.z)(Ue,Ie)}},9673:(ln,at,q)=>{"use strict";q.d(at,{R:()=>Be});var k=q(7574),o=q(4581),te=q(6561);class Ue extends k.y{constructor(Ce,Te=0,ue=o.e){super(),this.source=Ce,this.delayTime=Te,this.scheduler=ue,(!(0,te.k)(Te)||Te<0)&&(this.delayTime=0),(!ue||"function"!=typeof ue.schedule)&&(this.scheduler=o.e)}static create(Ce,Te=0,ue=o.e){return new Ue(Ce,Te,ue)}static dispatch(Ce){const{source:Te,subscriber:ue}=Ce;return this.add(Te.subscribe(ue))}_subscribe(Ce){return this.scheduler.schedule(Ue.dispatch,this.delayTime,{source:this.source,subscriber:Ce})}}function Be(Ge,Ce=0){return function(ue){return ue.lift(new Ie(Ge,Ce))}}class Ie{constructor(Ce,Te){this.scheduler=Ce,this.delay=Te}call(Ce,Te){return new Ue(Te,this.delay,this.scheduler).subscribe(Ce)}}},3190:(ln,at,q)=>{"use strict";q.d(at,{w:()=>Ue});var k=q(8002),o=q(4402),te=q(5345);function Ue(Ge,Ce){return"function"==typeof Ce?Te=>Te.pipe(Ue((ue,he)=>(0,o.D)(Ge(ue,he)).pipe((0,k.U)((Ve,be)=>Ce(ue,Ve,he,be))))):Te=>Te.lift(new Be(Ge))}class Be{constructor(Ce){this.project=Ce}call(Ce,Te){return Te.subscribe(new Ie(Ce,this.project))}}class Ie extends te.Ds{constructor(Ce,Te){super(Ce),this.project=Te,this.index=0}_next(Ce){let Te;const ue=this.index++;try{Te=this.project(Ce,ue)}catch(he){return void this.destination.error(he)}this._innerSub(Te)}_innerSub(Ce){const Te=this.innerSubscription;Te&&Te.unsubscribe();const ue=new te.IY(this),he=this.destination;he.add(ue),this.innerSubscription=(0,te.ft)(Ce,ue),this.innerSubscription!==ue&&he.add(this.innerSubscription)}_complete(){const{innerSubscription:Ce}=this;(!Ce||Ce.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ce){this.destination.next(Ce)}}},5257:(ln,at,q)=>{"use strict";q.d(at,{q:()=>Ue});var k=q(7393),o=q(7108),te=q(9193);function Ue(Ge){return Ce=>0===Ge?(0,te.c)():Ce.lift(new Be(Ge))}class Be{constructor(Ce){if(this.total=Ce,this.total<0)throw new o.W}call(Ce,Te){return Te.subscribe(new Ie(Ce,this.total))}}class Ie extends k.L{constructor(Ce,Te){super(Ce),this.total=Te,this.count=0}_next(Ce){const Te=this.total,ue=++this.count;ue<=Te&&(this.destination.next(Ce),ue===Te&&(this.destination.complete(),this.unsubscribe()))}}},3342:(ln,at,q)=>{"use strict";q.d(at,{b:()=>Ue});var k=q(7393);function o(){}var te=q(9105);function Ue(Ge,Ce,Te){return function(he){return he.lift(new Be(Ge,Ce,Te))}}class Be{constructor(Ce,Te,ue){this.nextOrObserver=Ce,this.error=Te,this.complete=ue}call(Ce,Te){return Te.subscribe(new Ie(Ce,this.nextOrObserver,this.error,this.complete))}}class Ie extends k.L{constructor(Ce,Te,ue,he){super(Ce),this._tapNext=o,this._tapError=o,this._tapComplete=o,this._tapError=ue||o,this._tapComplete=he||o,(0,te.m)(Te)?(this._context=this,this._tapNext=Te):Te&&(this._context=Te,this._tapNext=Te.next||o,this._tapError=Te.error||o,this._tapComplete=Te.complete||o)}_next(Ce){try{this._tapNext.call(this._context,Ce)}catch(Te){return void this.destination.error(Te)}this.destination.next(Ce)}_error(Ce){try{this._tapError.call(this._context,Ce)}catch(Te){return void this.destination.error(Te)}this.destination.error(Ce)}_complete(){try{this._tapComplete.call(this._context)}catch(Ce){return void this.destination.error(Ce)}return this.destination.complete()}}},4635:(ln,at,q)=>{"use strict";q.d(at,{T:()=>te});var k=q(3410),o=q(7393);function te(Ge=Ie){return Ce=>Ce.lift(new Ue(Ge))}class Ue{constructor(Ce){this.errorFactory=Ce}call(Ce,Te){return Te.subscribe(new Be(Ce,this.errorFactory))}}class Be extends o.L{constructor(Ce,Te){super(Ce),this.errorFactory=Te,this.hasValue=!1}_next(Ce){this.hasValue=!0,this.destination.next(Ce)}_complete(){if(this.hasValue)return this.destination.complete();{let Ce;try{Ce=this.errorFactory()}catch(Te){Ce=Te}this.destination.error(Ce)}}}function Ie(){return new k.K}},4087:(ln,at,q)=>{"use strict";q.d(at,{r:()=>te});var k=q(7574),o=q(5319);function te(Ue,Be){return new k.y(Ie=>{const Ge=new o.w;let Ce=0;return Ge.add(Be.schedule(function(){Ce!==Ue.length?(Ie.next(Ue[Ce++]),Ie.closed||Ge.add(this.schedule())):Ie.complete()})),Ge})}},6465:(ln,at,q)=>{"use strict";q.d(at,{o:()=>te});var k=q(5319);class o extends k.w{constructor(Be,Ie){super()}schedule(Be,Ie=0){return this}}class te extends o{constructor(Be,Ie){super(Be,Ie),this.scheduler=Be,this.work=Ie,this.pending=!1}schedule(Be,Ie=0){if(this.closed)return this;this.state=Be;const Ge=this.id,Ce=this.scheduler;return null!=Ge&&(this.id=this.recycleAsyncId(Ce,Ge,Ie)),this.pending=!0,this.delay=Ie,this.id=this.id||this.requestAsyncId(Ce,this.id,Ie),this}requestAsyncId(Be,Ie,Ge=0){return setInterval(Be.flush.bind(Be,this),Ge)}recycleAsyncId(Be,Ie,Ge=0){if(null!==Ge&&this.delay===Ge&&!1===this.pending)return Ie;clearInterval(Ie)}execute(Be,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Be,Ie);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,Ie){let Ce,Ge=!1;try{this.work(Be)}catch(Te){Ge=!0,Ce=!!Te&&Te||new Error(Te)}if(Ge)return this.unsubscribe(),Ce}_unsubscribe(){const Be=this.id,Ie=this.scheduler,Ge=Ie.actions,Ce=Ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ce&&Ge.splice(Ce,1),null!=Be&&(this.id=this.recycleAsyncId(Ie,Be,null)),this.delay=null}}},6102:(ln,at,q)=>{"use strict";q.d(at,{v:()=>o});let k=(()=>{class te{constructor(Be,Ie=te.now){this.SchedulerAction=Be,this.now=Ie}schedule(Be,Ie=0,Ge){return new this.SchedulerAction(this,Be).schedule(Ge,Ie)}}return te.now=()=>Date.now(),te})();class o extends k{constructor(Ue,Be=k.now){super(Ue,()=>o.delegate&&o.delegate!==this?o.delegate.now():Be()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ue,Be=0,Ie){return o.delegate&&o.delegate!==this?o.delegate.schedule(Ue,Be,Ie):super.schedule(Ue,Be,Ie)}flush(Ue){const{actions:Be}=this;if(this.active)return void Be.push(Ue);let Ie;this.active=!0;do{if(Ie=Ue.execute(Ue.state,Ue.delay))break}while(Ue=Be.shift());if(this.active=!1,Ie){for(;Ue=Be.shift();)Ue.unsubscribe();throw Ie}}}},4581:(ln,at,q)=>{"use strict";q.d(at,{e:()=>Ve,E:()=>he});let k=1;const o=Promise.resolve(),te={};function Ue(be){return be in te&&(delete te[be],!0)}const Be={setImmediate(be){const Ke=k++;return te[Ke]=!0,o.then(()=>Ue(Ke)&&be()),Ke},clearImmediate(be){Ue(be)}};var Ge=q(6465),Te=q(6102);const he=new class extends Te.v{flush(Ke){this.active=!0,this.scheduled=void 0;const{actions:pt}=this;let tt,ce=-1,vt=pt.length;Ke=Ke||pt.shift();do{if(tt=Ke.execute(Ke.state,Ke.delay))break}while(++ce<vt&&(Ke=pt.shift()));if(this.active=!1,tt){for(;++ce<vt&&(Ke=pt.shift());)Ke.unsubscribe();throw tt}}}(class extends Ge.o{constructor(Ke,pt){super(Ke,pt),this.scheduler=Ke,this.work=pt}requestAsyncId(Ke,pt,tt=0){return null!==tt&&tt>0?super.requestAsyncId(Ke,pt,tt):(Ke.actions.push(this),Ke.scheduled||(Ke.scheduled=Be.setImmediate(Ke.flush.bind(Ke,null))))}recycleAsyncId(Ke,pt,tt=0){if(null!==tt&&tt>0||null===tt&&this.delay>0)return super.recycleAsyncId(Ke,pt,tt);0===Ke.actions.length&&(Be.clearImmediate(pt),Ke.scheduled=void 0)}}),Ve=he},3637:(ln,at,q)=>{"use strict";q.d(at,{z:()=>te,P:()=>Ue});var k=q(6465);const te=new(q(6102).v)(k.o),Ue=te},7771:(ln,at,q)=>{"use strict";q.d(at,{c:()=>Ie,N:()=>Be});var k=q(6465),te=q(6102);const Be=new class extends te.v{}(class extends k.o{constructor(Ce,Te){super(Ce,Te),this.scheduler=Ce,this.work=Te}schedule(Ce,Te=0){return Te>0?super.schedule(Ce,Te):(this.delay=Te,this.state=Ce,this.scheduler.flush(this),this)}execute(Ce,Te){return Te>0||this.closed?super.execute(Ce,Te):this._execute(Ce,Te)}requestAsyncId(Ce,Te,ue=0){return null!==ue&&ue>0||null===ue&&this.delay>0?super.requestAsyncId(Ce,Te,ue):Ce.flush(this)}}),Ie=Be},377:(ln,at,q)=>{"use strict";q.d(at,{hZ:()=>o});const o="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ln,at,q)=>{"use strict";q.d(at,{L:()=>k});const k="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ln,at,q)=>{"use strict";q.d(at,{b:()=>k});const k="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ln,at,q)=>{"use strict";q.d(at,{W:()=>o});const o=(()=>{function te(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return te.prototype=Object.create(Error.prototype),te})()},3410:(ln,at,q)=>{"use strict";q.d(at,{K:()=>o});const o=(()=>{function te(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return te.prototype=Object.create(Error.prototype),te})()},7971:(ln,at,q)=>{"use strict";q.d(at,{N:()=>o});const o=(()=>{function te(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return te.prototype=Object.create(Error.prototype),te})()},4449:(ln,at,q)=>{"use strict";function k(o){setTimeout(()=>{throw o},0)}q.d(at,{z:()=>k})},4487:(ln,at,q)=>{"use strict";function k(o){return o}q.d(at,{y:()=>k})},9796:(ln,at,q)=>{"use strict";q.d(at,{k:()=>k});const k=Array.isArray||(o=>o&&"number"==typeof o.length)},9489:(ln,at,q)=>{"use strict";q.d(at,{z:()=>k});const k=o=>o&&"number"==typeof o.length&&"function"!=typeof o},9105:(ln,at,q)=>{"use strict";function k(o){return"function"==typeof o}q.d(at,{m:()=>k})},6561:(ln,at,q)=>{"use strict";q.d(at,{k:()=>o});var k=q(9796);function o(te){return!(0,k.k)(te)&&te-parseFloat(te)+1>=0}},1555:(ln,at,q)=>{"use strict";function k(o){return null!==o&&"object"==typeof o}q.d(at,{K:()=>k})},4072:(ln,at,q)=>{"use strict";function k(o){return!!o&&"function"!=typeof o.subscribe&&"function"==typeof o.then}q.d(at,{t:()=>k})},4869:(ln,at,q)=>{"use strict";function k(o){return o&&"function"==typeof o.schedule}q.d(at,{K:()=>k})},7444:(ln,at,q)=>{"use strict";q.d(at,{s:()=>he});var k=q(5015),o=q(4449),Ue=q(377),Ie=q(6554),Ce=q(9489),Te=q(4072),ue=q(1555);const he=Ve=>{if(Ve&&"function"==typeof Ve[Ie.L])return(Ve=>be=>{const Ke=Ve[Ie.L]();if("function"!=typeof Ke.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ke.subscribe(be)})(Ve);if((0,Ce.z)(Ve))return(0,k.V)(Ve);if((0,Te.t)(Ve))return(Ve=>be=>(Ve.then(Ke=>{be.closed||(be.next(Ke),be.complete())},Ke=>be.error(Ke)).then(null,o.z),be))(Ve);if(Ve&&"function"==typeof Ve[Ue.hZ])return(Ve=>be=>{const Ke=Ve[Ue.hZ]();for(;;){let pt;try{pt=Ke.next()}catch(tt){return be.error(tt),be}if(pt.done){be.complete();break}if(be.next(pt.value),be.closed)break}return"function"==typeof Ke.return&&be.add(()=>{Ke.return&&Ke.return()}),be})(Ve);{const Ke=`You provided ${(0,ue.K)(Ve)?"an invalid object":`'${Ve}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ke)}}},5015:(ln,at,q)=>{"use strict";q.d(at,{V:()=>k});const k=o=>te=>{for(let Ue=0,Be=o.length;Ue<Be&&!te.closed;Ue++)te.next(o[Ue]);te.complete()}},9443:(ln,at,q)=>{"use strict";q.r(at),q.d(at,{AdminModule:()=>yg});var k=q(8583),o=q(3018);let te=(()=>{class _{constructor(){}ngOnInit(){}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275cmp=o.Xpm({type:_,selectors:[["ng-component"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-md-12","col-sm-12"]],template:function(d,v){1&d&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"p"),o._uU(3,"photos works!"),o.qZA(),o.qZA(),o.qZA())},styles:[""]}),_})();var Ue=q(4402),Be=q(7574),Ie=q(9796),Ge=q(8002),Ce=q(1555);function ue(_,m){return new Be.y(d=>{const v=_.length;if(0===v)return void d.complete();const F=new Array(v);let Y=0,Re=0;for(let Mt=0;Mt<v;Mt++){const Gt=(0,Ue.D)(_[Mt]);let pn=!1;d.add(Gt.subscribe({next:Wn=>{pn||(pn=!0,Re++),F[Mt]=Wn},error:Wn=>d.error(Wn),complete:()=>{Y++,(Y===v||!pn)&&(Re===v&&d.next(m?m.reduce((Wn,mi,Zo)=>(Wn[mi]=F[Zo],Wn),{}):F),d.complete())}}))}})}let he=(()=>{class _{constructor(d,v){this._renderer=d,this._elementRef=v,this.onChange=F=>{},this.onTouched=()=>{}}setProperty(d,v){this._renderer.setProperty(this._elementRef.nativeElement,d,v)}registerOnTouched(d){this.onTouched=d}registerOnChange(d){this.onChange=d}setDisabledState(d){this.setProperty("disabled",d)}}return _.\u0275fac=function(d){return new(d||_)(o.Y36(o.Qsj),o.Y36(o.SBq))},_.\u0275dir=o.lG2({type:_}),_})(),Ve=(()=>{class _ extends he{}return _.\u0275fac=function(){let m;return function(v){return(m||(m=o.n5z(_)))(v||_)}}(),_.\u0275dir=o.lG2({type:_,features:[o.qOj]}),_})();const be=new o.OlP("NgValueAccessor"),tt={provide:be,useExisting:(0,o.Gpc)(()=>Jt),multi:!0},vt=new o.OlP("CompositionEventMode");let Jt=(()=>{class _ extends he{constructor(d,v,F){super(d,v),this._compositionMode=F,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const _=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(_.toLowerCase())}())}writeValue(d){this.setProperty("value",null==d?"":d)}_handleInput(d){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(d)}_compositionStart(){this._composing=!0}_compositionEnd(d){this._composing=!1,this._compositionMode&&this.onChange(d)}}return _.\u0275fac=function(d){return new(d||_)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(vt,8))},_.\u0275dir=o.lG2({type:_,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(d,v){1&d&&o.NdJ("input",function(Y){return v._handleInput(Y.target.value)})("blur",function(){return v.onTouched()})("compositionstart",function(){return v._compositionStart()})("compositionend",function(Y){return v._compositionEnd(Y.target.value)})},features:[o._Bn([tt]),o.qOj]}),_})();function Zt(_){return null==_||0===_.length}function St(_){return null!=_&&"number"==typeof _.length}const Ct=new o.OlP("NgValidators"),Rt=new o.OlP("NgAsyncValidators"),Nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ct{static min(m){return _=m,m=>{if(Zt(m.value)||Zt(_))return null;const d=parseFloat(m.value);return!isNaN(d)&&d<_?{min:{min:_,actual:m.value}}:null};var _}static max(m){return _=m,m=>{if(Zt(m.value)||Zt(_))return null;const d=parseFloat(m.value);return!isNaN(d)&&d>_?{max:{max:_,actual:m.value}}:null};var _}static required(m){return Zt(m.value)?{required:!0}:null}static requiredTrue(m){return!0===m.value?null:{required:!0}}static email(m){return Zt((_=m).value)||Nt.test(_.value)?null:{email:!0};var _}static minLength(m){return _=m,m=>Zt(m.value)||!St(m.value)?null:m.value.length<_?{minlength:{requiredLength:_,actualLength:m.value.length}}:null;var _}static maxLength(m){return _=m,m=>St(m.value)&&m.value.length>_?{maxlength:{requiredLength:_,actualLength:m.value.length}}:null;var _}static pattern(m){return function(_){if(!_)return En;let m,d;return"string"==typeof _?(d="","^"!==_.charAt(0)&&(d+="^"),d+=_,"$"!==_.charAt(_.length-1)&&(d+="$"),m=new RegExp(d)):(d=_.toString(),m=_),v=>{if(Zt(v.value))return null;const F=v.value;return m.test(F)?null:{pattern:{requiredPattern:d,actualValue:F}}}}(m)}static nullValidator(m){return null}static compose(m){return li(m)}static composeAsync(m){return yn(m)}}function En(_){return null}function Tn(_){return null!=_}function sr(_){const m=(0,o.QGY)(_)?(0,Ue.D)(_):_;return(0,o.CqO)(m),m}function un(_){let m={};return _.forEach(d=>{m=null!=d?Object.assign(Object.assign({},m),d):m}),0===Object.keys(m).length?null:m}function zn(_,m){return m.map(d=>d(_))}function Nr(_){return _.map(m=>function(_){return!_.validate}(m)?m:d=>m.validate(d))}function li(_){if(!_)return null;const m=_.filter(Tn);return 0==m.length?null:function(d){return un(zn(d,m))}}function on(_){return null!=_?li(Nr(_)):null}function yn(_){if(!_)return null;const m=_.filter(Tn);return 0==m.length?null:function(d){return function(..._){if(1===_.length){const m=_[0];if((0,Ie.k)(m))return ue(m,null);if((0,Ce.K)(m)&&Object.getPrototypeOf(m)===Object.prototype){const d=Object.keys(m);return ue(d.map(v=>m[v]),d)}}if("function"==typeof _[_.length-1]){const m=_.pop();return ue(_=1===_.length&&(0,Ie.k)(_[0])?_[0]:_,null).pipe((0,Ge.U)(d=>m(...d)))}return ue(_,null)}(zn(d,m).map(sr)).pipe((0,Ge.U)(un))}}function mr(_){return null!=_?yn(Nr(_)):null}function Ei(_,m){return null===_?[m]:Array.isArray(_)?[..._,m]:[_,m]}function Qn(_){return _?Array.isArray(_)?_:[_]:[]}function yr(_,m){return Array.isArray(_)?_.includes(m):_===m}function vn(_,m){const d=Qn(m);return Qn(_).forEach(F=>{yr(d,F)||d.push(F)}),d}function dr(_,m){return Qn(m).filter(d=>!yr(_,d))}let kr=(()=>{class _{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(d){this._rawValidators=d||[],this._composedValidatorFn=on(this._rawValidators)}_setAsyncValidators(d){this._rawAsyncValidators=d||[],this._composedAsyncValidatorFn=mr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(d){this._onDestroyCallbacks.push(d)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(d=>d()),this._onDestroyCallbacks=[]}reset(d){this.control&&this.control.reset(d)}hasError(d,v){return!!this.control&&this.control.hasError(d,v)}getError(d,v){return this.control?this.control.getError(d,v):null}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275dir=o.lG2({type:_}),_})(),_r=(()=>{class _ extends kr{get formDirective(){return null}get path(){return null}}return _.\u0275fac=function(){let m;return function(v){return(m||(m=o.n5z(_)))(v||_)}}(),_.\u0275dir=o.lG2({type:_,features:[o.qOj]}),_})();class Yr extends kr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let hi=(()=>{class _ extends class{constructor(m){this._cd=m}is(m){var d,v,F;return"submitted"===m?!!(null===(d=this._cd)||void 0===d?void 0:d.submitted):!!(null===(F=null===(v=this._cd)||void 0===v?void 0:v.control)||void 0===F?void 0:F[m])}}{constructor(d){super(d)}}return _.\u0275fac=function(d){return new(d||_)(o.Y36(Yr,2))},_.\u0275dir=o.lG2({type:_,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(d,v){2&d&&o.ekj("ng-untouched",v.is("untouched"))("ng-touched",v.is("touched"))("ng-pristine",v.is("pristine"))("ng-dirty",v.is("dirty"))("ng-valid",v.is("valid"))("ng-invalid",v.is("invalid"))("ng-pending",v.is("pending"))},features:[o.qOj]}),_})();function _i(_,m){(function(_,m){const d=function(_){return _._rawValidators}(_);null!==m.validator?_.setValidators(Ei(d,m.validator)):"function"==typeof d&&_.setValidators([d]);const v=function(_){return _._rawAsyncValidators}(_);null!==m.asyncValidator?_.setAsyncValidators(Ei(v,m.asyncValidator)):"function"==typeof v&&_.setAsyncValidators([v]);const F=()=>_.updateValueAndValidity();Le(m._rawValidators,F),Le(m._rawAsyncValidators,F)})(_,m),m.valueAccessor.writeValue(_.value),function(_,m){m.valueAccessor.registerOnChange(d=>{_._pendingValue=d,_._pendingChange=!0,_._pendingDirty=!0,"change"===_.updateOn&&Vn(_,m)})}(_,m),function(_,m){const d=(v,F)=>{m.valueAccessor.writeValue(v),F&&m.viewToModelUpdate(v)};_.registerOnChange(d),m._registerOnDestroy(()=>{_._unregisterOnChange(d)})}(_,m),function(_,m){m.valueAccessor.registerOnTouched(()=>{_._pendingTouched=!0,"blur"===_.updateOn&&_._pendingChange&&Vn(_,m),"submit"!==_.updateOn&&_.markAsTouched()})}(_,m),function(_,m){if(m.valueAccessor.setDisabledState){const d=v=>{m.valueAccessor.setDisabledState(v)};_.registerOnDisabledChange(d),m._registerOnDestroy(()=>{_._unregisterOnDisabledChange(d)})}}(_,m)}function Le(_,m){_.forEach(d=>{d.registerOnValidatorChange&&d.registerOnValidatorChange(m)})}function Vn(_,m){_._pendingDirty&&_.markAsDirty(),_.setValue(_._pendingValue,{emitModelToViewChange:!1}),m.viewToModelUpdate(_._pendingValue),_._pendingChange=!1}function Cn(_,m){const d=_.indexOf(m);d>-1&&_.splice(d,1)}const kn="VALID",Ir="INVALID",Pr="PENDING",sn="DISABLED";function Ni(_){return(Jn(_)?_.validators:_)||null}function Fr(_){return Array.isArray(_)?on(_):_||null}function Lr(_,m){return(Jn(m)?m.asyncValidators:_)||null}function Ls(_){return Array.isArray(_)?mr(_):_||null}function Jn(_){return null!=_&&!Array.isArray(_)&&"object"==typeof _}class Ae{constructor(m,d){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=m,this._rawAsyncValidators=d,this._composedValidatorFn=Fr(this._rawValidators),this._composedAsyncValidatorFn=Ls(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(m){this._rawValidators=this._composedValidatorFn=m}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(m){this._rawAsyncValidators=this._composedAsyncValidatorFn=m}get parent(){return this._parent}get valid(){return this.status===kn}get invalid(){return this.status===Ir}get pending(){return this.status==Pr}get disabled(){return this.status===sn}get enabled(){return this.status!==sn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(m){this._rawValidators=m,this._composedValidatorFn=Fr(m)}setAsyncValidators(m){this._rawAsyncValidators=m,this._composedAsyncValidatorFn=Ls(m)}addValidators(m){this.setValidators(vn(m,this._rawValidators))}addAsyncValidators(m){this.setAsyncValidators(vn(m,this._rawAsyncValidators))}removeValidators(m){this.setValidators(dr(m,this._rawValidators))}removeAsyncValidators(m){this.setAsyncValidators(dr(m,this._rawAsyncValidators))}hasValidator(m){return yr(this._rawValidators,m)}hasAsyncValidator(m){return yr(this._rawAsyncValidators,m)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(m={}){this.touched=!0,this._parent&&!m.onlySelf&&this._parent.markAsTouched(m)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(m=>m.markAllAsTouched())}markAsUntouched(m={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(d=>{d.markAsUntouched({onlySelf:!0})}),this._parent&&!m.onlySelf&&this._parent._updateTouched(m)}markAsDirty(m={}){this.pristine=!1,this._parent&&!m.onlySelf&&this._parent.markAsDirty(m)}markAsPristine(m={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(d=>{d.markAsPristine({onlySelf:!0})}),this._parent&&!m.onlySelf&&this._parent._updatePristine(m)}markAsPending(m={}){this.status=Pr,!1!==m.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!m.onlySelf&&this._parent.markAsPending(m)}disable(m={}){const d=this._parentMarkedDirty(m.onlySelf);this.status=sn,this.errors=null,this._forEachChild(v=>{v.disable(Object.assign(Object.assign({},m),{onlySelf:!0}))}),this._updateValue(),!1!==m.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},m),{skipPristineCheck:d})),this._onDisabledChange.forEach(v=>v(!0))}enable(m={}){const d=this._parentMarkedDirty(m.onlySelf);this.status=kn,this._forEachChild(v=>{v.enable(Object.assign(Object.assign({},m),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:m.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},m),{skipPristineCheck:d})),this._onDisabledChange.forEach(v=>v(!1))}_updateAncestors(m){this._parent&&!m.onlySelf&&(this._parent.updateValueAndValidity(m),m.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(m){this._parent=m}updateValueAndValidity(m={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kn||this.status===Pr)&&this._runAsyncValidator(m.emitEvent)),!1!==m.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!m.onlySelf&&this._parent.updateValueAndValidity(m)}_updateTreeValidity(m={emitEvent:!0}){this._forEachChild(d=>d._updateTreeValidity(m)),this.updateValueAndValidity({onlySelf:!0,emitEvent:m.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sn:kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(m){if(this.asyncValidator){this.status=Pr,this._hasOwnPendingAsyncValidator=!0;const d=sr(this.asyncValidator(this));this._asyncValidationSubscription=d.subscribe(v=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(v,{emitEvent:m})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(m,d={}){this.errors=m,this._updateControlsErrors(!1!==d.emitEvent)}get(m){return function(_,m,d){if(null==m||(Array.isArray(m)||(m=m.split(".")),Array.isArray(m)&&0===m.length))return null;let v=_;return m.forEach(F=>{v=v instanceof kt?v.controls.hasOwnProperty(F)?v.controls[F]:null:v instanceof In&&v.at(F)||null}),v}(this,m)}getError(m,d){const v=d?this.get(d):this;return v&&v.errors?v.errors[m]:null}hasError(m,d){return!!this.getError(m,d)}get root(){let m=this;for(;m._parent;)m=m._parent;return m}_updateControlsErrors(m){this.status=this._calculateStatus(),m&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(m)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?sn:this.errors?Ir:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pr)?Pr:this._anyControlsHaveStatus(Ir)?Ir:kn}_anyControlsHaveStatus(m){return this._anyControls(d=>d.status===m)}_anyControlsDirty(){return this._anyControls(m=>m.dirty)}_anyControlsTouched(){return this._anyControls(m=>m.touched)}_updatePristine(m={}){this.pristine=!this._anyControlsDirty(),this._parent&&!m.onlySelf&&this._parent._updatePristine(m)}_updateTouched(m={}){this.touched=this._anyControlsTouched(),this._parent&&!m.onlySelf&&this._parent._updateTouched(m)}_isBoxedValue(m){return"object"==typeof m&&null!==m&&2===Object.keys(m).length&&"value"in m&&"disabled"in m}_registerOnCollectionChange(m){this._onCollectionChange=m}_setUpdateStrategy(m){Jn(m)&&null!=m.updateOn&&(this._updateOn=m.updateOn)}_parentMarkedDirty(m){return!m&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dt extends Ae{constructor(m=null,d,v){super(Ni(d),Lr(v,d)),this._onChange=[],this._applyFormState(m),this._setUpdateStrategy(d),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(m,d={}){this.value=this._pendingValue=m,this._onChange.length&&!1!==d.emitModelToViewChange&&this._onChange.forEach(v=>v(this.value,!1!==d.emitViewToModelChange)),this.updateValueAndValidity(d)}patchValue(m,d={}){this.setValue(m,d)}reset(m=null,d={}){this._applyFormState(m),this.markAsPristine(d),this.markAsUntouched(d),this.setValue(this.value,d),this._pendingChange=!1}_updateValue(){}_anyControls(m){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(m){this._onChange.push(m)}_unregisterOnChange(m){Cn(this._onChange,m)}registerOnDisabledChange(m){this._onDisabledChange.push(m)}_unregisterOnDisabledChange(m){Cn(this._onDisabledChange,m)}_forEachChild(m){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(m){this._isBoxedValue(m)?(this.value=this._pendingValue=m.value,m.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=m}}class kt extends Ae{constructor(m,d,v){super(Ni(d),Lr(v,d)),this.controls=m,this._initObservables(),this._setUpdateStrategy(d),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(m,d){return this.controls[m]?this.controls[m]:(this.controls[m]=d,d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange),d)}addControl(m,d,v={}){this.registerControl(m,d),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}removeControl(m,d={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),delete this.controls[m],this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}setControl(m,d,v={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),delete this.controls[m],d&&this.registerControl(m,d),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}contains(m){return this.controls.hasOwnProperty(m)&&this.controls[m].enabled}setValue(m,d={}){this._checkAllValuesPresent(m),Object.keys(m).forEach(v=>{this._throwIfControlMissing(v),this.controls[v].setValue(m[v],{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d)}patchValue(m,d={}){null!=m&&(Object.keys(m).forEach(v=>{this.controls[v]&&this.controls[v].patchValue(m[v],{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d))}reset(m={},d={}){this._forEachChild((v,F)=>{v.reset(m[F],{onlySelf:!0,emitEvent:d.emitEvent})}),this._updatePristine(d),this._updateTouched(d),this.updateValueAndValidity(d)}getRawValue(){return this._reduceChildren({},(m,d,v)=>(m[v]=d instanceof dt?d.value:d.getRawValue(),m))}_syncPendingControls(){let m=this._reduceChildren(!1,(d,v)=>!!v._syncPendingControls()||d);return m&&this.updateValueAndValidity({onlySelf:!0}),m}_throwIfControlMissing(m){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[m])throw new Error(`Cannot find form control with name: ${m}.`)}_forEachChild(m){Object.keys(this.controls).forEach(d=>{const v=this.controls[d];v&&m(v,d)})}_setUpControls(){this._forEachChild(m=>{m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(m){for(const d of Object.keys(this.controls)){const v=this.controls[d];if(this.contains(d)&&m(v))return!0}return!1}_reduceValue(){return this._reduceChildren({},(m,d,v)=>((d.enabled||this.disabled)&&(m[v]=d.value),m))}_reduceChildren(m,d){let v=m;return this._forEachChild((F,Y)=>{v=d(v,F,Y)}),v}_allControlsDisabled(){for(const m of Object.keys(this.controls))if(this.controls[m].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(m){this._forEachChild((d,v)=>{if(void 0===m[v])throw new Error(`Must supply a value for form control with name: '${v}'.`)})}}class In extends Ae{constructor(m,d,v){super(Ni(d),Lr(v,d)),this.controls=m,this._initObservables(),this._setUpdateStrategy(d),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(m){return this.controls[m]}push(m,d={}){this.controls.push(m),this._registerControl(m),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}insert(m,d,v={}){this.controls.splice(m,0,d),this._registerControl(d),this.updateValueAndValidity({emitEvent:v.emitEvent})}removeAt(m,d={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),this.controls.splice(m,1),this.updateValueAndValidity({emitEvent:d.emitEvent})}setControl(m,d,v={}){this.controls[m]&&this.controls[m]._registerOnCollectionChange(()=>{}),this.controls.splice(m,1),d&&(this.controls.splice(m,0,d),this._registerControl(d)),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(m,d={}){this._checkAllValuesPresent(m),m.forEach((v,F)=>{this._throwIfControlMissing(F),this.at(F).setValue(v,{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d)}patchValue(m,d={}){null!=m&&(m.forEach((v,F)=>{this.at(F)&&this.at(F).patchValue(v,{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d))}reset(m=[],d={}){this._forEachChild((v,F)=>{v.reset(m[F],{onlySelf:!0,emitEvent:d.emitEvent})}),this._updatePristine(d),this._updateTouched(d),this.updateValueAndValidity(d)}getRawValue(){return this.controls.map(m=>m instanceof dt?m.value:m.getRawValue())}clear(m={}){this.controls.length<1||(this._forEachChild(d=>d._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:m.emitEvent}))}_syncPendingControls(){let m=this.controls.reduce((d,v)=>!!v._syncPendingControls()||d,!1);return m&&this.updateValueAndValidity({onlySelf:!0}),m}_throwIfControlMissing(m){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(m))throw new Error(`Cannot find form control at index ${m}`)}_forEachChild(m){this.controls.forEach((d,v)=>{m(d,v)})}_updateValue(){this.value=this.controls.filter(m=>m.enabled||this.disabled).map(m=>m.value)}_anyControls(m){return this.controls.some(d=>d.enabled&&m(d))}_setUpControls(){this._forEachChild(m=>this._registerControl(m))}_checkAllValuesPresent(m){this._forEachChild((d,v)=>{if(void 0===m[v])throw new Error(`Must supply a value for form control at index: ${v}.`)})}_allControlsDisabled(){for(const m of this.controls)if(m.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(m){m.setParent(this),m._registerOnCollectionChange(this._onCollectionChange)}}const Oi={provide:Yr,useExisting:(0,o.Gpc)(()=>mt)},Xe=(()=>Promise.resolve(null))();let mt=(()=>{class _ extends Yr{constructor(d,v,F,Y){super(),this.control=new dt,this._registered=!1,this.update=new o.vpe,this._parent=d,this._setValidators(v),this._setAsyncValidators(F),this.valueAccessor=function(_,m){if(!m)return null;let d,v,F;return Array.isArray(m),m.forEach(Y=>{Y.constructor===Jt?d=Y:function(_){return Object.getPrototypeOf(_.constructor)===Ve}(Y)?v=Y:F=Y}),F||v||d||null}(0,Y)}ngOnChanges(d){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in d&&this._updateDisabled(d),function(_,m){if(!_.hasOwnProperty("model"))return!1;const d=_.model;return!!d.isFirstChange()||!Object.is(m,d.currentValue)}(d,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(_,m){return[...m.path,_]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(d){this.viewModel=d,this.update.emit(d)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_i(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(d){Xe.then(()=>{this.control.setValue(d,{emitViewToModelChange:!1})})}_updateDisabled(d){const v=d.isDisabled.currentValue,F=""===v||v&&"false"!==v;Xe.then(()=>{F&&!this.control.disabled?this.control.disable():!F&&this.control.disabled&&this.control.enable()})}}return _.\u0275fac=function(d){return new(d||_)(o.Y36(_r,9),o.Y36(Ct,10),o.Y36(Rt,10),o.Y36(be,10))},_.\u0275dir=o.lG2({type:_,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Oi]),o.qOj,o.TTD]}),_})();const pr={provide:be,useExisting:(0,o.Gpc)(()=>Di),multi:!0};let jr=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({}),_})(),ci=(()=>{class _{constructor(){this._accessors=[]}add(d,v){this._accessors.push([d,v])}remove(d){for(let v=this._accessors.length-1;v>=0;--v)if(this._accessors[v][1]===d)return void this._accessors.splice(v,1)}select(d){this._accessors.forEach(v=>{this._isSameGroup(v,d)&&v[1]!==d&&v[1].fireUncheck(d.value)})}_isSameGroup(d,v){return!!d[0].control&&d[0]._parent===v._control._parent&&d[1].name===v.name}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275prov=(0,o.Yz7)({factory:function(){return new _},token:_,providedIn:jr}),_})(),Di=(()=>{class _ extends Ve{constructor(d,v,F,Y){super(d,v),this._registry=F,this._injector=Y,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Yr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(d){this._state=d===this.value,this.setProperty("checked",this._state)}registerOnChange(d){this._fn=d,this.onChange=()=>{d(this.value),this._registry.select(this)}}fireUncheck(d){this.writeValue(d)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return _.\u0275fac=function(d){return new(d||_)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(ci),o.Y36(o.zs3))},_.\u0275dir=o.lG2({type:_,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(d,v){1&d&&o.NdJ("change",function(){return v.onChange()})("blur",function(){return v.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o._Bn([pr]),o.qOj]}),_})();const Ai=new o.OlP("NgModelWithFormControlWarning");let Z=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[jr]]}),_})(),oe=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[Z]}),_})(),$e=(()=>{class _{static withConfig(d){return{ngModule:_,providers:[{provide:Ai,useValue:d.warnOnNgModelWithFormControl}]}}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[Z]}),_})();var je=q(2340),ot=q(4384);function jt(_,m){if(1&_){const d=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"th",12),o._uU(2),o.ALo(3,"date"),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.ALo(6,"date"),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o.TgZ(12,"button",13),o.NdJ("click",function(){const Y=o.CHM(d).$implicit;return o.oxw(2).selectedGame=Y}),o._uU(13,"Score This Game"),o.qZA(),o.qZA(),o.qZA()}if(2&_){const d=m.$implicit;o.xp6(2),o.Oqu(o.xi3(3,5,null==d||null==d.date?null:d.date.toDate(),"MM/dd/yyyy")),o.xp6(3),o.Oqu(o.xi3(6,8,null==d||null==d.date?null:d.date.toDate(),"h:mm a")),o.xp6(3),o.Oqu(d.opponent),o.xp6(2),o.AsE("",d.goals_for,"-",d.goals_against,"")}}function Wt(_,m){1&_&&(o.TgZ(0,"tr"),o.TgZ(1,"td",14),o._uU(2,"No Schedule Available"),o.qZA(),o.qZA())}function Sn(_,m){if(1&_){const d=o.EpF();o.TgZ(0,"div",3),o.TgZ(1,"div",4),o.TgZ(2,"input",5),o.NdJ("ngModelChange",function(F){return o.CHM(d),o.oxw().showVarsity=F}),o.qZA(),o.TgZ(3,"label",6),o._uU(4," VARSITY "),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"input",7),o.NdJ("ngModelChange",function(F){return o.CHM(d),o.oxw().showVarsity=F}),o.qZA(),o.TgZ(7,"label",8),o._uU(8," JV "),o.qZA(),o.qZA(),o.TgZ(9,"table",9),o.TgZ(10,"thead"),o.TgZ(11,"tr"),o.TgZ(12,"th"),o._uU(13,"Date"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"Time"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Opponent"),o.qZA(),o.TgZ(18,"th"),o._uU(19,"Score"),o.qZA(),o._UZ(20,"th"),o.qZA(),o.qZA(),o.TgZ(21,"tbody"),o.YNc(22,jt,14,11,"tr",10),o.YNc(23,Wt,3,0,"tr",11),o.qZA(),o.qZA(),o.qZA()}if(2&_){const d=o.oxw();o.xp6(2),o.Q6J("value",!0)("ngModel",d.showVarsity),o.xp6(4),o.Q6J("value",!1)("ngModel",d.showVarsity),o.xp6(16),o.Q6J("ngForOf",d.showVarsity?d.varsityGames:d.jvGames),o.xp6(1),o.Q6J("ngIf",d.showVarsity?!d.varsityGames.length:!d.jvGames.length)}}function On(_,m){if(1&_){const d=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",15),o.TgZ(2,"h1"),o._uU(3),o.ALo(4,"date"),o.ALo(5,"date"),o.TgZ(6,"button",16),o.NdJ("click",function(){return o.CHM(d),o.oxw().selectedGame=void 0}),o._uU(7,"Select A Different Game"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&_){const d=o.oxw();o.xp6(3),o.lnq(" ",o.xi3(4,3,null==d.selectedGame.date?null:d.selectedGame.date.toDate(),"MM/dd/yyyy")," : ",o.xi3(5,6,null==d.selectedGame.date?null:d.selectedGame.date.toDate(),"h:mm a")," vs ",d.selectedGame.opponent," ")}}let ri=(()=>{class _{constructor(d){this.firestore=d,this.showVarsity=!0,this.varsityGames=[],this.jvGames=[],this.playerControl=new dt(null,ct.required)}ngOnInit(){this.firestore.collection("games",d=>d.orderBy("date","asc")).valueChanges({idField:"id"}).subscribe({next:d=>{this.varsityGames=d.filter(v=>!0===v.varsity),this.jvGames=d.filter(v=>!1===v.varsity)}}),this.firestore.collection("players",d=>d.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:d=>{d=d.filter(v=>{const F=v.seasons.find(Y=>Y.year===je.N.CURRENT_SEASON);return this.showVarsity?!0===(null==F?void 0:F.varsity):!0===(null==F?void 0:F.jv)}),this.players=d}})}}return _.\u0275fac=function(d){return new(d||_)(o.Y36(ot.ST))},_.\u0275cmp=o.Xpm({type:_,selectors:[["ng-component"]],decls:3,vars:2,consts:[[1,"row"],["class","col-md-12 col-sm-12",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-12","col-sm-12"],[1,"form-check"],["type","radio","name","team","id","varsity",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","varsity",1,"form-check-label"],["type","radio","name","team","id","jv",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","jv",1,"form-check-label"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],[3,"click"],["colspan","5",1,"text-center","text-bold"],[1,"col-md-12"],[1,"btn","btn-sm",3,"click"]],template:function(d,v){1&d&&(o.TgZ(0,"div",0),o.YNc(1,Sn,24,6,"div",1),o.YNc(2,On,8,9,"div",2),o.qZA()),2&d&&(o.xp6(1),o.Q6J("ngIf",!v.selectedGame),o.xp6(1),o.Q6J("ngIf",v.selectedGame))},directives:[k.O5,Di,Jt,hi,mt,k.sg],pipes:[k.uU],styles:[""]}),_})();var Si=q(3820),gr=q(430);function Nn(_,m){1&_&&(o.TgZ(0,"section",2),o.TgZ(1,"div",3),o.TgZ(2,"div",4),o._uU(3," ADMINISTRATION "),o.qZA(),o.TgZ(4,"div",5),o.TgZ(5,"div",6),o.TgZ(6,"div",7),o.TgZ(7,"div",8),o.TgZ(8,"h3"),o._uU(9,"SCORE A GAME"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",6),o.TgZ(11,"div",7),o.TgZ(12,"div",8),o.TgZ(13,"h3"),o._uU(14,"ADD PHOTOS"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(15,"router-outlet"),o.qZA(),o.qZA(),o.qZA()),2&_&&(o.xp6(6),o.Q6J("routerLink","scoring"),o.xp6(5),o.Q6J("routerLink","photos"))}function Hi(_,m){if(1&_){const d=o.EpF();o.TgZ(0,"section",2),o.TgZ(1,"div",3),o.TgZ(2,"div",4),o._uU(3," PLEASE LOGIN "),o.qZA(),o.TgZ(4,"div",5),o.TgZ(5,"div",9),o.TgZ(6,"div",10),o.TgZ(7,"input",11),o.NdJ("ngModelChange",function(F){return o.CHM(d),o.oxw().credentails.email=F}),o.qZA(),o.TgZ(8,"label",12),o._uU(9,"E-Mail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",9),o.TgZ(11,"div",10),o.TgZ(12,"label",13),o._uU(13,"Password"),o.qZA(),o.TgZ(14,"input",14),o.NdJ("ngModelChange",function(F){return o.CHM(d),o.oxw().credentails.password=F}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",5),o.TgZ(16,"div",15),o.TgZ(17,"button",16),o.NdJ("click",function(){return o.CHM(d),o.oxw().login()}),o._uU(18,"Login"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&_){const d=o.oxw();o.xp6(7),o.Q6J("ngModel",d.credentails.email),o.xp6(7),o.Q6J("ngModel",d.credentails.password)}}const cl=[{path:"",component:(()=>{class _{constructor(d){this.auth=d,this.credentails={email:"",password:""}}login(){this.auth.signInWithEmailAndPassword(this.credentails.email,this.credentails.password).then(d=>{console.log(d)},d=>{console.log(d)})}logout(){this.auth.signOut()}ngOnInit(){}}return _.\u0275fac=function(d){return new(d||_)(o.Y36(Si.zQ))},_.\u0275cmp=o.Xpm({type:_,selectors:[["ng-component"]],decls:4,vars:4,consts:[["class","section-padding",4,"ngIf","ngIfElse"],["showLogin",""],[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"row"],[1,"col-md-6","col-sm-6"],["routerLinkActive","selected",1,"team-wrapper",3,"routerLink"],[1,"team-title"],[1,"col-md-6"],[1,"input-field"],["type","text","name","email","id","email",1,"validate",3,"ngModel","ngModelChange"],["for","email"],["for","password",1,"sr-only"],["id","password","type","password","name","password",1,"validate",3,"ngModel","ngModelChange"],[1,"col-md-12","text-center"],[1,"btn","btn-sm",3,"click"]],template:function(d,v){if(1&d&&(o.YNc(0,Nn,16,2,"section",0),o.ALo(1,"async"),o.YNc(2,Hi,19,2,"ng-template",null,1,o.W1O)),2&d){const F=o.MAs(3);o.Q6J("ngIf",o.lcZ(1,2,v.auth.user))("ngIfElse",F)}},directives:[k.O5,gr.Od,gr.rH,gr.lC,Jt,hi,mt],pipes:[k.Ov],styles:[""]}),_})(),children:[{path:"scoring",component:ri},{path:"photos",component:te}]}];let hr=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[gr.Bz.forChild(cl)],gr.Bz]}),_})();function lo(_){return Array.isArray(_)?_:[_]}function Zi(_){return null==_?"":"string"==typeof _?_:`${_}px`}var Vt=q(9765),Wr=q(5917),X=q(9105);function x(_,m,d,v){return(0,X.m)(d)&&(v=d,d=void 0),v?x(_,m,d).pipe((0,Ge.U)(F=>(0,Ie.k)(F)?v(...F):v(F))):new Be.y(F=>{B(_,m,function(Re){F.next(arguments.length>1?Array.prototype.slice.call(arguments):Re)},F,d)})}function B(_,m,d,v,F){let Y;if(function(_){return _&&"function"==typeof _.addEventListener&&"function"==typeof _.removeEventListener}(_)){const Re=_;_.addEventListener(m,d,F),Y=()=>Re.removeEventListener(m,d,F)}else if(function(_){return _&&"function"==typeof _.on&&"function"==typeof _.off}(_)){const Re=_;_.on(m,d),Y=()=>Re.off(m,d)}else if(function(_){return _&&"function"==typeof _.addListener&&"function"==typeof _.removeListener}(_)){const Re=_;_.addListener(m,d),Y=()=>Re.removeListener(m,d)}else{if(!_||!_.length)throw new TypeError("Invalid event target");for(let Re=0,Mt=_.length;Re<Mt;Re++)B(_[Re],m,d,v,F)}v.add(Y)}var ze=q(6465),Pt=q(6102);new class extends Pt.v{flush(m){this.active=!0,this.scheduled=void 0;const{actions:d}=this;let v,F=-1,Y=d.length;m=m||d.shift();do{if(v=m.execute(m.state,m.delay))break}while(++F<Y&&(m=d.shift()));if(this.active=!1,v){for(;++F<Y&&(m=d.shift());)m.unsubscribe();throw v}}}(class extends ze.o{constructor(m,d){super(m,d),this.scheduler=m,this.work=d}requestAsyncId(m,d,v=0){return null!==v&&v>0?super.requestAsyncId(m,d,v):(m.actions.push(this),m.scheduled||(m.scheduled=requestAnimationFrame(()=>m.flush(null))))}recycleAsyncId(m,d,v=0){if(null!==v&&v>0||null===v&&this.delay>0)return super.recycleAsyncId(m,d,v);0===m.actions.length&&(cancelAnimationFrame(d),m.scheduled=void 0)}});q(4581);var qn=q(5319);q(7519);var Mi=q(3637),Ci=q(5345);class Sr{constructor(m){this.durationSelector=m}call(m,d){return d.subscribe(new xo(m,this.durationSelector))}}class xo extends Ci.Ds{constructor(m,d){super(m),this.durationSelector=d,this.hasValue=!1}_next(m){if(this.value=m,this.hasValue=!0,!this.throttled){let d;try{const{durationSelector:F}=this;d=F(m)}catch(F){return this.destination.error(F)}const v=(0,Ci.ft)(d,new Ci.IY(this));!v||v.closed?this.clearThrottle():this.add(this.throttled=v)}}clearThrottle(){const{value:m,hasValue:d,throttled:v}=this;v&&(this.remove(v),this.throttled=void 0,v.unsubscribe()),d&&(this.value=void 0,this.hasValue=!1,this.destination.next(m))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var xs=q(6561),Yi=q(4869);function Oo(_){const{index:m,period:d,subscriber:v}=_;if(v.next(m),!v.closed){if(-1===d)return v.complete();_.index=m+1,this.schedule(_,d)}}function js(_,m=Mi.P){return function(_){return function(d){return d.lift(new Sr(_))}}(()=>function(_=0,m,d){let v=-1;return(0,xs.k)(m)?v=Number(m)<1?1:Number(m):(0,Yi.K)(m)&&(d=m),(0,Yi.K)(d)||(d=Mi.P),new Be.y(F=>{const Y=(0,xs.k)(_)?_:+_-d.now();return d.schedule(Oo,Y,{index:0,period:v,subscriber:F})})}(_,m))}var va=q(5435);class ea{constructor(m){this.notifier=m}call(m,d){const v=new Al(m),F=(0,Ci.ft)(this.notifier,new Ci.IY(v));return F&&!v.seenValue?(v.add(F),d.subscribe(v)):v}}class Al extends Ci.Ds{constructor(m){super(m),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Vr;q(9761),q(9328),q(3190),q(2066);try{Vr="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_){Vr=!1}let ys,Bn=(()=>{class _{constructor(d){this._platformId=d,this.isBrowser=this._platformId?(0,k.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vr)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(o.Lbi))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(o.Lbi))},token:_,providedIn:"root"}),_})(),ms=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({}),_})();function Wa(){if(null==ys){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ys=!1,ys;if("scrollBehavior"in document.documentElement.style)ys=!0;else{const _=Element.prototype.scrollTo;ys=!!_&&!/\{\s*\[native code\]\s*\}/.test(_.toString())}}return ys}function qs(_){return _.composedPath?_.composedPath()[0]:_.target}function Va(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const na=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(k.K0)}});let Ua=(()=>{class _{constructor(d){if(this.value="ltr",this.change=new o.vpe,d){const F=d.documentElement?d.documentElement.dir:null,Y=(d.body?d.body.dir:null)||F;this.value="ltr"===Y||"rtl"===Y?Y:"ltr"}}ngOnDestroy(){this.change.complete()}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(na,8))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(na,8))},token:_,providedIn:"root"}),_})(),hl=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({}),_})(),xt=(()=>{class _{constructor(d,v,F){this._ngZone=d,this._platform=v,this._scrolled=new Vt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=F}register(d){this.scrollContainers.has(d)||this.scrollContainers.set(d,d.elementScrolled().subscribe(()=>this._scrolled.next(d)))}deregister(d){const v=this.scrollContainers.get(d);v&&(v.unsubscribe(),this.scrollContainers.delete(d))}scrolled(d=20){return this._platform.isBrowser?new Be.y(v=>{this._globalSubscription||this._addGlobalListener();const F=d>0?this._scrolled.pipe(js(d)).subscribe(v):this._scrolled.subscribe(v);return this._scrolledCount++,()=>{F.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Wr.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((d,v)=>this.deregister(v)),this._scrolled.complete()}ancestorScrolled(d,v){const F=this.getAncestorScrollContainers(d);return this.scrolled(v).pipe((0,va.h)(Y=>!Y||F.indexOf(Y)>-1))}getAncestorScrollContainers(d){const v=[];return this.scrollContainers.forEach((F,Y)=>{this._scrollableContainsElement(Y,d)&&v.push(Y)}),v}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(d,v){let F=function(_){return _ instanceof o.SBq?_.nativeElement:_}(v),Y=d.getElementRef().nativeElement;do{if(F==Y)return!0}while(F=F.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>x(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(o.R0b),o.LFG(Bn),o.LFG(k.K0,8))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(o.R0b),o.LFG(Bn),o.LFG(k.K0,8))},token:_,providedIn:"root"}),_})(),sa=(()=>{class _{constructor(d,v,F){this._platform=d,this._change=new Vt.xQ,this._changeListener=Y=>{this._change.next(Y)},this._document=F,v.runOutsideAngular(()=>{if(d.isBrowser){const Y=this._getWindow();Y.addEventListener("resize",this._changeListener),Y.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const d=this._getWindow();d.removeEventListener("resize",this._changeListener),d.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const d={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),d}getViewportRect(){const d=this.getViewportScrollPosition(),{width:v,height:F}=this.getViewportSize();return{top:d.top,left:d.left,bottom:d.top+F,right:d.left+v,height:F,width:v}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const d=this._document,v=this._getWindow(),F=d.documentElement,Y=F.getBoundingClientRect();return{top:-Y.top||d.body.scrollTop||v.scrollY||F.scrollTop||0,left:-Y.left||d.body.scrollLeft||v.scrollX||F.scrollLeft||0}}change(d=20){return d>0?this._change.pipe(js(d)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const d=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:d.innerWidth,height:d.innerHeight}:{width:0,height:0}}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(Bn),o.LFG(o.R0b),o.LFG(k.K0,8))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(Bn),o.LFG(o.R0b),o.LFG(k.K0,8))},token:_,providedIn:"root"}),_})(),O=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({}),_})(),H=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[hl,ms,O],hl,O]}),_})();class Kn{attach(m){return this._attachedHost=m,m.attach(this)}detach(){let m=this._attachedHost;null!=m&&(this._attachedHost=null,m.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(m){this._attachedHost=m}}class en extends Kn{constructor(m,d,v,F){super(),this.component=m,this.viewContainerRef=d,this.injector=v,this.componentFactoryResolver=F}}class pi extends Kn{constructor(m,d,v){super(),this.templateRef=m,this.viewContainerRef=d,this.context=v}get origin(){return this.templateRef.elementRef}attach(m,d=this.context){return this.context=d,super.attach(m)}detach(){return this.context=void 0,super.detach()}}class xn extends Kn{constructor(m){super(),this.element=m instanceof o.SBq?m.nativeElement:m}}class fn extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(m){return m instanceof en?(this._attachedPortal=m,this.attachComponentPortal(m)):m instanceof pi?(this._attachedPortal=m,this.attachTemplatePortal(m)):this.attachDomPortal&&m instanceof xn?(this._attachedPortal=m,this.attachDomPortal(m)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(m){this._disposeFn=m}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(m,d,v,F,Y){super(),this.outletElement=m,this._componentFactoryResolver=d,this._appRef=v,this._defaultInjector=F,this.attachDomPortal=Re=>{const Mt=Re.element,Gt=this._document.createComment("dom-portal");Mt.parentNode.insertBefore(Gt,Mt),this.outletElement.appendChild(Mt),this._attachedPortal=Re,super.setDisposeFn(()=>{Gt.parentNode&&Gt.parentNode.replaceChild(Mt,Gt)})},this._document=Y}attachComponentPortal(m){const v=(m.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(m.component);let F;return m.viewContainerRef?(F=m.viewContainerRef.createComponent(v,m.viewContainerRef.length,m.injector||m.viewContainerRef.injector),this.setDisposeFn(()=>F.destroy())):(F=v.create(m.injector||this._defaultInjector),this._appRef.attachView(F.hostView),this.setDisposeFn(()=>{this._appRef.detachView(F.hostView),F.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(F)),this._attachedPortal=m,F}attachTemplatePortal(m){let d=m.viewContainerRef,v=d.createEmbeddedView(m.templateRef,m.context);return v.rootNodes.forEach(F=>this.outletElement.appendChild(F)),v.detectChanges(),this.setDisposeFn(()=>{let F=d.indexOf(v);-1!==F&&d.remove(F)}),this._attachedPortal=m,v}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(m){return m.hostView.rootNodes[0]}}let Ph=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({}),_})();var $u=q(6682),Pi=q(5257);q(7393);const Wc=Wa();class ws{constructor(m,d){this._viewportRuler=m,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=d}attach(){}enable(){if(this._canBeEnabled()){const m=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=m.style.left||"",this._previousHTMLStyles.top=m.style.top||"",m.style.left=Zi(-this._previousScrollPosition.left),m.style.top=Zi(-this._previousScrollPosition.top),m.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const m=this._document.documentElement,v=m.style,F=this._document.body.style,Y=v.scrollBehavior||"",Re=F.scrollBehavior||"";this._isEnabled=!1,v.left=this._previousHTMLStyles.left,v.top=this._previousHTMLStyles.top,m.classList.remove("cdk-global-scrollblock"),Wc&&(v.scrollBehavior=F.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wc&&(v.scrollBehavior=Y,F.scrollBehavior=Re)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const d=this._document.body,v=this._viewportRuler.getViewportSize();return d.scrollHeight>v.height||d.scrollWidth>v.width}}class Cu{constructor(m,d,v,F){this._scrollDispatcher=m,this._ngZone=d,this._viewportRuler=v,this._config=F,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(m){this._overlayRef=m}enable(){if(this._scrollSubscription)return;const m=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=m.subscribe(()=>{const d=this._viewportRuler.getViewportScrollPosition().top;Math.abs(d-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=m.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Zd{enable(){}disable(){}attach(){}}function $d(_,m){return m.some(d=>_.bottom<d.top||_.top>d.bottom||_.right<d.left||_.left>d.right)}function zd(_,m){return m.some(d=>_.top<d.top||_.bottom>d.bottom||_.left<d.left||_.right>d.right)}class ty{constructor(m,d,v,F){this._scrollDispatcher=m,this._viewportRuler=d,this._ngZone=v,this._config=F,this._scrollSubscription=null}attach(m){this._overlayRef=m}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const d=this._overlayRef.overlayElement.getBoundingClientRect(),{width:v,height:F}=this._viewportRuler.getViewportSize();$d(d,[{width:v,height:F,bottom:F,right:v,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Rf=(()=>{class _{constructor(d,v,F,Y){this._scrollDispatcher=d,this._viewportRuler=v,this._ngZone=F,this.noop=()=>new Zd,this.close=Re=>new Cu(this._scrollDispatcher,this._ngZone,this._viewportRuler,Re),this.block=()=>new ws(this._viewportRuler,this._document),this.reposition=Re=>new ty(this._scrollDispatcher,this._viewportRuler,this._ngZone,Re),this._document=Y}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(xt),o.LFG(sa),o.LFG(o.R0b),o.LFG(k.K0))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(xt),o.LFG(sa),o.LFG(o.R0b),o.LFG(k.K0))},token:_,providedIn:"root"}),_})();class yc{constructor(m){if(this.scrollStrategy=new Zd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,m){const d=Object.keys(m);for(const v of d)void 0!==m[v]&&(this[v]=m[v])}}}class Tu{constructor(m,d,v,F,Y){this.offsetX=v,this.offsetY=F,this.panelClass=Y,this.originX=m.originX,this.originY=m.originY,this.overlayX=d.overlayX,this.overlayY=d.overlayY}}class Hp{constructor(m,d){this.connectionPair=m,this.scrollableViewProperties=d}}let Wd=(()=>{class _{constructor(d){this._attachedOverlays=[],this._document=d}ngOnDestroy(){this.detach()}add(d){this.remove(d),this._attachedOverlays.push(d)}remove(d){const v=this._attachedOverlays.indexOf(d);v>-1&&this._attachedOverlays.splice(v,1),0===this._attachedOverlays.length&&this.detach()}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(k.K0))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(k.K0))},token:_,providedIn:"root"}),_})(),Gp=(()=>{class _ extends Wd{constructor(d){super(d),this._keydownListener=v=>{const F=this._attachedOverlays;for(let Y=F.length-1;Y>-1;Y--)if(F[Y]._keydownEvents.observers.length>0){F[Y]._keydownEvents.next(v);break}}}add(d){super.add(d),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(k.K0))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(k.K0))},token:_,providedIn:"root"}),_})(),po=(()=>{class _ extends Wd{constructor(d,v){super(d),this._platform=v,this._cursorStyleIsSet=!1,this._pointerDownListener=F=>{this._pointerDownEventTarget=qs(F)},this._clickListener=F=>{const Y=qs(F),Re="click"===F.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Y;this._pointerDownEventTarget=null;const Mt=this._attachedOverlays.slice();for(let Gt=Mt.length-1;Gt>-1;Gt--){const pn=Mt[Gt];if(!(pn._outsidePointerEvents.observers.length<1)&&pn.hasAttached()){if(pn.overlayElement.contains(Y)||pn.overlayElement.contains(Re))break;pn._outsidePointerEvents.next(F)}}}}add(d){if(super.add(d),!this._isAttached){const v=this._document.body;v.addEventListener("pointerdown",this._pointerDownListener,!0),v.addEventListener("click",this._clickListener,!0),v.addEventListener("auxclick",this._clickListener,!0),v.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=v.style.cursor,v.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const d=this._document.body;d.removeEventListener("pointerdown",this._pointerDownListener,!0),d.removeEventListener("click",this._clickListener,!0),d.removeEventListener("auxclick",this._clickListener,!0),d.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(d.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(k.K0),o.LFG(Bn))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(k.K0),o.LFG(Bn))},token:_,providedIn:"root"}),_})(),Cr=(()=>{class _{constructor(d,v){this._platform=v,this._document=d}ngOnDestroy(){const d=this._containerElement;d&&d.parentNode&&d.parentNode.removeChild(d)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const d="cdk-overlay-container";if(this._platform.isBrowser||Va()){const F=this._document.querySelectorAll(`.${d}[platform="server"], .${d}[platform="test"]`);for(let Y=0;Y<F.length;Y++)F[Y].parentNode.removeChild(F[Y])}const v=this._document.createElement("div");v.classList.add(d),Va()?v.setAttribute("platform","test"):this._platform.isBrowser||v.setAttribute("platform","server"),this._document.body.appendChild(v),this._containerElement=v}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(k.K0),o.LFG(Bn))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(k.K0),o.LFG(Bn))},token:_,providedIn:"root"}),_})();class kf{constructor(m,d,v,F,Y,Re,Mt,Gt,pn){this._portalOutlet=m,this._host=d,this._pane=v,this._config=F,this._ngZone=Y,this._keyboardDispatcher=Re,this._document=Mt,this._location=Gt,this._outsideClickDispatcher=pn,this._backdropElement=null,this._backdropClick=new Vt.xQ,this._attachments=new Vt.xQ,this._detachments=new Vt.xQ,this._locationChanges=qn.w.EMPTY,this._backdropClickHandler=Wn=>this._backdropClick.next(Wn),this._keydownEvents=new Vt.xQ,this._outsidePointerEvents=new Vt.xQ,F.scrollStrategy&&(this._scrollStrategy=F.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=F.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(m){let d=this._portalOutlet.attach(m);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Pi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),d}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const m=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),m}dispose(){const m=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,m&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(m){m!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=m,this.hasAttached()&&(m.attach(this),this.updatePosition()))}updateSize(m){this._config=Object.assign(Object.assign({},this._config),m),this._updateElementSize()}setDirection(m){this._config=Object.assign(Object.assign({},this._config),{direction:m}),this._updateElementDirection()}addPanelClass(m){this._pane&&this._toggleClasses(this._pane,m,!0)}removePanelClass(m){this._pane&&this._toggleClasses(this._pane,m,!1)}getDirection(){const m=this._config.direction;return m?"string"==typeof m?m:m.value:"ltr"}updateScrollStrategy(m){m!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=m,this.hasAttached()&&(m.attach(this),m.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const m=this._pane.style;m.width=Zi(this._config.width),m.height=Zi(this._config.height),m.minWidth=Zi(this._config.minWidth),m.minHeight=Zi(this._config.minHeight),m.maxWidth=Zi(this._config.maxWidth),m.maxHeight=Zi(this._config.maxHeight)}_togglePointerEvents(m){this._pane.style.pointerEvents=m?"":"none"}_attachBackdrop(){const m="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(m)})}):this._backdropElement.classList.add(m)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const m=this._backdropElement;if(!m)return;let d;const v=()=>{m&&(m.removeEventListener("click",this._backdropClickHandler),m.removeEventListener("transitionend",v),this._disposeBackdrop(m)),this._config.backdropClass&&this._toggleClasses(m,this._config.backdropClass,!1),clearTimeout(d)};m.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{m.addEventListener("transitionend",v)}),m.style.pointerEvents="none",d=this._ngZone.runOutsideAngular(()=>setTimeout(v,500))}_toggleClasses(m,d,v){const F=m.classList;lo(d).forEach(Y=>{Y&&(v?F.add(Y):F.remove(Y))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const m=this._ngZone.onStable.pipe((_=(0,$u.T)(this._attachments,this._detachments),m=>m.lift(new ea(_)))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),m.unsubscribe())});var _})}_disposeScrollStrategy(){const m=this._scrollStrategy;m&&(m.disable(),m.detach&&m.detach())}_disposeBackdrop(m){m&&(m.parentNode&&m.parentNode.removeChild(m),this._backdropElement===m&&(this._backdropElement=null))}}const Pf="cdk-overlay-connected-position-bounding-box",gi=/([A-Za-z%]+)$/;class _c{constructor(m,d,v,F,Y){this._viewportRuler=d,this._document=v,this._platform=F,this._overlayContainer=Y,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Vt.xQ,this._resizeSubscription=qn.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(m)}get positions(){return this._preferredPositions}attach(m){this._validatePositions(),m.hostElement.classList.add(Pf),this._overlayRef=m,this._boundingBox=m.hostElement,this._pane=m.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const m=this._originRect,d=this._overlayRect,v=this._viewportRect,F=[];let Y;for(let Re of this._preferredPositions){let Mt=this._getOriginPoint(m,Re),Gt=this._getOverlayPoint(Mt,d,Re),pn=this._getOverlayFit(Gt,d,v,Re);if(pn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Re,Mt);this._canFitWithFlexibleDimensions(pn,Gt,v)?F.push({position:Re,origin:Mt,overlayRect:d,boundingBoxRect:this._calculateBoundingBoxRect(Mt,Re)}):(!Y||Y.overlayFit.visibleArea<pn.visibleArea)&&(Y={overlayFit:pn,overlayPoint:Gt,originPoint:Mt,position:Re,overlayRect:d})}if(F.length){let Re=null,Mt=-1;for(const Gt of F){const pn=Gt.boundingBoxRect.width*Gt.boundingBoxRect.height*(Gt.position.weight||1);pn>Mt&&(Mt=pn,Re=Gt)}return this._isPushed=!1,void this._applyPosition(Re.position,Re.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Y.position,Y.originPoint);this._applyPosition(Y.position,Y.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ht(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Pf),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const m=this._lastPosition||this._preferredPositions[0],d=this._getOriginPoint(this._originRect,m);this._applyPosition(m,d)}}withScrollableContainers(m){return this._scrollables=m,this}withPositions(m){return this._preferredPositions=m,-1===m.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(m){return this._viewportMargin=m,this}withFlexibleDimensions(m=!0){return this._hasFlexibleDimensions=m,this}withGrowAfterOpen(m=!0){return this._growAfterOpen=m,this}withPush(m=!0){return this._canPush=m,this}withLockedPosition(m=!0){return this._positionLocked=m,this}setOrigin(m){return this._origin=m,this}withDefaultOffsetX(m){return this._offsetX=m,this}withDefaultOffsetY(m){return this._offsetY=m,this}withTransformOriginOn(m){return this._transformOriginSelector=m,this}_getOriginPoint(m,d){let v,F;if("center"==d.originX)v=m.left+m.width/2;else{const Y=this._isRtl()?m.right:m.left,Re=this._isRtl()?m.left:m.right;v="start"==d.originX?Y:Re}return F="center"==d.originY?m.top+m.height/2:"top"==d.originY?m.top:m.bottom,{x:v,y:F}}_getOverlayPoint(m,d,v){let F,Y;return F="center"==v.overlayX?-d.width/2:"start"===v.overlayX?this._isRtl()?-d.width:0:this._isRtl()?0:-d.width,Y="center"==v.overlayY?-d.height/2:"top"==v.overlayY?0:-d.height,{x:m.x+F,y:m.y+Y}}_getOverlayFit(m,d,v,F){const Y=vc(d);let{x:Re,y:Mt}=m,Gt=this._getOffset(F,"x"),pn=this._getOffset(F,"y");Gt&&(Re+=Gt),pn&&(Mt+=pn);let Zo=0-Mt,Ra=Mt+Y.height-v.height,as=this._subtractOverflows(Y.width,0-Re,Re+Y.width-v.width),Nl=this._subtractOverflows(Y.height,Zo,Ra),kc=as*Nl;return{visibleArea:kc,isCompletelyWithinViewport:Y.width*Y.height===kc,fitsInViewportVertically:Nl===Y.height,fitsInViewportHorizontally:as==Y.width}}_canFitWithFlexibleDimensions(m,d,v){if(this._hasFlexibleDimensions){const F=v.bottom-d.y,Y=v.right-d.x,Re=Kd(this._overlayRef.getConfig().minHeight),Mt=Kd(this._overlayRef.getConfig().minWidth),pn=m.fitsInViewportHorizontally||null!=Mt&&Mt<=Y;return(m.fitsInViewportVertically||null!=Re&&Re<=F)&&pn}return!1}_pushOverlayOnScreen(m,d,v){if(this._previousPushAmount&&this._positionLocked)return{x:m.x+this._previousPushAmount.x,y:m.y+this._previousPushAmount.y};const F=vc(d),Y=this._viewportRect,Re=Math.max(m.x+F.width-Y.width,0),Mt=Math.max(m.y+F.height-Y.height,0),Gt=Math.max(Y.top-v.top-m.y,0),pn=Math.max(Y.left-v.left-m.x,0);let Wn=0,mi=0;return Wn=F.width<=Y.width?pn||-Re:m.x<this._viewportMargin?Y.left-v.left-m.x:0,mi=F.height<=Y.height?Gt||-Mt:m.y<this._viewportMargin?Y.top-v.top-m.y:0,this._previousPushAmount={x:Wn,y:mi},{x:m.x+Wn,y:m.y+mi}}_applyPosition(m,d){if(this._setTransformOrigin(m),this._setOverlayElementStyles(d,m),this._setBoundingBoxStyles(d,m),m.panelClass&&this._addPanelClasses(m.panelClass),this._lastPosition=m,this._positionChanges.observers.length){const v=this._getScrollVisibility(),F=new Hp(m,v);this._positionChanges.next(F)}this._isInitialRender=!1}_setTransformOrigin(m){if(!this._transformOriginSelector)return;const d=this._boundingBox.querySelectorAll(this._transformOriginSelector);let v,F=m.overlayY;v="center"===m.overlayX?"center":this._isRtl()?"start"===m.overlayX?"right":"left":"start"===m.overlayX?"left":"right";for(let Y=0;Y<d.length;Y++)d[Y].style.transformOrigin=`${v} ${F}`}_calculateBoundingBoxRect(m,d){const v=this._viewportRect,F=this._isRtl();let Y,Re,Mt,Wn,mi,Zo;if("top"===d.overlayY)Re=m.y,Y=v.height-Re+this._viewportMargin;else if("bottom"===d.overlayY)Mt=v.height-m.y+2*this._viewportMargin,Y=v.height-Mt+this._viewportMargin;else{const Ra=Math.min(v.bottom-m.y+v.top,m.y),as=this._lastBoundingBoxSize.height;Y=2*Ra,Re=m.y-Ra,Y>as&&!this._isInitialRender&&!this._growAfterOpen&&(Re=m.y-as/2)}if("end"===d.overlayX&&!F||"start"===d.overlayX&&F)Zo=v.width-m.x+this._viewportMargin,Wn=m.x-this._viewportMargin;else if("start"===d.overlayX&&!F||"end"===d.overlayX&&F)mi=m.x,Wn=v.right-m.x;else{const Ra=Math.min(v.right-m.x+v.left,m.x),as=this._lastBoundingBoxSize.width;Wn=2*Ra,mi=m.x-Ra,Wn>as&&!this._isInitialRender&&!this._growAfterOpen&&(mi=m.x-as/2)}return{top:Re,left:mi,bottom:Mt,right:Zo,width:Wn,height:Y}}_setBoundingBoxStyles(m,d){const v=this._calculateBoundingBoxRect(m,d);!this._isInitialRender&&!this._growAfterOpen&&(v.height=Math.min(v.height,this._lastBoundingBoxSize.height),v.width=Math.min(v.width,this._lastBoundingBoxSize.width));const F={};if(this._hasExactPosition())F.top=F.left="0",F.bottom=F.right=F.maxHeight=F.maxWidth="",F.width=F.height="100%";else{const Y=this._overlayRef.getConfig().maxHeight,Re=this._overlayRef.getConfig().maxWidth;F.height=Zi(v.height),F.top=Zi(v.top),F.bottom=Zi(v.bottom),F.width=Zi(v.width),F.left=Zi(v.left),F.right=Zi(v.right),F.alignItems="center"===d.overlayX?"center":"end"===d.overlayX?"flex-end":"flex-start",F.justifyContent="center"===d.overlayY?"center":"bottom"===d.overlayY?"flex-end":"flex-start",Y&&(F.maxHeight=Zi(Y)),Re&&(F.maxWidth=Zi(Re))}this._lastBoundingBoxSize=v,ht(this._boundingBox.style,F)}_resetBoundingBoxStyles(){ht(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ht(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(m,d){const v={},F=this._hasExactPosition(),Y=this._hasFlexibleDimensions,Re=this._overlayRef.getConfig();if(F){const Wn=this._viewportRuler.getViewportScrollPosition();ht(v,this._getExactOverlayY(d,m,Wn)),ht(v,this._getExactOverlayX(d,m,Wn))}else v.position="static";let Mt="",Gt=this._getOffset(d,"x"),pn=this._getOffset(d,"y");Gt&&(Mt+=`translateX(${Gt}px) `),pn&&(Mt+=`translateY(${pn}px)`),v.transform=Mt.trim(),Re.maxHeight&&(F?v.maxHeight=Zi(Re.maxHeight):Y&&(v.maxHeight="")),Re.maxWidth&&(F?v.maxWidth=Zi(Re.maxWidth):Y&&(v.maxWidth="")),ht(this._pane.style,v)}_getExactOverlayY(m,d,v){let F={top:"",bottom:""},Y=this._getOverlayPoint(d,this._overlayRect,m);this._isPushed&&(Y=this._pushOverlayOnScreen(Y,this._overlayRect,v));let Re=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return Y.y-=Re,"bottom"===m.overlayY?F.bottom=this._document.documentElement.clientHeight-(Y.y+this._overlayRect.height)+"px":F.top=Zi(Y.y),F}_getExactOverlayX(m,d,v){let Re,F={left:"",right:""},Y=this._getOverlayPoint(d,this._overlayRect,m);return this._isPushed&&(Y=this._pushOverlayOnScreen(Y,this._overlayRect,v)),Re=this._isRtl()?"end"===m.overlayX?"left":"right":"end"===m.overlayX?"right":"left","right"===Re?F.right=this._document.documentElement.clientWidth-(Y.x+this._overlayRect.width)+"px":F.left=Zi(Y.x),F}_getScrollVisibility(){const m=this._getOriginRect(),d=this._pane.getBoundingClientRect(),v=this._scrollables.map(F=>F.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zd(m,v),isOriginOutsideView:$d(m,v),isOverlayClipped:zd(d,v),isOverlayOutsideView:$d(d,v)}}_subtractOverflows(m,...d){return d.reduce((v,F)=>v-Math.max(F,0),m)}_getNarrowedViewportRect(){const m=this._document.documentElement.clientWidth,d=this._document.documentElement.clientHeight,v=this._viewportRuler.getViewportScrollPosition();return{top:v.top+this._viewportMargin,left:v.left+this._viewportMargin,right:v.left+m-this._viewportMargin,bottom:v.top+d-this._viewportMargin,width:m-2*this._viewportMargin,height:d-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(m,d){return"x"===d?null==m.offsetX?this._offsetX:m.offsetX:null==m.offsetY?this._offsetY:m.offsetY}_validatePositions(){}_addPanelClasses(m){this._pane&&lo(m).forEach(d=>{""!==d&&-1===this._appliedPanelClasses.indexOf(d)&&(this._appliedPanelClasses.push(d),this._pane.classList.add(d))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(m=>{this._pane.classList.remove(m)}),this._appliedPanelClasses=[])}_getOriginRect(){const m=this._origin;if(m instanceof o.SBq)return m.nativeElement.getBoundingClientRect();if(m instanceof Element)return m.getBoundingClientRect();const d=m.width||0,v=m.height||0;return{top:m.y,bottom:m.y+v,left:m.x,right:m.x+d,height:v,width:d}}}function ht(_,m){for(let d in m)m.hasOwnProperty(d)&&(_[d]=m[d]);return _}function Kd(_){if("number"!=typeof _&&null!=_){const[m,d]=_.split(gi);return d&&"px"!==d?null:parseFloat(m)}return _||null}function vc(_){return{top:Math.floor(_.top),right:Math.floor(_.right),bottom:Math.floor(_.bottom),left:Math.floor(_.left),width:Math.floor(_.width),height:Math.floor(_.height)}}class Zp{constructor(m,d,v,F,Y,Re,Mt){this._preferredPositions=[],this._positionStrategy=new _c(v,F,Y,Re,Mt).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(m,d),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(m){this._overlayRef=m,this._positionStrategy.attach(m),this._direction&&(m.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(m){this._positionStrategy.withScrollableContainers(m)}withFallbackPosition(m,d,v,F){const Y=new Tu(m,d,v,F);return this._preferredPositions.push(Y),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(m){return this._overlayRef?this._overlayRef.setDirection(m):this._direction=m,this}withOffsetX(m){return this._positionStrategy.withDefaultOffsetX(m),this}withOffsetY(m){return this._positionStrategy.withDefaultOffsetY(m),this}withLockedPosition(m){return this._positionStrategy.withLockedPosition(m),this}withPositions(m){return this._preferredPositions=m.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(m){return this._positionStrategy.setOrigin(m),this}}const bi="cdk-global-overlay-wrapper";class $n{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(m){const d=m.getConfig();this._overlayRef=m,this._width&&!d.width&&m.updateSize({width:this._width}),this._height&&!d.height&&m.updateSize({height:this._height}),m.hostElement.classList.add(bi),this._isDisposed=!1}top(m=""){return this._bottomOffset="",this._topOffset=m,this._alignItems="flex-start",this}left(m=""){return this._rightOffset="",this._leftOffset=m,this._justifyContent="flex-start",this}bottom(m=""){return this._topOffset="",this._bottomOffset=m,this._alignItems="flex-end",this}right(m=""){return this._leftOffset="",this._rightOffset=m,this._justifyContent="flex-end",this}width(m=""){return this._overlayRef?this._overlayRef.updateSize({width:m}):this._width=m,this}height(m=""){return this._overlayRef?this._overlayRef.updateSize({height:m}):this._height=m,this}centerHorizontally(m=""){return this.left(m),this._justifyContent="center",this}centerVertically(m=""){return this.top(m),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const m=this._overlayRef.overlayElement.style,d=this._overlayRef.hostElement.style,v=this._overlayRef.getConfig(),{width:F,height:Y,maxWidth:Re,maxHeight:Mt}=v,Gt=!("100%"!==F&&"100vw"!==F||Re&&"100%"!==Re&&"100vw"!==Re),pn=!("100%"!==Y&&"100vh"!==Y||Mt&&"100%"!==Mt&&"100vh"!==Mt);m.position=this._cssPosition,m.marginLeft=Gt?"0":this._leftOffset,m.marginTop=pn?"0":this._topOffset,m.marginBottom=this._bottomOffset,m.marginRight=this._rightOffset,Gt?d.justifyContent="flex-start":"center"===this._justifyContent?d.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?d.justifyContent="flex-end":"flex-end"===this._justifyContent&&(d.justifyContent="flex-start"):d.justifyContent=this._justifyContent,d.alignItems=pn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const m=this._overlayRef.overlayElement.style,d=this._overlayRef.hostElement,v=d.style;d.classList.remove(bi),v.justifyContent=v.alignItems=m.marginTop=m.marginBottom=m.marginLeft=m.marginRight=m.position="",this._overlayRef=null,this._isDisposed=!0}}let bc=(()=>{class _{constructor(d,v,F,Y){this._viewportRuler=d,this._document=v,this._platform=F,this._overlayContainer=Y}global(){return new $n}connectedTo(d,v,F){return new Zp(v,F,d,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(d){return new _c(d,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(sa),o.LFG(k.K0),o.LFG(Bn),o.LFG(Cr))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(sa),o.LFG(k.K0),o.LFG(Bn),o.LFG(Cr))},token:_,providedIn:"root"}),_})(),Ec=0,ro=(()=>{class _{constructor(d,v,F,Y,Re,Mt,Gt,pn,Wn,mi,Zo){this.scrollStrategies=d,this._overlayContainer=v,this._componentFactoryResolver=F,this._positionBuilder=Y,this._keyboardDispatcher=Re,this._injector=Mt,this._ngZone=Gt,this._document=pn,this._directionality=Wn,this._location=mi,this._outsideClickDispatcher=Zo}create(d){const v=this._createHostElement(),F=this._createPaneElement(v),Y=this._createPortalOutlet(F),Re=new yc(d);return Re.direction=Re.direction||this._directionality.value,new kf(Y,v,F,Re,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(d){const v=this._document.createElement("div");return v.id="cdk-overlay-"+Ec++,v.classList.add("cdk-overlay-pane"),d.appendChild(v),v}_createHostElement(){const d=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(d),d}_createPortalOutlet(d){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new fn(d,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(Rf),o.LFG(Cr),o.LFG(o._Vd),o.LFG(bc),o.LFG(Gp),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(k.K0),o.LFG(Ua),o.LFG(k.Ye),o.LFG(po))},_.\u0275prov=o.Yz7({token:_,factory:_.\u0275fac}),_})();const wc={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ro],useFactory:function(_){return()=>_.scrollStrategies.reposition()}};let zp=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({providers:[ro,wc],imports:[[hl,Ph,H],H]}),_})();q(6215),q(3342),q(4395);let Kp=(()=>{class _{create(d){return"undefined"==typeof MutationObserver?null:new MutationObserver(d)}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275prov=o.Yz7({factory:function(){return new _},token:_,providedIn:"root"}),_})(),Jc=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({providers:[Kp]}),_})();"undefined"!=typeof Element&&Element;const Au="cdk-high-contrast-black-on-white",Xd="cdk-high-contrast-white-on-black",rd="cdk-high-contrast-active";let qo=(()=>{class _{constructor(d,v){this._platform=d,this._document=v}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const d=this._document.createElement("div");d.style.backgroundColor="rgb(1,2,3)",d.style.position="absolute",this._document.body.appendChild(d);const v=this._document.defaultView||window,F=v&&v.getComputedStyle?v.getComputedStyle(d):null,Y=(F&&F.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(d),Y){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const d=this._document.body.classList;d.remove(rd),d.remove(Au),d.remove(Xd),this._hasCheckedHighContrastMode=!0;const v=this.getHighContrastMode();1===v?(d.add(rd),d.add(Au)):2===v&&(d.add(rd),d.add(Xd))}}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(Bn),o.LFG(k.K0))},_.\u0275prov=o.Yz7({factory:function(){return new _(o.LFG(Bn),o.LFG(k.K0))},token:_,providedIn:"root"}),_})();const Yf=new o.GfV("12.2.13");q(6237);const Sc=new o.GfV("12.2.13"),th=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ma,Za=(()=>{class _{constructor(d,v,F){this._hasDoneGlobalChecks=!1,this._document=F,d._applyBodyHighContrastModeCssClasses(),this._sanityChecks=v,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(d){return!(!(0,o.X6Q)()||Va())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[d])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const d=this._document.createElement("div");d.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(d);const v=getComputedStyle(d);v&&"none"!==v.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(d)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Sc.full!==Yf.full&&console.warn("The Angular Material version ("+Sc.full+") does not match the Angular CDK version ("+Yf.full+").\nPlease ensure the versions of these two packages exactly match.")}}return _.\u0275fac=function(d){return new(d||_)(o.LFG(qo),o.LFG(th,8),o.LFG(k.K0))},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[hl],hl]}),_})();try{Ma="undefined"!=typeof Intl}catch(_){Ma=!1}let og=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[Za,ms],Za]}),_})(),Ru=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[Za]]}),_})(),oh=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[og,k.ez,Za,Ru]]}),_})();q(7238);let Mc=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[k.ez,Za,Jc],Za]}),_})();q(1439);const pp={provide:new o.OlP("mat-select-scroll-strategy"),deps:[ro],useFactory:function(_){return()=>_.scrollStrategies.reposition()}};let Vu=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({providers:[pp],imports:[[k.ez,zp,oh,Za],O,Mc,oh,Za]}),_})(),yg=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({imports:[[k.ez,hr,oe,$e,Vu]]}),_})()},2340:(ln,at,q)=>{"use strict";q.d(at,{N:()=>k});const k={firebase:{projectId:"wiregrasshockey",appId:"1:363929730770:web:1b4af1a4ba5e2d0633370b",databaseURL:"https://wiregrasshockey-default-rtdb.firebaseio.com",storageBucket:"wiregrasshockey.appspot.com",locationId:"us-east1",apiKey:"AIzaSyAou3P1tl2h2PgbtKQQub9A4Z2zIVAEkIg",authDomain:"wiregrasshockey.firebaseapp.com",messagingSenderId:"363929730770",measurementId:"G-F25DPB485K"},production:!0,CURRENT_SEASON:"2022-2023"}},8588:(ln,at,q)=>{"use strict";var k=q(9075),o=q(3018),te=q(8583),Ue=q(5917),Be=q(7574),Ie=q(4612),Ge=q(5435),Ce=q(8002);class Te{}class ue{}class he{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?this.lazyInit="string"==typeof a?()=>{this.headers=new Map,a.split("\n").forEach(c=>{const g=c.indexOf(":");if(g>0){const C=c.slice(0,g),A=C.toLowerCase(),L=c.slice(g+1).trim();this.maybeSetNormalizedName(C,A),this.headers.has(A)?this.headers.get(A).push(L):this.headers.set(A,[L])}})}:()=>{this.headers=new Map,Object.keys(a).forEach(c=>{let g=a[c];const C=c.toLowerCase();"string"==typeof g&&(g=[g]),g.length>0&&(this.headers.set(C,g),this.maybeSetNormalizedName(c,C))})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const c=this.headers.get(a.toLowerCase());return c&&c.length>0?c[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,c){return this.clone({name:a,value:c,op:"a"})}set(a,c){return this.clone({name:a,value:c,op:"s"})}delete(a,c){return this.clone({name:a,value:c,op:"d"})}maybeSetNormalizedName(a,c){this.normalizedNames.has(c)||this.normalizedNames.set(c,a)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(c=>{this.headers.set(c,a.headers.get(c)),this.normalizedNames.set(c,a.normalizedNames.get(c))})}clone(a){const c=new he;return c.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,c.lazyUpdate=(this.lazyUpdate||[]).concat([a]),c}applyUpdate(a){const c=a.name.toLowerCase();switch(a.op){case"a":case"s":let g=a.value;if("string"==typeof g&&(g=[g]),0===g.length)return;this.maybeSetNormalizedName(a.name,c);const C=("a"===a.op?this.headers.get(c):void 0)||[];C.push(...g),this.headers.set(c,C);break;case"d":const A=a.value;if(A){let L=this.headers.get(c);if(!L)return;L=L.filter(z=>-1===A.indexOf(z)),0===L.length?(this.headers.delete(c),this.normalizedNames.delete(c)):this.headers.set(c,L)}else this.headers.delete(c),this.normalizedNames.delete(c)}}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(c=>a(this.normalizedNames.get(c),this.headers.get(c)))}}class Ve{encodeKey(a){return tt(a)}encodeValue(a){return tt(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const Ke=/%(\d[a-f0-9])/gi,pt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tt(h){return encodeURIComponent(h).replace(Ke,(a,c)=>{var g;return null!==(g=pt[c])&&void 0!==g?g:a})}function ce(h){return`${h}`}class vt{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new Ve,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(h,a){const c=new Map;return h.length>0&&h.replace(/^\?/,"").split("&").forEach(C=>{const A=C.indexOf("="),[L,z]=-1==A?[a.decodeKey(C),""]:[a.decodeKey(C.slice(0,A)),a.decodeValue(C.slice(A+1))],J=c.get(L)||[];J.push(z),c.set(L,J)}),c}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(c=>{const g=a.fromObject[c];this.map.set(c,Array.isArray(g)?g:[g])})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const c=this.map.get(a);return c?c[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,c){return this.clone({param:a,value:c,op:"a"})}appendAll(a){const c=[];return Object.keys(a).forEach(g=>{const C=a[g];Array.isArray(C)?C.forEach(A=>{c.push({param:g,value:A,op:"a"})}):c.push({param:g,value:C,op:"a"})}),this.clone(c)}set(a,c){return this.clone({param:a,value:c,op:"s"})}delete(a,c){return this.clone({param:a,value:c,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const c=this.encoder.encodeKey(a);return this.map.get(a).map(g=>c+"="+this.encoder.encodeValue(g)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const c=new vt({encoder:this.encoder});return c.cloneFrom=this.cloneFrom||this,c.updates=(this.updates||[]).concat(a),c}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const c=("a"===a.op?this.map.get(a.param):void 0)||[];c.push(ce(a.value)),this.map.set(a.param,c);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let g=this.map.get(a.param)||[];const C=g.indexOf(ce(a.value));-1!==C&&g.splice(C,1),g.length>0?this.map.set(a.param,g):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class Zt{constructor(){this.map=new Map}set(a,c){return this.map.set(a,c),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}keys(){return this.map.keys()}}function Ct(h){return"undefined"!=typeof ArrayBuffer&&h instanceof ArrayBuffer}function Rt(h){return"undefined"!=typeof Blob&&h instanceof Blob}function Nt(h){return"undefined"!=typeof FormData&&h instanceof FormData}class lt{constructor(a,c,g,C){let A;if(this.url=c,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function(h){switch(h){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||C?(this.body=void 0!==g?g:null,A=C):A=g,A&&(this.reportProgress=!!A.reportProgress,this.withCredentials=!!A.withCredentials,A.responseType&&(this.responseType=A.responseType),A.headers&&(this.headers=A.headers),A.context&&(this.context=A.context),A.params&&(this.params=A.params)),this.headers||(this.headers=new he),this.context||(this.context=new Zt),this.params){const L=this.params.toString();if(0===L.length)this.urlWithParams=c;else{const z=c.indexOf("?");this.urlWithParams=c+(-1===z?"?":z<c.length-1?"&":"")+L}}else this.params=new vt,this.urlWithParams=c}serializeBody(){return null===this.body?null:Ct(this.body)||Rt(this.body)||Nt(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof vt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nt(this.body)?null:Rt(this.body)?this.body.type||null:Ct(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){var c;const g=a.method||this.method,C=a.url||this.url,A=a.responseType||this.responseType,L=void 0!==a.body?a.body:this.body,z=void 0!==a.withCredentials?a.withCredentials:this.withCredentials,J=void 0!==a.reportProgress?a.reportProgress:this.reportProgress;let re=a.headers||this.headers,Se=a.params||this.params;const He=null!==(c=a.context)&&void 0!==c?c:this.context;return void 0!==a.setHeaders&&(re=Object.keys(a.setHeaders).reduce((Pe,We)=>Pe.set(We,a.setHeaders[We]),re)),a.setParams&&(Se=Object.keys(a.setParams).reduce((Pe,We)=>Pe.set(We,a.setParams[We]),Se)),new lt(g,C,L,{params:Se,headers:re,context:He,reportProgress:J,responseType:A,withCredentials:z})}}var Dt=(()=>((Dt=Dt||{})[Dt.Sent=0]="Sent",Dt[Dt.UploadProgress=1]="UploadProgress",Dt[Dt.ResponseHeader=2]="ResponseHeader",Dt[Dt.DownloadProgress=3]="DownloadProgress",Dt[Dt.Response=4]="Response",Dt[Dt.User=5]="User",Dt))();class Qe{constructor(a,c=200,g="OK"){this.headers=a.headers||new he,this.status=void 0!==a.status?a.status:c,this.statusText=a.statusText||g,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class Je extends Qe{constructor(a={}){super(a),this.type=Dt.ResponseHeader}clone(a={}){return new Je({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class et extends Qe{constructor(a={}){super(a),this.type=Dt.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new et({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class yt extends Qe{constructor(a){super(a,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function ft(h,a){return{body:a,headers:h.headers,context:h.context,observe:h.observe,params:h.params,reportProgress:h.reportProgress,responseType:h.responseType,withCredentials:h.withCredentials}}let qt=(()=>{class h{constructor(c){this.handler=c}request(c,g,C={}){let A;if(c instanceof lt)A=c;else{let J,re;J=C.headers instanceof he?C.headers:new he(C.headers),C.params&&(re=C.params instanceof vt?C.params:new vt({fromObject:C.params})),A=new lt(c,g,void 0!==C.body?C.body:null,{headers:J,context:C.context,params:re,reportProgress:C.reportProgress,responseType:C.responseType||"json",withCredentials:C.withCredentials})}const L=(0,Ue.of)(A).pipe((0,Ie.b)(J=>this.handler.handle(J)));if(c instanceof lt||"events"===C.observe)return L;const z=L.pipe((0,Ge.h)(J=>J instanceof et));switch(C.observe||"body"){case"body":switch(A.responseType){case"arraybuffer":return z.pipe((0,Ce.U)(J=>{if(null!==J.body&&!(J.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return J.body}));case"blob":return z.pipe((0,Ce.U)(J=>{if(null!==J.body&&!(J.body instanceof Blob))throw new Error("Response is not a Blob.");return J.body}));case"text":return z.pipe((0,Ce.U)(J=>{if(null!==J.body&&"string"!=typeof J.body)throw new Error("Response is not a string.");return J.body}));default:return z.pipe((0,Ce.U)(J=>J.body))}case"response":return z;default:throw new Error(`Unreachable: unhandled observe type ${C.observe}}`)}}delete(c,g={}){return this.request("DELETE",c,g)}get(c,g={}){return this.request("GET",c,g)}head(c,g={}){return this.request("HEAD",c,g)}jsonp(c,g){return this.request("JSONP",c,{params:(new vt).append(g,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(c,g={}){return this.request("OPTIONS",c,g)}patch(c,g,C={}){return this.request("PATCH",c,ft(C,g))}post(c,g,C={}){return this.request("POST",c,ft(C,g))}put(c,g,C={}){return this.request("PUT",c,ft(C,g))}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(Te))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();class En{constructor(a,c){this.next=a,this.interceptor=c}handle(a){return this.interceptor.intercept(a,this.next)}}const Tn=new o.OlP("HTTP_INTERCEPTORS");let sr=(()=>{class h{intercept(c,g){return g.handle(c)}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();const mr=/^\)\]\}',?\n/;let Rr=(()=>{class h{constructor(c){this.xhrFactory=c}handle(c){if("JSONP"===c.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Be.y(g=>{const C=this.xhrFactory.build();if(C.open(c.method,c.urlWithParams),c.withCredentials&&(C.withCredentials=!0),c.headers.forEach((We,Ot)=>C.setRequestHeader(We,Ot.join(","))),c.headers.has("Accept")||C.setRequestHeader("Accept","application/json, text/plain, */*"),!c.headers.has("Content-Type")){const We=c.detectContentTypeHeader();null!==We&&C.setRequestHeader("Content-Type",We)}if(c.responseType){const We=c.responseType.toLowerCase();C.responseType="json"!==We?We:"text"}const A=c.serializeBody();let L=null;const z=()=>{if(null!==L)return L;const We=1223===C.status?204:C.status,Ot=C.statusText||"OK",Bt=new he(C.getAllResponseHeaders()),tn=function(h){return"responseURL"in h&&h.responseURL?h.responseURL:/^X-Request-URL:/m.test(h.getAllResponseHeaders())?h.getResponseHeader("X-Request-URL"):null}(C)||c.url;return L=new Je({headers:Bt,status:We,statusText:Ot,url:tn}),L},J=()=>{let{headers:We,status:Ot,statusText:Bt,url:tn}=z(),_n=null;204!==Ot&&(_n=void 0===C.response?C.responseText:C.response),0===Ot&&(Ot=_n?200:0);let Yn=Ot>=200&&Ot<300;if("json"===c.responseType&&"string"==typeof _n){const mn=_n;_n=_n.replace(mr,"");try{_n=""!==_n?JSON.parse(_n):null}catch(Hn){_n=mn,Yn&&(Yn=!1,_n={error:Hn,text:_n})}}Yn?(g.next(new et({body:_n,headers:We,status:Ot,statusText:Bt,url:tn||void 0})),g.complete()):g.error(new yt({error:_n,headers:We,status:Ot,statusText:Bt,url:tn||void 0}))},re=We=>{const{url:Ot}=z(),Bt=new yt({error:We,status:C.status||0,statusText:C.statusText||"Unknown Error",url:Ot||void 0});g.error(Bt)};let Se=!1;const He=We=>{Se||(g.next(z()),Se=!0);let Ot={type:Dt.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(Ot.total=We.total),"text"===c.responseType&&!!C.responseText&&(Ot.partialText=C.responseText),g.next(Ot)},Pe=We=>{let Ot={type:Dt.UploadProgress,loaded:We.loaded};We.lengthComputable&&(Ot.total=We.total),g.next(Ot)};return C.addEventListener("load",J),C.addEventListener("error",re),C.addEventListener("timeout",re),C.addEventListener("abort",re),c.reportProgress&&(C.addEventListener("progress",He),null!==A&&C.upload&&C.upload.addEventListener("progress",Pe)),C.send(A),g.next({type:Dt.Sent}),()=>{C.removeEventListener("error",re),C.removeEventListener("abort",re),C.removeEventListener("load",J),C.removeEventListener("timeout",re),c.reportProgress&&(C.removeEventListener("progress",He),null!==A&&C.upload&&C.upload.removeEventListener("progress",Pe)),C.readyState!==C.DONE&&C.abort()}})}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(te.JF))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();const Un=new o.OlP("XSRF_COOKIE_NAME"),Qn=new o.OlP("XSRF_HEADER_NAME");class yr{}let vn=(()=>{class h{constructor(c,g,C){this.doc=c,this.platform=g,this.cookieName=C,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const c=this.doc.cookie||"";return c!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te.Mx)(c,this.cookieName),this.lastCookieString=c),this.lastToken}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(te.K0),o.LFG(o.Lbi),o.LFG(Un))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})(),dr=(()=>{class h{constructor(c,g){this.tokenService=c,this.headerName=g}intercept(c,g){const C=c.url.toLowerCase();if("GET"===c.method||"HEAD"===c.method||C.startsWith("http://")||C.startsWith("https://"))return g.handle(c);const A=this.tokenService.getToken();return null!==A&&!c.headers.has(this.headerName)&&(c=c.clone({headers:c.headers.set(this.headerName,A)})),g.handle(c)}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(yr),o.LFG(Qn))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})(),kr=(()=>{class h{constructor(c,g){this.backend=c,this.injector=g,this.chain=null}handle(c){if(null===this.chain){const g=this.injector.get(Tn,[]);this.chain=g.reduceRight((C,A)=>new En(C,A),this.backend)}return this.chain.handle(c)}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(ue),o.LFG(o.zs3))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})(),tr=(()=>{class h{static disable(){return{ngModule:h,providers:[{provide:dr,useClass:sr}]}}static withOptions(c={}){return{ngModule:h,providers:[c.cookieName?{provide:Un,useValue:c.cookieName}:[],c.headerName?{provide:Qn,useValue:c.headerName}:[]]}}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({providers:[dr,{provide:Tn,useExisting:dr,multi:!0},{provide:yr,useClass:vn},{provide:Un,useValue:"XSRF-TOKEN"},{provide:Qn,useValue:"X-XSRF-TOKEN"}]}),h})(),Br=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({providers:[qt,{provide:Te,useClass:kr},Rr,{provide:ue,useExisting:Rr}],imports:[[tr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),h})();var cn=q(5361),Zr=q(3190),oi=q(7393),$r=q(5319),Tr=q(9765);class rn{constructor(a,c,g,C){this.keySelector=a,this.elementSelector=c,this.durationSelector=g,this.subjectSelector=C}call(a,c){return c.subscribe(new fr(a,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class fr extends oi.L{constructor(a,c,g,C,A){super(a),this.keySelector=c,this.elementSelector=g,this.durationSelector=C,this.subjectSelector=A,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(a){let c;try{c=this.keySelector(a)}catch(g){return void this.error(g)}this._group(a,c)}_group(a,c){let g=this.groups;g||(g=this.groups=new Map);let A,C=g.get(c);if(this.elementSelector)try{A=this.elementSelector(a)}catch(L){this.error(L)}else A=a;if(!C){C=this.subjectSelector?this.subjectSelector():new Tr.xQ,g.set(c,C);const L=new yi(c,C,this);if(this.destination.next(L),this.durationSelector){let z;try{z=this.durationSelector(new yi(c,C))}catch(J){return void this.error(J)}this.add(z.subscribe(new Xi(c,C,this)))}}C.closed||C.next(A)}_error(a){const c=this.groups;c&&(c.forEach((g,C)=>{g.error(a)}),c.clear()),this.destination.error(a)}_complete(){const a=this.groups;a&&(a.forEach((c,g)=>{c.complete()}),a.clear()),this.destination.complete()}removeGroup(a){this.groups.delete(a)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Xi extends oi.L{constructor(a,c,g){super(c),this.key=a,this.group=c,this.parent=g}_next(a){this.complete()}_unsubscribe(){const{parent:a,key:c}=this;this.key=this.parent=null,a&&a.removeGroup(c)}}class yi extends Be.y{constructor(a,c,g){super(),this.key=a,this.groupSubject=c,this.refCountSubscription=g}_subscribe(a){const c=new $r.w,{refCountSubscription:g,groupSubject:C}=this;return g&&!g.closed&&c.add(new Or(g)),c.add(C.subscribe(a)),c}}class Or extends $r.w{constructor(a){super(),this.parent=a,a.count++}unsubscribe(){const a=this.parent;!a.closed&&!this.closed&&(super.unsubscribe(),a.count-=1,0===a.count&&a.attemptedToUnsubscribe&&a.unsubscribe())}}var Rn=q(9773),zr=q(7519),lr=q(9761),_i=q(9328),Le=(q(127),q(2329));var Jn=q(430),Ae=q(6917),dt=q(708),kt=q(3854),In=q(8026),ur=(q(5422),q(3910));function Ye(h){return new Be.y(function(a){return{unsubscribe:(0,dt.v)(h,a.next.bind(a),a.error.bind(a),a.complete.bind(a))}})}class bt{constructor(a){return a}}const an=(0,cn.u3)(Ye,!0);class oe{constructor(a){return a}}const ae=cn.nk.async,jt=(0,cn.u3)(Ae.Kz,!0),ri=(0,cn.u3)(Ae.Iv,!0);let gr=(()=>{class h{constructor(c,g,C){let A;this.disposables=[],(0,Le.KN)("angularfire",cn.q4.full,"user-tracking"),this.initialized=g.runOutsideAngular(()=>new Promise(L=>{A=L})),ae().then(()=>{const L=C.get(oe);L?this.disposables=[an(c).subscribe(z=>{ri(L,null==z?void 0:z.uid),A()})]:A()})}ngOnDestroy(){this.disposables.forEach(c=>c.unsubscribe())}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(bt),o.LFG(o.R0b),o.LFG(o.zs3))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();const Do="firebase_screen_id",hr="outlet",no="screen_class",lo="screen_name";let Vt=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Wr={},X=h=>{const a=[h[no],h[hr]].join("#");if(Wr.hasOwnProperty(a))return Wr[a];{const c=Vt++;return Wr[a]=c,c}};let x=(()=>{class h{constructor(c,g,C,A,L,z){(0,Le.KN)("angularfire",cn.q4.full,"screen-tracking"),ae().then(()=>{const J=z.get(oe);!c||!J||A.runOutsideAngular(()=>{this.disposable=((h,a,c)=>h.events.pipe((0,Ge.h)(C=>C instanceof Jn.jw)).pipe((0,Zr.w)(C=>{var A;const z=(null===(A=h.parseUrl(h.url.replace(/(?:\().+(?:\))/g,We=>We.replace("://",":///"))).root.children[C.snapshot.outlet])||void 0===A?void 0:A.toString())||"",J=h.routerState.root.children.map(We=>We).find(We=>We.outlet===C.snapshot.outlet);if(!J)return(0,Ue.of)(null);let re=J;for(;re.firstChild;)re=re.firstChild;const Se=re.pathFromRoot.map(We=>{var Ot;return null===(Ot=We.routeConfig)||void 0===Ot?void 0:Ot.path}).filter(We=>We).join("/")||"/",He={[lo]:Se,page_path:`/${z}`,firebase_event_origin:"auto",firebase_screen:Se,[hr]:C.snapshot.outlet};a&&(He.page_title=a.getTitle());let Pe=J.component;if(Pe){if(Pe===Jn.fw){let We=C.snapshot;for(;We.firstChild;)We=We.firstChild;Pe=We.component}}else Pe=C.snapshot.component;if("string"==typeof Pe)return(0,Ue.of)(Object.assign(Object.assign({},He),{[no]:Pe}));if(Pe){const We=c.resolveComponentFactory(Pe);return(0,Ue.of)(Object.assign(Object.assign({},He),{[no]:We.selector}))}return(0,Ue.of)(null)}),(0,Ge.h)(C=>!!C),(0,Ce.U)(C=>Object.assign({firebase_screen_class:C[no],[Do]:X(C)},C)),function(h,a,c,g){return C=>C.lift(new rn(h,void 0,void 0,void 0))}(C=>C[hr]),(0,Rn.zg)(C=>C.pipe((0,zr.x)((A,L)=>JSON.stringify(A)===JSON.stringify(L)),(0,lr.O)(void 0),(0,_i.G)(),(0,Ce.U)(([A,L])=>A?Object.assign({firebase_previous_class:A[no],firebase_previous_screen:A[lo],firebase_previous_id:A[Do]},L):L)))))(c,g,C).pipe((0,Zr.w)(re=>function(h,a,c,g){return new(c||(c=Promise))(function(A,L){function z(Se){try{re(g.next(Se))}catch(He){L(He)}}function J(Se){try{re(g.throw(Se))}catch(He){L(He)}}function re(Se){Se.done?A(Se.value):function(A){return A instanceof c?A:new c(function(L){L(A)})}(Se.value).then(z,J)}re((g=g.apply(h,a||[])).next())})}(this,void 0,void 0,function*(){return L&&(yield L.initialized),jt(J,"screen_view",re)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(Jn.F0,8),o.LFG(k.Dx,8),o.LFG(o._Vd),o.LFG(o.R0b),o.LFG(gr,8),o.LFG(o.zs3))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();var hn=q(8939),Dn=q(3820),nr=q(4402),ii=q(4395),qn=q(3394),ar=q(8239);const Hr="firebasestorage.googleapis.com",Mi="storageBucket";class Sr extends kt.ZR{constructor(a,c){super(xo(a),`Firebase Storage: ${c} (${xo(a)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}_codeEquals(a){return xo(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xo(h){return"storage/"+h}function xs(){return new Sr("unknown","An unknown error occurred, please check the error payload for server response.")}function ea(){return new Sr("canceled","User canceled the upload/download.")}function rr(){return new Sr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bn(h){return new Sr("invalid-argument",h)}function ms(){return new Sr("app-deleted","The Firebase app was deleted.")}function Ri(h){return new Sr("invalid-root-operation","The operation '"+h+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $i(h,a){return new Sr("invalid-format","String does not match format '"+h+"': "+a)}function ki(h){throw new Sr("internal-error","Internal error: "+h)}class rs{constructor(a,c){this.bucket=a,this.path_=c}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,c){let g;try{g=rs.makeFromUrl(a,c)}catch(C){return new rs(a,"")}if(""===g.path)return g;throw new Sr("invalid-default-bucket","Invalid default bucket '"+a+"'.")}static makeFromUrl(a,c){let g=null;const C="([A-Za-z0-9.\\-_]+)",z=new RegExp("^gs://"+C+"(/(.*))?$","i");function re(Hn){Hn.path_=decodeURIComponent(Hn.path)}const He=c.replace(/[.]/g,"\\."),mn=[{regex:z,indices:{bucket:1,path:3},postModify:function(Hn){"/"===Hn.path.charAt(Hn.path.length-1)&&(Hn.path_=Hn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${He}/v[A-Za-z0-9_]+/b/${C}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:re},{regex:new RegExp(`^https?://${c===Hr?"(?:storage.googleapis.com|storage.cloud.google.com)":c}/${C}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:re}];for(let Hn=0;Hn<mn.length;Hn++){const Mr=mn[Hn],Dr=Mr.regex.exec(a);if(Dr){let Xr=Dr[Mr.indices.path];Xr||(Xr=""),g=new rs(Dr[Mr.indices.bucket],Xr),Mr.postModify(g);break}}if(null==g)throw new Sr("invalid-url","Invalid URL '"+a+"'.");return g}}class Ys{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function Hs(h){return"string"==typeof h||h instanceof String}function Vo(h){return ba()&&h instanceof Blob}function ba(){return"undefined"!=typeof Blob}function Ea(h,a,c,g){if(g<a)throw Bn(`Invalid value for '${h}'. Expected ${a} or greater.`);if(g>c)throw Bn(`Invalid value for '${h}'. Expected ${c} or less.`)}function qs(h,a,c){let g=a;return null==c&&(g=`https://${a}`),`${c}://${g}/v0${h}`}function Va(h){const a=encodeURIComponent;let c="?";for(const g in h)h.hasOwnProperty(g)&&(c=c+(a(g)+"=")+a(h[g])+"&");return c=c.slice(0,-1),c}var na=(()=>{return(h=na||(na={}))[h.NO_ERROR=0]="NO_ERROR",h[h.NETWORK_ERROR=1]="NETWORK_ERROR",h[h.ABORT=2]="ABORT",na;var h})();class fu{constructor(a,c,g,C,A,L,z,J,re,Se,He){this.url_=a,this.method_=c,this.headers_=g,this.body_=C,this.successCodes_=A,this.additionalRetryCodes_=L,this.callback_=z,this.errorCallback_=J,this.timeout_=re,this.progressCallback_=Se,this.connectionFactory_=He,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Pe,We)=>{this.resolve_=Pe,this.reject_=We,this.start_()})}start_(){const c=(g,C)=>{const A=this.resolve_,L=this.reject_,z=C.connection;if(C.wasSuccessCode)try{const J=this.callback_(z,z.getResponse());void 0!==J?A(J):A()}catch(J){L(J)}else if(null!==z){const J=xs();J.serverResponse=z.getErrorText(),L(this.errorCallback_?this.errorCallback_(z,J):J)}else L(C.canceled?this.appDelete_?ms():ea():new Sr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?c(0,new Ua(!1,null,!0)):this.backoffId_=function(h,a,c){let g=1,C=null,A=null,L=!1,z=0;function J(){return 2===z}let re=!1;function Se(...tn){re||(re=!0,a.apply(null,tn))}function He(tn){C=setTimeout(()=>{C=null,h(We,J())},tn)}function Pe(){A&&clearTimeout(A)}function We(tn,..._n){if(re)return void Pe();if(tn)return Pe(),void Se.call(null,tn,..._n);if(J()||L)return Pe(),void Se.call(null,tn,..._n);let mn;g<64&&(g*=2),1===z?(z=2,mn=0):mn=1e3*(g+Math.random()),He(mn)}let Ot=!1;function Bt(tn){Ot||(Ot=!0,Pe(),!re&&(null!==C?(tn||(z=2),clearTimeout(C),He(0)):tn||(z=1)))}return He(0),A=setTimeout(()=>{L=!0,Bt(!0)},c),Bt}((g,C)=>{if(C)return void g(!1,new Ua(!1,null,!0));const A=this.connectionFactory_();this.pendingConnection_=A;const L=z=>{null!==this.progressCallback_&&this.progressCallback_(z.loaded,z.lengthComputable?z.total:-1)};null!==this.progressCallback_&&A.addUploadProgressListener(L),A.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&A.removeUploadProgressListener(L),this.pendingConnection_=null;const z=A.getErrorCode()===na.NO_ERROR,J=A.getStatus();if(!z||this.isRetryStatusCode_(J)){const Se=A.getErrorCode()===na.ABORT;return void g(!1,new Ua(!1,null,Se))}const re=-1!==this.successCodes_.indexOf(J);g(!0,new Ua(re,A))})},c,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(a){const c=a>=500&&a<600,C=-1!==[408,429].indexOf(a),A=-1!==this.additionalRetryCodes_.indexOf(a);return c||C||A}}class Ua{constructor(a,c,g){this.wasSuccessCode=a,this.connection=c,this.canceled=!!g}}function Uo(...h){const a="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==a){const c=new a;for(let g=0;g<h.length;g++)c.append(h[g]);return c.getBlob()}if(ba())return new Blob(h);throw new Sr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ia={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xt{constructor(a,c){this.data=a,this.contentType=c||null}}function zi(h,a){switch(h){case ia.RAW:return new Xt(Mo(a));case ia.BASE64:case ia.BASE64URL:return new Xt(Fn(h,a));case ia.DATA_URL:return new Xt(function(h){const a=new vr(h);return a.base64?Fn(ia.BASE64,a.rest):function(h){let a;try{a=decodeURIComponent(h)}catch(c){throw $i(ia.DATA_URL,"Malformed data URL.")}return Mo(a)}(a.rest)}(a),function(h){return new vr(h).contentType}(a))}throw xs()}function Mo(h){const a=[];for(let c=0;c<h.length;c++){let g=h.charCodeAt(c);g<=127?a.push(g):g<=2047?a.push(192|g>>6,128|63&g):55296==(64512&g)?c<h.length-1&&56320==(64512&h.charCodeAt(c+1))?(g=65536|(1023&g)<<10|1023&h.charCodeAt(++c),a.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|63&g)):a.push(239,191,189):56320==(64512&g)?a.push(239,191,189):a.push(224|g>>12,128|g>>6&63,128|63&g)}return new Uint8Array(a)}function Fn(h,a){switch(h){case ia.BASE64:{const C=-1!==a.indexOf("-"),A=-1!==a.indexOf("_");if(C||A)throw $i(h,"Invalid character '"+(C?"-":"_")+"' found: is it base64url encoded?");break}case ia.BASE64URL:{const C=-1!==a.indexOf("+"),A=-1!==a.indexOf("/");if(C||A)throw $i(h,"Invalid character '"+(C?"+":"/")+"' found: is it base64 encoded?");a=a.replace(/-/g,"+").replace(/_/g,"/");break}}let c;try{c=function(h){return atob(h)}(a)}catch(C){throw $i(h,"Invalid character found")}const g=new Uint8Array(c.length);for(let C=0;C<c.length;C++)g[C]=c.charCodeAt(C);return g}class vr{constructor(a){this.base64=!1,this.contentType=null;const c=a.match(/^data:([^,]+)?,/);if(null===c)throw $i(ia.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const g=c[1]||null;null!=g&&(this.base64=function(h,a){return h.length>=a.length&&h.substring(h.length-a.length)===a}(g,";base64"),this.contentType=this.base64?g.substring(0,g.length-";base64".length):g),this.rest=a.substring(a.indexOf(",")+1)}}class $t{constructor(a,c){let g=0,C="";Vo(a)?(this.data_=a,g=a.size,C=a.type):a instanceof ArrayBuffer?(c?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),g=this.data_.length):a instanceof Uint8Array&&(c?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),g=a.length),this.size_=g,this.type_=C}size(){return this.size_}type(){return this.type_}slice(a,c){if(Vo(this.data_)){const C=function(h,a,c){return h.webkitSlice?h.webkitSlice(a,c):h.mozSlice?h.mozSlice(a,c):h.slice?h.slice(a,c):null}(this.data_,a,c);return null===C?null:new $t(C)}{const g=new Uint8Array(this.data_.buffer,a,c-a);return new $t(g,!0)}}static getBlob(...a){if(ba()){const c=a.map(g=>g instanceof $t?g.data_:g);return new $t(Uo.apply(null,c))}{const c=a.map(L=>Hs(L)?zi(ia.RAW,L).data:L.data_);let g=0;c.forEach(L=>{g+=L.byteLength});const C=new Uint8Array(g);let A=0;return c.forEach(L=>{for(let z=0;z<L.length;z++)C[A++]=L[z]}),new $t(C,!0)}}uploadData(){return this.data_}}function cs(h){let a;try{a=JSON.parse(h)}catch(c){return null}return function(h){return"object"==typeof h&&!Array.isArray(h)}(a)?a:null}function jc(h){const a=h.lastIndexOf("/",h.length-2);return-1===a?h:h.slice(a+1)}function Md(h,a){return a}class U{constructor(a,c,g,C){this.server=a,this.local=c||a,this.writable=!!g,this.xform=C||Md}}let M=null;function H(){if(M)return M;const h=[];h.push(new U("bucket")),h.push(new U("generation")),h.push(new U("metageneration")),h.push(new U("name","fullPath",!0));const c=new U("name");c.xform=function(A,L){return function(h){return!Hs(h)||h.length<2?h:jc(h)}(L)},h.push(c);const C=new U("size");return C.xform=function(A,L){return void 0!==L?Number(L):L},h.push(C),h.push(new U("timeCreated")),h.push(new U("updated")),h.push(new U("md5Hash",null,!0)),h.push(new U("cacheControl",null,!0)),h.push(new U("contentDisposition",null,!0)),h.push(new U("contentEncoding",null,!0)),h.push(new U("contentLanguage",null,!0)),h.push(new U("contentType",null,!0)),h.push(new U("metadata","customMetadata",!0)),M=h,M}function Me(h,a,c){const g=cs(a);return null===g?null:function(h,a,c){const g={type:"file"},C=c.length;for(let A=0;A<C;A++){const L=c[A];g[L.local]=L.xform(g,a[L.server])}return function(h,a){Object.defineProperty(h,"ref",{get:function(){const A=new rs(h.bucket,h.fullPath);return a._makeStorageReference(A)}})}(g,h),g}(h,g,c)}function Ht(h,a){const c={},g=a.length;for(let C=0;C<g;C++){const A=a[C];A.writable&&(c[A.server]=h[A.local])}return JSON.stringify(c)}const Ln="prefixes";class xn{constructor(a,c,g,C){this.url=a,this.method=c,this.handler=g,this.timeout=C,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function is(h){if(!h)throw xs()}function Qr(h,a){return function(g,C){const A=Me(h,C,a);return is(null!==A),A}}function Qs(h){return function(c,g){let C;return C=401===c.getStatus()?c.getErrorText().includes("Firebase App Check token is invalid")?new Sr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Sr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===c.getStatus()?function(h){return new Sr("quota-exceeded","Quota for bucket '"+h+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(h.bucket):403===c.getStatus()?function(h){return new Sr("unauthorized","User does not have permission to access '"+h+"'.")}(h.path):g,C.serverResponse=g.serverResponse,C}}function ss(h){const a=Qs(h);return function(g,C){let A=a(g,C);return 404===g.getStatus()&&(A=function(h){return new Sr("object-not-found","Object '"+h+"' does not exist.")}(h.path)),A.serverResponse=C.serverResponse,A}}function Zu(h,a,c){const C=qs(a.fullServerUrl(),h.host,h._protocol),L=h.maxOperationRetryTime,z=new xn(C,"GET",Qr(h,c),L);return z.errorHandler=ss(a),z}function Rd(h,a,c,g,C){const A={};A.prefix=a.isRoot?"":a.path+"/",c&&c.length>0&&(A.delimiter=c),g&&(A.pageToken=g),C&&(A.maxResults=C);const z=qs(a.bucketOnlyServerUrl(),h.host,h._protocol),re=h.maxOperationRetryTime,Se=new xn(z,"GET",function(h,a){return function(g,C){const A=function(h,a,c){const g=cs(c);return null===g?null:function(h,a,c){const g={prefixes:[],items:[],nextPageToken:c.nextPageToken};if(c[Ln])for(const C of c[Ln]){const A=C.replace(/\/$/,""),L=h._makeStorageReference(new rs(a,A));g.prefixes.push(L)}if(c.items)for(const C of c.items){const A=h._makeStorageReference(new rs(a,C.name));g.items.push(A)}return g}(h,a,g)}(h,a,C);return is(null!==A),A}}(h,a.bucket),re);return Se.urlParams=A,Se.errorHandler=Qs(a),Se}function pu(h,a,c){const g=Object.assign({},c);return g.fullPath=h.path,g.size=a.size(),g.contentType||(g.contentType=function(h,a){return a&&a.type()||"application/octet-stream"}(0,a)),g}class zu{constructor(a,c,g,C){this.current=a,this.total=c,this.finalized=!!g,this.metadata=C||null}}function Bl(h,a){let c=null;try{c=h.getResponseHeader("X-Goog-Upload-Status")}catch(C){is(!1)}return is(!!c&&-1!==(a||["active"]).indexOf(c)),c}const Fh={STATE_CHANGED:"state_changed"},ho={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Js(h){switch(h){case"running":case"pausing":case"canceling":return ho.RUNNING;case"paused":return ho.PAUSED;case"success":return ho.SUCCESS;case"canceled":return ho.CANCELED;default:return ho.ERROR}}class Sf{constructor(a,c,g){if("function"==typeof a||null!=c||null!=g)this.next=a,this.error=null!=c?c:void 0,this.complete=null!=g?g:void 0;else{const A=a;this.next=A.next,this.error=A.error,this.complete=A.complete}}}function Fi(h){return(...a)=>{Promise.resolve().then(()=>h(...a))}}class If extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=na.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=na.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=na.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(a,c,g,C){if(this.sent_)throw ki("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(c,a,!0),void 0!==C)for(const A in C)C.hasOwnProperty(A)&&this.xhr_.setRequestHeader(A,C[A].toString());return void 0!==g?this.xhr_.send(g):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ki("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ki("cannot .getStatus() before sending");try{return this.xhr_.status}catch(a){return-1}}getResponse(){if(!this.sent_)throw ki("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ki("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(a){return this.xhr_.getResponseHeader(a)}addUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)}removeUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)}}{initXhr(){this.xhr_.responseType="text"}}function Ka(){return new If}class Ti{constructor(a,c,g=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=c,this._metadata=g,this._mappings=H(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=C=>{this._request=void 0,this._chunkMultiplier=1,C._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=C,this._transition("error"))},this._metadataErrorHandler=C=>{this._request=void 0,C._codeEquals("canceled")?this.completeTransitions_():(this._error=C,this._transition("error"))},this._promise=new Promise((C,A)=>{this._resolve=C,this._reject=A,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const a=this._transferred;return c=>this._updateProgress(a+c)}_shouldDoResumable(a){return a.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(a){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([c,g])=>{switch(this._state){case"running":a(c,g);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((a,c)=>{const g=function(h,a,c,g,C){const A=a.bucketOnlyServerUrl(),L=pu(a,g,C),z={name:L.fullPath},J=qs(A,h.host,h._protocol),Se={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${g.size()}`,"X-Goog-Upload-Header-Content-Type":L.contentType,"Content-Type":"application/json; charset=utf-8"},He=Ht(L,c),Ot=new xn(J,"POST",function(Bt){let tn;Bl(Bt);try{tn=Bt.getResponseHeader("X-Goog-Upload-URL")}catch(_n){is(!1)}return is(Hs(tn)),tn},h.maxUploadRetryTime);return Ot.urlParams=z,Ot.headers=Se,Ot.body=He,Ot.errorHandler=Qs(a),Ot}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),C=this._ref.storage._makeRequest(g,Ka,a,c);this._request=C,C.getPromise().then(A=>{this._request=void 0,this._uploadUrl=A,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const a=this._uploadUrl;this._resolveToken((c,g)=>{const C=function(h,a,c,g){const J=new xn(c,"POST",function(re){const Se=Bl(re,["active","final"]);let He=null;try{He=re.getResponseHeader("X-Goog-Upload-Size-Received")}catch(We){is(!1)}He||is(!1);const Pe=Number(He);return is(!isNaN(Pe)),new zu(Pe,g.size(),"final"===Se)},h.maxUploadRetryTime);return J.headers={"X-Goog-Upload-Command":"query"},J.errorHandler=Qs(a),J}(this._ref.storage,this._ref._location,a,this._blob),A=this._ref.storage._makeRequest(C,Ka,c,g);this._request=A,A.getPromise().then(L=>{this._request=void 0,this._updateProgress(L.current),this._needToFetchStatus=!1,L.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const a=262144*this._chunkMultiplier,c=new zu(this._transferred,this._blob.size()),g=this._uploadUrl;this._resolveToken((C,A)=>{let L;try{L=function(h,a,c,g,C,A,L,z){const J=new zu(0,0);if(L?(J.current=L.current,J.total=L.total):(J.current=0,J.total=g.size()),g.size()!==J.total)throw new Sr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const re=J.total-J.current;let Se=re;C>0&&(Se=Math.min(Se,C));const He=J.current,Ot={"X-Goog-Upload-Command":Se===re?"upload, finalize":"upload","X-Goog-Upload-Offset":`${J.current}`},Bt=g.slice(He,He+Se);if(null===Bt)throw rr();const mn=new xn(c,"POST",function(Hn,Mr){const Dr=Bl(Hn,["active","final"]),Ur=J.current+Se,Xr=g.size();let mo;return mo="final"===Dr?Qr(a,A)(Hn,Mr):null,new zu(Ur,Xr,"final"===Dr,mo)},a.maxUploadRetryTime);return mn.headers=Ot,mn.body=Bt.uploadData(),mn.progressCallback=z||null,mn.errorHandler=Qs(h),mn}(this._ref._location,this._ref.storage,g,this._blob,a,this._mappings,c,this._makeProgressCallback())}catch(J){return this._error=J,void this._transition("error")}const z=this._ref.storage._makeRequest(L,Ka,C,A);this._request=z,z.getPromise().then(J=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(J.current),J.finalized?(this._metadata=J.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((a,c)=>{const g=Zu(this._ref.storage,this._ref._location,this._mappings),C=this._ref.storage._makeRequest(g,Ka,a,c);this._request=C,C.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((a,c)=>{const g=function(h,a,c,g,C){const A=a.bucketOnlyServerUrl(),L={"X-Goog-Upload-Protocol":"multipart"},J=function(){let mn="";for(let Hn=0;Hn<2;Hn++)mn+=Math.random().toString().slice(2);return mn}();L["Content-Type"]="multipart/related; boundary="+J;const re=pu(a,g,C),Se=Ht(re,c),We=$t.getBlob("--"+J+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Se+"\r\n--"+J+"\r\nContent-Type: "+re.contentType+"\r\n\r\n",g,"\r\n--"+J+"--");if(null===We)throw rr();const Ot={name:re.fullPath},Bt=qs(A,h.host,h._protocol),_n=h.maxUploadRetryTime,Yn=new xn(Bt,"POST",Qr(h,c),_n);return Yn.urlParams=Ot,Yn.headers=L,Yn.body=We.uploadData(),Yn.errorHandler=Qs(a),Yn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),C=this._ref.storage._makeRequest(g,Ka,a,c);this._request=C,C.getPromise().then(A=>{this._request=void 0,this._metadata=A,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(a){const c=this._transferred;this._transferred=a,this._transferred!==c&&this._notifyObservers()}_transition(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request&&this._request.cancel();break;case"running":const c="paused"===this._state;this._state=a,c&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=ea(),this._state=a,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const a=Js(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}}on(a,c,g,C){const A=new Sf(c||void 0,g||void 0,C||void 0);return this._addObserver(A),()=>{this._removeObserver(A)}}then(a,c){return this._promise.then(a,c)}catch(a){return this.then(null,a)}_addObserver(a){this._observers.push(a),this._notifyObserver(a)}_removeObserver(a){const c=this._observers.indexOf(a);-1!==c&&this._observers.splice(c,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(c=>{this._notifyObserver(c)})}_finishPromise(){if(void 0!==this._resolve){let a=!0;switch(Js(this._state)){case ho.SUCCESS:Fi(this._resolve.bind(null,this.snapshot))();break;case ho.CANCELED:case ho.ERROR:Fi(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(a){switch(Js(this._state)){case ho.RUNNING:case ho.PAUSED:a.next&&Fi(a.next.bind(a,this.snapshot))();break;case ho.SUCCESS:a.complete&&Fi(a.complete.bind(a))();break;default:a.error&&Fi(a.error.bind(a,this._error))()}}resume(){const a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a}pause(){const a="running"===this._state;return a&&this._transition("pausing"),a}cancel(){const a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a}}class Ta{constructor(a,c){this._service=a,this._location=c instanceof rs?c:rs.makeFromUrl(c,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,c){return new Ta(a,c)}get root(){const a=new rs(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jc(this._location.path)}get storage(){return this._service}get parent(){const a=function(h){if(0===h.length)return null;const a=h.lastIndexOf("/");return-1===a?"":h.slice(0,a)}(this._location.path);if(null===a)return null;const c=new rs(this._location.bucket,a);return new Ta(this._service,c)}_throwIfRoot(a){if(""===this._location.path)throw Ri(a)}}function bs(h,a,c){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,ar.Z)(function*(h,a,c){const C=yield Ml(h,{pageToken:c});a.prefixes.push(...C.prefixes),a.items.push(...C.items),null!=C.nextPageToken&&(yield bs(h,a,C.nextPageToken))})).apply(this,arguments)}function Ml(h,a){null!=a&&"number"==typeof a.maxResults&&Ea("options.maxResults",1,1e3,a.maxResults);const c=a||{},g=Rd(h.storage,h._location,"/",c.pageToken,c.maxResults);return h.storage.makeRequestWithTokens(g,Ka)}function Nd(h){h._throwIfRoot("getDownloadURL");const a=function(h,a,c){const C=qs(a.fullServerUrl(),h.host,h._protocol),L=h.maxOperationRetryTime,z=new xn(C,"GET",function(h,a){return function(g,C){const A=Me(h,C,a);return is(null!==A),function(h,a,c,g){const C=cs(a);if(null===C||!Hs(C.downloadTokens))return null;const A=C.downloadTokens;if(0===A.length)return null;const L=encodeURIComponent;return A.split(",").map(re=>{const He=h.fullPath;return qs("/b/"+L(h.bucket)+"/o/"+L(He),c,g)+Va({alt:"media",token:re})})[0]}(A,C,h.host,h._protocol)}}(h,c),L);return z.errorHandler=ss(a),z}(h.storage,h._location,H());return h.storage.makeRequestWithTokens(a,Ka).then(c=>{if(null===c)throw new Sr("no-download-url","The given file does not have any download URLs.");return c})}function Ku(h,a){const c=function(h,a){const c=a.split("/").filter(g=>g.length>0).join("/");return 0===h.length?c:h+"/"+c}(h._location.path,a),g=new rs(h._location.bucket,c);return new Ta(h.storage,g)}function mu(h,a){if(h instanceof _u){const c=h;if(null==c._bucket)throw new Sr("no-default-bucket","No default bucket found. Did you set the '"+Mi+"' property when initializing the app?");const g=new Ta(c,c._bucket);return null!=a?mu(g,a):g}return void 0!==a?Ku(h,a):h}function yu(h,a){if(a&&function(h){return/^[A-Za-z]+:\/\//.test(h)}(a)){if(h instanceof _u)return function(h,a){return new Ta(h,a)}(h,a);throw Bn("To use ref(service, url), the first argument must be a Storage instance.")}return mu(h,a)}function fc(h,a){const c=null==a?void 0:a[Mi];return null==c?null:rs.makeFromBucketSpec(c,h)}class _u{constructor(a,c,g,C,A){this.app=a,this._authProvider=c,this._appCheckProvider=g,this._url=C,this._firebaseVersion=A,this._bucket=null,this._host=Hr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=C?rs.makeFromBucketSpec(C,this._host):fc(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._bucket=null!=this._url?rs.makeFromBucketSpec(this._url,a):fc(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){Ea("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){Ea("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}_getAuthToken(){var a=this;return(0,ar.Z)(function*(){if(a._overrideAuthToken)return a._overrideAuthToken;const c=a._authProvider.getImmediate({optional:!0});if(c){const g=yield c.getToken();if(null!==g)return g.accessToken}return null})()}_getAppCheckToken(){var a=this;return(0,ar.Z)(function*(){const c=a._appCheckProvider.getImmediate({optional:!0});return c?(yield c.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new Ta(this,a)}_makeRequest(a,c,g,C){if(this._deleted)return new Ys(ms());{const A=function(h,a,c,g,C,A){const L=Va(h.urlParams),z=h.url+L,J=Object.assign({},h.headers);return function(h,a){a&&(h["X-Firebase-GMPID"]=a)}(J,a),function(h,a){null!==a&&a.length>0&&(h.Authorization="Firebase "+a)}(J,c),function(h,a){h["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager")}(J,A),function(h,a){null!==a&&(h["X-Firebase-AppCheck"]=a)}(J,g),new fu(z,h.method,J,h.body,h.successCodes,h.additionalRetryCodes,h.handler,h.errorHandler,h.timeout,h.progressCallback,C)}(a,this._appId,g,C,c,this._firebaseVersion);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}makeRequestWithTokens(a,c){var g=this;return(0,ar.Z)(function*(){const[C,A]=yield Promise.all([g._getAuthToken(),g._getAppCheckToken()]);return g._makeRequest(a,c,C,A).getPromise()})()}}const la="@firebase/storage";function Ia(h,a){return yu(h=(0,kt.m9)(h),a)}(0,In._registerComponent)(new ur.wA("storage",function(h,{instanceIdentifier:a}){const c=h.getProvider("app").getImmediate(),g=h.getProvider("auth-internal"),C=h.getProvider("app-check-internal");return new _u(c,g,C,a,In.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,In.registerVersion)(la,"0.9.9",""),(0,In.registerVersion)(la,"0.9.9","esm2017");class xi{constructor(a,c,g){this._delegate=a,this.task=c,this.ref=g}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ha{constructor(a,c){this._delegate=a,this._ref=c,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xi(this._delegate.snapshot,this,this._ref)}then(a,c){return this._delegate.then(g=>{if(a)return a(new xi(g,this,this._ref))},c)}on(a,c,g,C){let A;return c&&(A="function"==typeof c?L=>c(new xi(L,this,this._ref)):{next:c.next?L=>c.next(new xi(L,this,this._ref)):void 0,complete:c.complete||void 0,error:c.error||void 0}),this._delegate.on(a,A,g||void 0,C||void 0)}}class Ld{constructor(a,c){this._delegate=a,this._service=c}get prefixes(){return this._delegate.prefixes.map(a=>new Bo(a,this._service))}get items(){return this._delegate.items.map(a=>new Bo(a,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Bo{constructor(a,c){this._delegate=a,this.storage=c}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(a){const c=function(h,a){return Ku(h,a)}(this._delegate,a);return new Bo(c,this.storage)}get root(){return new Bo(this._delegate.root,this.storage)}get parent(){const a=this._delegate.parent;return null==a?null:new Bo(a,this.storage)}put(a,c){return this._throwIfRoot("put"),new Ha(function(h,a,c){return function(h,a,c){return h._throwIfRoot("uploadBytesResumable"),new Ti(h,new $t(a),c)}(h=(0,kt.m9)(h),a,c)}(this._delegate,a,c),this)}putString(a,c=ia.RAW,g){this._throwIfRoot("putString");const C=zi(c,a),A=Object.assign({},g);return null==A.contentType&&null!=C.contentType&&(A.contentType=C.contentType),new Ha(new Ti(this._delegate,new $t(C.data,!0),A),this)}listAll(){return function(h){return function(h){const a={prefixes:[],items:[]};return bs(h,a).then(()=>a)}(h=(0,kt.m9)(h))}(this._delegate).then(a=>new Ld(a,this.storage))}list(a){return function(h,a){return Ml(h=(0,kt.m9)(h),a)}(this._delegate,a||void 0).then(c=>new Ld(c,this.storage))}getMetadata(){return function(h){return function(h){h._throwIfRoot("getMetadata");const a=Zu(h.storage,h._location,H());return h.storage.makeRequestWithTokens(a,Ka)}(h=(0,kt.m9)(h))}(this._delegate)}updateMetadata(a){return function(h,a){return function(h,a){h._throwIfRoot("updateMetadata");const c=function(h,a,c,g){const A=qs(a.fullServerUrl(),h.host,h._protocol),z=Ht(c,g),re=h.maxOperationRetryTime,Se=new xn(A,"PATCH",Qr(h,g),re);return Se.headers={"Content-Type":"application/json; charset=utf-8"},Se.body=z,Se.errorHandler=ss(a),Se}(h.storage,h._location,a,H());return h.storage.makeRequestWithTokens(c,Ka)}(h=(0,kt.m9)(h),a)}(this._delegate,a)}getDownloadURL(){return Nd((0,kt.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(h){h._throwIfRoot("deleteObject");const a=function(h,a){const g=qs(a.fullServerUrl(),h.host,h._protocol),z=new xn(g,"DELETE",function(J,re){},h.maxOperationRetryTime);return z.successCodes=[200,204],z.errorHandler=ss(a),z}(h.storage,h._location);return h.storage.makeRequestWithTokens(a,Ka)}((0,kt.m9)(this._delegate))}_throwIfRoot(a){if(""===this._delegate._location.path)throw Ri(a)}}class Vd{constructor(a,c){this.app=a,this._delegate=c}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(a){if(Zl(a))throw Bn("ref() expected a child path but got a URL, use refFromURL instead.");return new Bo(Ia(this._delegate,a),this)}refFromURL(a){if(!Zl(a))throw Bn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rs.makeFromUrl(a,this._delegate.host)}catch(c){throw Bn("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bo(Ia(this._delegate,a),this)}setMaxUploadRetryTime(a){this._delegate.maxUploadRetryTime=a}setMaxOperationRetryTime(a){this._delegate.maxOperationRetryTime=a}useEmulator(a,c,g={}){!function(h,a,c,g={}){!function(h,a,c,g={}){h.host=`${a}:${c}`,h._protocol="http";const{mockUserToken:C}=g;C&&(h._overrideAuthToken="string"==typeof C?C:(0,kt.Sg)(C,h.app.options.projectId))}(h,a,c,g)}(this._delegate,a,c,g)}}function Zl(h){return/^[A-Za-z]+:\/\//.test(h)}function Qu(h,{instanceIdentifier:a}){const c=h.getProvider("app-compat").getImmediate(),g=h.getProvider("storage").getImmediate({identifier:a});return new Vd(c,g)}!function(h){const a={TaskState:ho,TaskEvent:Fh,StringFormat:ia,Storage:Vd,Reference:Bo};h.INTERNAL.registerComponent(new ur.wA("storage-compat",Qu,"PUBLIC").setServiceProps(a).setMultipleInstances(!0)),h.registerVersion("@firebase/storage-compat","0.1.17")}(qn.Z);var Up=q(3801),Xg=q(7841);function Uh(h){const a=function(h){return new Be.y(a=>{const c=L=>a.next(L);c(h.snapshot);const A=h.on("state_changed",c);return h.then(L=>{c(L),a.complete()},L=>{c(h.snapshot),(L=>{a.error(L)})(L)}),function(){A()}}).pipe((0,ii.b)(0))}(h);return{task:h,then:h.then.bind(h),catch:h.catch.bind(h),pause:h.pause.bind(h),cancel:h.cancel.bind(h),resume:h.resume.bind(h),snapshotChanges:()=>a,percentageChanges:()=>a.pipe((0,Ce.U)(c=>c.bytesTransferred/c.totalBytes*100))}}function Bh(h){return{getDownloadURL:()=>(0,Ue.of)(void 0).pipe(cn.fc,(0,Zr.w)(()=>h.getDownloadURL()),cn.iC),getMetadata:()=>(0,Ue.of)(void 0).pipe(cn.fc,(0,Zr.w)(()=>h.getMetadata()),cn.iC),delete:()=>(0,nr.D)(h.delete()),child:a=>Bh(h.child(a)),updateMetadata:a=>(0,nr.D)(h.updateMetadata(a)),put:(a,c)=>Uh(h.put(a,c)),putString:(a,c,g)=>Uh(h.putString(a,c,g)),list:a=>(0,nr.D)(h.list(a)),listAll:()=>(0,nr.D)(h.listAll())}}const jh=new o.OlP("angularfire2.storageBucket"),Bp=new o.OlP("angularfire2.storage.maxUploadRetryTime"),jp=new o.OlP("angularfire2.storage.maxOperationRetryTime"),_l=new o.OlP("angularfire2.storage.use-emulator");let Rl=(()=>{class h{constructor(c,g,C,A,L,z,J,re,Se,He){const Pe=(0,hn.on)(c,L,g);this.storage=(0,hn.cc)(`${Pe.name}.storage.${C}`,"AngularFireStorage",Pe.name,()=>{const We=L.runOutsideAngular(()=>Pe.storage(C||void 0)),Ot=Se;return Ot&&We.useEmulator(...Ot),J&&We.setMaxUploadRetryTime(J),re&&We.setMaxOperationRetryTime(re),We},[J,re])}ref(c){return Bh(this.storage.ref(c))}refFromURL(c){return Bh(this.storage.refFromURL(c))}upload(c,g,C){return Bh(this.storage.ref(c)).put(g,C)}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(hn.Dh),o.LFG(hn.xv,8),o.LFG(jh,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(cn.HU),o.LFG(Bp,8),o.LFG(jp,8),o.LFG(_l,8),o.LFG(Up.nm,8))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})(),Mf=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({}),h})(),Bd=(()=>{class h{constructor(){Xg.Z.registerVersion("angularfire",cn.q4.full,"gcs-compat")}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({providers:[Rl],imports:[Mf]}),h})();var bu=q(6237),Da=q(2340);let Eu=(()=>{class h{constructor(){}ngOnInit(){}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275cmp=o.Xpm({type:h,selectors:[["ng-component"]],decls:2,vars:0,template:function(c,g){1&c&&(o.TgZ(0,"p"),o._uU(1,"login works!"),o.qZA())},styles:[""]}),h})(),$c=(()=>{class h{constructor(){}ngOnInit(){}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275cmp=o.Xpm({type:h,selectors:[["ng-component"]],decls:24,vars:0,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"section-title","text-uppercase"],[1,"row"],[1,"col-md-3"],["src","../../assets/img/KFP_logo.jpg"],[1,"text-center"],["href","https://www.kristinefreed.com/"],[1,"col-md-9"],[1,"bold",2,"color","#7b0512"],[1,"mt-20",2,"color","#7b0512"],["href","https://www.facebook.com/kristinefreedphotography/","target","_blank",1,"mr-20"],[1,"fa","fa-facebook","fa-2x"],["href","https://www.instagram.com/kristinefreedphotography/","target","_blank"],[1,"fa","fa-instagram","fa-2x"]],template:function(c,g){1&c&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o._uU(4,"Photography Information"),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o._UZ(7,"img",6),o.TgZ(8,"div",7),o.TgZ(9,"a",8),o._uU(10,"kristinefreed.com"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"div",9),o._uU(12," Many of the photos on this site have been provided by "),o.TgZ(13,"span",10),o._uU(14,"Kristine Freed Photography"),o.qZA(),o._UZ(15,"br"),o._uU(16," Specializing In: Maternity | Birth | Newborn | Family | Senior"),o._UZ(17,"br"),o._uU(18," Thank you for all your support Kristine! "),o.TgZ(19,"div",11),o.TgZ(20,"a",12),o._UZ(21,"i",13),o.qZA(),o.TgZ(22,"a",14),o._UZ(23,"i",15),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:[""]}),h})();class zc{}var ua=q(4384);function mc(h,a){if(1&h&&o._UZ(0,"img",21),2&h){const c=o.oxw(2);o.Q6J("src",c.gameImageUrl,o.LSH)}}function Aa(h,a){1&h&&o._UZ(0,"img",22)}function jd(h,a){if(1&h&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&h){const c=o.oxw(2);o.xp6(1),o.AsE("TIED ",c.game.goals_for,"-",c.game.goals_against,"")}}function Hd(h,a){if(1&h&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&h){const c=o.oxw(2);o.xp6(1),o.lnq("",c.game.goals_for>c.game.goals_against?"WON":"LOST"," ",c.game.goals_for,"-",c.game.goals_against,"")}}const R=function(h){return["/players",h]};function E(h,a){if(1&h&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"a",23),o._UZ(15,"i",24),o._uU(16," View Profile"),o.qZA(),o.qZA(),o.qZA()),2&h){const c=a.$implicit;o.xp6(2),o.Oqu(c.jersey_number),o.xp6(2),o.Oqu(c.first_name),o.xp6(2),o.Oqu(c.last_name),o.xp6(2),o.Oqu(c.goals),o.xp6(2),o.Oqu(c.assists),o.xp6(2),o.Oqu(c.points),o.xp6(2),o.Q6J("routerLink",o.VKq(7,R,c.playerId))}}function T(h,a){1&h&&(o.TgZ(0,"tr"),o.TgZ(1,"td",25),o._uU(2,"No Stats Available"),o.qZA(),o.qZA())}function V(h,a){if(1&h&&(o.TgZ(0,"section",1),o.TgZ(1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"h2",4),o._uU(4,"Game Details"),o.qZA(),o._uU(5),o.ALo(6,"date"),o._UZ(7,"br"),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"div",5),o.TgZ(10,"div",6),o.TgZ(11,"div",7),o.TgZ(12,"div",8),o.TgZ(13,"div",9),o.TgZ(14,"figure",10),o.YNc(15,mc,1,1,"img",11),o.YNc(16,Aa,1,0,"img",12),o.TgZ(17,"h2",13),o.YNc(18,jd,2,2,"span",14),o.YNc(19,Hd,2,3,"span",14),o.qZA(),o.TgZ(20,"h5",13),o._uU(21," Shots On Goal "),o.qZA(),o.TgZ(22,"h5",15),o.TgZ(23,"span",16),o._uU(24,"Wiregrass"),o.qZA(),o._uU(25),o.TgZ(26,"span",16),o._uU(27),o.qZA(),o._uU(28),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",17),o.TgZ(30,"div",8),o.TgZ(31,"div",18),o.TgZ(32,"h3"),o._uU(33,"GAME STATS"),o.qZA(),o.TgZ(34,"table",19),o.TgZ(35,"thead"),o.TgZ(36,"tr"),o.TgZ(37,"th"),o._uU(38,"#"),o.qZA(),o.TgZ(39,"th"),o._uU(40,"First Name"),o.qZA(),o.TgZ(41,"th"),o._uU(42,"Last Name"),o.qZA(),o.TgZ(43,"th"),o._uU(44,"Goals"),o.qZA(),o.TgZ(45,"th"),o._uU(46,"Assists"),o.qZA(),o.TgZ(47,"th"),o._uU(48,"Points"),o.qZA(),o._UZ(49,"th"),o.qZA(),o.qZA(),o.TgZ(50,"tbody"),o.YNc(51,E,17,9,"tr",20),o.YNc(52,T,3,0,"tr",14),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&h){const c=o.oxw();o.xp6(5),o.AsE(" ",o.xi3(6,12,null==c.game.date?null:c.game.date.toDate(),"MM/dd/yyyy hh:mm a")," - ",c.game.location,""),o.xp6(3),o.hij(" ",c.game.varsity?"VARSITY":"JV"," "),o.xp6(7),o.Q6J("ngIf",c.gameImageUrl),o.xp6(1),o.Q6J("ngIf",!c.gameImageUrl),o.xp6(2),o.Q6J("ngIf",c.game.tie),o.xp6(1),o.Q6J("ngIf",!c.game.tie),o.xp6(6),o.hij(" ",c.game.shots_for," "),o.xp6(2),o.Oqu(c.game.opponent),o.xp6(1),o.hij(" ",c.game.shots_against," "),o.xp6(23),o.Q6J("ngForOf",c.gameStats),o.xp6(1),o.Q6J("ngIf",!(null!=c.gameStats&&c.gameStats.length))}}let ie=(()=>{class h{constructor(c,g,C){this.route=c,this.firestore=g,this.storage=C}ngOnInit(){this.route.params.subscribe(c=>{this.selectedGame=c.gameId,this.firestore.doc(`games/${this.selectedGame}`).valueChanges({idField:"id"}).subscribe({next:g=>{this.game=g,this.storage.ref(`games/${this.game.id}/${this.game.id}.jpg`).getDownloadURL().subscribe({next:A=>{this.gameImageUrl=A},error:A=>console.error(A)})}}),this.firestore.collection("players",g=>g.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:g=>{const C=[];g.forEach(A=>{let L=A.seasons.find(z=>z.year===Da.N.CURRENT_SEASON);L&&L.stats.forEach(z=>{var J;if(!0==(z.date.toDate().toLocaleDateString()===(null===(J=this.game.date)||void 0===J?void 0:J.toDate().toLocaleDateString()))&&!0==(z.varsity===this.game.varsity)){const He=new zc;He.playerId=A.id,He.first_name=A.first_name,He.last_name=A.last_name,He.jersey_number=A.jersey_number,He.goals=z.goals,He.assists=z.assists,He.points=z.points,C.push(He)}})}),this.gameStats=C}})})}}return h.\u0275fac=function(c){return new(c||h)(o.Y36(Jn.gz),o.Y36(ua.ST),o.Y36(Rl))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"section-title","text-uppercase"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-3","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/wrhs_logo.png","class","img-responsive text-center","alt","Image",4,"ngIf"],[1,"text-center","bold"],[4,"ngIf"],[1,"text-center"],[1,"bold"],[1,"col-md-9","col-sm-9"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/wrhs_logo.png","alt","Image",1,"img-responsive","text-center"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-id-card"],["colspan","5",1,"text-center","text-bold"]],template:function(c,g){1&c&&o.YNc(0,V,53,15,"section",0),2&c&&o.Q6J("ngIf",g.game&&g.game.complete)},directives:[te.O5,te.sg,Jn.yS],pipes:[te.uU],styles:[""]}),h})();function ye(h,a){if(1&h&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&h){const c=o.oxw(2).$implicit;o.xp6(1),o.AsE("TIED ",c.goals_for,"-",c.goals_against,"")}}function _t(h,a){if(1&h&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&h){const c=o.oxw(2).$implicit;o.xp6(1),o.lnq("",c.goals_for>c.goals_against?"W":"L"," ",c.goals_for,"-",c.goals_against,"")}}const Yt=function(h){return["/games",h]};function jn(h,a){if(1&h&&(o.TgZ(0,"div"),o.YNc(1,ye,2,2,"span",20),o.YNc(2,_t,2,3,"span",20),o.TgZ(3,"a",22),o._uU(4,"View Game Summary"),o.qZA(),o.qZA()),2&h){const c=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",c.tie),o.xp6(1),o.Q6J("ngIf",!c.tie),o.xp6(1),o.Q6J("routerLink",o.VKq(3,Yt,c.id))}}function cr(h,a){if(1&h&&(o.TgZ(0,"tr"),o.TgZ(1,"th",21),o._uU(2),o.ALo(3,"date"),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.ALo(6,"date"),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o.YNc(12,jn,5,5,"div",20),o.qZA(),o.qZA()),2&h){const c=a.$implicit;o.xp6(2),o.Oqu(o.xi3(3,5,null==c||null==c.date?null:c.date.toDate(),"MM/dd/yyyy")),o.xp6(3),o.Oqu(o.xi3(6,8,null==c||null==c.date?null:c.date.toDate(),"h:mm a")),o.xp6(3),o.Oqu(c.opponent),o.xp6(2),o.Oqu(c.location),o.xp6(2),o.Q6J("ngIf",c.complete)}}function si(h,a){1&h&&(o.TgZ(0,"tr"),o.TgZ(1,"td",23),o._uU(2,"No Schedule Available"),o.qZA(),o.qZA())}function Es(h,a){if(1&h&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o.TgZ(2,"table",18),o.TgZ(3,"thead"),o.TgZ(4,"tr"),o.TgZ(5,"th"),o._uU(6,"Date"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Time"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Opponent"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"Location"),o.qZA(),o._UZ(13,"th"),o.qZA(),o.qZA(),o.TgZ(14,"tbody"),o.YNc(15,cr,13,11,"tr",19),o.YNc(16,si,3,0,"tr",20),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&h){const c=a.team,g=o.oxw();o.xp6(15),o.Q6J("ngForOf","varsity"===c?g.varsityGames:g.jvGames),o.xp6(1),o.Q6J("ngIf","varsity"===c?!g.varsityGames.length:!g.jvGames.length)}}const Ja=function(h){return{active:h}},xa=function(h){return{"in active":h}},$l=function(){return{team:"varsity"}},qh=function(){return{team:"jv"}};let qa=(()=>{class h{constructor(c,g){this.route=c,this.firestore=g,this.varsityGames=[],this.jvGames=[],this.showCompleted=!0}ngOnInit(){this.route.queryParams.subscribe(c=>{this.selectedTeam=c.team,this.firestore.collection("games",g=>g.orderBy("date","asc")).valueChanges({idField:"id"}).subscribe({next:g=>{this.varsityGames=g.filter(C=>!0===C.varsity),this.jvGames=g.filter(C=>!1===C.varsity)}})})}}return h.\u0275fac=function(c){return new(c||h)(o.Y36(Jn.gz),o.Y36(ua.ST))},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-players"]],decls:25,vars:18,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-12"],[1,"border-bottom-tab"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",3,"ngClass"],["href","#varsity","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],["href","#jv","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","varsity",1,"tab-pane","fade",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel","id","jv",1,"tab-pane","fade",3,"ngClass"],["schedule",""],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["routerLink","games",1,"ml-10",3,"routerLink"],["colspan","5",1,"text-center","text-bold"]],template:function(c,g){if(1&c&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o._uU(4,"Game Schedules"),o.qZA(),o.TgZ(5,"p",4),o._uU(6,"Select the team to view the schedule"),o.qZA(),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"div",7),o.TgZ(10,"ul",8),o.TgZ(11,"li",9),o.TgZ(12,"a",10),o._uU(13,"Varsity"),o.qZA(),o.qZA(),o.TgZ(14,"li",9),o.TgZ(15,"a",11),o._uU(16,"JV"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",12),o.TgZ(18,"div",13),o.TgZ(19,"div",14),o.GkF(20,15),o.qZA(),o.TgZ(21,"div",16),o.GkF(22,15),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(23,Es,17,2,"ng-template",null,17,o.W1O)),2&c){const C=o.MAs(24);o.xp6(11),o.Q6J("ngClass",o.VKq(8,Ja,"varsity"===g.selectedTeam)),o.xp6(3),o.Q6J("ngClass",o.VKq(10,Ja,"jv"===g.selectedTeam)),o.xp6(5),o.Q6J("ngClass",o.VKq(12,xa,"varsity"===g.selectedTeam)),o.xp6(1),o.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",o.DdM(14,$l)),o.xp6(1),o.Q6J("ngClass",o.VKq(15,xa,"jv"===g.selectedTeam)),o.xp6(1),o.Q6J("ngTemplateOutlet",C)("ngTemplateOutletContext",o.DdM(17,qh))}},directives:[te.mk,te.tP,te.sg,te.O5,Jn.yS],pipes:[te.uU],styles:[""]}),h})();function qd(h,a){if(1&h&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&h){const c=o.oxw();o.xp6(1),o.lnq("Season Record: ",c.varsityStats.wins,"-",c.varsityStats.losses,"-",c.varsityStats.ties,"")}}function jo(h,a){if(1&h&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&h){const c=o.oxw();o.xp6(1),o.lnq("Season Record: ",c.jvStats.wins,"-",c.jvStats.losses,"-",c.jvStats.ties,"")}}function wu(h,a){if(1&h){const c=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"th",19),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"a",20),o.NdJ("click",function(){const A=o.CHM(c).$implicit;return o.oxw().viewProfile(A.id)}),o._UZ(15,"i",21),o._uU(16," View Profile"),o.qZA(),o.qZA(),o.qZA()}if(2&h){const c=a.$implicit;o.xp6(2),o.Oqu(c.jersey_number),o.xp6(2),o.Oqu(c.first_name),o.xp6(2),o.Oqu(c.last_name),o.xp6(2),o.Oqu(null==c||null==c.currentSeasonStats?null:c.currentSeasonStats.goals),o.xp6(2),o.Oqu(null==c||null==c.currentSeasonStats?null:c.currentSeasonStats.assists),o.xp6(2),o.Oqu(null==c||null==c.currentSeasonStats?null:c.currentSeasonStats.points)}}function Gd(h,a){1&h&&(o.TgZ(0,"tr"),o.TgZ(1,"td",22),o._uU(2,"Roster Information Coming Soon"),o.qZA(),o.qZA())}const zl=function(h){return{selected:h}};let Wl=(()=>{class h{constructor(c,g){this.router=c,this.firestore=g,this.players=[]}ngOnInit(){this.getTeam("varsity"),this.getStats()}getStats(){this.firestore.collection("season_totals").valueChanges().subscribe({next:c=>{c.forEach(g=>{g.varsity?this.varsityStats=g:this.jvStats=g})}})}getTeam(c){this.selectedTeam=c,this.players=[],this.firestore.collection("players",g=>g.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:g=>{g=g.filter(C=>{const A=C.seasons.find(L=>L.year===Da.N.CURRENT_SEASON);return"varsity"===this.selectedTeam?!0===(null==A?void 0:A.varsity):!0===(null==A?void 0:A.jv)}),this.players=g}})}viewProfile(c){this.router.navigate([`players/${c}`])}}return h.\u0275fac=function(c){return new(c||h)(o.Y36(Jn.F0),o.Y36(ua.ST))},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-players"]],decls:54,vars:11,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper",3,"ngClass","click"],[1,"team-img"],["src","../../assets/img/varsity_placeholder.png","alt","Image",1,"img-responsive"],[1,"team-title"],[4,"ngIf"],["routerLink","../schedule/varsity"],["src","../../assets/img/jv_placeholder.png","alt","Image",1,"img-responsive"],[1,"row","mt-50"],[1,"col-md-8","col-md-offset-2"],[1,"mt-30"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["scope","row"],[3,"click"],["aria-hidden","true",1,"fa","fa-id-card"],["colspan","4",1,"text-center","text-bold"]],template:function(c,g){1&c&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o._uU(4,"Our Teams"),o.qZA(),o.TgZ(5,"p",4),o._uU(6,"Select the team to view more details"),o.qZA(),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"div",7),o.NdJ("click",function(){return g.getTeam("varsity")}),o.TgZ(10,"div",8),o._UZ(11,"img",9),o.qZA(),o.TgZ(12,"div",10),o.TgZ(13,"h3"),o._uU(14,"VARSITY"),o.qZA(),o.TgZ(15,"span"),o._uU(16,"Coach: John Scoby"),o.qZA(),o.YNc(17,qd,2,3,"p",11),o.TgZ(18,"a",12),o._uU(19,"View Varsity Schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",6),o.TgZ(21,"div",7),o.NdJ("click",function(){return g.getTeam("jv")}),o.TgZ(22,"div",8),o._UZ(23,"img",13),o.qZA(),o.TgZ(24,"div",10),o.TgZ(25,"h3"),o._uU(26,"JV"),o.qZA(),o.TgZ(27,"span"),o._uU(28,"Coach: Bill Talbot"),o.qZA(),o.YNc(29,jo,2,3,"p",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",14),o.TgZ(31,"div",15),o.TgZ(32,"h3"),o._uU(33),o.qZA(),o._UZ(34,"div",16),o.TgZ(35,"table",17),o.TgZ(36,"thead"),o.TgZ(37,"tr"),o.TgZ(38,"th"),o._uU(39,"#"),o.qZA(),o.TgZ(40,"th"),o._uU(41,"First Name"),o.qZA(),o.TgZ(42,"th"),o._uU(43,"Last Name"),o.qZA(),o.TgZ(44,"th"),o._uU(45,"Goals"),o.qZA(),o.TgZ(46,"th"),o._uU(47,"Assists"),o.qZA(),o.TgZ(48,"th"),o._uU(49,"Points"),o.qZA(),o._UZ(50,"th"),o.qZA(),o.qZA(),o.TgZ(51,"tbody"),o.YNc(52,wu,17,6,"tr",18),o.YNc(53,Gd,3,0,"tr",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&c&&(o.xp6(9),o.Q6J("ngClass",o.VKq(7,zl,"varsity"===g.selectedTeam)),o.xp6(8),o.Q6J("ngIf",g.varsityStats),o.xp6(4),o.Q6J("ngClass",o.VKq(9,zl,"jv"===g.selectedTeam)),o.xp6(8),o.Q6J("ngIf",g.jvStats),o.xp6(4),o.hij("","varsity"===g.selectedTeam?"VARSITY":"JV"," ROSTER"),o.xp6(19),o.Q6J("ngForOf",g.players),o.xp6(1),o.Q6J("ngIf",!g.players.length))},directives:[te.mk,te.O5,Jn.yS,te.sg],styles:[""]}),h})();class Wc{constructor(){this.goals_for=0,this.assists_for=0,this.points_for=0}static getGoalDiff(a,c){let g;return a&&c?(g=(a-c).toString(),g=a>c?"+ "+g:"- "+g):g="--",g}}const ws=function(h){return["/players",h]};function Kc(h,a){if(1&h&&(o.TgZ(0,"section",33),o.TgZ(1,"div",9),o.TgZ(2,"div",13),o.TgZ(3,"div",34),o.TgZ(4,"h2",35),o._uU(5,"PLAYER OF THE WEEK"),o.qZA(),o._UZ(6,"img",36),o.qZA(),o.TgZ(7,"div",37),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"a",38),o._UZ(11,"i",39),o._uU(12,"View Player Profile"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&h){const c=o.oxw();o.xp6(6),o.MGl("src","../../assets/img/players/",c.potw.image,"",o.LSH),o.xp6(3),o.Oqu(c.potw.description),o.xp6(1),o.Q6J("routerLink",o.VKq(3,ws,c.potw.playerId))}}const Cu=function(h){return{team:h}};function Zd(h,a){if(1&h&&(o.TgZ(0,"div",42),o.TgZ(1,"div",43),o.TgZ(2,"div",44),o.TgZ(3,"span",45),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.ALo(9,"date"),o.qZA(),o.TgZ(10,"a",46),o._uU(11,"View full schedule"),o.qZA(),o.qZA(),o.TgZ(12,"div",47),o.TgZ(13,"span",48),o._uU(14),o.qZA(),o.TgZ(15,"p"),o._uU(16),o.qZA(),o.TgZ(17,"p"),o._uU(18),o.ALo(19,"date"),o.qZA(),o.TgZ(20,"a",46),o._uU(21,"View full schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&h){const c=a.$implicit;o.uIk("data-groups",c.groups),o.xp6(4),o.AsE("",c.varsity?"Varsity":"JV"," vs ",c.opponent,""),o.xp6(2),o.Oqu(c.location),o.xp6(2),o.Oqu(o.xi3(9,11,null==c.date?null:c.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),o.xp6(2),o.Q6J("queryParams",o.VKq(17,Cu,c.varsity?"varsity":"jv")),o.xp6(4),o.AsE("",c.varsity?"Varsity":"JV"," vs ",c.opponent,""),o.xp6(2),o.Oqu(c.location),o.xp6(2),o.Oqu(o.xi3(19,14,null==c.date?null:c.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),o.xp6(2),o.Q6J("queryParams",o.VKq(19,Cu,c.varsity?"varsity":"jv"))}}function $d(h,a){if(1&h&&(o.TgZ(0,"div",40),o.YNc(1,Zd,22,21,"div",41),o.qZA()),2&h){const c=o.oxw();o.xp6(1),o.Q6J("ngForOf",c.upcomingGames)}}function zd(h,a){1&h&&(o.TgZ(0,"div",49),o._uU(1,"No Games Schedules"),o.qZA())}function ty(h,a){if(1&h&&(o.TgZ(0,"div",50),o.TgZ(1,"div",51),o._UZ(2,"i",52),o.TgZ(3,"span",53),o._uU(4),o.qZA(),o.TgZ(5,"span",54),o._uU(6,"Wins"),o.qZA(),o.qZA(),o.TgZ(7,"div",51),o._UZ(8,"i",55),o.TgZ(9,"span",53),o._uU(10),o.qZA(),o.TgZ(11,"span",54),o._uU(12,"Goals For"),o.qZA(),o.qZA(),o.TgZ(13,"div",51),o._UZ(14,"i",56),o.TgZ(15,"span",57),o._uU(16),o.qZA(),o.TgZ(17,"span",54),o._uU(18,"Goal Differential"),o.qZA(),o.qZA(),o.TgZ(19,"div",51),o._UZ(20,"i",58),o.TgZ(21,"span",53),o._uU(22),o.qZA(),o.TgZ(23,"span",54),o._uU(24,"Shots"),o.qZA(),o.qZA(),o.qZA()),2&h){const c=o.oxw();o.xp6(4),o.Oqu(c.seasonStats.wins),o.xp6(6),o.Oqu(c.seasonStats.goals_for),o.xp6(6),o.Oqu(c.seasonStats.goalDiff),o.xp6(6),o.Oqu(c.seasonStats.shots_for)}}let Rf=(()=>{class h{constructor(c){this.allUpcomingGames=[],this.upcomingGames=[],this.gameGroup="all",c.collection("season_totals",g=>g.where("season","==",Da.N.CURRENT_SEASON).where("varsity","==",!0)).valueChanges().subscribe({next:g=>{const C=g[0],A=Wc.getGoalDiff(C.goals_for,C.goals_against);C.goalDiff=A,this.seasonStats=C}}),c.collection("games",g=>g.orderBy("date","asc")).valueChanges().subscribe({next:g=>{let C=g.filter(A=>!1===A.complete&&A.year===Da.N.CURRENT_SEASON);C.forEach(A=>{A.groups=A.varsity?"['all','varsity']":"['all','jv']"}),C=C.slice(0,6),this.allUpcomingGames=C,this.gameGroupChanged("all")}}),c.doc("potw/jomtax9WWuD6DyNCg2nr").valueChanges({idField:"id"}).subscribe({next:g=>{this.potw=g}})}ngOnInit(){}gameGroupChanged(c){this.gameGroup=c,this.upcomingGames=this.allUpcomingGames.filter(g=>"all"===this.gameGroup||("varsity"===this.gameGroup?!0===g.varsity:"jv"!==this.gameGroup||!1===g.varsity))}}return h.\u0275fac=function(c){return new(c||h)(o.Y36(ua.ST))},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-home"]],decls:73,vars:4,consts:[["data-stellar-background-ratio","0.5",1,"banner-7","parallax-bg","bg-fixed","overlay","fullscreen-banner","valign-wrapper"],[1,"valign-cell"],[1,"container","padding-top-160"],[1,"text-center"],[1,"tt-headline","loading-bar"],[1,"tt-words-wrapper",2,"color","#762741","-webkit-text-stroke-width","1px","-webkit-text-stroke-color","white"],[1,"is-visible"],[1,"sub-intro","lead","white-text"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper"],[1,"team-img"],["src","../../assets/img/players/scoby.png","alt","Image",1,"img-responsive"],[1,"team-title"],["src","../../assets/img/players/talbot.png","alt","Image",1,"img-responsive"],["class","content-promo-box banner padding-top-100 padding-bottom-120 gray-bg",4,"ngIf"],["id","works",1,"section-padding"],[1,"portfolio-container"],[1,"portfolio-filter","brand-filter","text-center"],["data-group","all",1,"active","waves-effect","waves-light",3,"click"],["data-group","varsity",1,"waves-effect","waves-light",3,"click"],["data-group","jv",1,"waves-effect","waves-light",3,"click"],["class","portfolio portfolio-with-title col-3 gutter mtb-50",4,"ngIf"],["class","text-center text-bold",4,"ngIf"],["data-stellar-background-ratio","0.5",1,"counter-section","facts-two","banner-10","parallax-bg","bg-fixed","overlay","light-9"],[1,"row","text-center","mt-30"],[1,"col-sm-12"],["class","row text-center",4,"ngIf"],[1,"content-promo-box","banner","padding-top-100","padding-bottom-120","gray-bg"],[1,"col-md-4"],[1,"font-30","text-extrabold","mb-30","text-uppercase"],["width","300px",3,"src"],[1,"col-md-8"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-id-card"],[1,"portfolio","portfolio-with-title","col-3","gutter","mtb-50"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"portfolio-item"],[1,"card"],[1,"card-content"],[1,"card-title","activator"],["routerLink","schedule",1,"readmore",3,"queryParams"],[1,"card-reveal"],[1,"card-title"],[1,"text-center","text-bold"],[1,"row","text-center"],[1,"col-sm-3","counter-wrap"],[1,"fa","fa-4x","fa-trophy","brand-color"],[1,"timer"],[1,"count-description"],[1,"fa","fa-4x","fa-bullhorn","brand-color"],[1,"fa","fa-4x","fa-plus","brand-color"],[1,"timer2"],[1,"fa","fa-4x","fa-crosshairs","brand-color"]],template:function(c,g){1&c&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"h1",4),o.TgZ(5,"span"),o._uU(6,"We're\xa0"),o.qZA(),o.TgZ(7,"span",5),o.TgZ(8,"b",6),o._uU(9,"Dedicated"),o.qZA(),o.TgZ(10,"b"),o._uU(11,"Passionate"),o.qZA(),o.TgZ(12,"b"),o._uU(13,"United"),o.qZA(),o.TgZ(14,"b"),o._uU(15,"WIREGRASS"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"Proud Member of the Lightning High School Hockey League"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"section",8),o.TgZ(19,"div",9),o.TgZ(20,"div",10),o.TgZ(21,"h2",11),o._uU(22,"Our Coaches"),o.qZA(),o.TgZ(23,"p",12),o._uU(24,"Our coaches bring a wealth of experience & professionalism to our program. Dedicated to making our players better not only on the ice, but in their daily lives as well."),o.qZA(),o.qZA(),o.TgZ(25,"div",13),o.TgZ(26,"div",14),o.TgZ(27,"div",15),o.TgZ(28,"div",16),o._UZ(29,"img",17),o.qZA(),o.TgZ(30,"div",18),o.TgZ(31,"h3"),o._uU(32,"Jonn Scoby"),o.qZA(),o.TgZ(33,"span"),o._uU(34,"Varsity Head Coach"),o.qZA(),o.TgZ(35,"p"),o._uU(36," Joining Wiregrass as the Varsity Head Coach in the Summer of 2022, Coach Scoby has his sights set on taking the program to the next level and beyond. His experience has brought a whole new level of excitement to the program"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(37,"div",14),o.TgZ(38,"div",15),o.TgZ(39,"div",16),o._UZ(40,"img",19),o.qZA(),o.TgZ(41,"div",18),o.TgZ(42,"h3"),o._uU(43,"Bill Talbot"),o.qZA(),o.TgZ(44,"span"),o._uU(45,"JV Head Coach"),o.qZA(),o.TgZ(46,"p"),o._uU(47,"Coach Talbot brings a wealth of coaching experience from the Travel level through High School. He is working closely with Coach Scoby to develop our JV players and prepare them for the next level."),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(48,Kc,13,5,"section",20),o.TgZ(49,"section",21),o.TgZ(50,"div",9),o.TgZ(51,"div",10),o.TgZ(52,"h2",11),o._uU(53,"Upcoming Games"),o.qZA(),o.TgZ(54,"p",12),o._uU(55,"Come Support Wiregrass Hockey at the following upcoming games:"),o.qZA(),o.qZA(),o.TgZ(56,"div",22),o.TgZ(57,"ul",23),o.TgZ(58,"li",24),o.NdJ("click",function(){return g.gameGroupChanged("all")}),o._uU(59,"All"),o.qZA(),o.TgZ(60,"li",25),o.NdJ("click",function(){return g.gameGroupChanged("varsity")}),o._uU(61,"Varsity"),o.qZA(),o.TgZ(62,"li",26),o.NdJ("click",function(){return g.gameGroupChanged("jv")}),o._uU(63,"JV"),o.qZA(),o.qZA(),o.YNc(64,$d,2,1,"div",27),o.YNc(65,zd,2,0,"div",28),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"section",29),o.TgZ(67,"div",9),o.TgZ(68,"div",30),o.TgZ(69,"div",31),o.TgZ(70,"h2",11),o._uU(71,"Varsity Season Stats"),o.qZA(),o.qZA(),o.qZA(),o.YNc(72,ty,25,4,"div",32),o.qZA(),o.qZA()),2&c&&(o.xp6(48),o.Q6J("ngIf",g.potw),o.xp6(16),o.Q6J("ngIf",g.upcomingGames&&g.upcomingGames.length),o.xp6(1),o.Q6J("ngIf",g.upcomingGames&&!g.upcomingGames.length),o.xp6(7),o.Q6J("ngIf",g.seasonStats))},directives:[te.O5,Jn.yS,te.sg],pipes:[te.uU],styles:[""]}),h})();function yc(h,a){if(1&h&&o._UZ(0,"img",22),2&h){const c=o.oxw(2);o.Q6J("src",c.profileImageUrl,o.LSH)}}function Tu(h,a){1&h&&o._UZ(0,"img",23)}function em(h,a){1&h&&(o.TgZ(0,"div",24),o._uU(1,"Photo Coming Soon"),o.qZA())}function Hp(h,a){if(1&h&&(o.TgZ(0,"div",25),o.TgZ(1,"div",9),o.TgZ(2,"div",26),o.TgZ(3,"h4"),o._uU(4,"Season Totals"),o.TgZ(5,"small"),o._uU(6," (Includes JV & Varsity)"),o.qZA(),o.qZA(),o.TgZ(7,"div",27),o.TgZ(8,"span",28),o._uU(9,"Goals"),o.qZA(),o.TgZ(10,"div",29),o.TgZ(11,"div",30),o._uU(12),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",27),o.TgZ(14,"span",28),o._uU(15,"Assists"),o.qZA(),o.TgZ(16,"div",29),o.TgZ(17,"div",30),o._uU(18),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",27),o.TgZ(20,"span",28),o._uU(21,"Points"),o.qZA(),o.TgZ(22,"div",29),o.TgZ(23,"div",30),o._uU(24),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"h6"),o._uU(26,"**NOTE** % Values are the precentage of the team total for that category"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&h){const c=o.oxw(2);o.xp6(11),o.Udp("height","20px")("width",c.getBarWidth(c.player.currentSeasonStats.goals,c.seasonStats.goals_for)),o.uIk("aria-valuenow",c.player.currentSeasonStats.goals)("aria-valuemax",c.seasonStats.goals_for),o.xp6(1),o.lnq(" ",c.player.currentSeasonStats.goals,"/",c.seasonStats.goals_for," (",c.getBarWidth(c.player.currentSeasonStats.goals,c.seasonStats.goals_for),") "),o.xp6(5),o.Udp("height","20px")("width",c.getBarWidth(c.player.currentSeasonStats.assists,c.seasonStats.assists_for)),o.uIk("aria-valuenow",c.player.currentSeasonStats.assists)("aria-valuemax",c.seasonStats.assists_for),o.xp6(1),o.lnq(" ",c.player.currentSeasonStats.assists,"/",c.seasonStats.assists_for," (",c.getBarWidth(c.player.currentSeasonStats.assists,c.seasonStats.assists_for),") "),o.xp6(5),o.Udp("height","20px")("width",c.getBarWidth(c.player.currentSeasonStats.points,c.seasonStats.points_for)),o.uIk("aria-valuenow",c.player.currentSeasonStats.points)("aria-valuemax",c.seasonStats.points_for),o.xp6(1),o.lnq(" ",c.player.currentSeasonStats.points,"/",c.seasonStats.points_for," (",c.getBarWidth(c.player.currentSeasonStats.points,c.seasonStats.points_for),") ")}}function qp(h,a){if(1&h&&(o.TgZ(0,"tr"),o.TgZ(1,"th",31),o._uU(2),o.ALo(3,"date"),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.qZA()),2&h){const c=a.$implicit;o.xp6(2),o.Oqu(o.xi3(3,5,null==c||null==c.date?null:c.date.toDate(),"MM/dd/yyyy")),o.xp6(3),o.Oqu(c.varsity?"VARSITY":"JV"),o.xp6(2),o.Oqu(c.goals),o.xp6(2),o.Oqu(c.assists),o.xp6(2),o.Oqu(c.points)}}function Xu(h,a){1&h&&(o.TgZ(0,"tr"),o.TgZ(1,"td",32),o._uU(2,"No Stats Available"),o.qZA(),o.qZA())}function Wd(h,a){if(1&h&&(o.TgZ(0,"section",1),o.TgZ(1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"h2",4),o._uU(4,"Player Profile"),o.qZA(),o._UZ(5,"p",5),o.qZA(),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.TgZ(9,"div",9),o.TgZ(10,"div",10),o.TgZ(11,"figure",11),o.YNc(12,yc,1,1,"img",12),o.YNc(13,Tu,1,0,"img",13),o.YNc(14,em,2,0,"div",14),o.qZA(),o.qZA(),o.TgZ(15,"div",15),o.TgZ(16,"div",16),o.TgZ(17,"h3"),o._uU(18),o.TgZ(19,"small"),o._uU(20),o.qZA(),o.qZA(),o.qZA(),o.YNc(21,Hp,27,27,"div",17),o.TgZ(22,"div",9),o.TgZ(23,"div",18),o.TgZ(24,"h3"),o._uU(25,"GAME STATS"),o.qZA(),o.TgZ(26,"table",19),o.TgZ(27,"thead"),o.TgZ(28,"tr"),o.TgZ(29,"th"),o._uU(30,"Date"),o.qZA(),o.TgZ(31,"th"),o._uU(32,"JV/Varsity"),o.qZA(),o.TgZ(33,"th"),o._uU(34,"Goals"),o.qZA(),o.TgZ(35,"th"),o._uU(36,"Assists"),o.qZA(),o.TgZ(37,"th"),o._uU(38,"Points"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(39,"tbody"),o.YNc(40,qp,12,8,"tr",20),o.YNc(41,Xu,3,0,"tr",21),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&h){const c=o.oxw();o.xp6(12),o.Q6J("ngIf",c.profileImageUrl),o.xp6(1),o.Q6J("ngIf",!c.profileImageUrl),o.xp6(1),o.Q6J("ngIf",!c.profileImageUrl),o.xp6(4),o.lnq("#",c.player.jersey_number," ",c.player.first_name," ",c.player.last_name," "),o.xp6(2),o.Oqu(c.getPlayerStatus()),o.xp6(1),o.Q6J("ngIf",c.player&&c.seasonStats),o.xp6(19),o.Q6J("ngForOf",c.playerStats),o.xp6(1),o.Q6J("ngIf",!(null!=c.playerStats&&c.playerStats.length))}}const po=[{path:"",component:Rf},{path:"teams",component:Wl},{path:"schedule",component:qa},{path:"players/:playerId",component:(()=>{class h{constructor(c,g,C){this.route=c,this.firestore=g,this.storage=C}ngOnInit(){this.route.params.subscribe(c=>{this.playerId=c.playerId,this.firestore.doc(`players/${this.playerId}`).valueChanges({idField:"id"}).subscribe({next:g=>{var C;this.player=g,this.playerStats=null===(C=this.player.seasons.find(L=>L.year=Da.N.CURRENT_SEASON))||void 0===C?void 0:C.stats,this.storage.ref(`players/${this.player.id}/${this.player.id}.jpg`).getDownloadURL().subscribe({next:L=>{this.profileImageUrl=L}})}}),this.firestore.collection("season_totals").valueChanges({idField:"id"}).subscribe({next:g=>{this.seasonStats=new Wc,g.forEach(C=>{this.seasonStats.goals_for+=C.goals_for,this.seasonStats.assists_for+=C.assists_for,this.seasonStats.points_for+=C.points_for})}})})}getPlayerStatus(){return this.player.seasons[0].varsity&&this.player.seasons[0].jv?"2 Way":this.player.seasons[0].jv&&!this.player.seasons[0].varsity?"JV":"Varsity"}getBarWidth(c,g){let A=(c/g*100).toPrecision(2);return console.log(A),A.toString()+"%"}}return h.\u0275fac=function(c){return new(c||h)(o.Y36(Jn.gz),o.Y36(ua.ST),o.Y36(Rl))},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-players"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-4","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/WR.png","class","img-responsive","alt","Image",4,"ngIf"],["class","text-left","style","margin-left: 59px;",4,"ngIf"],[1,"col-md-8","col-sm-9"],[1,"team-intro"],["class","team-skill",4,"ngIf"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/WR.png","alt","Image",1,"img-responsive"],[1,"text-left",2,"margin-left","59px"],[1,"team-skill"],[1,"col-sm-6"],[1,"progress-section"],[1,"progress-title"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["scope","row"],["colspan","5",1,"text-center","text-bold"]],template:function(c,g){1&c&&o.YNc(0,Wd,42,10,"section",0),2&c&&o.Q6J("ngIf",g.player)},directives:[te.O5,te.sg],pipes:[te.uU],styles:[""]}),h})()},{path:"games/:gameId",component:ie},{path:"photo-attribution",component:$c},{path:"admin",loadChildren:()=>Promise.resolve().then(q.bind(q,9443)).then(h=>h.AdminModule)},{path:"login",component:Eu},{path:"**",redirectTo:"",pathMatch:"full"}];let Cr=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({imports:[[Jn.Bz.forRoot(po)],Jn.Bz]}),h})();const kf=function(){return{team:"varsity"}};let Pf=(()=>{class h{constructor(c){this.today=new Date("2022-09-01"),c.collection("season_totals",g=>g.where("season","==",Da.N.CURRENT_SEASON).where("varsity","==",!0)).valueChanges().subscribe({next:g=>{const C=g[0],A=Wc.getGoalDiff(C.goals_for,C.goals_against);C.goalDiff=A,this.seasonStats=C}})}}return h.\u0275fac=function(c){return new(c||h)(o.Y36(ua.ST))},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-root"]],decls:60,vars:8,consts:[["id","header",1,"tt-nav","transparent-header"],[1,"header-sticky","semi-transparent"],[1,"container"],["id","materialize-menu",1,"menuzord"],["href","index.html",1,"logo-brand"],["src","../assets/img/WR_Logo.png","alt",""],[1,"logo-brand-text"],[1,"menuzord-menu","pull-right","light"],[1,"active"],["routerLink","home"],["routerLink","teams"],["routerLink","schedule",3,"queryParams"],[1,"footer","footer-four"],[1,"primary-footer","brand-bg","text-center"],["href","#top","data-section","#top",1,"page-scroll","btn-floating","btn-large","pink","back-top","waves-effect","waves-light"],[1,"material-icons"],[1,"social-link","tt-animate","ltr","mt-20"],["href","https://www.facebook.com/groups/wiregrasshockeyclub","target","_blank"],[1,"fa","fa-facebook"],["href","https://www.instagram.com/wrhs.hockey","target","_blank"],[1,"fa","fa-instagram"],[1,"mt-15"],[1,"row"],[1,"col-md-12"],[1,"footer-logo"],["src","../assets/img/WR.png","alt",""],[1,"copy-text"],["href","#"],[1,"footer-intro"],["routerLink","photo-attribution"],[1,"secondary-footer","brand-bg","darken-2","text-center"]],template:function(c,g){1&c&&(o.TgZ(0,"header",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"a",4),o._UZ(5,"img",5),o.TgZ(6,"div",6),o._uU(7,"Wiregrass Hockey"),o.qZA(),o.qZA(),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li"),o.TgZ(13,"a",10),o._uU(14,"Teams"),o.qZA(),o.qZA(),o.TgZ(15,"li"),o.TgZ(16,"a",11),o._uU(17,"Schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(18,"router-outlet"),o.TgZ(19,"footer",12),o.TgZ(20,"div",13),o.TgZ(21,"div",2),o.TgZ(22,"a",14),o.TgZ(23,"i",15),o._uU(24,"\ue316"),o.qZA(),o.qZA(),o.TgZ(25,"ul",16),o.TgZ(26,"li"),o.TgZ(27,"a",17),o._UZ(28,"i",18),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",19),o._UZ(31,"i",20),o.qZA(),o.qZA(),o.qZA(),o._UZ(32,"hr",21),o.TgZ(33,"div",22),o.TgZ(34,"div",23),o.TgZ(35,"div",24),o._UZ(36,"img",25),o.qZA(),o.TgZ(37,"span",26),o._uU(38),o.ALo(39,"date"),o.TgZ(40,"a",27),o._uU(41,"Wiregrass Ranch Hockey Club"),o.qZA(),o._uU(42," \xa0 | \xa0 All Rights Reserved"),o.qZA(),o.TgZ(43,"div",28),o.TgZ(44,"p"),o._uU(45,"Many Photos Courtesy of Kristen Freed Photography. "),o.TgZ(46,"a",29),o._uU(47,"More Info"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(48,"div",30),o.TgZ(49,"div",2),o.TgZ(50,"ul"),o.TgZ(51,"li"),o.TgZ(52,"a",9),o._uU(53,"Home"),o.qZA(),o.qZA(),o.TgZ(54,"li"),o.TgZ(55,"a",10),o._uU(56,"Team"),o.qZA(),o.qZA(),o.TgZ(57,"li"),o.TgZ(58,"a",11),o._uU(59,"Schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&c&&(o.xp6(16),o.Q6J("queryParams",o.DdM(6,kf)),o.xp6(22),o.hij("Copyright \xa9 ",o.xi3(39,3,g.today,"YYYY")," "),o.xp6(20),o.Q6J("queryParams",o.DdM(7,kf)))},directives:[Jn.yS,Jn.lC],pipes:[te.uU],styles:[".logo-brand-text[_ngcontent-%COMP%]{font-family:Raleway;font-weight:700;text-transform:uppercase;color:#fff;width:325px!important;margin-top:-30px}.sticky[_ngcontent-%COMP%]   .logo-brand-text[_ngcontent-%COMP%]{margin-top:-15px!important}@media screen and (max-width: 767px){.logo-brand-text[_ngcontent-%COMP%]{display:none!important}}"]}),h})();var gi=(()=>{return(h=gi||(gi={}))[h.loading=1]="loading",h[h.setVariables=2]="setVariables",h[h.fetchMore=3]="fetchMore",h[h.refetch=4]="refetch",h[h.poll=6]="poll",h[h.ready=7]="ready",h[h.error=8]="error",gi;var h})();function _c(h){return!!h&&h<7}var ht=q(4762),Kd="Invariant Violation",vc=Object.setPrototypeOf,Zp=void 0===vc?function(h,a){return h.__proto__=a,h}:vc,bi=function(h){function a(c){void 0===c&&(c=Kd);var g=h.call(this,"number"==typeof c?Kd+": "+c+" (see https://github.com/apollographql/invariant-packages)":c)||this;return g.framesToPop=1,g.name=Kd,Zp(g,a.prototype),g}return(0,ht.ZT)(a,h),a}(Error);function $n(h,a){if(!h)throw new bi(a)}var h,bc=["debug","log","warn","error","silent"],Ec=bc.indexOf("log");function ro(h){return function(){if(bc.indexOf(h)>=Ec){var a=console[h]||console.log;return a.apply(console,arguments)}}}function ca(h){try{return h()}catch(a){}}(h=$n||($n={})).debug=ro("debug"),h.log=ro("log"),h.warn=ro("warn"),h.error=ro("error");const Xs=ca(function(){return globalThis})||ca(function(){return window})||ca(function(){return self})||ca(function(){return global})||ca(function(){return ca.constructor("return this")()});var Kl="__",wc=[Kl,Kl].join("DEV");const Nf=function(){try{return Boolean(__DEV__)}catch(h){return Object.defineProperty(Xs,wc,{value:"production"!==ca(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),Xs[wc]}}();function Yl(h){try{return h()}catch(a){}}var Ff=Yl(function(){return globalThis})||Yl(function(){return window})||Yl(function(){return self})||Yl(function(){return global})||Yl(function(){return Yl.constructor("return this")()}),Yc=!1;Ff&&!Yl(function(){return"production"})&&!Yl(function(){return process})&&(Object.defineProperty(Ff,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Yc=!0),"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.toStringTag&&Symbol;const Jc="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Zs(h){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(h)}function ec(h){return Oa(h,[])}function Oa(h,a){switch(Zs(h)){case"string":return JSON.stringify(h);case"function":return h.name?"[function ".concat(h.name,"]"):"[function]";case"object":return null===h?"null":function(h,a){if(-1!==a.indexOf(h))return"[Circular]";var c=[].concat(a,[h]),g=function(h){var a=h[String(Jc)];return"function"==typeof a?a:"function"==typeof h.inspect?h.inspect:void 0}(h);if(void 0!==g){var C=g.call(h);if(C!==h)return"string"==typeof C?C:Oa(C,c)}else if(Array.isArray(h))return function(h,a){if(0===h.length)return"[]";if(a.length>2)return"[Array]";for(var c=Math.min(10,h.length),g=h.length-c,C=[],A=0;A<c;++A)C.push(Oa(h[A],a));return 1===g?C.push("... 1 more item"):g>1&&C.push("... ".concat(g," more items")),"["+C.join(", ")+"]"}(h,c);return function(h,a){var c=Object.keys(h);if(0===c.length)return"{}";if(a.length>2)return"["+function(h){var a=Object.prototype.toString.call(h).replace(/^\[object /,"").replace(/]$/,"");if("Object"===a&&"function"==typeof h.constructor){var c=h.constructor.name;if("string"==typeof c&&""!==c)return c}return a}(h)+"]";var g=c.map(function(C){return C+": "+Oa(h[C],a)});return"{ "+g.join(", ")+" }"}(h,c)}(h,a);default:return String(h)}}function lm(h,a){(null==a||a>h.length)&&(a=h.length);for(var c=0,g=new Array(a);c<a;c++)g[c]=h[c];return g}function Gh(h,a){for(var c=0;c<a.length;c++){var g=a[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function qf(h,a,c){return a&&Gh(h.prototype,a),c&&Gh(h,c),Object.defineProperty(h,"prototype",{writable:!1}),h}Yc&&(delete Ff.process,Yc=!1),__DEV__?$n("boolean"==typeof Nf,Nf):$n("boolean"==typeof Nf,36);var Gf=function(){return"function"==typeof Symbol},tc=function(h){return Gf()&&Boolean(Symbol[h])},el=function(h){return tc(h)?Symbol[h]:"@@"+h};Gf()&&!tc("observable")&&(Symbol.observable=Symbol("observable"));var kl=el("iterator"),Zf=el("observable"),um=el("species");function Xc(h,a){var c=h[a];if(null!=c){if("function"!=typeof c)throw new TypeError(c+" is not a function");return c}}function Ro(h){var a=h.constructor;return void 0!==a&&null===(a=a[um])&&(a=void 0),void 0!==a?a:Cs}function Iu(h){Iu.log?Iu.log(h):setTimeout(function(){throw h})}function Ga(h){Promise.resolve().then(function(){try{h()}catch(a){Iu(a)}})}function Qp(h){var a=h._cleanup;if(void 0!==a&&(h._cleanup=void 0,a))try{if("function"==typeof a)a();else{var c=Xc(a,"unsubscribe");c&&c.call(a)}}catch(g){Iu(g)}}function ed(h){h._observer=void 0,h._queue=void 0,h._state="closed"}function $f(h,a,c){h._state="running";var g=h._observer;try{var C=Xc(g,a);switch(a){case"next":C&&C.call(g,c);break;case"error":if(ed(h),!C)throw c;C.call(g,c);break;case"complete":ed(h),C&&C.call(g)}}catch(A){Iu(A)}"closed"===h._state?Qp(h):"running"===h._state&&(h._state="ready")}function Zh(h,a,c){if("closed"!==h._state){if("buffering"===h._state)return void h._queue.push({type:a,value:c});if("ready"!==h._state)return h._state="buffering",h._queue=[{type:a,value:c}],void Ga(function(){return function(h){var a=h._queue;if(a){h._queue=void 0,h._state="ready";for(var c=0;c<a.length&&($f(h,a[c].type,a[c].value),"closed"!==h._state);++c);}}(h)});$f(h,a,c)}}var zf=function(){function h(c,g){this._cleanup=void 0,this._observer=c,this._queue=void 0,this._state="initializing";var C=new Jp(this);try{this._cleanup=g.call(void 0,C)}catch(A){C.error(A)}"initializing"===this._state&&(this._state="ready")}return h.prototype.unsubscribe=function(){"closed"!==this._state&&(ed(this),Qp(this))},qf(h,[{key:"closed",get:function(){return"closed"===this._state}}]),h}(),Jp=function(){function h(c){this._subscription=c}var a=h.prototype;return a.next=function(g){Zh(this._subscription,"next",g)},a.error=function(g){Zh(this._subscription,"error",g)},a.complete=function(){Zh(this._subscription,"complete")},qf(h,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),h}(),Cs=function(){function h(c){if(!(this instanceof h))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof c)throw new TypeError("Observable initializer must be a function");this._subscriber=c}var a=h.prototype;return a.subscribe=function(g){return("object"!=typeof g||null===g)&&(g={next:g,error:arguments[1],complete:arguments[2]}),new zf(g,this._subscriber)},a.forEach=function(g){var C=this;return new Promise(function(A,L){if("function"==typeof g)var J=C.subscribe({next:function(re){try{g(re,z)}catch(Se){L(Se),J.unsubscribe()}},error:L,complete:A});else L(new TypeError(g+" is not a function"));function z(){J.unsubscribe(),A()}})},a.map=function(g){var C=this;if("function"!=typeof g)throw new TypeError(g+" is not a function");return new(Ro(this))(function(L){return C.subscribe({next:function(z){try{z=g(z)}catch(J){return L.error(J)}L.next(z)},error:function(z){L.error(z)},complete:function(){L.complete()}})})},a.filter=function(g){var C=this;if("function"!=typeof g)throw new TypeError(g+" is not a function");return new(Ro(this))(function(L){return C.subscribe({next:function(z){try{if(!g(z))return}catch(J){return L.error(J)}L.next(z)},error:function(z){L.error(z)},complete:function(){L.complete()}})})},a.reduce=function(g){var C=this;if("function"!=typeof g)throw new TypeError(g+" is not a function");var A=Ro(this),L=arguments.length>1,z=!1,J=arguments[1],re=J;return new A(function(Se){return C.subscribe({next:function(He){var Pe=!z;if(z=!0,!Pe||L)try{re=g(re,He)}catch(We){return Se.error(We)}else re=He},error:function(He){Se.error(He)},complete:function(){if(!z&&!L)return Se.error(new TypeError("Cannot reduce an empty sequence"));Se.next(re),Se.complete()}})})},a.concat=function(){for(var g=this,C=arguments.length,A=new Array(C),L=0;L<C;L++)A[L]=arguments[L];var z=Ro(this);return new z(function(J){var re,Se=0;return function He(Pe){re=Pe.subscribe({next:function(We){J.next(We)},error:function(We){J.error(We)},complete:function(){Se===A.length?(re=void 0,J.complete()):He(z.from(A[Se++]))}})}(g),function(){re&&(re.unsubscribe(),re=void 0)}})},a.flatMap=function(g){var C=this;if("function"!=typeof g)throw new TypeError(g+" is not a function");var A=Ro(this);return new A(function(L){var z=[],J=C.subscribe({next:function(Se){if(g)try{Se=g(Se)}catch(Pe){return L.error(Pe)}var He=A.from(Se).subscribe({next:function(Pe){L.next(Pe)},error:function(Pe){L.error(Pe)},complete:function(){var Pe=z.indexOf(He);Pe>=0&&z.splice(Pe,1),re()}});z.push(He)},error:function(Se){L.error(Se)},complete:function(){re()}});function re(){J.closed&&0===z.length&&L.complete()}return function(){z.forEach(function(Se){return Se.unsubscribe()}),J.unsubscribe()}})},a[Zf]=function(){return this},h.from=function(g){var C="function"==typeof this?this:h;if(null==g)throw new TypeError(g+" is not an object");var A=Xc(g,Zf);if(A){var L=A.call(g);if(Object(L)!==L)throw new TypeError(L+" is not an object");return function(h){return h instanceof Cs}(L)&&L.constructor===C?L:new C(function(z){return L.subscribe(z)})}if(tc("iterator")&&(A=Xc(g,kl)))return new C(function(z){Ga(function(){if(!z.closed){for(var re,J=function(h,a){var c="undefined"!=typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(c)return(c=c.call(h)).next.bind(c);if(Array.isArray(h)||(c=function(h,a){if(h){if("string"==typeof h)return lm(h,a);var c=Object.prototype.toString.call(h).slice(8,-1);if("Object"===c&&h.constructor&&(c=h.constructor.name),"Map"===c||"Set"===c)return Array.from(h);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return lm(h,a)}}(h))||a&&h&&"number"==typeof h.length){c&&(h=c);var g=0;return function(){return g>=h.length?{done:!0}:{done:!1,value:h[g++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(A.call(g));!(re=J()).done;)if(z.next(re.value),z.closed)return;z.complete()}})});if(Array.isArray(g))return new C(function(z){Ga(function(){if(!z.closed){for(var J=0;J<g.length;++J)if(z.next(g[J]),z.closed)return;z.complete()}})});throw new TypeError(g+" is not observable")},h.of=function(){for(var g=arguments.length,C=new Array(g),A=0;A<g;A++)C[A]=arguments[A];var L="function"==typeof this?this:h;return new L(function(z){Ga(function(){if(!z.closed){for(var J=0;J<C.length;++J)if(z.next(C[J]),z.closed)return;z.complete()}})})},qf(h,null,[{key:um,get:function(){return this}}]),h}();function Ji(h){return null!==h&&"object"==typeof h}function $h(h,a){var c=a,g=[];return h.definitions.forEach(function(A){if("OperationDefinition"===A.kind)throw __DEV__?new bi("Found a ".concat(A.operation," operation").concat(A.name?" named '".concat(A.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new bi(41);"FragmentDefinition"===A.kind&&g.push(A)}),void 0===c&&(__DEV__?$n(1===g.length,"Found ".concat(g.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):$n(1===g.length,42),c=g[0].name.value),(0,ht.pi)((0,ht.pi)({},h),{definitions:(0,ht.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:c}}]}}],h.definitions,!0)})}function nd(h){void 0===h&&(h=[]);var a={};return h.forEach(function(c){a[c.name.value]=c}),a}function Wf(h,a){switch(h.kind){case"InlineFragment":return h;case"FragmentSpread":var c=a&&a[h.name.value];return __DEV__?$n(c,"No fragment named ".concat(h.name.value,".")):$n(c,43),c;default:return null}}function Du(h){return{__ref:String(h)}}function Ii(h){return Boolean(h&&"object"==typeof h&&"string"==typeof h.__ref)}function Au(h,a,c,g){if(function(h){return"IntValue"===h.kind}(c)||function(h){return"FloatValue"===h.kind}(c))h[a.value]=Number(c.value);else if(function(h){return"BooleanValue"===h.kind}(c)||function(h){return"StringValue"===h.kind}(c))h[a.value]=c.value;else if(function(h){return"ObjectValue"===h.kind}(c)){var C={};c.fields.map(function(L){return Au(C,L.name,L.value,g)}),h[a.value]=C}else if(function(h){return"Variable"===h.kind}(c))h[a.value]=(g||{})[c.name.value];else if(function(h){return"ListValue"===h.kind}(c))h[a.value]=c.values.map(function(L){var z={};return Au(z,a,L,g),z[a.value]});else if(function(h){return"EnumValue"===h.kind}(c))h[a.value]=c.value;else{if(!function(h){return"NullValue"===h.kind}(c))throw __DEV__?new bi('The inline argument "'.concat(a.value,'" of kind "').concat(c.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new bi(52);h[a.value]=null}}Gf()&&Object.defineProperty(Cs,Symbol("extensions"),{value:{symbol:Zf,hostReportError:Iu},configurable:!0});var rd=["connection","include","skip","client","rest","export"],qo=Object.assign(function(h,a,c){if(a&&c&&c.connection&&c.connection.key){if(c.connection.filter&&c.connection.filter.length>0){var g=c.connection.filter?c.connection.filter:[];g.sort();var C={};return g.forEach(function(z){C[z]=a[z]}),"".concat(c.connection.key,"(").concat(id(C),")")}return c.connection.key}var A=h;if(a){var L=id(a);A+="(".concat(L,")")}return c&&Object.keys(c).forEach(function(z){-1===rd.indexOf(z)&&(c[z]&&Object.keys(c[z]).length?A+="@".concat(z,"(").concat(id(c[z]),")"):A+="@".concat(z))}),A},{setStringify:function(h){var a=id;return id=h,a}}),id=function(a){return JSON.stringify(a,Yf)};function Yf(h,a){return Ji(a)&&!Array.isArray(a)&&(a=Object.keys(a).sort().reduce(function(c,g){return c[g]=a[g],c},{})),a}function Cc(h,a){if(h.arguments&&h.arguments.length){var c={};return h.arguments.forEach(function(g){return Au(c,g.name,g.value,a)}),c}return null}function tl(h){return h.alias?h.alias.value:h.name.value}function xu(h,a,c){if("string"==typeof h.__typename)return h.__typename;for(var g=0,C=a.selections;g<C.length;g++){var A=C[g];if(da(A)){if("__typename"===A.name.value)return h[tl(A)]}else{var L=xu(h,Wf(A,c).selectionSet,c);if("string"==typeof L)return L}}}function da(h){return"Field"===h.kind}function Ou(h){return"InlineFragment"===h.kind}function Mu(h){__DEV__?$n(h&&"Document"===h.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):$n(h&&"Document"===h.kind,44);var a=h.definitions.filter(function(c){return"FragmentDefinition"!==c.kind}).map(function(c){if("OperationDefinition"!==c.kind)throw __DEV__?new bi('Schema type definitions not allowed in queries. Found: "'.concat(c.kind,'"')):new bi(45);return c});return __DEV__?$n(a.length<=1,"Ambiguous GraphQL document: contains ".concat(a.length," operations")):$n(a.length<=1,46),h}function Tc(h){return Mu(h),h.definitions.filter(function(a){return"OperationDefinition"===a.kind})[0]}function eh(h){return h.definitions.filter(function(a){return"OperationDefinition"===a.kind&&a.name}).map(function(a){return a.name.value})[0]||null}function nc(h){return h.definitions.filter(function(a){return"FragmentDefinition"===a.kind})}function Sc(h){var a=Tc(h);return __DEV__?$n(a&&"query"===a.operation,"Must contain a query definition."):$n(a&&"query"===a.operation,47),a}function th(h){Mu(h);for(var a,c=0,g=h.definitions;c<g.length;c++){var C=g[c];if("OperationDefinition"===C.kind){var A=C.operation;if("query"===A||"mutation"===A||"subscription"===A)return C}"FragmentDefinition"===C.kind&&!a&&(a=C)}if(a)return a;throw __DEV__?new bi("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new bi(51)}function Za(h){var a=Object.create(null),c=h&&h.variableDefinitions;return c&&c.length&&c.forEach(function(g){g.defaultValue&&Au(a,g.variable.name,g.defaultValue)}),a}function sd(h,a){return a?a(h):Cs.of()}function vl(h){return"function"==typeof h?new Ic(h):h}function zh(h){return h.request.length<=1}var dm=function(h){function a(c,g){var C=h.call(this,c)||this;return C.link=g,C}return(0,ht.ZT)(a,h),a}(Error),Ic=function(){function h(a){a&&(this.request=a)}return h.empty=function(){return new h(function(){return Cs.of()})},h.from=function(a){return 0===a.length?h.empty():a.map(vl).reduce(function(c,g){return c.concat(g)})},h.split=function(a,c,g){var C=vl(c),A=vl(g||new h(sd));return zh(C)&&zh(A)?new h(function(L){return a(L)?C.request(L)||Cs.of():A.request(L)||Cs.of()}):new h(function(L,z){return a(L)?C.request(L,z)||Cs.of():A.request(L,z)||Cs.of()})},h.execute=function(a,c){return a.request(function(h,a){var c=(0,ht.pi)({},h);return Object.defineProperty(a,"setContext",{enumerable:!1,value:function(A){c=(0,ht.pi)((0,ht.pi)({},c),"function"==typeof A?A(c):A)}}),Object.defineProperty(a,"getContext",{enumerable:!1,value:function(){return(0,ht.pi)({},c)}}),a}(c.context,function(h){var a={variables:h.variables||{},extensions:h.extensions||{},operationName:h.operationName,query:h.query};return a.operationName||(a.operationName="string"!=typeof a.query?eh(a.query)||void 0:""),a}(function(h){for(var a=["query","operationName","variables","extensions","context"],c=0,g=Object.keys(h);c<g.length;c++){var C=g[c];if(a.indexOf(C)<0)throw __DEV__?new bi("illegal argument: ".concat(C)):new bi(24)}return h}(c))))||Cs.of()},h.concat=function(a,c){var g=vl(a);if(zh(g))return __DEV__&&$n.warn(new dm("You are calling concat on a terminating link, which will have no effect",g)),g;var C=vl(c);return zh(C)?new h(function(A){return g.request(A,function(L){return C.request(L)||Cs.of()})||Cs.of()}):new h(function(A,L){return g.request(A,function(z){return C.request(z,L)||Cs.of()})||Cs.of()})},h.prototype.split=function(a,c,g){return this.concat(h.split(a,c,g||new h(sd)))},h.prototype.concat=function(a){return h.concat(this,a)},h.prototype.request=function(a,c){throw __DEV__?new bi("request is not implemented"):new bi(19)},h.prototype.onError=function(a,c){if(c&&c.error)return c.error(a),!1;throw a},h.prototype.setOnError=function(a){return this.onError=a,this},h}(),rh=Ic.execute;function Ma(h){var a=h.prototype.toJSON;"function"==typeof a||function(h,a){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),h.prototype.inspect=a,Jc&&(h.prototype[Jc]=a)}var Dc=function(){function h(c,g,C){this.start=c.start,this.end=g.end,this.startToken=c,this.endToken=g,this.source=C}return h.prototype.toJSON=function(){return{start:this.start,end:this.end}},h}();Ma(Dc);var rg=function(){function h(c,g,C,A,L,z,J){this.kind=c,this.start=g,this.end=C,this.line=A,this.column=L,this.value=J,this.prev=z,this.next=null}return h.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},h}();function ig(h){return null!=h&&"string"==typeof h.kind}Ma(rg);var hm={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ko=Object.freeze({});function ha(h,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hm,g=void 0,C=Array.isArray(h),A=[h],L=-1,z=[],J=void 0,re=void 0,Se=void 0,He=[],Pe=[],We=h;do{var Ot=++L===A.length,Bt=Ot&&0!==z.length;if(Ot){if(re=0===Pe.length?void 0:He[He.length-1],J=Se,Se=Pe.pop(),Bt){if(C)J=J.slice();else{for(var tn={},_n=0,Yn=Object.keys(J);_n<Yn.length;_n++){var mn=Yn[_n];tn[mn]=J[mn]}J=tn}for(var Hn=0,Mr=0;Mr<z.length;Mr++){var Dr=z[Mr][0],Ur=z[Mr][1];C&&(Dr-=Hn),C&&null===Ur?(J.splice(Dr,1),Hn++):J[Dr]=Ur}}L=g.index,A=g.keys,z=g.edits,C=g.inArray,g=g.prev}else{if(re=Se?C?L:A[L]:void 0,null==(J=Se?Se[re]:We))continue;Se&&He.push(re)}var Ns,Xr=void 0;if(!Array.isArray(J)){if(!ig(J))throw new Error("Invalid AST Node: ".concat(ec(J),"."));var mo=Kh(a,J.kind,Ot);if(mo){if((Xr=mo.call(a,J,re,Se,He,Pe))===ko)break;if(!1===Xr){if(!Ot){He.pop();continue}}else if(void 0!==Xr&&(z.push([re,Xr]),!Ot)){if(!ig(Xr)){He.pop();continue}J=Xr}}}void 0===Xr&&Bt&&z.push([re,J]),Ot?He.pop():(g={inArray:C,index:L,keys:A,edits:z,prev:g},A=(C=Array.isArray(J))?J:null!==(Ns=c[J.kind])&&void 0!==Ns?Ns:[],L=-1,z=[],Se&&Pe.push(Se),Se=J)}while(void 0!==g);return 0!==z.length&&(We=z[z.length-1][1]),We}function Kh(h,a,c){var g=h[a];if(g){if(!c&&"function"==typeof g)return g;var C=c?g.leave:g.enter;if("function"==typeof C)return C}else{var A=c?h.leave:h.enter;if(A){if("function"==typeof A)return A;var L=A[a];if("function"==typeof L)return L}}}var Ac=function(h,a){var c;try{c=JSON.stringify(h)}catch(C){var g=__DEV__?new bi("Network request failed. ".concat(a," is not serializable: ").concat(C.message)):new bi(21);throw g.parseError=C,g}return c},ih=function(h,a,c){var g=new Error(c);throw g.name="ServerError",g.response=h,g.statusCode=h.status,g.result=a,g},Xf=Object.prototype.hasOwnProperty;function rl(h){return ha(h,{leave:sh})}var sh={Name:function(a){return a.value},Variable:function(a){return"$"+a.name},Document:function(a){return er(a.definitions,"\n\n")+"\n"},OperationDefinition:function(a){var c=a.operation,g=a.name,C=ds("(",er(a.variableDefinitions,", "),")"),A=er(a.directives," "),L=a.selectionSet;return g||A||C||"query"!==c?er([c,er([g,C]),A,L]," "):L},VariableDefinition:function(a){var A=a.directives;return a.variable+": "+a.type+ds(" = ",a.defaultValue)+ds(" ",er(A," "))},SelectionSet:function(a){return ks(a.selections)},Field:function(a){var g=a.name,C=a.arguments,A=a.directives,L=a.selectionSet,z=ds("",a.alias,": ")+g,J=z+ds("(",er(C,", "),")");return J.length>80&&(J=z+ds("(\n",bl(er(C,"\n")),"\n)")),er([J,er(A," "),L]," ")},Argument:function(a){return a.name+": "+a.value},FragmentSpread:function(a){return"..."+a.name+ds(" ",er(a.directives," "))},InlineFragment:function(a){var g=a.directives,C=a.selectionSet;return er(["...",ds("on ",a.typeCondition),er(g," "),C]," ")},FragmentDefinition:function(a){var g=a.typeCondition,C=a.variableDefinitions,A=a.directives,L=a.selectionSet;return"fragment ".concat(a.name).concat(ds("(",er(C,", "),")")," ")+"on ".concat(g," ").concat(ds("",er(A," ")," "))+L},IntValue:function(a){return a.value},FloatValue:function(a){return a.value},StringValue:function(a,c){var g=a.value;return a.block?function(h){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=-1===h.indexOf("\n"),C=" "===h[0]||"\t"===h[0],A='"'===h[h.length-1],L="\\"===h[h.length-1],z=!g||A||L||c,J="";return z&&!(g&&C)&&(J+="\n"+a),J+=a?h.replace(/\n/g,"\n"+a):h,z&&(J+="\n"),'"""'+J.replace(/"""/g,'\\"""')+'"""'}(g,"description"===c?"":"  "):JSON.stringify(g)},BooleanValue:function(a){return a.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(a){return a.value},ListValue:function(a){return"["+er(a.values,", ")+"]"},ObjectValue:function(a){return"{"+er(a.fields,", ")+"}"},ObjectField:function(a){return a.name+": "+a.value},Directive:function(a){return"@"+a.name+ds("(",er(a.arguments,", "),")")},NamedType:function(a){return a.name},ListType:function(a){return"["+a.type+"]"},NonNullType:function(a){return a.type+"!"},SchemaDefinition:Po(function(h){var c=h.operationTypes;return er(["schema",er(h.directives," "),ks(c)]," ")}),OperationTypeDefinition:function(a){return a.operation+": "+a.type},ScalarTypeDefinition:Po(function(h){return er(["scalar",h.name,er(h.directives," ")]," ")}),ObjectTypeDefinition:Po(function(h){var g=h.directives,C=h.fields;return er(["type",h.name,ds("implements ",er(h.interfaces," & ")),er(g," "),ks(C)]," ")}),FieldDefinition:Po(function(h){var c=h.arguments,g=h.type,C=h.directives;return h.name+(pm(c)?ds("(\n",bl(er(c,"\n")),"\n)"):ds("(",er(c,", "),")"))+": "+g+ds(" ",er(C," "))}),InputValueDefinition:Po(function(h){var C=h.directives;return er([h.name+": "+h.type,ds("= ",h.defaultValue),er(C," ")]," ")}),InterfaceTypeDefinition:Po(function(h){var g=h.directives,C=h.fields;return er(["interface",h.name,ds("implements ",er(h.interfaces," & ")),er(g," "),ks(C)]," ")}),UnionTypeDefinition:Po(function(h){var g=h.types;return er(["union",h.name,er(h.directives," "),g&&0!==g.length?"= "+er(g," | "):""]," ")}),EnumTypeDefinition:Po(function(h){var g=h.values;return er(["enum",h.name,er(h.directives," "),ks(g)]," ")}),EnumValueDefinition:Po(function(h){return er([h.name,er(h.directives," ")]," ")}),InputObjectTypeDefinition:Po(function(h){var g=h.fields;return er(["input",h.name,er(h.directives," "),ks(g)]," ")}),DirectiveDefinition:Po(function(h){var c=h.arguments,g=h.repeatable,C=h.locations;return"directive @"+h.name+(pm(c)?ds("(\n",bl(er(c,"\n")),"\n)"):ds("(",er(c,", "),")"))+(g?" repeatable":"")+" on "+er(C," | ")}),SchemaExtension:function(a){var g=a.operationTypes;return er(["extend schema",er(a.directives," "),ks(g)]," ")},ScalarTypeExtension:function(a){return er(["extend scalar",a.name,er(a.directives," ")]," ")},ObjectTypeExtension:function(a){var C=a.directives,A=a.fields;return er(["extend type",a.name,ds("implements ",er(a.interfaces," & ")),er(C," "),ks(A)]," ")},InterfaceTypeExtension:function(a){var C=a.directives,A=a.fields;return er(["extend interface",a.name,ds("implements ",er(a.interfaces," & ")),er(C," "),ks(A)]," ")},UnionTypeExtension:function(a){var C=a.types;return er(["extend union",a.name,er(a.directives," "),C&&0!==C.length?"= "+er(C," | "):""]," ")},EnumTypeExtension:function(a){var C=a.values;return er(["extend enum",a.name,er(a.directives," "),ks(C)]," ")},InputObjectTypeExtension:function(a){var C=a.fields;return er(["extend input",a.name,er(a.directives," "),ks(C)]," ")}};function Po(h){return function(a){return er([a.description,h(a)],"\n")}}function er(h){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(a=null==h?void 0:h.filter(function(g){return g}).join(c))&&void 0!==a?a:""}function ks(h){return ds("{\n",bl(er(h,"\n")),"\n}")}function ds(h,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=a&&""!==a?h+a+c:""}function bl(h){return ds("  ",h.replace(/\n/g,"\n  "))}function Jh(h){return-1!==h.indexOf("\n")}function pm(h){return null!=h&&h.some(Jh)}var ku={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},od=function(h,a){return a(h)};function np(h){if(h){var a=Object.create(null);return Object.keys(Object(h)).forEach(function(c){a[c.toLowerCase()]=h[c]}),a}return h}function ld(h){return new Cs(function(a){a.error(h)})}var ug=ca(function(){return fetch}),rp=function(h){void 0===h&&(h={});var a=h.uri,c=void 0===a?"/graphql":a,g=h.fetch,C=h.print,A=void 0===C?od:C,L=h.includeExtensions,z=h.useGETForQueries,J=h.includeUnusedVariables,re=void 0!==J&&J,Se=(0,ht._T)(h,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(h){if(!h&&"undefined"==typeof fetch)throw __DEV__?new bi("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new bi(20)}(g||ug);var He={http:{includeExtensions:L},options:Se.fetchOptions,credentials:Se.credentials,headers:Se.headers};return new Ic(function(Pe){var We=function(h,a){return h.getContext().uri||("function"==typeof a?a(h):a||"/graphql")}(Pe,c),Ot=Pe.getContext(),Bt={};if(Ot.clientAwareness){var tn=Ot.clientAwareness,_n=tn.name,Yn=tn.version;_n&&(Bt["apollographql-client-name"]=_n),Yn&&(Bt["apollographql-client-version"]=Yn)}var mo,mn=(0,ht.pi)((0,ht.pi)({},Bt),Ot.headers),Mr=function(h,a){for(var c=[],g=2;g<arguments.length;g++)c[g-2]=arguments[g];var C={},A={};c.forEach(function(He){C=(0,ht.pi)((0,ht.pi)((0,ht.pi)({},C),He.options),{headers:(0,ht.pi)((0,ht.pi)({},C.headers),np(He.headers))}),He.credentials&&(C.credentials=He.credentials),A=(0,ht.pi)((0,ht.pi)({},A),He.http)});var z=h.extensions,re=h.query,Se={operationName:h.operationName,variables:h.variables};return A.includeExtensions&&(Se.extensions=z),A.includeQuery&&(Se.query=a(re,rl)),{options:C,body:Se}}(Pe,A,ku,He,{http:Ot.http,options:Ot.fetchOptions,credentials:Ot.credentials,headers:mn}),Dr=Mr.options,Ur=Mr.body;if(Ur.variables&&!re){var Xr=new Set(Object.keys(Ur.variables));ha(Pe.query,{Variable:function($a,Hg,$o){$o&&"VariableDefinition"!==$o.kind&&Xr.delete($a.name.value)}}),Xr.size&&(Ur.variables=(0,ht.pi)({},Ur.variables),Xr.forEach(function($a){delete Ur.variables[$a]}))}if(!Dr.signal){var Ns=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var h=new AbortController;return{controller:h,signal:h.signal}}();(mo=Ns.controller)&&(Dr.signal=Ns.signal)}if(z&&!Pe.query.definitions.some(function($a){return"OperationDefinition"===$a.kind&&"mutation"===$a.operation})&&(Dr.method="GET"),"GET"===Dr.method){var Th=function(h,a){var c=[],g=function(He,Pe){c.push("".concat(He,"=").concat(encodeURIComponent(Pe)))};if("query"in a&&g("query",a.query),a.operationName&&g("operationName",a.operationName),a.variables){var C=void 0;try{C=Ac(a.variables,"Variables map")}catch(He){return{parseError:He}}g("variables",C)}if(a.extensions){var A=void 0;try{A=Ac(a.extensions,"Extensions map")}catch(He){return{parseError:He}}g("extensions",A)}var L="",z=h,J=h.indexOf("#");-1!==J&&(L=h.substr(J),z=h.substr(0,J));var re=-1===z.indexOf("?")?"?":"&";return{newURI:z+re+c.join("&")+L}}(We,Ur),Sh=Th.newURI,Rp=Th.parseError;if(Rp)return ld(Rp);We=Sh}else try{Dr.body=Ac(Ur,"Payload")}catch($a){return ld($a)}return new Cs(function($a){return(g||ca(function(){return fetch})||ug)(We,Dr).then(function($o){return Pe.setContext({response:$o}),$o}).then(function(h){return function(a){return a.text().then(function(c){try{return JSON.parse(c)}catch(C){var g=C;throw g.name="ServerParseError",g.response=a,g.statusCode=a.status,g.bodyText=c,g}}).then(function(c){return a.status>=300&&ih(a,c,"Response not successful: Received status code ".concat(a.status)),!Array.isArray(c)&&!Xf.call(c,"data")&&!Xf.call(c,"errors")&&ih(a,c,"Server response was missing for query '".concat(Array.isArray(h)?h.map(function(g){return g.operationName}):h.operationName,"'.")),c})}}(Pe)).then(function($o){return $a.next($o),$a.complete(),$o}).catch(function($o){"AbortError"!==$o.name&&($o.result&&$o.result.errors&&$o.result.data&&$a.next($o.result),$a.error($o))}),function(){mo&&mo.abort()}})})},ip=function(h){function a(c){void 0===c&&(c={});var g=h.call(this,rp(c).request)||this;return g.options=c,g}return(0,ht.ZT)(a,h),a}(Ic),sp=Object.prototype,oh=sp.toString,io=sp.hasOwnProperty,op=Function.prototype.toString,wo=new Map;function Go(h,a){try{return cg(h,a)}finally{wo.clear()}}function cg(h,a){if(h===a)return!0;var c=oh.call(h);if(c!==oh.call(a))return!1;switch(c){case"[object Array]":if(h.length!==a.length)return!1;case"[object Object]":if(Xh(h,a))return!0;var C=gm(h),A=gm(a),L=C.length;if(L!==A.length)return!1;for(var z=0;z<L;++z)if(!io.call(a,C[z]))return!1;for(z=0;z<L;++z){var J=C[z];if(!cg(h[J],a[J]))return!1}return!0;case"[object Error]":return h.name===a.name&&h.message===a.message;case"[object Number]":if(h!=h)return a!=a;case"[object Boolean]":case"[object Date]":return+h==+a;case"[object RegExp]":case"[object String]":return h=="".concat(a);case"[object Map]":case"[object Set]":if(h.size!==a.size)return!1;if(Xh(h,a))return!0;for(var re=h.entries(),Se="[object Map]"===c;;){var He=re.next();if(He.done)break;var Pe=He.value,We=Pe[0],Ot=Pe[1];if(!a.has(We)||Se&&!cg(Ot,a.get(We)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":h=new Uint8Array(h),a=new Uint8Array(a);case"[object DataView]":var Bt=h.byteLength;if(Bt===a.byteLength)for(;Bt--&&h[Bt]===a[Bt];);return-1===Bt;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var tn=op.call(h);return tn===op.call(a)&&!function(h,a){var c=h.length-a.length;return c>=0&&h.indexOf(a,c)===c}(tn,mm)}return!1}function gm(h){return Object.keys(h).filter(oy,h)}function oy(h){return void 0!==this[h]}var mm="{ [native code] }";function Xh(h,a){var c=wo.get(h);if(c){if(c.has(a))return!0}else wo.set(h,c=new Set);return c.add(a),!1}var ly=function(){return Object.create(null)},Xl=Array.prototype,ah=Xl.forEach,ap=Xl.slice,eu=function(){function h(a,c){void 0===a&&(a=!0),void 0===c&&(c=ly),this.weakness=a,this.makeData=c}return h.prototype.lookup=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return this.lookupArray(a)},h.prototype.lookupArray=function(a){var c=this;return ah.call(a,function(g){return c=c.getChildTrie(g)}),c.data||(c.data=this.makeData(ap.call(a)))},h.prototype.getChildTrie=function(a){var c=this.weakness&&function(h){switch(typeof h){case"object":if(null===h)break;case"function":return!0}return!1}(a)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),g=c.get(a);return g||c.set(a,g=new h(this.weakness,this.makeData)),g},h}(),tu="function"==typeof WeakMap&&"ReactNative"!==ca(function(){return navigator.product}),lh="function"==typeof WeakSet,dg="function"==typeof Symbol&&"function"==typeof Symbol.for;function xc(){for(var h=[],a=0;a<arguments.length;a++)h[a]=arguments[a];var c=Object.create(null);return h.forEach(function(g){!g||Object.keys(g).forEach(function(C){var A=g[C];void 0!==A&&(c[C]=A)})}),c}function uh(h,a){var c=h.directives;return!c||!c.length||function(h){var a=[];return h&&h.length&&h.forEach(function(c){if(function(h){var a=h.name.value;return"skip"===a||"include"===a}(c)){var g=c.arguments,C=c.name.value;__DEV__?$n(g&&1===g.length,"Incorrect number of arguments for the @".concat(C," directive.")):$n(g&&1===g.length,38);var A=g[0];__DEV__?$n(A.name&&"if"===A.name.value,"Invalid argument for the @".concat(C," directive.")):$n(A.name&&"if"===A.name.value,39);var L=A.value;__DEV__?$n(L&&("Variable"===L.kind||"BooleanValue"===L.kind),"Argument for the @".concat(C," directive must be a variable or a boolean value.")):$n(L&&("Variable"===L.kind||"BooleanValue"===L.kind),40),a.push({directive:c,ifArgument:A})}}),a}(c).every(function(g){var C=g.directive,A=g.ifArgument,L=!1;return"Variable"===A.value.kind?(L=a&&a[A.value.name.value],__DEV__?$n(void 0!==L,"Invalid variable referenced in @".concat(C.name.value," directive.")):$n(void 0!==L,37)):L=A.value.value,"skip"===C.name.value?!L:L})}function lp(h,a){return function(h){var a=[];return ha(h,{Directive:function(c){a.push(c.name.value)}}),a}(a).some(function(c){return h.indexOf(c)>-1})}function fg(h){return h&&lp(["client"],h)&&lp(["export"],h)}ca(function(){return window.document.createElement}),ca(function(){return navigator.userAgent.indexOf("jsdom")>=0});var El=Object.prototype.hasOwnProperty;function cd(){for(var h=[],a=0;a<arguments.length;a++)h[a]=arguments[a];return wl(h)}function wl(h){var a=h[0]||{},c=h.length;if(c>1)for(var g=new il,C=1;C<c;++C)a=g.merge(a,h[C]);return a}var ch=function(h,a,c){return this.merge(h[c],a[c])},il=function(){function h(a){void 0===a&&(a=ch),this.reconciler=a,this.isObject=Ji,this.pastCopies=new Set}return h.prototype.merge=function(a,c){for(var g=this,C=[],A=2;A<arguments.length;A++)C[A-2]=arguments[A];return Ji(c)&&Ji(a)?(Object.keys(c).forEach(function(L){if(El.call(a,L)){var z=a[L];if(c[L]!==z){var J=g.reconciler.apply(g,(0,ht.ev)([a,c,L],C,!1));J!==z&&((a=g.shallowCopyForMerge(a))[L]=J)}}else(a=g.shallowCopyForMerge(a))[L]=c[L]}),a):c},h.prototype.shallowCopyForMerge=function(a){return Ji(a)&&(this.pastCopies.has(a)||(a=Array.isArray(a)?a.slice(0):(0,ht.pi)({__proto__:Object.getPrototypeOf(a)},a),this.pastCopies.add(a))),a},h}(),No=Object.prototype.hasOwnProperty;function ef(h,a){var c=h.__typename,g=h.id,C=h._id;if("string"==typeof c&&(a&&(a.keyObject=void 0!==g?{id:g}:void 0!==C?{_id:C}:void 0),void 0===g&&(g=C),void 0!==g))return"".concat(c,":").concat("number"==typeof g||"string"==typeof g?g:JSON.stringify(g))}var dh={dataIdFromObject:ef,addTypename:!0,resultCaching:!0,canonizeResults:!1};function dd(h){var a=h.canonizeResults;return void 0===a?dh.canonizeResults:a}var Oc=/^[_a-z][_0-9a-z]*/i;function Fu(h){var a=h.match(Oc);return a?a[0]:h}function Mc(h,a,c){return!!Ji(a)&&(Ps(a)?a.every(function(g){return Mc(h,g,c)}):h.selections.every(function(g){if(da(g)&&uh(g,c)){var C=tl(g);return No.call(a,C)&&(!g.selectionSet||Mc(g.selectionSet,a[C],c))}return!0}))}function Lu(h){return Ji(h)&&!Ii(h)&&!Ps(h)}var dp,pa,Ps=function(h){return Array.isArray(h)},hd=function(){function h(){this.known=new(lh?WeakSet:Set),this.pool=new eu(tu),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return h.prototype.isKnown=function(a){return Ji(a)&&this.known.has(a)},h.prototype.pass=function(a){if(Ji(a)){var c=function(h){return Ji(h)?Ps(h)?h.slice(0):(0,ht.pi)({__proto__:Object.getPrototypeOf(h)},h):h}(a);return this.passes.set(c,a),c}return a},h.prototype.admit=function(a){var c=this;if(Ji(a)){var g=this.passes.get(a);if(g)return g;switch(Object.getPrototypeOf(a)){case Array.prototype:if(this.known.has(a))return a;var A=a.map(this.admit,this);return(L=this.pool.lookupArray(A)).array||(this.known.add(L.array=A),__DEV__&&Object.freeze(A)),L.array;case null:case Object.prototype:if(this.known.has(a))return a;var z=Object.getPrototypeOf(a),J=[z],re=this.sortedKeys(a);J.push(re.json);var L,Se=J.length;if(re.sorted.forEach(function(We){J.push(c.admit(a[We]))}),!(L=this.pool.lookupArray(J)).object){var He=L.object=Object.create(z);this.known.add(He),re.sorted.forEach(function(We,Ot){He[We]=J[Se+Ot]}),__DEV__&&Object.freeze(He)}return L.object}}return a},h.prototype.sortedKeys=function(a){var c=Object.keys(a),g=this.pool.lookupArray(c);if(!g.keys){c.sort();var C=JSON.stringify(c);(g.keys=this.keysByJSON.get(C))||this.keysByJSON.set(C,g.keys={sorted:c,json:C})}return g.keys},h}(),ic=Object.assign(function(h){if(Ji(h)){void 0===dp&&gg();var a=dp.admit(h),c=pa.get(a);return void 0===c&&pa.set(a,c=JSON.stringify(a)),c}return JSON.stringify(h)},{reset:gg});function gg(){dp=new hd,pa=new(tu?WeakMap:Map)}function hp(h,a,c){return new Cs(function(g){var C=g.next,A=g.error,L=g.complete,z=0,J=!1,re={then:function(We){return new Promise(function(Ot){return Ot(We())})}};function Se(We,Ot){return We?function(Bt){++z;var tn=function(){return We(Bt)};re=re.then(tn,tn).then(function(_n){--z,C&&C.call(g,_n),J&&He.complete()},function(_n){throw--z,_n}).catch(function(_n){A&&A.call(g,_n)})}:function(Bt){return Ot&&Ot.call(g,Bt)}}var He={next:Se(a,C),error:Se(c,A),complete:function(){J=!0,z||L&&L.call(g)}},Pe=h.subscribe(He);return function(){return Pe.unsubscribe()}})}function nf(h){return h.errors&&h.errors.length>0||!1}function vm(h,a,c){var g=0;return h.forEach(function(C,A){a.call(this,C,A,h)&&(h[g++]=C)},c),h.length=g,h}var fh={kind:"Field",name:{kind:"Name",value:"__typename"}};function rf(h,a){return h.selectionSet.selections.every(function(c){return"FragmentSpread"===c.kind&&rf(a[c.name.value],a)})}function fd(h){return rf(Tc(h)||function(h){__DEV__?$n("Document"===h.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):$n("Document"===h.kind,48),__DEV__?$n(h.definitions.length<=1,"Fragment must have exactly one definition."):$n(h.definitions.length<=1,49);var a=h.definitions[0];return __DEV__?$n("FragmentDefinition"===a.kind,"Must be a fragment definition."):$n("FragmentDefinition"===a.kind,50),a}(h),nd(nc(h)))?null:h}function nu(h){return function(c){return h.some(function(g){return g.name&&g.name===c.name.value||g.test&&g.test(c)})}}function sc(h,a){var c=Object.create(null),g=[],C=Object.create(null),A=[],L=fd(ha(a,{Variable:{enter:function(z,J,re){"VariableDefinition"!==re.kind&&(c[z.name.value]=!0)}},Field:{enter:function(z){if(h&&z.directives&&h.some(function(re){return re.remove})&&z.directives&&z.directives.some(nu(h)))return z.arguments&&z.arguments.forEach(function(re){"Variable"===re.value.kind&&g.push({name:re.value.name.value})}),z.selectionSet&&md(z.selectionSet).forEach(function(re){A.push({name:re.name.value})}),null}},FragmentSpread:{enter:function(z){C[z.name.value]=!0}},Directive:{enter:function(z){if(nu(h)(z))return null}}}));return L&&vm(g,function(z){return!!z.name&&!c[z.name]}).length&&(L=function(h,a){var c=function(h){return function(c){return h.some(function(g){return c.value&&"Variable"===c.value.kind&&c.value.name&&(g.name===c.value.name.value||g.test&&g.test(c))})}}(h);return fd(ha(a,{OperationDefinition:{enter:function(g){return(0,ht.pi)((0,ht.pi)({},g),{variableDefinitions:g.variableDefinitions?g.variableDefinitions.filter(function(C){return!h.some(function(A){return A.name===C.variable.name.value})}):[]})}},Field:{enter:function(g){var C=h.some(function(L){return L.remove});if(C){var A=0;if(g.arguments&&g.arguments.forEach(function(L){c(L)&&(A+=1)}),1===A)return null}}},Argument:{enter:function(g){if(c(g))return null}}}))}(g,L)),L&&vm(A,function(z){return!!z.name&&!C[z.name]}).length&&(L=function(h,a){function c(g){if(h.some(function(C){return C.name===g.name.value}))return null}return fd(ha(a,{FragmentSpread:{enter:c},FragmentDefinition:{enter:c}}))}(A,L)),L}var fp=Object.assign(function(h){return ha(h,{SelectionSet:{enter:function(a,c,g){if(!g||"OperationDefinition"!==g.kind){var C=a.selections;if(C&&!C.some(function(z){return da(z)&&("__typename"===z.name.value||0===z.name.value.lastIndexOf("__",0))})){var L=g;if(!(da(L)&&L.directives&&L.directives.some(function(z){return"export"===z.name.value})))return(0,ht.pi)((0,ht.pi)({},a),{selections:(0,ht.ev)((0,ht.ev)([],C,!0),[fh],!1)})}}}}})},{added:function(h){return h===fh}}),bm={test:function(h){var a="connection"===h.name.value;return a&&(!h.arguments||!h.arguments.some(function(c){return"key"===c.name.value}))&&__DEV__&&$n.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),a}};function md(h){var a=[];return h.selections.forEach(function(c){(da(c)||Ou(c))&&c.selectionSet?md(c.selectionSet).forEach(function(g){return a.push(g)}):"FragmentSpread"===c.kind&&a.push(c)}),a}function yd(h){return"query"===th(h).operation?h:ha(h,{OperationDefinition:{enter:function(C){return(0,ht.pi)((0,ht.pi)({},C),{operation:"query"})}}})}var Pl=new Map;function Rc(h){var a=Pl.get(h)||1;return Pl.set(h,a+1),"".concat(h,":").concat(a,":").concat(Math.random().toString(36).slice(2))}function _d(h,a,c){var g=[];h.forEach(function(C){return C[a]&&g.push(C)}),g.forEach(function(C){return C[a](c)})}function Vu(h){function a(c){Object.defineProperty(h,c,{value:Cs})}return dg&&Symbol.species&&a(Symbol.species),a("@@species"),h}function yg(h){return h&&"function"==typeof h.then}var _=function(h){function a(c){var g=h.call(this,function(C){return g.addObserver(C),function(){return g.removeObserver(C)}})||this;return g.observers=new Set,g.addCount=0,g.promise=new Promise(function(C,A){g.resolve=C,g.reject=A}),g.handlers={next:function(C){null!==g.sub&&(g.latest=["next",C],_d(g.observers,"next",C))},error:function(C){var A=g.sub;null!==A&&(A&&setTimeout(function(){return A.unsubscribe()}),g.sub=null,g.latest=["error",C],g.reject(C),_d(g.observers,"error",C))},complete:function(){var C=g.sub;if(null!==C){var A=g.sources.shift();A?yg(A)?A.then(function(L){return g.sub=L.subscribe(g.handlers)}):g.sub=A.subscribe(g.handlers):(C&&setTimeout(function(){return C.unsubscribe()}),g.sub=null,g.latest&&"next"===g.latest[0]?g.resolve(g.latest[1]):g.resolve(),_d(g.observers,"complete"))}}},g.cancel=function(C){g.reject(C),g.sources=[],g.handlers.complete()},g.promise.catch(function(C){}),"function"==typeof c&&(c=[new Cs(c)]),yg(c)?c.then(function(C){return g.start(C)},g.handlers.error):g.start(c),g}return(0,ht.ZT)(a,h),a.prototype.start=function(c){void 0===this.sub&&(this.sources=Array.from(c),this.handlers.complete())},a.prototype.deliverLastMessage=function(c){if(this.latest){var g=this.latest[0],C=c[g];C&&C.call(c,this.latest[1]),null===this.sub&&"next"===g&&c.complete&&c.complete()}},a.prototype.addObserver=function(c){this.observers.has(c)||(this.deliverLastMessage(c),this.observers.add(c),++this.addCount)},a.prototype.removeObserver=function(c,g){this.observers.delete(c)&&--this.addCount<1&&!g&&this.handlers.complete()},a.prototype.cleanup=function(c){var g=this,C=!1,A=function(){C||(C=!0,g.observers.delete(L),c())},L={next:A,error:A,complete:A},z=this.addCount;this.addObserver(L),this.addCount=z},a}(Cs);function m(h){return Array.isArray(h)&&h.length>0}Vu(_);var F=function(h){function a(c){var g=c.graphQLErrors,C=c.clientErrors,A=c.networkError,L=c.errorMessage,z=c.extraInfo,J=h.call(this,L)||this;return J.graphQLErrors=g||[],J.clientErrors=C||[],J.networkError=A||null,J.message=L||function(h){var a="";return(m(h.graphQLErrors)||m(h.clientErrors))&&(h.graphQLErrors||[]).concat(h.clientErrors||[]).forEach(function(g){a+="".concat(g?g.message:"Error message not found.","\n")}),h.networkError&&(a+="".concat(h.networkError.message,"\n")),a=a.replace(/\n$/,"")}(J),J.extraInfo=z,J.__proto__=a.prototype,J}return(0,ht.ZT)(a,h),a}(Error),Y=Object.prototype.toString;function Re(h){return Mt(h)}function Mt(h,a){switch(Y.call(h)){case"[object Array]":if((a=a||new Map).has(h))return a.get(h);var c=h.slice(0);return a.set(h,c),c.forEach(function(C,A){c[A]=Mt(C,a)}),c;case"[object Object]":if((a=a||new Map).has(h))return a.get(h);var g=Object.create(Object.getPrototypeOf(h));return a.set(h,g),Object.keys(h).forEach(function(C){g[C]=Mt(h[C],a)}),g;default:return h}}var Gt=Object.assign,pn=Object.hasOwnProperty,Wn=function(h){function a(c){var g=c.queryManager,C=c.queryInfo,A=c.options,L=h.call(this,function(tn){try{var _n=tn._subscription._observer;_n&&!_n.error&&(_n.error=Zo)}catch(Hn){}var Yn=!L.observers.size;L.observers.add(tn);var mn=L.last;return mn&&mn.error?tn.error&&tn.error(mn.error):mn&&mn.result&&tn.next&&tn.next(mn.result),Yn&&L.reobserve().catch(function(){}),function(){L.observers.delete(tn)&&!L.observers.size&&L.tearDownQuery()}})||this;L.observers=new Set,L.subscriptions=new Set,L.queryInfo=C,L.queryManager=g,L.isTornDown=!1;var z=g.defaultOptions.watchQuery,re=(void 0===z?{}:z).fetchPolicy,Se=void 0===re?"cache-first":re,He=A.fetchPolicy,Pe=void 0===He?Se:He,We=A.initialFetchPolicy,Ot=void 0===We?"standby"===Pe?Se:Pe:We;L.options=(0,ht.pi)((0,ht.pi)({},A),{initialFetchPolicy:Ot,fetchPolicy:Pe}),L.queryId=C.queryId||g.generateQueryId();var Bt=Tc(L.query);return L.queryName=Bt&&Bt.name&&Bt.name.value,L}return(0,ht.ZT)(a,h),Object.defineProperty(a.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),a.prototype.result=function(){var c=this;return new Promise(function(g,C){var A={next:function(z){g(z),c.observers.delete(A),c.observers.size||c.queryManager.removeQuery(c.queryId),setTimeout(function(){L.unsubscribe()},0)},error:C},L=c.subscribe(A)})},a.prototype.getCurrentResult=function(c){void 0===c&&(c=!0);var g=this.getLastResult(!0),C=this.queryInfo.networkStatus||g&&g.networkStatus||gi.ready,A=(0,ht.pi)((0,ht.pi)({},g),{loading:_c(C),networkStatus:C}),L=this.options.fetchPolicy,z=void 0===L?"cache-first":L;if("network-only"!==z&&"no-cache"!==z&&"standby"!==z&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var J=this.queryInfo.getDiff();(J.complete||this.options.returnPartialData)&&(A.data=J.result),Go(A.data,{})&&(A.data=void 0),J.complete?(delete A.partial,J.complete&&A.networkStatus===gi.loading&&("cache-first"===z||"cache-only"===z)&&(A.networkStatus=gi.ready,A.loading=!1)):A.partial=!0,__DEV__&&!J.complete&&!this.options.partialRefetch&&!A.loading&&!A.data&&!A.error&&Ra(J.missing)}return c&&this.updateLastResult(A),A},a.prototype.isDifferentFromLastResult=function(c){return!this.last||!Go(this.last.result,c)},a.prototype.getLast=function(c,g){var C=this.last;if(C&&C[c]&&(!g||Go(C.variables,this.variables)))return C[c]},a.prototype.getLastResult=function(c){return this.getLast("result",c)},a.prototype.getLastError=function(c){return this.getLast("error",c)},a.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},a.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},a.prototype.refetch=function(c){var g,C={pollInterval:0},A=this.options.fetchPolicy;if(C.fetchPolicy="cache-and-network"===A?A:"no-cache"===A?"no-cache":"network-only",__DEV__&&c&&pn.call(c,"variables")){var L=Sc(this.query),z=L.variableDefinitions;(!z||!z.some(function(J){return"variables"===J.variable.name.value}))&&__DEV__&&$n.warn("Called refetch(".concat(JSON.stringify(c),") for query ").concat((null===(g=L.name)||void 0===g?void 0:g.value)||JSON.stringify(L),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return c&&!Go(this.options.variables,c)&&(C.variables=this.options.variables=(0,ht.pi)((0,ht.pi)({},this.options.variables),c)),this.queryInfo.resetLastWrite(),this.reobserve(C,gi.refetch)},a.prototype.fetchMore=function(c){var g=this,C=(0,ht.pi)((0,ht.pi)({},c.query?c:(0,ht.pi)((0,ht.pi)((0,ht.pi)((0,ht.pi)({},this.options),{query:this.query}),c),{variables:(0,ht.pi)((0,ht.pi)({},this.options.variables),c.variables)})),{fetchPolicy:"no-cache"}),A=this.queryManager.generateQueryId(),L=this.queryInfo,z=L.networkStatus;L.networkStatus=gi.fetchMore,C.notifyOnNetworkStatusChange&&this.observe();var J=new Set;return this.queryManager.fetchQuery(A,C,gi.fetchMore).then(function(re){return g.queryManager.removeQuery(A),L.networkStatus===gi.fetchMore&&(L.networkStatus=z),g.queryManager.cache.batch({update:function(Se){var He=c.updateQuery;He?Se.updateQuery({query:g.query,variables:g.variables,returnPartialData:!0,optimistic:!1},function(Pe){return He(Pe,{fetchMoreResult:re.data,variables:C.variables})}):Se.writeQuery({query:C.query,variables:C.variables,data:re.data})},onWatchUpdated:function(Se){J.add(Se.query)}}),re}).finally(function(){J.has(g.query)||mi(g)})},a.prototype.subscribeToMore=function(c){var g=this,C=this.queryManager.startGraphQLSubscription({query:c.document,variables:c.variables,context:c.context}).subscribe({next:function(A){var L=c.updateQuery;L&&g.updateQuery(function(z,J){return L(z,{subscriptionData:A,variables:J.variables})})},error:function(A){c.onError?c.onError(A):__DEV__&&$n.error("Unhandled GraphQL subscription error",A)}});return this.subscriptions.add(C),function(){g.subscriptions.delete(C)&&C.unsubscribe()}},a.prototype.setOptions=function(c){return this.reobserve(c)},a.prototype.setVariables=function(c){return Go(this.variables,c)?this.observers.size?this.result():Promise.resolve():(this.options.variables=c,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:c},gi.setVariables):Promise.resolve())},a.prototype.updateQuery=function(c){var g=this.queryManager,A=c(g.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});A&&(g.cache.writeQuery({query:this.options.query,data:A,variables:this.variables}),g.broadcastQueries())},a.prototype.startPolling=function(c){this.options.pollInterval=c,this.updatePolling()},a.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},a.prototype.applyNextFetchPolicy=function(c,g){if(g.nextFetchPolicy){var C=g.fetchPolicy,A=void 0===C?"cache-first":C,L=g.initialFetchPolicy,z=void 0===L?A:L;"standby"===A||(g.fetchPolicy="function"==typeof g.nextFetchPolicy?g.nextFetchPolicy(A,{reason:c,options:g,observable:this,initialFetchPolicy:z}):"variables-changed"===c?z:g.nextFetchPolicy)}return g.fetchPolicy},a.prototype.fetch=function(c,g){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,c,g)},a.prototype.updatePolling=function(){var c=this;if(!this.queryManager.ssrMode){var C=this.pollingInfo,A=this.options.pollInterval;if(!A)return void(C&&(clearTimeout(C.timeout),delete this.pollingInfo));if(!C||C.interval!==A){__DEV__?$n(A,"Attempted to start a polling query without a polling interval."):$n(A,10),(C||(this.pollingInfo={})).interval=A;var z=function(){c.pollingInfo&&(_c(c.queryInfo.networkStatus)?J():c.reobserve({fetchPolicy:"network-only"},gi.poll).then(J,J))},J=function(){var re=c.pollingInfo;re&&(clearTimeout(re.timeout),re.timeout=setTimeout(z,re.interval))};J()}}},a.prototype.updateLastResult=function(c,g){return void 0===g&&(g=this.variables),this.last=(0,ht.pi)((0,ht.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?c:Re(c),variables:g}),m(c.errors)||delete this.last.error,this.last},a.prototype.reobserve=function(c,g){var C=this;this.isTornDown=!1;var A=g===gi.refetch||g===gi.fetchMore||g===gi.poll,L=this.options.variables,z=this.options.fetchPolicy,J=xc(this.options,c||{}),re=A?J:Gt(this.options,J);A||(this.updatePolling(),c&&c.variables&&!Go(c.variables,L)&&"standby"!==re.fetchPolicy&&re.fetchPolicy===z&&(this.applyNextFetchPolicy("variables-changed",re),void 0===g&&(g=gi.setVariables)));var Se=re.variables&&(0,ht.pi)({},re.variables),He=this.fetch(re,g),Pe={next:function(We){C.reportResult(We,Se)},error:function(We){C.reportError(We,Se)}};return A||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=He,this.observer=Pe),He.addObserver(Pe),He.promise},a.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},a.prototype.reportResult=function(c,g){var C=this.getLastError();(C||this.isDifferentFromLastResult(c))&&((C||!c.partial||this.options.returnPartialData)&&this.updateLastResult(c,g),_d(this.observers,"next",c))},a.prototype.reportError=function(c,g){var C=(0,ht.pi)((0,ht.pi)({},this.getLastResult()),{error:c,errors:c.graphQLErrors,networkStatus:gi.error,loading:!1});this.updateLastResult(C,g),_d(this.observers,"error",this.last.error=c)},a.prototype.hasObservers=function(){return this.observers.size>0},a.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(c){return c.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},a}(Cs);function mi(h){var a=h.options,c=a.fetchPolicy,g=a.nextFetchPolicy;return"cache-and-network"===c||"network-only"===c?h.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=g,"function"==typeof g?g.apply(this,arguments):c}}):h.reobserve()}function Zo(h){__DEV__&&$n.error("Unhandled error",h.message,h.stack)}function Ra(h){__DEV__&&h&&__DEV__&&$n.debug("Missing cache result fields: ".concat(JSON.stringify(h)),h)}Vu(Wn);var as=null,Nl={},kc=1,oc="@wry/context:Slot",sl=Array,Uu=sl[oc]||function(){var h=function(){function h(){this.id=["slot",kc++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return h.prototype.hasValue=function(){for(var a=as;a;a=a.parent)if(this.id in a.slots){var c=a.slots[this.id];if(c===Nl)break;return a!==as&&(as.slots[this.id]=c),!0}return as&&(as.slots[this.id]=Nl),!1},h.prototype.getValue=function(){if(this.hasValue())return as.slots[this.id]},h.prototype.withValue=function(a,c,g,C){var A,L=((A={__proto__:null})[this.id]=a,A),z=as;as={parent:z,slots:L};try{return c.apply(C,g)}finally{as=z}},h.bind=function(a){var c=as;return function(){var g=as;try{return as=c,a.apply(this,arguments)}finally{as=g}}},h.noContext=function(a,c,g){if(!as)return a.apply(g,c);var C=as;try{return as=null,a.apply(g,c)}finally{as=C}},h}();try{Object.defineProperty(sl,oc,{value:sl[oc]=h,enumerable:!1,writable:!1,configurable:!1})}finally{return h}}();function Fl(){}var ru,wg=function(){function h(a,c){void 0===a&&(a=1/0),void 0===c&&(c=Fl),this.max=a,this.dispose=c,this.map=new Map,this.newest=null,this.oldest=null}return h.prototype.has=function(a){return this.map.has(a)},h.prototype.get=function(a){var c=this.getNode(a);return c&&c.value},h.prototype.getNode=function(a){var c=this.map.get(a);if(c&&c!==this.newest){var g=c.older,C=c.newer;C&&(C.older=g),g&&(g.newer=C),c.older=this.newest,c.older.newer=c,c.newer=null,this.newest=c,c===this.oldest&&(this.oldest=C)}return c},h.prototype.set=function(a,c){var g=this.getNode(a);return g?g.value=c:(g={key:a,value:c,newer:null,older:this.newest},this.newest&&(this.newest.newer=g),this.newest=g,this.oldest=this.oldest||g,this.map.set(a,g),g.value)},h.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},h.prototype.delete=function(a){var c=this.map.get(a);return!!c&&(c===this.newest&&(this.newest=c.older),c===this.oldest&&(this.oldest=c.newer),c.newer&&(c.newer.older=c.older),c.older&&(c.older.newer=c.newer),this.map.delete(a),this.dispose(c.value,a),!0)},h}(),Ll=new Uu,uy=Object.prototype.hasOwnProperty,ac=void 0===(ru=Array.from)?function(h){var a=[];return h.forEach(function(c){return a.push(c)}),a}:ru;function yp(h){var a=h.unsubscribe;"function"==typeof a&&(h.unsubscribe=void 0,a())}var _p=[];function vd(h,a){if(!h)throw new Error(a||"assertion failure")}function Tg(h){switch(h.length){case 0:throw new Error("unknown value");case 1:return h[0];case 2:throw h[1]}}var cy=function(){function h(a){this.fn=a,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++h.count}return h.prototype.peek=function(){if(1===this.value.length&&!Fc(this))return Nc(this),this.value[0]},h.prototype.recompute=function(a){return vd(!this.recomputing,"already recomputing"),Nc(this),Fc(this)?function(h,a){return Sm(h),Ll.withValue(h,r_,[h,a]),function(h,a){if("function"==typeof h.subscribe)try{yp(h),h.unsubscribe=h.subscribe.apply(null,a)}catch(c){return h.setDirty(),!1}return!0}(h,a)&&function(h){h.dirty=!1,!Fc(h)&&Cm(h)}(h),Tg(h.value)}(this,a):Tg(this.value)},h.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,wm(this),yp(this))},h.prototype.dispose=function(){var a=this;this.setDirty(),Sm(this),Ig(this,function(c,g){c.setDirty(),$s(c,a)})},h.prototype.forget=function(){this.dispose()},h.prototype.dependOn=function(a){a.add(this),this.deps||(this.deps=_p.pop()||new Set),this.deps.add(a)},h.prototype.forgetDeps=function(){var a=this;this.deps&&(ac(this.deps).forEach(function(c){return c.delete(a)}),this.deps.clear(),_p.push(this.deps),this.deps=null)},h.count=0,h}();function Nc(h){var a=Ll.getValue();if(a)return h.parents.add(a),a.childValues.has(h)||a.childValues.set(h,[]),Fc(h)?Tm(a,h):i_(a,h),a}function r_(h,a){h.recomputing=!0,h.value.length=0;try{h.value[0]=h.fn.apply(null,a)}catch(c){h.value[1]=c}h.recomputing=!1}function Fc(h){return h.dirty||!(!h.dirtyChildren||!h.dirtyChildren.size)}function wm(h){Ig(h,Tm)}function Cm(h){Ig(h,i_)}function Ig(h,a){var c=h.parents.size;if(c)for(var g=ac(h.parents),C=0;C<c;++C)a(g[C],h)}function Tm(h,a){vd(h.childValues.has(a)),vd(Fc(a));var c=!Fc(h);if(h.dirtyChildren){if(h.dirtyChildren.has(a))return}else h.dirtyChildren=_p.pop()||new Set;h.dirtyChildren.add(a),c&&wm(h)}function i_(h,a){vd(h.childValues.has(a)),vd(!Fc(a));var c=h.childValues.get(a);0===c.length?h.childValues.set(a,function(h){return h.slice(0)}(a.value)):function(h,a){var c=h.length;return c>0&&c===a.length&&h[c-1]===a[c-1]}(c,a.value)||h.setDirty(),dy(h,a),!Fc(h)&&Cm(h)}function dy(h,a){var c=h.dirtyChildren;c&&(c.delete(a),0===c.size&&(_p.length<100&&_p.push(c),h.dirtyChildren=null))}function Sm(h){h.childValues.size>0&&h.childValues.forEach(function(a,c){$s(h,c)}),h.forgetDeps(),vd(null===h.dirtyChildren)}function $s(h,a){a.parents.delete(h),h.childValues.delete(a),dy(h,a)}var hy={setDirty:!0,dispose:!0,forget:!0};function iu(h){var a=new Map,c=h&&h.subscribe;function g(C){var A=Ll.getValue();if(A){var L=a.get(C);L||a.set(C,L=new Set),A.dependOn(L),"function"==typeof c&&(yp(L),L.unsubscribe=c(C))}}return g.dirty=function(A,L){var z=a.get(A);if(z){var J=L&&uy.call(hy,L)?L:"setDirty";ac(z).forEach(function(re){return re[J]()}),a.delete(A),yp(z)}},g}function Dg(){var h=new eu("function"==typeof WeakMap);return function(){return h.lookupArray(arguments)}}Dg();var fy=new Set;function uf(h,a){void 0===a&&(a=Object.create(null));var c=new wg(a.max||Math.pow(2,16),function(re){return re.dispose()}),g=a.keyArgs,C=a.makeCacheKey||Dg(),A=function(){var re=C.apply(null,g?g.apply(null,arguments):arguments);if(void 0===re)return h.apply(null,arguments);var Se=c.get(re);Se||(c.set(re,Se=new cy(h)),Se.subscribe=a.subscribe,Se.forget=function(){return c.delete(re)});var He=Se.recompute(Array.prototype.slice.call(arguments));return c.set(re,Se),fy.add(c),Ll.hasValue()||(fy.forEach(function(Pe){return Pe.clean()}),fy.clear()),He};function L(re){var Se=c.get(re);Se&&Se.setDirty()}function z(re){var Se=c.get(re);if(Se)return Se.peek()}function J(re){return c.delete(re)}return Object.defineProperty(A,"size",{get:function(){return c.map.size},configurable:!1,enumerable:!1}),A.dirtyKey=L,A.dirty=function(){L(C.apply(null,arguments))},A.peekKey=z,A.peek=function(){return z(C.apply(null,arguments))},A.forgetKey=J,A.forget=function(){return J(C.apply(null,arguments))},A.makeCacheKey=C,A.getKey=g?function(){return C.apply(null,g.apply(null,arguments))}:C,Object.freeze(A)}var xg=new Uu,Ep=new WeakMap;function gh(h){var a=Ep.get(h);return a||Ep.set(h,a={vars:new Set,dep:iu()}),a}function Im(h){gh(h).vars.forEach(function(a){return a.forgetCache(h)})}function s_(h){var a=new Set,c=new Set,g=function(A){if(arguments.length>0){if(h!==A){h=A,a.forEach(function(J){gh(J).dep.dirty(g),Dm(J)});var L=Array.from(c);c.clear(),L.forEach(function(J){return J(h)})}}else{var z=xg.getValue();z&&(C(z),gh(z).dep(g))}return h};g.onNextChange=function(A){return c.add(A),function(){c.delete(A)}};var C=g.attachCache=function(A){return a.add(A),gh(A).vars.add(g),g};return g.forgetCache=function(A){return a.delete(A)},g}function Dm(h){h.broadcastWatches&&h.broadcastWatches()}var cf=function(){function h(a){var g=a.client,C=a.resolvers,A=a.fragmentMatcher;this.cache=a.cache,g&&(this.client=g),C&&this.addResolvers(C),A&&this.setFragmentMatcher(A)}return h.prototype.addResolvers=function(a){var c=this;this.resolvers=this.resolvers||{},Array.isArray(a)?a.forEach(function(g){c.resolvers=cd(c.resolvers,g)}):this.resolvers=cd(this.resolvers,a)},h.prototype.setResolvers=function(a){this.resolvers={},this.addResolvers(a)},h.prototype.getResolvers=function(){return this.resolvers||{}},h.prototype.runResolvers=function(a){var c=a.document,g=a.remoteResult,C=a.context,A=a.variables,L=a.onlyRunForcedResolvers,z=void 0!==L&&L;return(0,ht.mG)(this,void 0,void 0,function(){return(0,ht.Jh)(this,function(J){return c?[2,this.resolveDocument(c,g.data,C,A,this.fragmentMatcher,z).then(function(re){return(0,ht.pi)((0,ht.pi)({},g),{data:re.result})})]:[2,g]})})},h.prototype.setFragmentMatcher=function(a){this.fragmentMatcher=a},h.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},h.prototype.clientQuery=function(a){return lp(["client"],a)&&this.resolvers?a:null},h.prototype.serverQuery=function(a){return function(h){Mu(h);var a=sc([{test:function(c){return"client"===c.name.value},remove:!0}],h);return a&&(a=ha(a,{FragmentDefinition:{enter:function(c){if(c.selectionSet&&c.selectionSet.selections.every(function(C){return da(C)&&"__typename"===C.name.value}))return null}}})),a}(a)},h.prototype.prepareContext=function(a){var c=this.cache;return(0,ht.pi)((0,ht.pi)({},a),{cache:c,getCacheKey:function(g){return c.identify(g)}})},h.prototype.addExportedVariables=function(a,c,g){return void 0===c&&(c={}),void 0===g&&(g={}),(0,ht.mG)(this,void 0,void 0,function(){return(0,ht.Jh)(this,function(C){return a?[2,this.resolveDocument(a,this.buildRootValueFromCache(a,c)||{},this.prepareContext(g),c).then(function(A){return(0,ht.pi)((0,ht.pi)({},c),A.exportedVariables)})]:[2,(0,ht.pi)({},c)]})})},h.prototype.shouldForceResolvers=function(a){var c=!1;return ha(a,{Directive:{enter:function(g){if("client"===g.name.value&&g.arguments&&(c=g.arguments.some(function(C){return"always"===C.name.value&&"BooleanValue"===C.value.kind&&!0===C.value.value})))return ko}}}),c},h.prototype.buildRootValueFromCache=function(a,c){return this.cache.diff({query:yd(a),variables:c,returnPartialData:!0,optimistic:!1}).result},h.prototype.resolveDocument=function(a,c,g,C,A,L){return void 0===g&&(g={}),void 0===C&&(C={}),void 0===A&&(A=function(){return!0}),void 0===L&&(L=!1),(0,ht.mG)(this,void 0,void 0,function(){var z,J,re,Se,He,Pe,We,Ot,Bt;return(0,ht.Jh)(this,function(tn){return z=th(a),J=nc(a),re=nd(J),He=(Se=z.operation)?Se.charAt(0).toUpperCase()+Se.slice(1):"Query",We=(Pe=this).cache,Ot=Pe.client,Bt={fragmentMap:re,context:(0,ht.pi)((0,ht.pi)({},g),{cache:We,client:Ot}),variables:C,fragmentMatcher:A,defaultOperationType:He,exportedVariables:{},onlyRunForcedResolvers:L},[2,this.resolveSelectionSet(z.selectionSet,c,Bt).then(function(_n){return{result:_n,exportedVariables:Bt.exportedVariables}})]})})},h.prototype.resolveSelectionSet=function(a,c,g){return(0,ht.mG)(this,void 0,void 0,function(){var C,A,L,z,re=this;return(0,ht.Jh)(this,function(Se){return C=g.fragmentMap,A=g.context,L=g.variables,z=[c],[2,Promise.all(a.selections.map(function(He){return(0,ht.mG)(re,void 0,void 0,function(){var Pe;return(0,ht.Jh)(this,function(Ot){return uh(He,L)?da(He)?[2,this.resolveField(He,c,g).then(function(Bt){var tn;void 0!==Bt&&z.push(((tn={})[tl(He)]=Bt,tn))})]:(Ou(He)?Pe=He:(Pe=C[He.name.value],__DEV__?$n(Pe,"No fragment named ".concat(He.name.value)):$n(Pe,9)),Pe&&Pe.typeCondition&&g.fragmentMatcher(c,Pe.typeCondition.name.value,A)?[2,this.resolveSelectionSet(Pe.selectionSet,c,g).then(function(Bt){z.push(Bt)})]:[2]):[2]})})})).then(function(){return wl(z)})]})})},h.prototype.resolveField=function(a,c,g){return(0,ht.mG)(this,void 0,void 0,function(){var C,A,L,z,J,re,Se,He,Pe,We=this;return(0,ht.Jh)(this,function(Ot){return C=g.variables,A=a.name.value,L=tl(a),z=A!==L,J=c[L]||c[A],re=Promise.resolve(J),(!g.onlyRunForcedResolvers||this.shouldForceResolvers(a))&&(Se=c.__typename||g.defaultOperationType,(He=this.resolvers&&this.resolvers[Se])&&(Pe=He[z?A:L])&&(re=Promise.resolve(xg.withValue(this.cache,Pe,[c,Cc(a,C),g.context,{field:a,fragmentMap:g.fragmentMap}])))),[2,re.then(function(Bt){return void 0===Bt&&(Bt=J),a.directives&&a.directives.forEach(function(tn){"export"===tn.name.value&&tn.arguments&&tn.arguments.forEach(function(_n){"as"===_n.name.value&&"StringValue"===_n.value.kind&&(g.exportedVariables[_n.value.value]=Bt)})}),a.selectionSet&&null!=Bt?Array.isArray(Bt)?We.resolveSubSelectedArray(a,Bt,g):a.selectionSet?We.resolveSelectionSet(a.selectionSet,Bt,g):void 0:Bt})]})})},h.prototype.resolveSubSelectedArray=function(a,c,g){var C=this;return Promise.all(c.map(function(A){return null===A?null:Array.isArray(A)?C.resolveSubSelectedArray(a,A,g):a.selectionSet?C.resolveSelectionSet(a.selectionSet,A,g):void 0}))},h}(),lc=new(tu?WeakMap:Map);function Mg(h,a){var c=h[a];"function"==typeof c&&(h[a]=function(){return lc.set(h,(lc.get(h)+1)%1e15),c.apply(this,arguments)})}function wp(h){h.notifyTimeout&&(clearTimeout(h.notifyTimeout),h.notifyTimeout=void 0)}var df=function(){function h(a,c){void 0===c&&(c=a.generateQueryId()),this.queryId=c,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var g=this.cache=a.cache;lc.has(g)||(lc.set(g,0),Mg(g,"evict"),Mg(g,"modify"),Mg(g,"reset"))}return h.prototype.init=function(a){var c=a.networkStatus||gi.loading;return this.variables&&this.networkStatus!==gi.loading&&!Go(this.variables,a.variables)&&(c=gi.setVariables),Go(a.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:a.document,variables:a.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:c}),a.observableQuery&&this.setObservableQuery(a.observableQuery),a.lastRequestId&&(this.lastRequestId=a.lastRequestId),this},h.prototype.reset=function(){wp(this),this.lastDiff=void 0,this.dirty=!1},h.prototype.getDiff=function(a){void 0===a&&(a=this.variables);var c=this.getDiffOptions(a);if(this.lastDiff&&Go(c,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=a);var g=this.observableQuery;if(g&&"no-cache"===g.options.fetchPolicy)return{complete:!1};var C=this.cache.diff(c);return this.updateLastDiff(C,c),C},h.prototype.updateLastDiff=function(a,c){this.lastDiff=a?{diff:a,options:c||this.getDiffOptions()}:void 0},h.prototype.getDiffOptions=function(a){var c;return void 0===a&&(a=this.variables),{query:this.document,variables:a,returnPartialData:!0,optimistic:!0,canonizeResults:null===(c=this.observableQuery)||void 0===c?void 0:c.options.canonizeResults}},h.prototype.setDiff=function(a){var c=this,g=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(a),!this.dirty&&!Go(g&&g.result,a&&a.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return c.notify()},0)))},h.prototype.setObservableQuery=function(a){var c=this;a!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=a,a?(a.queryInfo=this,this.listeners.add(this.oqListener=function(){c.getDiff().fromOptimisticTransaction?a.observe():mi(a)})):delete this.oqListener)},h.prototype.notify=function(){var a=this;wp(this),this.shouldNotify()&&this.listeners.forEach(function(c){return c(a)}),this.dirty=!1},h.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(_c(this.networkStatus)&&this.observableQuery){var a=this.observableQuery.options.fetchPolicy;if("cache-only"!==a&&"cache-and-network"!==a)return!1}return!0},h.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=h.prototype.cancel,this.subscriptions.forEach(function(c){return c.unsubscribe()});var a=this.observableQuery;a&&a.stopPolling()}},h.prototype.cancel=function(){},h.prototype.updateWatch=function(a){var c=this;void 0===a&&(a=this.variables);var g=this.observableQuery;if(!g||"no-cache"!==g.options.fetchPolicy){var C=(0,ht.pi)((0,ht.pi)({},this.getDiffOptions(a)),{watcher:this,callback:function(A){return c.setDiff(A)}});(!this.lastWatch||!Go(C,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=C))}},h.prototype.resetLastWrite=function(){this.lastWrite=void 0},h.prototype.shouldWrite=function(a,c){var g=this.lastWrite;return!(g&&g.dmCount===lc.get(this.cache)&&Go(c,g.variables)&&Go(a.data,g.result.data))},h.prototype.markResult=function(a,c,g){var C=this;this.graphQLErrors=m(a.errors)?a.errors:[],this.reset(),"no-cache"===c.fetchPolicy?this.updateLastDiff({result:a.data,complete:!0},this.getDiffOptions(c.variables)):0!==g&&(hf(a,c.errorPolicy)?this.cache.performTransaction(function(A){if(C.shouldWrite(a,c.variables))A.writeQuery({query:C.document,data:a.data,variables:c.variables,overwrite:1===g}),C.lastWrite={result:a,variables:c.variables,dmCount:lc.get(C.cache)};else if(C.lastDiff&&C.lastDiff.diff.complete)return void(a.data=C.lastDiff.diff.result);var L=C.getDiffOptions(c.variables),z=A.diff(L);C.stopped||C.updateWatch(c.variables),C.updateLastDiff(z,L),z.complete&&(a.data=z.result)}):this.lastWrite=void 0)},h.prototype.markReady=function(){return this.networkError=null,this.networkStatus=gi.ready},h.prototype.markError=function(a){return this.networkStatus=gi.error,this.lastWrite=void 0,this.reset(),a.graphQLErrors&&(this.graphQLErrors=a.graphQLErrors),a.networkError&&(this.networkError=a.networkError),a},h}();function hf(h,a){void 0===a&&(a="none");var c="ignore"===a||"all"===a,g=!nf(h);return!g&&c&&h.data&&(g=!0),g}var ff=Object.prototype.hasOwnProperty,py=function(){function h(a){var c=a.cache,g=a.link,C=a.defaultOptions,A=a.queryDeduplication,L=void 0!==A&&A,z=a.onBroadcast,J=a.ssrMode,re=void 0!==J&&J,Se=a.clientAwareness,He=void 0===Se?{}:Se,Pe=a.localState,We=a.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(tu?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=c,this.link=g,this.defaultOptions=C||Object.create(null),this.queryDeduplication=L,this.clientAwareness=He,this.localState=Pe||new cf({cache:c}),this.ssrMode=re,this.assumeImmutableResults=!!We,(this.onBroadcast=z)&&(this.mutationStore=Object.create(null))}return h.prototype.stop=function(){var a=this;this.queries.forEach(function(c,g){a.stopQueryNoBroadcast(g)}),this.cancelPendingFetches(__DEV__?new bi("QueryManager stopped while query was in flight"):new bi(11))},h.prototype.cancelPendingFetches=function(a){this.fetchCancelFns.forEach(function(c){return c(a)}),this.fetchCancelFns.clear()},h.prototype.mutate=function(a){var c,g,C=a.mutation,A=a.variables,L=a.optimisticResponse,z=a.updateQueries,J=a.refetchQueries,re=void 0===J?[]:J,Se=a.awaitRefetchQueries,He=void 0!==Se&&Se,Pe=a.update,We=a.onQueryUpdated,Ot=a.fetchPolicy,Bt=void 0===Ot?(null===(c=this.defaultOptions.mutate)||void 0===c?void 0:c.fetchPolicy)||"network-only":Ot,tn=a.errorPolicy,_n=void 0===tn?(null===(g=this.defaultOptions.mutate)||void 0===g?void 0:g.errorPolicy)||"none":tn,Yn=a.keepRootFields,mn=a.context;return(0,ht.mG)(this,void 0,void 0,function(){var Hn,Mr,Dr;return(0,ht.Jh)(this,function(Ur){switch(Ur.label){case 0:return __DEV__?$n(C,"mutation option is required. You must specify your GraphQL document in the mutation option."):$n(C,12),__DEV__?$n("network-only"===Bt||"no-cache"===Bt,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):$n("network-only"===Bt||"no-cache"===Bt,13),Hn=this.generateMutationId(),C=this.transform(C).document,A=this.getVariables(C,A),this.transform(C).hasClientExports?[4,this.localState.addExportedVariables(C,A,mn)]:[3,2];case 1:A=Ur.sent(),Ur.label=2;case 2:return Mr=this.mutationStore&&(this.mutationStore[Hn]={mutation:C,variables:A,loading:!0,error:null}),L&&this.markMutationOptimistic(L,{mutationId:Hn,document:C,variables:A,fetchPolicy:Bt,errorPolicy:_n,context:mn,updateQueries:z,update:Pe,keepRootFields:Yn}),this.broadcastQueries(),Dr=this,[2,new Promise(function(Xr,mo){return hp(Dr.getObservableFromLink(C,(0,ht.pi)((0,ht.pi)({},mn),{optimisticResponse:L}),A,!1),function(Ns){if(nf(Ns)&&"none"===_n)throw new F({graphQLErrors:Ns.errors});Mr&&(Mr.loading=!1,Mr.error=null);var ju=(0,ht.pi)({},Ns);return"function"==typeof re&&(re=re(ju)),"ignore"===_n&&nf(ju)&&delete ju.errors,Dr.markMutationResult({mutationId:Hn,result:ju,document:C,variables:A,fetchPolicy:Bt,errorPolicy:_n,context:mn,update:Pe,updateQueries:z,awaitRefetchQueries:He,refetchQueries:re,removeOptimistic:L?Hn:void 0,onQueryUpdated:We,keepRootFields:Yn})}).subscribe({next:function(Ns){Dr.broadcastQueries(),Xr(Ns)},error:function(Ns){Mr&&(Mr.loading=!1,Mr.error=Ns),L&&Dr.cache.removeOptimistic(Hn),Dr.broadcastQueries(),mo(Ns instanceof F?Ns:new F({networkError:Ns}))}})})]}})})},h.prototype.markMutationResult=function(a,c){var g=this;void 0===c&&(c=this.cache);var C=a.result,A=[],L="no-cache"===a.fetchPolicy;if(!L&&hf(C,a.errorPolicy)){A.push({result:C.data,dataId:"ROOT_MUTATION",query:a.document,variables:a.variables});var z=a.updateQueries;z&&this.queries.forEach(function(re,Se){var He=re.observableQuery,Pe=He&&He.queryName;if(Pe&&ff.call(z,Pe)){var We=z[Pe],Ot=g.queries.get(Se),Bt=Ot.document,tn=Ot.variables,_n=c.diff({query:Bt,variables:tn,returnPartialData:!0,optimistic:!1}),Yn=_n.result;if(_n.complete&&Yn){var Hn=We(Yn,{mutationResult:C,queryName:Bt&&eh(Bt)||void 0,queryVariables:tn});Hn&&A.push({result:Hn,dataId:"ROOT_QUERY",query:Bt,variables:tn})}}})}if(A.length>0||a.refetchQueries||a.update||a.onQueryUpdated||a.removeOptimistic){var J=[];if(this.refetchQueries({updateCache:function(re){L||A.forEach(function(Pe){return re.write(Pe)});var Se=a.update;if(Se){if(!L){var He=re.diff({id:"ROOT_MUTATION",query:g.transform(a.document).asQuery,variables:a.variables,optimistic:!1,returnPartialData:!0});He.complete&&(C=(0,ht.pi)((0,ht.pi)({},C),{data:He.result}))}Se(re,C,{context:a.context,variables:a.variables})}!L&&!a.keepRootFields&&re.modify({id:"ROOT_MUTATION",fields:function(Pe,We){return"__typename"===We.fieldName?Pe:We.DELETE}})},include:a.refetchQueries,optimistic:!1,removeOptimistic:a.removeOptimistic,onQueryUpdated:a.onQueryUpdated||null}).forEach(function(re){return J.push(re)}),a.awaitRefetchQueries||a.onQueryUpdated)return Promise.all(J).then(function(){return C})}return Promise.resolve(C)},h.prototype.markMutationOptimistic=function(a,c){var g=this,C="function"==typeof a?a(c.variables):a;return this.cache.recordOptimisticTransaction(function(A){try{g.markMutationResult((0,ht.pi)((0,ht.pi)({},c),{result:{data:C}}),A)}catch(L){__DEV__&&$n.error(L)}},c.mutationId)},h.prototype.fetchQuery=function(a,c,g){return this.fetchQueryObservable(a,c,g).promise},h.prototype.getQueryStore=function(){var a=Object.create(null);return this.queries.forEach(function(c,g){a[g]={variables:c.variables,networkStatus:c.networkStatus,networkError:c.networkError,graphQLErrors:c.graphQLErrors}}),a},h.prototype.resetErrors=function(a){var c=this.queries.get(a);c&&(c.networkError=void 0,c.graphQLErrors=[])},h.prototype.transform=function(a){var c=this.transformCache;if(!c.has(a)){var g=this.cache.transformDocument(a),C=function(h){return sc([bm],Mu(h))}(this.cache.transformForLink(g)),A=this.localState.clientQuery(g),L=C&&this.localState.serverQuery(C),z={document:g,hasClientExports:fg(g),hasForcedResolvers:this.localState.shouldForceResolvers(g),clientQuery:A,serverQuery:L,defaultVars:Za(Tc(g)),asQuery:(0,ht.pi)((0,ht.pi)({},g),{definitions:g.definitions.map(function(re){return"OperationDefinition"===re.kind&&"query"!==re.operation?(0,ht.pi)((0,ht.pi)({},re),{operation:"query"}):re})})},J=function(re){re&&!c.has(re)&&c.set(re,z)};J(a),J(g),J(A),J(L)}return c.get(a)},h.prototype.getVariables=function(a,c){return(0,ht.pi)((0,ht.pi)({},this.transform(a).defaultVars),c)},h.prototype.watchQuery=function(a){void 0===(a=(0,ht.pi)((0,ht.pi)({},a),{variables:this.getVariables(a.query,a.variables)})).notifyOnNetworkStatusChange&&(a.notifyOnNetworkStatusChange=!1);var c=new df(this),g=new Wn({queryManager:this,queryInfo:c,options:a});return this.queries.set(g.queryId,c),c.init({document:g.query,observableQuery:g,variables:g.variables}),g},h.prototype.query=function(a,c){var g=this;return void 0===c&&(c=this.generateQueryId()),__DEV__?$n(a.query,"query option is required. You must specify your GraphQL document in the query option."):$n(a.query,14),__DEV__?$n("Document"===a.query.kind,'You must wrap the query string in a "gql" tag.'):$n("Document"===a.query.kind,15),__DEV__?$n(!a.returnPartialData,"returnPartialData option only supported on watchQuery."):$n(!a.returnPartialData,16),__DEV__?$n(!a.pollInterval,"pollInterval option only supported on watchQuery."):$n(!a.pollInterval,17),this.fetchQuery(c,a).finally(function(){return g.stopQuery(c)})},h.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},h.prototype.generateRequestId=function(){return this.requestIdCounter++},h.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},h.prototype.stopQueryInStore=function(a){this.stopQueryInStoreNoBroadcast(a),this.broadcastQueries()},h.prototype.stopQueryInStoreNoBroadcast=function(a){var c=this.queries.get(a);c&&c.stop()},h.prototype.clearStore=function(a){return void 0===a&&(a={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new bi("Store reset while query was in flight (not completed in link chain)"):new bi(18)),this.queries.forEach(function(c){c.observableQuery?c.networkStatus=gi.loading:c.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(a)},h.prototype.getObservableQueries=function(a){var c=this;void 0===a&&(a="active");var g=new Map,C=new Map,A=new Set;return Array.isArray(a)&&a.forEach(function(L){"string"==typeof L?C.set(L,!1):function(h){return Ji(h)&&"Document"===h.kind&&Array.isArray(h.definitions)}(L)?C.set(c.transform(L).document,!1):Ji(L)&&L.query&&A.add(L)}),this.queries.forEach(function(L,z){var J=L.observableQuery,re=L.document;if(J){if("all"===a)return void g.set(z,J);var Se=J.queryName;if("standby"===J.options.fetchPolicy||"active"===a&&!J.hasObservers())return;("active"===a||Se&&C.has(Se)||re&&C.has(re))&&(g.set(z,J),Se&&C.set(Se,!0),re&&C.set(re,!0))}}),A.size&&A.forEach(function(L){var z=Rc("legacyOneTimeQuery"),J=c.getQuery(z).init({document:L.query,variables:L.variables}),re=new Wn({queryManager:c,queryInfo:J,options:(0,ht.pi)((0,ht.pi)({},L),{fetchPolicy:"network-only"})});$n(re.queryId===z),J.setObservableQuery(re),g.set(z,re)}),__DEV__&&C.size&&C.forEach(function(L,z){L||__DEV__&&$n.warn("Unknown query ".concat("string"==typeof z?"named ":"").concat(JSON.stringify(z,null,2)," requested in refetchQueries options.include array"))}),g},h.prototype.reFetchObservableQueries=function(a){var c=this;void 0===a&&(a=!1);var g=[];return this.getObservableQueries(a?"all":"active").forEach(function(C,A){var L=C.options.fetchPolicy;C.resetLastResults(),(a||"standby"!==L&&"cache-only"!==L)&&g.push(C.refetch()),c.getQuery(A).setDiff(null)}),this.broadcastQueries(),Promise.all(g)},h.prototype.setObservableQuery=function(a){this.getQuery(a.queryId).setObservableQuery(a)},h.prototype.startGraphQLSubscription=function(a){var c=this,g=a.query,C=a.fetchPolicy,A=a.errorPolicy,L=a.variables,z=a.context,J=void 0===z?{}:z;g=this.transform(g).document,L=this.getVariables(g,L);var re=function(He){return c.getObservableFromLink(g,J,He).map(function(Pe){if("no-cache"!==C&&(hf(Pe,A)&&c.cache.write({query:g,result:Pe.data,dataId:"ROOT_SUBSCRIPTION",variables:He}),c.broadcastQueries()),nf(Pe))throw new F({graphQLErrors:Pe.errors});return Pe})};if(this.transform(g).hasClientExports){var Se=this.localState.addExportedVariables(g,L,J).then(re);return new Cs(function(He){var Pe=null;return Se.then(function(We){return Pe=We.subscribe(He)},He.error),function(){return Pe&&Pe.unsubscribe()}})}return re(L)},h.prototype.stopQuery=function(a){this.stopQueryNoBroadcast(a),this.broadcastQueries()},h.prototype.stopQueryNoBroadcast=function(a){this.stopQueryInStoreNoBroadcast(a),this.removeQuery(a)},h.prototype.removeQuery=function(a){this.fetchCancelFns.delete(a),this.queries.has(a)&&(this.getQuery(a).stop(),this.queries.delete(a))},h.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(a){return a.notify()})},h.prototype.getLocalState=function(){return this.localState},h.prototype.getObservableFromLink=function(a,c,g,C){var L,A=this;void 0===C&&(C=null!==(L=null==c?void 0:c.queryDeduplication)&&void 0!==L?L:this.queryDeduplication);var z,J=this.transform(a).serverQuery;if(J){var Se=this.inFlightLinkObservables,He=this.link,Pe={query:J,variables:g,operationName:eh(J)||void 0,context:this.prepareContext((0,ht.pi)((0,ht.pi)({},c),{forceFetch:!C}))};if(c=Pe.context,C){var We=Se.get(J)||new Map;Se.set(J,We);var Ot=ic(g);if(!(z=We.get(Ot))){var Bt=new _([rh(He,Pe)]);We.set(Ot,z=Bt),Bt.cleanup(function(){We.delete(Ot)&&We.size<1&&Se.delete(J)})}}else z=new _([rh(He,Pe)])}else z=new _([Cs.of({data:{}})]),c=this.prepareContext(c);var tn=this.transform(a).clientQuery;return tn&&(z=hp(z,function(_n){return A.localState.runResolvers({document:tn,remoteResult:_n,context:c,variables:g})})),z},h.prototype.getResultsFromLink=function(a,c,g){var C=a.lastRequestId=this.generateRequestId();return hp(this.getObservableFromLink(a.document,g.context,g.variables),function(A){var L=m(A.errors);if(C>=a.lastRequestId){if(L&&"none"===g.errorPolicy)throw a.markError(new F({graphQLErrors:A.errors}));a.markResult(A,g,c),a.markReady()}var z={data:A.data,loading:!1,networkStatus:gi.ready};return L&&"ignore"!==g.errorPolicy&&(z.errors=A.errors,z.networkStatus=gi.error),z},function(A){var L=function(h){return h.hasOwnProperty("graphQLErrors")}(A)?A:new F({networkError:A});throw C>=a.lastRequestId&&a.markError(L),L})},h.prototype.fetchQueryObservable=function(a,c,g){var C=this;void 0===g&&(g=gi.loading);var A=this.transform(c.query).document,L=this.getVariables(A,c.variables),z=this.getQuery(a),J=this.defaultOptions.watchQuery,re=c.fetchPolicy,He=c.errorPolicy,We=c.returnPartialData,Bt=c.notifyOnNetworkStatusChange,_n=c.context,mn=Object.assign({},c,{query:A,variables:L,fetchPolicy:void 0===re?J&&J.fetchPolicy||"cache-first":re,errorPolicy:void 0===He?J&&J.errorPolicy||"none":He,returnPartialData:void 0!==We&&We,notifyOnNetworkStatusChange:void 0!==Bt&&Bt,context:void 0===_n?{}:_n}),Hn=function(Ur){mn.variables=Ur;var Xr=C.fetchQueryByPolicy(z,mn,g);return"standby"!==mn.fetchPolicy&&Xr.length>0&&z.observableQuery&&z.observableQuery.applyNextFetchPolicy("after-fetch",c),Xr},Mr=function(){return C.fetchCancelFns.delete(a)};this.fetchCancelFns.set(a,function(Ur){Mr(),setTimeout(function(){return Dr.cancel(Ur)})});var Dr=new _(this.transform(mn.query).hasClientExports?this.localState.addExportedVariables(mn.query,mn.variables,mn.context).then(Hn):Hn(mn.variables));return Dr.promise.then(Mr,Mr),Dr},h.prototype.refetchQueries=function(a){var c=this,g=a.updateCache,C=a.include,A=a.optimistic,L=void 0!==A&&A,z=a.removeOptimistic,J=void 0===z?L?Rc("refetchQueries"):void 0:z,re=a.onQueryUpdated,Se=new Map;C&&this.getObservableQueries(C).forEach(function(Pe,We){Se.set(We,{oq:Pe,lastDiff:c.getQuery(We).getDiff()})});var He=new Map;return g&&this.cache.batch({update:g,optimistic:L&&J||!1,removeOptimistic:J,onWatchUpdated:function(Pe,We,Ot){var Bt=Pe.watcher instanceof df&&Pe.watcher.observableQuery;if(Bt){if(re){Se.delete(Bt.queryId);var tn=re(Bt,We,Ot);return!0===tn&&(tn=Bt.refetch()),!1!==tn&&He.set(Bt,tn),tn}null!==re&&Se.set(Bt.queryId,{oq:Bt,lastDiff:Ot,diff:We})}}}),Se.size&&Se.forEach(function(Pe,We){var _n,Ot=Pe.oq,Bt=Pe.lastDiff,tn=Pe.diff;if(re){if(!tn){var Yn=Ot.queryInfo;Yn.reset(),tn=Yn.getDiff()}_n=re(Ot,tn,Bt)}(!re||!0===_n)&&(_n=Ot.refetch()),!1!==_n&&He.set(Ot,_n),We.indexOf("legacyOneTimeQuery")>=0&&c.stopQueryNoBroadcast(We)}),J&&this.cache.removeOptimistic(J),He},h.prototype.fetchQueryByPolicy=function(a,c,g){var C=this,A=c.query,L=c.variables,z=c.fetchPolicy,J=c.refetchWritePolicy,re=c.errorPolicy,Se=c.returnPartialData,He=c.context,Pe=c.notifyOnNetworkStatusChange,We=a.networkStatus;a.init({document:this.transform(A).document,variables:L,networkStatus:g});var Ot=function(){return a.getDiff(L)},Bt=function(Hn,Mr){void 0===Mr&&(Mr=a.networkStatus||gi.loading);var Dr=Hn.result;__DEV__&&!Se&&!Go(Dr,{})&&Ra(Hn.missing);var Ur=function(Xr){return Cs.of((0,ht.pi)({data:Xr,loading:_c(Mr),networkStatus:Mr},Hn.complete?null:{partial:!0}))};return Dr&&C.transform(A).hasForcedResolvers?C.localState.runResolvers({document:A,remoteResult:{data:Dr},context:He,variables:L,onlyRunForcedResolvers:!0}).then(function(Xr){return Ur(Xr.data||void 0)}):Ur(Dr)},tn="no-cache"===z?0:g===gi.refetch&&"merge"!==J?1:2,_n=function(){return C.getResultsFromLink(a,tn,{variables:L,context:He,fetchPolicy:z,errorPolicy:re})},Yn=Pe&&"number"==typeof We&&We!==g&&_c(g);switch(z){default:case"cache-first":return(mn=Ot()).complete?[Bt(mn,a.markReady())]:Se||Yn?[Bt(mn),_n()]:[_n()];case"cache-and-network":var mn;return(mn=Ot()).complete||Se||Yn?[Bt(mn),_n()]:[_n()];case"cache-only":return[Bt(Ot(),a.markReady())];case"network-only":return Yn?[Bt(Ot()),_n()]:[_n()];case"no-cache":return Yn?[Bt(a.getDiff()),_n()]:[_n()];case"standby":return[]}},h.prototype.getQuery=function(a){return a&&!this.queries.has(a)&&this.queries.set(a,new df(this,a)),this.queries.get(a)},h.prototype.prepareContext=function(a){void 0===a&&(a={});var c=this.localState.prepareContext(a);return(0,ht.pi)((0,ht.pi)({},c),{clientAwareness:this.clientAwareness})},h}();function Cp(h,a){return xc(h,a,a.variables&&{variables:(0,ht.pi)((0,ht.pi)({},h&&h.variables),a.variables)})}var gy=!1,Tp=function(){function h(a){var c=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var g=a.uri,L=a.cache,z=a.ssrMode,J=void 0!==z&&z,re=a.ssrForceFetchDelay,Se=void 0===re?0:re,He=a.connectToDevTools,Pe=void 0===He?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:He,We=a.queryDeduplication,Ot=void 0===We||We,Bt=a.defaultOptions,tn=a.assumeImmutableResults,_n=void 0!==tn&&tn,Yn=a.resolvers,mn=a.typeDefs,Hn=a.fragmentMatcher,Mr=a.name,Dr=a.version,Ur=a.link;if(Ur||(Ur=g?new ip({uri:g,credentials:a.credentials,headers:a.headers}):Ic.empty()),!L)throw __DEV__?new bi("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new bi(7);if(this.link=Ur,this.cache=L,this.disableNetworkFetches=J||Se>0,this.queryDeduplication=Ot,this.defaultOptions=Bt||Object.create(null),this.typeDefs=mn,Se&&setTimeout(function(){return c.disableNetworkFetches=!1},Se),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),Pe&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!gy&&__DEV__&&(gy=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var Xr=window.navigator,mo=Xr&&Xr.userAgent,Ns=void 0;"string"==typeof mo&&(mo.indexOf("Chrome/")>-1?Ns="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":mo.indexOf("Firefox/")>-1&&(Ns="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),Ns&&__DEV__&&$n.log("Download the Apollo DevTools for a better development experience: "+Ns)}this.version="3.6.9",this.localState=new cf({cache:L,client:this,resolvers:Yn,fragmentMatcher:Hn}),this.queryManager=new py({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:Ot,ssrMode:J,clientAwareness:{name:Mr,version:Dr},localState:this.localState,assumeImmutableResults:_n,onBroadcast:Pe?function(){c.devToolsHookCb&&c.devToolsHookCb({action:{},state:{queries:c.queryManager.getQueryStore(),mutations:c.queryManager.mutationStore||{}},dataWithOptimisticResults:c.cache.extract(!0)})}:void 0})}return h.prototype.stop=function(){this.queryManager.stop()},h.prototype.watchQuery=function(a){return this.defaultOptions.watchQuery&&(a=Cp(this.defaultOptions.watchQuery,a)),this.disableNetworkFetches&&("network-only"===a.fetchPolicy||"cache-and-network"===a.fetchPolicy)&&(a=(0,ht.pi)((0,ht.pi)({},a),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(a)},h.prototype.query=function(a){return this.defaultOptions.query&&(a=Cp(this.defaultOptions.query,a)),__DEV__?$n("cache-and-network"!==a.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):$n("cache-and-network"!==a.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===a.fetchPolicy&&(a=(0,ht.pi)((0,ht.pi)({},a),{fetchPolicy:"cache-first"})),this.queryManager.query(a)},h.prototype.mutate=function(a){return this.defaultOptions.mutate&&(a=Cp(this.defaultOptions.mutate,a)),this.queryManager.mutate(a)},h.prototype.subscribe=function(a){return this.queryManager.startGraphQLSubscription(a)},h.prototype.readQuery=function(a,c){return void 0===c&&(c=!1),this.cache.readQuery(a,c)},h.prototype.readFragment=function(a,c){return void 0===c&&(c=!1),this.cache.readFragment(a,c)},h.prototype.writeQuery=function(a){this.cache.writeQuery(a),this.queryManager.broadcastQueries()},h.prototype.writeFragment=function(a){this.cache.writeFragment(a),this.queryManager.broadcastQueries()},h.prototype.__actionHookForDevTools=function(a){this.devToolsHookCb=a},h.prototype.__requestRaw=function(a){return rh(this.link,a)},h.prototype.resetStore=function(){var a=this;return Promise.resolve().then(function(){return a.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(a.resetStoreCallbacks.map(function(c){return c()}))}).then(function(){return a.reFetchObservableQueries()})},h.prototype.clearStore=function(){var a=this;return Promise.resolve().then(function(){return a.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(a.clearStoreCallbacks.map(function(c){return c()}))})},h.prototype.onResetStore=function(a){var c=this;return this.resetStoreCallbacks.push(a),function(){c.resetStoreCallbacks=c.resetStoreCallbacks.filter(function(g){return g!==a})}},h.prototype.onClearStore=function(a){var c=this;return this.clearStoreCallbacks.push(a),function(){c.clearStoreCallbacks=c.clearStoreCallbacks.filter(function(g){return g!==a})}},h.prototype.reFetchObservableQueries=function(a){return this.queryManager.reFetchObservableQueries(a)},h.prototype.refetchQueries=function(a){var c=this.queryManager.refetchQueries(a),g=[],C=[];c.forEach(function(L,z){g.push(z),C.push(L)});var A=Promise.all(C);return A.queries=g,A.results=C,A.catch(function(L){__DEV__&&$n.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(L))}),A},h.prototype.getObservableQueries=function(a){return void 0===a&&(a="active"),this.queryManager.getObservableQueries(a)},h.prototype.extract=function(a){return this.cache.extract(a)},h.prototype.restore=function(a){return this.cache.restore(a)},h.prototype.addResolvers=function(a){this.localState.addResolvers(a)},h.prototype.setResolvers=function(a){this.localState.setResolvers(a)},h.prototype.getResolvers=function(){return this.localState.getResolvers()},h.prototype.setLocalStateFragmentMatcher=function(a){this.localState.setFragmentMatcher(a)},h.prototype.setLink=function(a){this.link=this.queryManager.link=a},h}(),bd=q(7771),Rg=q(6554),o_=q(309);function kg(h){return new Be.y(a=>(h().then(c=>{a.closed||(a.next(c),a.complete())},c=>{a.closed||a.error(c)}),()=>a.unsubscribe()))}class ov{constructor(a){this.zone=a,this.now=Date.now?Date.now:()=>+new Date}schedule(a,c=0,g){return this.zone.run(()=>bd.N.schedule(a,c,g))}}function pf(h){return h[Rg.L]=()=>h,h}function my(h,a){return h.pipe((0,o_.QV)(new ov(a)))}function Sp(h,a,c){return h&&void 0!==h[a]?h[a]:c}class _y{constructor(a,c,g){this.obsQuery=a;const C=my((0,nr.D)(pf(this.obsQuery)),c);this.valueChanges=g.useInitialLoading?C.pipe(function(h){return function(c){return new Be.y(function(C){const A=h.getCurrentResult(),{loading:L,errors:z,error:J,partial:re,data:Se}=A,{partialRefetch:He,fetchPolicy:Pe}=h.options,We=z||J;return He&&re&&(!Se||0===Object.keys(Se).length)&&"cache-only"!==Pe&&!L&&!We&&C.next(Object.assign(Object.assign({},A),{loading:!0,networkStatus:gi.loading})),c.subscribe(C)})}}(this.obsQuery)):C,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(a){return this.obsQuery.refetch(a)}fetchMore(a){return this.obsQuery.fetchMore(a)}subscribeToMore(a){return this.obsQuery.subscribeToMore(a)}updateQuery(a){return this.obsQuery.updateQuery(a)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(a){return this.obsQuery.startPolling(a)}setOptions(a){return this.obsQuery.setOptions(a)}setVariables(a){return this.obsQuery.setVariables(a)}}const Bu=new o.OlP("APOLLO_FLAGS"),Am=new o.OlP("APOLLO_OPTIONS"),a_=new o.OlP("APOLLO_NAMED_OPTIONS");class xm{constructor(a,c,g){this.ngZone=a,this.flags=c,this._client=g,this.useInitialLoading=Sp(c,"useInitialLoading",!1),this.useMutationLoading=Sp(c,"useMutationLoading",!1)}watchQuery(a){return new _y(this.ensureClient().watchQuery(Object.assign({},a)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},a))}query(a){return kg(()=>this.ensureClient().query(Object.assign({},a)))}mutate(a){var c;return function(h,a){return a?h.pipe((0,lr.O)({loading:!0}),(0,Ce.U)(c=>Object.assign(Object.assign({},c),{loading:!!c.loading}))):h.pipe((0,Ce.U)(c=>Object.assign(Object.assign({},c),{loading:!1})))}(kg(()=>this.ensureClient().mutate(Object.assign({},a))),null!==(c=a.useMutationLoading)&&void 0!==c?c:this.useMutationLoading)}subscribe(a,c){const g=(0,nr.D)(pf(this.ensureClient().subscribe(Object.assign({},a))));return c&&!0!==c.useZone?g:my(g,this.ngZone)}getClient(){return this.client}setClient(a){this.client=a}get client(){return this._client}set client(a){if(this._client)throw new Error("Client has been already defined");this._client=a}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let Om=(()=>{class h extends xm{constructor(c,g,C,A){if(super(c,A),this._ngZone=c,this.map=new Map,g&&this.createDefault(g),C&&"object"==typeof C)for(let L in C)C.hasOwnProperty(L)&&this.createNamed(L,C[L])}create(c,g){Pg(g)?this.createDefault(c):this.createNamed(g,c)}default(){return this}use(c){return Pg(c)?this.default():this.map.get(c)}createDefault(c){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new Tp(c))}createNamed(c,g){if(this.map.has(c))throw new Error(`Client ${c} has been already created`);this.map.set(c,new xm(this._ngZone,this.flags,new Tp(g)))}removeClient(c){Pg(c)?this._client=void 0:this.map.delete(c)}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(o.R0b),o.LFG(Am,8),o.LFG(a_,8),o.LFG(Bu,8))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();function Pg(h){return!h||"default"===h}const vy=[Om];let Mm=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({providers:vy}),h})();var wy=function(){function h(){this.getFragmentDoc=uf($h)}return h.prototype.batch=function(a){var C,c=this;return this.performTransaction(function(){return C=a.update(c)},"string"==typeof a.optimistic?a.optimistic:!1===a.optimistic?null:void 0),C},h.prototype.recordOptimisticTransaction=function(a,c){this.performTransaction(a,c)},h.prototype.transformDocument=function(a){return a},h.prototype.identify=function(a){},h.prototype.gc=function(){return[]},h.prototype.modify=function(a){return!1},h.prototype.transformForLink=function(a){return a},h.prototype.readQuery=function(a,c){return void 0===c&&(c=!!a.optimistic),this.read((0,ht.pi)((0,ht.pi)({},a),{rootId:a.id||"ROOT_QUERY",optimistic:c}))},h.prototype.readFragment=function(a,c){return void 0===c&&(c=!!a.optimistic),this.read((0,ht.pi)((0,ht.pi)({},a),{query:this.getFragmentDoc(a.fragment,a.fragmentName),rootId:a.id,optimistic:c}))},h.prototype.writeQuery=function(a){var c=a.id,g=a.data,C=(0,ht._T)(a,["id","data"]);return this.write(Object.assign(C,{dataId:c||"ROOT_QUERY",result:g}))},h.prototype.writeFragment=function(a){var c=a.id,g=a.data,C=a.fragment,A=a.fragmentName,L=(0,ht._T)(a,["id","data","fragment","fragmentName"]);return this.write(Object.assign(L,{query:this.getFragmentDoc(C,A),dataId:c,result:g}))},h.prototype.updateQuery=function(a,c){return this.batch({update:function(g){var C=g.readQuery(a),A=c(C);return null==A?C:(g.writeQuery((0,ht.pi)((0,ht.pi)({},a),{data:A})),A)}})},h.prototype.updateFragment=function(a,c){return this.batch({update:function(g){var C=g.readFragment(a),A=c(C);return null==A?C:(g.writeFragment((0,ht.pi)((0,ht.pi)({},a),{data:A})),A)}})},h}(),Cy=function(a,c,g,C){this.message=a,this.path=c,this.query=g,this.variables=C};function gf(h){return __DEV__&&function(h){var a=new Set([h]);a.forEach(function(c){Ji(c)&&function(h){if(__DEV__&&!Object.isFrozen(h))try{Object.freeze(h)}catch(a){if(a instanceof TypeError)return null;throw a}return h}(c)===c&&Object.getOwnPropertyNames(c).forEach(function(g){Ji(c[g])&&a.add(c[g])})})}(h),h}var mh=Object.create(null),Ed=function(){return mh},Pm=Object.create(null),ol=function(){function h(a,c){var g=this;this.policies=a,this.group=c,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(C,A){return gf(Ii(C)?g.get(C.__ref,A):C&&C[A])},this.canRead=function(C){return Ii(C)?g.has(C.__ref):"object"==typeof C},this.toReference=function(C,A){if("string"==typeof C)return Du(C);if(Ii(C))return C;var L=g.policies.identify(C)[0];if(L){var z=Du(L);return A&&g.merge(L,C),z}}}return h.prototype.toObject=function(){return(0,ht.pi)({},this.data)},h.prototype.has=function(a){return void 0!==this.lookup(a,!0)},h.prototype.get=function(a,c){if(this.group.depend(a,c),No.call(this.data,a)){var g=this.data[a];if(g&&No.call(g,c))return g[c]}return"__typename"===c&&No.call(this.policies.rootTypenamesById,a)?this.policies.rootTypenamesById[a]:this instanceof su?this.parent.get(a,c):void 0},h.prototype.lookup=function(a,c){return c&&this.group.depend(a,"__exists"),No.call(this.data,a)?this.data[a]:this instanceof su?this.parent.lookup(a,c):this.policies.rootTypenamesById[a]?Object.create(null):void 0},h.prototype.merge=function(a,c){var C,g=this;Ii(a)&&(a=a.__ref),Ii(c)&&(c=c.__ref);var A="string"==typeof a?this.lookup(C=a):a,L="string"==typeof c?this.lookup(C=c):c;if(L){__DEV__?$n("string"==typeof C,"store.merge expects a string ID"):$n("string"==typeof C,1);var z=new il(_h).merge(A,L);if(this.data[C]=z,z!==A&&(delete this.refs[C],this.group.caching)){var J=Object.create(null);A||(J.__exists=1),Object.keys(L).forEach(function(re){if(!A||A[re]!==z[re]){J[re]=1;var Se=Fu(re);Se!==re&&!g.policies.hasKeyArgs(z.__typename,Se)&&(J[Se]=1),void 0===z[re]&&!(g instanceof su)&&delete z[re]}}),J.__typename&&!(A&&A.__typename)&&this.policies.rootTypenamesById[C]===z.__typename&&delete J.__typename,Object.keys(J).forEach(function(re){return g.group.dirty(C,re)})}}},h.prototype.modify=function(a,c){var g=this,C=this.lookup(a);if(C){var A=Object.create(null),L=!1,z=!0,J={DELETE:mh,INVALIDATE:Pm,isReference:Ii,toReference:this.toReference,canRead:this.canRead,readField:function(re,Se){return g.policies.readField("string"==typeof re?{fieldName:re,from:Se||Du(a)}:re,{store:g})}};if(Object.keys(C).forEach(function(re){var Se=Fu(re),He=C[re];if(void 0!==He){var Pe="function"==typeof c?c:c[re]||c[Se];if(Pe){var We=Pe===Ed?mh:Pe(gf(He),(0,ht.pi)((0,ht.pi)({},J),{fieldName:Se,storeFieldName:re,storage:g.getStorage(a,re)}));We===Pm?g.group.dirty(a,re):(We===mh&&(We=void 0),We!==He&&(A[re]=We,L=!0,He=We))}void 0!==He&&(z=!1)}}),L)return this.merge(a,A),z&&(this instanceof su?this.data[a]=void 0:delete this.data[a],this.group.dirty(a,"__exists")),!0}return!1},h.prototype.delete=function(a,c,g){var C,A=this.lookup(a);if(A){var L=this.getFieldValue(A,"__typename"),z=c&&g?this.policies.getStoreFieldName({typename:L,fieldName:c,args:g}):c;return this.modify(a,z?((C={})[z]=Ed,C):Ed)}return!1},h.prototype.evict=function(a,c){var g=!1;return a.id&&(No.call(this.data,a.id)&&(g=this.delete(a.id,a.fieldName,a.args)),this instanceof su&&this!==c&&(g=this.parent.evict(a,c)||g),(a.fieldName||g)&&this.group.dirty(a.id,a.fieldName||"__exists")),g},h.prototype.clear=function(){this.replace(null)},h.prototype.extract=function(){var a=this,c=this.toObject(),g=[];return this.getRootIdSet().forEach(function(C){No.call(a.policies.rootTypenamesById,C)||g.push(C)}),g.length&&(c.__META={extraRootIds:g.sort()}),c},h.prototype.replace=function(a){var c=this;if(Object.keys(this.data).forEach(function(A){a&&No.call(a,A)||c.delete(A)}),a){var g=a.__META,C=(0,ht._T)(a,["__META"]);Object.keys(C).forEach(function(A){c.merge(A,C[A])}),g&&g.extraRootIds.forEach(this.retain,this)}},h.prototype.retain=function(a){return this.rootIds[a]=(this.rootIds[a]||0)+1},h.prototype.release=function(a){if(this.rootIds[a]>0){var c=--this.rootIds[a];return c||delete this.rootIds[a],c}return 0},h.prototype.getRootIdSet=function(a){return void 0===a&&(a=new Set),Object.keys(this.rootIds).forEach(a.add,a),this instanceof su?this.parent.getRootIdSet(a):Object.keys(this.policies.rootTypenamesById).forEach(a.add,a),a},h.prototype.gc=function(){var a=this,c=this.getRootIdSet(),g=this.toObject();c.forEach(function(L){No.call(g,L)&&(Object.keys(a.findChildRefIds(L)).forEach(c.add,c),delete g[L])});var C=Object.keys(g);if(C.length){for(var A=this;A instanceof su;)A=A.parent;C.forEach(function(L){return A.delete(L)})}return C},h.prototype.findChildRefIds=function(a){if(!No.call(this.refs,a)){var c=this.refs[a]=Object.create(null),g=this.data[a];if(!g)return c;var C=new Set([g]);C.forEach(function(A){Ii(A)&&(c[A.__ref]=!0),Ji(A)&&Object.keys(A).forEach(function(L){var z=A[L];Ji(z)&&C.add(z)})})}return this.refs[a]},h.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},h}(),yh=function(){function h(a,c){void 0===c&&(c=null),this.caching=a,this.parent=c,this.d=null,this.resetCaching()}return h.prototype.resetCaching=function(){this.d=this.caching?iu():null,this.keyMaker=new eu(tu)},h.prototype.depend=function(a,c){if(this.d){this.d(Ip(a,c));var g=Fu(c);g!==c&&this.d(Ip(a,g)),this.parent&&this.parent.depend(a,c)}},h.prototype.dirty=function(a,c){this.d&&this.d.dirty(Ip(a,c),"__exists"===c?"forget":"setDirty")},h}();function Ip(h,a){return a+"#"+h}function Nm(h,a){so(h)&&h.group.depend(a,"__exists")}!function(h){var a=function(c){function g(C){var L=C.resultCaching,J=C.seed,re=c.call(this,C.policies,new yh(void 0===L||L))||this;return re.stump=new ou(re),re.storageTrie=new eu(tu),J&&re.replace(J),re}return(0,ht.ZT)(g,c),g.prototype.addLayer=function(C,A){return this.stump.addLayer(C,A)},g.prototype.removeLayer=function(){return this},g.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},g}(h);h.Root=a}(ol||(ol={}));var su=function(h){function a(c,g,C,A){var L=h.call(this,g.policies,A)||this;return L.id=c,L.parent=g,L.replay=C,L.group=A,C(L),L}return(0,ht.ZT)(a,h),a.prototype.addLayer=function(c,g){return new a(c,this,g,this.group)},a.prototype.removeLayer=function(c){var g=this,C=this.parent.removeLayer(c);return c===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(A){var L=g.data[A],z=C.lookup(A);z?L?L!==z&&Object.keys(L).forEach(function(J){Go(L[J],z[J])||g.group.dirty(A,J)}):(g.group.dirty(A,"__exists"),Object.keys(z).forEach(function(J){g.group.dirty(A,J)})):g.delete(A)}),C):C===this.parent?this:C.addLayer(this.id,this.replay)},a.prototype.toObject=function(){return(0,ht.pi)((0,ht.pi)({},this.parent.toObject()),this.data)},a.prototype.findChildRefIds=function(c){var g=this.parent.findChildRefIds(c);return No.call(this.data,c)?(0,ht.pi)((0,ht.pi)({},g),h.prototype.findChildRefIds.call(this,c)):g},a.prototype.getStorage=function(){for(var c=this.parent;c.parent;)c=c.parent;return c.getStorage.apply(c,arguments)},a}(ol),ou=function(h){function a(c){return h.call(this,"EntityStore.Stump",c,function(){},new yh(c.group.caching,c.group))||this}return(0,ht.ZT)(a,h),a.prototype.removeLayer=function(){return this},a.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},a}(su);function _h(h,a,c){var g=h[c],C=a[c];return Go(g,C)?g:C}function so(h){return!!(h instanceof ol&&h.group.caching)}function uc(h){return[h.selectionSet,h.objectOrReference,h.context,h.context.canonizeResults]}var Dp=function(){function h(a){var c=this;this.knownResults=new(tu?WeakMap:Map),this.config=xc(a,{addTypename:!1!==a.addTypename,canonizeResults:dd(a)}),this.canon=a.canon||new hd,this.executeSelectionSet=uf(function(g){var C,A=g.context.canonizeResults,L=uc(g);L[3]=!A;var z=(C=c.executeSelectionSet).peek.apply(C,L);return z?A?(0,ht.pi)((0,ht.pi)({},z),{result:c.canon.admit(z.result)}):z:(Nm(g.context.store,g.enclosingRef.__ref),c.execSelectionSetImpl(g))},{max:this.config.resultCacheMaxSize,keyArgs:uc,makeCacheKey:function(g,C,A,L){if(so(A.store))return A.store.makeCacheKey(g,Ii(C)?C.__ref:C,A.varString,L)}}),this.executeSubSelectedArray=uf(function(g){return Nm(g.context.store,g.enclosingRef.__ref),c.execSubSelectedArrayImpl(g)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(g){var C=g.field,A=g.array,L=g.context;if(so(L.store))return L.store.makeCacheKey(C,A,L.varString)}})}return h.prototype.resetCanon=function(){this.canon=new hd},h.prototype.diffQueryAgainstStore=function(a){var c=a.store,g=a.query,C=a.rootId,A=void 0===C?"ROOT_QUERY":C,L=a.variables,z=a.returnPartialData,J=void 0===z||z,re=a.canonizeResults,Se=void 0===re?this.config.canonizeResults:re,He=this.config.cache.policies;L=(0,ht.pi)((0,ht.pi)({},Za(Sc(g))),L);var Ot,Pe=Du(A),We=this.executeSelectionSet({selectionSet:th(g).selectionSet,objectOrReference:Pe,enclosingRef:Pe,context:{store:c,query:g,policies:He,variables:L,varString:ic(L),canonizeResults:Se,fragmentMap:nd(nc(g))}});if(We.missing&&(Ot=[new Cy(al(We.missing),We.missing,g,L)],!J))throw Ot[0];return{result:We.result,complete:!Ot,missing:Ot}},h.prototype.isFresh=function(a,c,g,C){if(so(C.store)&&this.knownResults.get(a)===g){var A=this.executeSelectionSet.peek(g,c,C,this.canon.isKnown(a));if(A&&a===A.result)return!0}return!1},h.prototype.execSelectionSetImpl=function(a){var c=this,g=a.selectionSet,C=a.objectOrReference,A=a.enclosingRef,L=a.context;if(Ii(C)&&!L.policies.rootTypenamesById[C.__ref]&&!L.store.has(C.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(C.__ref," object")};var Pe,z=L.variables,J=L.policies,Se=L.store.getFieldValue(C,"__typename"),He=[],We=new il;function Ot(mn,Hn){var Mr;return mn.missing&&(Pe=We.merge(Pe,((Mr={})[Hn]=mn.missing,Mr))),mn.result}this.config.addTypename&&"string"==typeof Se&&!J.rootIdsByTypename[Se]&&He.push({__typename:Se});var Bt=new Set(g.selections);Bt.forEach(function(mn){var Hn,Mr;if(uh(mn,z))if(da(mn)){var Dr=J.readField({fieldName:mn.name.value,field:mn,variables:L.variables,from:C},L),Ur=tl(mn);void 0===Dr?fp.added(mn)||(Pe=We.merge(Pe,((Hn={})[Ur]="Can't find field '".concat(mn.name.value,"' on ").concat(Ii(C)?C.__ref+" object":"object "+JSON.stringify(C,null,2)),Hn))):Ps(Dr)?Dr=Ot(c.executeSubSelectedArray({field:mn,array:Dr,enclosingRef:A,context:L}),Ur):mn.selectionSet?null!=Dr&&(Dr=Ot(c.executeSelectionSet({selectionSet:mn.selectionSet,objectOrReference:Dr,enclosingRef:Ii(Dr)?Dr:A,context:L}),Ur)):L.canonizeResults&&(Dr=c.canon.pass(Dr)),void 0!==Dr&&He.push(((Mr={})[Ur]=Dr,Mr))}else{var Xr=Wf(mn,L.fragmentMap);Xr&&J.fragmentMatches(Xr,Se)&&Xr.selectionSet.selections.forEach(Bt.add,Bt)}});var _n={result:wl(He),missing:Pe},Yn=L.canonizeResults?this.canon.admit(_n):gf(_n);return Yn.result&&this.knownResults.set(Yn.result,g),Yn},h.prototype.execSubSelectedArrayImpl=function(a){var z,c=this,g=a.field,C=a.array,A=a.enclosingRef,L=a.context,J=new il;function re(Se,He){var Pe;return Se.missing&&(z=J.merge(z,((Pe={})[He]=Se.missing,Pe))),Se.result}return g.selectionSet&&(C=C.filter(L.store.canRead)),C=C.map(function(Se,He){return null===Se?null:Ps(Se)?re(c.executeSubSelectedArray({field:g,array:Se,enclosingRef:A,context:L}),He):g.selectionSet?re(c.executeSelectionSet({selectionSet:g.selectionSet,objectOrReference:Se,enclosingRef:Ii(Se)?Se:A,context:L}),He):(__DEV__&&function(h,a,c){if(!a.selectionSet){var g=new Set([c]);g.forEach(function(C){Ji(C)&&(__DEV__?$n(!Ii(C),"Missing selection set for object of type ".concat(function(h,a){return Ii(a)?h.get(a.__ref,"__typename"):a&&a.__typename}(h,C)," returned for query field ").concat(a.name.value)):$n(!Ii(C),5),Object.values(C).forEach(g.add,g))})}}(L.store,g,Se),Se)}),{result:L.canonizeResults?this.canon.admit(C):C,missing:z}},h}();function al(h){try{JSON.stringify(h,function(a,c){if("string"==typeof c)throw c;return c})}catch(a){return a}}var au=Object.create(null);function cc(h){var a=JSON.stringify(h);return au[a]||(au[a]=Object.create(null))}function vh(h){var a=cc(h);return a.keyFieldsFn||(a.keyFieldsFn=function(c,g){var C=function(L,z){return g.readField(z,L)},A=g.keyObject=Cd(h,function(L){var z=lu(g.storeObject,L,C);return void 0===z&&c!==g.storeObject&&No.call(c,L[0])&&(z=lu(c,L,Eh)),__DEV__?$n(void 0!==z,"Missing field '".concat(L.join("."),"' while extracting keyFields from ").concat(JSON.stringify(c))):$n(void 0!==z,2),z});return"".concat(g.typename,":").concat(JSON.stringify(A))})}function bh(h){var a=cc(h);return a.keyArgsFn||(a.keyArgsFn=function(c,g){var C=g.field,A=g.variables,L=g.fieldName,z=Cd(h,function(re){var Se=re[0],He=Se.charAt(0);if("@"!==He)if("$"!==He){if(c)return lu(c,re)}else{var Bt=Se.slice(1);if(A&&No.call(A,Bt)){var tn=re.slice(0);return tn[0]=Bt,lu(A,tn)}}else if(C&&m(C.directives)){var Pe=Se.slice(1),We=C.directives.find(function(_n){return _n.name.value===Pe}),Ot=We&&Cc(We,A);return Ot&&lu(Ot,re.slice(1))}}),J=JSON.stringify(z);return(c||"{}"!==J)&&(L+=":"+J),L})}function Cd(h,a){var c=new il;return Td(h).reduce(function(g,C){var A,L=a(C);if(void 0!==L){for(var z=C.length-1;z>=0;--z)(A={})[C[z]]=L,L=A;g=c.merge(g,L)}return g},Object.create(null))}function Td(h){var a=cc(h);if(!a.paths){var c=a.paths=[],g=[];h.forEach(function(C,A){Ps(C)?(Td(C).forEach(function(L){return c.push(g.concat(L))}),g.length=0):(g.push(C),Ps(h[A+1])||(c.push(g.slice(0)),g.length=0))})}return a.paths}function Eh(h,a){return h[a]}function lu(h,a,c){return c=c||Eh,Fm(a.reduce(function g(C,A){return Ps(C)?C.map(function(L){return g(L,A)}):C&&c(C,A)},h))}function Fm(h){return Ji(h)?Ps(h)?h.map(Fm):Cd(Object.keys(h).sort(),function(a){return lu(h,a)}):h}function Lg(h){return void 0!==h.args?h.args:h.field?Cc(h.field,h.variables):null}qo.setStringify(ic);var Sy=function(){},Lm=function(h,a){return a.fieldName},Vg=function(h,a,c){return(0,c.mergeObjects)(h,a)},Ap=function(h,a){return a},Vm=function(){function h(a){this.config=a,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,ht.pi)({dataIdFromObject:ef},a),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),a.possibleTypes&&this.addPossibleTypes(a.possibleTypes),a.typePolicies&&this.addTypePolicies(a.typePolicies)}return h.prototype.identify=function(a,c){var g,C=this,A=c&&(c.typename||(null===(g=c.storeObject)||void 0===g?void 0:g.__typename))||a.__typename;if(A===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var J,L=c&&c.storeObject||a,z=(0,ht.pi)((0,ht.pi)({},c),{typename:A,storeObject:L,readField:c&&c.readField||function(){var Pe=xp(arguments,L);return C.readField(Pe,{store:C.cache.data,variables:Pe.variables})}}),re=A&&this.getTypePolicy(A),Se=re&&re.keyFn||this.config.dataIdFromObject;Se;){var He=Se(a,z);if(!Ps(He)){J=He;break}Se=vh(He)}return J=J?String(J):void 0,z.keyObject?[J,z.keyObject]:[J]},h.prototype.addTypePolicies=function(a){var c=this;Object.keys(a).forEach(function(g){var C=a[g],A=C.queryType,L=C.mutationType,z=C.subscriptionType,J=(0,ht._T)(C,["queryType","mutationType","subscriptionType"]);A&&c.setRootTypename("Query",g),L&&c.setRootTypename("Mutation",g),z&&c.setRootTypename("Subscription",g),No.call(c.toBeAdded,g)?c.toBeAdded[g].push(J):c.toBeAdded[g]=[J]})},h.prototype.updateTypePolicy=function(a,c){var g=this,C=this.getTypePolicy(a),A=c.keyFields,L=c.fields;function z(J,re){J.merge="function"==typeof re?re:!0===re?Vg:!1===re?Ap:J.merge}z(C,c.merge),C.keyFn=!1===A?Sy:Ps(A)?vh(A):"function"==typeof A?A:C.keyFn,L&&Object.keys(L).forEach(function(J){var re=g.getFieldPolicy(a,J,!0),Se=L[J];if("function"==typeof Se)re.read=Se;else{var He=Se.keyArgs,Pe=Se.read,We=Se.merge;re.keyFn=!1===He?Lm:Ps(He)?bh(He):"function"==typeof He?He:re.keyFn,"function"==typeof Pe&&(re.read=Pe),z(re,We)}re.read&&re.merge&&(re.keyFn=re.keyFn||Lm)})},h.prototype.setRootTypename=function(a,c){void 0===c&&(c=a);var g="ROOT_"+a.toUpperCase(),C=this.rootTypenamesById[g];c!==C&&(__DEV__?$n(!C||C===a,"Cannot change root ".concat(a," __typename more than once")):$n(!C||C===a,3),C&&delete this.rootIdsByTypename[C],this.rootIdsByTypename[c]=g,this.rootTypenamesById[g]=c)},h.prototype.addPossibleTypes=function(a){var c=this;this.usingPossibleTypes=!0,Object.keys(a).forEach(function(g){c.getSupertypeSet(g,!0),a[g].forEach(function(C){c.getSupertypeSet(C,!0).add(g);var A=C.match(Oc);(!A||A[0]!==C)&&c.fuzzySubtypes.set(C,new RegExp(C))})})},h.prototype.getTypePolicy=function(a){var c=this;if(!No.call(this.typePolicies,a)){var g=this.typePolicies[a]=Object.create(null);g.fields=Object.create(null);var C=this.supertypeMap.get(a);C&&C.size&&C.forEach(function(L){var z=c.getTypePolicy(L),J=z.fields,re=(0,ht._T)(z,["fields"]);Object.assign(g,re),Object.assign(g.fields,J)})}var A=this.toBeAdded[a];return A&&A.length&&A.splice(0).forEach(function(L){c.updateTypePolicy(a,L)}),this.typePolicies[a]},h.prototype.getFieldPolicy=function(a,c,g){if(a){var C=this.getTypePolicy(a).fields;return C[c]||g&&(C[c]=Object.create(null))}},h.prototype.getSupertypeSet=function(a,c){var g=this.supertypeMap.get(a);return!g&&c&&this.supertypeMap.set(a,g=new Set),g},h.prototype.fragmentMatches=function(a,c,g,C){var A=this;if(!a.typeCondition)return!0;if(!c)return!1;var L=a.typeCondition.name.value;if(c===L)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(L))for(var z=this.getSupertypeSet(c,!0),J=[z],re=function(Ot){var Bt=A.getSupertypeSet(Ot,!1);Bt&&Bt.size&&J.indexOf(Bt)<0&&J.push(Bt)},Se=!(!g||!this.fuzzySubtypes.size),He=!1,Pe=0;Pe<J.length;++Pe){var We=J[Pe];if(We.has(L))return z.has(L)||(He&&__DEV__&&$n.warn("Inferring subtype ".concat(c," of supertype ").concat(L)),z.add(L)),!0;We.forEach(re),Se&&Pe===J.length-1&&Mc(a.selectionSet,g,C)&&(Se=!1,He=!0,this.fuzzySubtypes.forEach(function(Ot,Bt){var tn=c.match(Ot);tn&&tn[0]===c&&re(Bt)}))}return!1},h.prototype.hasKeyArgs=function(a,c){var g=this.getFieldPolicy(a,c,!1);return!(!g||!g.keyFn)},h.prototype.getStoreFieldName=function(a){var A,c=a.typename,g=a.fieldName,C=this.getFieldPolicy(c,g,!1),L=C&&C.keyFn;if(L&&c)for(var z={typename:c,fieldName:g,field:a.field||null,variables:a.variables},J=Lg(a);L;){var re=L(J,z);if(!Ps(re)){A=re||g;break}L=bh(re)}return void 0===A&&(A=a.field?function(h,a){var c=null;h.directives&&(c={},h.directives.forEach(function(C){c[C.name.value]={},C.arguments&&C.arguments.forEach(function(A){return Au(c[C.name.value],A.name,A.value,a)})}));var g=null;return h.arguments&&h.arguments.length&&(g={},h.arguments.forEach(function(C){return Au(g,C.name,C.value,a)})),qo(h.name.value,g,c)}(a.field,a.variables):qo(g,Lg(a))),!1===A?g:g===Fu(A)?A:g+":"+A},h.prototype.readField=function(a,c){var g=a.from;if(g&&(a.field||a.fieldName)){if(void 0===a.typename){var A=c.store.getFieldValue(g,"__typename");A&&(a.typename=A)}var L=this.getStoreFieldName(a),z=Fu(L),J=c.store.getFieldValue(g,L),re=this.getFieldPolicy(a.typename,z,!1),Se=re&&re.read;if(Se){var He=Ug(this,g,a,c,c.store.getStorage(Ii(g)?g.__ref:g,L));return xg.withValue(this.cache,Se,[J,He])}return J}},h.prototype.getReadFunction=function(a,c){var g=this.getFieldPolicy(a,c,!1);return g&&g.read},h.prototype.getMergeFunction=function(a,c,g){var C=this.getFieldPolicy(a,c,!1),A=C&&C.merge;return!A&&g&&(A=(C=this.getTypePolicy(g))&&C.merge),A},h.prototype.runMergeFunction=function(a,c,g,C,A){var L=g.field,z=g.typename,J=g.merge;return J===Vg?Op(C.store)(a,c):J===Ap?c:(C.overwrite&&(a=void 0),J(a,c,Ug(this,void 0,{typename:z,fieldName:L.name.value,field:L,variables:C.variables},C,A||Object.create(null))))},h}();function Ug(h,a,c,g,C){var A=h.getStoreFieldName(c),L=Fu(A),z=c.variables||g.variables,J=g.store,re=J.toReference,Se=J.canRead;return{args:Lg(c),field:c.field||null,fieldName:L,storeFieldName:A,variables:z,isReference:Ii,toReference:re,storage:C,cache:h.cache,canRead:Se,readField:function(){return h.readField(xp(arguments,a,z),g)},mergeObjects:Op(g.store)}}function xp(h,a,c){var L,g=h[0];return"string"==typeof g?L={fieldName:g,from:h.length>1?h[1]:a}:(L=(0,ht.pi)({},g),No.call(L,"from")||(L.from=a)),__DEV__&&void 0===L.from&&__DEV__&&$n.warn("Undefined 'from' passed to readField with arguments ".concat(function(h){var a=Rc("stringifyForDisplay");return JSON.stringify(h,function(c,g){return void 0===g?a:g}).split(JSON.stringify(a)).join("<undefined>")}(Array.from(h)))),void 0===L.variables&&(L.variables=c),L}function Op(h){return function(c,g){if(Ps(c)||Ps(g))throw __DEV__?new bi("Cannot automatically merge arrays"):new bi(4);if(Ji(c)&&Ji(g)){var C=h.getFieldValue(c,"__typename"),A=h.getFieldValue(g,"__typename");if(C&&A&&C!==A)return g;if(Ii(c)&&Lu(g))return h.merge(c.__ref,g),c;if(Lu(c)&&Ii(g))return h.merge(c,g.__ref),g;if(Lu(c)&&Lu(g))return(0,ht.pi)((0,ht.pi)({},c),g)}return g}}function wi(h,a,c){var g="".concat(a).concat(c),C=h.flavors.get(g);return C||h.flavors.set(g,C=h.clientOnly===a&&h.deferred===c?h:(0,ht.pi)((0,ht.pi)({},h),{clientOnly:a,deferred:c})),C}var Iy=function(){function h(a,c){this.cache=a,this.reader=c}return h.prototype.writeToStore=function(a,c){var g=this,C=c.query,A=c.result,L=c.dataId,z=c.variables,J=c.overwrite,re=Tc(C),Se=new il;z=(0,ht.pi)((0,ht.pi)({},Za(re)),z);var He={store:a,written:Object.create(null),merge:function(We,Ot){return Se.merge(We,Ot)},variables:z,varString:ic(z),fragmentMap:nd(nc(C)),overwrite:!!J,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},Pe=this.processSelectionSet({result:A||Object.create(null),dataId:L,selectionSet:re.selectionSet,mergeTree:{map:new Map},context:He});if(!Ii(Pe))throw __DEV__?new bi("Could not identify object ".concat(JSON.stringify(A))):new bi(6);return He.incomingById.forEach(function(We,Ot){var Bt=We.storeObject,tn=We.mergeTree,_n=We.fieldNodeSet,Yn=Du(Ot);if(tn&&tn.map.size){var mn=g.applyMerges(tn,Yn,Bt,He);if(Ii(mn))return;Bt=mn}if(__DEV__&&!He.overwrite){var Hn=Object.create(null);_n.forEach(function(Ur){Ur.selectionSet&&(Hn[Ur.name.value]=!0)}),Object.keys(Bt).forEach(function(Ur){(function(Ur){return!0===Hn[Fu(Ur)]})(Ur)&&!function(Ur){var Xr=tn&&tn.map.get(Ur);return Boolean(Xr&&Xr.info&&Xr.info.merge)}(Ur)&&function(h,a,c,g){var C=function(He){var Pe=g.getFieldValue(He,c);return"object"==typeof Pe&&Pe},A=C(h);if(A){var L=C(a);if(L&&!Ii(A)&&!Go(A,L)&&!Object.keys(A).every(function(He){return void 0!==g.getFieldValue(L,He)})){var z=g.getFieldValue(h,"__typename")||g.getFieldValue(a,"__typename"),J=Fu(c),re="".concat(z,".").concat(J);if(!uu.has(re)){uu.add(re);var Se=[];!Ps(A)&&!Ps(L)&&[A,L].forEach(function(He){var Pe=g.getFieldValue(He,"__typename");"string"==typeof Pe&&!Se.includes(Pe)&&Se.push(Pe)}),__DEV__&&$n.warn("Cache data may be lost when replacing the ".concat(J," field of a ").concat(z," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(Se.length?"either ensure all objects of type "+Se.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(re," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(A).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(L).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(Yn,Bt,Ur,He.store)})}a.merge(Ot,Bt)}),a.retain(Pe.__ref),Pe},h.prototype.processSelectionSet=function(a){var c=this,g=a.dataId,C=a.result,A=a.selectionSet,L=a.context,z=a.mergeTree,J=this.cache.policies,re=Object.create(null),Se=g&&J.rootTypenamesById[g]||xu(C,A,L.fragmentMap)||g&&L.store.get(g,"__typename");"string"==typeof Se&&(re.__typename=Se);var He=function(){var mn=xp(arguments,re,L.variables);if(Ii(mn.from)){var Hn=L.incomingById.get(mn.from.__ref);if(Hn){var Mr=J.readField((0,ht.pi)((0,ht.pi)({},mn),{from:Hn.storeObject}),L);if(void 0!==Mr)return Mr}}return J.readField(mn,L)},Pe=new Set;this.flattenFields(A,C,L,Se).forEach(function(mn,Hn){var Mr,Dr=tl(Hn),Ur=C[Dr];if(Pe.add(Hn),void 0!==Ur){var Xr=J.getStoreFieldName({typename:Se,fieldName:Hn.name.value,field:Hn,variables:mn.variables}),mo=wh(z,Xr),Ns=c.processFieldValue(Ur,Hn,Hn.selectionSet?wi(mn,!1,!1):mn,mo),ju=void 0;Hn.selectionSet&&(Ii(Ns)||Lu(Ns))&&(ju=He("__typename",Ns));var mf=J.getMergeFunction(Se,Hn.name.value,ju);mf?mo.info={field:Hn,typename:Se,merge:mf}:ka(z,Xr),re=mn.merge(re,((Mr={})[Xr]=Ns,Mr))}else __DEV__&&!mn.clientOnly&&!mn.deferred&&!fp.added(Hn)&&!J.getReadFunction(Se,Hn.name.value)&&__DEV__&&$n.error("Missing field '".concat(tl(Hn),"' while writing result ").concat(JSON.stringify(C,null,2)).substring(0,1e3))});try{var We=J.identify(C,{typename:Se,selectionSet:A,fragmentMap:L.fragmentMap,storeObject:re,readField:He}),Bt=We[1];g=g||We[0],Bt&&(re=L.merge(re,Bt))}catch(mn){if(!g)throw mn}if("string"==typeof g){var tn=Du(g),_n=L.written[g]||(L.written[g]=[]);if(_n.indexOf(A)>=0||(_n.push(A),this.reader&&this.reader.isFresh(C,tn,A,L)))return tn;var Yn=L.incomingById.get(g);return Yn?(Yn.storeObject=L.merge(Yn.storeObject,re),Yn.mergeTree=Um(Yn.mergeTree,z),Pe.forEach(function(mn){return Yn.fieldNodeSet.add(mn)})):L.incomingById.set(g,{storeObject:re,mergeTree:Ts(z)?void 0:z,fieldNodeSet:Pe}),tn}return re},h.prototype.processFieldValue=function(a,c,g,C){var A=this;return c.selectionSet&&null!==a?Ps(a)?a.map(function(L,z){var J=A.processFieldValue(L,c,g,wh(C,z));return ka(C,z),J}):this.processSelectionSet({result:a,selectionSet:c.selectionSet,context:g,mergeTree:C}):__DEV__?Re(a):a},h.prototype.flattenFields=function(a,c,g,C){void 0===C&&(C=xu(c,a,g.fragmentMap));var A=new Map,L=this.cache.policies,z=new eu(!1);return function J(re,Se){var He=z.lookup(re,Se.clientOnly,Se.deferred);He.visited||(He.visited=!0,re.selections.forEach(function(Pe){if(uh(Pe,g.variables)){var We=Se.clientOnly,Ot=Se.deferred;if(!(We&&Ot)&&m(Pe.directives)&&Pe.directives.forEach(function(_n){var Yn=_n.name.value;if("client"===Yn&&(We=!0),"defer"===Yn){var mn=Cc(_n,g.variables);(!mn||!1!==mn.if)&&(Ot=!0)}}),da(Pe)){var Bt=A.get(Pe);Bt&&(We=We&&Bt.clientOnly,Ot=Ot&&Bt.deferred),A.set(Pe,wi(g,We,Ot))}else{var tn=Wf(Pe,g.fragmentMap);tn&&L.fragmentMatches(tn,C,c,g.variables)&&J(tn.selectionSet,wi(g,We,Ot))}}}))}(a,g),A},h.prototype.applyMerges=function(a,c,g,C,A){var L,z=this;if(a.map.size&&!Ii(g)){var J=Ps(g)||!Ii(c)&&!Lu(c)?void 0:c,re=g;J&&!A&&(A=[Ii(J)?J.__ref:J]);var Se,He=function(Pe,We){return Ps(Pe)?"number"==typeof We?Pe[We]:void 0:C.store.getFieldValue(Pe,String(We))};a.map.forEach(function(Pe,We){var Ot=He(J,We),Bt=He(re,We);if(void 0!==Bt){A&&A.push(We);var tn=z.applyMerges(Pe,Ot,Bt,C,A);tn!==Bt&&(Se=Se||new Map).set(We,tn),A&&$n(A.pop()===We)}}),Se&&(g=Ps(re)?re.slice(0):(0,ht.pi)({},re),Se.forEach(function(Pe,We){g[We]=Pe}))}return a.info?this.cache.policies.runMergeFunction(c,g,a.info,C,A&&(L=C.store).getStorage.apply(L,A)):g},h}(),Bg=[];function wh(h,a){var c=h.map;return c.has(a)||c.set(a,Bg.pop()||{map:new Map}),c.get(a)}function Um(h,a){if(h===a||!a||Ts(a))return h;if(!h||Ts(h))return a;var c=h.info&&a.info?(0,ht.pi)((0,ht.pi)({},h.info),a.info):h.info||a.info,g=h.map.size&&a.map.size,A={info:c,map:g?new Map:h.map.size?h.map:a.map};if(g){var L=new Set(a.map.keys());h.map.forEach(function(z,J){A.map.set(J,Um(z,a.map.get(J))),L.delete(J)}),L.forEach(function(z){A.map.set(z,Um(a.map.get(z),h.map.get(z)))})}return A}function Ts(h){return!h||!(h.info||h.map.size)}function ka(h,a){var c=h.map,g=c.get(a);g&&Ts(g)&&(Bg.push(g),c.delete(a))}var uu=new Set,Ay=function(h){function a(c){void 0===c&&(c={});var g=h.call(this)||this;return g.watches=new Set,g.typenameDocumentCache=new Map,g.makeVar=s_,g.txCount=0,g.config=function(h){return xc(dh,h)}(c),g.addTypename=!!g.config.addTypename,g.policies=new Vm({cache:g,dataIdFromObject:g.config.dataIdFromObject,possibleTypes:g.config.possibleTypes,typePolicies:g.config.typePolicies}),g.init(),g}return(0,ht.ZT)(a,h),a.prototype.init=function(){var c=this.data=new ol.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=c.stump,this.resetResultCache()},a.prototype.resetResultCache=function(c){var g=this,C=this.storeReader;this.storeWriter=new Iy(this,this.storeReader=new Dp({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:dd(this.config),canon:c?void 0:C&&C.canon})),this.maybeBroadcastWatch=uf(function(A,L){return g.broadcastWatch(A,L)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(A){var L=A.optimistic?g.optimisticData:g.data;if(so(L))return L.makeCacheKey(A.query,A.callback,ic({optimistic:A.optimistic,rootId:A.rootId,variables:A.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(A){return A.resetCaching()})},a.prototype.restore=function(c){return this.init(),c&&this.data.replace(c),this},a.prototype.extract=function(c){return void 0===c&&(c=!1),(c?this.optimisticData:this.data).extract()},a.prototype.read=function(c){var g=c.returnPartialData,C=void 0!==g&&g;try{return this.storeReader.diffQueryAgainstStore((0,ht.pi)((0,ht.pi)({},c),{store:c.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:C})).result||null}catch(A){if(A instanceof Cy)return null;throw A}},a.prototype.write=function(c){try{return++this.txCount,this.storeWriter.writeToStore(this.data,c)}finally{!--this.txCount&&!1!==c.broadcast&&this.broadcastWatches()}},a.prototype.modify=function(c){if(No.call(c,"id")&&!c.id)return!1;var g=c.optimistic?this.optimisticData:this.data;try{return++this.txCount,g.modify(c.id||"ROOT_QUERY",c.fields)}finally{!--this.txCount&&!1!==c.broadcast&&this.broadcastWatches()}},a.prototype.diff=function(c){return this.storeReader.diffQueryAgainstStore((0,ht.pi)((0,ht.pi)({},c),{store:c.optimistic?this.optimisticData:this.data,rootId:c.id||"ROOT_QUERY",config:this.config}))},a.prototype.watch=function(c){var g=this;return this.watches.size||function(h){gh(h).vars.forEach(function(a){return a.attachCache(h)})}(this),this.watches.add(c),c.immediate&&this.maybeBroadcastWatch(c),function(){g.watches.delete(c)&&!g.watches.size&&Im(g),g.maybeBroadcastWatch.forget(c)}},a.prototype.gc=function(c){ic.reset();var g=this.optimisticData.gc();return c&&!this.txCount&&(c.resetResultCache?this.resetResultCache(c.resetResultIdentities):c.resetResultIdentities&&this.storeReader.resetCanon()),g},a.prototype.retain=function(c,g){return(g?this.optimisticData:this.data).retain(c)},a.prototype.release=function(c,g){return(g?this.optimisticData:this.data).release(c)},a.prototype.identify=function(c){if(Ii(c))return c.__ref;try{return this.policies.identify(c)[0]}catch(g){__DEV__&&$n.warn(g)}},a.prototype.evict=function(c){if(!c.id){if(No.call(c,"id"))return!1;c=(0,ht.pi)((0,ht.pi)({},c),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(c,this.data)}finally{!--this.txCount&&!1!==c.broadcast&&this.broadcastWatches()}},a.prototype.reset=function(c){var g=this;return this.init(),ic.reset(),c&&c.discardWatches?(this.watches.forEach(function(C){return g.maybeBroadcastWatch.forget(C)}),this.watches.clear(),Im(this)):this.broadcastWatches(),Promise.resolve()},a.prototype.removeOptimistic=function(c){var g=this.optimisticData.removeLayer(c);g!==this.optimisticData&&(this.optimisticData=g,this.broadcastWatches())},a.prototype.batch=function(c){var re,g=this,C=c.update,A=c.optimistic,L=void 0===A||A,z=c.removeOptimistic,J=c.onWatchUpdated,Se=function(Pe){var Ot=g.data,Bt=g.optimisticData;++g.txCount,Pe&&(g.data=g.optimisticData=Pe);try{return re=C(g)}finally{--g.txCount,g.data=Ot,g.optimisticData=Bt}},He=new Set;return J&&!this.txCount&&this.broadcastWatches((0,ht.pi)((0,ht.pi)({},c),{onWatchUpdated:function(Pe){return He.add(Pe),!1}})),"string"==typeof L?this.optimisticData=this.optimisticData.addLayer(L,Se):!1===L?Se(this.data):Se(),"string"==typeof z&&(this.optimisticData=this.optimisticData.removeLayer(z)),J&&He.size?(this.broadcastWatches((0,ht.pi)((0,ht.pi)({},c),{onWatchUpdated:function(Pe,We){var Ot=J.call(this,Pe,We);return!1!==Ot&&He.delete(Pe),Ot}})),He.size&&He.forEach(function(Pe){return g.maybeBroadcastWatch.dirty(Pe)})):this.broadcastWatches(c),re},a.prototype.performTransaction=function(c,g){return this.batch({update:c,optimistic:g||null!==g})},a.prototype.transformDocument=function(c){if(this.addTypename){var g=this.typenameDocumentCache.get(c);return g||(g=fp(c),this.typenameDocumentCache.set(c,g),this.typenameDocumentCache.set(g,g)),g}return c},a.prototype.broadcastWatches=function(c){var g=this;this.txCount||this.watches.forEach(function(C){return g.maybeBroadcastWatch(C,c)})},a.prototype.broadcastWatch=function(c,g){var C=c.lastDiff,A=this.diff(c);g&&(c.optimistic&&"string"==typeof g.optimistic&&(A.fromOptimisticTransaction=!0),g.onWatchUpdated&&!1===g.onWatchUpdated.call(this,c,A,C))||(!C||!Go(C.result,A.result))&&c.callback(c.lastDiff=A,C)},a}(wy);class jg extends Ic{constructor(a,c){super(),this.httpClient=a,this.options=c,this.print=rl,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=g=>new Cs(C=>{const A=g.getContext(),L=(Yn,mn)=>function(...h){const a=h.find(c=>void 0!==c);return void 0===a?h[h.length-1]:a}(A[Yn],this.options[Yn],mn);let z=L("method","POST");const J=L("includeQuery",!0),re=L("includeExtensions",!1),Se=L("uri","graphql"),He=L("withCredentials"),Pe=L("useMultipart"),We=!0===this.options.useGETForQueries,Ot=g.query.definitions.some(Yn=>"OperationDefinition"===Yn.kind&&"query"===Yn.operation);We&&Ot&&(z="GET");const Bt={method:z,url:"function"==typeof Se?Se(g):Se,body:{operationName:g.operationName,variables:g.variables},options:{withCredentials:He,useMultipart:Pe,headers:this.options.headers}};re&&(Bt.body.extensions=g.extensions),J&&(Bt.body.query=this.print(g.query));const tn=function(h){let a=h.headers&&h.headers instanceof he?h.headers:new he(h.headers);if(h.clientAwareness){const{name:c,version:g}=h.clientAwareness;c&&!a.has("apollographql-client-name")&&(a=a.set("apollographql-client-name",c)),g&&!a.has("apollographql-client-version")&&(a=a.set("apollographql-client-version",g))}return a}(A);Bt.options.headers=((h,a)=>h&&a?a.keys().reduce((g,C)=>g.set(C,a.getAll(C)),h):a||h)(Bt.options.headers,tn);const _n=((h,a,c)=>{const g=-1!==["POST","PUT","PATCH"].indexOf(h.method.toUpperCase()),A=h.body.length;let z,L=h.options&&h.options.useMultipart;if(L){if(A)return new Be.y(re=>re.error(new Error("File upload is not available when combined with Batching")));if(!g)return new Be.y(re=>re.error(new Error("File upload is not available when GET is used")));if(!c)return new Be.y(re=>re.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));z=c(h.body),L=!!z.files.size}let J={};if(A){if(!g)return new Be.y(re=>re.error(new Error("Batching is not available for GET requests")));J={body:h.body}}else{const re=L?z.clone:h.body;J=g?{body:re}:{params:Object.keys(h.body).reduce((He,Pe)=>{const We=h.body[Pe];return He[Pe]=(re=>-1!==["variables","extensions"].indexOf(re.toLowerCase()))(Pe)?JSON.stringify(We):We,He},{})}}if(L&&g){const re=new FormData;re.append("operations",JSON.stringify(J.body));const Se={},He=z.files;let Pe=0;He.forEach(We=>{Se[++Pe]=We}),re.append("map",JSON.stringify(Se)),Pe=0,He.forEach((We,Ot)=>{re.append(++Pe+"",Ot,Ot.name)}),J.body=re}return a.request(h.method,h.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},J),h.options))})(Bt,this.httpClient,this.options.extractFiles).subscribe({next:Yn=>{g.setContext({response:Yn}),C.next(Yn.body)},error:Yn=>C.error(Yn),complete:()=>C.complete()});return()=>{_n.closed||_n.unsubscribe()}})}request(a){return this.requester(a)}}let av=(()=>{class h{constructor(c){this.httpClient=c}create(c){return new jg(this.httpClient,c)}}return h.\u0275fac=function(c){return new(c||h)(o.LFG(qt))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function Fo(h){return{link:h.create({uri:"http://localhost:4201/graphql"}),cache:new Ay}}let Oy=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({providers:[{provide:Am,useFactory:Fo,deps:[av]}],imports:[Mm]}),h})();var Hm=q(9443);let qm=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=o.oAB({type:h,bootstrap:[Pf]}),h.\u0275inj=o.cJS({providers:[x,gr,{provide:jh,useValue:Da.N.firebase.storageBucket}],imports:[[k.b2,Cr,Oy,Br,bu.PW,hn.hO.initializeApp(Da.N.firebase),Dn.ww,Bd,Hm.AdminModule]]}),h})();Da.N.production&&(0,o.G48)(),k.q6().bootstrapModule(qm).catch(h=>console.error(h))},4762:(ln,at,q)=>{"use strict";q.d(at,{ZT:()=>o,pi:()=>te,_T:()=>Ue,mG:()=>Ce,Jh:()=>Te,ev:()=>tt});var k=function(Qe,Je){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,yt){et.__proto__=yt}||function(et,yt){for(var ft in yt)Object.prototype.hasOwnProperty.call(yt,ft)&&(et[ft]=yt[ft])})(Qe,Je)};function o(Qe,Je){if("function"!=typeof Je&&null!==Je)throw new TypeError("Class extends value "+String(Je)+" is not a constructor or null");function et(){this.constructor=Qe}k(Qe,Je),Qe.prototype=null===Je?Object.create(Je):(et.prototype=Je.prototype,new et)}var te=function(){return te=Object.assign||function(Je){for(var et,yt=1,ft=arguments.length;yt<ft;yt++)for(var qt in et=arguments[yt])Object.prototype.hasOwnProperty.call(et,qt)&&(Je[qt]=et[qt]);return Je},te.apply(this,arguments)};function Ue(Qe,Je){var et={};for(var yt in Qe)Object.prototype.hasOwnProperty.call(Qe,yt)&&Je.indexOf(yt)<0&&(et[yt]=Qe[yt]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(yt=Object.getOwnPropertySymbols(Qe);ft<yt.length;ft++)Je.indexOf(yt[ft])<0&&Object.prototype.propertyIsEnumerable.call(Qe,yt[ft])&&(et[yt[ft]]=Qe[yt[ft]])}return et}function Ce(Qe,Je,et,yt){return new(et||(et=Promise))(function(qt,En){function Tn(zn){try{un(yt.next(zn))}catch(Kr){En(Kr)}}function sr(zn){try{un(yt.throw(zn))}catch(Kr){En(Kr)}}function un(zn){zn.done?qt(zn.value):function(qt){return qt instanceof et?qt:new et(function(En){En(qt)})}(zn.value).then(Tn,sr)}un((yt=yt.apply(Qe,Je||[])).next())})}function Te(Qe,Je){var yt,ft,qt,En,et={label:0,sent:function(){if(1&qt[0])throw qt[1];return qt[1]},trys:[],ops:[]};return En={next:Tn(0),throw:Tn(1),return:Tn(2)},"function"==typeof Symbol&&(En[Symbol.iterator]=function(){return this}),En;function Tn(un){return function(zn){return function(un){if(yt)throw new TypeError("Generator is already executing.");for(;et;)try{if(yt=1,ft&&(qt=2&un[0]?ft.return:un[0]?ft.throw||((qt=ft.return)&&qt.call(ft),0):ft.next)&&!(qt=qt.call(ft,un[1])).done)return qt;switch(ft=0,qt&&(un=[2&un[0],qt.value]),un[0]){case 0:case 1:qt=un;break;case 4:return et.label++,{value:un[1],done:!1};case 5:et.label++,ft=un[1],un=[0];continue;case 7:un=et.ops.pop(),et.trys.pop();continue;default:if(!(qt=(qt=et.trys).length>0&&qt[qt.length-1])&&(6===un[0]||2===un[0])){et=0;continue}if(3===un[0]&&(!qt||un[1]>qt[0]&&un[1]<qt[3])){et.label=un[1];break}if(6===un[0]&&et.label<qt[1]){et.label=qt[1],qt=un;break}if(qt&&et.label<qt[2]){et.label=qt[2],et.ops.push(un);break}qt[2]&&et.ops.pop(),et.trys.pop();continue}un=Je.call(Qe,et)}catch(zn){un=[6,zn],ft=0}finally{yt=qt=0}if(5&un[0])throw un[1];return{value:un[0]?un[1]:void 0,done:!0}}([un,zn])}}}function tt(Qe,Je,et){if(et||2===arguments.length)for(var qt,yt=0,ft=Je.length;yt<ft;yt++)(qt||!(yt in Je))&&(qt||(qt=Array.prototype.slice.call(Je,0,yt)),qt[yt]=Je[yt]);return Qe.concat(qt||Array.prototype.slice.call(Je))}},3394:(ln,at,q)=>{"use strict";q.d(at,{Z:()=>pt});var k=q(3854),o=q(3910),te=q(8026),Ue=q(5422);class Be{constructor(ce,vt){this._delegate=ce,this.firebase=vt,(0,te._addComponent)(ce,new o.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(ce,vt=te._DEFAULT_ENTRY_NAME){var Jt;this._delegate.checkDestroyed();const Zt=this._delegate.container.getProvider(ce);return!Zt.isInitialized()&&"EXPLICIT"===(null===(Jt=Zt.getComponent())||void 0===Jt?void 0:Jt.instantiationMode)&&Zt.initialize(),Zt.getImmediate({identifier:vt})}_removeServiceInstance(ce,vt=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(vt)}_addComponent(ce){(0,te._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,te._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new k.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function Te(){const tt=function(tt){const ce={},vt={__esModule:!0,initializeApp:function(ct,lt={}){const Dt=te.initializeApp(ct,lt);if((0,k.r3)(ce,Dt.name))return ce[Dt.name];const Qe=new tt(Dt,vt);return ce[Dt.name]=Qe,Qe},app:Zt,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function(ct){const lt=ct.name,Dt=lt.replace("-compat","");if(te._registerComponent(ct)&&"PUBLIC"===ct.type){const Qe=(Je=Zt())=>{if("function"!=typeof Je[Dt])throw Ge.create("invalid-app-argument",{appName:lt});return Je[Dt]()};void 0!==ct.serviceProps&&(0,k.ZB)(Qe,ct.serviceProps),vt[Dt]=Qe,tt.prototype[Dt]=function(...Je){return this._getService.bind(this,lt).apply(this,ct.multipleInstances?Je:[])}}return"PUBLIC"===ct.type?vt[Dt]:null},removeApp:function(ct){delete ce[ct]},useAsService:function(ct,lt){return"serverAuth"===lt?null:lt},modularAPIs:te}};function Zt(ct){if(!(0,k.r3)(ce,ct=ct||te._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:ct});return ce[ct]}return vt.default=vt,Object.defineProperty(vt,"apps",{get:function(){return Object.keys(ce).map(ct=>ce[ct])}}),Zt.App=tt,vt}(Be);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function(vt){(0,k.ZB)(tt,vt)},createSubscribe:k.ne,ErrorFactory:k.LL,deepExtend:k.ZB}),tt}(),he=new Ue.Yd("@firebase/app-compat");if((0,k.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pt=ue;(0,te.registerVersion)("@firebase/app-compat","0.1.33",undefined)},8026:(ln,at,q)=>{"use strict";q.r(at),q.d(at,{FirebaseError:()=>Ue.ZR,SDK_VERSION:()=>yr,_DEFAULT_ENTRY_NAME:()=>sr,_addComponent:()=>Nr,_addOrOverwriteComponent:()=>li,_apps:()=>zn,_clearComponents:()=>Ei,_components:()=>Kr,_getProvider:()=>yn,_registerComponent:()=>on,_removeServiceInstance:()=>mr,deleteApp:()=>_r,getApp:()=>dr,getApps:()=>kr,initializeApp:()=>vn,onLog:()=>Br,registerVersion:()=>tr,setLogLevel:()=>ti});var k=q(8239),o=q(3910),te=q(5422),Ue=q(3854),Be=q(5401);class Ie{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function(Ee){const Fe=Ee.getComponent();return"VERSION"===(null==Fe?void 0:Fe.type)}(De)){const Ft=De.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(De=>De).join(" ")}}const Ce="@firebase/app",ue=new te.Yd("@firebase/app"),sr="[DEFAULT]",un={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zn=new Map,Kr=new Map;function Nr(Ee,Fe){try{Ee.container.addComponent(Fe)}catch(De){ue.debug(`Component ${Fe.name} failed to register with FirebaseApp ${Ee.name}`,De)}}function li(Ee,Fe){Ee.container.addOrOverwriteComponent(Fe)}function on(Ee){const Fe=Ee.name;if(Kr.has(Fe))return ue.debug(`There were multiple attempts to register component ${Fe}.`),!1;Kr.set(Fe,Ee);for(const De of zn.values())Nr(De,Ee);return!0}function yn(Ee,Fe){const De=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),Ee.container.getProvider(Fe)}function mr(Ee,Fe,De=sr){yn(Ee,Fe).clearInstance(De)}function Ei(){Kr.clear()}const Un=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(Fe,De,Ft){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const yr="9.9.4";function vn(Ee,Fe={}){"object"!=typeof Fe&&(Fe={name:Fe});const De=Object.assign({name:sr,automaticDataCollectionEnabled:!1},Fe),Ft=De.name;if("string"!=typeof Ft||!Ft)throw Un.create("bad-app-name",{appName:String(Ft)});const nn=zn.get(Ft);if(nn){if((0,Ue.vZ)(Ee,nn.options)&&(0,Ue.vZ)(De,nn.config))return nn;throw Un.create("duplicate-app",{appName:Ft})}const Vn=new o.H0(Ft);for(const Zn of Kr.values())Vn.addComponent(Zn);const Er=new Qn(Ee,De,Vn);return zn.set(Ft,Er),Er}function dr(Ee=sr){const Fe=zn.get(Ee);if(!Fe)throw Un.create("no-app",{appName:Ee});return Fe}function kr(){return Array.from(zn.values())}function _r(Ee){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,k.Z)(function*(Ee){const Fe=Ee.name;zn.has(Fe)&&(zn.delete(Fe),yield Promise.all(Ee.container.getProviders().map(De=>De.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function tr(Ee,Fe,De){var Ft;let nn=null!==(Ft=un[Ee])&&void 0!==Ft?Ft:Ee;De&&(nn+=`-${De}`);const Vn=nn.match(/\s|\//),Er=Fe.match(/\s|\//);if(Vn||Er){const Zn=[`Unable to register library "${nn}" with version "${Fe}":`];return Vn&&Zn.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),Vn&&Er&&Zn.push("and"),Er&&Zn.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void ue.warn(Zn.join(" "))}on(new o.wA(`${nn}-version`,()=>({library:nn,version:Fe}),"VERSION"))}function Br(Ee,Fe){if(null!==Ee&&"function"!=typeof Ee)throw Un.create("invalid-log-argument");(0,te.Am)(Ee,Fe)}function ti(Ee){(0,te.Ub)(Ee)}const Zr="firebase-heartbeat-store";let oi=null;function $r(){return oi||(oi=(0,Be.X3)("firebase-heartbeat-database",1,{upgrade:(Ee,Fe)=>{0===Fe&&Ee.createObjectStore(Zr)}}).catch(Ee=>{throw Un.create("idb-open",{originalErrorMessage:Ee.message})})),oi}function wn(){return(wn=(0,k.Z)(function*(Ee){var Fe;try{return(yield $r()).transaction(Zr).objectStore(Zr).get(Xi(Ee))}catch(De){if(De instanceof Ue.ZR)ue.warn(De.message);else{const Ft=Un.create("idb-get",{originalErrorMessage:null===(Fe=De)||void 0===Fe?void 0:Fe.message});ue.warn(Ft.message)}}})).apply(this,arguments)}function rn(Ee,Fe){return fr.apply(this,arguments)}function fr(){return(fr=(0,k.Z)(function*(Ee,Fe){var De;try{const nn=(yield $r()).transaction(Zr,"readwrite");return yield nn.objectStore(Zr).put(Fe,Xi(Ee)),nn.done}catch(Ft){if(Ft instanceof Ue.ZR)ue.warn(Ft.message);else{const nn=Un.create("idb-set",{originalErrorMessage:null===(De=Ft)||void 0===De?void 0:De.message});ue.warn(nn.message)}}})).apply(this,arguments)}function Xi(Ee){return`${Ee.name}!${Ee.options.appId}`}class Rn{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new _i(De),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var Fe=this;return(0,k.Z)(function*(){const Ft=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nn=zr();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==nn&&!Fe._heartbeatsCache.heartbeats.some(Vn=>Vn.date===nn))return Fe._heartbeatsCache.heartbeats.push({date:nn,agent:Ft}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(Vn=>{const Er=new Date(Vn.date).valueOf();return Date.now()-Er<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,k.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const De=zr(),{heartbeatsToSend:Ft,unsentEntries:nn}=function(Ee,Fe=1024){const De=[];let Ft=Ee.slice();for(const nn of Ee){const Vn=De.find(Er=>Er.agent===nn.agent);if(Vn){if(Vn.dates.push(nn.date),xe(De)>Fe){Vn.dates.pop();break}}else if(De.push({agent:nn.agent,dates:[nn.date]}),xe(De)>Fe){De.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:De,unsentEntries:Ft}}(Fe._heartbeatsCache.heartbeats),Vn=(0,Ue.L)(JSON.stringify({version:2,heartbeats:Ft}));return Fe._heartbeatsCache.lastSentHeartbeatDate=De,nn.length>0?(Fe._heartbeatsCache.heartbeats=nn,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),Vn})()}}function zr(){return(new Date).toISOString().substring(0,10)}class _i{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,k.Z)(function*(){return!!(0,Ue.hl)()&&(0,Ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,k.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function(Ee){return wn.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var De=this;return(0,k.Z)(function*(){var Ft;if(yield De._canUseIndexedDBPromise){const Vn=yield De.read();return rn(De.app,{lastSentHeartbeatDate:null!==(Ft=Fe.lastSentHeartbeatDate)&&void 0!==Ft?Ft:Vn.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var De=this;return(0,k.Z)(function*(){var Ft;if(yield De._canUseIndexedDBPromise){const Vn=yield De.read();return rn(De.app,{lastSentHeartbeatDate:null!==(Ft=Fe.lastSentHeartbeatDate)&&void 0!==Ft?Ft:Vn.lastSentHeartbeatDate,heartbeats:[...Vn.heartbeats,...Fe.heartbeats]})}})()}}function xe(Ee){return(0,Ue.L)(JSON.stringify({version:2,heartbeats:Ee})).length}on(new o.wA("platform-logger",Fe=>new Ie(Fe),"PRIVATE")),on(new o.wA("heartbeat",Fe=>new Rn(Fe),"PRIVATE")),tr(Ce,"0.7.32",""),tr(Ce,"0.7.32","esm2017"),tr("fire-js","")},3910:(ln,at,q)=>{"use strict";q.d(at,{wA:()=>te,H0:()=>Ce});var k=q(8239),o=q(3854);class te{constructor(ue,he,Ve){this.name=ue,this.instanceFactory=he,this.type=Ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const Ue="[DEFAULT]";class Be{constructor(ue,he){this.name=ue,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const he=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(he)){const Ve=new o.BH;if(this.instancesDeferred.set(he,Ve),this.isInitialized(he)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:he});be&&Ve.resolve(be)}catch(be){}}return this.instancesDeferred.get(he).promise}getImmediate(ue){var he;const Ve=this.normalizeInstanceIdentifier(null==ue?void 0:ue.identifier),be=null!==(he=null==ue?void 0:ue.optional)&&void 0!==he&&he;if(!this.isInitialized(Ve)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ve})}catch(Ke){if(be)return null;throw Ke}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if("EAGER"===ue.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ue})}catch(he){}for(const[he,Ve]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(he);try{const Ke=this.getOrInitializeService({instanceIdentifier:be});Ve.resolve(Ke)}catch(Ke){}}}}clearInstance(ue=Ue){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,k.Z)(function*(){const he=Array.from(ue.instances.values());yield Promise.all([...he.filter(Ve=>"INTERNAL"in Ve).map(Ve=>Ve.INTERNAL.delete()),...he.filter(Ve=>"_delete"in Ve).map(Ve=>Ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=Ue){return this.instances.has(ue)}getOptions(ue=Ue){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:he={}}=ue,Ve=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized(Ve))throw Error(`${this.name}(${Ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:Ve,options:he});for(const[Ke,pt]of this.instancesDeferred.entries())Ve===this.normalizeInstanceIdentifier(Ke)&&pt.resolve(be);return be}onInit(ue,he){var Ve;const be=this.normalizeInstanceIdentifier(he),Ke=null!==(Ve=this.onInitCallbacks.get(be))&&void 0!==Ve?Ve:new Set;Ke.add(ue),this.onInitCallbacks.set(be,Ke);const pt=this.instances.get(be);return pt&&ue(pt,be),()=>{Ke.delete(ue)}}invokeOnInitCallbacks(ue,he){const Ve=this.onInitCallbacks.get(he);if(Ve)for(const be of Ve)try{be(ue,he)}catch(Ke){}}getOrInitializeService({instanceIdentifier:ue,options:he={}}){let Ve=this.instances.get(ue);if(!Ve&&this.component&&(Ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=ue,Te===Ue?void 0:Te),options:he}),this.instances.set(ue,Ve),this.instancesOptions.set(ue,he),this.invokeOnInitCallbacks(Ve,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,Ve)}catch(be){}var Te;return Ve||null}normalizeInstanceIdentifier(ue=Ue){return this.component?this.component.multipleInstances?ue:Ue:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const he=this.getProvider(ue.name);if(he.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);he.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const he=new Be(ue,this);return this.providers.set(ue,he),he}getProviders(){return Array.from(this.providers.values())}}},3328:(ln,at,q)=>{"use strict";var k=q(8239),o=q(8026),te=q(3910),Ue=q(3854),Be=q(5401);const Ie="@firebase/installations",Ge="0.5.12",Te=`w:${Ge}`,ue="FIS_v2",tt=new Ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(Ae){return Ae instanceof Ue.ZR&&Ae.code.includes("request-failed")}function vt({projectId:Ae}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Ae}/installations`}function Jt(Ae){return{token:Ae.token,requestStatus:2,expiresIn:lt(Ae.expiresIn),creationTime:Date.now()}}function Zt(Ae,dt){return St.apply(this,arguments)}function St(){return(St=(0,k.Z)(function*(Ae,dt){const In=(yield dt.json()).error;return tt.create("request-failed",{requestName:Ae,serverCode:In.code,serverMessage:In.message,serverStatus:In.status})})).apply(this,arguments)}function Ct({apiKey:Ae}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ae})}function Rt(Ae,{refreshToken:dt}){const kt=Ct(Ae);return kt.append("Authorization",function(Ae){return`${ue} ${Ae}`}(dt)),kt}function Nt(Ae){return ct.apply(this,arguments)}function ct(){return(ct=(0,k.Z)(function*(Ae){const dt=yield Ae();return dt.status>=500&&dt.status<600?Ae():dt})).apply(this,arguments)}function lt(Ae){return Number(Ae.replace("s","000"))}function Qe(Ae,dt){return Je.apply(this,arguments)}function Je(){return(Je=(0,k.Z)(function*({appConfig:Ae,heartbeatServiceProvider:dt},{fid:kt}){const In=vt(Ae),qr=Ct(Ae),ur=dt.getImmediate({optional:!0});if(ur){const ut=yield ur.getHeartbeatsHeader();ut&&qr.append("x-firebase-client",ut)}const ke={method:"POST",headers:qr,body:JSON.stringify({fid:kt,authVersion:ue,appId:Ae.appId,sdkVersion:Te})},we=yield Nt(()=>fetch(In,ke));if(we.ok){const ut=yield we.json();return{fid:ut.fid||kt,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Jt(ut.authToken)}}throw yield Zt("Create Installation",we)})).apply(this,arguments)}function et(Ae){return new Promise(dt=>{setTimeout(dt,Ae)})}const ft=/^[cdef][\w-]{21}$/;function En(){try{const Ae=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ae),Ae[0]=112+Ae[0]%16;const kt=function(Ae){return function(Ae){return btoa(String.fromCharCode(...Ae)).replace(/\+/g,"-").replace(/\//g,"_")}(Ae).substr(0,22)}(Ae);return ft.test(kt)?kt:""}catch(Ae){return""}}function sr(Ae){return`${Ae.appName}!${Ae.appId}`}const un=new Map;function zn(Ae,dt){const kt=sr(Ae);li(kt,dt),function(Ae,dt){const kt=(!yn&&"BroadcastChannel"in self&&(yn=new BroadcastChannel("[Firebase] FID Change"),yn.onmessage=Ae=>{li(Ae.data.key,Ae.data.fid)}),yn);kt&&kt.postMessage({key:Ae,fid:dt}),0===un.size&&yn&&(yn.close(),yn=null)}(kt,dt)}function li(Ae,dt){const kt=un.get(Ae);if(kt)for(const In of kt)In(dt)}let yn=null;const Qn="firebase-installations-store";let yr=null;function vn(){return yr||(yr=(0,Be.X3)("firebase-installations-database",1,{upgrade:(Ae,dt)=>{0===dt&&Ae.createObjectStore(Qn)}})),yr}function dr(Ae,dt){return kr.apply(this,arguments)}function kr(){return(kr=(0,k.Z)(function*(Ae,dt){const kt=sr(Ae),qr=(yield vn()).transaction(Qn,"readwrite"),ur=qr.objectStore(Qn),Ye=yield ur.get(kt);return yield ur.put(dt,kt),yield qr.done,(!Ye||Ye.fid!==dt.fid)&&zn(Ae,dt.fid),dt})).apply(this,arguments)}function _r(Ae){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,k.Z)(function*(Ae){const dt=sr(Ae),In=(yield vn()).transaction(Qn,"readwrite");yield In.objectStore(Qn).delete(dt),yield In.done})).apply(this,arguments)}function tr(Ae,dt){return Br.apply(this,arguments)}function Br(){return(Br=(0,k.Z)(function*(Ae,dt){const kt=sr(Ae),qr=(yield vn()).transaction(Qn,"readwrite"),ur=qr.objectStore(Qn),Ye=yield ur.get(kt),ke=dt(Ye);return void 0===ke?yield ur.delete(kt):yield ur.put(ke,kt),yield qr.done,ke&&(!Ye||Ye.fid!==ke.fid)&&zn(Ae,ke.fid),ke})).apply(this,arguments)}function ti(Ae){return hi.apply(this,arguments)}function hi(){return(hi=(0,k.Z)(function*(Ae){let dt;const kt=yield tr(Ae.appConfig,In=>{const qr=cn(In),ur=Zr(Ae,qr);return dt=ur.registrationPromise,ur.installationEntry});return""===kt.fid?{installationEntry:yield dt}:{installationEntry:kt,registrationPromise:dt}})).apply(this,arguments)}function cn(Ae){return fr(Ae||{fid:En(),registrationStatus:0})}function Zr(Ae,dt){if(0===dt.registrationStatus){if(!navigator.onLine)return{installationEntry:dt,registrationPromise:Promise.reject(tt.create("app-offline"))};const kt={fid:dt.fid,registrationStatus:1,registrationTime:Date.now()},In=function(Ae,dt){return $r.apply(this,arguments)}(Ae,kt);return{installationEntry:kt,registrationPromise:In}}return 1===dt.registrationStatus?{installationEntry:dt,registrationPromise:Tr(Ae)}:{installationEntry:dt}}function $r(){return($r=(0,k.Z)(function*(Ae,dt){try{const kt=yield Qe(Ae,dt);return dr(Ae.appConfig,kt)}catch(kt){throw ce(kt)&&409===kt.customData.serverCode?yield _r(Ae.appConfig):yield dr(Ae.appConfig,{fid:dt.fid,registrationStatus:0}),kt}})).apply(this,arguments)}function Tr(Ae){return wn.apply(this,arguments)}function wn(){return(wn=(0,k.Z)(function*(Ae){let dt=yield rn(Ae.appConfig);for(;1===dt.registrationStatus;)yield et(100),dt=yield rn(Ae.appConfig);if(0===dt.registrationStatus){const{installationEntry:kt,registrationPromise:In}=yield ti(Ae);return In||kt}return dt})).apply(this,arguments)}function rn(Ae){return tr(Ae,dt=>{if(!dt)throw tt.create("installation-not-found");return fr(dt)})}function fr(Ae){return function(Ae){return 1===Ae.registrationStatus&&Ae.registrationTime+1e4<Date.now()}(Ae)?{fid:Ae.fid,registrationStatus:0}:Ae}function yi(Ae,dt){return Or.apply(this,arguments)}function Or(){return(Or=(0,k.Z)(function*({appConfig:Ae,heartbeatServiceProvider:dt},kt){const In=Rn(Ae,kt),qr=Rt(Ae,kt),ur=dt.getImmediate({optional:!0});if(ur){const ut=yield ur.getHeartbeatsHeader();ut&&qr.append("x-firebase-client",ut)}const ke={method:"POST",headers:qr,body:JSON.stringify({installation:{sdkVersion:Te,appId:Ae.appId}})},we=yield Nt(()=>fetch(In,ke));if(we.ok)return Jt(yield we.json());throw yield Zt("Generate Auth Token",we)})).apply(this,arguments)}function Rn(Ae,{fid:dt}){return`${vt(Ae)}/${dt}/authTokens:generate`}function zr(Ae){return lr.apply(this,arguments)}function lr(){return(lr=(0,k.Z)(function*(Ae,dt=!1){let kt;const In=yield tr(Ae.appConfig,ur=>{if(!De(ur))throw tt.create("not-registered");const Ye=ur.authToken;if(!dt&&Ft(Ye))return ur;if(1===Ye.requestStatus)return kt=_i(Ae,dt),ur;{if(!navigator.onLine)throw tt.create("app-offline");const ke=Vn(ur);return kt=Ee(Ae,ke),ke}});return kt?yield kt:In.authToken})).apply(this,arguments)}function _i(Ae,dt){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*(Ae,dt){let kt=yield Le(Ae.appConfig);for(;1===kt.authToken.requestStatus;)yield et(100),kt=yield Le(Ae.appConfig);const In=kt.authToken;return 0===In.requestStatus?zr(Ae,dt):In})).apply(this,arguments)}function Le(Ae){return tr(Ae,dt=>{if(!De(dt))throw tt.create("not-registered");return function(Ae){return 1===Ae.requestStatus&&Ae.requestTime+1e4<Date.now()}(dt.authToken)?Object.assign(Object.assign({},dt),{authToken:{requestStatus:0}}):dt})}function Ee(Ae,dt){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,k.Z)(function*(Ae,dt){try{const kt=yield yi(Ae,dt),In=Object.assign(Object.assign({},dt),{authToken:kt});return yield dr(Ae.appConfig,In),kt}catch(kt){if(!ce(kt)||401!==kt.customData.serverCode&&404!==kt.customData.serverCode){const In=Object.assign(Object.assign({},dt),{authToken:{requestStatus:0}});yield dr(Ae.appConfig,In)}else yield _r(Ae.appConfig);throw kt}})).apply(this,arguments)}function De(Ae){return void 0!==Ae&&2===Ae.registrationStatus}function Ft(Ae){return 2===Ae.requestStatus&&!function(Ae){const dt=Date.now();return dt<Ae.creationTime||Ae.creationTime+Ae.expiresIn<dt+36e5}(Ae)}function Vn(Ae){const dt={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ae),{authToken:dt})}function st(){return(st=(0,k.Z)(function*(Ae){const dt=Ae,{installationEntry:kt,registrationPromise:In}=yield ti(dt);return In?In.catch(console.error):zr(dt).catch(console.error),kt.fid})).apply(this,arguments)}function _e(){return(_e=(0,k.Z)(function*(Ae,dt=!1){const kt=Ae;return yield ge(kt),(yield zr(kt,dt)).token})).apply(this,arguments)}function ge(Ae){return nt.apply(this,arguments)}function nt(){return(nt=(0,k.Z)(function*(Ae){const{registrationPromise:dt}=yield ti(Ae);dt&&(yield dt)})).apply(this,arguments)}function or(Ae){return tt.create("missing-app-config-values",{valueName:Ae})}const Ni="installations";(0,o._registerComponent)(new te.wA(Ni,Ae=>{const dt=Ae.getProvider("app").getImmediate(),kt=function(Ae){if(!Ae||!Ae.options)throw or("App Configuration");if(!Ae.name)throw or("App Name");const dt=["projectId","apiKey","appId"];for(const kt of dt)if(!Ae.options[kt])throw or(kt);return{appName:Ae.name,projectId:Ae.options.projectId,apiKey:Ae.options.apiKey,appId:Ae.options.appId}}(dt);return{app:dt,appConfig:kt,heartbeatServiceProvider:(0,o._getProvider)(dt,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new te.wA("installations-internal",Ae=>{const dt=Ae.getProvider("app").getImmediate(),kt=(0,o._getProvider)(dt,Ni).getImmediate();return{getId:()=>function(Ae){return st.apply(this,arguments)}(kt),getToken:qr=>function(Ae){return _e.apply(this,arguments)}(kt,qr)}},"PRIVATE")),(0,o.registerVersion)(Ie,Ge),(0,o.registerVersion)(Ie,Ge,"esm2017")},5422:(ln,at,q)=>{"use strict";q.d(at,{in:()=>o,Yd:()=>Ge,Ub:()=>Ce,Am:()=>Te});const k=[];var o=(()=>{return(ue=o||(o={}))[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",o;var ue})();const te={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},Ue=o.INFO,Be={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},Ie=(ue,he,...Ve)=>{if(he<ue.logLevel)return;const be=(new Date).toISOString(),Ke=Be[he];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Ke](`[${be}]  ${ue.name}:`,...Ve)};class Ge{constructor(he){this.name=he,this._logLevel=Ue,this._logHandler=Ie,this._userLogHandler=null,k.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in o))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?te[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...he),this._logHandler(this,o.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...he),this._logHandler(this,o.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,o.INFO,...he),this._logHandler(this,o.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,o.WARN,...he),this._logHandler(this,o.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...he),this._logHandler(this,o.ERROR,...he)}}function Ce(ue){k.forEach(he=>{he.setLogLevel(ue)})}function Te(ue,he){for(const Ve of k){let be=null;he&&he.level&&(be=te[he.level]),Ve.userLogHandler=null===ue?null:(Ke,pt,...tt)=>{const ce=tt.map(vt=>{if(null==vt)return null;if("string"==typeof vt)return vt;if("number"==typeof vt||"boolean"==typeof vt)return vt.toString();if(vt instanceof Error)return vt.message;try{return JSON.stringify(vt)}catch(Jt){return null}}).filter(vt=>vt).join(" ");pt>=(null!=be?be:Ke.logLevel)&&ue({level:o[pt].toLowerCase(),message:ce,args:tt,type:Ke.name})}}}},5401:(ln,at,q)=>{"use strict";q.d(at,{Lj:()=>St,X3:()=>Zt});var k=q(8239);let te,Ue;const Ge=new WeakMap,Ce=new WeakMap,Te=new WeakMap,ue=new WeakMap,he=new WeakMap;let Ke={get(lt,Dt,Qe){if(lt instanceof IDBTransaction){if("done"===Dt)return Ce.get(lt);if("objectStoreNames"===Dt)return lt.objectStoreNames||Te.get(lt);if("store"===Dt)return Qe.objectStoreNames[1]?void 0:Qe.objectStore(Qe.objectStoreNames[0])}return vt(lt[Dt])},set:(lt,Dt,Qe)=>(lt[Dt]=Qe,!0),has:(lt,Dt)=>lt instanceof IDBTransaction&&("done"===Dt||"store"===Dt)||Dt in lt};function ce(lt){return"function"==typeof lt?function(lt){return lt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(lt)?function(...Dt){return lt.apply(Jt(this),Dt),vt(Ge.get(this))}:function(...Dt){return vt(lt.apply(Jt(this),Dt))}:function(Dt,...Qe){const Je=lt.call(Jt(this),Dt,...Qe);return Te.set(Je,Dt.sort?Dt.sort():[Dt]),vt(Je)}}(lt):(lt instanceof IDBTransaction&&function(lt){if(Ce.has(lt))return;const Dt=new Promise((Qe,Je)=>{const et=()=>{lt.removeEventListener("complete",yt),lt.removeEventListener("error",ft),lt.removeEventListener("abort",ft)},yt=()=>{Qe(),et()},ft=()=>{Je(lt.error||new DOMException("AbortError","AbortError")),et()};lt.addEventListener("complete",yt),lt.addEventListener("error",ft),lt.addEventListener("abort",ft)});Ce.set(lt,Dt)}(lt),((lt,Dt)=>Dt.some(Qe=>lt instanceof Qe))(lt,te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(lt,Ke):lt)}function vt(lt){if(lt instanceof IDBRequest)return function(lt){const Dt=new Promise((Qe,Je)=>{const et=()=>{lt.removeEventListener("success",yt),lt.removeEventListener("error",ft)},yt=()=>{Qe(vt(lt.result)),et()},ft=()=>{Je(lt.error),et()};lt.addEventListener("success",yt),lt.addEventListener("error",ft)});return Dt.then(Qe=>{Qe instanceof IDBCursor&&Ge.set(Qe,lt)}).catch(()=>{}),he.set(Dt,lt),Dt}(lt);if(ue.has(lt))return ue.get(lt);const Dt=ce(lt);return Dt!==lt&&(ue.set(lt,Dt),he.set(Dt,lt)),Dt}const Jt=lt=>he.get(lt);function Zt(lt,Dt,{blocked:Qe,upgrade:Je,blocking:et,terminated:yt}={}){const ft=indexedDB.open(lt,Dt),qt=vt(ft);return Je&&ft.addEventListener("upgradeneeded",En=>{Je(vt(ft.result),En.oldVersion,En.newVersion,vt(ft.transaction))}),Qe&&ft.addEventListener("blocked",()=>Qe()),qt.then(En=>{yt&&En.addEventListener("close",()=>yt()),et&&En.addEventListener("versionchange",()=>et())}).catch(()=>{}),qt}function St(lt,{blocked:Dt}={}){const Qe=indexedDB.deleteDatabase(lt);return Dt&&Qe.addEventListener("blocked",()=>Dt()),vt(Qe).then(()=>{})}const Ct=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],Nt=new Map;function ct(lt,Dt){if(!(lt instanceof IDBDatabase)||Dt in lt||"string"!=typeof Dt)return;if(Nt.get(Dt))return Nt.get(Dt);const Qe=Dt.replace(/FromIndex$/,""),Je=Dt!==Qe,et=Rt.includes(Qe);if(!(Qe in(Je?IDBIndex:IDBObjectStore).prototype)||!et&&!Ct.includes(Qe))return;const yt=function(){var ft=(0,k.Z)(function*(qt,...En){const Tn=this.transaction(qt,et?"readwrite":"readonly");let sr=Tn.store;return Je&&(sr=sr.index(En.shift())),(yield Promise.all([sr[Qe](...En),et&&Tn.done]))[0]});return function(En){return ft.apply(this,arguments)}}();return Nt.set(Dt,yt),yt}var lt;Ke=DC(IC({},lt=Ke),{get:(Dt,Qe,Je)=>ct(Dt,Qe)||lt.get(Dt,Qe,Je),has:(Dt,Qe)=>!!ct(Dt,Qe)||lt.has(Dt,Qe)})},8239:(ln,at,q)=>{"use strict";function k(te,Ue,Be,Ie,Ge,Ce,Te){try{var ue=te[Ce](Te),he=ue.value}catch(Ve){return void Be(Ve)}ue.done?Ue(he):Promise.resolve(he).then(Ie,Ge)}function o(te){return function(){var Ue=this,Be=arguments;return new Promise(function(Ie,Ge){var Ce=te.apply(Ue,Be);function Te(he){k(Ce,Ie,Ge,Te,ue,"next",he)}function ue(he){k(Ce,Ie,Ge,Te,ue,"throw",he)}Te(void 0)})}}q.d(at,{Z:()=>o})}},ln=>{ln(ln.s=8588)}]);