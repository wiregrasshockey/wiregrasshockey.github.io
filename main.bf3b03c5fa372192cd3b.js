var $A=Object.defineProperty,zA=Object.defineProperties,WA=Object.getOwnPropertyDescriptors,TC=Object.getOwnPropertySymbols,KA=Object.prototype.hasOwnProperty,YA=Object.prototype.propertyIsEnumerable,DC=(un,ht,U)=>ht in un?$A(un,ht,{enumerable:!0,configurable:!0,writable:!0,value:U}):un[ht]=U,SC=(un,ht)=>{for(var U in ht||(ht={}))KA.call(ht,U)&&DC(un,U,ht[U]);if(TC)for(var U of TC(ht))YA.call(ht,U)&&DC(un,U,ht[U]);return un},IC=(un,ht)=>zA(un,WA(ht));(self.webpackChunkwiregrass_web=self.webpackChunkwiregrass_web||[]).push([[179],{8255:un=>{function ht(U){return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+U+"'");throw I.code="MODULE_NOT_FOUND",I})}ht.keys=()=>[],ht.resolve=ht,ht.id=8255,un.exports=ht},7238:(un,ht,U)=>{"use strict";U.d(ht,{l3:()=>Q,_j:()=>I,LC:()=>o,ZN:()=>wt,jt:()=>Ne,pV:()=>ve,IO:()=>$e,vP:()=>xe,SB:()=>ye,oB:()=>Ee,eR:()=>ae,X$:()=>Ve,ZE:()=>Wt,k1:()=>Ot});class I{}class o{}const Q="*";function Ve(At,Je){return{type:7,name:At,definitions:Je,options:{}}}function Ne(At,Je=null){return{type:4,styles:Je,timings:At}}function xe(At,Je=null){return{type:2,steps:At,options:Je}}function Ee(At){return{type:6,styles:At,offset:null}}function ye(At,Je,rt){return{type:0,name:At,styles:Je,options:rt}}function ae(At,Je,rt=null){return{type:1,expr:At,animation:Je,options:rt}}function ve(At=null){return{type:9,options:At}}function $e(At,Je,rt=null){return{type:11,selector:At,animation:Je,options:rt}}function ce(At){Promise.resolve(null).then(At)}class wt{constructor(Je=0,rt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Je+rt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Je=>Je()),this._onDoneFns=[])}onStart(Je){this._onStartFns.push(Je)}onDone(Je){this._onDoneFns.push(Je)}onDestroy(Je){this._onDestroyFns.push(Je)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ce(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Je=>Je()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Je=>Je()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Je){this._position=this.totalTime?Je*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Je){const rt="start"==Je?this._onStartFns:this._onDoneFns;rt.forEach(Qe=>Qe()),rt.length=0}}class Wt{constructor(Je){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Je;let rt=0,Qe=0,He=0;const it=this.players.length;0==it?ce(()=>this._onFinish()):this.players.forEach(Tt=>{Tt.onDone(()=>{++rt==it&&this._onFinish()}),Tt.onDestroy(()=>{++Qe==it&&this._onDestroy()}),Tt.onStart(()=>{++He==it&&this._onStart()})}),this.totalTime=this.players.reduce((Tt,st)=>Math.max(Tt,st.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Je=>Je()),this._onDoneFns=[])}init(){this.players.forEach(Je=>Je.init())}onStart(Je){this._onStartFns.push(Je)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Je=>Je()),this._onStartFns=[])}onDone(Je){this._onDoneFns.push(Je)}onDestroy(Je){this._onDestroyFns.push(Je)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Je=>Je.play())}pause(){this.players.forEach(Je=>Je.pause())}restart(){this.players.forEach(Je=>Je.restart())}finish(){this._onFinish(),this.players.forEach(Je=>Je.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Je=>Je.destroy()),this._onDestroyFns.forEach(Je=>Je()),this._onDestroyFns=[])}reset(){this.players.forEach(Je=>Je.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Je){const rt=Je*this.totalTime;this.players.forEach(Qe=>{const He=Qe.totalTime?Math.min(1,rt/Qe.totalTime):1;Qe.setPosition(He)})}getPosition(){const Je=this.players.reduce((rt,Qe)=>null===rt||Qe.totalTime>rt.totalTime?Qe:rt,null);return null!=Je?Je.getPosition():0}beforeDestroy(){this.players.forEach(Je=>{Je.beforeDestroy&&Je.beforeDestroy()})}triggerCallback(Je){const rt="start"==Je?this._onStartFns:this._onDoneFns;rt.forEach(Qe=>Qe()),rt.length=0}}const Ot="!"},4765:(un,ht,U)=>{"use strict";U.d(ht,{s1:()=>Vn,tE:()=>ne,qV:()=>Jn,qm:()=>wn,Kd:()=>Fe,X6:()=>Ct,yG:()=>Bt});var I=U(8583),o=U(3018),Q=U(9765),Ve=U(5319),Ne=U(6215),_e=U(5917),xe=U(6461),Ee=U(7393);class se{constructor(z){this.total=z}call(z,H){return H.subscribe(new ae(z,this.total))}}class ae extends Ee.L{constructor(z,H){super(z),this.total=H,this.count=0}_next(z){++this.count>this.total&&this.destination.next(z)}}var Te=U(3342),ve=U(4395),Be=U(5435),$e=U(8002),Ge=U(5257),ce=U(7519),wt=U(6782),Wt=U(9490),Ot=U(521);U(8553);class Vn extends class{constructor(z){this._items=z,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Q.xQ,this._typeaheadSubscription=Ve.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=H=>H.disabled,this._pressedLetters=[],this.tabOut=new Q.xQ,this.change=new Q.xQ,z instanceof o.n_E&&z.changes.subscribe(H=>{if(this._activeItem){const Ue=H.toArray().indexOf(this._activeItem);Ue>-1&&Ue!==this._activeItemIndex&&(this._activeItemIndex=Ue)}})}skipPredicate(z){return this._skipPredicateFn=z,this}withWrap(z=!0){return this._wrap=z,this}withVerticalOrientation(z=!0){return this._vertical=z,this}withHorizontalOrientation(z){return this._horizontal=z,this}withAllowedModifierKeys(z){return this._allowedModifierKeys=z,this}withTypeAhead(z=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Te.b)(H=>this._pressedLetters.push(H)),(0,ve.b)(z),(0,Be.h)(()=>this._pressedLetters.length>0),(0,$e.U)(()=>this._pressedLetters.join(""))).subscribe(H=>{const fe=this._getItemsArray();for(let Ue=1;Ue<fe.length+1;Ue++){const Ft=(this._activeItemIndex+Ue)%fe.length,rn=fe[Ft];if(!this._skipPredicateFn(rn)&&0===rn.getLabel().toUpperCase().trim().indexOf(H)){this.setActiveItem(Ft);break}}this._pressedLetters=[]}),this}withHomeAndEnd(z=!0){return this._homeAndEnd=z,this}setActiveItem(z){const H=this._activeItem;this.updateActiveItem(z),this._activeItem!==H&&this.change.next(this._activeItemIndex)}onKeydown(z){const H=z.keyCode,Ue=["altKey","ctrlKey","metaKey","shiftKey"].every(Ft=>!z[Ft]||this._allowedModifierKeys.indexOf(Ft)>-1);switch(H){case xe.Mf:return void this.tabOut.next();case xe.JH:if(this._vertical&&Ue){this.setNextItemActive();break}return;case xe.LH:if(this._vertical&&Ue){this.setPreviousItemActive();break}return;case xe.SV:if(this._horizontal&&Ue){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case xe.oh:if(this._horizontal&&Ue){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case xe.Sd:if(this._homeAndEnd&&Ue){this.setFirstItemActive();break}return;case xe.uR:if(this._homeAndEnd&&Ue){this.setLastItemActive();break}return;default:return void((Ue||(0,xe.Vb)(z,"shiftKey"))&&(z.key&&1===z.key.length?this._letterKeyStream.next(z.key.toLocaleUpperCase()):(H>=xe.A&&H<=xe.Z||H>=xe.xE&&H<=xe.aO)&&this._letterKeyStream.next(String.fromCharCode(H))))}this._pressedLetters=[],z.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(z){const H=this._getItemsArray(),fe="number"==typeof z?z:H.indexOf(z),Ue=H[fe];this._activeItem=null==Ue?null:Ue,this._activeItemIndex=fe}_setActiveItemByDelta(z){this._wrap?this._setActiveInWrapMode(z):this._setActiveInDefaultMode(z)}_setActiveInWrapMode(z){const H=this._getItemsArray();for(let fe=1;fe<=H.length;fe++){const Ue=(this._activeItemIndex+z*fe+H.length)%H.length;if(!this._skipPredicateFn(H[Ue]))return void this.setActiveItem(Ue)}}_setActiveInDefaultMode(z){this._setActiveItemByIndex(this._activeItemIndex+z,z)}_setActiveItemByIndex(z,H){const fe=this._getItemsArray();if(fe[z]){for(;this._skipPredicateFn(fe[z]);)if(!fe[z+=H])return;this.setActiveItem(z)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}{setActiveItem(z){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(z),this.activeItem&&this.activeItem.setActiveStyles()}}let Tr=(()=>{class X{constructor(H){this._platform=H}isDisabled(H){return H.hasAttribute("disabled")}isVisible(H){return function(X){return!!(X.offsetWidth||X.offsetHeight||"function"==typeof X.getClientRects&&X.getClientRects().length)}(H)&&"visible"===getComputedStyle(H).visibility}isTabbable(H){if(!this._platform.isBrowser)return!1;const fe=function(X){try{return X.frameElement}catch(z){return null}}(function(X){return X.ownerDocument&&X.ownerDocument.defaultView||window}(H));if(fe&&(-1===Gn(fe)||!this.isVisible(fe)))return!1;let Ue=H.nodeName.toLowerCase(),Ft=Gn(H);return H.hasAttribute("contenteditable")?-1!==Ft:!("iframe"===Ue||"object"===Ue||this._platform.WEBKIT&&this._platform.IOS&&!function(X){let z=X.nodeName.toLowerCase(),H="input"===z&&X.type;return"text"===H||"password"===H||"select"===z||"textarea"===z}(H))&&("audio"===Ue?!!H.hasAttribute("controls")&&-1!==Ft:"video"===Ue?-1!==Ft&&(null!==Ft||this._platform.FIREFOX||H.hasAttribute("controls")):H.tabIndex>=0)}isFocusable(H,fe){return function(X){return!function(X){return function(X){return"input"==X.nodeName.toLowerCase()}(X)&&"hidden"==X.type}(X)&&(function(X){let z=X.nodeName.toLowerCase();return"input"===z||"select"===z||"button"===z||"textarea"===z}(X)||function(X){return function(X){return"a"==X.nodeName.toLowerCase()}(X)&&X.hasAttribute("href")}(X)||X.hasAttribute("contenteditable")||Fn(X))}(H)&&!this.isDisabled(H)&&((null==fe?void 0:fe.ignoreVisibility)||this.isVisible(H))}}return X.\u0275fac=function(H){return new(H||X)(o.LFG(Ot.t4))},X.\u0275prov=o.Yz7({factory:function(){return new X(o.LFG(Ot.t4))},token:X,providedIn:"root"}),X})();function Fn(X){if(!X.hasAttribute("tabindex")||void 0===X.tabIndex)return!1;let z=X.getAttribute("tabindex");return"-32768"!=z&&!(!z||isNaN(parseInt(z,10)))}function Gn(X){if(!Fn(X))return null;const z=parseInt(X.getAttribute("tabindex")||"",10);return isNaN(z)?-1:z}class br{constructor(z,H,fe,Ue,Ft=!1){this._element=z,this._checker=H,this._ngZone=fe,this._document=Ue,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ft||this.attachAnchors()}get enabled(){return this._enabled}set enabled(z){this._enabled=z,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(z,this._startAnchor),this._toggleAnchorTabIndex(z,this._endAnchor))}destroy(){const z=this._startAnchor,H=this._endAnchor;z&&(z.removeEventListener("focus",this.startAnchorListener),z.parentNode&&z.parentNode.removeChild(z)),H&&(H.removeEventListener("focus",this.endAnchorListener),H.parentNode&&H.parentNode.removeChild(H)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(z){return new Promise(H=>{this._executeOnStable(()=>H(this.focusInitialElement(z)))})}focusFirstTabbableElementWhenReady(z){return new Promise(H=>{this._executeOnStable(()=>H(this.focusFirstTabbableElement(z)))})}focusLastTabbableElementWhenReady(z){return new Promise(H=>{this._executeOnStable(()=>H(this.focusLastTabbableElement(z)))})}_getRegionBoundary(z){let H=this._element.querySelectorAll(`[cdk-focus-region-${z}], [cdkFocusRegion${z}], [cdk-focus-${z}]`);for(let fe=0;fe<H.length;fe++)H[fe].hasAttribute(`cdk-focus-${z}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${z}', use 'cdkFocusRegion${z}' instead. The deprecated attribute will be removed in 8.0.0.`,H[fe]):H[fe].hasAttribute(`cdk-focus-region-${z}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${z}', use 'cdkFocusRegion${z}' instead. The deprecated attribute will be removed in 8.0.0.`,H[fe]);return"start"==z?H.length?H[0]:this._getFirstTabbableElement(this._element):H.length?H[H.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(z){const H=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(H){if(H.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",H),!this._checker.isFocusable(H)){const fe=this._getFirstTabbableElement(H);return null==fe||fe.focus(z),!!fe}return H.focus(z),!0}return this.focusFirstTabbableElement(z)}focusFirstTabbableElement(z){const H=this._getRegionBoundary("start");return H&&H.focus(z),!!H}focusLastTabbableElement(z){const H=this._getRegionBoundary("end");return H&&H.focus(z),!!H}hasAttached(){return this._hasAttached}_getFirstTabbableElement(z){if(this._checker.isFocusable(z)&&this._checker.isTabbable(z))return z;let H=z.children||z.childNodes;for(let fe=0;fe<H.length;fe++){let Ue=H[fe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(H[fe]):null;if(Ue)return Ue}return null}_getLastTabbableElement(z){if(this._checker.isFocusable(z)&&this._checker.isTabbable(z))return z;let H=z.children||z.childNodes;for(let fe=H.length-1;fe>=0;fe--){let Ue=H[fe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(H[fe]):null;if(Ue)return Ue}return null}_createAnchor(){const z=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,z),z.classList.add("cdk-visually-hidden"),z.classList.add("cdk-focus-trap-anchor"),z.setAttribute("aria-hidden","true"),z}_toggleAnchorTabIndex(z,H){z?H.setAttribute("tabindex","0"):H.removeAttribute("tabindex")}toggleAnchors(z){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(z,this._startAnchor),this._toggleAnchorTabIndex(z,this._endAnchor))}_executeOnStable(z){this._ngZone.isStable?z():this._ngZone.onStable.pipe((0,Ge.q)(1)).subscribe(z)}}let Jn=(()=>{class X{constructor(H,fe,Ue){this._checker=H,this._ngZone=fe,this._document=Ue}create(H,fe=!1){return new br(H,this._checker,this._ngZone,this._document,fe)}}return X.\u0275fac=function(H){return new(H||X)(o.LFG(Tr),o.LFG(o.R0b),o.LFG(I.K0))},X.\u0275prov=o.Yz7({factory:function(){return new X(o.LFG(Tr),o.LFG(o.R0b),o.LFG(I.K0))},token:X,providedIn:"root"}),X})();function Ct(X){return 0===X.offsetX&&0===X.offsetY}function Bt(X){const z=X.touches&&X.touches[0]||X.changedTouches&&X.changedTouches[0];return!(!z||-1!==z.identifier||null!=z.radiusX&&1!==z.radiusX||null!=z.radiusY&&1!==z.radiusY)}"undefined"!=typeof Element&&Element;const Tn=new o.OlP("cdk-input-modality-detector-options"),ar={ignoreKeys:[xe.zL,xe.jx,xe.b2,xe.MW,xe.JU]},Hn=(0,Ot.i$)({passive:!0,capture:!0});let xn=(()=>{class X{constructor(H,fe,Ue,Ft){this._platform=H,this._mostRecentTarget=null,this._modality=new Ne.X(null),this._lastTouchMs=0,this._onKeydown=rn=>{var Sn,Rn;(null===(Rn=null===(Sn=this._options)||void 0===Sn?void 0:Sn.ignoreKeys)||void 0===Rn?void 0:Rn.some(gr=>gr===rn.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Ot.sA)(rn))},this._onMousedown=rn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ct(rn)?"keyboard":"mouse"),this._mostRecentTarget=(0,Ot.sA)(rn))},this._onTouchstart=rn=>{Bt(rn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Ot.sA)(rn))},this._options=Object.assign(Object.assign({},ar),Ft),this.modalityDetected=this._modality.pipe(z=>z.lift(new se(1))),this.modalityChanged=this.modalityDetected.pipe((0,ce.x)()),H.isBrowser&&fe.runOutsideAngular(()=>{Ue.addEventListener("keydown",this._onKeydown,Hn),Ue.addEventListener("mousedown",this._onMousedown,Hn),Ue.addEventListener("touchstart",this._onTouchstart,Hn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hn),document.removeEventListener("mousedown",this._onMousedown,Hn),document.removeEventListener("touchstart",this._onTouchstart,Hn))}}return X.\u0275fac=function(H){return new(H||X)(o.LFG(Ot.t4),o.LFG(o.R0b),o.LFG(I.K0),o.LFG(Tn,8))},X.\u0275prov=o.Yz7({factory:function(){return new X(o.LFG(Ot.t4),o.LFG(o.R0b),o.LFG(I.K0),o.LFG(Tn,8))},token:X,providedIn:"root"}),X})();const Er=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),zr=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Fe=(()=>{class X{constructor(H,fe,Ue,Ft){this._ngZone=fe,this._defaultOptions=Ft,this._document=Ue,this._liveElement=H||this._createLiveElement()}announce(H,...fe){const Ue=this._defaultOptions;let Ft,rn;return 1===fe.length&&"number"==typeof fe[0]?rn=fe[0]:[Ft,rn]=fe,this.clear(),clearTimeout(this._previousTimeout),Ft||(Ft=Ue&&Ue.politeness?Ue.politeness:"polite"),null==rn&&Ue&&(rn=Ue.duration),this._liveElement.setAttribute("aria-live",Ft),this._ngZone.runOutsideAngular(()=>new Promise(Sn=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=H,Sn(),"number"==typeof rn&&(this._previousTimeout=setTimeout(()=>this.clear(),rn))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const H="cdk-live-announcer-element",fe=this._document.getElementsByClassName(H),Ue=this._document.createElement("div");for(let Ft=0;Ft<fe.length;Ft++)fe[Ft].parentNode.removeChild(fe[Ft]);return Ue.classList.add(H),Ue.classList.add("cdk-visually-hidden"),Ue.setAttribute("aria-atomic","true"),Ue.setAttribute("aria-live","polite"),this._document.body.appendChild(Ue),Ue}}return X.\u0275fac=function(H){return new(H||X)(o.LFG(Er,8),o.LFG(o.R0b),o.LFG(I.K0),o.LFG(zr,8))},X.\u0275prov=o.Yz7({factory:function(){return new X(o.LFG(Er,8),o.LFG(o.R0b),o.LFG(I.K0),o.LFG(zr,8))},token:X,providedIn:"root"}),X})();const Oe=new o.OlP("cdk-focus-monitor-default-options"),ze=(0,Ot.i$)({passive:!0,capture:!0});let ne=(()=>{class X{constructor(H,fe,Ue,Ft,rn){this._ngZone=H,this._platform=fe,this._inputModalityDetector=Ue,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Q.xQ,this._rootNodeFocusAndBlurListener=Sn=>{const Rn=(0,Ot.sA)(Sn),gr="focus"===Sn.type?this._onFocus:this._onBlur;for(let Mr=Rn;Mr;Mr=Mr.parentElement)gr.call(this,Sn,Mr)},this._document=Ft,this._detectionMode=(null==rn?void 0:rn.detectionMode)||0}monitor(H,fe=!1){const Ue=(0,Wt.fI)(H);if(!this._platform.isBrowser||1!==Ue.nodeType)return(0,_e.of)(null);const Ft=(0,Ot.kV)(Ue)||this._getDocument(),rn=this._elementInfo.get(Ue);if(rn)return fe&&(rn.checkChildren=!0),rn.subject;const Sn={checkChildren:fe,subject:new Q.xQ,rootNode:Ft};return this._elementInfo.set(Ue,Sn),this._registerGlobalListeners(Sn),Sn.subject}stopMonitoring(H){const fe=(0,Wt.fI)(H),Ue=this._elementInfo.get(fe);Ue&&(Ue.subject.complete(),this._setClasses(fe),this._elementInfo.delete(fe),this._removeGlobalListeners(Ue))}focusVia(H,fe,Ue){const Ft=(0,Wt.fI)(H);Ft===this._getDocument().activeElement?this._getClosestElementsInfo(Ft).forEach(([Sn,Rn])=>this._originChanged(Sn,fe,Rn)):(this._setOrigin(fe),"function"==typeof Ft.focus&&Ft.focus(Ue))}ngOnDestroy(){this._elementInfo.forEach((H,fe)=>this.stopMonitoring(fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(H,fe,Ue){Ue?H.classList.add(fe):H.classList.remove(fe)}_getFocusOrigin(H){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(H)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(H){return 1===this._detectionMode||!!(null==H?void 0:H.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(H,fe){this._toggleClass(H,"cdk-focused",!!fe),this._toggleClass(H,"cdk-touch-focused","touch"===fe),this._toggleClass(H,"cdk-keyboard-focused","keyboard"===fe),this._toggleClass(H,"cdk-mouse-focused","mouse"===fe),this._toggleClass(H,"cdk-program-focused","program"===fe)}_setOrigin(H,fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=H,this._originFromTouchInteraction="touch"===H&&fe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(H,fe){const Ue=this._elementInfo.get(fe),Ft=(0,Ot.sA)(H);!Ue||!Ue.checkChildren&&fe!==Ft||this._originChanged(fe,this._getFocusOrigin(Ft),Ue)}_onBlur(H,fe){const Ue=this._elementInfo.get(fe);!Ue||Ue.checkChildren&&H.relatedTarget instanceof Node&&fe.contains(H.relatedTarget)||(this._setClasses(fe),this._emitOrigin(Ue.subject,null))}_emitOrigin(H,fe){this._ngZone.run(()=>H.next(fe))}_registerGlobalListeners(H){if(!this._platform.isBrowser)return;const fe=H.rootNode,Ue=this._rootNodeFocusListenerCount.get(fe)||0;Ue||this._ngZone.runOutsideAngular(()=>{fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,ze),fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,ze)}),this._rootNodeFocusListenerCount.set(fe,Ue+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,wt.R)(this._stopInputModalityDetector)).subscribe(Ft=>{this._setOrigin(Ft,!0)}))}_removeGlobalListeners(H){const fe=H.rootNode;if(this._rootNodeFocusListenerCount.has(fe)){const Ue=this._rootNodeFocusListenerCount.get(fe);Ue>1?this._rootNodeFocusListenerCount.set(fe,Ue-1):(fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ze),fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ze),this._rootNodeFocusListenerCount.delete(fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(H,fe,Ue){this._setClasses(H,fe),this._emitOrigin(Ue.subject,fe),this._lastFocusOrigin=fe}_getClosestElementsInfo(H){const fe=[];return this._elementInfo.forEach((Ue,Ft)=>{(Ft===H||Ue.checkChildren&&Ft.contains(H))&&fe.push([Ft,Ue])}),fe}}return X.\u0275fac=function(H){return new(H||X)(o.LFG(o.R0b),o.LFG(Ot.t4),o.LFG(xn),o.LFG(I.K0,8),o.LFG(Oe,8))},X.\u0275prov=o.Yz7({factory:function(){return new X(o.LFG(o.R0b),o.LFG(Ot.t4),o.LFG(xn),o.LFG(I.K0,8),o.LFG(Oe,8))},token:X,providedIn:"root"}),X})();const me="cdk-high-contrast-black-on-white",et="cdk-high-contrast-white-on-black",on="cdk-high-contrast-active";let wn=(()=>{class X{constructor(H,fe){this._platform=H,this._document=fe}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const H=this._document.createElement("div");H.style.backgroundColor="rgb(1,2,3)",H.style.position="absolute",this._document.body.appendChild(H);const fe=this._document.defaultView||window,Ue=fe&&fe.getComputedStyle?fe.getComputedStyle(H):null,Ft=(Ue&&Ue.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(H),Ft){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const H=this._document.body.classList;H.remove(on),H.remove(me),H.remove(et),this._hasCheckedHighContrastMode=!0;const fe=this.getHighContrastMode();1===fe?(H.add(on),H.add(me)):2===fe&&(H.add(on),H.add(et))}}}return X.\u0275fac=function(H){return new(H||X)(o.LFG(Ot.t4),o.LFG(I.K0))},X.\u0275prov=o.Yz7({factory:function(){return new X(o.LFG(Ot.t4),o.LFG(I.K0))},token:X,providedIn:"root"}),X})()},946:(un,ht,U)=>{"use strict";U.d(ht,{vT:()=>xe,Is:()=>Ne});var I=U(3018),o=U(8583);const Q=new I.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,I.f3M)(o.K0)}});let Ne=(()=>{class Ee{constructor(se){if(this.value="ltr",this.change=new I.vpe,se){const Te=se.documentElement?se.documentElement.dir:null,ve=(se.body?se.body.dir:null)||Te;this.value="ltr"===ve||"rtl"===ve?ve:"ltr"}}ngOnDestroy(){this.change.complete()}}return Ee.\u0275fac=function(se){return new(se||Ee)(I.LFG(Q,8))},Ee.\u0275prov=I.Yz7({factory:function(){return new Ee(I.LFG(Q,8))},token:Ee,providedIn:"root"}),Ee})(),xe=(()=>{class Ee{}return Ee.\u0275fac=function(se){return new(se||Ee)},Ee.\u0275mod=I.oAB({type:Ee}),Ee.\u0275inj=I.cJS({}),Ee})()},8345:(un,ht,U)=>{"use strict";U.d(ht,{P3:()=>xe,Ov:()=>se,eX:()=>ye,k:()=>ve,Z9:()=>_e});var I=U(5639),o=U(5917),Q=U(9765),Ve=U(3018);function _e(Be){return Be&&"function"==typeof Be.connect}class xe extends class{}{constructor($e){super(),this._data=$e}connect(){return(0,I.b)(this._data)?this._data:(0,o.of)(this._data)}disconnect(){}}class ye{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges($e,Ge,ce,wt,Wt){$e.forEachOperation((Ot,At,Je)=>{let rt,Qe;null==Ot.previousIndex?(rt=this._insertView(()=>ce(Ot,At,Je),Je,Ge,wt(Ot)),Qe=rt?1:0):null==Je?(this._detachAndCacheView(At,Ge),Qe=3):(rt=this._moveView(At,Je,Ge,wt(Ot)),Qe=2),Wt&&Wt({context:null==rt?void 0:rt.context,operation:Qe,record:Ot})})}detach(){for(const $e of this._viewCache)$e.destroy();this._viewCache=[]}_insertView($e,Ge,ce,wt){const Wt=this._insertViewFromCache(Ge,ce);if(Wt)return void(Wt.context.$implicit=wt);const Ot=$e();return ce.createEmbeddedView(Ot.templateRef,Ot.context,Ot.index)}_detachAndCacheView($e,Ge){const ce=Ge.detach($e);this._maybeCacheView(ce,Ge)}_moveView($e,Ge,ce,wt){const Wt=ce.get($e);return ce.move(Wt,Ge),Wt.context.$implicit=wt,Wt}_maybeCacheView($e,Ge){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push($e);else{const ce=Ge.indexOf($e);-1===ce?$e.destroy():Ge.remove(ce)}}_insertViewFromCache($e,Ge){const ce=this._viewCache.pop();return ce&&Ge.insert(ce,$e),ce||null}}class se{constructor($e=!1,Ge,ce=!0){this._multiple=$e,this._emitChanges=ce,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Q.xQ,Ge&&Ge.length&&($e?Ge.forEach(wt=>this._markSelected(wt)):this._markSelected(Ge[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...$e){this._verifyValueAssignment($e),$e.forEach(Ge=>this._markSelected(Ge)),this._emitChangeEvent()}deselect(...$e){this._verifyValueAssignment($e),$e.forEach(Ge=>this._unmarkSelected(Ge)),this._emitChangeEvent()}toggle($e){this.isSelected($e)?this.deselect($e):this.select($e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected($e){return this._selection.has($e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort($e){this._multiple&&this.selected&&this._selected.sort($e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected($e){this.isSelected($e)||(this._multiple||this._unmarkAll(),this._selection.add($e),this._emitChanges&&this._selectedToEmit.push($e))}_unmarkSelected($e){this.isSelected($e)&&(this._selection.delete($e),this._emitChanges&&this._deselectedToEmit.push($e))}_unmarkAll(){this.isEmpty()||this._selection.forEach($e=>this._unmarkSelected($e))}_verifyValueAssignment($e){}}const ve=new Ve.OlP("_ViewRepeater")},6461:(un,ht,U)=>{"use strict";U.d(ht,{A:()=>Tr,zL:()=>Ee,jx:()=>xe,JH:()=>Ot,uR:()=>$e,K5:()=>Ne,hY:()=>ae,Sd:()=>Ge,oh:()=>ce,b2:()=>_t,MW:()=>Bt,aO:()=>vn,SV:()=>Wt,JU:()=>_e,L_:()=>Te,Mf:()=>Q,LH:()=>wt,Z:()=>Ct,xE:()=>He,Vb:()=>ft});const Q=9,Ne=13,_e=16,xe=17,Ee=18,ae=27,Te=32,$e=35,Ge=36,ce=37,wt=38,Wt=39,Ot=40,He=48,vn=57,Tr=65,Ct=90,Bt=91,_t=224;function ft(Mt,...Ht){return Ht.length?Ht.some(yn=>Mt[yn]):Mt.altKey||Mt.shiftKey||Mt.ctrlKey||Mt.metaKey}},8553:(un,ht,U)=>{"use strict";U.d(ht,{wD:()=>Ee,yq:()=>xe,Q8:()=>ye});var I=U(9490),o=U(3018),Q=U(7574),Ve=U(9765),Ne=U(4395);let _e=(()=>{class se{create(Te){return"undefined"==typeof MutationObserver?null:new MutationObserver(Te)}}return se.\u0275fac=function(Te){return new(Te||se)},se.\u0275prov=o.Yz7({factory:function(){return new se},token:se,providedIn:"root"}),se})(),xe=(()=>{class se{constructor(Te){this._mutationObserverFactory=Te,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Te,ve)=>this._cleanupObserver(ve))}observe(Te){const ve=(0,I.fI)(Te);return new Q.y(Be=>{const Ge=this._observeElement(ve).subscribe(Be);return()=>{Ge.unsubscribe(),this._unobserveElement(ve)}})}_observeElement(Te){if(this._observedElements.has(Te))this._observedElements.get(Te).count++;else{const ve=new Ve.xQ,Be=this._mutationObserverFactory.create($e=>ve.next($e));Be&&Be.observe(Te,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Te,{observer:Be,stream:ve,count:1})}return this._observedElements.get(Te).stream}_unobserveElement(Te){this._observedElements.has(Te)&&(this._observedElements.get(Te).count--,this._observedElements.get(Te).count||this._cleanupObserver(Te))}_cleanupObserver(Te){if(this._observedElements.has(Te)){const{observer:ve,stream:Be}=this._observedElements.get(Te);ve&&ve.disconnect(),Be.complete(),this._observedElements.delete(Te)}}}return se.\u0275fac=function(Te){return new(Te||se)(o.LFG(_e))},se.\u0275prov=o.Yz7({factory:function(){return new se(o.LFG(_e))},token:se,providedIn:"root"}),se})(),Ee=(()=>{class se{constructor(Te,ve,Be){this._contentObserver=Te,this._elementRef=ve,this._ngZone=Be,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(Te){this._disabled=(0,I.Ig)(Te),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Te){this._debounce=(0,I.su)(Te),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Te=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Te.pipe((0,Ne.b)(this.debounce)):Te).subscribe(this.event)})}_unsubscribe(){var Te;null===(Te=this._currentSubscription)||void 0===Te||Te.unsubscribe()}}return se.\u0275fac=function(Te){return new(Te||se)(o.Y36(xe),o.Y36(o.SBq),o.Y36(o.R0b))},se.\u0275dir=o.lG2({type:se,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),se})(),ye=(()=>{class se{}return se.\u0275fac=function(Te){return new(Te||se)},se.\u0275mod=o.oAB({type:se}),se.\u0275inj=o.cJS({providers:[_e]}),se})()},625:(un,ht,U)=>{"use strict";U.d(ht,{pI:()=>Jn,xu:()=>br,aV:()=>Wn,X_:()=>Tt,Xj:()=>Vn,U8:()=>Qt});var I=U(4840),o=U(3018),Q=U(521),Ve=U(946),Ne=U(8583),_e=U(9490),xe=U(7636),Ee=U(9765),ye=U(5319),se=U(6682),ae=U(7393);class ve{constructor(q,he){this.predicate=q,this.inclusive=he}call(q,he){return he.subscribe(new Be(q,this.predicate,this.inclusive))}}class Be extends ae.L{constructor(q,he,Le){super(q),this.predicate=he,this.inclusive=Le,this.index=0}_next(q){const he=this.destination;let Le;try{Le=this.predicate(q,this.index++)}catch(pt){return void he.error(pt)}this.nextOrComplete(q,Le)}nextOrComplete(q,he){const Le=this.destination;Boolean(he)?Le.next(q):(this.inclusive&&Le.next(q),Le.complete())}}var $e=U(5257),Ge=U(6782),ce=U(6461);const wt=(0,Q.Mq)();class Wt{constructor(q,he){this._viewportRuler=q,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=he}attach(){}enable(){if(this._canBeEnabled()){const q=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=q.style.left||"",this._previousHTMLStyles.top=q.style.top||"",q.style.left=(0,_e.HM)(-this._previousScrollPosition.left),q.style.top=(0,_e.HM)(-this._previousScrollPosition.top),q.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const q=this._document.documentElement,Le=q.style,pt=this._document.body.style,yt=Le.scrollBehavior||"",Ct=pt.scrollBehavior||"";this._isEnabled=!1,Le.left=this._previousHTMLStyles.left,Le.top=this._previousHTMLStyles.top,q.classList.remove("cdk-global-scrollblock"),wt&&(Le.scrollBehavior=pt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wt&&(Le.scrollBehavior=yt,pt.scrollBehavior=Ct)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const he=this._document.body,Le=this._viewportRuler.getViewportSize();return he.scrollHeight>Le.height||he.scrollWidth>Le.width}}class At{constructor(q,he,Le,pt){this._scrollDispatcher=q,this._ngZone=he,this._viewportRuler=Le,this._config=pt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(q){this._overlayRef=q}enable(){if(this._scrollSubscription)return;const q=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=q.subscribe(()=>{const he=this._viewportRuler.getViewportScrollPosition().top;Math.abs(he-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=q.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Je{enable(){}disable(){}attach(){}}function rt(ke,q){return q.some(he=>ke.bottom<he.top||ke.top>he.bottom||ke.right<he.left||ke.left>he.right)}function Qe(ke,q){return q.some(he=>ke.top<he.top||ke.bottom>he.bottom||ke.left<he.left||ke.right>he.right)}class He{constructor(q,he,Le,pt){this._scrollDispatcher=q,this._viewportRuler=he,this._ngZone=Le,this._config=pt,this._scrollSubscription=null}attach(q){this._overlayRef=q}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const he=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Le,height:pt}=this._viewportRuler.getViewportSize();rt(he,[{width:Le,height:pt,bottom:pt,right:Le,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let it=(()=>{class ke{constructor(he,Le,pt,yt){this._scrollDispatcher=he,this._viewportRuler=Le,this._ngZone=pt,this.noop=()=>new Je,this.close=Ct=>new At(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ct),this.block=()=>new Wt(this._viewportRuler,this._document),this.reposition=Ct=>new He(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ct),this._document=yt}}return ke.\u0275fac=function(he){return new(he||ke)(o.LFG(I.mF),o.LFG(I.rL),o.LFG(o.R0b),o.LFG(Ne.K0))},ke.\u0275prov=o.Yz7({factory:function(){return new ke(o.LFG(I.mF),o.LFG(I.rL),o.LFG(o.R0b),o.LFG(Ne.K0))},token:ke,providedIn:"root"}),ke})();class Tt{constructor(q){if(this.scrollStrategy=new Je,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,q){const he=Object.keys(q);for(const Le of he)void 0!==q[Le]&&(this[Le]=q[Le])}}}class st{constructor(q,he,Le,pt,yt){this.offsetX=Le,this.offsetY=pt,this.panelClass=yt,this.originX=q.originX,this.originY=q.originY,this.overlayX=he.overlayX,this.overlayY=he.overlayY}}class ut{constructor(q,he){this.connectionPair=q,this.scrollableViewProperties=he}}let Lt=(()=>{class ke{constructor(he){this._attachedOverlays=[],this._document=he}ngOnDestroy(){this.detach()}add(he){this.remove(he),this._attachedOverlays.push(he)}remove(he){const Le=this._attachedOverlays.indexOf(he);Le>-1&&this._attachedOverlays.splice(Le,1),0===this._attachedOverlays.length&&this.detach()}}return ke.\u0275fac=function(he){return new(he||ke)(o.LFG(Ne.K0))},ke.\u0275prov=o.Yz7({factory:function(){return new ke(o.LFG(Ne.K0))},token:ke,providedIn:"root"}),ke})(),vn=(()=>{class ke extends Lt{constructor(he){super(he),this._keydownListener=Le=>{const pt=this._attachedOverlays;for(let yt=pt.length-1;yt>-1;yt--)if(pt[yt]._keydownEvents.observers.length>0){pt[yt]._keydownEvents.next(Le);break}}}add(he){super.add(he),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return ke.\u0275fac=function(he){return new(he||ke)(o.LFG(Ne.K0))},ke.\u0275prov=o.Yz7({factory:function(){return new ke(o.LFG(Ne.K0))},token:ke,providedIn:"root"}),ke})(),Dn=(()=>{class ke extends Lt{constructor(he,Le){super(he),this._platform=Le,this._cursorStyleIsSet=!1,this._pointerDownListener=pt=>{this._pointerDownEventTarget=(0,Q.sA)(pt)},this._clickListener=pt=>{const yt=(0,Q.sA)(pt),Ct="click"===pt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:yt;this._pointerDownEventTarget=null;const Bt=this._attachedOverlays.slice();for(let Tn=Bt.length-1;Tn>-1;Tn--){const ar=Bt[Tn];if(!(ar._outsidePointerEvents.observers.length<1)&&ar.hasAttached()){if(ar.overlayElement.contains(yt)||ar.overlayElement.contains(Ct))break;ar._outsidePointerEvents.next(pt)}}}}add(he){if(super.add(he),!this._isAttached){const Le=this._document.body;Le.addEventListener("pointerdown",this._pointerDownListener,!0),Le.addEventListener("click",this._clickListener,!0),Le.addEventListener("auxclick",this._clickListener,!0),Le.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Le.style.cursor,Le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const he=this._document.body;he.removeEventListener("pointerdown",this._pointerDownListener,!0),he.removeEventListener("click",this._clickListener,!0),he.removeEventListener("auxclick",this._clickListener,!0),he.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(he.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return ke.\u0275fac=function(he){return new(he||ke)(o.LFG(Ne.K0),o.LFG(Q.t4))},ke.\u0275prov=o.Yz7({factory:function(){return new ke(o.LFG(Ne.K0),o.LFG(Q.t4))},token:ke,providedIn:"root"}),ke})(),Vn=(()=>{class ke{constructor(he,Le){this._platform=Le,this._document=he}ngOnDestroy(){const he=this._containerElement;he&&he.parentNode&&he.parentNode.removeChild(he)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const he="cdk-overlay-container";if(this._platform.isBrowser||(0,Q.Oy)()){const pt=this._document.querySelectorAll(`.${he}[platform="server"], .${he}[platform="test"]`);for(let yt=0;yt<pt.length;yt++)pt[yt].parentNode.removeChild(pt[yt])}const Le=this._document.createElement("div");Le.classList.add(he),(0,Q.Oy)()?Le.setAttribute("platform","test"):this._platform.isBrowser||Le.setAttribute("platform","server"),this._document.body.appendChild(Le),this._containerElement=Le}}return ke.\u0275fac=function(he){return new(he||ke)(o.LFG(Ne.K0),o.LFG(Q.t4))},ke.\u0275prov=o.Yz7({factory:function(){return new ke(o.LFG(Ne.K0),o.LFG(Q.t4))},token:ke,providedIn:"root"}),ke})();class fn{constructor(q,he,Le,pt,yt,Ct,Bt,Tn,ar){this._portalOutlet=q,this._host=he,this._pane=Le,this._config=pt,this._ngZone=yt,this._keyboardDispatcher=Ct,this._document=Bt,this._location=Tn,this._outsideClickDispatcher=ar,this._backdropElement=null,this._backdropClick=new Ee.xQ,this._attachments=new Ee.xQ,this._detachments=new Ee.xQ,this._locationChanges=ye.w.EMPTY,this._backdropClickHandler=dr=>this._backdropClick.next(dr),this._keydownEvents=new Ee.xQ,this._outsidePointerEvents=new Ee.xQ,pt.scrollStrategy&&(this._scrollStrategy=pt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=pt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(q){let he=this._portalOutlet.attach(q);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,$e.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),he}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const q=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),q}dispose(){const q=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,q&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(q){q!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=q,this.hasAttached()&&(q.attach(this),this.updatePosition()))}updateSize(q){this._config=Object.assign(Object.assign({},this._config),q),this._updateElementSize()}setDirection(q){this._config=Object.assign(Object.assign({},this._config),{direction:q}),this._updateElementDirection()}addPanelClass(q){this._pane&&this._toggleClasses(this._pane,q,!0)}removePanelClass(q){this._pane&&this._toggleClasses(this._pane,q,!1)}getDirection(){const q=this._config.direction;return q?"string"==typeof q?q:q.value:"ltr"}updateScrollStrategy(q){q!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=q,this.hasAttached()&&(q.attach(this),q.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const q=this._pane.style;q.width=(0,_e.HM)(this._config.width),q.height=(0,_e.HM)(this._config.height),q.minWidth=(0,_e.HM)(this._config.minWidth),q.minHeight=(0,_e.HM)(this._config.minHeight),q.maxWidth=(0,_e.HM)(this._config.maxWidth),q.maxHeight=(0,_e.HM)(this._config.maxHeight)}_togglePointerEvents(q){this._pane.style.pointerEvents=q?"":"none"}_attachBackdrop(){const q="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(q)})}):this._backdropElement.classList.add(q)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const q=this._backdropElement;if(!q)return;let he;const Le=()=>{q&&(q.removeEventListener("click",this._backdropClickHandler),q.removeEventListener("transitionend",Le),this._disposeBackdrop(q)),this._config.backdropClass&&this._toggleClasses(q,this._config.backdropClass,!1),clearTimeout(he)};q.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{q.addEventListener("transitionend",Le)}),q.style.pointerEvents="none",he=this._ngZone.runOutsideAngular(()=>setTimeout(Le,500))}_toggleClasses(q,he,Le){const pt=q.classList;(0,_e.Eq)(he).forEach(yt=>{yt&&(Le?pt.add(yt):pt.remove(yt))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const q=this._ngZone.onStable.pipe((0,Ge.R)((0,se.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),q.unsubscribe())})})}_disposeScrollStrategy(){const q=this._scrollStrategy;q&&(q.disable(),q.detach&&q.detach())}_disposeBackdrop(q){q&&(q.parentNode&&q.parentNode.removeChild(q),this._backdropElement===q&&(this._backdropElement=null))}}const Bn="cdk-overlay-connected-position-bounding-box",Tr=/([A-Za-z%]+)$/;class _r{constructor(q,he,Le,pt,yt){this._viewportRuler=he,this._document=Le,this._platform=pt,this._overlayContainer=yt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ee.xQ,this._resizeSubscription=ye.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(q)}get positions(){return this._preferredPositions}attach(q){this._validatePositions(),q.hostElement.classList.add(Bn),this._overlayRef=q,this._boundingBox=q.hostElement,this._pane=q.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const q=this._originRect,he=this._overlayRect,Le=this._viewportRect,pt=[];let yt;for(let Ct of this._preferredPositions){let Bt=this._getOriginPoint(q,Ct),Tn=this._getOverlayPoint(Bt,he,Ct),ar=this._getOverlayFit(Tn,he,Le,Ct);if(ar.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ct,Bt);this._canFitWithFlexibleDimensions(ar,Tn,Le)?pt.push({position:Ct,origin:Bt,overlayRect:he,boundingBoxRect:this._calculateBoundingBoxRect(Bt,Ct)}):(!yt||yt.overlayFit.visibleArea<ar.visibleArea)&&(yt={overlayFit:ar,overlayPoint:Tn,originPoint:Bt,position:Ct,overlayRect:he})}if(pt.length){let Ct=null,Bt=-1;for(const Tn of pt){const ar=Tn.boundingBoxRect.width*Tn.boundingBoxRect.height*(Tn.position.weight||1);ar>Bt&&(Bt=ar,Ct=Tn)}return this._isPushed=!1,void this._applyPosition(Ct.position,Ct.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(yt.position,yt.originPoint);this._applyPosition(yt.position,yt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Bn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const q=this._lastPosition||this._preferredPositions[0],he=this._getOriginPoint(this._originRect,q);this._applyPosition(q,he)}}withScrollableContainers(q){return this._scrollables=q,this}withPositions(q){return this._preferredPositions=q,-1===q.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(q){return this._viewportMargin=q,this}withFlexibleDimensions(q=!0){return this._hasFlexibleDimensions=q,this}withGrowAfterOpen(q=!0){return this._growAfterOpen=q,this}withPush(q=!0){return this._canPush=q,this}withLockedPosition(q=!0){return this._positionLocked=q,this}setOrigin(q){return this._origin=q,this}withDefaultOffsetX(q){return this._offsetX=q,this}withDefaultOffsetY(q){return this._offsetY=q,this}withTransformOriginOn(q){return this._transformOriginSelector=q,this}_getOriginPoint(q,he){let Le,pt;if("center"==he.originX)Le=q.left+q.width/2;else{const yt=this._isRtl()?q.right:q.left,Ct=this._isRtl()?q.left:q.right;Le="start"==he.originX?yt:Ct}return pt="center"==he.originY?q.top+q.height/2:"top"==he.originY?q.top:q.bottom,{x:Le,y:pt}}_getOverlayPoint(q,he,Le){let pt,yt;return pt="center"==Le.overlayX?-he.width/2:"start"===Le.overlayX?this._isRtl()?-he.width:0:this._isRtl()?0:-he.width,yt="center"==Le.overlayY?-he.height/2:"top"==Le.overlayY?0:-he.height,{x:q.x+pt,y:q.y+yt}}_getOverlayFit(q,he,Le,pt){const yt=bn(he);let{x:Ct,y:Bt}=q,Tn=this._getOffset(pt,"x"),ar=this._getOffset(pt,"y");Tn&&(Ct+=Tn),ar&&(Bt+=ar);let xn=0-Bt,Er=Bt+yt.height-Le.height,Zn=this._subtractOverflows(yt.width,0-Ct,Ct+yt.width-Le.width),zr=this._subtractOverflows(yt.height,xn,Er),Fe=Zn*zr;return{visibleArea:Fe,isCompletelyWithinViewport:yt.width*yt.height===Fe,fitsInViewportVertically:zr===yt.height,fitsInViewportHorizontally:Zn==yt.width}}_canFitWithFlexibleDimensions(q,he,Le){if(this._hasFlexibleDimensions){const pt=Le.bottom-he.y,yt=Le.right-he.x,Ct=hn(this._overlayRef.getConfig().minHeight),Bt=hn(this._overlayRef.getConfig().minWidth),ar=q.fitsInViewportHorizontally||null!=Bt&&Bt<=yt;return(q.fitsInViewportVertically||null!=Ct&&Ct<=pt)&&ar}return!1}_pushOverlayOnScreen(q,he,Le){if(this._previousPushAmount&&this._positionLocked)return{x:q.x+this._previousPushAmount.x,y:q.y+this._previousPushAmount.y};const pt=bn(he),yt=this._viewportRect,Ct=Math.max(q.x+pt.width-yt.width,0),Bt=Math.max(q.y+pt.height-yt.height,0),Tn=Math.max(yt.top-Le.top-q.y,0),ar=Math.max(yt.left-Le.left-q.x,0);let dr=0,Hn=0;return dr=pt.width<=yt.width?ar||-Ct:q.x<this._viewportMargin?yt.left-Le.left-q.x:0,Hn=pt.height<=yt.height?Tn||-Bt:q.y<this._viewportMargin?yt.top-Le.top-q.y:0,this._previousPushAmount={x:dr,y:Hn},{x:q.x+dr,y:q.y+Hn}}_applyPosition(q,he){if(this._setTransformOrigin(q),this._setOverlayElementStyles(he,q),this._setBoundingBoxStyles(he,q),q.panelClass&&this._addPanelClasses(q.panelClass),this._lastPosition=q,this._positionChanges.observers.length){const Le=this._getScrollVisibility(),pt=new ut(q,Le);this._positionChanges.next(pt)}this._isInitialRender=!1}_setTransformOrigin(q){if(!this._transformOriginSelector)return;const he=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Le,pt=q.overlayY;Le="center"===q.overlayX?"center":this._isRtl()?"start"===q.overlayX?"right":"left":"start"===q.overlayX?"left":"right";for(let yt=0;yt<he.length;yt++)he[yt].style.transformOrigin=`${Le} ${pt}`}_calculateBoundingBoxRect(q,he){const Le=this._viewportRect,pt=this._isRtl();let yt,Ct,Bt,dr,Hn,xn;if("top"===he.overlayY)Ct=q.y,yt=Le.height-Ct+this._viewportMargin;else if("bottom"===he.overlayY)Bt=Le.height-q.y+2*this._viewportMargin,yt=Le.height-Bt+this._viewportMargin;else{const Er=Math.min(Le.bottom-q.y+Le.top,q.y),Zn=this._lastBoundingBoxSize.height;yt=2*Er,Ct=q.y-Er,yt>Zn&&!this._isInitialRender&&!this._growAfterOpen&&(Ct=q.y-Zn/2)}if("end"===he.overlayX&&!pt||"start"===he.overlayX&&pt)xn=Le.width-q.x+this._viewportMargin,dr=q.x-this._viewportMargin;else if("start"===he.overlayX&&!pt||"end"===he.overlayX&&pt)Hn=q.x,dr=Le.right-q.x;else{const Er=Math.min(Le.right-q.x+Le.left,q.x),Zn=this._lastBoundingBoxSize.width;dr=2*Er,Hn=q.x-Er,dr>Zn&&!this._isInitialRender&&!this._growAfterOpen&&(Hn=q.x-Zn/2)}return{top:Ct,left:Hn,bottom:Bt,right:xn,width:dr,height:yt}}_setBoundingBoxStyles(q,he){const Le=this._calculateBoundingBoxRect(q,he);!this._isInitialRender&&!this._growAfterOpen&&(Le.height=Math.min(Le.height,this._lastBoundingBoxSize.height),Le.width=Math.min(Le.width,this._lastBoundingBoxSize.width));const pt={};if(this._hasExactPosition())pt.top=pt.left="0",pt.bottom=pt.right=pt.maxHeight=pt.maxWidth="",pt.width=pt.height="100%";else{const yt=this._overlayRef.getConfig().maxHeight,Ct=this._overlayRef.getConfig().maxWidth;pt.height=(0,_e.HM)(Le.height),pt.top=(0,_e.HM)(Le.top),pt.bottom=(0,_e.HM)(Le.bottom),pt.width=(0,_e.HM)(Le.width),pt.left=(0,_e.HM)(Le.left),pt.right=(0,_e.HM)(Le.right),pt.alignItems="center"===he.overlayX?"center":"end"===he.overlayX?"flex-end":"flex-start",pt.justifyContent="center"===he.overlayY?"center":"bottom"===he.overlayY?"flex-end":"flex-start",yt&&(pt.maxHeight=(0,_e.HM)(yt)),Ct&&(pt.maxWidth=(0,_e.HM)(Ct))}this._lastBoundingBoxSize=Le,xr(this._boundingBox.style,pt)}_resetBoundingBoxStyles(){xr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(q,he){const Le={},pt=this._hasExactPosition(),yt=this._hasFlexibleDimensions,Ct=this._overlayRef.getConfig();if(pt){const dr=this._viewportRuler.getViewportScrollPosition();xr(Le,this._getExactOverlayY(he,q,dr)),xr(Le,this._getExactOverlayX(he,q,dr))}else Le.position="static";let Bt="",Tn=this._getOffset(he,"x"),ar=this._getOffset(he,"y");Tn&&(Bt+=`translateX(${Tn}px) `),ar&&(Bt+=`translateY(${ar}px)`),Le.transform=Bt.trim(),Ct.maxHeight&&(pt?Le.maxHeight=(0,_e.HM)(Ct.maxHeight):yt&&(Le.maxHeight="")),Ct.maxWidth&&(pt?Le.maxWidth=(0,_e.HM)(Ct.maxWidth):yt&&(Le.maxWidth="")),xr(this._pane.style,Le)}_getExactOverlayY(q,he,Le){let pt={top:"",bottom:""},yt=this._getOverlayPoint(he,this._overlayRect,q);this._isPushed&&(yt=this._pushOverlayOnScreen(yt,this._overlayRect,Le));let Ct=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return yt.y-=Ct,"bottom"===q.overlayY?pt.bottom=this._document.documentElement.clientHeight-(yt.y+this._overlayRect.height)+"px":pt.top=(0,_e.HM)(yt.y),pt}_getExactOverlayX(q,he,Le){let Ct,pt={left:"",right:""},yt=this._getOverlayPoint(he,this._overlayRect,q);return this._isPushed&&(yt=this._pushOverlayOnScreen(yt,this._overlayRect,Le)),Ct=this._isRtl()?"end"===q.overlayX?"left":"right":"end"===q.overlayX?"right":"left","right"===Ct?pt.right=this._document.documentElement.clientWidth-(yt.x+this._overlayRect.width)+"px":pt.left=(0,_e.HM)(yt.x),pt}_getScrollVisibility(){const q=this._getOriginRect(),he=this._pane.getBoundingClientRect(),Le=this._scrollables.map(pt=>pt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Qe(q,Le),isOriginOutsideView:rt(q,Le),isOverlayClipped:Qe(he,Le),isOverlayOutsideView:rt(he,Le)}}_subtractOverflows(q,...he){return he.reduce((Le,pt)=>Le-Math.max(pt,0),q)}_getNarrowedViewportRect(){const q=this._document.documentElement.clientWidth,he=this._document.documentElement.clientHeight,Le=this._viewportRuler.getViewportScrollPosition();return{top:Le.top+this._viewportMargin,left:Le.left+this._viewportMargin,right:Le.left+q-this._viewportMargin,bottom:Le.top+he-this._viewportMargin,width:q-2*this._viewportMargin,height:he-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(q,he){return"x"===he?null==q.offsetX?this._offsetX:q.offsetX:null==q.offsetY?this._offsetY:q.offsetY}_validatePositions(){}_addPanelClasses(q){this._pane&&(0,_e.Eq)(q).forEach(he=>{""!==he&&-1===this._appliedPanelClasses.indexOf(he)&&(this._appliedPanelClasses.push(he),this._pane.classList.add(he))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(q=>{this._pane.classList.remove(q)}),this._appliedPanelClasses=[])}_getOriginRect(){const q=this._origin;if(q instanceof o.SBq)return q.nativeElement.getBoundingClientRect();if(q instanceof Element)return q.getBoundingClientRect();const he=q.width||0,Le=q.height||0;return{top:q.y,bottom:q.y+Le,left:q.x,right:q.x+he,height:Le,width:he}}}function xr(ke,q){for(let he in q)q.hasOwnProperty(he)&&(ke[he]=q[he]);return ke}function hn(ke){if("number"!=typeof ke&&null!=ke){const[q,he]=ke.split(Tr);return he&&"px"!==he?null:parseFloat(q)}return ke||null}function bn(ke){return{top:Math.floor(ke.top),right:Math.floor(ke.right),bottom:Math.floor(ke.bottom),left:Math.floor(ke.left),width:Math.floor(ke.width),height:Math.floor(ke.height)}}class tr{constructor(q,he,Le,pt,yt,Ct,Bt){this._preferredPositions=[],this._positionStrategy=new _r(Le,pt,yt,Ct,Bt).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(q,he),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(q){this._overlayRef=q,this._positionStrategy.attach(q),this._direction&&(q.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(q){this._positionStrategy.withScrollableContainers(q)}withFallbackPosition(q,he,Le,pt){const yt=new st(q,he,Le,pt);return this._preferredPositions.push(yt),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(q){return this._overlayRef?this._overlayRef.setDirection(q):this._direction=q,this}withOffsetX(q){return this._positionStrategy.withDefaultOffsetX(q),this}withOffsetY(q){return this._positionStrategy.withDefaultOffsetY(q),this}withLockedPosition(q){return this._positionStrategy.withLockedPosition(q),this}withPositions(q){return this._preferredPositions=q.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(q){return this._positionStrategy.setOrigin(q),this}}const $r="cdk-global-overlay-wrapper";class vr{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(q){const he=q.getConfig();this._overlayRef=q,this._width&&!he.width&&q.updateSize({width:this._width}),this._height&&!he.height&&q.updateSize({height:this._height}),q.hostElement.classList.add($r),this._isDisposed=!1}top(q=""){return this._bottomOffset="",this._topOffset=q,this._alignItems="flex-start",this}left(q=""){return this._rightOffset="",this._leftOffset=q,this._justifyContent="flex-start",this}bottom(q=""){return this._topOffset="",this._bottomOffset=q,this._alignItems="flex-end",this}right(q=""){return this._leftOffset="",this._rightOffset=q,this._justifyContent="flex-end",this}width(q=""){return this._overlayRef?this._overlayRef.updateSize({width:q}):this._width=q,this}height(q=""){return this._overlayRef?this._overlayRef.updateSize({height:q}):this._height=q,this}centerHorizontally(q=""){return this.left(q),this._justifyContent="center",this}centerVertically(q=""){return this.top(q),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const q=this._overlayRef.overlayElement.style,he=this._overlayRef.hostElement.style,Le=this._overlayRef.getConfig(),{width:pt,height:yt,maxWidth:Ct,maxHeight:Bt}=Le,Tn=!("100%"!==pt&&"100vw"!==pt||Ct&&"100%"!==Ct&&"100vw"!==Ct),ar=!("100%"!==yt&&"100vh"!==yt||Bt&&"100%"!==Bt&&"100vh"!==Bt);q.position=this._cssPosition,q.marginLeft=Tn?"0":this._leftOffset,q.marginTop=ar?"0":this._topOffset,q.marginBottom=this._bottomOffset,q.marginRight=this._rightOffset,Tn?he.justifyContent="flex-start":"center"===this._justifyContent?he.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?he.justifyContent="flex-end":"flex-end"===this._justifyContent&&(he.justifyContent="flex-start"):he.justifyContent=this._justifyContent,he.alignItems=ar?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const q=this._overlayRef.overlayElement.style,he=this._overlayRef.hostElement,Le=he.style;he.classList.remove($r),Le.justifyContent=Le.alignItems=q.marginTop=q.marginBottom=q.marginLeft=q.marginRight=q.position="",this._overlayRef=null,this._isDisposed=!0}}let Fn=(()=>{class ke{constructor(he,Le,pt,yt){this._viewportRuler=he,this._document=Le,this._platform=pt,this._overlayContainer=yt}global(){return new vr}connectedTo(he,Le,pt){return new tr(Le,pt,he,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(he){return new _r(he,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return ke.\u0275fac=function(he){return new(he||ke)(o.LFG(I.rL),o.LFG(Ne.K0),o.LFG(Q.t4),o.LFG(Vn))},ke.\u0275prov=o.Yz7({factory:function(){return new ke(o.LFG(I.rL),o.LFG(Ne.K0),o.LFG(Q.t4),o.LFG(Vn))},token:ke,providedIn:"root"}),ke})(),Gn=0,Wn=(()=>{class ke{constructor(he,Le,pt,yt,Ct,Bt,Tn,ar,dr,Hn,xn){this.scrollStrategies=he,this._overlayContainer=Le,this._componentFactoryResolver=pt,this._positionBuilder=yt,this._keyboardDispatcher=Ct,this._injector=Bt,this._ngZone=Tn,this._document=ar,this._directionality=dr,this._location=Hn,this._outsideClickDispatcher=xn}create(he){const Le=this._createHostElement(),pt=this._createPaneElement(Le),yt=this._createPortalOutlet(pt),Ct=new Tt(he);return Ct.direction=Ct.direction||this._directionality.value,new fn(yt,Le,pt,Ct,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(he){const Le=this._document.createElement("div");return Le.id="cdk-overlay-"+Gn++,Le.classList.add("cdk-overlay-pane"),he.appendChild(Le),Le}_createHostElement(){const he=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(he),he}_createPortalOutlet(he){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new xe.u0(he,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return ke.\u0275fac=function(he){return new(he||ke)(o.LFG(it),o.LFG(Vn),o.LFG(o._Vd),o.LFG(Fn),o.LFG(vn),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Ne.K0),o.LFG(Ve.Is),o.LFG(Ne.Ye),o.LFG(Dn))},ke.\u0275prov=o.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const En=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Yn=new o.OlP("cdk-connected-overlay-scroll-strategy");let br=(()=>{class ke{constructor(he){this.elementRef=he}}return ke.\u0275fac=function(he){return new(he||ke)(o.Y36(o.SBq))},ke.\u0275dir=o.lG2({type:ke,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),ke})(),Jn=(()=>{class ke{constructor(he,Le,pt,yt,Ct){this._overlay=he,this._dir=Ct,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ye.w.EMPTY,this._attachSubscription=ye.w.EMPTY,this._detachSubscription=ye.w.EMPTY,this._positionSubscription=ye.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new xe.UE(Le,pt),this._scrollStrategyFactory=yt,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(he){this._offsetX=he,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(he){this._offsetY=he,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(he){this._hasBackdrop=(0,_e.Ig)(he)}get lockPosition(){return this._lockPosition}set lockPosition(he){this._lockPosition=(0,_e.Ig)(he)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(he){this._flexibleDimensions=(0,_e.Ig)(he)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(he){this._growAfterOpen=(0,_e.Ig)(he)}get push(){return this._push}set push(he){this._push=(0,_e.Ig)(he)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(he){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),he.origin&&this.open&&this._position.apply()),he.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=En);const he=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=he.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=he.detachments().subscribe(()=>this.detach.emit()),he.keydownEvents().subscribe(Le=>{this.overlayKeydown.next(Le),Le.keyCode===ce.hY&&!this.disableClose&&!(0,ce.Vb)(Le)&&(Le.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Le=>{this.overlayOutsideClick.next(Le)})}_buildConfig(){const he=this._position=this.positionStrategy||this._createPositionStrategy(),Le=new Tt({direction:this._dir,positionStrategy:he,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Le.width=this.width),(this.height||0===this.height)&&(Le.height=this.height),(this.minWidth||0===this.minWidth)&&(Le.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Le.minHeight=this.minHeight),this.backdropClass&&(Le.backdropClass=this.backdropClass),this.panelClass&&(Le.panelClass=this.panelClass),Le}_updatePositionStrategy(he){const Le=this.positions.map(pt=>({originX:pt.originX,originY:pt.originY,overlayX:pt.overlayX,overlayY:pt.overlayY,offsetX:pt.offsetX||this.offsetX,offsetY:pt.offsetY||this.offsetY,panelClass:pt.panelClass||void 0}));return he.setOrigin(this.origin.elementRef).withPositions(Le).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const he=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(he),he}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(he=>{this.backdropClick.emit(he)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(ke,q=!1){return he=>he.lift(new ve(ke,q))}(()=>this.positionChange.observers.length>0)).subscribe(he=>{this.positionChange.emit(he),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return ke.\u0275fac=function(he){return new(he||ke)(o.Y36(Wn),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(Yn),o.Y36(Ve.Is,8))},ke.\u0275dir=o.lG2({type:ke,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),ke})();const qt={provide:Yn,deps:[Wn],useFactory:function(ke){return()=>ke.scrollStrategies.reposition()}};let Qt=(()=>{class ke{}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275mod=o.oAB({type:ke}),ke.\u0275inj=o.cJS({providers:[Wn,qt],imports:[[Ve.vT,xe.eL,I.Cl],I.Cl]}),ke})()},521:(un,ht,U)=>{"use strict";U.d(ht,{t4:()=>Ve,ud:()=>Ne,sA:()=>Ot,ht:()=>Wt,kV:()=>wt,Oy:()=>At,_i:()=>$e,i$:()=>ae,Mq:()=>Be});var I=U(3018),o=U(8583);let Q;try{Q="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Je){Q=!1}let ye,Te,ve,Ge,Ve=(()=>{class Je{constructor(Qe){this._platformId=Qe,this.isBrowser=this._platformId?(0,o.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Q)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Je.\u0275fac=function(Qe){return new(Qe||Je)(I.LFG(I.Lbi))},Je.\u0275prov=I.Yz7({factory:function(){return new Je(I.LFG(I.Lbi))},token:Je,providedIn:"root"}),Je})(),Ne=(()=>{class Je{}return Je.\u0275fac=function(Qe){return new(Qe||Je)},Je.\u0275mod=I.oAB({type:Je}),Je.\u0275inj=I.cJS({}),Je})();function ae(Je){return function(){if(null==ye&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ye=!0}))}finally{ye=ye||!1}return ye}()?Je:!!Je.capture}function Be(){if(null==ve){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ve=!1,ve;if("scrollBehavior"in document.documentElement.style)ve=!0;else{const Je=Element.prototype.scrollTo;ve=!!Je&&!/\{\s*\[native code\]\s*\}/.test(Je.toString())}}return ve}function $e(){if("object"!=typeof document||!document)return 0;if(null==Te){const Je=document.createElement("div"),rt=Je.style;Je.dir="rtl",rt.width="1px",rt.overflow="auto",rt.visibility="hidden",rt.pointerEvents="none",rt.position="absolute";const Qe=document.createElement("div"),He=Qe.style;He.width="2px",He.height="1px",Je.appendChild(Qe),document.body.appendChild(Je),Te=0,0===Je.scrollLeft&&(Je.scrollLeft=1,Te=0===Je.scrollLeft?1:2),Je.parentNode.removeChild(Je)}return Te}function wt(Je){if(function(){if(null==Ge){const Je="undefined"!=typeof document?document.head:null;Ge=!(!Je||!Je.createShadowRoot&&!Je.attachShadow)}return Ge}()){const rt=Je.getRootNode?Je.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&rt instanceof ShadowRoot)return rt}return null}function Wt(){let Je="undefined"!=typeof document&&document?document.activeElement:null;for(;Je&&Je.shadowRoot;){const rt=Je.shadowRoot.activeElement;if(rt===Je)break;Je=rt}return Je}function Ot(Je){return Je.composedPath?Je.composedPath()[0]:Je.target}function At(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7636:(un,ht,U)=>{"use strict";U.d(ht,{en:()=>ve,Pl:()=>Wt,C5:()=>se,u0:()=>$e,eL:()=>At,UE:()=>ae});var I=U(3018),o=U(8583);class ye{attach(Qe){return this._attachedHost=Qe,Qe.attach(this)}detach(){let Qe=this._attachedHost;null!=Qe&&(this._attachedHost=null,Qe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Qe){this._attachedHost=Qe}}class se extends ye{constructor(Qe,He,it,Tt){super(),this.component=Qe,this.viewContainerRef=He,this.injector=it,this.componentFactoryResolver=Tt}}class ae extends ye{constructor(Qe,He,it){super(),this.templateRef=Qe,this.viewContainerRef=He,this.context=it}get origin(){return this.templateRef.elementRef}attach(Qe,He=this.context){return this.context=He,super.attach(Qe)}detach(){return this.context=void 0,super.detach()}}class Te extends ye{constructor(Qe){super(),this.element=Qe instanceof I.SBq?Qe.nativeElement:Qe}}class ve{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Qe){return Qe instanceof se?(this._attachedPortal=Qe,this.attachComponentPortal(Qe)):Qe instanceof ae?(this._attachedPortal=Qe,this.attachTemplatePortal(Qe)):this.attachDomPortal&&Qe instanceof Te?(this._attachedPortal=Qe,this.attachDomPortal(Qe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Qe){this._disposeFn=Qe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $e extends ve{constructor(Qe,He,it,Tt,st){super(),this.outletElement=Qe,this._componentFactoryResolver=He,this._appRef=it,this._defaultInjector=Tt,this.attachDomPortal=Xe=>{const ut=Xe.element,St=this._document.createComment("dom-portal");ut.parentNode.insertBefore(St,ut),this.outletElement.appendChild(ut),this._attachedPortal=Xe,super.setDisposeFn(()=>{St.parentNode&&St.parentNode.replaceChild(ut,St)})},this._document=st}attachComponentPortal(Qe){const it=(Qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Qe.component);let Tt;return Qe.viewContainerRef?(Tt=Qe.viewContainerRef.createComponent(it,Qe.viewContainerRef.length,Qe.injector||Qe.viewContainerRef.injector),this.setDisposeFn(()=>Tt.destroy())):(Tt=it.create(Qe.injector||this._defaultInjector),this._appRef.attachView(Tt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Tt.hostView),Tt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Tt)),this._attachedPortal=Qe,Tt}attachTemplatePortal(Qe){let He=Qe.viewContainerRef,it=He.createEmbeddedView(Qe.templateRef,Qe.context);return it.rootNodes.forEach(Tt=>this.outletElement.appendChild(Tt)),it.detectChanges(),this.setDisposeFn(()=>{let Tt=He.indexOf(it);-1!==Tt&&He.remove(Tt)}),this._attachedPortal=Qe,it}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(Qe){return Qe.hostView.rootNodes[0]}}let Wt=(()=>{class rt extends ve{constructor(He,it,Tt){super(),this._componentFactoryResolver=He,this._viewContainerRef=it,this._isInitialized=!1,this.attached=new I.vpe,this.attachDomPortal=st=>{const Xe=st.element,ut=this._document.createComment("dom-portal");st.setAttachedHost(this),Xe.parentNode.insertBefore(ut,Xe),this._getRootNode().appendChild(Xe),this._attachedPortal=st,super.setDisposeFn(()=>{ut.parentNode&&ut.parentNode.replaceChild(Xe,ut)})},this._document=Tt}get portal(){return this._attachedPortal}set portal(He){this.hasAttached()&&!He&&!this._isInitialized||(this.hasAttached()&&super.detach(),He&&super.attach(He),this._attachedPortal=He)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(He){He.setAttachedHost(this);const it=null!=He.viewContainerRef?He.viewContainerRef:this._viewContainerRef,st=(He.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(He.component),Xe=it.createComponent(st,it.length,He.injector||it.injector);return it!==this._viewContainerRef&&this._getRootNode().appendChild(Xe.hostView.rootNodes[0]),super.setDisposeFn(()=>Xe.destroy()),this._attachedPortal=He,this._attachedRef=Xe,this.attached.emit(Xe),Xe}attachTemplatePortal(He){He.setAttachedHost(this);const it=this._viewContainerRef.createEmbeddedView(He.templateRef,He.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=He,this._attachedRef=it,this.attached.emit(it),it}_getRootNode(){const He=this._viewContainerRef.element.nativeElement;return He.nodeType===He.ELEMENT_NODE?He:He.parentNode}}return rt.\u0275fac=function(He){return new(He||rt)(I.Y36(I._Vd),I.Y36(I.s_b),I.Y36(o.K0))},rt.\u0275dir=I.lG2({type:rt,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[I.qOj]}),rt})(),At=(()=>{class rt{}return rt.\u0275fac=function(He){return new(He||rt)},rt.\u0275mod=I.oAB({type:rt}),rt.\u0275inj=I.cJS({}),rt})()},4840:(un,ht,U)=>{"use strict";U.d(ht,{ZD:()=>Jn,mF:()=>tr,Cl:()=>Rr,rL:()=>Fn});var I=U(9490),o=U(3018),Q=U(6465),Ne=U(6102);new class extends Ne.v{flush(Qt){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let ke,q=-1,he=Se.length;Qt=Qt||Se.shift();do{if(ke=Qt.execute(Qt.state,Qt.delay))break}while(++q<he&&(Qt=Se.shift()));if(this.active=!1,ke){for(;++q<he&&(Qt=Se.shift());)Qt.unsubscribe();throw ke}}}(class extends Q.o{constructor(Qt,Se){super(Qt,Se),this.scheduler=Qt,this.work=Se}requestAsyncId(Qt,Se,ke=0){return null!==ke&&ke>0?super.requestAsyncId(Qt,Se,ke):(Qt.actions.push(this),Qt.scheduled||(Qt.scheduled=requestAnimationFrame(()=>Qt.flush(null))))}recycleAsyncId(Qt,Se,ke=0){if(null!==ke&&ke>0||null===ke&&this.delay>0)return super.recycleAsyncId(Qt,Se,ke);0===Qt.actions.length&&(cancelAnimationFrame(Se),Qt.scheduled=void 0)}});var ye=U(9765),se=U(5917),ae=U(7574),Te=U(2759),Ge=(U(4581),U(5319),U(5639),U(3637)),ce=U(5345);class Wt{constructor(Qt){this.durationSelector=Qt}call(Qt,Se){return Se.subscribe(new Ot(Qt,this.durationSelector))}}class Ot extends ce.Ds{constructor(Qt,Se){super(Qt),this.durationSelector=Se,this.hasValue=!1}_next(Qt){if(this.value=Qt,this.hasValue=!0,!this.throttled){let Se;try{const{durationSelector:q}=this;Se=q(Qt)}catch(q){return this.destination.error(q)}const ke=(0,ce.ft)(Se,new ce.IY(this));!ke||ke.closed?this.clearThrottle():this.add(this.throttled=ke)}}clearThrottle(){const{value:Qt,hasValue:Se,throttled:ke}=this;ke&&(this.remove(ke),this.throttled=void 0,ke.unsubscribe()),Se&&(this.value=void 0,this.hasValue=!1,this.destination.next(Qt))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var At=U(6561),Je=U(4869);function Qe(qt){const{index:Qt,period:Se,subscriber:ke}=qt;if(ke.next(Qt),!ke.closed){if(-1===Se)return ke.complete();qt.index=Qt+1,this.schedule(qt,Se)}}function He(qt,Qt=Ge.P){return function(qt){return function(Se){return Se.lift(new Wt(qt))}}(()=>function(qt=0,Qt,Se){let ke=-1;return(0,At.k)(Qt)?ke=Number(Qt)<1?1:Number(Qt):(0,Je.K)(Qt)&&(Se=Qt),(0,Je.K)(Se)||(Se=Ge.P),new ae.y(q=>{const he=(0,At.k)(qt)?qt:+qt-Se.now();return Se.schedule(Qe,he,{index:0,period:ke,subscriber:q})})}(qt,Qt))}U(7519);var Tt=U(5435),Lt=(U(6782),U(9761),U(9328),U(3190),U(2066),U(521)),vn=U(8583),Dn=U(946);U(8345);let tr=(()=>{class qt{constructor(Se,ke,q){this._ngZone=Se,this._platform=ke,this._scrolled=new ye.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=q}register(Se){this.scrollContainers.has(Se)||this.scrollContainers.set(Se,Se.elementScrolled().subscribe(()=>this._scrolled.next(Se)))}deregister(Se){const ke=this.scrollContainers.get(Se);ke&&(ke.unsubscribe(),this.scrollContainers.delete(Se))}scrolled(Se=20){return this._platform.isBrowser?new ae.y(ke=>{this._globalSubscription||this._addGlobalListener();const q=Se>0?this._scrolled.pipe(He(Se)).subscribe(ke):this._scrolled.subscribe(ke);return this._scrolledCount++,()=>{q.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,se.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Se,ke)=>this.deregister(ke)),this._scrolled.complete()}ancestorScrolled(Se,ke){const q=this.getAncestorScrollContainers(Se);return this.scrolled(ke).pipe((0,Tt.h)(he=>!he||q.indexOf(he)>-1))}getAncestorScrollContainers(Se){const ke=[];return this.scrollContainers.forEach((q,he)=>{this._scrollableContainsElement(he,Se)&&ke.push(he)}),ke}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Se,ke){let q=(0,I.fI)(ke),he=Se.getElementRef().nativeElement;do{if(q==he)return!0}while(q=q.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Se=this._getWindow();return(0,Te.R)(Se.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return qt.\u0275fac=function(Se){return new(Se||qt)(o.LFG(o.R0b),o.LFG(Lt.t4),o.LFG(vn.K0,8))},qt.\u0275prov=o.Yz7({factory:function(){return new qt(o.LFG(o.R0b),o.LFG(Lt.t4),o.LFG(vn.K0,8))},token:qt,providedIn:"root"}),qt})(),Fn=(()=>{class qt{constructor(Se,ke,q){this._platform=Se,this._change=new ye.xQ,this._changeListener=he=>{this._change.next(he)},this._document=q,ke.runOutsideAngular(()=>{if(Se.isBrowser){const he=this._getWindow();he.addEventListener("resize",this._changeListener),he.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Se=this._getWindow();Se.removeEventListener("resize",this._changeListener),Se.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Se={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Se}getViewportRect(){const Se=this.getViewportScrollPosition(),{width:ke,height:q}=this.getViewportSize();return{top:Se.top,left:Se.left,bottom:Se.top+q,right:Se.left+ke,height:q,width:ke}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Se=this._document,ke=this._getWindow(),q=Se.documentElement,he=q.getBoundingClientRect();return{top:-he.top||Se.body.scrollTop||ke.scrollY||q.scrollTop||0,left:-he.left||Se.body.scrollLeft||ke.scrollX||q.scrollLeft||0}}change(Se=20){return Se>0?this._change.pipe(He(Se)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Se=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Se.innerWidth,height:Se.innerHeight}:{width:0,height:0}}}return qt.\u0275fac=function(Se){return new(Se||qt)(o.LFG(Lt.t4),o.LFG(o.R0b),o.LFG(vn.K0,8))},qt.\u0275prov=o.Yz7({factory:function(){return new qt(o.LFG(Lt.t4),o.LFG(o.R0b),o.LFG(vn.K0,8))},token:qt,providedIn:"root"}),qt})(),Jn=(()=>{class qt{}return qt.\u0275fac=function(Se){return new(Se||qt)},qt.\u0275mod=o.oAB({type:qt}),qt.\u0275inj=o.cJS({}),qt})(),Rr=(()=>{class qt{}return qt.\u0275fac=function(Se){return new(Se||qt)},qt.\u0275mod=o.oAB({type:qt}),qt.\u0275inj=o.cJS({imports:[[Dn.vT,Lt.ud,Jn],Dn.vT,Jn]}),qt})()},9490:(un,ht,U)=>{"use strict";U.d(ht,{Eq:()=>Ne,Ig:()=>o,HM:()=>_e,fI:()=>xe,su:()=>Q});var I=U(3018);function o(ye){return null!=ye&&"false"!=`${ye}`}function Q(ye,se=0){return function(ye){return!isNaN(parseFloat(ye))&&!isNaN(Number(ye))}(ye)?Number(ye):se}function Ne(ye){return Array.isArray(ye)?ye:[ye]}function _e(ye){return null==ye?"":"string"==typeof ye?ye:`${ye}px`}function xe(ye){return ye instanceof I.SBq?ye.nativeElement:ye}},8583:(un,ht,U)=>{"use strict";U.d(ht,{mr:()=>Wt,Ov:()=>Is,ez:()=>Ks,K0:()=>xe,uU:()=>aa,Do:()=>At,V_:()=>se,Ye:()=>Je,S$:()=>ce,mk:()=>rr,sg:()=>li,O5:()=>ft,RF:()=>jn,n9:()=>wr,ED:()=>si,tP:()=>ts,b0:()=>Ot,lw:()=>Ee,EM:()=>gs,JF:()=>Vs,NF:()=>Oo,PM:()=>xo,w_:()=>_e,bD:()=>io,q:()=>Q,Mx:()=>Pt,HT:()=>Ne});var I=U(3018);let o=null;function Q(){return o}function Ne(G){o||(o=G)}class _e{}const xe=new I.OlP("DocumentToken");let Ee=(()=>{class G{historyGo($){throw new Error("Not implemented")}}return G.\u0275fac=function($){return new($||G)},G.\u0275prov=(0,I.Yz7)({factory:ye,token:G,providedIn:"platform"}),G})();function ye(){return(0,I.LFG)(ae)}const se=new I.OlP("Location Initialized");let ae=(()=>{class G extends Ee{constructor($){super(),this._doc=$,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState($){const pe=Q().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("popstate",$,!1),()=>pe.removeEventListener("popstate",$)}onHashChange($){const pe=Q().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("hashchange",$,!1),()=>pe.removeEventListener("hashchange",$)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname($){this.location.pathname=$}pushState($,pe,at){Te()?this._history.pushState($,pe,at):this.location.hash=at}replaceState($,pe,at){Te()?this._history.replaceState($,pe,at):this.location.hash=at}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return G.\u0275fac=function($){return new($||G)(I.LFG(xe))},G.\u0275prov=(0,I.Yz7)({factory:ve,token:G,providedIn:"platform"}),G})();function Te(){return!!window.history.pushState}function ve(){return new ae((0,I.LFG)(xe))}function Be(G,de){if(0==G.length)return de;if(0==de.length)return G;let $=0;return G.endsWith("/")&&$++,de.startsWith("/")&&$++,2==$?G+de.substring(1):1==$?G+de:G+"/"+de}function $e(G){const de=G.match(/#|\?|$/),$=de&&de.index||G.length;return G.slice(0,$-("/"===G[$-1]?1:0))+G.slice($)}function Ge(G){return G&&"?"!==G[0]?"?"+G:G}let ce=(()=>{class G{historyGo($){throw new Error("Not implemented")}}return G.\u0275fac=function($){return new($||G)},G.\u0275prov=(0,I.Yz7)({factory:wt,token:G,providedIn:"root"}),G})();function wt(G){const de=(0,I.LFG)(xe).location;return new Ot((0,I.LFG)(Ee),de&&de.origin||"")}const Wt=new I.OlP("appBaseHref");let Ot=(()=>{class G extends ce{constructor($,pe){if(super(),this._platformLocation=$,this._removeListenerFns=[],null==pe&&(pe=this._platformLocation.getBaseHrefFromDOM()),null==pe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=pe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Be(this._baseHref,$)}path($=!1){const pe=this._platformLocation.pathname+Ge(this._platformLocation.search),at=this._platformLocation.hash;return at&&$?`${pe}${at}`:pe}pushState($,pe,at,Vt){const oe=this.prepareExternalUrl(at+Ge(Vt));this._platformLocation.pushState($,pe,oe)}replaceState($,pe,at,Vt){const oe=this.prepareExternalUrl(at+Ge(Vt));this._platformLocation.replaceState($,pe,oe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var pe,at;null===(at=(pe=this._platformLocation).historyGo)||void 0===at||at.call(pe,$)}}return G.\u0275fac=function($){return new($||G)(I.LFG(Ee),I.LFG(Wt,8))},G.\u0275prov=I.Yz7({token:G,factory:G.\u0275fac}),G})(),At=(()=>{class G extends ce{constructor($,pe){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=pe&&(this._baseHref=pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let pe=this._platformLocation.hash;return null==pe&&(pe="#"),pe.length>0?pe.substring(1):pe}prepareExternalUrl($){const pe=Be(this._baseHref,$);return pe.length>0?"#"+pe:pe}pushState($,pe,at,Vt){let oe=this.prepareExternalUrl(at+Ge(Vt));0==oe.length&&(oe=this._platformLocation.pathname),this._platformLocation.pushState($,pe,oe)}replaceState($,pe,at,Vt){let oe=this.prepareExternalUrl(at+Ge(Vt));0==oe.length&&(oe=this._platformLocation.pathname),this._platformLocation.replaceState($,pe,oe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo($=0){var pe,at;null===(at=(pe=this._platformLocation).historyGo)||void 0===at||at.call(pe,$)}}return G.\u0275fac=function($){return new($||G)(I.LFG(Ee),I.LFG(Wt,8))},G.\u0275prov=I.Yz7({token:G,factory:G.\u0275fac}),G})(),Je=(()=>{class G{constructor($,pe){this._subject=new I.vpe,this._urlChangeListeners=[],this._platformStrategy=$;const at=this._platformStrategy.getBaseHref();this._platformLocation=pe,this._baseHref=$e(He(at)),this._platformStrategy.onPopState(Vt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Vt.state,type:Vt.type})})}path($=!1){return this.normalize(this._platformStrategy.path($))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo($,pe=""){return this.path()==this.normalize($+Ge(pe))}normalize($){return G.stripTrailingSlash(function(G,de){return G&&de.startsWith(G)?de.substring(G.length):de}(this._baseHref,He($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._platformStrategy.prepareExternalUrl($)}go($,pe="",at=null){this._platformStrategy.pushState(at,"",$,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ge(pe)),at)}replaceState($,pe="",at=null){this._platformStrategy.replaceState(at,"",$,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Ge(pe)),at)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo($=0){var pe,at;null===(at=(pe=this._platformStrategy).historyGo)||void 0===at||at.call(pe,$)}onUrlChange($){this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(pe=>{this._notifyUrlChangeListeners(pe.url,pe.state)}))}_notifyUrlChangeListeners($="",pe){this._urlChangeListeners.forEach(at=>at($,pe))}subscribe($,pe,at){return this._subject.subscribe({next:$,error:pe,complete:at})}}return G.\u0275fac=function($){return new($||G)(I.LFG(ce),I.LFG(Ee))},G.normalizeQueryParams=Ge,G.joinWithSlash=Be,G.stripTrailingSlash=$e,G.\u0275prov=(0,I.Yz7)({factory:rt,token:G,providedIn:"root"}),G})();function rt(){return new Je((0,I.LFG)(ce),(0,I.LFG)(Ee))}function He(G){return G.replace(/\/index.html$/,"")}var st=(()=>((st=st||{})[st.Zero=0]="Zero",st[st.One=1]="One",st[st.Two=2]="Two",st[st.Few=3]="Few",st[st.Many=4]="Many",st[st.Other=5]="Other",st))(),Xe=(()=>((Xe=Xe||{})[Xe.Format=0]="Format",Xe[Xe.Standalone=1]="Standalone",Xe))(),ut=(()=>((ut=ut||{})[ut.Narrow=0]="Narrow",ut[ut.Abbreviated=1]="Abbreviated",ut[ut.Wide=2]="Wide",ut[ut.Short=3]="Short",ut))(),St=(()=>((St=St||{})[St.Short=0]="Short",St[St.Medium=1]="Medium",St[St.Long=2]="Long",St[St.Full=3]="Full",St))(),Dt=(()=>((Dt=Dt||{})[Dt.Decimal=0]="Decimal",Dt[Dt.Group=1]="Group",Dt[Dt.List=2]="List",Dt[Dt.PercentSign=3]="PercentSign",Dt[Dt.PlusSign=4]="PlusSign",Dt[Dt.MinusSign=5]="MinusSign",Dt[Dt.Exponential=6]="Exponential",Dt[Dt.SuperscriptingExponent=7]="SuperscriptingExponent",Dt[Dt.PerMille=8]="PerMille",Dt[Dt.Infinity=9]="Infinity",Dt[Dt.NaN=10]="NaN",Dt[Dt.TimeSeparator=11]="TimeSeparator",Dt[Dt.CurrencyDecimal=12]="CurrencyDecimal",Dt[Dt.CurrencyGroup=13]="CurrencyGroup",Dt))();function xr(G,de){return qt((0,I.cg1)(G)[I.wAp.DateFormat],de)}function hn(G,de){return qt((0,I.cg1)(G)[I.wAp.TimeFormat],de)}function bn(G,de){return qt((0,I.cg1)(G)[I.wAp.DateTimeFormat],de)}function tr(G,de){const $=(0,I.cg1)(G),pe=$[I.wAp.NumberSymbols][de];if(void 0===pe){if(de===Dt.CurrencyDecimal)return $[I.wAp.NumberSymbols][Dt.Decimal];if(de===Dt.CurrencyGroup)return $[I.wAp.NumberSymbols][Dt.Group]}return pe}const En=I.kL8;function Yn(G){if(!G[I.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${G[I.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qt(G,de){for(let $=de;$>-1;$--)if(void 0!==G[$])return G[$];throw new Error("Locale data API: locale data undefined")}function Qt(G){const[de,$]=G.split(":");return{hours:+de,minutes:+$}}const he=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Le={},pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),Bt=(()=>((Bt=Bt||{})[Bt.DayPeriods=0]="DayPeriods",Bt[Bt.Days=1]="Days",Bt[Bt.Months=2]="Months",Bt[Bt.Eras=3]="Eras",Bt))();function Tn(G,de,$,pe){let at=function(G){if(Ft(G))return G;if("number"==typeof G&&!isNaN(G))return new Date(G);if("string"==typeof G){if(G=G.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(G)){const[at,Vt=1,oe=1]=G.split("-").map(ge=>+ge);return ar(at,Vt-1,oe)}const $=parseFloat(G);if(!isNaN(G-$))return new Date($);let pe;if(pe=G.match(he))return function(G){const de=new Date(0);let $=0,pe=0;const at=G[8]?de.setUTCFullYear:de.setFullYear,Vt=G[8]?de.setUTCHours:de.setHours;G[9]&&($=Number(G[9]+G[10]),pe=Number(G[9]+G[11])),at.call(de,Number(G[1]),Number(G[2])-1,Number(G[3]));const oe=Number(G[4]||0)-$,ge=Number(G[5]||0)-pe,tt=Number(G[6]||0),Et=Math.floor(1e3*parseFloat("0."+(G[7]||0)));return Vt.call(de,oe,ge,tt,Et),de}(pe)}const de=new Date(G);if(!Ft(de))throw new Error(`Unable to convert "${G}" into a date`);return de}(G);de=dr($,de)||de;let ge,oe=[];for(;de;){if(ge=pt.exec(de),!ge){oe.push(de);break}{oe=oe.concat(ge.slice(1));const Jt=oe.pop();if(!Jt)break;de=Jt}}let tt=at.getTimezoneOffset();pe&&(tt=X(pe,tt),at=function(G,de,$){const at=G.getTimezoneOffset();return function(G,de){return(G=new Date(G.getTime())).setMinutes(G.getMinutes()+de),G}(G,-1*(X(de,at)-at))}(at,pe));let Et="";return oe.forEach(Jt=>{const sn=function(G){if(wn[G])return wn[G];let de;switch(G){case"G":case"GG":case"GGG":de=Fe(Bt.Eras,ut.Abbreviated);break;case"GGGG":de=Fe(Bt.Eras,ut.Wide);break;case"GGGGG":de=Fe(Bt.Eras,ut.Narrow);break;case"y":de=Zn(Ct.FullYear,1,0,!1,!0);break;case"yy":de=Zn(Ct.FullYear,2,0,!0,!0);break;case"yyy":de=Zn(Ct.FullYear,3,0,!1,!0);break;case"yyyy":de=Zn(Ct.FullYear,4,0,!1,!0);break;case"Y":de=on(1);break;case"YY":de=on(2,!0);break;case"YYY":de=on(3);break;case"YYYY":de=on(4);break;case"M":case"L":de=Zn(Ct.Month,1,1);break;case"MM":case"LL":de=Zn(Ct.Month,2,1);break;case"MMM":de=Fe(Bt.Months,ut.Abbreviated);break;case"MMMM":de=Fe(Bt.Months,ut.Wide);break;case"MMMMM":de=Fe(Bt.Months,ut.Narrow);break;case"LLL":de=Fe(Bt.Months,ut.Abbreviated,Xe.Standalone);break;case"LLLL":de=Fe(Bt.Months,ut.Wide,Xe.Standalone);break;case"LLLLL":de=Fe(Bt.Months,ut.Narrow,Xe.Standalone);break;case"w":de=et(1);break;case"ww":de=et(2);break;case"W":de=et(1,!0);break;case"d":de=Zn(Ct.Date,1);break;case"dd":de=Zn(Ct.Date,2);break;case"c":case"cc":de=Zn(Ct.Day,1);break;case"ccc":de=Fe(Bt.Days,ut.Abbreviated,Xe.Standalone);break;case"cccc":de=Fe(Bt.Days,ut.Wide,Xe.Standalone);break;case"ccccc":de=Fe(Bt.Days,ut.Narrow,Xe.Standalone);break;case"cccccc":de=Fe(Bt.Days,ut.Short,Xe.Standalone);break;case"E":case"EE":case"EEE":de=Fe(Bt.Days,ut.Abbreviated);break;case"EEEE":de=Fe(Bt.Days,ut.Wide);break;case"EEEEE":de=Fe(Bt.Days,ut.Narrow);break;case"EEEEEE":de=Fe(Bt.Days,ut.Short);break;case"a":case"aa":case"aaa":de=Fe(Bt.DayPeriods,ut.Abbreviated);break;case"aaaa":de=Fe(Bt.DayPeriods,ut.Wide);break;case"aaaaa":de=Fe(Bt.DayPeriods,ut.Narrow);break;case"b":case"bb":case"bbb":de=Fe(Bt.DayPeriods,ut.Abbreviated,Xe.Standalone,!0);break;case"bbbb":de=Fe(Bt.DayPeriods,ut.Wide,Xe.Standalone,!0);break;case"bbbbb":de=Fe(Bt.DayPeriods,ut.Narrow,Xe.Standalone,!0);break;case"B":case"BB":case"BBB":de=Fe(Bt.DayPeriods,ut.Abbreviated,Xe.Format,!0);break;case"BBBB":de=Fe(Bt.DayPeriods,ut.Wide,Xe.Format,!0);break;case"BBBBB":de=Fe(Bt.DayPeriods,ut.Narrow,Xe.Format,!0);break;case"h":de=Zn(Ct.Hours,1,-12);break;case"hh":de=Zn(Ct.Hours,2,-12);break;case"H":de=Zn(Ct.Hours,1);break;case"HH":de=Zn(Ct.Hours,2);break;case"m":de=Zn(Ct.Minutes,1);break;case"mm":de=Zn(Ct.Minutes,2);break;case"s":de=Zn(Ct.Seconds,1);break;case"ss":de=Zn(Ct.Seconds,2);break;case"S":de=Zn(Ct.FractionalSeconds,1);break;case"SS":de=Zn(Ct.FractionalSeconds,2);break;case"SSS":de=Zn(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":de=Oe(yt.Short);break;case"ZZZZZ":de=Oe(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":de=Oe(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":de=Oe(yt.Long);break;default:return null}return wn[G]=de,de}(Jt);Et+=sn?sn(at,$,tt):"''"===Jt?"'":Jt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Et}function ar(G,de,$){const pe=new Date(0);return pe.setFullYear(G,de,$),pe.setHours(0,0,0),pe}function dr(G,de){const $=function(G){return(0,I.cg1)(G)[I.wAp.LocaleId]}(G);if(Le[$]=Le[$]||{},Le[$][de])return Le[$][de];let pe="";switch(de){case"shortDate":pe=xr(G,St.Short);break;case"mediumDate":pe=xr(G,St.Medium);break;case"longDate":pe=xr(G,St.Long);break;case"fullDate":pe=xr(G,St.Full);break;case"shortTime":pe=hn(G,St.Short);break;case"mediumTime":pe=hn(G,St.Medium);break;case"longTime":pe=hn(G,St.Long);break;case"fullTime":pe=hn(G,St.Full);break;case"short":const at=dr(G,"shortTime"),Vt=dr(G,"shortDate");pe=Hn(bn(G,St.Short),[at,Vt]);break;case"medium":const oe=dr(G,"mediumTime"),ge=dr(G,"mediumDate");pe=Hn(bn(G,St.Medium),[oe,ge]);break;case"long":const tt=dr(G,"longTime"),Et=dr(G,"longDate");pe=Hn(bn(G,St.Long),[tt,Et]);break;case"full":const Jt=dr(G,"fullTime"),sn=dr(G,"fullDate");pe=Hn(bn(G,St.Full),[Jt,sn])}return pe&&(Le[$][de]=pe),pe}function Hn(G,de){return de&&(G=G.replace(/\{([^}]+)}/g,function($,pe){return null!=de&&pe in de?de[pe]:$})),G}function xn(G,de,$="-",pe,at){let Vt="";(G<0||at&&G<=0)&&(at?G=1-G:(G=-G,Vt=$));let oe=String(G);for(;oe.length<de;)oe="0"+oe;return pe&&(oe=oe.substr(oe.length-de)),Vt+oe}function Zn(G,de,$=0,pe=!1,at=!1){return function(Vt,oe){let ge=function(G,de){switch(G){case Ct.FullYear:return de.getFullYear();case Ct.Month:return de.getMonth();case Ct.Date:return de.getDate();case Ct.Hours:return de.getHours();case Ct.Minutes:return de.getMinutes();case Ct.Seconds:return de.getSeconds();case Ct.FractionalSeconds:return de.getMilliseconds();case Ct.Day:return de.getDay();default:throw new Error(`Unknown DateType value "${G}".`)}}(G,Vt);if(($>0||ge>-$)&&(ge+=$),G===Ct.Hours)0===ge&&-12===$&&(ge=12);else if(G===Ct.FractionalSeconds)return function(G,de){return xn(G,3).substr(0,de)}(ge,de);const tt=tr(oe,Dt.MinusSign);return xn(ge,de,tt,pe,at)}}function Fe(G,de,$=Xe.Format,pe=!1){return function(at,Vt){return function(G,de,$,pe,at,Vt){switch($){case Bt.Months:return function(G,de,$){const pe=(0,I.cg1)(G),Vt=qt([pe[I.wAp.MonthsFormat],pe[I.wAp.MonthsStandalone]],de);return qt(Vt,$)}(de,at,pe)[G.getMonth()];case Bt.Days:return function(G,de,$){const pe=(0,I.cg1)(G),Vt=qt([pe[I.wAp.DaysFormat],pe[I.wAp.DaysStandalone]],de);return qt(Vt,$)}(de,at,pe)[G.getDay()];case Bt.DayPeriods:const oe=G.getHours(),ge=G.getMinutes();if(Vt){const Et=function(G){const de=(0,I.cg1)(G);return Yn(de),(de[I.wAp.ExtraData][2]||[]).map(pe=>"string"==typeof pe?Qt(pe):[Qt(pe[0]),Qt(pe[1])])}(de),Jt=function(G,de,$){const pe=(0,I.cg1)(G);Yn(pe);const Vt=qt([pe[I.wAp.ExtraData][0],pe[I.wAp.ExtraData][1]],de)||[];return qt(Vt,$)||[]}(de,at,pe),sn=Et.findIndex(Pn=>{if(Array.isArray(Pn)){const[Un,Xr]=Pn,di=oe>=Un.hours&&ge>=Un.minutes,Cr=oe<Xr.hours||oe===Xr.hours&&ge<Xr.minutes;if(Un.hours<Xr.hours){if(di&&Cr)return!0}else if(di||Cr)return!0}else if(Pn.hours===oe&&Pn.minutes===ge)return!0;return!1});if(-1!==sn)return Jt[sn]}return function(G,de,$){const pe=(0,I.cg1)(G),Vt=qt([pe[I.wAp.DayPeriodsFormat],pe[I.wAp.DayPeriodsStandalone]],de);return qt(Vt,$)}(de,at,pe)[oe<12?0:1];case Bt.Eras:return function(G,de){return qt((0,I.cg1)(G)[I.wAp.Eras],de)}(de,pe)[G.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${$}`)}}(at,Vt,G,de,$,pe)}}function Oe(G){return function(de,$,pe){const at=-1*pe,Vt=tr($,Dt.MinusSign),oe=at>0?Math.floor(at/60):Math.ceil(at/60);switch(G){case yt.Short:return(at>=0?"+":"")+xn(oe,2,Vt)+xn(Math.abs(at%60),2,Vt);case yt.ShortGMT:return"GMT"+(at>=0?"+":"")+xn(oe,1,Vt);case yt.Long:return"GMT"+(at>=0?"+":"")+xn(oe,2,Vt)+":"+xn(Math.abs(at%60),2,Vt);case yt.Extended:return 0===pe?"Z":(at>=0?"+":"")+xn(oe,2,Vt)+":"+xn(Math.abs(at%60),2,Vt);default:throw new Error(`Unknown zone width "${G}"`)}}}function me(G){return ar(G.getFullYear(),G.getMonth(),G.getDate()+(4-G.getDay()))}function et(G,de=!1){return function($,pe){let at;if(de){const Vt=new Date($.getFullYear(),$.getMonth(),1).getDay()-1,oe=$.getDate();at=1+Math.floor((oe+Vt)/7)}else{const Vt=me($),oe=function(G){const de=ar(G,0,1).getDay();return ar(G,0,1+(de<=4?4:11)-de)}(Vt.getFullYear()),ge=Vt.getTime()-oe.getTime();at=1+Math.round(ge/6048e5)}return xn(at,G,tr(pe,Dt.MinusSign))}}function on(G,de=!1){return function($,pe){return xn(me($).getFullYear(),G,tr(pe,Dt.MinusSign),de)}}const wn={};function X(G,de){G=G.replace(/:/g,"");const $=Date.parse("Jan 01, 1970 00:00:00 "+G)/6e4;return isNaN($)?de:$}function Ft(G){return G instanceof Date&&!isNaN(G.valueOf())}class ct{}let Re=(()=>{class G extends ct{constructor($){super(),this.locale=$}getPluralCategory($,pe){switch(En(pe||this.locale)($)){case st.Zero:return"zero";case st.One:return"one";case st.Two:return"two";case st.Few:return"few";case st.Many:return"many";default:return"other"}}}return G.\u0275fac=function($){return new($||G)(I.LFG(I.soG))},G.\u0275prov=I.Yz7({token:G,factory:G.\u0275fac}),G})();function Pt(G,de){de=encodeURIComponent(de);for(const $ of G.split(";")){const pe=$.indexOf("="),[at,Vt]=-1==pe?[$,""]:[$.slice(0,pe),$.slice(pe+1)];if(at.trim()===de)return decodeURIComponent(Vt)}return null}let rr=(()=>{class G{constructor($,pe,at,Vt){this._iterableDiffers=$,this._keyValueDiffers=pe,this._ngEl=at,this._renderer=Vt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass($){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof $?$.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass($){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof $?$.split(/\s+/):$,this._rawClass&&((0,I.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const $=this._iterableDiffer.diff(this._rawClass);$&&this._applyIterableChanges($)}else if(this._keyValueDiffer){const $=this._keyValueDiffer.diff(this._rawClass);$&&this._applyKeyValueChanges($)}}_applyKeyValueChanges($){$.forEachAddedItem(pe=>this._toggleClass(pe.key,pe.currentValue)),$.forEachChangedItem(pe=>this._toggleClass(pe.key,pe.currentValue)),$.forEachRemovedItem(pe=>{pe.previousValue&&this._toggleClass(pe.key,!1)})}_applyIterableChanges($){$.forEachAddedItem(pe=>{if("string"!=typeof pe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,I.AaK)(pe.item)}`);this._toggleClass(pe.item,!0)}),$.forEachRemovedItem(pe=>this._toggleClass(pe.item,!1))}_applyClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(pe=>this._toggleClass(pe,!0)):Object.keys($).forEach(pe=>this._toggleClass(pe,!!$[pe])))}_removeClasses($){$&&(Array.isArray($)||$ instanceof Set?$.forEach(pe=>this._toggleClass(pe,!1)):Object.keys($).forEach(pe=>this._toggleClass(pe,!1)))}_toggleClass($,pe){($=$.trim())&&$.split(/\s+/g).forEach(at=>{pe?this._renderer.addClass(this._ngEl.nativeElement,at):this._renderer.removeClass(this._ngEl.nativeElement,at)})}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.ZZ4),I.Y36(I.aQg),I.Y36(I.SBq),I.Y36(I.Qsj))},G.\u0275dir=I.lG2({type:G,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),G})();class Yr{constructor(de,$,pe,at){this.$implicit=de,this.ngForOf=$,this.index=pe,this.count=at}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let li=(()=>{class G{constructor($,pe,at){this._viewContainer=$,this._template=pe,this._differs=at,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;if(!this._differ&&$)try{this._differ=this._differs.find($).create(this.ngForTrackBy)}catch(pe){throw new Error(`Cannot find a differ supporting object '${$}' of type '${function(G){return G.name||typeof G}($)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const pe=[];$.forEachOperation((at,Vt,oe)=>{if(null==at.previousIndex){const ge=this._viewContainer.createEmbeddedView(this._template,new Yr(null,this._ngForOf,-1,-1),null===oe?void 0:oe),tt=new fi(at,ge);pe.push(tt)}else if(null==oe)this._viewContainer.remove(null===Vt?void 0:Vt);else if(null!==Vt){const ge=this._viewContainer.get(Vt);this._viewContainer.move(ge,oe);const tt=new fi(at,ge);pe.push(tt)}});for(let at=0;at<pe.length;at++)this._perViewChange(pe[at].view,pe[at].record);for(let at=0,Vt=this._viewContainer.length;at<Vt;at++){const oe=this._viewContainer.get(at);oe.context.index=at,oe.context.count=Vt,oe.context.ngForOf=this._ngForOf}$.forEachIdentityChange(at=>{this._viewContainer.get(at.currentIndex).context.$implicit=at.item})}_perViewChange($,pe){$.context.$implicit=pe.item}static ngTemplateContextGuard($,pe){return!0}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(I.ZZ4))},G.\u0275dir=I.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),G})();class fi{constructor(de,$){this.record=de,this.view=$}}let ft=(()=>{class G{constructor($,pe){this._viewContainer=$,this._context=new Mt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pe}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Ht("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Ht("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,pe){return!0}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.s_b),I.Y36(I.Rgc))},G.\u0275dir=I.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),G})();class Mt{constructor(){this.$implicit=null,this.ngIf=null}}function Ht(G,de){if(de&&!de.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,I.AaK)(de)}'.`)}class yn{constructor(de,$){this._viewContainerRef=de,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(de){de&&!this._created?this.create():!de&&this._created&&this.destroy()}}let jn=(()=>{class G{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push($)}_matchCase($){const pe=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||pe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),pe}_updateDefaultCases($){if(this._defaultViews&&$!==this._defaultUsed){this._defaultUsed=$;for(let pe=0;pe<this._defaultViews.length;pe++)this._defaultViews[pe].enforceState($)}}}return G.\u0275fac=function($){return new($||G)},G.\u0275dir=I.lG2({type:G,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),G})(),wr=(()=>{class G{constructor($,pe,at){this.ngSwitch=at,at._addCase(),this._view=new yn($,pe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(jn,9))},G.\u0275dir=I.lG2({type:G,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),G})(),si=(()=>{class G{constructor($,pe,at){at._addDefault(new yn($,pe))}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(jn,9))},G.\u0275dir=I.lG2({type:G,selectors:[["","ngSwitchDefault",""]]}),G})(),ts=(()=>{class G{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges($){if($.ngTemplateOutlet){const pe=this._viewContainerRef;this._viewRef&&pe.remove(pe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?pe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.s_b))},G.\u0275dir=I.lG2({type:G,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[I.TTD]}),G})();function Wr(G,de){return Error(`InvalidPipeArgument: '${de}' for pipe '${(0,I.AaK)(G)}'`)}class zs{createSubscription(de,$){return de.subscribe({next:$,error:pe=>{throw pe}})}dispose(de){de.unsubscribe()}onDestroy(de){de.unsubscribe()}}class xi{createSubscription(de,$){return de.then($,pe=>{throw pe})}dispose(de){}onDestroy(de){}}const Bi=new xi,Ci=new zs;let Is=(()=>{class G{constructor($){this._ref=$,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,pe=>this._updateLatestValue($,pe))}_selectStrategy($){if((0,I.QGY)($))return Bi;if((0,I.F4k)($))return Ci;throw Wr(G,$)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,pe){$===this._obj&&(this._latestValue=pe,this._ref.markForCheck())}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.sBO,16))},G.\u0275pipe=I.Yjl({name:"async",type:G,pure:!1}),G})(),aa=(()=>{class G{constructor($){this.locale=$}transform($,pe="mediumDate",at,Vt){if(null==$||""===$||$!=$)return null;try{return Tn($,pe,Vt||this.locale,at)}catch(oe){throw Wr(G,oe.message)}}}return G.\u0275fac=function($){return new($||G)(I.Y36(I.soG,16))},G.\u0275pipe=I.Yjl({name:"date",type:G,pure:!0}),G})(),Ks=(()=>{class G{}return G.\u0275fac=function($){return new($||G)},G.\u0275mod=I.oAB({type:G}),G.\u0275inj=I.cJS({providers:[{provide:ct,useClass:Re}]}),G})();const io="browser";function Oo(G){return G===io}function xo(G){return"server"===G}let gs=(()=>{class G{}return G.\u0275prov=(0,I.Yz7)({token:G,providedIn:"root",factory:()=>new js((0,I.LFG)(xe),window)}),G})();class js{constructor(de,$){this.document=de,this.window=$,this.offset=()=>[0,0]}setOffset(de){this.offset=Array.isArray(de)?()=>de:de}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(de){this.supportsScrolling()&&this.window.scrollTo(de[0],de[1])}scrollToAnchor(de){if(!this.supportsScrolling())return;const $=function(G,de){const $=G.getElementById(de)||G.getElementsByName(de)[0];if($)return $;if("function"==typeof G.createTreeWalker&&G.body&&(G.body.createShadowRoot||G.body.attachShadow)){const pe=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let at=pe.currentNode;for(;at;){const Vt=at.shadowRoot;if(Vt){const oe=Vt.getElementById(de)||Vt.querySelector(`[name="${de}"]`);if(oe)return oe}at=pe.nextNode()}}return null}(this.document,de);$&&(this.scrollToElement($),this.attemptFocus($))}setHistoryScrollRestoration(de){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=de)}}scrollToElement(de){const $=de.getBoundingClientRect(),pe=$.left+this.window.pageXOffset,at=$.top+this.window.pageYOffset,Vt=this.offset();this.window.scrollTo(pe-Vt[0],at-Vt[1])}attemptFocus(de){return de.focus(),this.document.activeElement===de}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const de=Ho(this.window.history)||Ho(Object.getPrototypeOf(this.window.history));return!(!de||!de.writable&&!de.set)}catch(de){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(de){return!1}}}function Ho(G){return Object.getOwnPropertyDescriptor(G,"scrollRestoration")}class Vs{}},3018:(un,ht,U)=>{"use strict";U.d(ht,{deG:()=>da,tb:()=>Fw,AFp:()=>kw,ip1:()=>dE,CZH:()=>Zy,hGG:()=>KI,z2F:()=>av,sBO:()=>BT,Sil:()=>ov,_Vd:()=>Ny,EJc:()=>Vw,SBq:()=>gh,qLn:()=>sc,vpe:()=>mh,gxx:()=>nl,tBr:()=>Ns,XFs:()=>q,OlP:()=>ki,zs3:()=>Ss,ZZ4:()=>$v,aQg:()=>zv,soG:()=>rb,YKP:()=>w0,v3s:()=>AI,h0i:()=>Qg,PXZ:()=>wI,R0b:()=>zc,FiY:()=>Ka,Lbi:()=>Nw,g9A:()=>Pw,n_E:()=>iv,Qsj:()=>DT,FYo:()=>qv,JOm:()=>gl,Tiy:()=>Vb,q3G:()=>kr,tp0:()=>Oa,EAV:()=>RI,Rgc:()=>z_,dDg:()=>Hw,DyG:()=>tu,q4F:()=>Ub,GfV:()=>g0,s_b:()=>Yv,ifc:()=>Hn,eFA:()=>zw,G48:()=>gI,Gpc:()=>Ge,f3M:()=>ku,X6Q:()=>_E,_c5:()=>HI,VLi:()=>pI,c2e:()=>Lw,zSh:()=>uc,wAp:()=>P,vHH:()=>Ot,EiD:()=>If,mCW:()=>pa,qzn:()=>w,JVY:()=>le,pB0:()=>Kn,eBb:()=>kt,L6k:()=>Ae,LAX:()=>dn,cg1:()=>r,Tjo:()=>BI,kL8:()=>f,yhl:()=>L,dqk:()=>Fe,sIi:()=>Qd,CqO:()=>W,QGY:()=>S,F4k:()=>N,RDi:()=>$,AaK:()=>ve,z3N:()=>v,qOj:()=>ed,TTD:()=>Oo,_Bn:()=>u0,xp6:()=>Fl,uIk:()=>ap,Gre:()=>Pv,ekj:()=>hh,Suo:()=>uw,Xpm:()=>H,lG2:()=>Mr,Yz7:()=>Fn,cJS:()=>Wn,oAB:()=>Sn,Yjl:()=>mn,Y36:()=>uh,_UZ:()=>cf,GkF:()=>p,BQk:()=>u,ynx:()=>a,qZA:()=>qg,TgZ:()=>lf,EpF:()=>_,n5z:()=>Rt,Ikx:()=>B_,LFG:()=>Cs,$8M:()=>en,NdJ:()=>te,CRH:()=>dw,oxw:()=>Gt,ALo:()=>rw,lcZ:()=>iw,xi3:()=>sw,Hsn:()=>Mn,F$t:()=>gn,Q6J:()=>Hg,MGl:()=>In,DdM:()=>Y0,VKq:()=>Q0,iGM:()=>lw,MAs:()=>kg,CHM:()=>re,LSH:()=>rc,kYT:()=>Rn,Udp:()=>M_,WFA:()=>ue,d8E:()=>j_,YNc:()=>hi,W1O:()=>gw,_uU:()=>kv,Oqu:()=>xy,hij:()=>Kg,AsE:()=>id,lnq:()=>Tl,Gf:()=>cw});var I=U(9765),o=U(5319),Q=U(7574),Ve=U(6682),Ne=U(2441);var Ee=U(1307);function ye(){return new I.xQ}function ae(t){for(let n in t)if(t[n]===ae)return n;throw Error("Could not find renamed property on target object.")}function Te(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function ve(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ve).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Be(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const $e=ae({__forward_ref__:ae});function Ge(t){return t.__forward_ref__=Ge,t.toString=function(){return ve(this())},t}function ce(t){return wt(t)?t():t}function wt(t){return"function"==typeof t&&t.hasOwnProperty($e)&&t.__forward_ref__===Ge}class Ot extends Error{constructor(n,i){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,i)),this.code=n}}function rt(t){return"string"==typeof t?t:null==t?"":String(t)}function Qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rt(t)}function st(t,n){const i=n?` in ${n}`:"";throw new Ot("201",`No provider for ${Qe(t)} found${i}`)}function hn(t,n){null==t&&function(t,n,i,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${i} ${c} ${n} <=Actual]`))}(n,t,null,"!=")}function Fn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function En(t){return Yn(t,qt)||Yn(t,Se)}function Yn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Rr(t){return t&&(t.hasOwnProperty(Qt)||t.hasOwnProperty(ke))?t[Qt]:null}const qt=ae({\u0275prov:ae}),Qt=ae({\u0275inj:ae}),Se=ae({ngInjectableDef:ae}),ke=ae({ngInjectorDef:ae});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let he;function pt(t){const n=he;return he=t,n}function yt(t,n,i){const c=En(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&q.Optional?null:void 0!==n?n:void st(ve(t),"Injector")}function Bt(t){return{toString:t}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),Hn=(()=>((Hn=Hn||{})[Hn.Emulated=0]="Emulated",Hn[Hn.None=2]="None",Hn[Hn.ShadowDom=3]="ShadowDom",Hn))();const xn="undefined"!=typeof globalThis&&globalThis,Er="undefined"!=typeof window&&window,Zn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fe=xn||"undefined"!=typeof global&&global||Er||Zn,ze={},ne=[],Me=ae({\u0275cmp:ae}),me=ae({\u0275dir:ae}),et=ae({\u0275pipe:ae}),on=ae({\u0275mod:ae}),wn=ae({\u0275loc:ae}),gt=ae({\u0275fac:ae}),X=ae({__NG_ELEMENT_ID__:ae});let z=0;function H(t){return Bt(()=>{const i={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ne,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,id:"c",styles:t.styles||ne,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.directives,g=t.features,b=t.pipes;return c.id+=z++,c.inputs=gr(t.inputs,i),c.outputs=gr(t.outputs),g&&g.forEach(T=>T(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Ue):null,c.pipeDefs=b?()=>("function"==typeof b?b():b).map(Ft):null,c})}function Ue(t){return lr(t)||function(t){return t[me]||null}(t)}function Ft(t){return function(t){return t[et]||null}(t)}const rn={};function Sn(t){return Bt(()=>{const n={type:t.type,bootstrap:t.bootstrap||ne,declarations:t.declarations||ne,imports:t.imports||ne,exports:t.exports||ne,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(rn[t.id]=t.type),n})}function Rn(t,n){return Bt(()=>{const i=Ur(t,!0);i.declarations=n.declarations||ne,i.imports=n.imports||ne,i.exports=n.exports||ne})}function gr(t,n){if(null==t)return ze;const i={};for(const c in t)if(t.hasOwnProperty(c)){let h=t[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),i[h]=c,n&&(n[h]=g)}return i}const Mr=H;function mn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function lr(t){return t[Me]||null}function Ur(t,n){const i=t[on]||null;if(!i&&!0===n)throw new Error(`Type ${ve(t)} does not have '\u0275mod' property.`);return i}function gi(t){return Array.isArray(t)&&"object"==typeof t[1]}function Wr(t){return Array.isArray(t)&&!0===t[1]}function zs(t){return 0!=(8&t.flags)}function xi(t){return 2==(2&t.flags)}function Bi(t){return 1==(1&t.flags)}function Ci(t){return null!==t.template}function Is(t){return 0!=(512&t[2])}function ji(t,n){return t.hasOwnProperty(gt)?t[gt]:null}class Mo{constructor(n,i,c){this.previousValue=n,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function Oo(){return xo}function xo(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ys),us}function us(){const t=gs(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===ze)t.previous=n;else for(let c in n)i[c]=n[c];t.current=null,this.ngOnChanges(n)}}function Ys(t,n,i,c){const h=gs(t)||function(t,n){return t[Hi]=n}(t,{previous:ze,current:null}),g=h.current||(h.current={}),b=h.previous,T=this.declaredInputs[i],k=b[T];g[T]=new Mo(k&&k.currentValue,n,b===ze),t[c]=n}Oo.ngInherit=!0;const Hi="__ngSimpleChanges__";function gs(t){return t[Hi]||null}let de;function $(t){de=t}function Vt(t){return!!t.listen}const ge={createRenderer:(t,n)=>void 0!==de?de:"undefined"!=typeof document?document:void 0};function Et(t){for(;Array.isArray(t);)t=t[0];return t}function Pn(t,n){return Et(n[t])}function Un(t,n){return Et(n[t.index])}function di(t,n){return t.data[n]}function Cr(t,n){return t[n]}function $n(t,n){const i=n[t];return gi(i)?i:i[0]}function Di(t){return 4==(4&t[2])}function ds(t){return 128==(128&t[2])}function rs(t,n){return null==n?null:t[n]}function so(t){t[18]=0}function Ea(t,n){t[5]+=n;let i=t,c=t[3];for(;null!==c&&(1===n&&1===i[5]||-1===n&&0===i[5]);)c[5]+=n,i=c,c=c[3]}const mr={lFrame:Ca(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wa(){return mr.bindingsEnabled}function ln(){return mr.lFrame.lView}function Lr(){return mr.lFrame.tView}function re(t){return mr.lFrame.contextLView=t,t[8]}function C(){let t=A();for(;null!==t&&64===t.type;)t=t.parent;return t}function A(){return mr.lFrame.currentTNode}function ie(t,n){const i=mr.lFrame;i.currentTNode=t,i.isParent=n}function we(){return mr.lFrame.isParent}function We(){mr.lFrame.isParent=!1}function Kt(){return mr.isInCheckNoChangesMode}function Cn(t){mr.isInCheckNoChangesMode=t}function Ln(){const t=mr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ir(){return mr.lFrame.bindingIndex}function cr(){return mr.lFrame.bindingIndex++}function pr(t){const n=mr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Si(t,n){const i=mr.lFrame;i.bindingIndex=i.bindingRootIndex=t,Or(n)}function Or(t){mr.lFrame.currentDirectiveIndex=t}function oo(t){const n=mr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function vs(){return mr.lFrame.currentQueryIndex}function Fi(t){mr.lFrame.currentQueryIndex=t}function Qs(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function ao(t,n,i){if(i&q.SkipSelf){let h=n,g=t;for(;!(h=h.parent,null!==h||i&q.Host||(h=Qs(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;n=h,t=g}const c=mr.lFrame=Ua();return c.currentTNode=n,c.lView=t,!0}function bs(t){const n=Ua(),i=t[1];mr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Ua(){const t=mr.lFrame,n=null===t?null:t.child;return null===n?Ca(t):n}function Ca(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Go(){const t=mr.lFrame;return mr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ba=Go;function ja(){const t=Go();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ur(){return mr.lFrame.selectedIndex}function qr(t){mr.lFrame.selectedIndex=t}function Nr(){const t=mr.lFrame;return di(t.tView,t.selectedIndex)}function qo(t,n){for(let i=n.directiveStart,c=n.directiveEnd;i<c;i++){const g=t.data[i].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:k,ngAfterViewChecked:j,ngOnDestroy:J}=g;b&&(t.contentHooks||(t.contentHooks=[])).push(-i,b),T&&((t.contentHooks||(t.contentHooks=[])).push(i,T),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,T)),k&&(t.viewHooks||(t.viewHooks=[])).push(-i,k),j&&((t.viewHooks||(t.viewHooks=[])).push(i,j),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,j)),null!=J&&(t.destroyHooks||(t.destroyHooks=[])).push(i,J)}}function lo(t,n,i){Zi(t,n,3,i)}function co(t,n,i,c){(3&t[2])===i&&Zi(t,n,i,c)}function Ta(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function Zi(t,n,i,c){const g=null!=c?c:-1,b=n.length-1;let T=0;for(let k=void 0!==c?65535&t[18]:0;k<b;k++)if("number"==typeof n[k+1]){if(T=n[k],null!=c&&T>=c)break}else n[k]<0&&(t[18]+=65536),(T<g||-1==g)&&(Rs(t,i,n,k),t[18]=(4294901760&t[18])+k+2),k++}function Rs(t,n,i,c){const h=i[c]<0,g=i[c+1],T=t[h?-i[c]:i[c]];if(h){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}class Gi{constructor(n,i,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=c}}function Da(t,n,i){const c=Vt(t);let h=0;for(;h<i.length;){const g=i[h];if("number"==typeof g){if(0!==g)break;h++;const b=i[h++],T=i[h++],k=i[h++];c?t.setAttribute(n,T,k,b):n.setAttributeNS(b,T,k)}else{const b=g,T=i[++h];ol(b)?c&&t.setProperty(n,b,T):c?t.setAttribute(n,b,T):n.setAttribute(b,T),h++}}return h}function is(t){return 3===t||4===t||6===t}function ol(t){return 64===t.charCodeAt(0)}function Yi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?i=h:0===i||vo(t,i,h,null,-1===i||2===i?n[++c]:null)}}return t}function vo(t,n,i,c,h){let g=0,b=t.length;if(-1===n)b=-1;else for(;g<t.length;){const T=t[g++];if("number"==typeof T){if(T===n){b=-1;break}if(T>n){b=g-1;break}}}for(;g<t.length;){const T=t[g];if("number"==typeof T)break;if(T===i){if(null===c)return void(null!==h&&(t[g+1]=h));if(c===t[g+1])return void(t[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==b&&(t.splice(b,0,n),g=b+1),t.splice(g++,0,i),null!==c&&t.splice(g++,0,c),null!==h&&t.splice(g++,0,h)}function bo(t){return-1!==t}function Ha(t){return 32767&t}function pn(t,n){let i=function(t){return t>>16}(t),c=n;for(;i>0;)c=c[15],i--;return c}let Ii=!0;function ks(t){const n=Ii;return Ii=t,n}let Kc=0;function $t(t,n){const i=Qi(t,n);if(-1!==i)return i;const c=n[1];c.firstCreatePass&&(t.injectorIndex=n.length,nn(c.data,t),nn(n,null),nn(c.blueprint,null));const h=Za(t,n),g=t.injectorIndex;if(bo(h)){const b=Ha(h),T=pn(h,n),k=T[1].data;for(let j=0;j<8;j++)n[g+j]=T[b+j]|k[b+j]}return n[g+8]=h,g}function nn(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Qi(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Za(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,c=null,h=n;for(;null!==h;){const g=h[1],b=g.type;if(c=2===b?g.declTNode:1===b?h[6]:null,null===c)return-1;if(i++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return-1}function al(t,n,i){!function(t,n,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(X)&&(c=i[X]),null==c&&(c=i[X]=Kc++);const h=255&c;n.data[t+(h>>5)]|=1<<h}(t,n,i)}function Qc(t,n,i){if(i&q.Optional)return t;st(n,"NodeInjector")}function V(t,n,i,c){if(i&q.Optional&&void 0===c&&(c=null),0==(i&(q.Self|q.Host))){const h=t[9],g=pt(void 0);try{return h?h.get(n,c,i&q.Optional):yt(n,c,i&q.Optional)}finally{pt(g)}}return Qc(c,n,i)}function x(t,n,i,c=q.Default,h){if(null!==t){const g=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof n?n>=0?255&n:Z:n}(i);if("function"==typeof g){if(!ao(n,t,c))return c&q.Host?Qc(h,i,c):V(n,i,c,h);try{const b=g(c);if(null!=b||c&q.Optional)return b;st(i)}finally{Ba()}}else if("number"==typeof g){let b=null,T=Qi(t,n),k=-1,j=c&q.Host?n[16][6]:null;for((-1===T||c&q.SkipSelf)&&(k=-1===T?Za(t,n):n[T+8],-1!==k&&Ce(c,!1)?(b=n[1],T=Ha(k),n=pn(k,n)):T=-1);-1!==T;){const J=n[1];if(F(g,T,J.data)){const be=Y(T,n,i,b,c,j);if(be!==O)return be}k=n[T+8],-1!==k&&Ce(c,n[1].data[T+8]===j)&&F(g,T,n)?(b=J,T=Ha(k),n=pn(k,n)):T=-1}}}return V(n,i,c,h)}const O={};function Z(){return new mt(C(),ln())}function Y(t,n,i,c,h,g){const b=n[1],T=b.data[t+8],J=E(T,b,i,null==c?xi(T)&&Ii:c!=b&&0!=(3&T.type),h&q.Host&&g===T);return null!==J?M(n,b,J,T):O}function E(t,n,i,c,h){const g=t.providerIndexes,b=n.data,T=1048575&g,k=t.directiveStart,J=g>>20,Ie=h?T+J:t.directiveEnd;for(let ot=c?T:T+J;ot<Ie;ot++){const vt=b[ot];if(ot<k&&i===vt||ot>=k&&vt.type===i)return ot}if(h){const ot=b[k];if(ot&&Ci(ot)&&ot.type===i)return k}return null}function M(t,n,i,c){let h=t[i];const g=n.data;if(function(t){return t instanceof Gi}(h)){const b=h;b.resolving&&function(t,n){throw new Ot("200",`Circular dependency in DI detected for ${t}`)}(Qe(g[i]));const T=ks(b.canSeeViewProviders);b.resolving=!0;const k=b.injectImpl?pt(b.injectImpl):null;ao(t,c,q.Default);try{h=t[i]=b.factory(void 0,g,t,c),n.firstCreatePass&&i>=c.directiveStart&&function(t,n,i){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=n.type.prototype;if(c){const b=xo(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,b),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,b)}h&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,h),g&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,g),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,g))}(i,g[i],n)}finally{null!==k&&pt(k),ks(T),b.resolving=!1,Ba()}}return h}function F(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function Ce(t,n){return!(t&q.Self||t&q.Host&&n)}class mt{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,c){return x(this._tNode,this._lView,n,c,i)}}function Rt(t){return Bt(()=>{const n=t.prototype.constructor,i=n[gt]||qn(n),c=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==c;){const g=h[gt]||qn(h);if(g&&g!==i)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function qn(t){return wt(t)?()=>{const n=qn(ce(t));return n&&n()}:ji(t)}function en(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const c=i.length;let h=0;for(;h<c;){const g=i[h];if(is(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof i[h];)h++;else{if(g===n)return i[h+1];h+=2}}}return null}(C(),t)}const Ar="__parameters__";function Li(t,n,i){return Bt(()=>{const c=function(t){return function(...i){if(t){const c=t(...i);for(const h in c)this[h]=c[h]}}}(n);function h(...g){if(this instanceof h)return c.apply(this,g),this;const b=new h(...g);return T.annotation=b,T;function T(k,j,J){const be=k.hasOwnProperty(Ar)?k[Ar]:Object.defineProperty(k,Ar,{value:[]})[Ar];for(;be.length<=J;)be.push(null);return(be[J]=be[J]||[]).push(b),k}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}class ki{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Fn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const da=new ki("AnalyzeForEntryComponents"),tu=Function;function os(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let c=t[i];Array.isArray(c)?(n===t&&(n=t.slice(0,i)),os(c,n)):n!==t&&n.push(c)}return n}function qa(t,n){t.forEach(i=>Array.isArray(i)?qa(i,n):n(i))}function Aa(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Kl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function _i(t,n){const i=[];for(let c=0;c<t;c++)i.push(n);return i}function ha(t,n,i){let c=cl(t,n);return c>=0?t[1|c]=i:(c=~c,function(t,n,i,c){let h=t.length;if(h==n)t.push(i,c);else if(1===h)t.push(c,t[0]),t[0]=i;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=i,t[n+1]=c}}(t,c,n,i)),c}function fs(t,n){const i=cl(t,n);if(i>=0)return t[1|i]}function cl(t,n){return function(t,n,i){let c=0,h=t.length>>i;for(;h!==c;){const g=c+(h-c>>1),b=t[g<<i];if(n===b)return g<<i;b>n?h=g:c=g+1}return~(h<<i)}(t,n,1)}const Ma={},Xl="__NG_DI_FLAG__",Wo="ngTempTokenPath",ec=/\n/gm,xu="__source",yc=ae({provide:String,useValue:ae});let Wa;function xl(t){const n=Wa;return Wa=t,n}function iu(t,n=q.Default){if(void 0===Wa)throw new Error("inject() must be called from an injection context");return null===Wa?yt(t,void 0,n):Wa.get(t,n&q.Optional?null:void 0,n)}function Cs(t,n=q.Default){return(he||iu)(ce(t),n)}const ku=Cs;function ra(t){const n=[];for(let i=0;i<t.length;i++){const c=ce(t[i]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,g=q.Default;for(let b=0;b<c.length;b++){const T=c[b],k=nm(T);"number"==typeof k?-1===k?h=T.token:g|=k:h=T}n.push(Cs(h,g))}else n.push(Cs(c))}return n}function su(t,n){return t[Xl]=n,t.prototype[Xl]=n,t}function nm(t){return t[Xl]}function bf(t,n,i,c){const h=t[Wo];throw n[xu]&&h.unshift(n[xu]),t.message=function(t,n,i,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let h=ve(n);if(Array.isArray(n))h=n.map(ve).join(" -> ");else if("object"==typeof n){let g=[];for(let b in n)if(n.hasOwnProperty(b)){let T=n[b];g.push(b+":"+("string"==typeof T?JSON.stringify(T):ve(T)))}h=`{${g.join(", ")}}`}return`${i}${c?"("+c+")":""}[${h}]: ${t.replace(ec,"\n  ")}`}("\n"+t.message,h,i,c),t.ngTokenPath=h,t[Wo]=null,t}const Ns=su(Li("Inject",t=>({token:t})),-1),Ka=su(Li("Optional"),8),Oa=su(Li("SkipSelf"),4);let Ya;function vc(t){var n;return(null===(n=function(){if(void 0===Ya&&(Ya=null,Fe.trustedTypes))try{Ya=Fe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Ya}())||void 0===n?void 0:n.createHTML(t))||t}class Ja{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bc extends Ja{getTypeName(){return"HTML"}}class sa extends Ja{getTypeName(){return"Style"}}class ou extends Ja{getTypeName(){return"Script"}}class au extends Ja{getTypeName(){return"URL"}}class R extends Ja{getTypeName(){return"ResourceURL"}}function v(t){return t instanceof Ja?t.changingThisBreaksApplicationSecurity:t}function w(t,n){const i=L(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function L(t){return t instanceof Ja&&t.getTypeName()||null}function le(t){return new bc(t)}function Ae(t){return new sa(t)}function kt(t){return new ou(t)}function dn(t){return new au(t)}function Kn(t){return new R(t)}class Qr{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(vc(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class Ji{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const c=this.inertDocument.createElement("body");i.appendChild(c)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=vc(n),i;const c=this.inertDocument.createElement("body");return c.innerHTML=vc(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(n){const i=n.attributes;for(let h=i.length-1;0<h;h--){const b=i.item(h).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&n.removeAttribute(b)}let c=n.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const fa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pa(t){return(t=String(t)).match(fa)||t.match(Tf)?t:"unsafe:"+t}function Po(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Xa(...t){const n={};for(const i of t)for(const c in i)i.hasOwnProperty(c)&&(n[c]=!0);return n}const _d=Po("area,br,col,hr,img,wbr"),Ec=Po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ch=Po("rp,rt"),wc=Xa(_d,Xa(Ec,Po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xa(Ch,Po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xa(Ch,Ec)),Df=Po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Op=Po("srcset"),xp=Xa(Df,Op,Po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kl=Po("script,style,template");class Cc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,c=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let h=this.checkClobberedElement(i,i.nextSibling);if(h){i=h;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!wc.hasOwnProperty(i))return this.sanitizedSomething=!0,!kl.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=n.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),b=g.name,T=b.toLowerCase();if(!xp.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let k=g.value;Df[T]&&(k=pa(k)),Op[T]&&(t=k,k=(t=String(t)).split(",").map(n=>pa(n.trim())).join(", ")),this.buf.push(" ",b,'="',Rp(k),'"')}var t;return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();wc.hasOwnProperty(i)&&!_d.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Rp(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const sm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,om=/([^\#-~ |!])/g;function Rp(t){return t.replace(/&/g,"&amp;").replace(sm,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(om,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tc;function If(t,n){let i=null;try{Tc=Tc||function(t){const n=new Ji(t);return function(){try{return!!(new window.DOMParser).parseFromString(vc(""),"text/html")}catch(t){return!1}}()?new Qr(n):n}(t);let c=n?String(n):"";i=Tc.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=i.innerHTML,i=Tc.getInertBodyElement(c)}while(c!==g);return vc((new Cc).sanitizeChildren(kp(i)||i))}finally{if(i){const c=kp(i)||i;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function kp(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var kr=(()=>((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr))();function rc(t){const n=function(){const t=ln();return t&&t[12]}();return n?n.sanitize(kr.URL,t)||"":w(t,"URL")?v(t):pa(rt(t))}const Ih="__ngContext__";function po(t,n){t[Ih]=n}function Lu(t){const n=function(t){return t[Ih]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function el(t){return t.ngOriginalError}function _m(t,...n){t.error(...n)}class sc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),c=this._findContext(n),h=(t=n)&&t.ngErrorLogger||_m;var t;h(this._console,"ERROR",n),i&&h(this._console,"ORIGINAL ERROR",i),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(n){return n?n.ngDebugContext||this._findContext(el(n)):null}_findOriginalError(n){let i=n&&el(n);for(;i&&el(i);)i=el(i);return i||null}}const Ed=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Fe))();function Pl(t){return t instanceof Function?t():t}var gl=(()=>((gl=gl||{})[gl.Important=1]="Important",gl[gl.DashCase=2]="DashCase",gl))();function ml(t,n){return undefined(t,n)}function xh(t){const n=t[3];return Wr(n)?n[3]:n}function Rh(t){return Tm(t[13])}function Cd(t){return Tm(t[4])}function Tm(t){for(;null!==t&&!Wr(t);)t=t[4];return t}function Vu(t,n,i,c,h){if(null!=c){let g,b=!1;Wr(c)?g=c:gi(c)&&(b=!0,c=c[0]);const T=Et(c);0===t&&null!==i?null==h?Nh(n,i,T):oa(n,i,T,h||null,!0):1===t&&null!==i?oa(n,i,T,h||null,!0):2===t?function(t,n,i){const c=Sc(t,n);c&&function(t,n,i,c){Vt(t)?t.removeChild(n,i,c):n.removeChild(i)}(t,c,n,i)}(n,T,b):3===t&&n.destroyNode(T),null!=g&&function(t,n,i,c,h){const g=i[7];g!==Et(i)&&Vu(n,t,c,g,h);for(let T=10;T<i.length;T++){const k=i[T];cu(k[1],k,t,n,c,g)}}(n,t,g,i,h)}}function Bp(t,n,i){return Vt(t)?t.createElement(n,i):null===i?t.createElement(n):t.createElementNS(i,n)}function Mm(t,n){const i=t[9],c=i.indexOf(n),h=n[3];1024&n[2]&&(n[2]&=-1025,Ea(h,-1)),i.splice(c,1)}function xf(t,n){if(t.length<=10)return;const i=10+n,c=t[i];if(c){const h=c[17];null!==h&&h!==t&&Mm(h,c),n>0&&(t[i-1][4]=c[4]);const g=Kl(t,10+n);!function(t,n){cu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(c[1],c);const b=g[19];null!==b&&b.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Om(t,n){if(!(256&n[2])){const i=n[11];Vt(i)&&i.destroyNode&&cu(t,n,i,3,null,null),function(t){let n=t[13];if(!n)return kh(t[1],t);for(;n;){let i=null;if(gi(n))i=n[13];else{const c=n[10];c&&(i=c)}if(!i){for(;n&&!n[4]&&n!==t;)gi(n)&&kh(n[1],n),n=n[3];null===n&&(n=t),gi(n)&&kh(n[1],n),i=n&&n[4]}n=i}}(n)}}function kh(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let c=0;c<i.length;c+=2){const h=n[i[c]];if(!(h instanceof Gi)){const g=i[c+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const T=h[g[b]],k=g[b+1];try{k.call(T)}finally{}}else try{g.call(h)}finally{}}}}(t,n),function(t,n){const i=t.cleanup,c=n[7];let h=-1;if(null!==i)for(let g=0;g<i.length-1;g+=2)if("string"==typeof i[g]){const b=i[g+1],T="function"==typeof b?b(n):Et(n[b]),k=c[h=i[g+2]],j=i[g+3];"boolean"==typeof j?T.removeEventListener(i[g],k,j):j>=0?c[h=j]():c[h=-j].unsubscribe(),g+=2}else{const b=c[h=i[g+1]];i[g].call(b)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();n[7]=null}}(t,n),1===n[1].type&&Vt(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&Wr(n[3])){i!==n[3]&&Mm(i,n);const c=n[19];null!==c&&c.detachView(t)}}}function Ph(t,n,i){return function(t,n,i){let c=n;for(;null!==c&&40&c.type;)c=(n=c).parent;if(null===c)return i[0];if(2&c.flags){const h=t.data[c.directiveStart].encapsulation;if(h===Hn.None||h===Hn.Emulated)return null}return Un(c,i)}(t,n.parent,i)}function oa(t,n,i,c,h){Vt(t)?t.insertBefore(n,i,c,h):n.insertBefore(i,c,h)}function Nh(t,n,i){Vt(t)?t.appendChild(n,i):n.appendChild(i)}function kf(t,n,i,c,h){null!==c?oa(t,n,i,c,h):Nh(t,n,i)}function Sc(t,n){return Vt(t)?t.parentNode(n):n.parentNode}function Nl(t,n,i){return Sd(t,n,i)}let Sd=function(t,n,i){return 40&t.type?Un(t,i):null};function Bu(t,n,i,c){const h=Ph(t,c,n),g=n[11],T=Nl(c.parent||n[6],c,n);if(null!=h)if(Array.isArray(i))for(let k=0;k<i.length;k++)kf(g,h,i[k],T,!1);else kf(g,h,i,T,!1)}function ju(t,n){if(null!==n){const i=n.type;if(3&i)return Un(n,t);if(4&i)return Pf(-1,t[n.index]);if(8&i){const c=n.child;if(null!==c)return ju(t,c);{const h=t[n.index];return Wr(h)?Pf(-1,h):Et(h)}}if(32&i)return ml(n,t)()||Et(t[n.index]);{const c=Hp(t,n);return null!==c?Array.isArray(c)?c[0]:ju(xh(t[16]),c):ju(t,n.next)}}return null}function Hp(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Pf(t,n){const i=10+t+1;if(i<n.length){const c=n[i],h=c[1].firstChild;if(null!==h)return ju(c,h)}return n[7]}function Nf(t,n,i,c,h,g,b){for(;null!=i;){const T=c[i.index],k=i.type;if(b&&0===n&&(T&&po(Et(T),c),i.flags|=4),64!=(64&i.flags))if(8&k)Nf(t,n,i.child,c,h,g,!1),Vu(n,t,h,T,g);else if(32&k){const j=ml(i,c);let J;for(;J=j();)Vu(n,t,h,J,g);Vu(n,t,h,T,g)}else 16&k?uu(t,n,c,i,h,g):Vu(n,t,h,T,g);i=b?i.projectionNext:i.next}}function cu(t,n,i,c,h,g){Nf(i,c,t.firstChild,n,h,g,!1)}function uu(t,n,i,c,h,g){const b=i[16],k=b[6].projection[c.projection];if(Array.isArray(k))for(let j=0;j<k.length;j++)Vu(n,t,h,k[j],g);else Nf(t,n,k,b[3],h,g,!0)}function Lh(t,n,i){Vt(t)?t.setAttribute(n,"style",i):n.style.cssText=i}function Vh(t,n,i){Vt(t)?""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i):n.className=i}function Hu(t,n,i){let c=t.length;for(;;){const h=t.indexOf(n,i);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const g=n.length;if(h+g===c||t.charCodeAt(h+g)<=32)return h}i=h+1}}const du="ng-template";function Zu(t,n,i){let c=0;for(;c<t.length;){let h=t[c++];if(i&&"class"===h){if(h=t[c],-1!==Hu(h.toLowerCase(),n,0))return!0}else if(1===h){for(;c<t.length&&"string"==typeof(h=t[c++]);)if(h.toLowerCase()===n)return!0;return!1}}return!1}function Zp(t){return 4===t.type&&t.value!==du}function i_(t,n,i){return n===(4!==t.type||i?t.value:du)}function s_(t,n,i){let c=4;const h=t.attrs||[],g=function(t){for(let n=0;n<t.length;n++)if(is(t[n]))return n;return t.length}(h);let b=!1;for(let T=0;T<n.length;T++){const k=n[T];if("number"!=typeof k){if(!b)if(4&c){if(c=2|1&c,""!==k&&!i_(t,k,i)||""===k&&1===n.length){if(tl(c))return!1;b=!0}}else{const j=8&c?k:n[++T];if(8&c&&null!==t.attrs){if(!Zu(t.attrs,j,i)){if(tl(c))return!1;b=!0}continue}const be=Ff(8&c?"class":k,h,Zp(t),i);if(-1===be){if(tl(c))return!1;b=!0;continue}if(""!==j){let Ie;Ie=be>g?"":h[be+1].toLowerCase();const ot=8&c?Ie:null;if(ot&&-1!==Hu(ot,j,0)||2&c&&j!==Ie){if(tl(c))return!1;b=!0}}}}else{if(!b&&!tl(c)&&!tl(k))return!1;if(b&&tl(k))continue;b=!1,c=k|1&c}}return tl(c)||b}function tl(t){return 0==(1&t)}function Ff(t,n,i,c){if(null===n)return-1;let h=0;if(c||!i){let g=!1;for(;h<n.length;){const b=n[h];if(b===t)return h;if(3===b||6===b)g=!0;else{if(1===b||2===b){let T=n[++h];for(;"string"==typeof T;)T=n[++h];continue}if(4===b)break;if(0===b){h+=4;continue}}h+=g?1:2}return-1}return function(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const c=t[i];if("number"==typeof c)return-1;if(c===n)return i;i++}return-1}(n,t)}function km(t,n,i=!1){for(let c=0;c<n.length;c++)if(s_(t,n[c],i))return!0;return!1}function Bh(t,n){e:for(let i=0;i<n.length;i++){const c=n[i];if(t.length===c.length){for(let h=0;h<t.length;h++)if(t[h]!==c[h])continue e;return!0}}return!1}function Gp(t,n){return t?":not("+n.trim()+")":n}function Lf(t){let n=t[0],i=1,c=2,h="",g=!1;for(;i<t.length;){let b=t[i];if("string"==typeof b)if(2&c){const T=t[++i];h+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?h+="."+b:4&c&&(h+=" "+b);else""!==h&&!tl(b)&&(n+=Gp(g,h),h=""),c=b,g=g||!tl(c);i++}return""!==h&&(n+=Gp(g,h)),n}const Br={};function Fl(t){jh(Lr(),ln(),ur()+t,Kt())}function jh(t,n,i,c){if(!c)if(3==(3&n[2])){const g=t.preOrderCheckHooks;null!==g&&lo(n,g,i)}else{const g=t.preOrderHooks;null!==g&&co(n,g,0,i)}qr(i)}function wo(t,n){return t<<17|n<<2}function Yo(t){return t>>17&32767}function Hh(t){return 2|t}function Qo(t){return(131068&t)>>2}function Zh(t,n){return-131069&t|n<<2}function Ad(t){return 1|t}function Zm(t,n){const i=t.contentQueries;if(null!==i)for(let c=0;c<i.length;c+=2){const h=i[c],g=i[c+1];if(-1!==g){const b=t.data[g];Fi(h),b.contentQueries(2,n[g],g)}}}function Rc(t,n,i,c,h,g,b,T,k,j){const J=n.blueprint.slice();return J[0]=h,J[2]=140|c,so(J),J[3]=J[15]=t,J[8]=i,J[10]=b||t&&t[10],J[11]=T||t&&t[11],J[12]=k||t&&t[12]||null,J[9]=j||t&&t[9]||null,J[6]=g,J[16]=2==n.type?t[16]:J,J}function vl(t,n,i,c,h){let g=t.data[n];if(null===g)g=function(t,n,i,c,h){const g=A(),b=we(),k=t.data[n]=function(t,n,i,c,h,g){return{type:i,index:c,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,i,n,c,h);return null===t.firstChild&&(t.firstChild=k),null!==g&&(b?null==g.child&&null!==k.parent&&(g.child=k):null===g.next&&(g.next=k)),k}(t,n,i,c,h),mr.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=i,g.value=c,g.attrs=h;const b=function(){const t=mr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return ie(g,!0),g}function kc(t,n,i,c){if(0===i)return-1;const h=n.length;for(let g=0;g<i;g++)n.push(c),t.blueprint.push(c),t.data.push(null);return h}function Nd(t,n,i){bs(n);try{const c=t.viewQuery;null!==c&&Yh(1,c,i);const h=t.template;null!==h&&$m(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zm(t,n),t.staticViewQueries&&Yh(2,t.viewQuery,i);const g=t.components;null!==g&&function(t,n){for(let i=0;i<n.length;i++)Kh(t,n[i])}(n,g)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[2]&=-5,ja()}}function pu(t,n,i,c){const h=n[2];if(256==(256&h))return;bs(n);const g=Kt();try{so(n),function(t){mr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&$m(t,n,i,2,c);const b=3==(3&h);if(!g)if(b){const j=t.preOrderCheckHooks;null!==j&&lo(n,j,null)}else{const j=t.preOrderHooks;null!==j&&co(n,j,0,null),Ta(n,0)}if(function(t){for(let n=Rh(t);null!==n;n=Cd(n)){if(!n[2])continue;const i=n[9];for(let c=0;c<i.length;c++){const h=i[c],g=h[3];0==(1024&h[2])&&Ea(g,1),h[2]|=1024}}}(n),function(t){for(let n=Rh(t);null!==n;n=Cd(n))for(let i=10;i<n.length;i++){const c=n[i],h=c[1];ds(c)&&pu(h,c,h.template,c[8])}}(n),null!==t.contentQueries&&Zm(t,n),!g)if(b){const j=t.contentCheckHooks;null!==j&&lo(n,j)}else{const j=t.contentHooks;null!==j&&co(n,j,1),Ta(n,1)}!function(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let c=0;c<i.length;c++){const h=i[c];if(h<0)qr(~h);else{const g=h,b=i[++c],T=i[++c];Si(b,g),T(2,n[g])}}}finally{qr(-1)}}(t,n);const T=t.components;null!==T&&function(t,n){for(let i=0;i<n.length;i++)Yf(t,n[i])}(n,T);const k=t.viewQuery;if(null!==k&&Yh(2,k,c),!g)if(b){const j=t.viewCheckHooks;null!==j&&lo(n,j)}else{const j=t.viewHooks;null!==j&&co(n,j,2),Ta(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),g||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Ea(n[3],-1))}finally{ja()}}function Jp(t,n,i,c){const h=n[10],g=!Kt(),b=Di(n);try{g&&!b&&h.begin&&h.begin(),b&&Nd(t,n,c),pu(t,n,i,c)}finally{g&&!b&&h.end&&h.end()}}function $m(t,n,i,c,h){const g=ur(),b=2&c;try{qr(-1),b&&n.length>20&&jh(t,n,20,Kt()),i(c,h)}finally{qr(g)}}function Uf(t,n,i){if(zs(n)){const h=n.directiveEnd;for(let g=n.directiveStart;g<h;g++){const b=t.data[g];b.contentQueries&&b.contentQueries(1,i[g],g)}}}function Bf(t,n,i){!wa()||(function(t,n,i,c){const h=i.directiveStart,g=i.directiveEnd;t.firstCreatePass||$t(i,n),po(c,n);const b=i.initialInputs;for(let T=h;T<g;T++){const k=t.data[T],j=Ci(k);j&&Wh(n,i,k);const J=M(n,t,T,i);po(J,n),null!==b&&go(0,T-h,J,k,0,b),j&&($n(i.index,n)[8]=J)}}(t,n,i,Un(i,n)),128==(128&i.flags)&&function(t,n,i){const c=i.directiveStart,h=i.directiveEnd,b=i.index,T=mr.lFrame.currentDirectiveIndex;try{qr(b);for(let k=c;k<h;k++){const j=t.data[k],J=n[k];Or(k),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Wm(j,J)}}finally{qr(-1),Or(T)}}(t,n,i))}function Fd(t,n,i=Un){const c=n.localNames;if(null!==c){let h=n.index+1;for(let g=0;g<c.length;g+=2){const b=c[g+1],T=-1===b?i(n,t):t[b];t[h++]=T}}}function Xp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ld(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Ld(t,n,i,c,h,g,b,T,k,j){const J=20+c,be=J+h,Ie=function(t,n){const i=[];for(let c=0;c<n;c++)i.push(c<t?null:Br);return i}(J,be),ot="function"==typeof j?j():j;return Ie[1]={type:t,blueprint:Ie,template:i,queries:null,viewQuery:T,declTNode:n,data:Ie.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:k,consts:ot,incompleteFirstPass:!1}}function jf(t,n,i,c){const h=Jh(n);null===i?h.push(c):(h.push(i),t.firstCreatePass&&sg(t).push(c,h.length-1))}function Hf(t,n,i){for(let c in t)if(t.hasOwnProperty(c)){const h=t[c];(i=null===i?{}:i).hasOwnProperty(c)?i[c].push(n,h):i[c]=[n,h]}return i}function ya(t,n,i,c,h,g,b,T){const k=Un(n,i);let J,j=n.inputs;!T&&null!=j&&(J=j[c])?(Xh(t,i,J,c,h),xi(n)&&function(t,n){const i=$n(n,t);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(c=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),h=null!=b?b(h,n.value||"",c):h,Vt(g)?g.setProperty(k,c,h):ol(c)||(k.setProperty?k.setProperty(c,h):k[c]=h))}function qf(t,n,i,c){let h=!1;if(wa()){const g=function(t,n,i){const c=t.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const b=c[g];km(i,b.selectors,!1)&&(h||(h=[]),al($t(i,n),t,b.type),Ci(b)?(Wf(t,i),h.unshift(b)):h.push(b))}return h}(t,n,i),b=null===c?null:{"":-1};if(null!==g){h=!0,zh(i,t.data.length,g.length);for(let J=0;J<g.length;J++){const be=g[J];be.providersResolver&&be.providersResolver(be)}let T=!1,k=!1,j=kc(t,n,g.length,null);for(let J=0;J<g.length;J++){const be=g[J];i.mergedAttrs=Yi(i.mergedAttrs,be.hostAttrs),qu(t,i,n,j,be),rg(j,be,b),null!==be.contentQueries&&(i.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(i.flags|=128);const Ie=be.type.prototype;!T&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),T=!0),!k&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),k=!0),j++}!function(t,n){const c=n.directiveEnd,h=t.data,g=n.attrs,b=[];let T=null,k=null;for(let j=n.directiveStart;j<c;j++){const J=h[j],be=J.inputs,Ie=null===g||Zp(n)?null:Pc(be,g);b.push(Ie),T=Hf(be,j,T),k=Hf(J.outputs,j,k)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=16),T.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=b,n.inputs=T,n.outputs=k}(t,i)}b&&function(t,n,i){if(n){const c=t.localNames=[];for(let h=0;h<n.length;h+=2){const g=i[n[h+1]];if(null==g)throw new Ot("301",`Export of name '${n[h+1]}' not found!`);c.push(n[h],g)}}}(i,c,b)}return i.mergedAttrs=Yi(i.mergedAttrs,i.attrs),h}function zm(t,n,i,c,h,g){const b=g.hostBindings;if(b){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const k=~n.index;(function(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(T)!=k&&T.push(k),T.push(c,h,b)}}function Wm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Wf(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function rg(t,n,i){if(i){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)i[n.exportAs[c]]=t;Ci(n)&&(i[""]=t)}}function zh(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function qu(t,n,i,c,h){t.data[c]=h;const g=h.factory||(h.factory=ji(h.type)),b=new Gi(g,Ci(h),null);t.blueprint[c]=b,i[c]=b,zm(t,n,0,c,kc(t,i,h.hostVars,Br),h)}function Wh(t,n,i){const c=Un(n,t),h=Xp(i),g=t[10],b=jd(t,Rc(t,h,null,i.onPush?64:16,c,n,g,g.createRenderer(c,i),null,null));t[n.index]=b}function Bl(t,n,i,c,h,g){const b=Un(t,n);!function(t,n,i,c,h,g,b){if(null==g)Vt(t)?t.removeAttribute(n,h,i):n.removeAttribute(h);else{const T=null==b?rt(g):b(g,c||"",h);Vt(t)?t.setAttribute(n,h,T,i):i?n.setAttributeNS(i,h,T):n.setAttribute(h,T)}}(n[11],b,g,t.value,i,c,h)}function go(t,n,i,c,h,g){const b=g[n];if(null!==b){const T=c.setInput;for(let k=0;k<b.length;){const j=b[k++],J=b[k++],be=b[k++];null!==T?c.setInput(i,be,j,J):i[J]=be}}}function Pc(t,n){let i=null,c=0;for(;c<n.length;){const h=n[c];if(0!==h)if(5!==h){if("number"==typeof h)break;t.hasOwnProperty(h)&&(null===i&&(i=[]),i.push(h,t[h],n[c+1])),c+=2}else c+=2;else c+=4}return i}function Ym(t,n,i,c){return new Array(t,!0,!1,n,null,0,c,i,null,null)}function Yf(t,n){const i=$n(n,t);if(ds(i)){const c=i[1];80&i[2]?pu(c,i,c.template,i[8]):i[5]>0&&cc(i)}}function cc(t){for(let c=Rh(t);null!==c;c=Cd(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const b=g[1];pu(b,g,b.template,g[8])}else g[5]>0&&cc(g)}const i=t[1].components;if(null!==i)for(let c=0;c<i.length;c++){const h=$n(i[c],t);ds(h)&&h[5]>0&&cc(h)}}function Kh(t,n){const i=$n(n,t),c=i[1];(function(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(c,i),Nd(c,i,i[8])}function jd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Fs(t){for(;t;){t[2]|=64;const n=xh(t);if(Is(t)&&!n)return t;t=n}return null}function Fc(t,n,i){const c=n[10];c.begin&&c.begin();try{pu(t,n,t.template,i)}catch(h){throw Xf(n,h),h}finally{c.end&&c.end()}}function Qf(t){!function(t){for(let n=0;n<t.components.length;n++){const i=t.components[n],c=Lu(i),h=c[1];Jp(h,c,h.template,i)}}(t[8])}function Yh(t,n,i){Fi(0),n(t,i)}const Qm=(()=>Promise.resolve(null))();function Jh(t){return t[7]||(t[7]=[])}function sg(t){return t.cleanup||(t.cleanup=[])}function Zd(t,n,i){return(null===t||Ci(t))&&(i=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(i[n.index])),i[11]}function Xf(t,n){const i=t[9],c=i?i.get(sc,null):null;c&&c.handleError(n)}function Xh(t,n,i,c,h){for(let g=0;g<i.length;){const b=i[g++],T=i[g++],k=n[b],j=t.data[b];null!==j.setInput?j.setInput(k,h,c,T):k[T]=h}}function bl(t,n,i){const c=Pn(n,t);!function(t,n,i){Vt(t)?t.setValue(n,i):n.textContent=i}(t[11],c,i)}function Gd(t,n,i){let c=i?t.styles:null,h=i?t.classes:null,g=0;if(null!==n)for(let b=0;b<n.length;b++){const T=n[b];"number"==typeof T?g=T:1==g?h=Be(h,T):2==g&&(c=Be(c,T+": "+n[++b]+";"))}i?t.styles=c:t.stylesWithoutHost=c,i?t.classes=h:t.classesWithoutHost=h}const nl=new ki("INJECTOR",-1);class ep{get(n,i=Ma){if(i===Ma){const c=new Error(`NullInjectorError: No provider for ${ve(n)}!`);throw c.name="NullInjectorError",c}return i}}const uc=new ki("Set Injector scope."),jl={},Jm={};let gu;function lg(){return void 0===gu&&(gu=new ep),gu}function mu(t,n=null,i=null,c){return new tp(t,i,n||lg(),c)}class tp{constructor(n,i,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];i&&qa(i,T=>this.processProvider(T,n,i)),qa([n],T=>this.processInjectorType(T,[],g)),this.records.set(nl,yu(void 0,this));const b=this.records.get(uc);this.scope=null!=b?b.value:null,this.source=h||("object"==typeof n?null:ve(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=Ma,c=q.Default){this.assertNotDestroyed();const h=xl(this),g=pt(void 0);try{if(!(c&q.SkipSelf)){let T=this.records.get(n);if(void 0===T){const k=("function"==typeof(t=n)||"object"==typeof t&&t instanceof ki)&&En(n);T=k&&this.injectableDefInScope(k)?yu(qd(n),jl):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(c&q.Self?lg():this.parent).get(n,i=c&q.Optional&&i===Ma?null:i)}catch(b){if("NullInjectorError"===b.name){if((b[Wo]=b[Wo]||[]).unshift(ve(n)),h)throw b;return bf(b,n,"R3InjectorError",this.source)}throw b}finally{pt(g),xl(h)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((c,h)=>n.push(ve(h))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,c){if(!(n=ce(n)))return!1;let h=Rr(n);const g=null==h&&n.ngModule||void 0,b=void 0===g?n:g,T=-1!==c.indexOf(b);if(void 0!==g&&(h=Rr(g)),null==h)return!1;if(null!=h.imports&&!T){let J;c.push(b);try{qa(h.imports,be=>{this.processInjectorType(be,i,c)&&(void 0===J&&(J=[]),J.push(be))})}finally{}if(void 0!==J)for(let be=0;be<J.length;be++){const{ngModule:Ie,providers:ot}=J[be];qa(ot,vt=>this.processProvider(vt,Ie,ot||ne))}}this.injectorDefTypes.add(b);const k=ji(b)||(()=>new b);this.records.set(b,yu(k,jl));const j=h.providers;if(null!=j&&!T){const J=n;qa(j,be=>this.processProvider(be,J,j))}return void 0!==g&&void 0!==n.providers}processProvider(n,i,c){let h=_u(n=ce(n))?n:ce(n&&n.provide);const g=(t=n,Lc(t)?yu(void 0,t.useValue):yu(Xm(t),jl));var t;if(_u(n)||!0!==n.multi)this.records.get(h);else{let b=this.records.get(h);b||(b=yu(void 0,jl,!0),b.factory=()=>ra(b.multi),this.records.set(h,b)),h=n,b.multi.push(n)}this.records.set(h,g)}hydrate(n,i){return i.value===jl&&(i.value=Jm,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(t=i.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ce(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function qd(t){const n=En(t),i=null!==n?n.factory:ji(t);if(null!==i)return i;if(t instanceof ki)throw new Error(`Token ${ve(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const c=_i(n,"?");throw new Error(`Can't resolve all parameters for ${ve(t)}: (${c.join(", ")}).`)}const i=function(t){const n=t&&(t[qt]||t[Se]);if(n){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function Xm(t,n,i){let c;if(_u(t)){const h=ce(t);return ji(h)||qd(h)}if(Lc(t))c=()=>ce(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...ra(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))c=()=>Cs(ce(t.useExisting));else{const h=ce(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ji(h)||qd(h);c=()=>new h(...ra(t.deps))}return c}function yu(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Lc(t){return null!==t&&"object"==typeof t&&yc in t}function _u(t){return"function"==typeof t}const Lo=function(t,n,i){return function(t,n=null,i=null,c){const h=mu(t,n,i,c);return h._resolveInjectorDefTypes(),h}({name:i},n,t,i)};let Ss=(()=>{class t{static create(i,c){return Array.isArray(i)?Lo(i,c,""):Lo(i.providers,i.parent,i.name||"")}}return t.THROW_IF_NOT_FOUND=Ma,t.NULL=new ep,t.\u0275prov=Fn({token:t,providedIn:"any",factory:()=>Cs(nl)}),t.__NG_ELEMENT_ID__=-1,t})();function uy(t,n){qo(Lu(t)[1],C())}function ed(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const c=[t];for(;n;){let h;if(Ci(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");h=n.\u0275dir}if(h){if(i){c.push(h);const b=t;b.inputs=td(t.inputs),b.declaredInputs=td(t.declaredInputs),b.outputs=td(t.outputs);const T=h.hostBindings;T&&E_(t,T);const k=h.viewQuery,j=h.contentQueries;if(k&&Sg(t,k),j&&hy(t,j),Te(t.inputs,h.inputs),Te(t.declaredInputs,h.declaredInputs),Te(t.outputs,h.outputs),Ci(h)&&h.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let b=0;b<g.length;b++){const T=g[b];T&&T.ngInherit&&T(t),T===ed&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,i=null;for(let c=t.length-1;c>=0;c--){const h=t[c];h.hostVars=n+=h.hostVars,h.hostAttrs=Yi(h.hostAttrs,i=Yi(i,h.hostAttrs))}}(c)}function td(t){return t===ze?{}:t===ne?[]:t}function Sg(t,n){const i=t.viewQuery;t.viewQuery=i?(c,h)=>{n(c,h),i(c,h)}:n}function hy(t,n){const i=t.contentQueries;t.contentQueries=i?(c,h,g)=>{n(c,h,g),i(c,h,g)}:n}function E_(t,n){const i=t.hostBindings;t.hostBindings=i?(c,h)=>{n(c,h),i(c,h)}:n}let Yd=null;function nd(){if(!Yd){const t=Fe.Symbol;if(t&&t.iterator)Yd=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const c=n[i];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Yd=c)}}}return Yd}class il{constructor(n){this.wrapped=n}static wrap(n){return new il(n)}static unwrap(n){return il.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof il}}function Qd(t){return!!Jd(t)&&(Array.isArray(t)||!(t instanceof Map)&&nd()in t)}function Jd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sl(t,n,i){return t[n]=i}function To(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Uc(t,n,i,c){const h=To(t,n,i);return To(t,n+1,c)||h}function ap(t,n,i,c){const h=ln();return To(h,cr(),n)&&(Lr(),Bl(Nr(),h,t,n,i,c)),ap}function wl(t,n,i,c){return To(t,cr(),i)?n+rt(i)+c:Br}function eh(t,n,i,c,h,g,b,T){const j=function(t,n,i,c,h){const g=Uc(t,n,i,c);return To(t,n+2,h)||g}(t,ir(),i,h,b);return pr(3),j?n+rt(i)+c+rt(h)+g+rt(b)+T:Br}function hi(t,n,i,c,h,g,b,T){const k=ln(),j=Lr(),J=t+20,be=j.firstCreatePass?function(t,n,i,c,h,g,b,T,k){const j=n.consts,J=vl(n,t,4,b||null,rs(j,T));qf(n,i,J,rs(j,k)),qo(n,J);const be=J.tViews=Ld(2,J,c,h,g,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j);return null!==n.queries&&(n.queries.template(n,J),be.queries=n.queries.embeddedTView(J)),J}(J,j,k,n,i,c,h,g,b):j.data[J];ie(be,!1);const Ie=k[11].createComment("");Bu(j,k,Ie,be),po(Ie,k),jd(k,k[J]=Ym(Ie,k,Ie,be)),Bi(be)&&Bf(j,k,be),null!=b&&Fd(k,be,T)}function kg(t){return Cr(mr.lFrame.contextLView,20+t)}function uh(t,n=q.Default){const i=ln();return null===i?Cs(t,n):x(C(),i,ce(t),n)}function Hg(t,n,i){const c=ln();return To(c,cr(),n)&&ya(Lr(),Nr(),c,t,n,c[11],i,!1),Hg}function Zg(t,n,i,c,h){const b=h?"class":"style";Xh(t,i,n.inputs[b],b,c)}function lf(t,n,i,c){const h=ln(),g=Lr(),b=20+t,T=h[11],k=h[b]=Bp(T,n,mr.lFrame.currentNamespace),j=g.firstCreatePass?function(t,n,i,c,h,g,b){const T=n.consts,j=vl(n,t,2,h,rs(T,g));return qf(n,i,j,rs(T,b)),null!==j.attrs&&Gd(j,j.attrs,!1),null!==j.mergedAttrs&&Gd(j,j.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,j),j}(b,g,h,0,n,i,c):g.data[b];ie(j,!0);const J=j.mergedAttrs;null!==J&&Da(T,k,J);const be=j.classes;null!==be&&Vh(T,k,be);const Ie=j.styles;null!==Ie&&Lh(T,k,Ie),64!=(64&j.flags)&&Bu(g,h,k,j),0===mr.lFrame.elementDepthCount&&po(k,h),mr.lFrame.elementDepthCount++,Bi(j)&&(Bf(g,h,j),Uf(g,j,h)),null!==c&&Fd(h,j)}function qg(){let t=C();we()?We():(t=t.parent,ie(t,!1));const n=t;mr.lFrame.elementDepthCount--;const i=Lr();i.firstCreatePass&&(qo(i,t),zs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Zg(i,n,ln(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Zg(i,n,ln(),n.stylesWithoutHost,!1)}function cf(t,n,i,c){lf(t,n,i,c),qg()}function a(t,n,i){const c=ln(),h=Lr(),g=t+20,b=h.firstCreatePass?function(t,n,i,c,h){const g=n.consts,b=rs(g,c),T=vl(n,t,8,"ng-container",b);return null!==b&&Gd(T,b,!0),qf(n,i,T,rs(g,h)),null!==n.queries&&n.queries.elementStart(n,T),T}(g,h,c,n,i):h.data[g];ie(b,!0);const T=c[g]=c[11].createComment("");Bu(h,c,T,b),po(T,c),Bi(b)&&(Bf(h,c,b),Uf(h,b,c)),null!=i&&Fd(c,b)}function u(){let t=C();const n=Lr();we()?We():(t=t.parent,ie(t,!1)),n.firstCreatePass&&(qo(n,t),zs(t)&&n.queries.elementEnd(t))}function p(t,n,i){a(t,n,i),u()}function _(){return ln()}function S(t){return!!t&&"function"==typeof t.then}function N(t){return!!t&&"function"==typeof t.subscribe}const W=N;function te(t,n,i,c){const h=ln(),g=Lr(),b=C();return Ye(g,h,h[11],b,t,n,!!i,c),te}function ue(t,n){const i=C(),c=ln(),h=Lr();return Ye(h,c,Zd(oo(h.data),i,c),i,t,n,!1),ue}function Ye(t,n,i,c,h,g,b,T){const k=Bi(c),J=t.firstCreatePass&&sg(t),be=n[8],Ie=Jh(n);let ot=!0;if(3&c.type||T){const Nt=Un(c,n),On=T?T(Nt):Nt,cn=Ie.length,Pr=T?Jr=>T(Et(Jr[c.index])):c.index;if(Vt(i)){let Jr=null;if(!T&&k&&(Jr=function(t,n,i,c){const h=t.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const b=h[g];if(b===i&&h[g+1]===c){const T=n[7],k=h[g+2];return T.length>k?T[k]:null}"string"==typeof b&&(g+=2)}return null}(t,n,h,c.index)),null!==Jr)(Jr.__ngLastListenerFn__||Jr).__ngNextListenerFn__=g,Jr.__ngLastListenerFn__=g,ot=!1;else{g=dt(c,n,be,g,!1);const wi=i.listen(On,h,g);Ie.push(g,wi),J&&J.push(h,Pr,cn,cn+1)}}else g=dt(c,n,be,g,!0),On.addEventListener(h,g,b),Ie.push(g),J&&J.push(h,Pr,cn,b)}else g=dt(c,n,be,g,!1);const vt=c.outputs;let Yt;if(ot&&null!==vt&&(Yt=vt[h])){const Nt=Yt.length;if(Nt)for(let On=0;On<Nt;On+=2){const va=n[Yt[On]][Yt[On+1]].subscribe(g),Ou=Ie.length;Ie.push(g,va),J&&J.push(h,c.index,Ou,-(Ou+1))}}}function Ze(t,n,i,c){try{return!1!==i(c)}catch(h){return Xf(t,h),!1}}function dt(t,n,i,c,h){return function g(b){if(b===Function)return c;const T=2&t.flags?$n(t.index,n):n;0==(32&n[2])&&Fs(T);let k=Ze(n,0,c,b),j=g.__ngNextListenerFn__;for(;j;)k=Ze(n,0,j,b)&&k,j=j.__ngNextListenerFn__;return h&&!1===k&&(b.preventDefault(),b.returnValue=!1),k}}function Gt(t=1){return function(t){return(mr.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,mr.lFrame.contextLView))[8]}(t)}function Xt(t,n){let i=null;const c=function(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let h=0;h<n.length;h++){const g=n[h];if("*"!==g){if(null===c?km(t,g,!0):Bh(c,g))return h}else i=h}return i}function gn(t){const n=ln()[16][6];if(!n.projection){const c=n.projection=_i(t?t.length:1,null),h=c.slice();let g=n.child;for(;null!==g;){const b=t?Xt(g,t):0;null!==b&&(h[b]?h[b].projectionNext=g:c[b]=g,h[b]=g),g=g.next}}}function Mn(t,n=0,i){const c=ln(),h=Lr(),g=vl(h,20+t,16,null,i||null);null===g.projection&&(g.projection=n),We(),64!=(64&g.flags)&&function(t,n,i){uu(n[11],0,n,i,Ph(t,i,n),Nl(i.parent||n[6],i,n))}(h,c,g)}function In(t,n,i,c,h){const g=ln(),b=wl(g,n,i,c);return b!==Br&&ya(Lr(),Nr(),g,t,b,g[11],h,!1),In}function yp(t,n,i,c,h){const g=t[i+1],b=null===n;let T=c?Yo(g):Qo(g),k=!1;for(;0!==T&&(!1===k||b);){const J=t[T+1];uf(t[T],n)&&(k=!0,t[T+1]=c?Ad(J):Hh(J)),T=c?Yo(J):Qo(J)}k&&(t[i+1]=c?Hh(g):Ad(g))}function uf(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&cl(t,n)>=0}const Pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _p(t){return t.substring(Pi.key,Pi.keyEnd)}function dh(t,n){const i=Pi.textEnd;return i===n?-1:(n=Pi.keyEnd=function(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Pi.key=n,i),vp(t,n,i))}function vp(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function M_(t,n,i){return qc(t,n,i,!1),M_}function hh(t,n){return qc(t,n,null,!0),hh}function Iu(t,n){for(let i=function(t){return function(t){Pi.key=0,Pi.keyEnd=0,Pi.value=0,Pi.valueEnd=0,Pi.textEnd=t.length}(t),dh(t,vp(t,0,Pi.textEnd))}(n);i>=0;i=dh(n,i))ha(t,_p(n),!0)}function qc(t,n,i,c){const h=ln(),g=Lr(),b=pr(2);g.firstUpdatePass&&Av(g,t,b,c),n!==Br&&To(h,b,n)&&My(g,g.data[ur()],h,h[11],t,h[b+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ve(v(t)))),t}(n,i),c,b)}function Iv(t,n){return n>=t.expandoStartIndex}function Av(t,n,i,c){const h=t.data;if(null===h[i+1]){const g=h[ur()],b=Iv(t,i);Wg(g,c)&&null===n&&!b&&(n=!1),n=function(t,n,i,c){const h=oo(t);let g=c?n.residualClasses:n.residualStyles;if(null===h)0===(c?n.classBindings:n.styleBindings)&&(i=df(i=O_(null,t,n,i,c),n.attrs,c),g=null);else{const b=n.directiveStylingLast;if(-1===b||t[b]!==h)if(i=O_(h,t,n,i,c),null===g){let k=function(t,n,i){const c=i?n.classBindings:n.styleBindings;if(0!==Qo(c))return t[Yo(c)]}(t,n,c);void 0!==k&&Array.isArray(k)&&(k=O_(null,t,n,k[1],c),k=df(k,n.attrs,c),function(t,n,i,c){t[Yo(i?n.classBindings:n.styleBindings)]=c}(t,n,c,k))}else g=function(t,n,i){let c;const h=n.directiveEnd;for(let g=1+n.directiveStylingLast;g<h;g++)c=df(c,t[g].hostAttrs,i);return df(c,n.attrs,i)}(t,n,c)}return void 0!==g&&(c?n.residualClasses=g:n.residualStyles=g),i}(h,g,n,c),function(t,n,i,c,h,g){let b=g?n.classBindings:n.styleBindings,T=Yo(b),k=Qo(b);t[c]=i;let J,j=!1;if(Array.isArray(i)){const be=i;J=be[1],(null===J||cl(be,J)>0)&&(j=!0)}else J=i;if(h)if(0!==k){const Ie=Yo(t[T+1]);t[c+1]=wo(Ie,T),0!==Ie&&(t[Ie+1]=Zh(t[Ie+1],c)),t[T+1]=function(t,n){return 131071&t|n<<17}(t[T+1],c)}else t[c+1]=wo(T,0),0!==T&&(t[T+1]=Zh(t[T+1],c)),T=c;else t[c+1]=wo(k,0),0===T?T=c:t[k+1]=Zh(t[k+1],c),k=c;j&&(t[c+1]=Hh(t[c+1])),yp(t,J,c,!0),yp(t,J,c,!1),function(t,n,i,c,h){const g=h?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof n&&cl(g,n)>=0&&(i[c+1]=Ad(i[c+1]))}(n,J,t,c,g),b=wo(T,k),g?n.classBindings=b:n.styleBindings=b}(h,g,n,i,b,c)}}function O_(t,n,i,c,h){let g=null;const b=i.directiveEnd;let T=i.directiveStylingLast;for(-1===T?T=i.directiveStart:T++;T<b&&(g=n[T],c=df(c,g.hostAttrs,h),g!==t);)T++;return null!==t&&(i.directiveStylingLast=T),c}function df(t,n,i){const c=i?1:2;let h=-1;if(null!==n)for(let g=0;g<n.length;g++){const b=n[g];"number"==typeof b?h=b:h===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ha(t,b,!!i||n[++g]))}return void 0===t?null:t}function My(t,n,i,c,h,g,b,T){if(!(3&n.type))return;const k=t.data,j=k[T+1];Oy(function(t){return 1==(1&t)}(j)?xv(k,n,i,h,Qo(j),b):void 0)||(Oy(g)||function(t){return 2==(2&t)}(j)&&(g=xv(k,null,i,h,T,b)),function(t,n,i,c,h){const g=Vt(t);if(n)h?g?t.addClass(i,c):i.classList.add(c):g?t.removeClass(i,c):i.classList.remove(c);else{let b=-1===c.indexOf("-")?void 0:gl.DashCase;if(null==h)g?t.removeStyle(i,c,b):i.style.removeProperty(c);else{const T="string"==typeof h&&h.endsWith("!important");T&&(h=h.slice(0,-10),b|=gl.Important),g?t.setStyle(i,c,h,b):i.style.setProperty(c,h,T?"important":"")}}}(c,b,Pn(ur(),i),h,g))}function xv(t,n,i,c,h,g){const b=null===n;let T;for(;h>0;){const k=t[h],j=Array.isArray(k),J=j?k[1]:k,be=null===J;let Ie=i[h+1];Ie===Br&&(Ie=be?ne:void 0);let ot=be?fs(Ie,c):J===c?Ie:void 0;if(j&&!Oy(ot)&&(ot=fs(k,c)),Oy(ot)&&(T=ot,b))return T;const vt=t[h+1];h=b?Yo(vt):Qo(vt)}if(null!==n){let k=g?n.residualClasses:n.residualStyles;null!=k&&(T=fs(k,c))}return T}function Oy(t){return void 0!==t}function Wg(t,n){return 0!=(t.flags&(n?16:32))}function kv(t,n=""){const i=ln(),c=Lr(),h=t+20,g=c.firstCreatePass?vl(c,h,1,n,null):c.data[h],b=i[h]=function(t,n){return Vt(t)?t.createText(n):t.createTextNode(n)}(i[11],n);Bu(c,i,b,g),ie(g,!1)}function xy(t){return Kg("",t,""),xy}function Kg(t,n,i){const c=ln(),h=wl(c,t,n,i);return h!==Br&&bl(c,ur(),h),Kg}function id(t,n,i,c,h){const g=ln(),b=function(t,n,i,c,h,g){const T=Uc(t,ir(),i,h);return pr(2),T?n+rt(i)+c+rt(h)+g:Br}(g,t,n,i,c,h);return b!==Br&&bl(g,ur(),b),id}function Tl(t,n,i,c,h,g,b){const T=ln(),k=eh(T,t,n,i,c,h,g,b);return k!==Br&&bl(T,ur(),k),Tl}function Pv(t,n,i){!function(t,n,i,c){const h=Lr(),g=pr(2);h.firstUpdatePass&&Av(h,null,g,c);const b=ln();if(i!==Br&&To(b,g,i)){const T=h.data[ur()];if(Wg(T,c)&&!Iv(h,g)){let k=c?T.classesWithoutHost:T.stylesWithoutHost;null!==k&&(i=Be(k,i||"")),Zg(h,T,b,i,c)}else!function(t,n,i,c,h,g,b,T){h===Br&&(h=ne);let k=0,j=0,J=0<h.length?h[0]:null,be=0<g.length?g[0]:null;for(;null!==J||null!==be;){const Ie=k<h.length?h[k+1]:void 0,ot=j<g.length?g[j+1]:void 0;let Yt,vt=null;J===be?(k+=2,j+=2,Ie!==ot&&(vt=be,Yt=ot)):null===be||null!==J&&J<be?(k+=2,vt=J):(j+=2,vt=be,Yt=ot),null!==vt&&My(t,n,i,c,vt,Yt,b,T),J=k<h.length?h[k]:null,be=j<g.length?g[j]:null}}(h,T,b,b[11],b[g+1],b[g+1]=function(t,n,i){if(null==i||""===i)return ne;const c=[],h=v(i);if(Array.isArray(h))for(let g=0;g<h.length;g++)t(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&t(c,g,h[g]);else"string"==typeof h&&n(c,h);return c}(t,n,i),c,g)}}(ha,Iu,wl(ln(),t,n,i),!0)}function B_(t,n,i){const c=ln();return To(c,cr(),n)&&ya(Lr(),Nr(),c,t,n,c[11],i,!0),B_}function j_(t,n,i){const c=ln();if(To(c,cr(),n)){const g=Lr(),b=Nr();ya(g,b,c,t,n,Zd(oo(g.data),b,c),i,!0)}return j_}const ph=void 0;var HE=["en",[["a","p"],["AM","PM"],ph],[["AM","PM"],ph,ph],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ph,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ph,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ph,"{1} 'at' {0}",ph],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let s={};function r(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=m(n);if(i)return i;const c=n.split("-")[0];if(i=m(c),i)return i;if("en"===c)return HE;throw new Error(`Missing locale data for the locale "${t}".`)}function f(t){return r(t)[P.PluralCase]}function m(t){return t in s||(s[t]=Fe.ng&&Fe.ng.common&&Fe.ng.common.locales&&Fe.ng.common.locales[t]),s[t]}var P=(()=>((P=P||{})[P.LocaleId=0]="LocaleId",P[P.DayPeriodsFormat=1]="DayPeriodsFormat",P[P.DayPeriodsStandalone=2]="DayPeriodsStandalone",P[P.DaysFormat=3]="DaysFormat",P[P.DaysStandalone=4]="DaysStandalone",P[P.MonthsFormat=5]="MonthsFormat",P[P.MonthsStandalone=6]="MonthsStandalone",P[P.Eras=7]="Eras",P[P.FirstDayOfWeek=8]="FirstDayOfWeek",P[P.WeekendRange=9]="WeekendRange",P[P.DateFormat=10]="DateFormat",P[P.TimeFormat=11]="TimeFormat",P[P.DateTimeFormat=12]="DateTimeFormat",P[P.NumberSymbols=13]="NumberSymbols",P[P.NumberFormats=14]="NumberFormats",P[P.CurrencyCode=15]="CurrencyCode",P[P.CurrencySymbol=16]="CurrencySymbol",P[P.CurrencyName=17]="CurrencyName",P[P.Currencies=18]="Currencies",P[P.Directionality=19]="Directionality",P[P.PluralCase=20]="PluralCase",P[P.ExtraData=21]="ExtraData",P))();const nt="en-US";let Ei=nt;function es(t){hn(t,"Expected localeId to be defined"),"string"==typeof t&&(Ei=t.toLowerCase().replace(/_/g,"-"))}function kb(t,n,i,c,h){if(t=ce(t),Array.isArray(t))for(let g=0;g<t.length;g++)kb(t[g],n,i,c,h);else{const g=Lr(),b=ln();let T=_u(t)?t:ce(t.provide),k=Xm(t);const j=C(),J=1048575&j.providerIndexes,be=j.directiveStart,Ie=j.providerIndexes>>20;if(_u(t)||!t.multi){const ot=new Gi(k,h,uh),vt=Nb(T,n,h?J:J+Ie,be);-1===vt?(al($t(j,b),g,T),Pb(g,t,n.length),n.push(T),j.directiveStart++,j.directiveEnd++,h&&(j.providerIndexes+=1048576),i.push(ot),b.push(ot)):(i[vt]=ot,b[vt]=ot)}else{const ot=Nb(T,n,J+Ie,be),vt=Nb(T,n,J,J+Ie),Yt=ot>=0&&i[ot],Nt=vt>=0&&i[vt];if(h&&!Nt||!h&&!Yt){al($t(j,b),g,T);const On=function(t,n,i,c,h){const g=new Gi(t,i,uh);return g.multi=[],g.index=n,g.componentProviders=0,c0(g,h,c&&!i),g}(h?_T:yT,i.length,h,c,k);!h&&Nt&&(i[vt].providerFactory=On),Pb(g,t,n.length,0),n.push(T),j.directiveStart++,j.directiveEnd++,h&&(j.providerIndexes+=1048576),i.push(On),b.push(On)}else Pb(g,t,ot>-1?ot:vt,c0(i[h?vt:ot],k,!h&&c));!h&&c&&Nt&&i[vt].componentProviders++}}}function Pb(t,n,i,c){const h=_u(n);if(h||function(t){return!!t.useClass}(n)){const b=(n.useClass||n).prototype.ngOnDestroy;if(b){const T=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const k=T.indexOf(i);-1===k?T.push(i,[c,b]):T[k+1].push(c,b)}else T.push(i,b)}}}function c0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Nb(t,n,i,c){for(let h=i;h<c;h++)if(n[h]===t)return h;return-1}function yT(t,n,i,c){return Fb(this.multi,[])}function _T(t,n,i,c){const h=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=M(i,i[1],this.providerFactory.index,c);g=T.slice(0,b),Fb(h,g);for(let k=b;k<T.length;k++)g.push(T[k])}else g=[],Fb(h,g);return g}function Fb(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function u0(t,n=[]){return i=>{i.providersResolver=(c,h)=>function(t,n,i){const c=Lr();if(c.firstCreatePass){const h=Ci(t);kb(i,c.data,c.blueprint,h,!0),kb(n,c.data,c.blueprint,h,!1)}}(c,h?h(t):t,n)}}class d0{}const f0="ngComponent";class ET{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${ve(t)}. Did you add it to @NgModule.entryComponents?`);return n[f0]=t,n}(n)}}let Ny=(()=>{class t{}return t.NULL=new ET,t})();function Gv(...t){}function Fy(t,n){return new gh(Un(t,n))}const TT=function(){return Fy(C(),ln())};let gh=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=TT,t})();function p0(t){return t instanceof gh?t.nativeElement:t}class qv{}let DT=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>IT(),t})();const IT=function(){const t=ln(),i=$n(C().index,t);return function(t){return t[11]}(gi(i)?i:t)};let Vb=(()=>{class t{}return t.\u0275prov=Fn({token:t,providedIn:"root",factory:()=>null}),t})();class g0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Ub=new g0("12.2.16");class m0{constructor(){}supports(n){return Qd(n)}create(n){return new xT(n)}}const OT=(t,n)=>n;class xT{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OT}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,c=this._removalsHead,h=0,g=null;for(;i||c;){const b=!c||i&&i.currentIndex<_0(c,h,g)?i:c,T=_0(b,h,g),k=b.currentIndex;if(b===c)h--,c=c._nextRemoved;else if(i=i._next,null==b.previousIndex)h++;else{g||(g=[]);const j=T-h,J=k-h;if(j!=J){for(let Ie=0;Ie<j;Ie++){const ot=Ie<g.length?g[Ie]:g[Ie]=0,vt=ot+Ie;J<=vt&&vt<j&&(g[Ie]=ot+1)}g[b.previousIndex]=J-j}}T!==k&&n(b,T,k)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Qd(n))throw new Error(`Error trying to diff '${ve(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,g,b,i=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)g=n[T],b=this._trackByFn(T,g),null!==i&&Object.is(i.trackById,b)?(c&&(i=this._verifyReinsertion(i,g,b,T)),Object.is(i.item,g)||this._addIdentityChange(i,g)):(i=this._mismatch(i,g,b,T),c=!0),i=i._next}else h=0,function(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[nd()]();let c;for(;!(c=i.next()).done;)n(c.value)}}(n,T=>{b=this._trackByFn(h,T),null!==i&&Object.is(i.trackById,b)?(c&&(i=this._verifyReinsertion(i,T,b,h)),Object.is(i.item,T)||this._addIdentityChange(i,T)):(i=this._mismatch(i,T,b,h),c=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,c,h){let g;return null===n?g=this._itTail:(g=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,g,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,g,h)):n=this._addAfter(new RT(i,c),g,h),n}_verifyReinsertion(n,i,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?n=this._reinsertAfter(g,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,g=n._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(n,i,c),this._addToMoves(n,c),n}_moveAfter(n,i,c){return this._unlink(n),this._insertAfter(n,i,c),this._addToMoves(n,c),n}_addAfter(n,i,c){return this._insertAfter(n,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,c){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new y0),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,c=n._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new y0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class RT{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kT{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const i=n._prevDup,c=n._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class y0{constructor(){this.map=new Map}put(n){const i=n.trackById;let c=this.map.get(i);c||(c=new kT,this.map.set(i,c)),c.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _0(t,n,i){const c=t.previousIndex;if(null===c)return c;let h=0;return i&&c<i.length&&(h=i[c]),c+n+h}class v0{constructor(){}supports(n){return n instanceof Map||Jd(n)}create(){return new PT}}class PT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Jd(n)))throw new Error(`Error trying to diff '${ve(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const g=this._getOrCreateRecordForKey(h,c);i=this._insertBeforeOrAppend(i,g)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const c=n._prev;return i._next=n,i._prev=c,n._prev=i,c&&(c._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,i);const g=h._prev,b=h._next;return g&&(g._next=b),b&&(b._prev=g),h._next=null,h._prev=null,h}const c=new NT(n);return this._records.set(n,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(c=>i(n[c],c))}}class NT{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function b0(){return new $v([new m0])}let $v=(()=>{class t{constructor(i){this.factories=i}static create(i,c){if(null!=c){const h=c.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||b0()),deps:[[t,new Oa,new Ka]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'`)}}return t.\u0275prov=Fn({token:t,providedIn:"root",factory:b0}),t})();function E0(){return new zv([new v0])}let zv=(()=>{class t{constructor(i){this.factories=i}static create(i,c){if(c){const h=c.factories.slice();i=i.concat(h)}return new t(i)}static extend(i){return{provide:t,useFactory:c=>t.create(i,c||E0()),deps:[[t,new Oa,new Ka]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(c)return c;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return t.\u0275prov=Fn({token:t,providedIn:"root",factory:E0}),t})();function Wv(t,n,i,c,h=!1){for(;null!==i;){const g=n[i.index];if(null!==g&&c.push(Et(g)),Wr(g))for(let T=10;T<g.length;T++){const k=g[T],j=k[1].firstChild;null!==j&&Wv(k[1],k,j,c)}const b=i.type;if(8&b)Wv(t,n,i.child,c);else if(32&b){const T=ml(i,n);let k;for(;k=T();)c.push(k)}else if(16&b){const T=Hp(n,i);if(Array.isArray(T))c.push(...T);else{const k=xh(n[16]);Wv(k[1],k,T,c,!0)}}i=h?i.projectionNext:i.next}return c}class $_{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return Wv(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Wr(n)){const i=n[8],c=i?i.indexOf(this):-1;c>-1&&(xf(n,c),Kl(i,c))}this._attachedToViewContainer=!1}Om(this._lView[1],this._lView)}onDestroy(n){jf(this._lView[1],this._lView,null,n)}markForCheck(){Fs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,i){Cn(!0);try{Fc(t,n,i)}finally{Cn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,cu(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class LT extends $_{constructor(n){super(n),this._view=n}detectChanges(){Qf(this._view)}checkNoChanges(){!function(t){Cn(!0);try{Qf(t)}finally{Cn(!1)}}(this._view)}get context(){return null}}const UT=function(t){return function(t,n,i){if(xi(t)&&!i){const c=$n(t.index,n);return new $_(c,c)}return 47&t.type?new $_(n[16],n):null}(C(),ln(),16==(16&t))};let BT=(()=>{class t{}return t.__NG_ELEMENT_ID__=UT,t})();const ZT=[new v0],qT=new $v([new m0]),$T=new zv(ZT),WT=function(){return Kv(C(),ln())};let z_=(()=>{class t{}return t.__NG_ELEMENT_ID__=WT,t})();const KT=z_,YT=class extends KT{constructor(n,i,c){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=c}createEmbeddedView(n){const i=this._declarationTContainer.tViews,c=Rc(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(i)),Nd(i,c,n),new $_(c)}};function Kv(t,n){return 4&t.type?new YT(n,t,Fy(t,n)):null}class Qg{}class w0{}const XT=function(){return D0(C(),ln())};let Yv=(()=>{class t{}return t.__NG_ELEMENT_ID__=XT,t})();const tD=Yv,C0=class extends tD{constructor(n,i,c){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=c}get element(){return Fy(this._hostTNode,this._hostLView)}get injector(){return new mt(this._hostTNode,this._hostLView)}get parentInjector(){const n=Za(this._hostTNode,this._hostLView);if(bo(n)){const i=pn(n,this._hostLView),c=Ha(n);return new mt(i[1].data[c+8],i)}return new mt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=T0(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,c){const h=n.createEmbeddedView(i||{});return this.insert(h,c),h}createComponent(n,i,c,h,g){const b=c||this.parentInjector;if(!g&&null==n.ngModule&&b){const k=b.get(Qg,null);k&&(g=k)}const T=n.create(b,h,void 0,g);return this.insert(T.hostView,i),T}insert(n,i){const c=n._lView,h=c[1];if(Wr(c[3])){const J=this.indexOf(n);if(-1!==J)this.detach(J);else{const be=c[3],Ie=new C0(be,be[6],be[3]);Ie.detach(Ie.indexOf(n))}}const g=this._adjustIndex(i),b=this._lContainer;!function(t,n,i,c){const h=10+c,g=i.length;c>0&&(i[h-1][4]=n),c<g-10?(n[4]=i[h],Aa(i,10+c,n)):(i.push(n),n[4]=null),n[3]=i;const b=n[17];null!==b&&i!==b&&function(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(b,n);const T=n[19];null!==T&&T.insertView(t),n[2]|=128}(h,c,b,g);const T=Pf(g,b),k=c[11],j=Sc(k,b[7]);return null!==j&&function(t,n,i,c,h,g){c[0]=h,c[6]=n,cu(t,c,i,1,h,g)}(h,b[6],k,c,j,T),n.attachToViewContainerRef(),Aa(Bb(b),g,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=T0(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),c=xf(this._lContainer,i);c&&(Kl(Bb(this._lContainer),i),Om(c[1],c))}detach(n){const i=this._adjustIndex(n,-1),c=xf(this._lContainer,i);return c&&null!=Kl(Bb(this._lContainer),i)?new $_(c):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function T0(t){return t[8]}function Bb(t){return t[8]||(t[8]=[])}function D0(t,n){let i;const c=n[t.index];if(Wr(c))i=c;else{let h;if(8&t.type)h=Et(c);else{const g=n[11];h=g.createComment("");const b=Un(t,n);oa(g,Sc(g,b),h,function(t,n){return Vt(t)?t.nextSibling(n):n.nextSibling}(g,b),!1)}n[t.index]=i=Ym(c,n,h,t),jd(n,i)}return new C0(i,t,n)}const By={};class q0 extends Ny{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=lr(n);return new z0(i,this.ngModule)}}function $0(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}const QD=new ki("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ed});class z0 extends d0{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(Lf).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return $0(this.componentDef.inputs)}get outputs(){return $0(this.componentDef.outputs)}create(n,i,c,h){const g=(h=h||this.ngModule)?function(t,n){return{get:(i,c,h)=>{const g=t.get(i,By,h);return g!==By||c===By?g:n.get(i,c,h)}}}(n,h.injector):n,b=g.get(qv,ge),T=g.get(Vb,null),k=b.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",J=c?function(t,n,i){if(Vt(t))return t.selectRootElement(n,i===Hn.ShadowDom);let c="string"==typeof n?t.querySelector(n):n;return c.textContent="",c}(k,c,this.componentDef.encapsulation):Bp(b.createRenderer(null,this.componentDef),j,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(j)),be=this.componentDef.onPush?576:528,Ie=function(t,n){return{components:[],scheduler:t||Ed,clean:Qm,playerHandler:n||null,flags:0}}(),ot=Ld(0,null,null,1,0,null,null,null,null,null),vt=Rc(null,ot,Ie,be,null,null,b,k,T,g);let Yt,Nt;bs(vt);try{const On=function(t,n,i,c,h,g){const b=i[1];i[20]=t;const k=vl(b,20,2,"#host",null),j=k.mergedAttrs=n.hostAttrs;null!==j&&(Gd(k,j,!0),null!==t&&(Da(h,t,j),null!==k.classes&&Vh(h,t,k.classes),null!==k.styles&&Lh(h,t,k.styles)));const J=c.createRenderer(t,n),be=Rc(i,Xp(n),null,n.onPush?64:16,i[20],k,c,J,g||null,null);return b.firstCreatePass&&(al($t(k,i),b,n.type),Wf(b,k),zh(k,i.length,1)),jd(i,be),i[20]=be}(J,this.componentDef,vt,b,k);if(J)if(c)Da(k,J,["ng-version",Ub.full]);else{const{attrs:cn,classes:Pr}=function(t){const n=[],i=[];let c=1,h=2;for(;c<t.length;){let g=t[c];if("string"==typeof g)2===h?""!==g&&n.push(g,t[++c]):8===h&&i.push(g);else{if(!tl(h))break;h=g}c++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);cn&&Da(k,J,cn),Pr&&Pr.length>0&&Vh(k,J,Pr.join(" "))}if(Nt=di(ot,20),void 0!==i){const cn=Nt.projection=[];for(let Pr=0;Pr<this.ngContentSelectors.length;Pr++){const Jr=i[Pr];cn.push(null!=Jr?Array.from(Jr):null)}}Yt=function(t,n,i,c,h){const g=i[1],b=function(t,n,i){const c=C();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),qu(t,c,n,kc(t,n,1,null),i));const h=M(n,t,c.directiveStart,c);po(h,n);const g=Un(c,n);return g&&po(g,n),h}(g,i,n);if(c.components.push(b),t[8]=b,h&&h.forEach(k=>k(b,n)),n.contentQueries){const k=C();n.contentQueries(1,b,k.directiveStart)}const T=C();return!g.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(qr(T.index),zm(i[1],T,0,T.directiveStart,T.directiveEnd,n),Wm(n,b)),b}(On,this.componentDef,vt,Ie,[uy]),Nd(ot,vt,null)}finally{ja()}return new eS(this.componentType,Yt,Fy(Nt,vt),vt,Nt)}}class eS extends class{}{constructor(n,i,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=i,this.hostView=this.changeDetectorRef=new LT(h),this.componentType=n}get injector(){return new mt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const jy=new Map;class rS extends Qg{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new q0(this);const c=Ur(n),h=n[wn]||null;h&&es(h),this._bootstrapComponents=Pl(c.bootstrap),this._r3Injector=mu(n,i,[{provide:Qg,useValue:this},{provide:Ny,useValue:this.componentFactoryResolver}],ve(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=Ss.THROW_IF_NOT_FOUND,c=q.Default){return n===Ss||n===Qg||n===nl?this:this._r3Injector.get(n,i,c)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Xb extends w0{constructor(n){super(),this.moduleType=n,null!==Ur(n)&&function(t){const n=new Set;!function i(c){const h=Ur(c,!0),g=h.id;null!==g&&(function(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${ve(n)} vs ${ve(n.name)}`)}(g,jy.get(g),c),jy.set(g,c));const b=Pl(h.imports);for(const T of b)n.has(T)||(n.add(T),i(T))}(t)}(n)}create(n){return new rS(this.moduleType,n)}}function Y0(t,n,i){const c=Ln()+t,h=ln();return h[c]===Br?sl(h,c,i?n.call(i):n()):function(t,n){return t[n]}(h,c)}function Q0(t,n,i,c){return J0(ln(),Ln(),t,n,i,c)}function tv(t,n){const i=t[n];return i===Br?void 0:i}function J0(t,n,i,c,h,g){const b=n+i;return To(t,b,h)?sl(t,b+1,g?c.call(g,h):c(h)):tv(t,b+1)}function rw(t,n){const i=Lr();let c;const h=t+20;i.firstCreatePass?(c=function(t,n){if(n)for(let i=n.length-1;i>=0;i--){const c=n[i];if(t===c.name)return c}throw new Ot("302",`The pipe '${t}' could not be found!`)}(n,i.pipeRegistry),i.data[h]=c,c.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(h,c.onDestroy)):c=i.data[h];const g=c.factory||(c.factory=ji(c.type)),b=pt(uh);try{const T=ks(!1),k=g();return ks(T),function(t,n,i,c){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=c}(i,ln(),h,k),k}finally{pt(b)}}function iw(t,n,i){const c=t+20,h=ln(),g=Cr(h,c);return rv(h,nv(h,c)?J0(h,Ln(),n,g.transform,i,g):g.transform(i))}function sw(t,n,i,c){const h=t+20,g=ln(),b=Cr(g,h);return rv(g,nv(g,h)?function(t,n,i,c,h,g,b){const T=n+i;return Uc(t,T,h,g)?sl(t,T+2,b?c.call(b,h,g):c(h,g)):tv(t,T+2)}(g,Ln(),n,b.transform,i,c,b):b.transform(i,c))}function nv(t,n){return t[1].data[n].pure}function rv(t,n){return il.isWrapped(n)&&(n=il.unwrap(n),t[ir()]=Br),n}function eE(t){return n=>{setTimeout(t,void 0,n)}}const mh=class extends I.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,c){var h,g,b;let T=n,k=i||(()=>null),j=c;if(n&&"object"==typeof n){const be=n;T=null===(h=be.next)||void 0===h?void 0:h.bind(be),k=null===(g=be.error)||void 0===g?void 0:g.bind(be),j=null===(b=be.complete)||void 0===b?void 0:b.bind(be)}this.__isAsync&&(k=eE(k),T&&(T=eE(T)),j&&(j=eE(j)));const J=super.subscribe({next:T,error:k,complete:j});return n instanceof o.w&&n.add(J),J}};function yS(){return this._results[nd()]()}class iv{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=nd(),c=iv.prototype;c[i]||(c[i]=yS)}get changes(){return this._changes||(this._changes=new mh)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const c=this;c.dirty=!1;const h=os(n);(this._changesDetected=!function(t,n,i){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let h=t[c],g=n[c];if(i&&(h=i(h),g=i(g)),g!==h)return!1}return!0}(c._results,h,i))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tE{constructor(n){this.queryList=n,this.matches=null}clone(){return new tE(this.queryList)}setDirty(){this.queryList.setDirty()}}class nE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const c=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let g=0;g<c;g++){const b=i.getByIndex(g);h.push(this.queries[b.indexInDeclarationView].clone())}return new nE(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==pw(n,i).matches&&this.queries[i].setDirty()}}class ow{constructor(n,i,c=null){this.predicate=n,this.flags=i,this.read=c}}class rE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let c=0;c<this.length;c++){const h=null!==i?i.length:0,g=this.getByIndex(c).embeddedTView(n,h);g&&(g.indexInDeclarationView=c,null!==i?i.push(g):i=[g])}return null!==i?new rE(i):null}template(n,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class iE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new iE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(n,i,bS(i,g)),this.matchTNodeWithReadOption(n,i,E(i,n,g,!1,!1))}else c===z_?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,E(i,n,c,!1,!1))}matchTNodeWithReadOption(n,i,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===gh||h===Yv||h===z_&&4&i.type)this.addMatch(i.index,-2);else{const g=E(i,n,h,!1,!1);null!==g&&this.addMatch(i.index,g)}else this.addMatch(i.index,c)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function bS(t,n){const i=t.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===n)return i[c+1];return null}function wS(t,n,i,c){return-1===i?function(t,n){return 11&t.type?Fy(t,n):4&t.type?Kv(t,n):null}(n,t):-2===i?function(t,n,i){return i===gh?Fy(n,t):i===z_?Kv(n,t):i===Yv?D0(n,t):void 0}(t,n,c):M(t,t[1],i,n)}function aw(t,n,i,c){const h=n[19].queries[c];if(null===h.matches){const g=t.data,b=i.matches,T=[];for(let k=0;k<b.length;k+=2){const j=b[k];T.push(j<0?null:wS(n,g[j],b[k+1],i.metadata.read))}h.matches=T}return h.matches}function sE(t,n,i,c){const h=t.queries.getByIndex(i),g=h.matches;if(null!==g){const b=aw(t,n,h,i);for(let T=0;T<g.length;T+=2){const k=g[T];if(k>0)c.push(b[T/2]);else{const j=g[T+1],J=n[-k];for(let be=10;be<J.length;be++){const Ie=J[be];Ie[17]===Ie[3]&&sE(Ie[1],Ie,j,c)}if(null!==J[9]){const be=J[9];for(let Ie=0;Ie<be.length;Ie++){const ot=be[Ie];sE(ot[1],ot,j,c)}}}}}return c}function lw(t){const n=ln(),i=Lr(),c=vs();Fi(c+1);const h=pw(i,c);if(t.dirty&&Di(n)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const g=h.crossesNgTemplate?sE(i,n,c,[]):aw(i,n,h,c);t.reset(g,p0),t.notifyOnChanges()}return!0}return!1}function cw(t,n,i){const c=Lr();c.firstCreatePass&&(fw(c,new ow(t,n,i),-1),2==(2&n)&&(c.staticViewQueries=!0)),hw(c,ln(),n)}function uw(t,n,i,c){const h=Lr();if(h.firstCreatePass){const g=C();fw(h,new ow(n,i,c),g.index),function(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(h,t),2==(2&i)&&(h.staticContentQueries=!0)}hw(h,ln(),i)}function dw(){return t=ln(),n=vs(),t[19].queries[n].queryList;var t,n}function hw(t,n,i){const c=new iv(4==(4&i));jf(t,n,c,c.destroy),null===n[19]&&(n[19]=new nE),n[19].queries.push(new tE(c))}function fw(t,n,i){null===t.queries&&(t.queries=new rE),t.queries.track(new iE(n,i))}function pw(t,n){return t.queries.getByIndex(n)}function gw(t,n){return Kv(t,n)}const dE=new ki("Application Initializer");let Zy=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Gv,this.reject=Gv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const i=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(S(g))i.push(g);else if(W(g)){const b=new Promise((T,k)=>{g.subscribe({complete:T,error:k})});i.push(b)}}Promise.all(i).then(()=>{c()}).catch(h=>{this.reject(h)}),0===i.length&&c(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(Cs(dE,8))},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})();const kw=new ki("AppId"),JS={provide:kw,useFactory:function(){return`${hE()}${hE()}${hE()}`},deps:[]};function hE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pw=new ki("Platform Initializer"),Nw=new ki("Platform ID"),Fw=new ki("appBootstrapListener");let Lw=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})();const rb=new ki("LocaleId"),Vw=new ki("DefaultCurrencyCode");class eI{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const fE=function(t){return new Xb(t)},tI=fE,nI=function(t){return Promise.resolve(fE(t))},Uw=function(t){const n=fE(t),c=Pl(Ur(t).declarations).reduce((h,g)=>{const b=lr(g);return b&&h.push(new z0(b)),h},[]);return new eI(n,c)},rI=Uw,iI=function(t){return Promise.resolve(Uw(t))};let ov=(()=>{class t{constructor(){this.compileModuleSync=tI,this.compileModuleAsync=nI,this.compileModuleAndAllComponentsSync=rI,this.compileModuleAndAllComponentsAsync=iI}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})();const aI=(()=>Promise.resolve(0))();function pE(t){"undefined"==typeof Zone?aI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class zc{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mh(!1),this.onMicrotaskEmpty=new mh(!1),this.onStable=new mh(!1),this.onError=new mh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&i,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let t=Fe.requestAnimationFrame,n=Fe.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mE(t),t.isCheckStableRunning=!0,gE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,c,h,g,b,T)=>{try{return Bw(t),i.invokeTask(h,g,b,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&n(),jw(t)}},onInvoke:(i,c,h,g,b,T,k)=>{try{return Bw(t),i.invoke(h,g,b,T,k)}finally{t.shouldCoalesceRunChangeDetection&&n(),jw(t)}},onHasTask:(i,c,h,g)=>{i.hasTask(h,g),c===h&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,mE(t),gE(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(i,c,h,g)=>(i.handleError(h,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,c){return this._inner.run(n,i,c)}runTask(n,i,c,h){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+h,n,cI,Gv,Gv);try{return g.runTask(b,i,c)}finally{g.cancelTask(b)}}runGuarded(n,i,c){return this._inner.runGuarded(n,i,c)}runOutsideAngular(n){return this._outer.run(n)}}const cI={};function gE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jw(t){t._nesting--,gE(t)}class hI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mh,this.onMicrotaskEmpty=new mh,this.onStable=new mh,this.onError=new mh}run(n,i,c){return n.apply(i,c)}runGuarded(n,i,c){return n.apply(i,c)}runOutsideAngular(n){return n()}runTask(n,i,c,h){return n.apply(i,c)}}let Hw=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zc.assertNotInAngularZone(),pE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pE(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),i(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:i,timeoutId:g,updateCb:h})}whenStable(i,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,c,h){return[]}}return t.\u0275fac=function(i){return new(i||t)(Cs(zc))},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})(),Zw=(()=>{class t{constructor(){this._applications=new Map,yE.addToWindow(this)}registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return yE.findTestabilityInTree(this,i,c)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})();class fI{addToWindow(n){}findTestabilityInTree(n,i,c){return null}}function pI(t){yE=t}let yE=new fI,Gw=!0,qw=!1;function _E(){return qw=!0,Gw}function gI(){if(qw)throw new Error("Cannot enable prod mode after platform setup.");Gw=!1}let ad;const $w=new ki("AllowMultipleToken");class wI{constructor(n,i){this.name=n,this.token=i}}function zw(t,n,i=[]){const c=`Platform: ${n}`,h=new ki(c);return(g=[])=>{let b=Ww();if(!b||b.injector.get($w,!1))if(t)t(i.concat(g).concat({provide:h,useValue:!0}));else{const T=i.concat(g).concat({provide:h,useValue:!0},{provide:uc,useValue:"platform"});!function(t){if(ad&&!ad.destroyed&&!ad.injector.get($w,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ad=t.get(Kw);const n=t.get(Pw,null);n&&n.forEach(i=>i())}(Ss.create({providers:T,name:c}))}return function(t){const n=Ww();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(h)}}function Ww(){return ad&&!ad.destroyed?ad:null}let Kw=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,c){const T=function(t,n){let i;return i="noop"===t?new hI:("zone.js"===t?void 0:t)||new zc({enableLongStackTrace:_E(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),k=[{provide:zc,useValue:T}];return T.run(()=>{const j=Ss.create({providers:k,parent:this.injector,name:i.moduleType.name}),J=i.create(j),be=J.injector.get(sc,null);if(!be)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return T.runOutsideAngular(()=>{const Ie=T.onError.subscribe({next:ot=>{be.handleError(ot)}});J.onDestroy(()=>{vE(this._modules,J),Ie.unsubscribe()})}),function(t,n,i){try{const c=i();return S(c)?c.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(be,T,()=>{const Ie=J.injector.get(Zy);return Ie.runInitializers(),Ie.donePromise.then(()=>(es(J.injector.get(rb,nt)||nt),this._moduleDoBootstrap(J),J))})})}bootstrapModule(i,c=[]){const h=Yw({},c);return function(t,n,i){const c=new Xb(i);return Promise.resolve(c)}(0,0,i).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(i){const c=i.injector.get(av);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${ve(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(c)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(Cs(Ss))},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})();function Yw(t,n){return Array.isArray(n)?n.reduce(Yw,t):Object.assign(Object.assign({},t),n)}let av=(()=>{class t{constructor(i,c,h,g,b){this._zone=i,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new Q.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),k=new Q.y(j=>{let J;this._zone.runOutsideAngular(()=>{J=this._zone.onStable.subscribe(()=>{zc.assertNotInAngularZone(),pE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const be=this._zone.onUnstable.subscribe(()=>{zc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{J.unsubscribe(),be.unsubscribe()}});this.isStable=(0,Ve.T)(T,k.pipe(t=>(0,Ee.x)()(function(t,n){return function(c){let h;h="function"==typeof t?t:function(){return t};const g=Object.create(c,Ne.N);return g.source=c,g.subjectFactory=h,g}}(ye)(t))))}bootstrap(i,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=i instanceof d0?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(h.componentType);const g=function(t){return t.isBoundToModule}(h)?void 0:this._injector.get(Qg),T=h.create(Ss.NULL,[],c||h.selector,g),k=T.location.nativeElement,j=T.injector.get(Hw,null),J=j&&T.injector.get(Zw);return j&&J&&J.registerApplication(k,j),T.onDestroy(()=>{this.detachView(T.hostView),vE(this.components,T),J&&J.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;vE(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(Fw,[]).concat(this._bootstrapListeners).forEach(h=>h(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(Cs(zc),Cs(Ss),Cs(sc),Cs(Ny),Cs(Zy))},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})();function vE(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}class AI{}class OI{}const xI={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let RI=(()=>{class t{constructor(i,c){this._compiler=i,this._config=c||xI}load(i){return this.loadAndCompile(i)}loadAndCompile(i){let[c,h]=i.split("#");return void 0===h&&(h="default"),U(8255)(c).then(g=>g[h]).then(g=>eC(g,c,h)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(i){let[c,h]=i.split("#"),g="NgFactory";return void 0===h&&(h="default",g=""),U(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(b=>b[h+g]).then(b=>eC(b,c,h))}}return t.\u0275fac=function(i){return new(i||t)(Cs(ov),Cs(OI,8))},t.\u0275prov=Fn({token:t,factory:t.\u0275fac}),t})();function eC(t,n,i){if(!t)throw new Error(`Cannot find '${i}' in '${n}'`);return t}const BI=function(t){return null},HI=zw(null,"core",[{provide:Nw,useValue:"unknown"},{provide:Kw,deps:[Ss]},{provide:Zw,deps:[]},{provide:Lw,deps:[]}]),zI=[{provide:av,useClass:av,deps:[zc,Ss,sc,Ny,Zy]},{provide:QD,deps:[zc],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}},{provide:Zy,useClass:Zy,deps:[[new Ka,dE]]},{provide:ov,useClass:ov,deps:[]},JS,{provide:$v,useFactory:function(){return qT},deps:[]},{provide:zv,useFactory:function(){return $T},deps:[]},{provide:rb,useFactory:function(t){return es(t=t||"undefined"!=typeof $localize&&$localize.locale||nt),t},deps:[[new Ns(rb),new Ka,new Oa]]},{provide:Vw,useValue:"USD"}];let KI=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(Cs(av))},t.\u0275mod=Sn({type:t}),t.\u0275inj=Wn({providers:zI}),t})()},3801:(un,ht,U)=>{"use strict";U.d(ht,{nm:()=>je});var I=U(5361),Ne=(U(3018),U(127),U(2329),U(8239)),_e=U(8026),xe=U(3910),Ee=U(3854),ye=U(5422);const se=new Map,ae={activated:!1,tokenObservers:[]},Te={initialized:!1,enabled:!1};function ve(_t){return se.get(_t)||ae}function Be(_t,ft){se.set(_t,ft)}function $e(){return Te}class Je{constructor(ft,Mt,Ht,yn,jn){if(this.operation=ft,this.retryPolicy=Mt,this.getWaitDuration=Ht,this.lowerBound=yn,this.upperBound=jn,this.pending=null,this.nextErrorWaitInterval=yn,yn>jn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ft){var Mt=this;return(0,Ne.Z)(function*(){Mt.stop();try{Mt.pending=new Ee.BH,yield(_t=Mt.getNextRun(ft),new Promise(ft=>{setTimeout(ft,_t)})),Mt.pending.resolve(),yield Mt.pending.promise,Mt.pending=new Ee.BH,yield Mt.operation(),Mt.pending.resolve(),yield Mt.pending.promise,Mt.process(!0).catch(()=>{})}catch(Ht){Mt.retryPolicy(Ht)?Mt.process(!1).catch(()=>{}):Mt.stop()}var _t})()}getNextRun(ft){if(ft)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Mt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Mt}}}const He=new Ee.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tt(_t){if(!ve(_t).activated)throw He.create("use-before-activation",{appName:_t.name})}function ut(_t,ft){return St.apply(this,arguments)}function St(){return(St=(0,Ne.Z)(function*({url:_t,body:ft},Mt){var Ht,yn;const jn={"Content-Type":"application/json"},wr=Mt.getImmediate({optional:!0});if(wr){const gi=yield wr.getHeartbeatsHeader();gi&&(jn["X-Firebase-Client"]=gi)}const si={method:"POST",body:JSON.stringify(ft),headers:jn};let Gr,oi;try{Gr=yield fetch(_t,si)}catch(gi){throw He.create("fetch-network-error",{originalErrorMessage:null===(Ht=gi)||void 0===Ht?void 0:Ht.message})}if(200!==Gr.status)throw He.create("fetch-status-error",{httpStatus:Gr.status});try{oi=yield Gr.json()}catch(gi){throw He.create("fetch-parse-error",{originalErrorMessage:null===(yn=gi)||void 0===yn?void 0:yn.message})}const pi=oi.ttl.match(/^([\d.]+)(s)$/);if(!pi||!pi[2]||isNaN(Number(pi[1])))throw He.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${oi.ttl}`});const ci=1e3*Number(pi[1]),ts=Date.now();return{token:oi.token,expireTimeMillis:ts+ci,issuedAtTimeMillis:ts}})).apply(this,arguments)}function vn(_t,ft){const{projectId:Mt,appId:Ht,apiKey:yn}=_t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Mt}/apps/${Ht}:exchangeDebugToken?key=${yn}`,body:{debug_token:ft}}}const fn="firebase-app-check-store";let Tr=null;function _r(){return Tr||(Tr=new Promise((_t,ft)=>{var Mt;try{const Ht=indexedDB.open("firebase-app-check-database",1);Ht.onsuccess=yn=>{_t(yn.target.result)},Ht.onerror=yn=>{var jn;ft(He.create("storage-open",{originalErrorMessage:null===(jn=yn.target.error)||void 0===jn?void 0:jn.message}))},Ht.onupgradeneeded=yn=>{0===yn.oldVersion&&yn.target.result.createObjectStore(fn,{keyPath:"compositeKey"})}}catch(Ht){ft(He.create("storage-open",{originalErrorMessage:null===(Mt=Ht)||void 0===Mt?void 0:Mt.message}))}}),Tr)}function vr(){return(vr=(0,Ne.Z)(function*(_t,ft){const Ht=(yield _r()).transaction(fn,"readwrite"),jn=Ht.objectStore(fn).put({compositeKey:_t,value:ft});return new Promise((wr,si)=>{jn.onsuccess=Gr=>{wr()},Ht.onerror=Gr=>{var oi;si(He.create("storage-set",{originalErrorMessage:null===(oi=Gr.target.error)||void 0===oi?void 0:oi.message}))}})})).apply(this,arguments)}const En=new ye.Yd("@firebase/app-check");function Jn(_t,ft){return(0,Ee.hl)()?function(_t,ft){return function(_t,ft){return vr.apply(this,arguments)}(function(_t){return`${_t.options.appId}-${_t.name}`}(_t),ft)}(_t,ft).catch(Mt=>{En.warn(`Failed to write token to IndexedDB. Error: ${Mt}`)}):Promise.resolve()}function Qt(){return $e().enabled}function Se(){return ke.apply(this,arguments)}function ke(){return(ke=(0,Ne.Z)(function*(){const _t=$e();if(_t.enabled&&_t.token)return _t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const he={error:"UNKNOWN_ERROR"};function Le(_t){return Ee.US.encodeString(JSON.stringify(_t),!1)}function pt(_t){return yt.apply(this,arguments)}function yt(){return(yt=(0,Ne.Z)(function*(_t,ft=!1){const Mt=_t.app;Tt(Mt);const Ht=ve(Mt);let jn,yn=Ht.token;if(!yn){const Gr=yield Ht.cachedTokenPromise;Gr&&Hn(Gr)&&(yn=Gr)}if(!ft&&yn&&Hn(yn))return{token:yn.token};let si,wr=!1;if(Qt()){Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=ut(vn(Mt,yield Se()),_t.heartbeatServiceProvider).then(oi=>(Ht.exchangeTokenPromise=void 0,oi)),wr=!0);const Gr=yield Ht.exchangeTokenPromise;return yield Jn(Mt,Gr),Be(Mt,Object.assign(Object.assign({},Ht),{token:Gr})),{token:Gr.token}}try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Ht.provider.getToken().then(Gr=>(Ht.exchangeTokenPromise=void 0,Gr)),wr=!0),yn=yield Ht.exchangeTokenPromise}catch(Gr){"appCheck/throttled"===Gr.code?En.warn(Gr.message):En.error(Gr),jn=Gr}return yn?(si={token:yn.token},Be(Mt,Object.assign(Object.assign({},Ht),{token:yn})),yield Jn(Mt,yn)):si=xn(jn),wr&&dr(Mt,si),si})).apply(this,arguments)}function Bt(_t,ft){const Mt=ve(_t),Ht=Mt.tokenObservers.filter(yn=>yn.next!==ft);0===Ht.length&&Mt.tokenRefresher&&Mt.tokenRefresher.isRunning()&&Mt.tokenRefresher.stop(),Be(_t,Object.assign(Object.assign({},Mt),{tokenObservers:Ht}))}function Tn(_t){const{app:ft}=_t,Mt=ve(ft);let Ht=Mt.tokenRefresher;Ht||(Ht=function(_t){const{app:ft}=_t;return new Je((0,Ne.Z)(function*(){let Ht;if(Ht=ve(ft).token?yield pt(_t,!0):yield pt(_t),Ht.error)throw Ht.error}),()=>!0,()=>{const Mt=ve(ft);if(Mt.token){let Ht=Mt.token.issuedAtTimeMillis+.5*(Mt.token.expireTimeMillis-Mt.token.issuedAtTimeMillis)+3e5;return Ht=Math.min(Ht,Mt.token.expireTimeMillis-3e5),Math.max(0,Ht-Date.now())}return 0},3e4,96e4)}(_t),Be(ft,Object.assign(Object.assign({},Mt),{tokenRefresher:Ht}))),!Ht.isRunning()&&Mt.isTokenAutoRefreshEnabled&&Ht.start()}function dr(_t,ft){const Mt=ve(_t).tokenObservers;for(const Ht of Mt)try{"EXTERNAL"===Ht.type&&null!=ft.error?Ht.error(ft.error):Ht.next(ft)}catch(yn){}}function Hn(_t){return _t.expireTimeMillis-Date.now()>0}function xn(_t){return{token:Le(he),error:_t}}class Er{constructor(ft,Mt){this.app=ft,this.heartbeatServiceProvider=Mt}_delete(){const{tokenObservers:ft}=ve(this.app);for(const Mt of ft)Bt(this.app,Mt.next);return Promise.resolve()}}const Vr="app-check-internal";(0,_e._registerComponent)(new xe.wA("app-check",_t=>function(_t,ft){return new Er(_t,ft)}(_t.getProvider("app").getImmediate(),_t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_t,ft,Mt)=>{_t.getProvider(Vr).initialize()})),(0,_e._registerComponent)(new xe.wA(Vr,_t=>function(_t){return{getToken:ft=>pt(_t,ft),addTokenListener:ft=>function(_t,ft,Mt,Ht){const{app:yn}=_t,jn=ve(yn),wr={next:Mt,error:Ht,type:ft};if(Be(yn,Object.assign(Object.assign({},jn),{tokenObservers:[...jn.tokenObservers,wr]})),jn.token&&Hn(jn.token)){const si=jn.token;Promise.resolve().then(()=>{Mt({token:si.token}),Tn(_t)}).catch(()=>{})}jn.cachedTokenPromise.then(()=>Tn(_t))}(_t,"INTERNAL",ft),removeTokenListener:ft=>Bt(_t.app,ft)}}(_t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)("@firebase/app-check","0.5.12");class je{constructor(){return(0,I.vb)("app-check")}}"undefined"!=typeof window&&window},127:(un,ht,U)=>{"use strict";U.d(ht,{Ot:()=>Q}),U(2329),U(3018);class Q{constructor(At){return At}}},3820:(un,ht,U)=>{"use strict";U.d(ht,{zQ:()=>st,ww:()=>Xe,rT:()=>Qe,f7:()=>it,L6:()=>Je,_Q:()=>rt,lh:()=>He,Qv:()=>At,nw:()=>Tt});var I=U(3018),o=U(9765),Q=U(5917),Ve=U(7574),Ne=U(4402),_e=U(6682),xe=U(3190);function Ee(ut,St){return St?(0,xe.w)(()=>ut,St):(0,xe.w)(()=>ut)}var ye=U(309),se=U(8002),ae=U(2066),Te=U(8049),ve=U(9673),Be=U(5435),$e=U(5361),Ge=U(8939),ce=U(8583),wt=U(3801),Wt=U(7841);const At=new I.OlP("angularfire2.auth.use-emulator"),Je=new I.OlP("angularfire2.auth.settings"),rt=new I.OlP("angularfire2.auth.tenant-id"),Qe=new I.OlP("angularfire2.auth.langugage-code"),He=new I.OlP("angularfire2.auth.use-device-language"),it=new I.OlP("angularfire.auth.persistence"),Tt=(ut,St,Dt,Lt,vn,Dn,Vn,fn)=>(0,Ge.cc)(`${ut.name}.auth`,"AngularFireAuth",ut.name,()=>{const Bn=St.runOutsideAngular(()=>ut.auth());if(Dt&&Bn.useEmulator(...Dt),Lt&&(Bn.tenantId=Lt),Bn.languageCode=vn,Dn&&Bn.useDeviceLanguage(),Vn)for(const[Tr,_r]of Object.entries(Vn))Bn.settings[Tr]=_r;return fn&&Bn.setPersistence(fn),Bn},[Dt,Lt,vn,Dn,Vn,fn]);let st=(()=>{class ut{constructor(Dt,Lt,vn,Dn,Vn,fn,Bn,Tr,_r,xr,hn,bn){const tr=new o.xQ,$r=(0,Q.of)(void 0).pipe((0,ye.QV)(Vn.outsideAngular),(0,xe.w)(()=>Dn.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,4828)))),(0,se.U)(()=>(0,Ge.on)(Dt,Dn,Lt)),(0,se.U)(vr=>Tt(vr,Dn,fn,Tr,_r,xr,Bn,hn)),(0,ae.d)({bufferSize:1,refCount:!1}));if((0,ce.PM)(vn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{$r.pipe((0,Te.P)()).subscribe();const Fn=$r.pipe((0,xe.w)(En=>En.getRedirectResult().then(Yn=>Yn,()=>null)),$e.iC,(0,ae.d)({bufferSize:1,refCount:!1})),Gn=$r.pipe((0,xe.w)(En=>new Ve.y(Yn=>({unsubscribe:Dn.runOutsideAngular(()=>En.onAuthStateChanged(br=>Yn.next(br),br=>Yn.error(br),()=>Yn.complete()))})))),Wn=$r.pipe((0,xe.w)(En=>new Ve.y(Yn=>({unsubscribe:Dn.runOutsideAngular(()=>En.onIdTokenChanged(br=>Yn.next(br),br=>Yn.error(br),()=>Yn.complete()))}))));this.authState=Fn.pipe(Ee(Gn),(0,ve.R)(Vn.outsideAngular),(0,ye.QV)(Vn.insideAngular)),this.user=Fn.pipe(Ee(Wn),(0,ve.R)(Vn.outsideAngular),(0,ye.QV)(Vn.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(En=>En?(0,Ne.D)(En.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(En=>En?(0,Ne.D)(En.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,_e.T)(Fn,tr,this.authState.pipe((0,Be.h)(En=>!En))).pipe((0,se.U)(En=>(null==En?void 0:En.user)?En:null),(0,ve.R)(Vn.outsideAngular),(0,ye.QV)(Vn.insideAngular))}return(0,Ge.pX)(this,$r,Dn,{spy:{apply:(vr,Fn,Gn)=>{(vr.startsWith("signIn")||vr.startsWith("createUser"))&&Gn.then(Wn=>tr.next(Wn))}}})}}return ut.\u0275fac=function(Dt){return new(Dt||ut)(I.LFG(Ge.Dh),I.LFG(Ge.xv,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG($e.HU),I.LFG(At,8),I.LFG(Je,8),I.LFG(rt,8),I.LFG(Qe,8),I.LFG(He,8),I.LFG(it,8),I.LFG(wt.nm,8))},ut.\u0275prov=I.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"any"}),ut})(),Xe=(()=>{class ut{constructor(){Wt.Z.registerVersion("angularfire",$e.q4.full,"auth-compat")}}return ut.\u0275fac=function(Dt){return new(Dt||ut)},ut.\u0275mod=I.oAB({type:ut}),ut.\u0275inj=I.cJS({providers:[st]}),ut})()},4384:(un,ht,U)=>{"use strict";U.d(ht,{ST:()=>Ob});var Qe,I=U(3018),o=U(3637),Q=U(7574),Ve=U(4402),Ne=U(5917),_e=U(5361),xe=U(9761),Ee=U(9328),ye=U(8002),se=U(2145),ae=U(7519),Te=U(5435),ve=U(8939),Be=U(8583),Ge=(U(4828),U(3394)),ce=U(8239),wt=U(8026),Wt=U(3910),Ot=U(5422),At=U(3854),Je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rt={},He=He||{},it=Je||self;function Tt(){}function st(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Xe(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var St="closure_uid_"+(1e9*Math.random()>>>0),Dt=0;function Lt(s,e,r){return s.call.apply(s.bind,arguments)}function vn(s,e,r){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,l),s.apply(e,f)}}return function(){return s.apply(e,arguments)}}function Dn(s,e,r){return(Dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lt:vn).apply(null,arguments)}function Vn(s,e){var r=Array.prototype.slice.call(arguments,1);return function(){var l=r.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function fn(s,e){function r(){}r.prototype=e.prototype,s.Z=e.prototype,s.prototype=new r,s.prototype.constructor=s,s.Vb=function(l,f,m){for(var D=Array(arguments.length-2),P=2;P<arguments.length;P++)D[P-2]=arguments[P];return e.prototype[f].apply(l,D)}}function Bn(){this.s=this.s,this.o=this.o}var _r={};Bn.prototype.s=!1,Bn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,St)&&s[St]||(s[St]=++Dt)}(this);delete _r[s]}},Bn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xr=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let r=0;r<s.length;r++)if(r in s&&s[r]===e)return r;return-1},hn=Array.prototype.forEach?function(s,e,r){Array.prototype.forEach.call(s,e,r)}:function(s,e,r){const l=s.length,f="string"==typeof s?s.split(""):s;for(let m=0;m<l;m++)m in f&&e.call(r,f[m],m,s)};function tr(s){return Array.prototype.concat.apply([],arguments)}function $r(s){const e=s.length;if(0<e){const r=Array(e);for(let l=0;l<e;l++)r[l]=s[l];return r}return[]}function vr(s){return/^[\s\xa0]*$/.test(s)}var En,Fn=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Gn(s,e){return-1!=s.indexOf(e)}function Wn(s,e){return s<e?-1:s>e?1:0}e:{var Yn=it.navigator;if(Yn){var br=Yn.userAgent;if(br){En=br;break e}}En=""}function Jn(s,e,r){for(const l in s)e.call(r,s[l],l,s)}function Rr(s){const e={};for(const r in s)e[r]=s[r];return e}var qt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(s,e){let r,l;for(let f=1;f<arguments.length;f++){for(r in l=arguments[f],l)s[r]=l[r];for(let m=0;m<qt.length;m++)r=qt[m],Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])}}function Se(s){return Se[" "](s),s}Se[" "]=Tt;var Tn,s,q=Gn(En,"Opera"),he=Gn(En,"Trident")||Gn(En,"MSIE"),Le=Gn(En,"Edge"),pt=Le||he,yt=Gn(En,"Gecko")&&!(Gn(En.toLowerCase(),"webkit")&&!Gn(En,"Edge"))&&!(Gn(En,"Trident")||Gn(En,"MSIE"))&&!Gn(En,"Edge"),Ct=Gn(En.toLowerCase(),"webkit")&&!Gn(En,"Edge");function Bt(){var s=it.document;return s?s.documentMode:void 0}e:{var ar="",dr=(s=En,yt?/rv:([^\);]+)(\)|;)/.exec(s):Le?/Edge\/([\d\.]+)/.exec(s):he?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Ct?/WebKit\/(\S+)/.exec(s):q?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(dr&&(ar=dr?dr[1]:""),he){var Hn=Bt();if(null!=Hn&&Hn>parseFloat(ar)){Tn=String(Hn);break e}}Tn=ar}var xn={};function Er(){return e=xn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=Fn(String(Tn)).split("."),r=Fn("9").split("."),l=Math.max(e.length,r.length);for(let D=0;0==s&&D<l;D++){var f=e[D]||"",m=r[D]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==f[0].length&&0==m[0].length)break;s=Wn(0==f[1].length?0:parseInt(f[1],10),0==m[1].length?0:parseInt(m[1],10))||Wn(0==f[2].length,0==m[2].length)||Wn(f[2],m[2]),f=f[3],m=m[3]}while(0==s)}return 0<=s}();var e}var Fe=it.document&&he&&(Bt()||parseInt(Tn,10))||void 0,Ke=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{it.addEventListener("test",Tt,e),it.removeEventListener("test",Tt,e)}catch(r){}return s}();function Oe(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function ze(s,e){if(Oe.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var r=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(yt){e:{try{Se(e.nodeName);var f=!0;break e}catch(m){}f=!1}f||(e=null)}}else"mouseover"==r?e=s.fromElement:"mouseout"==r&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:ne[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&ze.Z.h.call(this)}}Oe.prototype.h=function(){this.defaultPrevented=!0},fn(ze,Oe);var ne={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),me=0;function et(s,e,r,l,f){this.listener=s,this.proxy=null,this.src=e,this.type=r,this.capture=!!l,this.ia=f,this.key=++me,this.ca=this.fa=!1}function on(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function wn(s){this.src=s,this.g={},this.h=0}function gt(s,e){var r=e.type;if(r in s.g){var m,l=s.g[r],f=xr(l,e);(m=0<=f)&&Array.prototype.splice.call(l,f,1),m&&(on(e),0==s.g[r].length&&(delete s.g[r],s.h--))}}function X(s,e,r,l){for(var f=0;f<s.length;++f){var m=s[f];if(!m.ca&&m.listener==e&&m.capture==!!r&&m.ia==l)return f}return-1}wn.prototype.add=function(s,e,r,l,f){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var D=X(s,e,l,f);return-1<D?(e=s[D],r||(e.fa=!1)):((e=new et(e,this.src,m,!!l,f)).fa=r,s.push(e)),e};var z="closure_lm_"+(1e6*Math.random()|0),H={};function fe(s,e,r,l,f){if(l&&l.once)return rn(s,e,r,l,f);if(Array.isArray(e)){for(var m=0;m<e.length;m++)fe(s,e[m],r,l,f);return null}return r=yi(r),s&&s[Me]?s.N(e,r,Xe(l)?!!l.capture:!!l,f):Ue(s,e,r,!1,l,f)}function Ue(s,e,r,l,f,m){if(!e)throw Error("Invalid event type");var D=Xe(f)?!!f.capture:!!f,P=mn(s);if(P||(s[z]=P=new wn(s)),(r=P.add(e,r,l,D,m)).proxy)return r;if(l=function(){var e=Mr;return function s(r){return e.call(s.src,s.listener,r)}}(),r.proxy=l,l.src=s,l.listener=r,s.addEventListener)Ke||(f=D),void 0===f&&(f=!1),s.addEventListener(e.toString(),l,f);else if(s.attachEvent)s.attachEvent(gr(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return r}function rn(s,e,r,l,f){if(Array.isArray(e)){for(var m=0;m<e.length;m++)rn(s,e[m],r,l,f);return null}return r=yi(r),s&&s[Me]?s.O(e,r,Xe(l)?!!l.capture:!!l,f):Ue(s,e,r,!0,l,f)}function Sn(s,e,r,l,f){if(Array.isArray(e))for(var m=0;m<e.length;m++)Sn(s,e[m],r,l,f);else l=Xe(l)?!!l.capture:!!l,r=yi(r),s&&s[Me]?(s=s.i,(e=String(e).toString())in s.g&&-1<(r=X(m=s.g[e],r,l,f))&&(on(m[r]),Array.prototype.splice.call(m,r,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=mn(s))&&(e=s.g[e.toString()],s=-1,e&&(s=X(e,r,l,f)),(r=-1<s?e[s]:null)&&Rn(r))}function Rn(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[Me])gt(e.i,s);else{var r=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(r,l,s.capture):e.detachEvent?e.detachEvent(gr(r),l):e.addListener&&e.removeListener&&e.removeListener(l),(r=mn(e))?(gt(r,s),0==r.h&&(r.src=null,e[z]=null)):on(s)}}}function gr(s){return s in H?H[s]:H[s]="on"+s}function Mr(s,e){if(s.ca)s=!0;else{e=new ze(e,this);var r=s.listener,l=s.ia||s.src;s.fa&&Rn(s),s=r.call(l,e)}return s}function mn(s){return(s=s[z])instanceof wn?s:null}var lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yi(s){return"function"==typeof s?s:(s[lr]||(s[lr]=function(e){return s.handleEvent(e)}),s[lr])}function Vr(){Bn.call(this),this.i=new wn(this),this.P=this,this.I=null}function Ur(s,e){var r,l=s.I;if(l)for(r=[];l;l=l.I)r.push(l);if(s=s.P,l=e.type||e,"string"==typeof e)e=new Oe(e,s);else if(e instanceof Oe)e.target=e.target||s;else{var f=e;Qt(e=new Oe(l,s),f)}if(f=!0,r)for(var m=r.length-1;0<=m;m--){var D=e.g=r[m];f=ls(D,l,!0,e)&&f}if(f=ls(D=e.g=s,l,!0,e)&&f,f=ls(D,l,!1,e)&&f,r)for(m=0;m<r.length;m++)f=ls(D=e.g=r[m],l,!1,e)&&f}function ls(s,e,r,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,m=0;m<e.length;++m){var D=e[m];if(D&&!D.ca&&D.capture==r){var P=D.listener,K=D.ia||D.src;D.fa&&gt(s.i,D),f=!1!==P.call(K,l)&&f}}return f&&!l.defaultPrevented}fn(Vr,Bn),Vr.prototype[Me]=!0,Vr.prototype.removeEventListener=function(s,e,r,l){Sn(this,s,e,r,l)},Vr.prototype.M=function(){if(Vr.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var r=s.g[e],l=0;l<r.length;l++)on(r[l]);delete s.g[e],s.h--}}this.I=null},Vr.prototype.N=function(s,e,r,l){return this.i.add(String(s),e,!1,r,l)},Vr.prototype.O=function(s,e,r,l){return this.i.add(String(s),e,!0,r,l)};var nr=it.JSON.stringify;function je(){var s=bt;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var ct,zt=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new kn,s=>s.reset());class kn{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Zr(s){it.setTimeout(()=>{throw s},0)}function fr(s,e){ct||function(){var s=it.Promise.resolve(void 0);ct=function(){s.then(Pt)}}(),Re||(ct(),Re=!0),bt.add(s,e)}var Re=!1,bt=new class{constructor(){this.h=this.g=null}add(e,r){const l=zt.get();l.set(e,r),this.h?this.h.next=l:this.g=l,this.h=l}};function Pt(){for(var s;s=je();){try{s.h.call(s.g)}catch(r){Zr(r)}var e=zt;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Re=!1}function rr(s,e){Vr.call(this),this.h=s||1,this.g=e||it,this.j=Dn(this.kb,this),this.l=Date.now()}function Dr(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Yr(s,e,r){if("function"==typeof s)r&&(s=Dn(s,r));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Dn(s.handleEvent,s)}return 2147483647<Number(e)?-1:it.setTimeout(s,e||0)}function li(s){s.g=Yr(()=>{s.g=null,s.i&&(s.i=!1,li(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}fn(rr,Vr),(Qe=rr.prototype).da=!1,Qe.S=null,Qe.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ur(this,"tick"),this.da&&(Dr(this),this.start()))}},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){rr.Z.M.call(this),Dr(this),delete this.g};class fi extends Bn{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:li(this)}M(){super.M(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(s){Bn.call(this),this.h=s,this.g={}}fn(_t,Bn);var ft=[];function Mt(s,e,r,l){Array.isArray(r)||(r&&(ft[0]=r.toString()),r=ft);for(var f=0;f<r.length;f++){var m=fe(e,r[f],l||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function Ht(s){Jn(s.g,function(e,r){this.g.hasOwnProperty(r)&&Rn(e)},s),s.g={}}function yn(){this.g=!0}function si(s,e,r,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(s=0;s<r.length;s++)if(Array.isArray(r[s])){var l=r[s];if(!(2>l.length)){var f=l[1];if(Array.isArray(f)&&!(1>f.length)){var m=f[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var D=1;D<f.length;D++)f[D]=""}}}return nr(r)}catch(P){return e}}(s,r)+(l?" "+l:"")})}_t.prototype.M=function(){_t.Z.M.call(this),Ht(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yn.prototype.Aa=function(){this.g=!1},yn.prototype.info=function(){};var pi={},ci=null;function ts(){return ci=ci||new Vr}function gi(s){Oe.call(this,pi.Ma,s)}function Wr(s){const e=ts();Ur(e,new gi(e,s))}function zs(s,e){Oe.call(this,pi.STAT_EVENT,s),this.stat=e}function xi(s){const e=ts();Ur(e,new zs(e,s))}function Bi(s,e){Oe.call(this,pi.Na,s),this.size=e}function Ci(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){s()},e)}pi.Ma="serverreachability",fn(gi,Oe),pi.STAT_EVENT="statevent",fn(zs,Oe),pi.Na="timingevent",fn(Bi,Oe);var Is={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Va={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function As(){}function Xo(){}As.prototype.h=null;var Bs,aa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cs(){Oe.call(this,"d")}function Ls(){Oe.call(this,"c")}function So(){}function Bo(s,e,r,l){this.l=s,this.j=e,this.m=r,this.X=l||1,this.V=new _t(this),this.P=ba,this.W=new rr(s=pt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jo}function jo(){this.i=null,this.g="",this.h=!1}fn(cs,Oe),fn(Ls,Oe),fn(So,As),So.prototype.g=function(){return new XMLHttpRequest},So.prototype.i=function(){return{}},Bs=new So;var ba=45e3,to={},Ms={};function Ws(s,e,r){s.K=1,s.v=at(Ti(e)),s.s=r,s.U=!0,no(s,null)}function no(s,e){s.F=Date.now(),Ks(s),s.A=Ti(s.v);var r=s.A,l=s.X;Array.isArray(l)||(l=[String(l)]),ds(r.h,"t",l),s.C=0,r=s.l.H,s.h=new jo,s.g=co(s.l,r?e:null,!s.s),0<s.O&&(s.L=new fi(Dn(s.Ia,s,s.g),s.O)),Mt(s.V,s.g,"readystatechange",s.gb),e=s.H?Rr(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),Wr(1),function(s,e,r,l,f,m){s.info(function(){if(s.g)if(m)for(var D="",P=m.split("&"),K=0;K<P.length;K++){var ee=P[K].split("=");if(1<ee.length){var De=ee[0];ee=ee[1];var nt=De.split("_");D=2<=nt.length&&"type"==nt[1]?D+(De+"=")+ee+"&":D+(De+"=redacted&")}}else D=null;else D=m;return"XMLHTTP REQ ("+l+") [attempt "+f+"]: "+e+"\n"+r+"\n"+D})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Io(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function ro(s,e,r){let f,l=!0;for(;!s.I&&s.C<r.length;){if(f=ea(s,r),f==Ms){4==e&&(s.o=4,xi(14),l=!1),si(s.j,s.m,null,"[Incomplete Response]");break}if(f==to){s.o=4,xi(15),si(s.j,s.m,r,"[Invalid Chunk]"),l=!1;break}si(s.j,s.m,f,null),Oo(s,f)}Io(s)&&f!=Ms&&f!=to&&(s.h.g="",s.C=0),4!=e||0!=r.length||s.h.h||(s.o=1,xi(16),l=!1),s.i=s.i&&l,l?0<r.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Es(e),e.L=!0,xi(11))):(si(s.j,s.m,r,"[Invalid Chunked Response]"),Mo(s),ji(s))}function ea(s,e){var r=s.C,l=e.indexOf("\n",r);return-1==l?Ms:(r=Number(e.substring(r,l)),isNaN(r)?to:(l+=1)+r>e.length?Ms:(e=e.substr(l,r),s.C=l+r,e))}function Ks(s){s.Y=Date.now()+s.P,io(s,s.P)}function io(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Ci(Dn(s.eb,s),e)}function Ao(s){s.B&&(it.clearTimeout(s.B),s.B=null)}function ji(s){0==s.l.G||s.I||mi(s.l,s)}function Mo(s){Ao(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Dr(s.W),Ht(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Oo(s,e){try{var r=s.l;if(0!=r.G&&(r.g==s||Os(r.i,s)))if(r.I=s.N,!s.J&&Os(r.i,s)&&3==r.G){try{var l=r.Ca.g.parse(e)}catch(ee){l=null}if(Array.isArray(l)&&3==l.length){var f=l;if(0==f[0])e:if(r.u)r.ta=f[1],0<r.ta-r.U&&37500>f[2]&&r.N&&0==r.A&&!r.v&&(r.v=Ci(Dn(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<s.F))break e;Ri(r),Ua(r)}Nr(r),xi(18)}if(1>=ui(r.i)&&r.ka){try{r.ka()}catch(ee){}r.ka=void 0}}else xs(r,11)}else if((s.J||r.g==s)&&Ri(r),!vr(e))for(f=r.Ca.g.parse(e),e=0;e<f.length;e++){let ee=f[e];if(r.U=ee[0],ee=ee[1],2==r.G)if("c"==ee[0]){r.J=ee[1],r.la=ee[2];const De=ee[3];null!=De&&(r.ma=De,r.h.info("VER="+r.ma));const nt=ee[4];null!=nt&&(r.za=nt,r.h.info("SVER="+r.za));const jt=ee[5];null!=jt&&"number"==typeof jt&&0<jt&&(r.K=l=1.5*jt,r.h.info("backChannelRequestTimeoutMs_="+l)),l=r;const tn=s.g;if(tn){const an=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(an){var m=l.i;!m.g&&(Gn(an,"spdy")||Gn(an,"quic")||Gn(an,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(ys(m,m.h),m.h=null))}if(l.D){const An=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;An&&(l.sa=An,pe(l.F,l.D,An))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-s.F,r.h.info("Handshake RTT: "+r.O+"ms"));var D=s;if((l=r).oa=lo(l,l.H?l.la:null,l.W),D.J){wa(l.i,D);var P=D,K=l.K;K&&P.setTimeout(K),P.B&&(Ao(P),Ks(P)),l.g=D}else qr(l);0<r.l.length&&Ba(r)}else"stop"!=ee[0]&&"close"!=ee[0]||xs(r,7);else 3==r.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?xs(r,7):bs(r):"noop"!=ee[0]&&r.j&&r.j.wa(ee),r.A=0)}Wr(4)}catch(ee){}}function us(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(st(s)||"string"==typeof s)hn(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var r=s.T();else if(s.R&&"function"==typeof s.R)r=void 0;else if(st(s)||"string"==typeof s){r=[];for(var l=s.length,f=0;f<l;f++)r.push(f)}else for(f in r=[],l=0,s)r[l++]=f;l=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(st(s)){for(var e=[],r=s.length,l=0;l<r;l++)e.push(s[l]);return e}for(l in e=[],r=0,s)e[r++]=s[l];return e}(s),f=l.length;for(var m=0;m<f;m++)e.call(void 0,l[m],r&&r[m],s)}}function Ys(s,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var l=0;l<r;l+=2)this.set(arguments[l],arguments[l+1])}else if(s)if(s instanceof Ys)for(r=s.T(),l=0;l<r.length;l++)this.set(r[l],s.get(r[l]));else for(l in s)this.set(l,s[l])}function Hi(s){if(s.i!=s.g.length){for(var e=0,r=0;e<s.g.length;){var l=s.g[e];gs(s.h,l)&&(s.g[r++]=l),e++}s.g.length=r}if(s.i!=s.g.length){var f={};for(r=e=0;e<s.g.length;)gs(f,l=s.g[e])||(s.g[r++]=l,f[l]=1),e++;s.g.length=r}}function gs(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(Qe=Bo.prototype).setTimeout=function(s){this.P=s},Qe.gb=function(s){s=s.target;const e=this.L;e&&3==Or(s)?e.l():this.Ia(s)},Qe.Ia=function(s){try{if(s==this.g)e:{const De=Or(this.g);var e=this.g.Da();const nt=this.g.ba();if(!(3>De)&&(3!=De||pt||this.g&&(this.h.h||this.g.ga()||oo(this.g)))){this.I||4!=De||7==e||Wr(8==e||0>=nt?3:2),Ao(this);var r=this.g.ba();this.N=r;t:if(Io(this)){var l=oo(this.g);s="";var f=l.length,m=4==Or(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mo(this),ji(this);var D="";break t}this.h.i=new it.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:m&&e==f-1});l.splice(0,f),this.h.g+=s,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==r,function(s,e,r,l,f,m,D){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+e+"\n"+r+"\n"+m+" "+D})}(this.j,this.u,this.A,this.m,this.X,De,r),this.i){if(this.$&&!this.J){t:{if(this.g){var P,K=this.g;if((P=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(P)){var ee=P;break t}}ee=null}if(!(r=ee)){this.i=!1,this.o=3,xi(12),Mo(this),ji(this);break e}si(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oo(this,r)}this.U?(ro(this,De,D),pt&&this.i&&3==De&&(Mt(this.V,this.W,"tick",this.fb),this.W.start())):(si(this.j,this.m,D,null),Oo(this,D)),4==De&&Mo(this),this.i&&!this.I&&(4==De?mi(this.l,this):(this.i=!1,Ks(this)))}else 400==r&&0<D.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),Mo(this),ji(this)}}}catch(De){}},Qe.fb=function(){if(this.g){var s=Or(this.g),e=this.g.ga();this.C<e.length&&(Ao(this),ro(this,s,e),this.i&&4!=s&&Ks(this))}},Qe.cancel=function(){this.I=!0,Mo(this)},Qe.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wr(3),xi(17)),Mo(this),this.o=2,ji(this)):io(this,this.Y-s)},(Qe=Ys.prototype).R=function(){Hi(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},Qe.T=function(){return Hi(this),this.g.concat()},Qe.get=function(s,e){return gs(this.h,s)?this.h[s]:e},Qe.set=function(s,e){gs(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},Qe.forEach=function(s,e){for(var r=this.T(),l=0;l<r.length;l++){var f=r[l],m=this.get(f);s.call(e,m,f,this)}};var js=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ms(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof ms){this.g=void 0!==e?e:s.g,Vs(this,s.j),this.s=s.s,G(this,s.i),de(this,s.m),this.l=s.l,e=s.h;var r=new di;r.i=e.i,e.g&&(r.g=new Ys(e.g),r.h=e.h),$(this,r),this.o=s.o}else s&&(r=String(s).match(js))?(this.g=!!e,Vs(this,r[1]||"",!0),this.s=ge(r[2]||""),G(this,r[3]||"",!0),de(this,r[4]),this.l=ge(r[5]||"",!0),$(this,r[6]||"",!0),this.o=ge(r[7]||"")):(this.g=!!e,this.h=new di(null,this.g))}function Ti(s){return new ms(s)}function Vs(s,e,r){s.j=r?ge(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function G(s,e,r){s.i=r?ge(e,!0):e}function de(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function $(s,e,r){e instanceof di?(s.h=e,function(s,e){e&&!s.j&&(Cr(s),s.i=null,s.g.forEach(function(r,l){var f=l.toLowerCase();l!=f&&($n(this,l),ds(this,f,r))},s)),s.j=e}(s.h,s.g)):(r||(e=tt(e,Un)),s.h=new di(e,s.g))}function pe(s,e,r){s.h.set(e,r)}function at(s){return pe(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function ge(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function tt(s,e,r){return"string"==typeof s?(s=encodeURI(s).replace(e,Et),r&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Et(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ms.prototype.toString=function(){var s=[],e=this.j;e&&s.push(tt(e,Jt,!0),":");var r=this.i;return(r||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(tt(e,Jt,!0),"@"),s.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&s.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&s.push("/"),s.push(tt(r,"/"==r.charAt(0)?Pn:sn,!0))),(r=this.h.toString())&&s.push("?",r),(r=this.o)&&s.push("#",tt(r,Xr)),s.join("")};var Jt=/[#\/\?@]/g,sn=/[#\?:]/g,Pn=/[#\?]/g,Un=/[#\?@]/g,Xr=/#/g;function di(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Cr(s){s.g||(s.g=new Ys,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var r=0;r<s.length;r++){var l=s[r].indexOf("="),f=null;if(0<=l){var m=s[r].substring(0,l);f=s[r].substring(l+1)}else m=s[r];e(m,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(s.i,function(e,r){s.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function $n(s,e){Cr(s),e=ns(s,e),gs(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,gs((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&Hi(s)))}function Di(s,e){return Cr(s),e=ns(s,e),gs(s.g.h,e)}function ds(s,e,r){$n(s,e),0<r.length&&(s.i=null,s.g.set(ns(s,e),$r(r)),s.h+=r.length)}function ns(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Ea(s){this.l=s||mr,s=it.PerformanceNavigationTiming?0<(s=it.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(it.g&&it.g.Ea&&it.g.Ea()&&it.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=di.prototype).add=function(s,e){Cr(this),this.i=null,s=ns(this,s);var r=this.g.get(s);return r||this.g.set(s,r=[]),r.push(e),this.h+=1,this},Qe.forEach=function(s,e){Cr(this),this.g.forEach(function(r,l){hn(r,function(f){s.call(e,f,l,this)},this)},this)},Qe.T=function(){Cr(this);for(var s=this.g.R(),e=this.g.T(),r=[],l=0;l<e.length;l++)for(var f=s[l],m=0;m<f.length;m++)r.push(e[l]);return r},Qe.R=function(s){Cr(this);var e=[];if("string"==typeof s)Di(this,s)&&(e=tr(e,this.g.get(ns(this,s))));else{s=this.g.R();for(var r=0;r<s.length;r++)e=tr(e,s[r])}return e},Qe.set=function(s,e){return Cr(this),this.i=null,Di(this,s=ns(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Qe.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),r=0;r<e.length;r++){var l=e[r],f=encodeURIComponent(String(l));l=this.R(l);for(var m=0;m<l.length;m++){var D=f;""!==l[m]&&(D+="="+encodeURIComponent(String(l[m]))),s.push(D)}}return this.i=s.join("&")};var mr=10;function yo(s){return!!s.h||!!s.g&&s.g.size>=s.j}function ui(s){return s.h?1:s.g?s.g.size:0}function Os(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function ys(s,e){s.g?s.g.add(e):s.h=e}function wa(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Zo(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const r of s.g.values())e=e.concat(r.D);return e}return $r(s.i)}function la(){}function ln(){this.g=new la}function Lr(s,e,r){const l=r||"";try{us(s,function(f,m){let D=f;Xe(f)&&(D=nr(f)),e.push(l+m+"="+encodeURIComponent(D))})}catch(f){throw e.push(l+"type="+encodeURIComponent("_badmap")),f}}function C(s,e,r,l,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(l)}catch(m){}}function A(s){this.l=s.$b||null,this.j=s.ib||!1}function B(s,e){Vr.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=ie,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ea.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},la.prototype.stringify=function(s){return it.JSON.stringify(s,void 0)},la.prototype.parse=function(s){return it.JSON.parse(s,void 0)},fn(A,As),A.prototype.g=function(){return new B(this.l,this.j)},A.prototype.i=function(s){return function(){return s}}({}),fn(B,Vr);var ie=0;function we(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function We(s){s.readyState=4,s.l=null,s.j=null,s.A=null,lt(s)}function lt(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Qe=B.prototype).open=function(s,e){if(this.readyState!=ie)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,lt(this)},Qe.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||it).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,We(this)),this.readyState=ie},Qe.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,lt(this)),this.g&&(this.readyState=3,lt(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==it.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;we(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?We(this):lt(this),3==this.readyState&&we(this)}},Qe.Ua=function(s){this.g&&(this.response=this.responseText=s,We(this))},Qe.Ta=function(s){this.g&&(this.response=s,We(this))},Qe.ha=function(){this.g&&We(this)},Qe.setRequestHeader=function(s,e){this.v.append(s,e)},Qe.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var r=e.next();!r.done;)s.push((r=r.value)[0]+": "+r[1]),r=e.next();return s.join("\r\n")},Object.defineProperty(B.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var xt=it.JSON.parse;function Kt(s){Vr.call(this),this.headers=new Ys,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}fn(Kt,Vr);var Cn="",Ln=/^https?$/i,ir=["POST","PUT"];function cr(s){return"content-type"==s.toLowerCase()}function pr(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Kr(s),Si(s)}function Kr(s){s.D||(s.D=!0,Ur(s,"complete"),Ur(s,"error"))}function bi(s){if(s.h&&void 0!==He&&(!s.C[1]||4!=Or(s)||2!=s.ba()))if(s.v&&4==Or(s))Yr(s.Fa,0,s);else if(Ur(s,"readystatechange"),4==Or(s)){s.h=!1;try{const P=s.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var l;if(l=0===P){var f=String(s.H).match(js)[1]||null;if(!f&&it.self&&it.self.location){var m=it.self.location.protocol;f=m.substr(0,m.length-1)}l=!Ln.test(f?f.toLowerCase():"")}r=l}if(r)Ur(s,"complete"),Ur(s,"success");else{s.m=6;try{var D=2<Or(s)?s.g.statusText:""}catch(K){D=""}s.j=D+" ["+s.ba()+"]",Kr(s)}}finally{Si(s)}}}function Si(s,e){if(s.g){_s(s);const r=s.g,l=s.C[0]?Tt:null;s.g=null,s.C=null,e||Ur(s,"ready");try{r.onreadystatechange=l}catch(f){}}}function _s(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(it.clearTimeout(s.A),s.A=null)}function Or(s){return s.g?s.g.readyState:0}function oo(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Cn:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Fi(s,e,r){e:{for(l in r){var l=!1;break e}l=!0}l||(r=function(s){let e="";return Jn(s,function(r,l){e+=l,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof s?null!=r&&encodeURIComponent(String(r)):pe(s,e,r))}function Qs(s,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[s]||e}function ao(s){this.za=0,this.l=[],this.h=new yn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qs("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qs("baseRetryDelayMs",5e3,s),this.$a=Qs("retryDelaySeedMs",1e4,s),this.Ya=Qs("forwardChannelMaxRetries",2,s),this.ra=Qs("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Ea(s&&s.concurrentRequestLimit),this.Ca=new ln,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function bs(s){if(Ca(s),3==s.G){var e=s.V++,r=Ti(s.F);pe(r,"SID",s.J),pe(r,"RID",e),pe(r,"TYPE","terminate"),hr(s,r),(e=new Bo(s,s.h,e,void 0)).K=2,e.v=at(Ti(r)),r=!1,it.navigator&&it.navigator.sendBeacon&&(r=it.navigator.sendBeacon(e.v.toString(),"")),!r&&it.Image&&((new Image).src=e.v,r=!0),r||(e.g=co(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ks(e)}qo(s)}function Ua(s){s.g&&(Es(s),s.g.cancel(),s.g=null)}function Ca(s){Ua(s),s.u&&(it.clearTimeout(s.u),s.u=null),Ri(s),s.i.cancel(),s.m&&("number"==typeof s.m&&it.clearTimeout(s.m),s.m=null)}function Go(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&Ba(s)}function Ba(s){yo(s.i)||s.m||(s.m=!0,fr(s.Ha,s),s.C=0)}function Qn(s,e){var r;r=e?e.m:s.V++;const l=Ti(s.F);pe(l,"SID",s.J),pe(l,"RID",r),pe(l,"AID",s.U),hr(s,l),s.o&&s.s&&Fi(l,s.o,s.s),r=new Bo(s,s.h,r,s.C+1),null===s.o&&(r.H=s.s),e&&(s.l=e.D.concat(s.l)),e=ur(s,r,1e3),r.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),ys(s.i,r),Ws(r,l,e)}function hr(s,e){s.j&&us({},function(r,l){pe(e,l,r)})}function ur(s,e,r){r=Math.min(s.l.length,r);var l=s.j?Dn(s.j.Oa,s.j,s):null;e:{var f=s.l;let m=-1;for(;;){const D=["count="+r];-1==m?0<r?(m=f[0].h,D.push("ofs="+m)):m=0:D.push("ofs="+m);let P=!0;for(let K=0;K<r;K++){let ee=f[K].h;const De=f[K].g;if(ee-=m,0>ee)m=Math.max(0,f[K].h-100),P=!1;else try{Lr(De,D,"req"+ee+"_")}catch(nt){l&&l(De)}}if(P){l=D.join("&");break e}}}return s=s.l.splice(0,r),e.D=s,l}function qr(s){s.g||s.u||(s.Y=1,fr(s.Ga,s),s.A=0)}function Nr(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Ci(Dn(s.Ga,s),hs(s,s.A)),s.A++,0))}function Es(s){null!=s.B&&(it.clearTimeout(s.B),s.B=null)}function Ki(s){s.g=new Bo(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=Ti(s.oa);pe(e,"RID","rpc"),pe(e,"SID",s.J),pe(e,"CI",s.N?"0":"1"),pe(e,"AID",s.U),hr(s,e),pe(e,"TYPE","xmlhttp"),s.o&&s.s&&Fi(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var r=s.g;s=s.la,r.K=1,r.v=at(Ti(e)),r.s=null,r.U=!0,no(r,s)}function Ri(s){null!=s.v&&(it.clearTimeout(s.v),s.v=null)}function mi(s,e){var r=null;if(s.g==e){Ri(s),Es(s),s.g=null;var l=2}else{if(!Os(s.i,e))return;r=e.D,wa(s.i,e),l=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==l){r=e.s?e.s.length:0,e=Date.now()-e.F;var f=s.C;Ur(l=ts(),new Bi(l,r,e,f)),Ba(s)}else qr(s);else if(3==(f=e.o)||0==f&&0<s.I||!(1==l&&function(s,e){return!(ui(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Ci(Dn(s.Ha,s,e),hs(s,s.C)),s.C++,0)))}(s,e)||2==l&&Nr(s)))switch(r&&0<r.length&&(e=s.i,e.i=e.i.concat(r)),f){case 1:xs(s,5);break;case 4:xs(s,10);break;case 3:xs(s,6);break;default:xs(s,2)}}function hs(s,e){let r=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(r*=2),r*e}function xs(s,e){if(s.h.info("Error code "+e),2==e){var r=null;s.j&&(r=null);var l=Dn(s.jb,s);r||(r=new ms("//www.google.com/images/cleardot.gif"),it.location&&"http"==it.location.protocol||Vs(r,"https"),at(r)),function(s,e){const r=new yn;if(it.Image){const l=new Image;l.onload=Vn(C,r,l,"TestLoadImage: loaded",!0,e),l.onerror=Vn(C,r,l,"TestLoadImage: error",!1,e),l.onabort=Vn(C,r,l,"TestLoadImage: abort",!1,e),l.ontimeout=Vn(C,r,l,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(r.toString(),l)}else xi(2);s.G=0,s.j&&s.j.va(e),qo(s),Ca(s)}function qo(s){s.G=0,s.I=-1,s.j&&((0!=Zo(s.i).length||0!=s.l.length)&&(s.i.i.length=0,$r(s.l),s.l.length=0),s.j.ua())}function lo(s,e,r){let l=function(s){return s instanceof ms?Ti(s):new ms(s,void 0)}(r);if(""!=l.i)e&&G(l,e+"."+l.i),de(l,l.m);else{const f=it.location;l=function(s,e,r,l){var f=new ms(null,void 0);return s&&Vs(f,s),e&&G(f,e),r&&de(f,r),l&&(f.l=l),f}(f.protocol,e?e+"."+f.hostname:f.hostname,+f.port,r)}return s.aa&&Jn(s.aa,function(f,m){pe(l,m,f)}),r=s.sa,(e=s.D)&&r&&pe(l,e,r),pe(l,"VER",s.ma),hr(s,l),l}function co(s,e,r){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kt(r&&s.Ba&&!s.qa?new A({ib:!0}):s.qa)).L=s.H,e}function Ta(){}function Zi(){if(he&&!(10<=Number(Fe)))throw Error("Environmental error: no available transport.")}function Rs(s,e){Vr.call(this),this.g=new ao(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!vr(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vr(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new $o(this)}function _o(s){cs.call(this);var e=s.__sm__;if(e){e:{for(const r in e){s=r;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Gi(){Ls.call(this),this.status=1}function $o(s){this.g=s}(Qe=Kt.prototype).ea=function(s,e,r,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bs.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Bs),this.g.onreadystatechange=Dn(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(m){return void pr(this,m)}s=r||"";const f=new Ys(this.headers);l&&us(l,function(m,D){f.set(D,m)}),l=function(s){e:{var e=cr;const r=s.length,l="string"==typeof s?s.split(""):s;for(let f=0;f<r;f++)if(f in l&&e.call(void 0,l[f],f,s)){e=f;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(f.T()),r=it.FormData&&s instanceof it.FormData,!(0<=xr(ir,e))||l||r||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),f.forEach(function(m,D){this.g.setRequestHeader(D,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_s(this),0<this.B&&((this.K=function(s){return he&&Er()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dn(this.pa,this)):this.A=Yr(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){pr(this,m)}},Qe.pa=function(){void 0!==He&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},Qe.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Ur(this,"complete"),Ur(this,"abort"),Si(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Si(this,!0)),Kt.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?bi(this):this.cb())},Qe.cb=function(){bi(this)},Qe.ba=function(){try{return 2<Or(this)?this.g.status:-1}catch(s){return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Qe.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),xt(e)}},Qe.Da=function(){return this.m},Qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=ao.prototype).ma=8,Qe.G=1,Qe.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},Qe.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const f=new Bo(this,this.h,s,void 0);let m=this.s;if(this.P&&(m?(m=Rr(m),Qt(m,this.P)):m=this.P),null===this.o&&(f.H=m),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var l=this.l[r];if(void 0===(l="__data__"in l.g&&"string"==typeof(l=l.g.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=ur(this,f,e),pe(r=Ti(this.F),"RID",s),pe(r,"CVER",22),this.D&&pe(r,"X-HTTP-Session-Id",this.D),hr(this,r),this.o&&m&&Fi(r,this.o,m),ys(this.i,f),this.Ra&&pe(r,"TYPE","init"),this.ja?(pe(r,"$req",e),pe(r,"SID","null"),f.$=!0,Ws(f,r,null)):Ws(f,r,e),this.G=2}}else 3==this.G&&(s?Qn(this,s):0==this.l.length||yo(this.i)||Qn(this))},Qe.Ga=function(){if(this.u=null,Ki(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Ci(Dn(this.bb,this),s)}},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xi(10),Ua(this),Ki(this))},Qe.ab=function(){null!=this.v&&(this.v=null,Ua(this),Nr(this),xi(19))},Qe.jb=function(s){s?(this.h.info("Successfully pinged google.com"),xi(2)):(this.h.info("Failed to ping google.com"),xi(1))},(Qe=Ta.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},Zi.prototype.g=function(s,e){return new Rs(s,e)},fn(Rs,Vr),Rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,r=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),fr(Dn(s.hb,s,e))),xi(0),s.W=e,s.aa=r||{},s.N=s.X,s.F=lo(s,null,s.W),Ba(s)},Rs.prototype.close=function(){bs(this.g)},Rs.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,Go(this.g,e)}else this.v?((e={}).__data__=nr(s),Go(this.g,e)):Go(this.g,s)},Rs.prototype.M=function(){this.g.j=null,delete this.j,bs(this.g),delete this.g,Rs.Z.M.call(this)},fn(_o,cs),fn(Gi,Ls),fn($o,Ta),$o.prototype.xa=function(){Ur(this.g,"a")},$o.prototype.wa=function(s){Ur(this.g,new _o(s))},$o.prototype.va=function(s){Ur(this.g,new Gi(s))},$o.prototype.ua=function(){Ur(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,Rs.prototype.send=Rs.prototype.u,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Va.COMPLETE="complete",Xo.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",Vr.prototype.listen=Vr.prototype.N,Kt.prototype.listenOnce=Kt.prototype.O,Kt.prototype.getLastError=Kt.prototype.La,Kt.prototype.getLastErrorCode=Kt.prototype.Da,Kt.prototype.getStatus=Kt.prototype.ba,Kt.prototype.getResponseJson=Kt.prototype.Qa,Kt.prototype.getResponseText=Kt.prototype.ga,Kt.prototype.send=Kt.prototype.ea;var uo=rt.createWebChannelTransport=function(){return new Zi},ca=rt.getStatEventTarget=function(){return ts()},zo=rt.ErrorCode=Is,Il=rt.EventType=Va,ql=rt.Event=pi,Wc=rt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$l=rt.FetchXmlHttpFactory=A,Da=rt.WebChannel=Xo,is=rt.XhrIo=Kt;const ol="@firebase/firestore";class Yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let vo="9.9.4";const bo=new Ot.Yd("@firebase/firestore");function Ha(){return bo.logLevel}function pn(s,...e){if(bo.logLevel<=Ot.in.DEBUG){const r=e.map(Sa);bo.debug(`Firestore (${vo}): ${s}`,...r)}}function Ii(s,...e){if(bo.logLevel<=Ot.in.ERROR){const r=e.map(Sa);bo.error(`Firestore (${vo}): ${s}`,...r)}}function ks(s,...e){if(bo.logLevel<=Ot.in.WARN){const r=e.map(Sa);bo.warn(`Firestore (${vo}): ${s}`,...r)}}function Sa(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(r){return s}}function zn(s="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function Sr(s,e){s||zn()}function Nn(s,e){return s}const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends At.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Za{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class al{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yi.UNAUTHENTICATED))}shutdown(){}}class Yc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Qc{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var l=this;let f=this.i;const m=ee=>this.i!==f?(f=this.i,r(ee)):Promise.resolve();let D=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Qi,e.enqueueRetryable(()=>m(this.currentUser))};const P=()=>{const ee=D;e.enqueueRetryable((0,ce.Z)(function*(){yield ee.promise,yield m(l.currentUser)}))},K=ee=>{pn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(ee=>K(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?K(ee):(pn("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Qi)}},0),P()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(l=>this.i!==e?(pn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Sr("string"==typeof l.accessToken),new Za(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sr(null===e||"string"==typeof e),new Yi(e)}}class V{constructor(e,r,l,f){this.h=e,this.l=r,this.m=l,this.g=f,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Sr(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class x{constructor(e,r,l,f){this.h=e,this.l=r,this.m=l,this.g=f}getToken(){return Promise.resolve(new V(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const l=m=>{null!=m.error&&pn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const D=m.token!==this.A;return this.A=m.token,pn("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?r(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>l(m))};const f=m=>{pn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>f(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?f(m):pn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Sr("string"==typeof r.token),this.A=r.token,new O(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function E(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let l=0;l<s;l++)r[l]=Math.floor(256*Math.random());return r}class M{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let l="";for(;l.length<20;){const f=E(40);for(let m=0;m<f.length;++m)l.length<20&&f[m]<r&&(l+=e.charAt(f[m]%e.length))}return l}}function y(s,e){return s<e?-1:s>e?1:0}function F(s,e,r){return s.length===e.length&&s.every((l,f)=>r(l,e[f]))}function Ce(s){return s+"\0"}class mt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new nn($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new nn($t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new nn($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nn($t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*r));return new mt(r,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?y(this.nanoseconds,e.nanoseconds):y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new mt(0,0))}static max(){return new Rt(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qn{constructor(e,r,l){void 0===r?r=0:r>e.length&&zn(),void 0===l?l=e.length-r:l>e.length-r&&zn(),this.segments=e,this.offset=r,this.len=l}get length(){return this.len}isEqual(e){return 0===qn.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(l=>{r.push(l)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,l=this.limit();r<l;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const l=Math.min(e.length,r.length);for(let f=0;f<l;f++){const m=e.get(f),D=r.get(f);if(m<D)return-1;if(m>D)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class en extends qn{construct(e,r,l){return new en(e,r,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const l of e){if(l.indexOf("//")>=0)throw new nn($t.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);r.push(...l.split("/").filter(f=>f.length>0))}return new en(r)}static emptyPath(){return new en([])}}const ti=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends qn{construct(e,r,l){return new Ar(e,r,l)}static isValidIdentifier(e){return ti.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(e){const r=[];let l="",f=0;const m=()=>{if(0===l.length)throw new nn($t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(l),l=""};let D=!1;for(;f<e.length;){const P=e[f];if("\\"===P){if(f+1===e.length)throw new nn($t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const K=e[f+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new nn($t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=K,f+=2}else"`"===P?(D=!D,f++):"."!==P||D?(l+=P,f++):(m(),f++)}if(m(),D)throw new nn($t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(r)}static emptyPath(){return new Ar([])}}class _n{constructor(e){this.path=e}static fromPath(e){return new _n(en.fromString(e))}static fromName(e){return new _n(en.fromString(e).popFirst(5))}static empty(){return new _n(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return en.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _n(new en(e.slice()))}}class Ps{constructor(e,r,l,f){this.indexId=e,this.collectionGroup=r,this.fields=l,this.indexState=f}}function ss(s){return s.fields.find(e=>2===e.kind)}function Li(s){return s.fields.filter(e=>2!==e.kind)}Ps.UNKNOWN_ID=-1;class zl{constructor(e,r){this.fieldPath=e,this.kind=r}}class Wl{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Wl(0,da.min())}}function ua(s,e){const r=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,f=Rt.fromTimestamp(1e9===l?new mt(r+1,0):new mt(r,l));return new da(f,_n.empty(),e)}function ki(s){return new da(s.readTime,s.key,-1)}class da{constructor(e,r,l){this.readTime=e,this.documentKey=r,this.largestBatchId=l}static min(){return new da(Rt.min(),_n.empty(),-1)}static max(){return new da(Rt.max(),_n.empty(),-1)}}function mc(s,e){let r=s.readTime.compareTo(e.readTime);return 0!==r?r:(r=_n.comparator(s.documentKey,e.documentKey),0!==r?r:y(s.largestBatchId,e.largestBatchId))}const gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Al(s){return ud.apply(this,arguments)}function ud(){return ud=(0,ce.Z)(function*(s){if(s.code!==$t.FAILED_PRECONDITION||s.message!==gf)throw s;pn("LocalStore","Unexpectedly lost primary lease")}),ud.apply(this,arguments)}class Zt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&zn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Zt((l,f)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(l,f)},this.catchCallback=m=>{this.wrapFailure(r,m).next(l,f)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Zt?r:Zt.resolve(r)}catch(r){return Zt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Zt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Zt.reject(r)}static resolve(e){return new Zt((r,l)=>{r(e)})}static reject(e){return new Zt((r,l)=>{l(e)})}static waitFor(e){return new Zt((r,l)=>{let f=0,m=0,D=!1;e.forEach(P=>{++f,P.next(()=>{++m,D&&m===f&&r()},K=>l(K))}),D=!0,m===f&&r()})}static or(e){let r=Zt.resolve(!1);for(const l of e)r=r.next(f=>f?Zt.resolve(f):l());return r}static forEach(e,r){const l=[];return e.forEach((f,m)=>{l.push(r.call(this,f,m))}),this.waitFor(l)}static mapArray(e,r){return new Zt((l,f)=>{const m=e.length,D=new Array(m);let P=0;for(let K=0;K<m;K++){const ee=K;r(e[ee]).next(De=>{D[ee]=De,++P,P===m&&l(D)},De=>f(De))}})}static doWhile(e,r){return new Zt((l,f)=>{const m=()=>{!0===e()?r().next(()=>{m()},f):l()};m()})}}class eu{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.P=new Qi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{r.error?this.P.reject(new ho(e,r.error)):this.P.resolve()},this.transaction.onerror=l=>{const f=nu(l.target.error);this.P.reject(new ho(e,f))}}static open(e,r,l,f){try{return new eu(r,e.transaction(f,l))}catch(m){throw new ho(r,m)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(pn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new yf(r)}}class ll{constructor(e,r,l){this.name=e,this.version=r,this.S=l,12.2===ll.D((0,At.z$)())&&Ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pn("SimpleDb","Removing database:",e),Ai(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,At.hl)())return!1;if(ll.N())return!0;const e=(0,At.z$)(),r=ll.D(e),l=0<r&&r<10,f=ll.k(e),m=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||m)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,r){return e.store(r)}static D(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static k(e){const r=e.match(/Android ([\d.]+)/i),l=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(l)}F(e){var r=this;return(0,ce.Z)(function*(){return r.db||(pn("SimpleDb","Opening database:",r.name),r.db=yield new Promise((l,f)=>{const m=indexedDB.open(r.name,r.version);m.onsuccess=D=>{l(D.target.result)},m.onblocked=()=>{f(new ho(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=D=>{const P=D.target.error;f("VersionError"===P.name?new nn($t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new nn($t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new ho(e,P))},m.onupgradeneeded=D=>{pn("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',D.oldVersion),r.S.$(D.target.result,m.transaction,D.oldVersion,r.version).next(()=>{pn("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=l=>r.B(l)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,l,f){var m=this;return(0,ce.Z)(function*(){const D="readonly"===r;let P=0;for(;;){++P;try{m.db=yield m.F(e);const K=eu.open(m.db,e,D?"readonly":"readwrite",l),ee=f(K).next(De=>(K.V(),De)).catch(De=>(K.abort(De),Zt.reject(De))).toPromise();return ee.catch(()=>{}),yield K.v,ee}catch(K){const ee=K,De="FirebaseError"!==ee.name&&P<3;if(pn("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",De),m.close(),!De)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mf{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Ai(this.U.delete())}}class ho extends nn{constructor(e,r){super($t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Hs(s){return"IndexedDbTransactionError"===s.name}class yf{constructor(e){this.store=e}put(e,r){let l;return void 0!==r?(pn("SimpleDb","PUT",this.store.name,e,r),l=this.store.put(r,e)):(pn("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),Ai(l)}add(e){return pn("SimpleDb","ADD",this.store.name,e,e),Ai(this.store.add(e))}get(e){return Ai(this.store.get(e)).next(r=>(void 0===r&&(r=null),pn("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return pn("SimpleDb","DELETE",this.store.name,e),Ai(this.store.delete(e))}count(){return pn("SimpleDb","COUNT",this.store.name),Ai(this.store.count())}W(e,r){const l=this.options(e,r);if(l.index||"function"!=typeof this.store.getAll){const f=this.cursor(l),m=[];return this.H(f,(D,P)=>{m.push(P)}).next(()=>m)}{const f=this.store.getAll(l.range);return new Zt((m,D)=>{f.onerror=P=>{D(P.target.error)},f.onsuccess=P=>{m(P.target.result)}})}}J(e,r){const l=this.store.getAll(e,null===r?void 0:r);return new Zt((f,m)=>{l.onerror=D=>{m(D.target.error)},l.onsuccess=D=>{f(D.target.result)}})}Y(e,r){pn("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,r);l.X=!1;const f=this.cursor(l);return this.H(f,(m,D,P)=>P.delete())}Z(e,r){let l;r?l=e:(l={},r=e);const f=this.cursor(l);return this.H(f,r)}tt(e){const r=this.cursor({});return new Zt((l,f)=>{r.onerror=m=>{const D=nu(m.target.error);f(D)},r.onsuccess=m=>{const D=m.target.result;D?e(D.primaryKey,D.value).next(P=>{P?D.continue():l()}):l()}})}H(e,r){const l=[];return new Zt((f,m)=>{e.onerror=D=>{m(D.target.error)},e.onsuccess=D=>{const P=D.target.result;if(!P)return void f();const K=new mf(P),ee=r(P.primaryKey,P.value,K);if(ee instanceof Zt){const De=ee.catch(nt=>(K.done(),Zt.reject(nt)));l.push(De)}K.isDone?f():null===K.G?P.continue():P.continue(K.G)}}).next(()=>Zt.waitFor(l))}options(e,r){let l;return void 0!==e&&("string"==typeof e?l=e:r=e),{index:l,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const l=this.store.index(e.index);return e.X?l.openKeyCursor(e.range,r):l.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ai(s){return new Zt((e,r)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const f=nu(l.target.error);r(f)}})}let tu=!1;function nu(s){const e=ll.D((0,At.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(r)>=0){const l=new nn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tu||(tu=!0,setTimeout(()=>{throw l},0)),l}}return s}class _f{constructor(e,r){this.asyncQueue=e,this.et=r,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var r=this;pn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.Z)(function*(){r.task=null;try{pn("IndexBackiller",`Documents written: ${yield r.et.st()}`)}catch(l){Hs(l)?pn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield Al(l)}yield r.nt(1)}))}}class Ia{constructor(e,r){this.localStore=e,this.persistence=r}st(e=50){var r=this;return(0,ce.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>r.it(l,e))})()}it(e,r){const l=new Set;let f=r,m=!0;return Zt.doWhile(()=>!0===m&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(D=>{if(null!==D&&!l.has(D))return pn("IndexBackiller",`Processing collection: ${D}`),this.rt(e,D,f).next(P=>{f-=P,l.add(D)});m=!1})).next(()=>r-f)}rt(e,r,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(f=>this.localStore.localDocuments.getNextDocuments(e,r,f,l).next(m=>{const D=m.changes;return this.localStore.indexManager.updateIndexEntries(e,D).next(()=>this.ot(f,m)).next(P=>(pn("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,r,P))).next(()=>D.size)}))}ot(e,r){let l=e;return r.changes.forEach((f,m)=>{const D=ki(m);mc(D,l)>0&&(l=D)}),new da(l.readTime,l.documentKey,Math.max(r.batchId,e.largestBatchId))}}class os{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>r.writeSequenceNumber(l))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function qa(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function Aa(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function Kl(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}os.at=-1;class _i{constructor(e,r){this.comparator=e,this.root=r||Js.EMPTY}insert(e,r){return new _i(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(e){return new _i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Js.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(0===l)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}indexOf(e){let r=0,l=this.root;for(;!l.isEmpty();){const f=this.comparator(e,l.key);if(0===f)return r+l.left.size;f<0?l=l.left:(r+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,l)=>(e(r,l),!1))}toString(){const e=[];return this.inorderTraversal((r,l)=>(e.push(`${r}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $a(this.root,e,this.comparator,!1)}getReverseIterator(){return new $a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $a(this.root,e,this.comparator,!0)}}class $a{constructor(e,r,l,f){this.isReverse=f,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=r?l(e.key,r):1,r&&f&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Js{constructor(e,r,l,f,m){this.key=e,this.value=r,this.color=null!=l?l:Js.RED,this.left=null!=f?f:Js.EMPTY,this.right=null!=m?m:Js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,l,f,m){return new Js(null!=e?e:this.key,null!=r?r:this.value,null!=l?l:this.color,null!=f?f:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,l){let f=this;const m=l(e,f.key);return f=m<0?f.copy(null,null,null,f.left.insert(e,r,l),null):0===m?f.copy(null,r,null,null,null):f.copy(null,null,null,null,f.right.insert(e,r,l)),f.fixUp()}removeMin(){if(this.left.isEmpty())return Js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let l,f=this;if(r(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,r),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===r(e,f.key)){if(f.right.isEmpty())return Js.EMPTY;l=f.right.min(),f=f.copy(l.key,l.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,r))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zn();const e=this.left.check();if(e!==this.right.check())throw zn();return e+(this.isRed()?0:1)}}Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1,Js.EMPTY=new class{constructor(){this.size=0}get key(){throw zn()}get value(){throw zn()}get color(){throw zn()}get left(){throw zn()}get right(){throw zn()}copy(s,e,r,l,f){return this}insert(s,e,r){return new Js(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mi{constructor(e){this.comparator=e,this.data=new _i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,l)=>(e(r),!1))}forEachInRange(e,r){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const f=l.getNext();if(this.comparator(f.key,e[1])>=0)return;r(f.key)}}forEachWhile(e,r){let l;for(l=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new vf(this.data.getIterator())}getIteratorFrom(e){return new vf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(l=>{r=r.add(l)}),r}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const r=this.data.getIterator(),l=e.data.getIterator();for(;r.hasNext();){const f=r.getNext().key,m=l.getNext().key;if(0!==this.comparator(f,m))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Mi(this.comparator);return r.data=e,r}}class vf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ml(s){return s.hasNext()?s.getNext():void 0}class ta{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new ta([])}unionWith(e){let r=new Mi(Ar.comparator);for(const l of this.fields)r=r.add(l);for(const l of e)r=r.add(l);return new ta(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return F(this.fields,e.fields,(r,l)=>r.isEqual(l))}}class fs{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new fs(r)}static fromUint8Array(e){const r=function(l){let f="";for(let m=0;m<l.length;++m)f+=String.fromCharCode(l[m]);return f}(e);return new fs(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let l=0;l<e.length;l++)r[l]=e.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(s){if(Sr(!!s),"string"==typeof s){let e=0;const r=cl.exec(s);if(Sr(!!r),r[1]){let f=r[1];f=(f+"000000000").substr(0,9),e=Number(f)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:ws(s.seconds),nanos:ws(s.nanos)}}function ws(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Yl(s){return"string"==typeof s?fs.fromBase64String(s):fs.fromUint8Array(s)}function dd(s){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function yh(s){const e=s.mapValue.fields.__previous_value__;return dd(e)?yh(e):e}function ru(s){const e=ul(s.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}class Dp{constructor(e,r,l,f,m,D,P,K){this.databaseId=e,this.appId=r,this.persistenceKey=l,this.host=f,this.ssl=m,this.forceLongPolling=D,this.autoDetectLongPolling=P,this.useFetchStreams=K}}class na{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}function Ql(s){return null==s}function Jl(s){return 0===s&&1/s==-1/0}function hd(s){return"number"==typeof s&&Number.isInteger(s)&&!Jl(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xl={nullValue:"NULL_VALUE"};function Wo(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?dd(s)?4:su(s)?9007199254740991:10:zn()}function za(s,e){if(s===e)return!0;const r=Wo(s);if(r!==Wo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ru(s).isEqual(ru(e));case 3:return function(l,f){if("string"==typeof l.timestampValue&&"string"==typeof f.timestampValue&&l.timestampValue.length===f.timestampValue.length)return l.timestampValue===f.timestampValue;const m=ul(l.timestampValue),D=ul(f.timestampValue);return m.seconds===D.seconds&&m.nanos===D.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return f=e,Yl(s.bytesValue).isEqual(Yl(f.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,f){return ws(l.geoPointValue.latitude)===ws(f.geoPointValue.latitude)&&ws(l.geoPointValue.longitude)===ws(f.geoPointValue.longitude)}(s,e);case 2:return function(l,f){if("integerValue"in l&&"integerValue"in f)return ws(l.integerValue)===ws(f.integerValue);if("doubleValue"in l&&"doubleValue"in f){const m=ws(l.doubleValue),D=ws(f.doubleValue);return m===D?Jl(m)===Jl(D):isNaN(m)&&isNaN(D)}return!1}(s,e);case 9:return F(s.arrayValue.values||[],e.arrayValue.values||[],za);case 10:return function(l,f){const m=l.mapValue.fields||{},D=f.mapValue.fields||{};if(qa(m)!==qa(D))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===D[P]||!za(m[P],D[P])))return!1;return!0}(s,e);default:return zn()}var f}function ec(s,e){return void 0!==(s.values||[]).find(r=>za(r,e))}function Ol(s,e){if(s===e)return 0;const r=Wo(s),l=Wo(e);if(r!==l)return y(r,l);switch(r){case 0:case 9007199254740991:return 0;case 1:return y(s.booleanValue,e.booleanValue);case 2:return function(f,m){const D=ws(f.integerValue||f.doubleValue),P=ws(m.integerValue||m.doubleValue);return D<P?-1:D>P?1:D===P?0:isNaN(D)?isNaN(P)?0:-1:1}(s,e);case 3:return xu(s.timestampValue,e.timestampValue);case 4:return xu(ru(s),ru(e));case 5:return y(s.stringValue,e.stringValue);case 6:return function(f,m){const D=Yl(f),P=Yl(m);return D.compareTo(P)}(s.bytesValue,e.bytesValue);case 7:return function(f,m){const D=f.split("/"),P=m.split("/");for(let K=0;K<D.length&&K<P.length;K++){const ee=y(D[K],P[K]);if(0!==ee)return ee}return y(D.length,P.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,m){const D=y(ws(f.latitude),ws(m.latitude));return 0!==D?D:y(ws(f.longitude),ws(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(f,m){const D=f.values||[],P=m.values||[];for(let K=0;K<D.length&&K<P.length;++K){const ee=Ol(D[K],P[K]);if(ee)return ee}return y(D.length,P.length)}(s.arrayValue,e.arrayValue);case 10:return function(f,m){if(f===Ma.mapValue&&m===Ma.mapValue)return 0;if(f===Ma.mapValue)return 1;if(m===Ma.mapValue)return-1;const D=f.fields||{},P=Object.keys(D),K=m.fields||{},ee=Object.keys(K);P.sort(),ee.sort();for(let De=0;De<P.length&&De<ee.length;++De){const nt=y(P[De],ee[De]);if(0!==nt)return nt;const jt=Ol(D[P[De]],K[ee[De]]);if(0!==jt)return jt}return y(P.length,ee.length)}(s.mapValue,e.mapValue);default:throw zn()}}function xu(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return y(s,e);const r=ul(s),l=ul(e),f=y(r.seconds,l.seconds);return 0!==f?f:y(r.nanos,l.nanos)}function Ru(s){return yc(s)}function yc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const f=ul(l);return`time(${f.seconds},${f.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Yl(s.bytesValue).toBase64():"referenceValue"in s?_n.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let f="[",m=!0;for(const D of l.values||[])m?m=!1:f+=",",f+=yc(D);return f+"]"}(s.arrayValue):"mapValue"in s?function(l){const f=Object.keys(l.fields||{}).sort();let m="{",D=!0;for(const P of f)D?D=!1:m+=",",m+=`${P}:${yc(l.fields[P])}`;return m+"}"}(s.mapValue):zn();var e}function Wa(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xl(s){return!!s&&"integerValue"in s}function iu(s){return!!s&&"arrayValue"in s}function Cs(s){return!!s&&"nullValue"in s}function _h(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ku(s){return!!s&&"mapValue"in s}function ra(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Aa(s.mapValue.fields,(r,l)=>e.mapValue.fields[r]=ra(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ra(s.arrayValue.values[r]);return e}return Object.assign({},s)}function su(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function nm(s){return"nullValue"in s?Xl:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Wa(na.empty(),_n.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:zn()}function bf(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Wa(na.empty(),_n.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Ma:zn()}function fd(s,e){const r=Ol(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function rm(s,e){const r=Ol(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Ns{constructor(e){this.value=e}static empty(){return new Ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let l=0;l<e.length-1;++l)if(r=(r.mapValue.fields||{})[e.get(l)],!ku(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(r)}setAll(e){let r=Ar.emptyPath(),l={},f=[];e.forEach((D,P)=>{if(!r.isImmediateParentOf(P)){const K=this.getFieldsMap(r);this.applyChanges(K,l,f),l={},f=[],r=P.popLast()}D?l[P.lastSegment()]=ra(D):f.push(P.lastSegment())});const m=this.getFieldsMap(r);this.applyChanges(m,l,f)}delete(e){const r=this.field(e.popLast());ku(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let l=0;l<e.length;++l){let f=r.mapValue.fields[e.get(l)];ku(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},r.mapValue.fields[e.get(l)]=f),r=f}return r.mapValue.fields}applyChanges(e,r,l){Aa(r,(f,m)=>e[f]=m);for(const f of l)delete e[f]}clone(){return new Ns(ra(this.value))}}function Ka(s){const e=[];return Aa(s.fields,(r,l)=>{const f=new Ar([r]);if(ku(l)){const m=Ka(l.mapValue).fields;if(0===m.length)e.push(f);else for(const D of m)e.push(f.child(D))}else e.push(f)}),new ta(e)}class vi{constructor(e,r,l,f,m,D){this.key=e,this.documentType=r,this.version=l,this.readTime=f,this.data=m,this.documentState=D}static newInvalidDocument(e){return new vi(e,0,Rt.min(),Rt.min(),Ns.empty(),0)}static newFoundDocument(e,r,l){return new vi(e,1,r,Rt.min(),l,0)}static newNoDocument(e,r){return new vi(e,2,r,Rt.min(),Ns.empty(),0)}static newUnknownDocument(e,r){return new vi(e,3,r,Rt.min(),Ns.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oa{constructor(e,r=null,l=[],f=[],m=null,D=null,P=null){this.path=e,this.collectionGroup=r,this.orderBy=l,this.filters=f,this.limit=m,this.startAt=D,this.endAt=P,this.ht=null}}function vh(s,e=null,r=[],l=[],f=null,m=null,D=null){return new Oa(s,e,r,l,f,m,D)}function ko(s){const e=Nn(s);if(null===e.ht){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(l=>{return(f=l).field.canonicalString()+f.op.toString()+Ru(f.value);var f}).join(","),r+="|ob:",r+=e.orderBy.map(l=>{return(f=l).field.canonicalString()+f.dir;var f}).join(","),Ql(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(l=>Ru(l)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(l=>Ru(l)).join(",")),e.ht=r}return e.ht}function Rl(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<s.orderBy.length;f++)if(!vc(s.orderBy[f],e.orderBy[f]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let f=0;f<s.filters.length;f++)if((r=s.filters[f]).op!==(l=e.filters[f]).op||!r.field.isEqual(l.field)||!za(r.value,l.value))return!1;var r,l;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!md(s.startAt,e.startAt)&&md(s.endAt,e.endAt)}function Pu(s){return _n.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function gd(s,e){return s.filters.filter(r=>r instanceof Ts&&r.field.isEqual(e))}function Ef(s,e,r){let l=Xl,f=!0;for(const m of gd(s,e)){let D=Xl,P=!0;switch(m.op){case"<":case"<=":D=nm(m.value);break;case"==":case"in":case">=":D=m.value;break;case">":D=m.value,P=!1;break;case"!=":case"not-in":D=Xl}fd({value:l,inclusive:f},{value:D,inclusive:P})<0&&(l=D,f=P)}if(null!==r)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const D=r.position[m];fd({value:l,inclusive:f},{value:D,inclusive:r.inclusive})<0&&(l=D,f=r.inclusive);break}return{value:l,inclusive:f}}function _c(s,e,r){let l=Ma,f=!0;for(const m of gd(s,e)){let D=Ma,P=!0;switch(m.op){case">=":case">":D=bf(m.value),P=!1;break;case"==":case"in":case"<=":D=m.value;break;case"<":D=m.value,P=!1;break;case"!=":case"not-in":D=Ma}rm({value:l,inclusive:f},{value:D,inclusive:P})>0&&(l=D,f=P)}if(null!==r)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const D=r.position[m];rm({value:l,inclusive:f},{value:D,inclusive:r.inclusive})>0&&(l=D,f=r.inclusive);break}return{value:l,inclusive:f}}class Ts extends class{}{constructor(e,r,l){super(),this.field=e,this.op=r,this.value=l}static create(e,r,l){return e.isKeyField()?"in"===r||"not-in"===r?this.lt(e,r,l):new Sp(e,r,l):"array-contains"===r?new Eh(e,l):"in"===r?new wh(e,l):"not-in"===r?new Ip(e,l):"array-contains-any"===r?new Ap(e,l):new Ts(e,r,l)}static lt(e,r,l){return"in"===r?new im(e,l):new wf(e,l)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.ft(Ol(r,this.value)):null!==r&&Wo(this.value)===Wo(r)&&this.ft(Ol(r,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Sp extends Ts{constructor(e,r,l){super(e,r,l),this.key=_n.fromName(l.referenceValue)}matches(e){const r=_n.comparator(e.key,this.key);return this.ft(r)}}class im extends Ts{constructor(e,r){super(e,"in",r),this.keys=bh(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class wf extends Ts{constructor(e,r){super(e,"not-in",r),this.keys=bh(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function bh(s,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(l=>_n.fromName(l.referenceValue))}class Eh extends Ts{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return iu(r)&&ec(r.arrayValue,this.value)}}class wh extends Ts{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&ec(this.value.arrayValue,r)}}class Ip extends Ts{constructor(e,r){super(e,"not-in",r)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!ec(this.value.arrayValue,r)}}class Ap extends Ts{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!iu(r)||!r.arrayValue.values)&&r.arrayValue.values.some(l=>ec(this.value.arrayValue,l))}}class Ya{constructor(e,r){this.position=e,this.inclusive=r}}class dl{constructor(e,r="asc"){this.field=e,this.dir=r}}function vc(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function Cf(s,e,r){let l=0;for(let f=0;f<s.position.length;f++){const m=e[f],D=s.position[f];if(l=m.field.isKeyField()?_n.comparator(_n.fromName(D.referenceValue),r.key):Ol(D,r.data.field(m.field)),"desc"===m.dir&&(l*=-1),0!==l)break}return l}function md(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!za(s.position[r],e.position[r]))return!1;return!0}class tc{constructor(e,r=null,l=[],f=[],m=null,D="F",P=null,K=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=l,this.filters=f,this.limit=m,this.limitType=D,this.startAt=P,this.endAt=K,this._t=null,this.wt=null}}function ia(s,e,r,l,f,m,D,P){return new tc(s,e,r,l,f,m,D,P)}function nc(s){return new tc(s)}function Nu(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function hl(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Qa(s){for(const e of s.filters)if(e.dt())return e.field;return null}function Ja(s){return null!==s.collectionGroup}function bc(s){const e=Nn(s);if(null===e._t){e._t=[];const r=Qa(e),l=hl(e);if(null!==r&&null===l)r.isKeyField()||e._t.push(new dl(r)),e._t.push(new dl(Ar.keyField(),"asc"));else{let f=!1;for(const m of e.explicitOrderBy)e._t.push(m),m.field.isKeyField()&&(f=!0);if(!f){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new dl(Ar.keyField(),m))}}}return e._t}function sa(s){const e=Nn(s);if(!e.wt)if("F"===e.limitType)e.wt=vh(e.path,e.collectionGroup,bc(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const m of bc(e))r.push(new dl(m.field,"desc"===m.dir?"asc":"desc"));const l=e.endAt?new Ya(e.endAt.position,e.endAt.inclusive):null,f=e.startAt?new Ya(e.startAt.position,e.startAt.inclusive):null;e.wt=vh(e.path,e.collectionGroup,r,e.filters,e.limit,l,f)}return e.wt}function ou(s,e,r){return new tc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function au(s,e){return Rl(sa(s),sa(e))&&s.limitType===e.limitType}function R(s){return`${ko(sa(s))}|lt:${s.limitType}`}function v(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(r=>{return`${(l=r).field.canonicalString()} ${l.op} ${Ru(l.value)}`;var l}).join(", ")}]`),Ql(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(r=>{return`${(l=r).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(r=>Ru(r)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(r=>Ru(r)).join(",")),`Target(${e})`}(sa(s))}; limitType=${s.limitType})`}function w(s,e){return e.isFoundDocument()&&function(r,l){const f=l.key.path;return null!==r.collectionGroup?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):_n.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)}(s,e)&&function(r,l){for(const f of r.explicitOrderBy)if(!f.field.isKeyField()&&null===l.data.field(f.field))return!1;return!0}(s,e)&&function(r,l){for(const f of r.filters)if(!f.matches(l))return!1;return!0}(s,e)&&(l=e,!((r=s).startAt&&!function(f,m,D){const P=Cf(f,m,D);return f.inclusive?P<=0:P<0}(r.startAt,bc(r),l)||r.endAt&&!function(f,m,D){const P=Cf(f,m,D);return f.inclusive?P>=0:P>0}(r.endAt,bc(r),l)));var r,l}function L(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function le(s){return(e,r)=>{let l=!1;for(const f of bc(s)){const m=Ae(f,e,r);if(0!==m)return m;l=l||f.field.isKeyField()}return 0}}function Ae(s,e,r){const l=s.field.isKeyField()?_n.comparator(e.key,r.key):function(f,m,D){const P=m.data.field(f),K=D.data.field(f);return null!==P&&null!==K?Ol(P,K):zn()}(s.field,e,r);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return zn()}}function kt(s,e){if(s.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function dn(s){return{integerValue:""+s}}function Kn(s,e){return hd(e)?dn(e):kt(s,e)}class yr{constructor(){this._=void 0}}function Qr(s,e,r){return s instanceof fa?function(l,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,e):s instanceof fl?Tf(s,e):s instanceof pa?yd(s,e):function(l,f){const m=xa(l,f),D=Xa(m)+Xa(l.yt);return xl(m)&&xl(l.yt)?dn(D):kt(l.It,D)}(s,e)}function Ji(s,e,r){return s instanceof fl?Tf(s,e):s instanceof pa?yd(s,e):r}function xa(s,e){return s instanceof Po?xl(r=e)||(l=r)&&"doubleValue"in l?e:{integerValue:0}:null;var l,r}class fa extends yr{}class fl extends yr{constructor(e){super(),this.elements=e}}function Tf(s,e){const r=_d(e);for(const l of s.elements)r.some(f=>za(f,l))||r.push(l);return{arrayValue:{values:r}}}class pa extends yr{constructor(e){super(),this.elements=e}}function yd(s,e){let r=_d(e);for(const l of s.elements)r=r.filter(f=>!za(f,l));return{arrayValue:{values:r}}}class Po extends yr{constructor(e,r){super(),this.It=e,this.yt=r}}function Xa(s){return ws(s.integerValue||s.doubleValue)}function _d(s){return iu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Ec{constructor(e,r){this.field=e,this.transform=r}}class Mp{constructor(e,r){this.version=e,this.transformResults=r}}class Ds{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ds}static exists(e){return new Ds(void 0,e)}static updateTime(e){return new Ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class wc{}function Df(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Tc(s.key,Ds.none()):new kl(s.key,s.data,Ds.none());{const r=s.data,l=Ns.empty();let f=new Mi(Ar.comparator);for(let m of e.fields)if(!f.has(m)){let D=r.field(m);null===D&&m.length>1&&(m=m.popLast(),D=r.field(m)),null===D?l.delete(m):l.set(m,D),f=f.add(m)}return new Cc(s.key,l,new ta(f.toArray()),Ds.none())}}function Op(s,e,r){s instanceof kl?function(l,f,m){const D=l.value.clone(),P=om(l.fieldTransforms,f,m.transformResults);D.setAll(P),f.convertToFoundDocument(m.version,D).setHasCommittedMutations()}(s,e,r):s instanceof Cc?function(l,f,m){if(!Fu(l.precondition,f))return void f.convertToUnknownDocument(m.version);const D=om(l.fieldTransforms,f,m.transformResults),P=f.data;P.setAll(sm(l)),P.setAll(D),f.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(s,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Sf(s,e,r,l){return s instanceof kl?function(f,m,D,P){if(!Fu(f.precondition,m))return D;const K=f.value.clone(),ee=Rp(f.fieldTransforms,P,m);return K.setAll(ee),m.convertToFoundDocument(m.version,K).setHasLocalMutations(),null}(s,e,r,l):s instanceof Cc?function(f,m,D,P){if(!Fu(f.precondition,m))return D;const K=Rp(f.fieldTransforms,P,m),ee=m.data;return ee.setAll(sm(f)),ee.setAll(K),m.convertToFoundDocument(m.version,ee).setHasLocalMutations(),null===D?null:D.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(De=>De.field))}(s,e,r,l):(D=r,Fu(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):D);var m,D}function pb(s,e){let r=null;for(const l of s.fieldTransforms){const f=e.data.field(l.field),m=xa(l.transform,f||null);null!=m&&(null===r&&(r=Ns.empty()),r.set(l.field,m))}return r||null}function xp(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(r=s.fieldTransforms)&&void 0===l||r&&l&&F(r,l,(f,m)=>function(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(r=s.transform)instanceof fl&&l instanceof fl||r instanceof pa&&l instanceof pa?F(r.elements,l.elements,za):r instanceof Po&&l instanceof Po?za(r.yt,l.yt):r instanceof fa&&l instanceof fa);var r,l}(f,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var r,l}class kl extends wc{constructor(e,r,l,f=[]){super(),this.key=e,this.value=r,this.precondition=l,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class Cc extends wc{constructor(e,r,l,f,m=[]){super(),this.key=e,this.data=r,this.fieldMask=l,this.precondition=f,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function sm(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const l=s.data.field(r);e.set(r,l)}}),e}function om(s,e,r){const l=new Map;Sr(s.length===r.length);for(let f=0;f<r.length;f++){const m=s[f],D=m.transform,P=e.data.field(m.field);l.set(m.field,Ji(D,P,r[f]))}return l}function Rp(s,e,r){const l=new Map;for(const f of s){const m=f.transform,D=r.data.field(f.field);l.set(f.field,Qr(m,D,e))}return l}class Tc extends wc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class If extends wc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kp{constructor(e){this.count=e}}var fo,kr;function am(s){switch(s){default:return zn();case $t.CANCELLED:case $t.UNKNOWN:case $t.DEADLINE_EXCEEDED:case $t.RESOURCE_EXHAUSTED:case $t.INTERNAL:case $t.UNAVAILABLE:case $t.UNAUTHENTICATED:return!1;case $t.INVALID_ARGUMENT:case $t.NOT_FOUND:case $t.ALREADY_EXISTS:case $t.PERMISSION_DENIED:case $t.FAILED_PRECONDITION:case $t.ABORTED:case $t.OUT_OF_RANGE:case $t.UNIMPLEMENTED:case $t.DATA_LOSS:return!0}}function lm(s){if(void 0===s)return Ii("GRPC error has no .code"),$t.UNKNOWN;switch(s){case fo.OK:return $t.OK;case fo.CANCELLED:return $t.CANCELLED;case fo.UNKNOWN:return $t.UNKNOWN;case fo.DEADLINE_EXCEEDED:return $t.DEADLINE_EXCEEDED;case fo.RESOURCE_EXHAUSTED:return $t.RESOURCE_EXHAUSTED;case fo.INTERNAL:return $t.INTERNAL;case fo.UNAVAILABLE:return $t.UNAVAILABLE;case fo.UNAUTHENTICATED:return $t.UNAUTHENTICATED;case fo.INVALID_ARGUMENT:return $t.INVALID_ARGUMENT;case fo.NOT_FOUND:return $t.NOT_FOUND;case fo.ALREADY_EXISTS:return $t.ALREADY_EXISTS;case fo.PERMISSION_DENIED:return $t.PERMISSION_DENIED;case fo.FAILED_PRECONDITION:return $t.FAILED_PRECONDITION;case fo.ABORTED:return $t.ABORTED;case fo.OUT_OF_RANGE:return $t.OUT_OF_RANGE;case fo.UNIMPLEMENTED:return $t.UNIMPLEMENTED;case fo.DATA_LOSS:return $t.DATA_LOSS;default:return zn()}}(kr=fo||(fo={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";class rc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),l=this.inner[r];if(void 0!==l)for(const[f,m]of l)if(this.equalsFn(f,e))return m}has(e){return void 0!==this.get(e)}set(e,r){const l=this.mapKeyFn(e),f=this.inner[l];if(void 0===f)return this.inner[l]=[[e,r]],void this.innerSize++;for(let m=0;m<f.length;m++)if(this.equalsFn(f[m][0],e))return void(f[m]=[e,r]);f.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),l=this.inner[r];if(void 0===l)return!1;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return 1===l.length?delete this.inner[r]:l.splice(f,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(r,l)=>{for(const[f,m]of l)e(f,m)})}isEmpty(){return Kl(this.inner)}size(){return this.innerSize}}const cm=new _i(_n.comparator);function Ra(){return cm}const um=new _i(_n.comparator);function Th(...s){let e=um;for(const r of s)e=e.insert(r.key,r);return e}function dm(s){let e=um;return s.forEach((r,l)=>e=e.insert(r,l.overlayedDocument)),e}function ic(){return Dh()}function hm(){return Dh()}function Dh(){return new rc(s=>s.toString(),(s,e)=>s.isEqual(e))}const Sh=new _i(_n.comparator),ga=new Mi(_n.comparator);function ni(...s){let e=ga;for(const r of s)e=e.add(r);return e}const fm=new Mi(y);function Ih(){return fm}class po{constructor(e,r,l,f,m){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=l,this.documentUpdates=f,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,r){const l=new Map;return l.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,r)),new po(Rt.min(),l,Ih(),Ra(),ni())}}class Dc{constructor(e,r,l,f,m){this.resumeToken=e,this.current=r,this.addedDocuments=l,this.modifiedDocuments=f,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,r){return new Dc(fs.EMPTY_BYTE_STRING,r,ni(),ni(),ni())}}class Lu{constructor(e,r,l,f){this.Tt=e,this.removedTargetIds=r,this.key=l,this.Et=f}}class pm{constructor(e,r){this.targetId=e,this.At=r}}class Af{constructor(e,r,l=fs.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=r,this.resumeToken=l,this.cause=f}}class Pp{constructor(){this.Rt=0,this.bt=gm(),this.Pt=fs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ni(),r=ni(),l=ni();return this.bt.forEach((f,m)=>{switch(m){case 0:e=e.add(f);break;case 2:r=r.add(f);break;case 1:l=l.add(f);break;default:zn()}}),new Dc(this.Pt,this.vt,e,r,l)}Nt(){this.Vt=!1,this.bt=gm()}kt(e,r){this.Vt=!0,this.bt=this.bt.insert(e,r)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ky{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ra(),this.qt=Mf(),this.Kt=new Mi(y)}Gt(e){for(const r of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et);for(const r of e.removedTargetIds)this.jt(r,e.key,e.Et)}Wt(e){this.forEachTarget(e,r=>{const l=this.zt(r);switch(e.state){case 0:this.Ht(r)&&l.Ct(e.resumeToken);break;case 1:l.Ft(),l.St||l.Nt(),l.Ct(e.resumeToken);break;case 2:l.Ft(),l.St||this.removeTarget(r);break;case 3:this.Ht(r)&&(l.$t(),l.Ct(e.resumeToken));break;case 4:this.Ht(r)&&(this.Jt(r),l.Ct(e.resumeToken));break;default:zn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Lt.forEach((l,f)=>{this.Ht(f)&&r(f)})}Yt(e){const r=e.targetId,l=e.At.count,f=this.Xt(r);if(f){const m=f.target;if(Pu(m))if(0===l){const D=new _n(m.path);this.jt(r,D,vi.newNoDocument(D,Rt.min()))}else Sr(1===l);else this.Zt(r)!==l&&(this.Jt(r),this.Kt=this.Kt.add(r))}}te(e){const r=new Map;this.Lt.forEach((m,D)=>{const P=this.Xt(D);if(P){if(m.current&&Pu(P.target)){const K=new _n(P.target.path);null!==this.Ut.get(K)||this.ee(D,K)||this.jt(D,K,vi.newNoDocument(K,e))}m.Dt&&(r.set(D,m.xt()),m.Nt())}});let l=ni();this.qt.forEach((m,D)=>{let P=!0;D.forEachWhile(K=>{const ee=this.Xt(K);return!ee||2===ee.purpose||(P=!1,!1)}),P&&(l=l.add(m))}),this.Ut.forEach((m,D)=>D.setReadTime(e));const f=new po(e,r,this.Kt,this.Ut,l);return this.Ut=Ra(),this.qt=Mf(),this.Kt=new Mi(y),f}Qt(e,r){if(!this.Ht(e))return;const l=this.ee(e,r.key)?2:0;this.zt(e).kt(r.key,l),this.Ut=this.Ut.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ne(r.key).add(e))}jt(e,r,l){if(!this.Ht(e))return;const f=this.zt(e);this.ee(e,r)?f.kt(r,1):f.Mt(r),this.qt=this.qt.insert(r,this.ne(r).delete(e)),l&&(this.Ut=this.Ut.insert(r,l))}removeTarget(e){this.Lt.delete(e)}Zt(e){const r=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let r=this.Lt.get(e);return r||(r=new Pp,this.Lt.set(e,r)),r}ne(e){let r=this.qt.get(e);return r||(r=new Mi(y),this.qt=this.qt.insert(e,r)),r}Ht(e){const r=null!==this.Xt(e);return r||pn("WatchChangeAggregator","Detected inactive target",e),r}Xt(e){const r=this.Lt.get(e);return r&&r.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Pp),this.Bt.getRemoteKeysForTarget(e).forEach(r=>{this.jt(e,r,null)})}ee(e,r){return this.Bt.getRemoteKeysForTarget(e).has(r)}}function Mf(){return new _i(_n.comparator)}function gm(){return new _i(_n.comparator)}const mm={asc:"ASCENDING",desc:"DESCENDING"},Yy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qy{constructor(e,r){this.databaseId=e,this.gt=r}}function Ah(s,e){return s.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Np(s,e){return s.gt?e.toBase64():e.toUint8Array()}function Fp(s,e){return Ah(s,e.toTimestamp())}function Eo(s){return Sr(!!s),Rt.fromTimestamp(function(e){const r=ul(e);return new mt(r.seconds,r.nanos)}(s))}function Lp(s,e){return(r=s,new en(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Jy(s){const e=en.fromString(s);return Sr(Oh(e)),e}function vd(s,e){return Lp(s.databaseId,e.path)}function el(s,e){const r=Jy(e);if(r.get(1)!==s.databaseId.projectId)throw new nn($t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new nn($t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new _n(Vp(r))}function ym(s,e){return Lp(s.databaseId,e)}function _m(s){const e=Jy(s);return 4===e.length?en.emptyPath():Vp(e)}function sc(s){return new en(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Vp(s){return Sr(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function vm(s,e,r){return{name:vd(s,e),fields:r.value.mapValue.fields}}function Vi(s,e,r){const l=el(s,e.name),f=Eo(e.updateTime),m=new Ns({mapValue:{fields:e.fields}}),D=vi.newFoundDocument(l,f,m);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function oc(s,e){let r;if(e instanceof kl)r={update:vm(s,e.key,e.value)};else if(e instanceof Tc)r={delete:vd(s,e.key)};else if(e instanceof Cc)r={update:vm(s,e.key,e.data),updateMask:gv(e.fieldMask)};else{if(!(e instanceof If))return zn();r={verify:vd(s,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(l=>function(f,m){const D=m.transform;if(D instanceof fa)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof fl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof pa)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Po)return{fieldPath:m.field.canonicalString(),increment:D.yt};throw zn()}(0,l))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Fp(s,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:zn()),r;var f}function ma(s,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Ds.updateTime(Eo(f.updateTime)):void 0!==f.exists?Ds.exists(f.exists):Ds.none():Ds.none(),l=e.updateTransforms?e.updateTransforms.map(f=>function(m,D){let P=null;"setToServerValue"in D?(Sr("REQUEST_TIME"===D.setToServerValue),P=new fa):"appendMissingElements"in D?P=new fl(D.appendMissingElements.values||[]):"removeAllFromArray"in D?P=new pa(D.removeAllFromArray.values||[]):"increment"in D?P=new Po(m,D.increment):zn();const K=Ar.fromServerFormat(D.fieldPath);return new Ec(K,P)}(s,f)):[];var f;if(e.update){const f=el(s,e.update.name),m=new Ns({mapValue:{fields:e.update.fields}});if(e.updateMask){const D=new ta((e.updateMask.fieldPaths||[]).map(ee=>Ar.fromServerFormat(ee)));return new Cc(f,m,D,r,l)}return new kl(f,m,r,l)}if(e.delete){const f=el(s,e.delete);return new Tc(f,r)}if(e.verify){const f=el(s,e.verify);return new If(f,r)}return zn()}function Xi(s,e){return{documents:[ym(s,e.path)]}}function Xn(s,e){const r={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(r.parent=ym(s,l),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=ym(s,l.popLast()),r.structuredQuery.from=[{collectionId:l.lastSegment()}]);const f=function(K){if(0===K.length)return;const ee=K.map(De=>function(nt){if("=="===nt.op){if(_h(nt.value))return{unaryFilter:{field:Ko(nt.field),op:"IS_NAN"}};if(Cs(nt.value))return{unaryFilter:{field:Ko(nt.field),op:"IS_NULL"}}}else if("!="===nt.op){if(_h(nt.value))return{unaryFilter:{field:Ko(nt.field),op:"IS_NOT_NAN"}};if(Cs(nt.value))return{unaryFilter:{field:Ko(nt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(nt.field),op:pv(nt.op),value:nt.value}}}(De));return 1===ee.length?ee[0]:{compositeFilter:{op:"AND",filters:ee}}}(e.filters);f&&(r.structuredQuery.where=f);const m=function(K){if(0!==K.length)return K.map(ee=>{return{field:Ko((De=ee).field),direction:fv(De.dir)};var De})}(e.orderBy);m&&(r.structuredQuery.orderBy=m);const D=(ee=e.limit,s.gt||Ql(ee)?ee:{value:ee});var ee,P,K;return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(r.structuredQuery.endAt={before:!(K=e.endAt).inclusive,values:K.position}),r}function bd(s){let e=_m(s.parent);const r=s.structuredQuery,l=r.from?r.from.length:0;let f=null;if(l>0){Sr(1===l);const De=r.from[0];De.allDescendants?f=De.collectionId:e=e.child(De.collectionId)}let m=[];r.where&&(m=Ed(r.where));let D=[];r.orderBy&&(D=r.orderBy.map(De=>{return new dl(pl((nt=De).field),function(jt){switch(jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(nt.direction));var nt}));let P=null;r.limit&&(P=function(De){let nt;return nt="object"==typeof De?De.value:De,Ql(nt)?null:nt}(r.limit));let K=null;var De;r.startAt&&(K=new Ya((De=r.startAt).values||[],!!De.before));let ee=null;return r.endAt&&(ee=function(De){return new Ya(De.values||[],!De.before)}(r.endAt)),ia(e,f,D,m,P,"F",K,ee)}function Ed(s){return s?void 0!==s.unaryFilter?[Xy(s)]:void 0!==s.fieldFilter?[Pl(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Ed(e)).reduce((e,r)=>e.concat(r)):zn():[]}function fv(s){return mm[s]}function pv(s){return Yy[s]}function Ko(s){return{fieldPath:s.canonicalString()}}function pl(s){return Ar.fromServerFormat(s.fieldPath)}function Pl(s){return Ts.create(pl(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zn()}}(s.fieldFilter.op),s.fieldFilter.value)}function Xy(s){switch(s.unaryFilter.op){case"IS_NAN":const e=pl(s.unaryFilter.field);return Ts.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=pl(s.unaryFilter.field);return Ts.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=pl(s.unaryFilter.field);return Ts.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=pl(s.unaryFilter.field);return Ts.create(f,"!=",{nullValue:"NULL_VALUE"});default:return zn()}}function gv(s){const e=[];return s.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Oh(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Xs(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=wd(e)),e=gl(s.get(r),e);return wd(e)}function gl(s,e){let r=e;const l=s.length;for(let f=0;f<l;f++){const m=s.charAt(f);switch(m){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=m}}return r}function wd(s){return s+"\x01\x01"}function ml(s){const e=s.length;if(Sr(e>=2),2===e)return Sr("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),en.emptyPath();const r=e-2,l=[];let f="";for(let m=0;m<e;){const D=s.indexOf("\x01",m);switch((D<0||D>r)&&zn(),s.charAt(D+1)){case"\x01":const P=s.substring(m,D);let K;0===f.length?K=P:(f+=P,K=f,f=""),l.push(K);break;case"\x10":f+=s.substring(m,D),f+="\0";break;case"\x11":f+=s.substring(m,D+1);break;default:zn()}m=D+2}return new en(l)}const Up=["userId","batchId"];function Of(s,e){return[s,Xs(e)]}function xh(s,e,r){return[s,Xs(e),r]}const wm={},Cm=["prefixPath","collectionGroup","readTime","documentId"],Rh=["prefixPath","collectionGroup","documentId"],Cd=["collectionGroup","readTime","prefixPath","documentId"],Tm=["canonicalId","targetId"],e_=["targetId","path"],Vu=["path","targetId"],Td=["collectionId","parent"],Dm=["indexId","uid"],t_=["uid","sequenceNumber"],Bp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],n_=["indexId","uid","orderedDocumentKey"],r_=["userId","collectionPath","documentId"],jp=["userId","collectionPath","largestBatchId"],Sm=["userId","collectionGroup","largestBatchId"],Im=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Am=[...Im,"documentOverlays"],Mm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xf=Mm,Om=[...xf,"indexConfiguration","indexState","indexEntries"];class kh extends Xc{constructor(e,r){super(),this.ie=e,this.currentSequenceNumber=r}}function No(s,e){const r=Nn(s);return ll.O(r.ie,e)}class Rf{constructor(e,r,l,f){this.batchId=e,this.localWriteTime=r,this.baseMutations=l,this.mutations=f}applyToRemoteDocument(e,r){const l=r.mutationResults;for(let f=0;f<this.mutations.length;f++){const m=this.mutations[f];m.key.isEqual(e.key)&&Op(m,e,l[f])}}applyToLocalView(e,r){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(r=Sf(l,e,r,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(r=Sf(l,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const l=hm();return this.mutations.forEach(f=>{const m=e.get(f.key),D=m.overlayedDocument;let P=this.applyToLocalView(D,m.mutatedFields);P=r.has(f.key)?null:P;const K=Df(D,P);null!==K&&l.set(f.key,K),D.isValidDocument()||D.convertToNoDocument(Rt.min())}),l}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ni())}isEqual(e){return this.batchId===e.batchId&&F(this.mutations,e.mutations,(r,l)=>xp(r,l))&&F(this.baseMutations,e.baseMutations,(r,l)=>xp(r,l))}}class Ph{constructor(e,r,l,f){this.batch=e,this.commitVersion=r,this.mutationResults=l,this.docVersions=f}static from(e,r,l){Sr(e.mutations.length===l.length);let f=Sh;const m=e.mutations;for(let D=0;D<m.length;D++)f=f.insert(m[D].key,l[D].version);return new Ph(e,r,l,f)}}class Dd{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oa{constructor(e,r,l,f,m=Rt.min(),D=Rt.min(),P=fs.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=l,this.sequenceNumber=f,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=P}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Nh{constructor(e){this.re=e}}function xm(s,e){const r=e.key,l={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Sc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:vd(f=s.re,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Ah(f,m.version.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:r.path.toArray(),readTime:lu(e.version)};else{if(!e.isUnknownDocument())return zn();l.unknownDocument={path:r.path.toArray(),version:lu(e.version)}}var f,m;return l}function Sc(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function lu(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(s){const e=new mt(s.seconds,s.nanoseconds);return Rt.fromTimestamp(e)}function yl(s,e){const r=(e.baseMutations||[]).map(m=>ma(s.re,m));for(let m=0;m<e.mutations.length-1;++m){const D=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(D.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const l=e.mutations.map(m=>ma(s.re,m)),f=mt.fromMillis(e.localWriteTimeMs);return new Rf(e.batchId,f,r,l)}function Sd(s){const e=Nl(s.readTime),r=void 0!==s.lastLimboFreeSnapshotVersion?Nl(s.lastLimboFreeSnapshotVersion):Rt.min();let l;var f;return void 0!==s.query.documents?(Sr(1===(f=s.query).documents.length),l=sa(nc(_m(f.documents[0])))):l=sa(bd(s.query)),new oa(l,s.targetId,0,s.lastListenSequenceNumber,e,r,fs.fromBase64String(s.resumeToken))}function Ic(s,e){const r=lu(e.snapshotVersion),l=lu(e.lastLimboFreeSnapshotVersion);let f;f=Pu(e.target)?Xi(s.re,e.target):Xn(s.re,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ko(e.target),readTime:r,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:f}}function Uu(s){const e=bd({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?ou(e,e.limit,"L"):e}function Bu(s,e){return new Dd(e.largestBatchId,ma(s.re,e.overlayMutation))}function ju(s,e){const r=e.path.lastSegment();return[s,Xs(e.path.popLast()),r]}function Hp(s,e,r,l){return{indexId:s,uid:e.uid||"",sequenceNumber:r,readTime:lu(l.readTime),documentKey:Xs(l.documentKey.path),largestBatchId:l.largestBatchId}}class Pf{getBundleMetadata(e,r){return Fh(e).get(r).next(l=>{if(l)return{id:(f=l).bundleId,createTime:Nl(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return Fh(e).put({bundleId:(l=r).id,createTime:lu(Eo(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return Nf(e).get(r).next(l=>{if(l)return{name:(f=l).name,query:Uu(f.bundledQuery),readTime:Nl(f.readTime)};var f})}saveNamedQuery(e,r){return Nf(e).put({name:(l=r).name,readTime:lu(Eo(l.readTime)),bundledQuery:l.bundledQuery});var l}}function Fh(s){return No(s,"bundles")}function Nf(s){return No(s,"namedQueries")}class cu{constructor(e,r){this.It=e,this.userId=r}static oe(e,r){return new cu(e,r.uid||"")}getOverlay(e,r){return qi(e).get(ju(this.userId,r)).next(l=>l?Bu(this.It,l):null)}getOverlays(e,r){const l=ic();return Zt.forEach(r,f=>this.getOverlay(e,f).next(m=>{null!==m&&l.set(f,m)})).next(()=>l)}saveOverlays(e,r,l){const f=[];return l.forEach((m,D)=>{const P=new Dd(r,D);f.push(this.ue(e,P))}),Zt.waitFor(f)}removeOverlaysForBatchId(e,r,l){const f=new Set;r.forEach(D=>f.add(Xs(D.getCollectionPath())));const m=[];return f.forEach(D=>{const P=IDBKeyRange.bound([this.userId,D,l],[this.userId,D,l+1],!1,!0);m.push(qi(e).Y("collectionPathOverlayIndex",P))}),Zt.waitFor(m)}getOverlaysForCollection(e,r,l){const f=ic(),m=Xs(r),D=IDBKeyRange.bound([this.userId,m,l],[this.userId,m,Number.POSITIVE_INFINITY],!0);return qi(e).W("collectionPathOverlayIndex",D).next(P=>{for(const K of P){const ee=Bu(this.It,K);f.set(ee.getKey(),ee)}return f})}getOverlaysForCollectionGroup(e,r,l,f){const m=ic();let D;const P=IDBKeyRange.bound([this.userId,r,l],[this.userId,r,Number.POSITIVE_INFINITY],!0);return qi(e).Z({index:"collectionGroupOverlayIndex",range:P},(K,ee,De)=>{const nt=Bu(this.It,ee);m.size()<f||nt.largestBatchId===D?(m.set(nt.getKey(),nt),D=nt.largestBatchId):De.done()}).next(()=>m)}ue(e,r){return qi(e).put(function(l,f,m){const[D,P,K]=ju(f,m.mutation.key);return{userId:f,collectionPath:P,documentId:K,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:oc(l.re,m.mutation)}}(this.It,this.userId,r))}}function qi(s){return No(s,"documentOverlays")}class uu{constructor(){}ce(e,r){this.ae(e,r),r.he()}ae(e,r){if("nullValue"in e)this.le(r,5);else if("booleanValue"in e)this.le(r,10),r.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(r,15),r.fe(ws(e.integerValue));else if("doubleValue"in e){const l=ws(e.doubleValue);isNaN(l)?this.le(r,13):(this.le(r,15),Jl(l)?r.fe(0):r.fe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.le(r,20),"string"==typeof l?r.de(l):(r.de(`${l.seconds||""}`),r.fe(l.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,r),this.we(r);else if("bytesValue"in e)this.le(r,30),r.me(Yl(e.bytesValue)),this.we(r);else if("referenceValue"in e)this.ge(e.referenceValue,r);else if("geoPointValue"in e){const l=e.geoPointValue;this.le(r,45),r.fe(l.latitude||0),r.fe(l.longitude||0)}else"mapValue"in e?su(e)?this.le(r,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,r),this.we(r)):"arrayValue"in e?(this.pe(e.arrayValue,r),this.we(r)):zn()}_e(e,r){this.le(r,25),this.Ie(e,r)}Ie(e,r){r.de(e)}ye(e,r){const l=e.fields||{};this.le(r,55);for(const f of Object.keys(l))this._e(f,r),this.ae(l[f],r)}pe(e,r){const l=e.values||[];this.le(r,50);for(const f of l)this.ae(f,r)}ge(e,r){this.le(r,37),_n.fromName(e).path.forEach(l=>{this.le(r,60),this.Ie(l,r)})}le(e,r){e.fe(r)}we(e){e.fe(2)}}function Zs(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function Rm(s){const e=64-function(r){let l=0;for(let f=0;f<8;++f){const m=Zs(255&r[f]);if(l+=m,8!==m)break}return l}(s);return Math.ceil(e/8)}uu.Te=new uu;class Lh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const r=e[Symbol.iterator]();let l=r.next();for(;!l.done;)this.Ae(l.value),l=r.next();this.Re()}be(e){const r=e[Symbol.iterator]();let l=r.next();for(;!l.done;)this.Pe(l.value),l=r.next();this.ve()}Ve(e){for(const r of e){const l=r.charCodeAt(0);if(l<128)this.Ae(l);else if(l<2048)this.Ae(960|l>>>6),this.Ae(128|63&l);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l);else{const f=r.codePointAt(0);this.Ae(240|f>>>18),this.Ae(128|63&f>>>12),this.Ae(128|63&f>>>6),this.Ae(128|63&f)}}this.Re()}Se(e){for(const r of e){const l=r.charCodeAt(0);if(l<128)this.Pe(l);else if(l<2048)this.Pe(960|l>>>6),this.Pe(128|63&l);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|l>>>12),this.Pe(128|63&l>>>6),this.Pe(128|63&l);else{const f=r.codePointAt(0);this.Pe(240|f>>>18),this.Pe(128|63&f>>>12),this.Pe(128|63&f>>>6),this.Pe(128|63&f)}}this.ve()}De(e){const r=this.Ce(e),l=Rm(r);this.xe(1+l),this.buffer[this.position++]=255&l;for(let f=r.length-l;f<r.length;++f)this.buffer[this.position++]=255&r[f]}Ne(e){const r=this.Ce(e),l=Rm(r);this.xe(1+l),this.buffer[this.position++]=~(255&l);for(let f=r.length-l;f<r.length;++f)this.buffer[this.position++]=~(255&r[f])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(e),l=0!=(128&r[0]);r[0]^=l?255:128;for(let f=1;f<r.length;++f)r[f]^=l?255:0;return r}Ae(e){const r=255&e;0===r?(this.Me(0),this.Me(255)):255===r?(this.Me(255),this.Me(0)):this.Me(r)}Pe(e){const r=255&e;0===r?(this.Fe(0),this.Fe(255)):255===r?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const r=e+this.position;if(r<=this.buffer.length)return;let l=2*this.buffer.length;l<r&&(l=r);const f=new Uint8Array(l);f.set(this.buffer),this.buffer=f}}class Vh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Hu{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Oi{constructor(){this.Be=new Lh,this.Le=new Vh(this.Be),this.Ue=new Hu(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class du{constructor(e,r,l,f){this.indexId=e,this.documentKey=r,this.arrayValue=l,this.directionalValue=f}Ke(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(r);return l.set(this.directionalValue,0),r!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new du(this.indexId,this.documentKey,this.arrayValue,l)}}function Zu(s,e){let r=s.indexId-e.indexId;return 0!==r?r:(r=Zp(s.arrayValue,e.arrayValue),0!==r?r:(r=Zp(s.directionalValue,e.directionalValue),0!==r?r:_n.comparator(s.documentKey,e.documentKey)))}function Zp(s,e){for(let r=0;r<s.length&&r<e.length;++r){const l=s[r]-e[r];if(0!==l)return l}return s.length-e.length}class i_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const r of e.filters){const l=r;l.dt()?this.je=l:this.Qe.push(l)}}We(e){const r=ss(e);if(void 0!==r&&!this.ze(r))return!1;const l=Li(e);let f=0,m=0;for(;f<l.length&&this.ze(l[f]);++f);if(f===l.length)return!0;if(void 0!==this.je){const D=l[f];if(!this.He(this.je,D)||!this.Je(this.Ge[m++],D))return!1;++f}for(;f<l.length;++f){const D=l[f];if(m>=this.Ge.length||!this.Je(this.Ge[m++],D))return!1}return!0}ze(e){for(const r of this.Qe)if(this.He(r,e))return!0;return!1}He(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}class s_{constructor(){this.Ye=new tl}addToCollectionParentIndex(e,r){return this.Ye.add(r),Zt.resolve()}getCollectionParents(e,r){return Zt.resolve(this.Ye.getEntries(r))}addFieldIndex(e,r){return Zt.resolve()}deleteFieldIndex(e,r){return Zt.resolve()}getDocumentsMatchingTarget(e,r){return Zt.resolve(null)}getIndexType(e,r){return Zt.resolve(0)}getFieldIndexes(e,r){return Zt.resolve([])}getNextCollectionGroupToUpdate(e){return Zt.resolve(null)}getMinOffset(e,r){return Zt.resolve(da.min())}getMinOffsetFromCollectionGroup(e,r){return Zt.resolve(da.min())}updateCollectionGroup(e,r,l){return Zt.resolve()}updateIndexEntries(e,r){return Zt.resolve()}}class tl{constructor(){this.index={}}add(e){const r=e.lastSegment(),l=e.popLast(),f=this.index[r]||new Mi(en.comparator),m=!f.has(l);return this.index[r]=f.add(l),m}has(e){const r=e.lastSegment(),l=e.popLast(),f=this.index[r];return f&&f.has(l)}getEntries(e){return(this.index[e]||new Mi(en.comparator)).toArray()}}const Ff=new Uint8Array(0);class km{constructor(e,r){this.user=e,this.databaseId=r,this.Xe=new tl,this.Ze=new rc(l=>ko(l),(l,f)=>Rl(l,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Xe.has(r)){const l=r.lastSegment(),f=r.popLast();e.addOnCommittedListener(()=>{this.Xe.add(r)});const m={collectionId:l,parent:Xs(f)};return Pm(e).put(m)}return Zt.resolve()}getCollectionParents(e,r){const l=[],f=IDBKeyRange.bound([r,""],[Ce(r),""],!1,!0);return Pm(e).W(f).next(m=>{for(const D of m){if(D.collectionId!==r)break;l.push(ml(D.parent))}return l})}addFieldIndex(e,r){const l=Ac(e),f={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var D;delete f.indexId;const m=l.add(f);if(r.indexState){const D=Bh(e);return m.next(P=>{D.put(Hp(P,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return m.next()}deleteFieldIndex(e,r){const l=Ac(e),f=Bh(e),m=Uh(e);return l.delete(r.indexId).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const l=Uh(e);let f=!0;const m=new Map;return Zt.forEach(this.tn(r),D=>this.en(e,D).next(P=>{f&&(f=!!P),m.set(D,P)})).next(()=>{if(f){let D=ni();const P=[];return Zt.forEach(m,(K,ee)=>{var De;pn("IndexedDbIndexManager",`Using index ${De=K,`id=${De.indexId}|cg=${De.collectionGroup}|f=${De.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${ko(r)}`);const nt=function(zi,$s){const Ni=ss($s);if(void 0===Ni)return null;for(const Wi of gd(zi,Ni.fieldPath))switch(Wi.op){case"array-contains-any":return Wi.value.arrayValue.values||[];case"array-contains":return[Wi.value]}return null}(ee,K),jt=function(zi,$s){const Ni=new Map;for(const Wi of Li($s))for(const Uo of gd(zi,Wi.fieldPath))switch(Uo.op){case"==":case"in":Ni.set(Wi.fieldPath.canonicalString(),Uo.value);break;case"not-in":case"!=":return Ni.set(Wi.fieldPath.canonicalString(),Uo.value),Array.from(Ni.values())}return null}(ee,K),tn=function(zi,$s){const Ni=[];let Wi=!0;for(const Uo of Li($s)){const Yg=0===Uo.kind?Ef(zi,Uo.fieldPath,zi.startAt):_c(zi,Uo.fieldPath,zi.startAt);Ni.push(Yg.value),Wi&&(Wi=Yg.inclusive)}return new Ya(Ni,Wi)}(ee,K),an=function(zi,$s){const Ni=[];let Wi=!0;for(const Uo of Li($s)){const Yg=0===Uo.kind?_c(zi,Uo.fieldPath,zi.endAt):Ef(zi,Uo.fieldPath,zi.endAt);Ni.push(Yg.value),Wi&&(Wi=Yg.inclusive)}return new Ya(Ni,Wi)}(ee,K),An=this.nn(K,ee,tn),Ir=this.nn(K,ee,an),Ei=this.sn(K,ee,jt),es=this.rn(K.indexId,nt,An,tn.inclusive,Ir,an.inclusive,Ei);return Zt.forEach(es,zi=>l.J(zi,r.limit).next($s=>{$s.forEach(Ni=>{const Wi=_n.fromSegments(Ni.documentKey);D.has(Wi)||(D=D.add(Wi),P.push(Wi))})}))}).next(()=>P)}return Zt.resolve(null)})}tn(e){let r=this.Ze.get(e);return r||(r=[e],this.Ze.set(e,r),r)}rn(e,r,l,f,m,D,P){const K=(null!=r?r.length:1)*Math.max(l.length,m.length),ee=K/(null!=r?r.length:1),De=[];for(let nt=0;nt<K;++nt){const jt=r?this.on(r[nt/ee]):Ff,tn=this.un(e,jt,l[nt%ee],f),an=this.cn(e,jt,m[nt%ee],D),An=P.map(Ir=>this.un(e,jt,Ir,!0));De.push(...this.createRange(tn,an,An))}return De}un(e,r,l,f){const m=new du(e,_n.empty(),r,l);return f?m:m.Ke()}cn(e,r,l,f){const m=new du(e,_n.empty(),r,l);return f?m.Ke():m}en(e,r){const l=new i_(r),f=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,f).next(m=>{let D=null;for(const P of m)l.We(P)&&(!D||P.fields.length>D.fields.length)&&(D=P);return D})}getIndexType(e,r){let l=2;return Zt.forEach(this.tn(r),f=>this.en(e,f).next(m=>{m?0!==l&&m.fields.length<function(D){let P=new Mi(Ar.comparator),K=!1;for(const ee of D.filters){const De=ee;De.field.isKeyField()||("array-contains"===De.op||"array-contains-any"===De.op?K=!0:P=P.add(De.field))}for(const ee of D.orderBy)ee.field.isKeyField()||(P=P.add(ee.field));return P.size+(K?1:0)}(f)&&(l=1):l=0})).next(()=>l)}an(e,r){const l=new Oi;for(const f of Li(e)){const m=r.data.field(f.fieldPath);if(null==m)return null;const D=l.qe(f.kind);uu.Te.ce(m,D)}return l.$e()}on(e){const r=new Oi;return uu.Te.ce(e,r.qe(0)),r.$e()}hn(e,r){const l=new Oi;return uu.Te.ce(Wa(this.databaseId,r),l.qe(function(f){const m=Li(f);return 0===m.length?0:m[m.length-1].kind}(e))),l.$e()}sn(e,r,l){if(null===l)return[];let f=[];f.push(new Oi);let m=0;for(const D of Li(e)){const P=l[m++];for(const K of f)if(this.ln(r,D.fieldPath)&&iu(P))f=this.fn(f,D,P);else{const ee=K.qe(D.kind);uu.Te.ce(P,ee)}}return this.dn(f)}nn(e,r,l){return this.sn(e,r,l.position)}dn(e){const r=[];for(let l=0;l<e.length;++l)r[l]=e[l].$e();return r}fn(e,r,l){const f=[...e],m=[];for(const D of l.arrayValue.values||[])for(const P of f){const K=new Oi;K.seed(P.$e()),uu.Te.ce(D,K.qe(r.kind)),m.push(K)}return m}ln(e,r){return!!e.filters.find(l=>l instanceof Ts&&l.field.isEqual(r)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,r){const l=Ac(e),f=Bh(e);return(r?l.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):l.W()).next(m=>{const D=[];return Zt.forEach(m,P=>f.get([P.indexId,this.uid]).next(K=>{D.push(function(ee,De){const nt=De?new Wl(De.sequenceNumber,new da(Nl(De.readTime),new _n(ml(De.documentKey)),De.largestBatchId)):Wl.empty(),jt=ee.fields.map(([tn,an])=>new zl(Ar.fromServerFormat(tn),an));return new Ps(ee.indexId,ee.collectionGroup,jt,nt)}(P,K))})).next(()=>D)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((l,f)=>{const m=l.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==m?m:y(l.collectionGroup,f.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,l){const f=Ac(e),m=Bh(e);return this._n(e).next(D=>f.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(P=>Zt.forEach(P,K=>m.put(Hp(K.indexId,this.user,D,l)))))}updateIndexEntries(e,r){const l=new Map;return Zt.forEach(r,(f,m)=>{const D=l.get(f.collectionGroup);return(D?Zt.resolve(D):this.getFieldIndexes(e,f.collectionGroup)).next(P=>(l.set(f.collectionGroup,P),Zt.forEach(P,K=>this.wn(e,f,K).next(ee=>{const De=this.mn(m,K);return ee.isEqual(De)?Zt.resolve():this.gn(e,m,K,ee,De)}))))})}yn(e,r,l,f){return Uh(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.hn(l,r.key),documentKey:r.key.path.toArray()})}pn(e,r,l,f){return Uh(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.hn(l,r.key),r.key.path.toArray()])}wn(e,r,l){const f=Uh(e);let m=new Mi(Zu);return f.Z({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.hn(l,r)])},(D,P)=>{m=m.add(new du(l.indexId,r,P.arrayValue,P.directionalValue))}).next(()=>m)}mn(e,r){let l=new Mi(Zu);const f=this.an(r,e);if(null==f)return l;const m=ss(r);if(null!=m){const D=e.data.field(m.fieldPath);if(iu(D))for(const P of D.arrayValue.values||[])l=l.add(new du(r.indexId,e.key,this.on(P),f))}else l=l.add(new du(r.indexId,e.key,Ff,f));return l}gn(e,r,l,f,m){pn("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const D=[];return function(P,K,ee,De,nt){const jt=P.getIterator(),tn=K.getIterator();let an=Ml(jt),An=Ml(tn);for(;an||An;){let Ir=!1,Ei=!1;if(an&&An){const es=ee(an,An);es<0?Ei=!0:es>0&&(Ir=!0)}else null!=an?Ei=!0:Ir=!0;Ir?(De(An),An=Ml(tn)):Ei?(nt(an),an=Ml(jt)):(an=Ml(jt),An=Ml(tn))}}(f,m,Zu,P=>{D.push(this.yn(e,r,l,P))},P=>{D.push(this.pn(e,r,l,P))}),Zt.waitFor(D)}_n(e){let r=1;return Bh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,f,m)=>{m.done(),r=f.sequenceNumber+1}).next(()=>r)}createRange(e,r,l){l=l.sort((D,P)=>Zu(D,P)).filter((D,P,K)=>!P||0!==Zu(D,K[P-1]));const f=[];f.push(e);for(const D of l){const P=Zu(D,e),K=Zu(D,r);if(0===P)f[0]=e.Ke();else if(P>0&&K<0)f.push(D),f.push(D.Ke());else if(K>0)break}f.push(r);const m=[];for(let D=0;D<f.length;D+=2)m.push(IDBKeyRange.bound([f[D].indexId,this.uid,f[D].arrayValue,f[D].directionalValue,Ff,[]],[f[D+1].indexId,this.uid,f[D+1].arrayValue,f[D+1].directionalValue,Ff,[]]));return m}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Gp)}getMinOffset(e,r){return Zt.mapArray(this.tn(r),l=>this.en(e,l).next(f=>f||zn())).next(Gp)}}function Pm(s){return No(s,"collectionParents")}function Uh(s){return No(s,"indexEntries")}function Ac(s){return No(s,"indexConfiguration")}function Bh(s){return No(s,"indexState")}function Gp(s){Sr(0!==s.length);let e=s[0].indexState.offset,r=e.largestBatchId;for(let l=1;l<s.length;l++){const f=s[l].indexState.offset;mc(f,e)<0&&(e=f),r<f.largestBatchId&&(r=f.largestBatchId)}return new da(e.readTime,e.documentKey,r)}const Lf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(e,r,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new Fo(e,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Nm(s,e,r){const l=s.store("mutations"),f=s.store("documentMutations"),m=[],D=IDBKeyRange.only(r.batchId);let P=0;const K=l.Z({range:D},(De,nt,jt)=>(P++,jt.delete()));m.push(K.next(()=>{Sr(1===P)}));const ee=[];for(const De of r.mutations){const nt=xh(e,De.key.path,r.batchId);m.push(f.delete(nt)),ee.push(De.key)}return Zt.waitFor(m).next(()=>ee)}function Br(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw zn();e=s.noDocument}return JSON.stringify(e).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class Fl{constructor(e,r,l,f){this.userId=e,this.It=r,this.indexManager=l,this.referenceDelegate=f,this.In={}}static oe(e,r,l,f){Sr(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Fl(m,r,l,f)}checkEmpty(e){let r=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).Z({index:"userMutationsIndex",range:l},(f,m,D)=>{r=!1,D.done()}).next(()=>r)}addMutationBatch(e,r,l,f){const m=Yo(e),D=wo(e);return D.add({}).next(P=>{Sr("number"==typeof P);const K=new Rf(P,r,l,f),ee=function(jt,tn,an){const An=an.baseMutations.map(Ei=>oc(jt.re,Ei)),Ir=an.mutations.map(Ei=>oc(jt.re,Ei));return{userId:tn,batchId:an.batchId,localWriteTimeMs:an.localWriteTime.toMillis(),baseMutations:An,mutations:Ir}}(this.It,this.userId,K),De=[];let nt=new Mi((jt,tn)=>y(jt.canonicalString(),tn.canonicalString()));for(const jt of f){const tn=xh(this.userId,jt.key.path,P);nt=nt.add(jt.key.path.popLast()),De.push(D.put(ee)),De.push(m.put(tn,wm))}return nt.forEach(jt=>{De.push(this.indexManager.addToCollectionParentIndex(e,jt))}),e.addOnCommittedListener(()=>{this.In[P]=K.keys()}),Zt.waitFor(De).next(()=>K)})}lookupMutationBatch(e,r){return wo(e).get(r).next(l=>l?(Sr(l.userId===this.userId),yl(this.It,l)):null)}Tn(e,r){return this.In[r]?Zt.resolve(this.In[r]):this.lookupMutationBatch(e,r).next(l=>{if(l){const f=l.keys();return this.In[r]=f,f}return null})}getNextMutationBatchAfterBatchId(e,r){const l=r+1,f=IDBKeyRange.lowerBound([this.userId,l]);let m=null;return wo(e).Z({index:"userMutationsIndex",range:f},(D,P,K)=>{P.userId===this.userId&&(Sr(P.batchId>=l),m=yl(this.It,P)),K.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return wo(e).Z({index:"userMutationsIndex",range:r,reverse:!0},(f,m,D)=>{l=m.batchId,D.done()}).next(()=>l)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wo(e).W("userMutationsIndex",r).next(l=>l.map(f=>yl(this.It,f)))}getAllMutationBatchesAffectingDocumentKey(e,r){const l=Of(this.userId,r.path),f=IDBKeyRange.lowerBound(l),m=[];return Yo(e).Z({range:f},(D,P,K)=>{const[ee,De,nt]=D,jt=ml(De);if(ee===this.userId&&r.path.isEqual(jt))return wo(e).get(nt).next(tn=>{if(!tn)throw zn();Sr(tn.userId===this.userId),m.push(yl(this.It,tn))});K.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let l=new Mi(y);const f=[];return r.forEach(m=>{const D=Of(this.userId,m.path),P=IDBKeyRange.lowerBound(D),K=Yo(e).Z({range:P},(ee,De,nt)=>{const[jt,tn,an]=ee,An=ml(tn);jt===this.userId&&m.path.isEqual(An)?l=l.add(an):nt.done()});f.push(K)}),Zt.waitFor(f).next(()=>this.En(e,l))}getAllMutationBatchesAffectingQuery(e,r){const l=r.path,f=l.length+1,m=Of(this.userId,l),D=IDBKeyRange.lowerBound(m);let P=new Mi(y);return Yo(e).Z({range:D},(K,ee,De)=>{const[nt,jt,tn]=K,an=ml(jt);nt===this.userId&&l.isPrefixOf(an)?an.length===f&&(P=P.add(tn)):De.done()}).next(()=>this.En(e,P))}En(e,r){const l=[],f=[];return r.forEach(m=>{f.push(wo(e).get(m).next(D=>{if(null===D)throw zn();Sr(D.userId===this.userId),l.push(yl(this.It,D))}))}),Zt.waitFor(f).next(()=>l)}removeMutationBatch(e,r){return Nm(e.ie,this.userId,r).next(l=>(e.addOnCommittedListener(()=>{this.An(r.batchId)}),Zt.forEach(l,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Zt.resolve();const l=IDBKeyRange.lowerBound([this.userId]),f=[];return Yo(e).Z({range:l},(m,D,P)=>{if(m[0]===this.userId){const K=ml(m[1]);f.push(K)}else P.done()}).next(()=>{Sr(0===f.length)})})}containsKey(e,r){return jh(e,this.userId,r)}Rn(e){return Id(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jh(s,e,r){const l=Of(e,r.path),f=l[1],m=IDBKeyRange.lowerBound(l);let D=!1;return Yo(s).Z({range:m,X:!0},(P,K,ee)=>{const[De,nt,jt]=P;De===e&&nt===f&&(D=!0),ee.done()}).next(()=>D)}function wo(s){return No(s,"mutations")}function Yo(s){return No(s,"documentMutations")}function Id(s){return No(s,"mutationQueues")}class Ll{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ll(0)}static vn(){return new Ll(-1)}}class Hh{constructor(e,r){this.referenceDelegate=e,this.It=r}allocateTargetId(e){return this.Vn(e).next(r=>{const l=new Ll(r.highestTargetId);return r.highestTargetId=l.next(),this.Sn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(r=>Rt.fromTimestamp(new mt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,l){return this.Vn(e).next(f=>(f.highestListenSequenceNumber=r,l&&(f.lastRemoteSnapshotVersion=l.toTimestamp()),r>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=r),this.Sn(e,f)))}addTargetData(e,r){return this.Dn(e,r).next(()=>this.Vn(e).next(l=>(l.targetCount+=1,this.Cn(r,l),this.Sn(e,l))))}updateTargetData(e,r){return this.Dn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Qo(e).delete(r.targetId)).next(()=>this.Vn(e)).next(l=>(Sr(l.targetCount>0),l.targetCount-=1,this.Sn(e,l)))}removeTargets(e,r,l){let f=0;const m=[];return Qo(e).Z((D,P)=>{const K=Sd(P);K.sequenceNumber<=r&&null===l.get(K.targetId)&&(f++,m.push(this.removeTargetData(e,K)))}).next(()=>Zt.waitFor(m)).next(()=>f)}forEachTarget(e,r){return Qo(e).Z((l,f)=>{const m=Sd(f);r(m)})}Vn(e){return Zh(e).get("targetGlobalKey").next(r=>(Sr(null!==r),r))}Sn(e,r){return Zh(e).put("targetGlobalKey",r)}Dn(e,r){return Qo(e).put(Ic(this.It,r))}Cn(e,r){let l=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,l=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.Vn(e).next(r=>r.targetCount)}getTargetData(e,r){const l=ko(r),f=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let m=null;return Qo(e).Z({range:f,index:"queryTargetsIndex"},(D,P,K)=>{const ee=Sd(P);Rl(r,ee.target)&&(m=ee,K.done())}).next(()=>m)}addMatchingKeys(e,r,l){const f=[],m=Mc(e);return r.forEach(D=>{const P=Xs(D.path);f.push(m.put({targetId:l,path:P})),f.push(this.referenceDelegate.addReference(e,l,D))}),Zt.waitFor(f)}removeMatchingKeys(e,r,l){const f=Mc(e);return Zt.forEach(r,m=>{const D=Xs(m.path);return Zt.waitFor([f.delete([l,D]),this.referenceDelegate.removeReference(e,l,m)])})}removeMatchingKeysForTargetId(e,r){const l=Mc(e),f=IDBKeyRange.bound([r],[r+1],!1,!0);return l.delete(f)}getMatchingKeysForTargetId(e,r){const l=IDBKeyRange.bound([r],[r+1],!1,!0),f=Mc(e);let m=ni();return f.Z({range:l,X:!0},(D,P,K)=>{const ee=ml(D[1]),De=new _n(ee);m=m.add(De)}).next(()=>m)}containsKey(e,r){const l=Xs(r.path),f=IDBKeyRange.bound([l],[Ce(l)],!1,!0);let m=0;return Mc(e).Z({index:"documentTargetsIndex",X:!0,range:f},([D,P],K,ee)=>{0!==D&&(m++,ee.done())}).next(()=>m>0)}se(e,r){return Qo(e).get(r).next(l=>l?Sd(l):null)}}function Qo(s){return No(s,"targets")}function Zh(s){return No(s,"targetGlobal")}function Mc(s){return No(s,"targetDocuments")}function Ad([s,e],[r,l]){const f=y(s,r);return 0===f?y(e,l):f}class Fm{constructor(e){this.xn=e,this.buffer=new Mi(Ad),this.Nn=0}kn(){return++this.Nn}Mn(e){const r=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(r);else{const l=this.buffer.last();Ad(r,l)<0&&(this.buffer=this.buffer.delete(l).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Lm{constructor(e,r,l){this.garbageCollector=e,this.asyncQueue=r,this.localStore=l,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var r=this;pn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.Z)(function*(){r.On=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(l){Hs(l)?pn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Al(l)}yield r.Fn(3e5)}))}}class mv{constructor(e,r){this.$n=e,this.params=r}calculateTargetCount(e,r){return this.$n.Bn(e).next(l=>Math.floor(r/100*l))}nthSequenceNumber(e,r){if(0===r)return Zt.resolve(os.at);const l=new Fm(r);return this.$n.forEachTarget(e,f=>l.Mn(f.sequenceNumber)).next(()=>this.$n.Ln(e,f=>l.Mn(f))).next(()=>l.maxValue)}removeTargets(e,r,l){return this.$n.removeTargets(e,r,l)}removeOrphanedDocuments(e,r){return this.$n.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(pn("LruGarbageCollector","Garbage collection skipped; disabled"),Zt.resolve(Lf)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(pn("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lf):this.Un(e,r))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,r){let l,f,m,D,P,K,ee;const De=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(nt=>(nt>this.params.maximumSequenceNumbersToCollect?(pn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${nt}`),f=this.params.maximumSequenceNumbersToCollect):f=nt,D=Date.now(),this.nthSequenceNumber(e,f))).next(nt=>(l=nt,P=Date.now(),this.removeTargets(e,l,r))).next(nt=>(m=nt,K=Date.now(),this.removeOrphanedDocuments(e,l))).next(nt=>(ee=Date.now(),Ha()<=Ot.in.DEBUG&&pn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-De}ms\n\tDetermined least recently used ${f} in `+(P-D)+`ms\n\tRemoved ${m} targets in `+(K-P)+`ms\n\tRemoved ${nt} documents in `+(ee-K)+`ms\nTotal Duration: ${ee-De}ms`),Zt.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:m,documentsRemoved:nt})))}}class ac{constructor(e,r){this.db=e,this.garbageCollector=new mv(this,r)}Bn(e){const r=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>r.next(f=>l+f))}qn(e){let r=0;return this.Ln(e,l=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Ln(e,r){return this.Kn(e,(l,f)=>r(f))}addReference(e,r,l){return Vl(e,l)}removeReference(e,r,l){return Vl(e,l)}removeTargets(e,r,l){return this.db.getTargetCache().removeTargets(e,r,l)}markPotentiallyOrphaned(e,r){return Vl(e,r)}Gn(e,r){return function(l,f){let m=!1;return Id(l).tt(D=>jh(l,D,f).next(P=>(P&&(m=!0),Zt.resolve(!P)))).next(()=>m)}(e,r)}removeOrphanedDocuments(e,r){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let m=0;return this.Kn(e,(D,P)=>{if(P<=r){const K=this.Gn(e,D).next(ee=>{if(!ee)return m++,l.getEntry(e,D).next(()=>(l.removeEntry(D,Rt.min()),Mc(e).delete([0,Xs(D.path)])))});f.push(K)}}).next(()=>Zt.waitFor(f)).next(()=>l.apply(e)).next(()=>m)}removeTarget(e,r){const l=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,r){return Vl(e,r)}Kn(e,r){const l=Mc(e);let f,m=os.at;return l.Z({index:"documentTargetsIndex"},([D,P],{path:K,sequenceNumber:ee})=>{0===D?(m!==os.at&&r(new _n(ml(f)),m),m=ee,f=K):m=os.at}).next(()=>{m!==os.at&&r(new _n(ml(f)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vl(s,e){return Mc(s).put((l=s.currentSequenceNumber,{targetId:0,path:Xs(e.path),sequenceNumber:l}));var l}class hu{constructor(){this.changes=new rc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const l=this.changes.get(r);return void 0!==l?Zt.resolve(l):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,l){return Od(e).put(l)}removeEntry(e,r,l){return Od(e).delete(function(f,m){const D=f.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Sc(m),D[D.length-1]]}(r,l))}updateMetadata(e,r){return this.getMetadata(e).next(l=>(l.byteSize+=r,this.Qn(e,l)))}getEntry(e,r){let l=vi.newInvalidDocument(r);return Od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xd(r))},(f,m)=>{l=this.jn(r,m)}).next(()=>l)}Wn(e,r){let l={size:0,document:vi.newInvalidDocument(r)};return Od(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xd(r))},(f,m)=>{l={document:this.jn(r,m),size:Br(m)}}).next(()=>l)}getEntries(e,r){let l=Ra();return this.zn(e,r,(f,m)=>{const D=this.jn(f,m);l=l.insert(f,D)}).next(()=>l)}Hn(e,r){let l=Ra(),f=new _i(_n.comparator);return this.zn(e,r,(m,D)=>{const P=this.jn(m,D);l=l.insert(m,P),f=f.insert(m,Br(D))}).next(()=>({documents:l,Jn:f}))}zn(e,r,l){if(r.isEmpty())return Zt.resolve();let f=new Mi(Wp);r.forEach(K=>f=f.add(K));const m=IDBKeyRange.bound(xd(f.first()),xd(f.last())),D=f.getIterator();let P=D.getNext();return Od(e).Z({index:"documentKeyIndex",range:m},(K,ee,De)=>{const nt=_n.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;P&&Wp(P,nt)<0;)l(P,null),P=D.getNext();P&&P.isEqual(nt)&&(l(P,ee),P=D.hasNext()?D.getNext():null),P?De.j(xd(P)):De.done()}).next(()=>{for(;P;)l(P,null),P=D.hasNext()?D.getNext():null})}getAllFromCollection(e,r,l){const f=[r.popLast().toArray(),r.lastSegment(),Sc(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],m=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Od(e).W(IDBKeyRange.bound(f,m,!0)).next(D=>{let P=Ra();for(const K of D){const ee=this.jn(_n.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);P=P.insert(ee.key,ee)}return P})}getAllFromCollectionGroup(e,r,l,f){let m=Ra();const D=o_(r,l),P=o_(r,da.max());return Od(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(D,P,!0)},(K,ee,De)=>{const nt=this.jn(_n.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);m=m.insert(nt.key,nt),m.size===f&&De.done()}).next(()=>m)}newChangeBuffer(e){return new $p(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return zp(e).get("remoteDocumentGlobalKey").next(r=>(Sr(!!r),r))}Qn(e,r){return zp(e).put("remoteDocumentGlobalKey",r)}jn(e,r){if(r){const l=function(s,e){let r;if(e.document)r=Vi(s.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=_n.fromSegments(e.noDocument.path),f=Nl(e.noDocument.readTime);r=vi.newNoDocument(l,f),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return zn();{const l=_n.fromSegments(e.unknownDocument.path),f=Nl(e.unknownDocument.version);r=vi.newUnknownDocument(l,f)}}return e.readTime&&r.setReadTime(function(l){const f=new mt(l[0],l[1]);return Rt.fromTimestamp(f)}(e.readTime)),r}(this.It,r);if(!l.isNoDocument()||!l.version.isEqual(Rt.min()))return l}return vi.newInvalidDocument(e)}}function Md(s){return new qp(s)}class $p extends hu{constructor(e,r){super(),this.Yn=e,this.trackRemovals=r,this.Xn=new rc(l=>l.toString(),(l,f)=>l.isEqual(f))}applyChanges(e){const r=[];let l=0,f=new Mi((m,D)=>y(m.canonicalString(),D.canonicalString()));return this.changes.forEach((m,D)=>{const P=this.Xn.get(m);if(r.push(this.Yn.removeEntry(e,m,P.readTime)),D.isValidDocument()){const K=xm(this.Yn.It,D);f=f.add(m.path.popLast()),l+=Br(K)-P.size,r.push(this.Yn.addEntry(e,m,K))}else if(l-=P.size,this.trackRemovals){const K=xm(this.Yn.It,D.convertToNoDocument(Rt.min()));r.push(this.Yn.addEntry(e,m,K))}}),f.forEach(m=>{r.push(this.Yn.indexManager.addToCollectionParentIndex(e,m))}),r.push(this.Yn.updateMetadata(e,l)),Zt.waitFor(r)}getFromCache(e,r){return this.Yn.Wn(e,r).next(l=>(this.Xn.set(r,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,r){return this.Yn.Hn(e,r).next(({documents:l,Jn:f})=>(f.forEach((m,D)=>{this.Xn.set(m,{size:D,readTime:l.get(m).readTime})}),l))}}function zp(s){return No(s,"remoteDocumentGlobal")}function Od(s){return No(s,"remoteDocumentsV14")}function xd(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function o_(s,e){const r=e.documentKey.path.toArray();return[s,Sc(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Wp(s,e){const r=s.path.toArray(),l=e.path.toArray();let f=0;for(let m=0;m<r.length-2&&m<l.length-2;++m)if(f=y(r[m],l[m]),f)return f;return f=y(r.length,l.length),f||(f=y(r[r.length-2],l[l.length-2]),f||y(r[r.length-1],l[l.length-1]))}class Kp{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Vm{constructor(e,r,l,f){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=l,this.indexManager=f}getDocument(e,r){let l=null;return this.documentOverlayCache.getOverlay(e,r).next(f=>(l=f,this.getBaseDocument(e,r,l))).next(f=>(null!==l&&Sf(l.mutation,f,ta.empty(),mt.now()),f))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(l=>this.getLocalViewOfDocuments(e,l,ni()).next(()=>l))}getLocalViewOfDocuments(e,r,l=ni()){const f=ic();return this.populateOverlays(e,f,r).next(()=>this.computeViews(e,r,f,l).next(m=>{let D=Th();return m.forEach((P,K)=>{D=D.insert(P,K.overlayedDocument)}),D}))}getOverlayedDocuments(e,r){const l=ic();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,ni()))}populateOverlays(e,r,l){const f=[];return l.forEach(m=>{r.has(m)||f.push(m)}),this.documentOverlayCache.getOverlays(e,f).next(m=>{m.forEach((D,P)=>{r.set(D,P)})})}computeViews(e,r,l,f){let m=Ra();const D=Dh(),P=Dh();return r.forEach((K,ee)=>{const De=l.get(ee.key);f.has(ee.key)&&(void 0===De||De.mutation instanceof Cc)?m=m.insert(ee.key,ee):void 0!==De&&(D.set(ee.key,De.mutation.getFieldMask()),Sf(De.mutation,ee,De.mutation.getFieldMask(),mt.now()))}),this.recalculateAndSaveOverlays(e,m).next(K=>(K.forEach((ee,De)=>D.set(ee,De)),r.forEach((ee,De)=>{var nt;return P.set(ee,new Kp(De,null!==(nt=D.get(ee))&&void 0!==nt?nt:null))}),P))}recalculateAndSaveOverlays(e,r){const l=Dh();let f=new _i((D,P)=>D-P),m=ni();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(D=>{for(const P of D)P.keys().forEach(K=>{const ee=r.get(K);if(null===ee)return;let De=l.get(K)||ta.empty();De=P.applyToLocalView(ee,De),l.set(K,De);const nt=(f.get(P.batchId)||ni()).add(K);f=f.insert(P.batchId,nt)})}).next(()=>{const D=[],P=f.getReverseIterator();for(;P.hasNext();){const K=P.getNext(),ee=K.key,De=K.value,nt=hm();De.forEach(jt=>{if(!m.has(jt)){const tn=Df(r.get(jt),l.get(jt));null!==tn&&nt.set(jt,tn),m=m.add(jt)}}),D.push(this.documentOverlayCache.saveOverlays(e,ee,nt))}return Zt.waitFor(D)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,r,l){return _n.isDocumentKey((f=r).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ja(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,l):this.getDocumentsMatchingCollectionQuery(e,r,l);var f}getNextDocuments(e,r,l,f){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,l,f).next(m=>{const D=f-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,l.largestBatchId,f-m.size):Zt.resolve(ic());let P=-1,K=m;return D.next(ee=>Zt.forEach(ee,(De,nt)=>(P<nt.largestBatchId&&(P=nt.largestBatchId),m.get(De)?Zt.resolve():this.getBaseDocument(e,De,nt).next(jt=>{K=K.insert(De,jt)}))).next(()=>this.populateOverlays(e,ee,m)).next(()=>this.computeViews(e,K,ee,ni())).next(De=>({batchId:P,changes:dm(De)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new _n(r)).next(l=>{let f=Th();return l.isFoundDocument()&&(f=f.insert(l.key,l)),f})}getDocumentsMatchingCollectionGroupQuery(e,r,l){const f=r.collectionGroup;let m=Th();return this.indexManager.getCollectionParents(e,f).next(D=>Zt.forEach(D,P=>{const K=(ee=r,De=P.child(f),new tc(De,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,De;return this.getDocumentsMatchingCollectionQuery(e,K,l).next(ee=>{ee.forEach((De,nt)=>{m=m.insert(De,nt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,r,l){let f;return this.remoteDocumentCache.getAllFromCollection(e,r.path,l).next(m=>(f=m,this.documentOverlayCache.getOverlaysForCollection(e,r.path,l.largestBatchId))).next(m=>{m.forEach((P,K)=>{const ee=K.getKey();null===f.get(ee)&&(f=f.insert(ee,vi.newInvalidDocument(ee)))});let D=Th();return f.forEach((P,K)=>{const ee=m.get(P);void 0!==ee&&Sf(ee.mutation,K,ta.empty(),mt.now()),w(r,K)&&(D=D.insert(P,K))}),D})}getBaseDocument(e,r,l){return null===l||1===l.mutation.type?this.remoteDocumentCache.getEntry(e,r):Zt.resolve(vi.newInvalidDocument(r))}}class fu{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return Zt.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var l;return this.Zn.set(r.id,{id:(l=r).id,version:l.version,createTime:Eo(l.createTime)}),Zt.resolve()}getNamedQuery(e,r){return Zt.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,{name:(l=r).name,query:Uu(l.bundledQuery),readTime:Eo(l.readTime)}),Zt.resolve();var l}}class Oc{constructor(){this.overlays=new _i(_n.comparator),this.es=new Map}getOverlay(e,r){return Zt.resolve(this.overlays.get(r))}getOverlays(e,r){const l=ic();return Zt.forEach(r,f=>this.getOverlay(e,f).next(m=>{null!==m&&l.set(f,m)})).next(()=>l)}saveOverlays(e,r,l){return l.forEach((f,m)=>{this.ue(e,r,m)}),Zt.resolve()}removeOverlaysForBatchId(e,r,l){const f=this.es.get(l);return void 0!==f&&(f.forEach(m=>this.overlays=this.overlays.remove(m)),this.es.delete(l)),Zt.resolve()}getOverlaysForCollection(e,r,l){const f=ic(),m=r.length+1,D=new _n(r.child("")),P=this.overlays.getIteratorFrom(D);for(;P.hasNext();){const K=P.getNext().value,ee=K.getKey();if(!r.isPrefixOf(ee.path))break;ee.path.length===m&&K.largestBatchId>l&&f.set(K.getKey(),K)}return Zt.resolve(f)}getOverlaysForCollectionGroup(e,r,l,f){let m=new _i((ee,De)=>ee-De);const D=this.overlays.getIterator();for(;D.hasNext();){const ee=D.getNext().value;if(ee.getKey().getCollectionGroup()===r&&ee.largestBatchId>l){let De=m.get(ee.largestBatchId);null===De&&(De=ic(),m=m.insert(ee.largestBatchId,De)),De.set(ee.getKey(),ee)}}const P=ic(),K=m.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((ee,De)=>P.set(ee,De)),!(P.size()>=f)););return Zt.resolve(P)}ue(e,r,l){const f=this.overlays.get(l.key);if(null!==f){const D=this.es.get(f.largestBatchId).delete(l.key);this.es.set(f.largestBatchId,D)}this.overlays=this.overlays.insert(l.key,new Dd(r,l));let m=this.es.get(r);void 0===m&&(m=ni(),this.es.set(r,m)),this.es.set(r,m.add(l.key))}}class a_{constructor(){this.ns=new Mi(Co.ss),this.rs=new Mi(Co.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const l=new Co(e,r);this.ns=this.ns.add(l),this.rs=this.rs.add(l)}us(e,r){e.forEach(l=>this.addReference(l,r))}removeReference(e,r){this.cs(new Co(e,r))}hs(e,r){e.forEach(l=>this.removeReference(l,r))}ls(e){const r=new _n(new en([])),l=new Co(r,e),f=new Co(r,e+1),m=[];return this.rs.forEachInRange([l,f],D=>{this.cs(D),m.push(D.key)}),m}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new _n(new en([])),l=new Co(r,e),f=new Co(r,e+1);let m=ni();return this.rs.forEachInRange([l,f],D=>{m=m.add(D.key)}),m}containsKey(e){const r=new Co(e,0),l=this.ns.firstAfterOrEqual(r);return null!==l&&e.isEqual(l.key)}}class Co{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return _n.comparator(e.key,r.key)||y(e._s,r._s)}static os(e,r){return y(e._s,r._s)||_n.comparator(e.key,r.key)}}class Um{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new Mi(Co.ss)}checkEmpty(e){return Zt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,l,f){const m=this.ws;this.ws++;const D=new Rf(m,r,l,f);this.mutationQueue.push(D);for(const P of f)this.gs=this.gs.add(new Co(P.key,m)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return Zt.resolve(D)}lookupMutationBatch(e,r){return Zt.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const f=this.ps(r+1),m=f<0?0:f;return Zt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Zt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Zt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const l=new Co(r,0),f=new Co(r,Number.POSITIVE_INFINITY),m=[];return this.gs.forEachInRange([l,f],D=>{const P=this.ys(D._s);m.push(P)}),Zt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,r){let l=new Mi(y);return r.forEach(f=>{const m=new Co(f,0),D=new Co(f,Number.POSITIVE_INFINITY);this.gs.forEachInRange([m,D],P=>{l=l.add(P._s)})}),Zt.resolve(this.Is(l))}getAllMutationBatchesAffectingQuery(e,r){const l=r.path,f=l.length+1;let m=l;_n.isDocumentKey(m)||(m=m.child(""));const D=new Co(new _n(m),0);let P=new Mi(y);return this.gs.forEachWhile(K=>{const ee=K.key.path;return!!l.isPrefixOf(ee)&&(ee.length===f&&(P=P.add(K._s)),!0)},D),Zt.resolve(this.Is(P))}Is(e){const r=[];return e.forEach(l=>{const f=this.ys(l);null!==f&&r.push(f)}),r}removeMutationBatch(e,r){Sr(0===this.Ts(r.batchId,"removed")),this.mutationQueue.shift();let l=this.gs;return Zt.forEach(r.mutations,f=>{const m=new Co(f.key,r.batchId);return l=l.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.gs=l})}An(e){}containsKey(e,r){const l=new Co(r,0),f=this.gs.firstAfterOrEqual(l);return Zt.resolve(r.isEqual(f&&f.key))}performConsistencyCheck(e){return Zt.resolve()}Ts(e,r){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class yv{constructor(e){this.Es=e,this.docs=new _i(_n.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const l=r.key,f=this.docs.get(l),m=f?f.size:0,D=this.Es(r);return this.docs=this.docs.insert(l,{document:r.mutableCopy(),size:D}),this.size+=D-m,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const l=this.docs.get(r);return Zt.resolve(l?l.document.mutableCopy():vi.newInvalidDocument(r))}getEntries(e,r){let l=Ra();return r.forEach(f=>{const m=this.docs.get(f);l=l.insert(f,m?m.document.mutableCopy():vi.newInvalidDocument(f))}),Zt.resolve(l)}getAllFromCollection(e,r,l){let f=Ra();const m=new _n(r.child("")),D=this.docs.getIteratorFrom(m);for(;D.hasNext();){const{key:P,value:{document:K}}=D.getNext();if(!r.isPrefixOf(P.path))break;P.path.length>r.length+1||mc(ki(K),l)<=0||(f=f.insert(K.key,K.mutableCopy()))}return Zt.resolve(f)}getAllFromCollectionGroup(e,r,l,f){zn()}As(e,r){return Zt.forEach(this.docs,l=>r(l))}newChangeBuffer(e){return new l_(this)}getSize(e){return Zt.resolve(this.size)}}class l_ extends hu{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((l,f)=>{f.isValidDocument()?r.push(this.Yn.addEntry(e,f)):this.Yn.removeEntry(l)}),Zt.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}class c_{constructor(e){this.persistence=e,this.Rs=new rc(r=>ko(r),Rl),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new a_,this.targetCount=0,this.vs=Ll.Pn()}forEachTarget(e,r){return this.Rs.forEach((l,f)=>r(f)),Zt.resolve()}getLastRemoteSnapshotVersion(e){return Zt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Zt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,l){return l&&(this.lastRemoteSnapshotVersion=l),r>this.bs&&(this.bs=r),Zt.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new Ll(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,Zt.resolve()}updateTargetData(e,r){return this.Dn(r),Zt.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,Zt.resolve()}removeTargets(e,r,l){let f=0;const m=[];return this.Rs.forEach((D,P)=>{P.sequenceNumber<=r&&null===l.get(P.targetId)&&(this.Rs.delete(D),m.push(this.removeMatchingKeysForTargetId(e,P.targetId)),f++)}),Zt.waitFor(m).next(()=>f)}getTargetCount(e){return Zt.resolve(this.targetCount)}getTargetData(e,r){const l=this.Rs.get(r)||null;return Zt.resolve(l)}addMatchingKeys(e,r,l){return this.Ps.us(r,l),Zt.resolve()}removeMatchingKeys(e,r,l){this.Ps.hs(r,l);const f=this.persistence.referenceDelegate,m=[];return f&&r.forEach(D=>{m.push(f.markPotentiallyOrphaned(e,D))}),Zt.waitFor(m)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),Zt.resolve()}getMatchingKeysForTargetId(e,r){const l=this.Ps.ds(r);return Zt.resolve(l)}containsKey(e,r){return Zt.resolve(this.Ps.containsKey(r))}}class u_{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new os(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new c_(this),this.indexManager=new s_,this.remoteDocumentCache=new yv(l=>this.referenceDelegate.xs(l)),this.It=new Nh(r),this.Ns=new fu(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Oc,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let l=this.Vs[e.toKey()];return l||(l=new Um(r,this.referenceDelegate),this.Vs[e.toKey()]=l),l}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,l){pn("MemoryPersistence","Starting transaction:",e);const f=new _v(this.Ss.next());return this.referenceDelegate.ks(),l(f).next(m=>this.referenceDelegate.Ms(f).next(()=>m)).toPromise().then(m=>(f.raiseOnCommittedEvent(),m))}Os(e,r){return Zt.or(Object.values(this.Vs).map(l=>()=>l.containsKey(e,r)))}}class _v extends Xc{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Fs=new a_,this.$s=null}static Bs(e){return new Bm(e)}get Ls(){if(this.$s)return this.$s;throw zn()}addReference(e,r,l){return this.Fs.addReference(l,r),this.Ls.delete(l.toString()),Zt.resolve()}removeReference(e,r,l){return this.Fs.removeReference(l,r),this.Ls.add(l.toString()),Zt.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),Zt.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(f=>this.Ls.add(f.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,r.targetId).next(f=>{f.forEach(m=>this.Ls.add(m.toString()))}).next(()=>l.removeTargetData(e,r))}ks(){this.$s=new Set}Ms(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zt.forEach(this.Ls,l=>{const f=_n.fromPath(l);return this.Us(e,f).next(m=>{m||r.removeEntry(f,Rt.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.Us(e,r).next(l=>{l?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}Us(e,r){return Zt.or([()=>Zt.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Os(e,r)])}}class d_{constructor(e){this.It=e}$(e,r,l,f){const m=new eu("createOrUpgrade",r);var P;l<1&&f>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Up,{unique:!0}),P.createObjectStore("documentMutations"),xc(e),function(P){P.createObjectStore("remoteDocuments")}(e));let D=Zt.resolve();return l<3&&f>=3&&(0!==l&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),xc(e)),D=D.next(()=>function(P){const K=P.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",ee)}(m))),l<4&&f>=4&&(0!==l&&(D=D.next(()=>function(P,K){return K.store("mutations").W().next(ee=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Up,{unique:!0});const De=K.store("mutations"),nt=ee.map(jt=>De.put(jt));return Zt.waitFor(nt)})}(e,m))),D=D.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&f>=5&&(D=D.next(()=>this.qs(m))),l<6&&f>=6&&(D=D.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(m)))),l<7&&f>=7&&(D=D.next(()=>this.Gs(m))),l<8&&f>=8&&(D=D.next(()=>this.Qs(e,m))),l<9&&f>=9&&(D=D.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&f>=10&&(D=D.next(()=>this.js(m))),l<11&&f>=11&&(D=D.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&f>=12&&(D=D.next(()=>{!function(P){const K=P.createObjectStore("documentOverlays",{keyPath:r_});K.createIndex("collectionPathOverlayIndex",jp,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Sm,{unique:!1})}(e)})),l<13&&f>=13&&(D=D.next(()=>function(P){const K=P.createObjectStore("remoteDocumentsV14",{keyPath:Cm});K.createIndex("documentKeyIndex",Rh),K.createIndex("collectionGroupIndex",Cd)}(e)).next(()=>this.Ws(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&f>=14&&(D=D.next(()=>this.zs(e,m))),l<15&&f>=15&&(D=D.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Dm}).createIndex("sequenceNumberIndex",t_,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:Bp}).createIndex("documentKeyIndex",n_,{unique:!1})}(e))),D}Ks(e){let r=0;return e.store("remoteDocuments").Z((l,f)=>{r+=Br(f)}).next(()=>{const l={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}qs(e){const r=e.store("mutationQueues"),l=e.store("mutations");return r.W().next(f=>Zt.forEach(f,m=>{const D=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return l.W("userMutationsIndex",D).next(P=>Zt.forEach(P,K=>{Sr(K.userId===m.userId);const ee=yl(this.It,K);return Nm(e,m.userId,ee).next(()=>{})}))}))}Gs(e){const r=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const m=[];return l.Z((D,P)=>{const K=new en(D),ee=[0,Xs(K)];m.push(r.get(ee).next(De=>De?Zt.resolve():r.put({targetId:0,path:Xs(K),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>Zt.waitFor(m))})}Qs(e,r){e.createObjectStore("collectionParents",{keyPath:Td});const l=r.store("collectionParents"),f=new tl,m=D=>{if(f.add(D)){const P=D.lastSegment(),K=D.popLast();return l.put({collectionId:P,parent:Xs(K)})}};return r.store("remoteDocuments").Z({X:!0},(D,P)=>{const K=new en(D);return m(K.popLast())}).next(()=>r.store("documentMutations").Z({X:!0},([D,P,K],ee)=>{const De=ml(P);return m(De.popLast())}))}js(e){const r=e.store("targets");return r.Z((l,f)=>{const m=Sd(f),D=Ic(this.It,m);return r.put(D)})}Ws(e,r){const l=r.store("remoteDocuments"),f=[];return l.Z((m,D)=>{const P=r.store("remoteDocumentsV14"),K=(ee=D,ee.document?new _n(en.fromString(ee.document.name).popFirst(5)):ee.noDocument?_n.fromSegments(ee.noDocument.path):ee.unknownDocument?_n.fromSegments(ee.unknownDocument.path):zn()).path.toArray();var ee;const De={prefixPath:K.slice(0,K.length-2),collectionGroup:K[K.length-2],documentId:K[K.length-1],readTime:D.readTime||[0,0],unknownDocument:D.unknownDocument,noDocument:D.noDocument,document:D.document,hasCommittedMutations:!!D.hasCommittedMutations};f.push(P.put(De))}).next(()=>Zt.waitFor(f))}zs(e,r){const l=r.store("mutations"),f=Md(this.It),m=new u_(Bm.Bs,this.It.re);return l.W().next(D=>{const P=new Map;return D.forEach(K=>{var ee;let De=null!==(ee=P.get(K.userId))&&void 0!==ee?ee:ni();yl(this.It,K).keys().forEach(nt=>De=De.add(nt)),P.set(K.userId,De)}),Zt.forEach(P,(K,ee)=>{const De=new Yi(ee),nt=cu.oe(this.It,De),jt=m.getIndexManager(De),tn=Fl.oe(De,this.It,jt,m.referenceDelegate);return new Vm(f,tn,nt,jt).recalculateAndSaveOverlaysForDocumentKeys(new kh(r,os.at),K).next()})})}}function xc(s){s.createObjectStore("targetDocuments",{keyPath:e_}).createIndex("documentTargetsIndex",Vu,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tm,{unique:!0}),s.createObjectStore("targetGlobal")}const Gh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vf{constructor(e,r,l,f,m,D,P,K,ee,De,nt=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=l,this.Hs=m,this.window=D,this.document=P,this.Js=ee,this.Ys=De,this.Xs=nt,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=jt=>Promise.resolve(),!Vf.C())throw new nn($t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ac(this,f),this.ii=r+"main",this.It=new Nh(K),this.ri=new ll(this.ii,this.Xs,new d_(this.It)),this.Cs=new Hh(this.referenceDelegate,this.It),this.remoteDocumentCache=Md(this.It),this.Ns=new Pf,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===De&&Ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nn($t.FAILED_PRECONDITION,Gh);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new os(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var r=this;return this.si=function(){var l=(0,ce.Z)(function*(f){if(r.started)return e(f)});return function(f){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var r=(0,ce.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ce.Z)(function*(){r.started&&(yield r.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(r=>this.isPrimary&&!r?this._i(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(Hs(e))return pn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Rd(e).get("owner").next(r=>Zt.resolve(this.mi(r)))}gi(e){return kd(e).delete(this.clientId)}yi(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const f=No(l,"clientMetadata");return f.W().next(m=>{const D=e.Ii(m,18e5),P=m.filter(K=>-1===D.indexOf(K));return Zt.forEach(P,K=>f.delete(K.clientId)).next(()=>P)})}).catch(()=>[]);if(e.oi)for(const l of r)e.oi.removeItem(e.Ti(l.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Zt.resolve(!0):Rd(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)){if(this.mi(r)&&this.networkEnabled)return!0;if(!this.mi(r)){if(!r.allowTabSynchronization)throw new nn($t.FAILED_PRECONDITION,Gh);return!1}}return!(!this.networkEnabled||!this.inForeground)||kd(e).W().next(l=>void 0===this.Ii(l,5e3).find(f=>{if(this.clientId!==f.clientId){const D=!this.inForeground&&f.inForeground,P=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||D&&P)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&pn("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const l=new kh(r,os.at);return e._i(l).next(()=>e.gi(l))}),e.ri.close(),e.Pi()})()}Ii(e,r){return e.filter(l=>this.pi(l.updateTimeMs,r)&&!this.Ei(l.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>kd(e).W().next(r=>this.Ii(r,18e5).map(l=>l.clientId)))}get started(){return this.Ds}getMutationQueue(e,r){return Fl.oe(e,this.It,r,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new km(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return cu.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,r,l){pn("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===r?"readonly":"readwrite",m=15===(D=this.Xs)?Om:14===D?xf:13===D?Mm:12===D?Am:11===D?Im:void zn();var D;let P;return this.ri.runTransaction(e,f,m,K=>(P=new kh(K,this.Ss?this.Ss.next():os.at),"readwrite-primary"===r?this.fi(P).next(ee=>!!ee||this.di(P)).next(ee=>{if(!ee)throw Ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new nn($t.FAILED_PRECONDITION,gf);return l(P)}).next(ee=>this.wi(P).next(()=>ee)):this.Vi(P).next(()=>l(P)))).then(K=>(P.raiseOnCommittedEvent(),K))}Vi(e){return Rd(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)&&!this.mi(r)&&!(this.Ys||this.allowTabSynchronization&&r.allowTabSynchronization))throw new nn($t.FAILED_PRECONDITION,Gh)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rd(e).put("owner",r)}static C(){return ll.C()}_i(e){const r=Rd(e);return r.get("owner").next(l=>this.mi(l)?(pn("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Zt.resolve())}pi(e,r){const l=Date.now();return!(e<l-r||e>l&&(Ii(`Detected an update time that is in the future: ${e} > ${l}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,At.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var r;try{const l=null!==(null===(r=this.oi)||void 0===r?void 0:r.getItem(this.Ti(e)));return pn("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return Ii("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ii("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rd(s){return No(s,"owner")}function kd(s){return No(s,"clientMetadata")}function ka(s,e){let r=s.projectId;return s.isDefaultDatabase||(r+="."+s.database),"firestore/"+e+"/"+r+"/"}class sr{constructor(e,r,l,f){this.targetId=e,this.fromCache=r,this.Si=l,this.Di=f}static Ci(e,r){let l=ni(),f=ni();for(const m of r.docChanges)switch(m.type){case 0:l=l.add(m.doc.key);break;case 1:f=f.add(m.doc.key)}return new sr(e,r.fromCache,l,f)}}class _l{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,l,f){return this.ki(e,r).next(m=>m||this.Mi(e,r,f,l)).next(m=>m||this.Oi(e,r))}ki(e,r){if(Nu(r))return Zt.resolve(null);let l=sa(r);return this.indexManager.getIndexType(e,l).next(f=>0===f?null:(null!==r.limit&&1===f&&(r=ou(r,null,"F"),l=sa(r)),this.indexManager.getDocumentsMatchingTarget(e,l).next(m=>{const D=ni(...m);return this.Ni.getDocuments(e,D).next(P=>this.indexManager.getMinOffset(e,l).next(K=>{const ee=this.Fi(r,P);return this.$i(r,ee,D,K.readTime)?this.ki(e,ou(r,null,"F")):this.Bi(e,ee,r,K)}))})))}Mi(e,r,l,f){return Nu(r)||f.isEqual(Rt.min())?this.Oi(e,r):this.Ni.getDocuments(e,l).next(m=>{const D=this.Fi(r,m);return this.$i(r,D,l,f)?this.Oi(e,r):(Ha()<=Ot.in.DEBUG&&pn("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),v(r)),this.Bi(e,D,r,ua(f,-1)))})}Fi(e,r){let l=new Mi(le(e));return r.forEach((f,m)=>{w(e,m)&&(l=l.add(m))}),l}$i(e,r,l,f){if(null===e.limit)return!1;if(l.size!==r.size)return!0;const m="F"===e.limitType?r.last():r.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(f)>0)}Oi(e,r){return Ha()<=Ot.in.DEBUG&&pn("QueryEngine","Using full collection scan to execute query:",v(r)),this.Ni.getDocumentsMatchingQuery(e,r,da.min())}Bi(e,r,l,f){return this.Ni.getDocumentsMatchingQuery(e,l,f).next(m=>(r.forEach(D=>{m=m.insert(D.key,D)}),m))}}class Ui{constructor(e,r,l,f){this.persistence=e,this.Li=r,this.It=f,this.Ui=new _i(y),this.qi=new rc(m=>ko(m),Rl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(l)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ui))}}function Pd(s,e,r,l){return new Ui(s,e,r,l)}function jm(s,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,ce.Z)(function*(s,e){const r=Nn(s);return yield r.persistence.runTransaction("Handle user change","readonly",l=>{let f;return r.mutationQueue.getAllMutationBatches(l).next(m=>(f=m,r.Qi(e),r.mutationQueue.getAllMutationBatches(l))).next(m=>{const D=[],P=[];let K=ni();for(const ee of f){D.push(ee.batchId);for(const De of ee.mutations)K=K.add(De.key)}for(const ee of m){P.push(ee.batchId);for(const De of ee.mutations)K=K.add(De.key)}return r.localDocuments.getDocuments(l,K).next(ee=>({ji:ee,removedBatchIds:D,addedBatchIds:P}))})})}),Yp.apply(this,arguments)}function Qp(s,e){const r=Nn(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const f=e.batch.keys(),m=r.Gi.newChangeBuffer({trackRemovals:!0});return function(D,P,K,ee){const De=K.batch,nt=De.keys();let jt=Zt.resolve();return nt.forEach(tn=>{jt=jt.next(()=>ee.getEntry(P,tn)).next(an=>{const An=K.docVersions.get(tn);Sr(null!==An),an.version.compareTo(An)<0&&(De.applyToRemoteDocument(an,K),an.isValidDocument()&&(an.setReadTime(K.commitVersion),ee.addEntry(an)))})}),jt.next(()=>D.mutationQueue.removeMutationBatch(P,De))}(r,l,e,m).next(()=>m.apply(l)).next(()=>r.mutationQueue.performConsistencyCheck(l)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(l,f,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(D){let P=ni();for(let K=0;K<D.mutationResults.length;++K)D.mutationResults[K].transformResults.length>0&&(P=P.add(D.batch.mutations[K].key));return P}(e))).next(()=>r.localDocuments.getDocuments(l,f))})}function Hm(s){const e=Nn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function Zm(s,e){const r=Nn(s),l=e.snapshotVersion;let f=r.Ui;return r.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const D=r.Gi.newChangeBuffer({trackRemovals:!0});f=r.Ui;const P=[];e.targetChanges.forEach((De,nt)=>{const jt=f.get(nt);if(!jt)return;P.push(r.Cs.removeMatchingKeys(m,De.removedDocuments,nt).next(()=>r.Cs.addMatchingKeys(m,De.addedDocuments,nt)));let tn=jt.withSequenceNumber(m.currentSequenceNumber);var an,An,Ir;e.targetMismatches.has(nt)?tn=tn.withResumeToken(fs.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):De.resumeToken.approximateByteSize()>0&&(tn=tn.withResumeToken(De.resumeToken,l)),f=f.insert(nt,tn),An=tn,Ir=De,(0===(an=jt).resumeToken.approximateByteSize()||An.snapshotVersion.toMicroseconds()-an.snapshotVersion.toMicroseconds()>=3e8||Ir.addedDocuments.size+Ir.modifiedDocuments.size+Ir.removedDocuments.size>0)&&P.push(r.Cs.updateTargetData(m,tn))});let K=Ra(),ee=ni();if(e.documentUpdates.forEach(De=>{e.resolvedLimboDocuments.has(De)&&P.push(r.persistence.referenceDelegate.updateLimboDocument(m,De))}),P.push(Gm(m,D,e.documentUpdates).next(De=>{K=De.Wi,ee=De.zi})),!l.isEqual(Rt.min())){const De=r.Cs.getLastRemoteSnapshotVersion(m).next(nt=>r.Cs.setTargetsMetadata(m,m.currentSequenceNumber,l));P.push(De)}return Zt.waitFor(P).next(()=>D.apply(m)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,K,ee)).next(()=>K)}).then(m=>(r.Ui=f,m))}function Gm(s,e,r){let l=ni(),f=ni();return r.forEach(m=>l=l.add(m)),e.getEntries(s,l).next(m=>{let D=Ra();return r.forEach((P,K)=>{const ee=m.get(P);K.isFoundDocument()!==ee.isFoundDocument()&&(f=f.add(P)),K.isNoDocument()&&K.version.isEqual(Rt.min())?(e.removeEntry(P,K.readTime),D=D.insert(P,K)):!ee.isValidDocument()||K.version.compareTo(ee.version)>0||0===K.version.compareTo(ee.version)&&ee.hasPendingWrites?(e.addEntry(K),D=D.insert(P,K)):pn("LocalStore","Ignoring outdated watch update for ",P,". Current version:",ee.version," Watch version:",K.version)}),{Wi:D,zi:f}})}function qm(s,e){const r=Nn(s);return r.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function Rc(s,e){const r=Nn(s);return r.persistence.runTransaction("Allocate target","readwrite",l=>{let f;return r.Cs.getTargetData(l,e).next(m=>m?(f=m,Zt.resolve(f)):r.Cs.allocateTargetId(l).next(D=>(f=new oa(e,D,0,l.currentSequenceNumber),r.Cs.addTargetData(l,f).next(()=>f))))}).then(l=>{const f=r.Ui.get(l.targetId);return(null===f||l.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(r.Ui=r.Ui.insert(l.targetId,l),r.qi.set(e,l.targetId)),l})}function vl(s,e,r){return qh.apply(this,arguments)}function qh(){return qh=(0,ce.Z)(function*(s,e,r){const l=Nn(s),f=l.Ui.get(e),m=r?"readwrite":"readwrite-primary";try{r||(yield l.persistence.runTransaction("Release target",m,D=>l.persistence.referenceDelegate.removeTarget(D,f)))}catch(D){if(!Hs(D))throw D;pn("LocalStore",`Failed to update sequence numbers for target ${e}: ${D}`)}l.Ui=l.Ui.remove(e),l.qi.delete(f.target)}),qh.apply(this,arguments)}function kc(s,e,r){const l=Nn(s);let f=Rt.min(),m=ni();return l.persistence.runTransaction("Execute query","readonly",D=>function(P,K,ee){const De=Nn(P),nt=De.qi.get(ee);return void 0!==nt?Zt.resolve(De.Ui.get(nt)):De.Cs.getTargetData(K,ee)}(l,D,sa(e)).next(P=>{if(P)return f=P.lastLimboFreeSnapshotVersion,l.Cs.getMatchingKeysForTargetId(D,P.targetId).next(K=>{m=K})}).next(()=>l.Li.getDocumentsMatchingQuery(D,e,r?f:Rt.min(),r?m:ni())).next(P=>(Jp(l,L(e),P),{documents:P,Hi:m})))}function Nd(s,e){const r=Nn(s),l=Nn(r.Cs),f=r.Ui.get(e);return f?Promise.resolve(f.target):r.persistence.runTransaction("Get target data","readonly",m=>l.se(m,e).next(D=>D?D.target:null))}function pu(s,e){const r=Nn(s),l=r.Ki.get(e)||Rt.min();return r.persistence.runTransaction("Get new document changes","readonly",f=>r.Gi.getAllFromCollectionGroup(f,e,ua(l,-1),Number.MAX_SAFE_INTEGER)).then(f=>(Jp(r,e,f),f))}function Jp(s,e,r){let l=Rt.min();r.forEach((f,m)=>{m.readTime.compareTo(l)>0&&(l=m.readTime)}),s.Ki.set(e,l)}function Uf(){return Uf=(0,ce.Z)(function*(s,e,r,l){const f=Nn(s);let m=ni(),D=Ra();for(const ee of r){const De=e.Ji(ee.metadata.name);ee.document&&(m=m.add(De));const nt=e.Yi(ee);nt.setReadTime(e.Xi(ee.metadata.readTime)),D=D.insert(De,nt)}const P=f.Gi.newChangeBuffer({trackRemovals:!0}),K=yield Rc(f,(ee=l,sa(nc(en.fromString(`__bundle__/docs/${ee}`)))));var ee;return f.persistence.runTransaction("Apply bundle documents","readwrite",ee=>Gm(ee,P,D).next(De=>(P.apply(ee),De)).next(De=>f.Cs.removeMatchingKeysForTargetId(ee,K.targetId).next(()=>f.Cs.addMatchingKeys(ee,m,K.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(ee,De.Wi,De.zi)).next(()=>De.Wi)))}),Uf.apply(this,arguments)}function Bf(s,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,ce.Z)(function*(s,e,r=ni()){const l=yield Rc(s,sa(Uu(e.bundledQuery))),f=Nn(s);return f.persistence.runTransaction("Save named query","readwrite",m=>{const D=Eo(e.readTime);if(l.snapshotVersion.compareTo(D)>=0)return f.Ns.saveNamedQuery(m,e);const P=l.withResumeToken(fs.EMPTY_BYTE_STRING,D);return f.Ui=f.Ui.insert(P.targetId,P),f.Cs.updateTargetData(m,P).next(()=>f.Cs.removeMatchingKeysForTargetId(m,l.targetId)).next(()=>f.Cs.addMatchingKeys(m,r,l.targetId)).next(()=>f.Ns.saveNamedQuery(m,e))})}),Fd.apply(this,arguments)}function Xp(s,e){return`firestore_clients_${s}_${e}`}function Ld(s,e,r){let l=`firestore_mutations_${s}_${r}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function $h(s,e){return`firestore_targets_${s}_${e}`}class Gs{constructor(e,r,l,f){this.user=e,this.batchId=r,this.state=l,this.error=f}static Zi(e,r,l){const f=JSON.parse(l);let m,D="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return D&&f.error&&(D="string"==typeof f.error.message&&"string"==typeof f.error.code,D&&(m=new nn(f.error.code,f.error.message))),D?new Gs(e,r,f.state,m):(Ii("SharedClientState",`Failed to parse mutation state for ID '${r}': ${l}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vd{constructor(e,r,l){this.targetId=e,this.state=r,this.error=l}static Zi(e,r){const l=JSON.parse(r);let f,m="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(f=new nn(l.error.code,l.error.message))),m?new Vd(e,l.state,f):(Ii("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ud{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Zi(e,r){const l=JSON.parse(r);let f="object"==typeof l&&l.activeTargetIds instanceof Array,m=Ih();for(let D=0;f&&D<l.activeTargetIds.length;++D)f=hd(l.activeTargetIds[D]),m=m.add(l.activeTargetIds[D]);return f?new Ud(e,m):(Ii("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class jf{constructor(e,r){this.clientId=e,this.onlineState=r}static Zi(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new jf(r.clientId,r.onlineState):(Ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class eg{constructor(){this.activeTargetIds=Ih()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hf{constructor(e,r,l,f,m){this.window=e,this.Hs=r,this.persistenceKey=l,this.sr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new _i(y),this.started=!1,this.cr=[];const D=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ar=Xp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new eg),this.lr=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const r=yield e.syncEngine.vi();for(const f of r){if(f===e.sr)continue;const m=e.getItem(Xp(e.persistenceKey,f));if(m){const D=Ud.Zi(f,m);D&&(e.ur=e.ur.insert(D.clientId,D))}}e.gr();const l=e.storage.getItem(e.wr);if(l){const f=e.yr(l);f&&e.pr(f)}for(const f of e.cr)e.rr(f);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let r=!1;return this.ur.forEach((l,f)=>{f.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,r,l){this.Tr(e,r,l),this.Er(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem($h(this.persistenceKey,e));if(l){const f=Vd.Zi(e,l);f&&(r=f.state)}}return this.Ar.er(e),this.gr(),r}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($h(this.persistenceKey,e))}updateQueryState(e,r,l){this.Rr(e,r,l)}handleUserChange(e,r,l){r.forEach(f=>{this.Er(f)}),this.currentUser=e,l.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return pn("SharedClientState","READ",e,r),r}setItem(e,r){pn("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){pn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var r=this;const l=e;if(l.storageArea===this.storage){if(pn("SharedClientState","EVENT",l.key,l.newValue),l.key===this.ar)return void Ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ce.Z)(function*(){if(r.started){if(null!==l.key)if(r.lr.test(l.key)){if(null==l.newValue){const f=r.vr(l.key);return r.Vr(f,null)}{const f=r.Sr(l.key,l.newValue);if(f)return r.Vr(f.clientId,f)}}else if(r.dr.test(l.key)){if(null!==l.newValue){const f=r.Dr(l.key,l.newValue);if(f)return r.Cr(f)}}else if(r._r.test(l.key)){if(null!==l.newValue){const f=r.Nr(l.key,l.newValue);if(f)return r.kr(f)}}else if(l.key===r.wr){if(null!==l.newValue){const f=r.yr(l.newValue);if(f)return r.pr(f)}}else if(l.key===r.hr){const f=function(m){let D=os.at;if(null!=m)try{const P=JSON.parse(m);Sr("number"==typeof P),D=P}catch(P){Ii("SharedClientState","Failed to read sequence number from WebStorage",P)}return D}(l.newValue);f!==os.at&&r.sequenceNumberHandler(f)}else if(l.key===r.mr){const f=r.Mr(l.newValue);yield Promise.all(f.map(m=>r.syncEngine.Or(m)))}}else r.cr.push(l)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,r,l){const f=new Gs(this.currentUser,e,r,l),m=Ld(this.persistenceKey,this.currentUser,e);this.setItem(m,f.tr())}Er(e){const r=Ld(this.persistenceKey,this.currentUser,e);this.removeItem(r)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,r,l){const f=$h(this.persistenceKey,e),m=new Vd(e,r,l);this.setItem(f,m.tr())}Pr(e){const r=JSON.stringify(Array.from(e));this.setItem(this.mr,r)}vr(e){const r=this.lr.exec(e);return r?r[1]:null}Sr(e,r){const l=this.vr(e);return Ud.Zi(l,r)}Dr(e,r){const l=this.dr.exec(e),f=Number(l[1]);return Gs.Zi(new Yi(void 0!==l[2]?l[2]:null),f,r)}Nr(e,r){const l=this._r.exec(e),f=Number(l[1]);return Vd.Zi(f,r)}yr(e){return jf.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var r=this;return(0,ce.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Fr(e.batchId,e.state,e.error);pn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,r){const l=r?this.ur.insert(e,r):this.ur.remove(e),f=this.Ir(this.ur),m=this.Ir(l),D=[],P=[];return m.forEach(K=>{f.has(K)||D.push(K)}),f.forEach(K=>{m.has(K)||P.push(K)}),this.syncEngine.Br(D,P).then(()=>{this.ur=l})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let r=Ih();return e.forEach((l,f)=>{r=r.unionWith(f.activeTargetIds)}),r}}class tg{constructor(){this.Lr=new eg,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,l){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,r,l){this.Ur[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new eg,Promise.resolve()}handleUserChange(e,r,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class h_{qr(e){}shutdown(){}}class ya{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){pn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){pn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const f_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class p_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Zf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,r,l,f,m){const D=this.ao(e,r);pn("RestConnection","Sending: ",D,l);const P={};return this.ho(P,f,m),this.lo(e,D,P,l).then(K=>(pn("RestConnection","Received: ",K),K),K=>{throw ks("RestConnection",`${e} failed with error: `,K,"url: ",D,"request:",l),K})}fo(e,r,l,f,m,D){return this.co(e,r,l,f,m)}ho(e,r,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((f,m)=>e[m]=f),l&&l.headers.forEach((f,m)=>e[m]=f)}ao(e,r){return`${this.oo}/v1/${r}:${f_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,r,l,f){return new Promise((m,D)=>{const P=new is;P.listenOnce(Il.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case zo.NO_ERROR:const ee=P.getResponseJson();pn("Connection","XHR received:",JSON.stringify(ee)),m(ee);break;case zo.TIMEOUT:pn("Connection",'RPC "'+e+'" timed out'),D(new nn($t.DEADLINE_EXCEEDED,"Request time out"));break;case zo.HTTP_ERROR:const De=P.getStatus();if(pn("Connection",'RPC "'+e+'" failed with status:',De,"response text:",P.getResponseText()),De>0){const nt=P.getResponseJson().error;if(nt&&nt.status&&nt.message){const jt=function(tn){const an=tn.toLowerCase().replace(/_/g,"-");return Object.values($t).indexOf(an)>=0?an:$t.UNKNOWN}(nt.status);D(new nn(jt,nt.message))}else D(new nn($t.UNKNOWN,"Server responded with status "+P.getStatus()))}else D(new nn($t.UNAVAILABLE,"Connection failed."));break;default:zn()}}finally{pn("Connection",'RPC "'+e+'" completed.')}});const K=JSON.stringify(f);P.send(r,"POST",K,l,15)})}_o(e,r,l){const f=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=uo(),D=ca(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new $l({})),this.ho(P.initMessageHeaders,r,l),(0,At.uI)()||(0,At.b$)()||(0,At.d)()||(0,At.w1)()||(0,At.Mn)()||(0,At.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const K=f.join("");pn("Connection","Creating WebChannel: "+K,P);const ee=m.createWebChannel(K,P);let De=!1,nt=!1;const jt=new p_({Hr:an=>{nt?pn("Connection","Not sending because WebChannel is closed:",an):(De||(pn("Connection","Opening WebChannel transport."),ee.open(),De=!0),pn("Connection","WebChannel sending:",an),ee.send(an))},Jr:()=>ee.close()}),tn=(an,An,Ir)=>{an.listen(An,Ei=>{try{Ir(Ei)}catch(es){setTimeout(()=>{throw es},0)}})};return tn(ee,Da.EventType.OPEN,()=>{nt||pn("Connection","WebChannel transport opened.")}),tn(ee,Da.EventType.CLOSE,()=>{nt||(nt=!0,pn("Connection","WebChannel transport closed"),jt.io())}),tn(ee,Da.EventType.ERROR,an=>{nt||(nt=!0,ks("Connection","WebChannel transport errored:",an),jt.io(new nn($t.UNAVAILABLE,"The operation could not be completed")))}),tn(ee,Da.EventType.MESSAGE,an=>{var An;if(!nt){const Ir=an.data[0];Sr(!!Ir);const Ei=Ir,es=Ei.error||(null===(An=Ei[0])||void 0===An?void 0:An.error);if(es){pn("Connection","WebChannel received error:",es);const zi=es.status;let $s=function(Wi){const Uo=fo[Wi];if(void 0!==Uo)return lm(Uo)}(zi),Ni=es.message;void 0===$s&&($s=$t.INTERNAL,Ni="Unknown error status: "+zi+" with message "+es.message),nt=!0,jt.io(new nn($s,Ni)),ee.close()}else pn("Connection","WebChannel received:",Ir),jt.ro(Ir)}}),tn(D,ql.STAT_EVENT,an=>{an.stat===Wc.PROXY?pn("Connection","Detected buffering proxy"):an.stat===Wc.NOPROXY&&pn("Connection","Detected no buffering proxy")}),setTimeout(()=>{jt.so()},0),jt}}function g_(){return"undefined"!=typeof window?window:null}function Ul(){return"undefined"!=typeof document?document:null}function Gf(s){return new Qy(s,!0)}class ng{constructor(e,r,l=1e3,f=1.5,m=6e4){this.Hs=e,this.timerId=r,this.wo=l,this.mo=f,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const r=Math.floor(this.po+this.Ro()),l=Math.max(0,Date.now()-this.To),f=Math.max(0,r-l);f>0&&pn("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.po} ms, delay with jitter: ${r} ms, last attempt: ${l} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,f,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class qf{constructor(e,r,l,f,m,D,P,K){this.Hs=e,this.Po=l,this.vo=f,this.Vo=m,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=P,this.listener=K,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ng(e,r)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ce.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ce.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,r){var l=this;return(0,ce.Z)(function*(){l.Lo(),l.Uo(),l.xo.cancel(),l.So++,4!==e?l.xo.reset():r&&r.code===$t.RESOURCE_EXHAUSTED?(Ii(r.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),l.xo.Eo()):r&&r.code===$t.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.qo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.Zr(r)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,f])=>{this.So===r&&this.Go(l,f)},l=>{e(()=>{const f=new nn($t.UNKNOWN,"Fetching auth token failed: "+l.message);return this.Qo(f)})})}Go(e,r){const l=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{l(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(f=>{l(()=>this.Qo(f))}),this.stream.onMessage(f=>{l(()=>this.onMessage(f))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ce.Z)(function*(){e.state=0,e.start()}))}Qo(e){return pn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(pn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zm extends qf{constructor(e,r,l,f,m,D){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,l,f,D),this.It=m}jo(e,r){return this.Vo._o("Listen",e,r)}onMessage(e){this.xo.reset();const r=function(s,e){let r;if("targetChange"in e){const l="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:zn(),f=e.targetChange.targetIds||[],m=function(K,ee){return K.gt?(Sr(void 0===ee||"string"==typeof ee),fs.fromBase64String(ee||"")):(Sr(void 0===ee||ee instanceof Uint8Array),fs.fromUint8Array(ee||new Uint8Array))}(s,e.targetChange.resumeToken),D=e.targetChange.cause,P=D&&function(K){const ee=void 0===K.code?$t.UNKNOWN:lm(K.code);return new nn(ee,K.message||"")}(D);r=new Af(l,f,m,P||null)}else if("documentChange"in e){const l=e.documentChange,f=el(s,l.document.name),m=Eo(l.document.updateTime),D=new Ns({mapValue:{fields:l.document.fields}}),P=vi.newFoundDocument(f,m,D);r=new Lu(l.targetIds||[],l.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const l=e.documentDelete,f=el(s,l.document),m=l.readTime?Eo(l.readTime):Rt.min(),D=vi.newNoDocument(f,m);r=new Lu([],l.removedTargetIds||[],D.key,D)}else if("documentRemove"in e){const l=e.documentRemove,f=el(s,l.document);r=new Lu([],l.removedTargetIds||[],f,null)}else{if(!("filter"in e))return zn();{const l=e.filter,m=new kp(l.count||0);r=new pm(l.targetId,m)}}var K;return r}(this.It,e),l=function(f){if(!("targetChange"in f))return Rt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Rt.min():m.readTime?Eo(m.readTime):Rt.min()}(e);return this.listener.Wo(r,l)}zo(e){const r={};r.database=sc(this.It),r.addTarget=function(f,m){let D;const P=m.target;return D=Pu(P)?{documents:Xi(f,P)}:{query:Xn(f,P)},D.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?D.resumeToken=Np(f,m.resumeToken):m.snapshotVersion.compareTo(Rt.min())>0&&(D.readTime=Ah(f,m.snapshotVersion.toTimestamp())),D}(this.It,e);const l=function(s,e){const r=function(l,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zn()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);l&&(r.labels=l),this.Bo(r)}Ho(e){const r={};r.database=sc(this.It),r.removeTarget=e,this.Bo(r)}}class vv extends qf{constructor(e,r,l,f,m,D){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,l,f,D),this.It=m,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,r){return this.Vo._o("Write",e,r)}onMessage(e){if(Sr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=function(s,e){return s&&s.length>0?(Sr(void 0!==e),s.map(r=>function(l,f){let m=Eo(l.updateTime?l.updateTime:f);return m.isEqual(Rt.min())&&(m=Eo(f)),new Mp(m,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),l=Eo(e.commitTime);return this.listener.Zo(l,r)}return Sr(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=sc(this.It),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(l=>oc(this.It,l))};this.Bo(r)}}class $f extends class{}{constructor(e,r,l,f){super(),this.authCredentials=e,this.appCheckCredentials=r,this.Vo=l,this.It=f,this.nu=!1}su(){if(this.nu)throw new nn($t.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,r,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.Vo.co(e,r,l,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new nn($t.UNKNOWN,f.toString())})}fo(e,r,l,f){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,D])=>this.Vo.fo(e,r,l,m,D,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===$t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new nn($t.UNKNOWN,m.toString())})}terminate(){this.nu=!0}}class zf{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ii(r),this.ou=!1):pn("OnlineStateTracker",r)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Wm{constructor(e,r,l,f,m){var D=this;this.localStore=e,this.datastore=r,this.asyncQueue=l,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=m,this.mu.qr(P=>{l.enqueueAndForget((0,ce.Z)(function*(){var K;Pc(D)&&(pn("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,ce.Z)(function*(ee){const De=Nn(ee);De._u.add(4),yield Bd(De),De.gu.set("Unknown"),De._u.delete(4),yield Gu(De)}),function(ee){return K.apply(this,arguments)})(D))}))}),this.gu=new zf(l,f)}}function Gu(s){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,ce.Z)(function*(s){if(Pc(s))for(const e of s.wu)yield e(!0)}),Wf.apply(this,arguments)}function Bd(s){return rg.apply(this,arguments)}function rg(){return rg=(0,ce.Z)(function*(s){for(const e of s.wu)yield e(!1)}),rg.apply(this,arguments)}function zh(s,e){const r=Nn(s);r.du.has(e.targetId)||(r.du.set(e.targetId,e),go(r)?lc(r):ef(r).ko()&&Wh(r,e))}function qu(s,e){const r=Nn(s),l=ef(r);r.du.delete(e),l.ko()&&Bl(r,e),0===r.du.size&&(l.ko()?l.Fo():Pc(r)&&r.gu.set("Unknown"))}function Wh(s,e){s.yu.Ot(e.targetId),ef(s).zo(e)}function Bl(s,e){s.yu.Ot(e),ef(s).Ho(e)}function lc(s){s.yu=new Ky({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),se:e=>s.du.get(e)||null}),ef(s).start(),s.gu.uu()}function go(s){return Pc(s)&&!ef(s).No()&&s.du.size>0}function Pc(s){return 0===Nn(s)._u.size}function Km(s){s.yu=void 0}function Ym(s){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ce.Z)(function*(s){s.du.forEach((e,r)=>{Wh(s,e)})}),Kf.apply(this,arguments)}function m_(s,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,ce.Z)(function*(s,e){Km(s),go(s)?(s.gu.hu(e),lc(s)):s.gu.set("Unknown")}),Yf.apply(this,arguments)}function cc(s,e,r){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,ce.Z)(function*(s,e,r){if(s.gu.set("Online"),e instanceof Af&&2===e.state&&e.cause)try{yield(l=(0,ce.Z)(function*(f,m){const D=m.cause;for(const P of m.targetIds)f.du.has(P)&&(yield f.remoteSyncer.rejectListen(P,D),f.du.delete(P),f.yu.removeTarget(P))}),function(f,m){return l.apply(this,arguments)})(s,e)}catch(l){pn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Nc(s,l)}else if(e instanceof Lu?s.yu.Gt(e):e instanceof pm?s.yu.Yt(e):s.yu.Wt(e),!r.isEqual(Rt.min()))try{const l=yield Hm(s.localStore);r.compareTo(l)>=0&&(yield function(f,m){const D=f.yu.te(m);return D.targetChanges.forEach((P,K)=>{if(P.resumeToken.approximateByteSize()>0){const ee=f.du.get(K);ee&&f.du.set(K,ee.withResumeToken(P.resumeToken,m))}}),D.targetMismatches.forEach(P=>{const K=f.du.get(P);if(!K)return;f.du.set(P,K.withResumeToken(fs.EMPTY_BYTE_STRING,K.snapshotVersion)),Bl(f,P);const ee=new oa(K.target,P,1,K.sequenceNumber);Wh(f,ee)}),f.remoteSyncer.applyRemoteEvent(D)}(s,r))}catch(l){pn("RemoteStore","Failed to raise snapshot:",l),yield Nc(s,l)}var l}),Kh.apply(this,arguments)}function Nc(s,e,r){return jd.apply(this,arguments)}function jd(){return jd=(0,ce.Z)(function*(s,e,r){if(!Hs(e))throw e;s._u.add(1),yield Bd(s),s.gu.set("Offline"),r||(r=()=>Hm(s.localStore)),s.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){pn("RemoteStore","Retrying IndexedDB access"),yield r(),s._u.delete(1),yield Gu(s)}))}),jd.apply(this,arguments)}function Fs(s,e){return e().catch(r=>Nc(s,r,e))}function Hd(s){return $u.apply(this,arguments)}function $u(){return $u=(0,ce.Z)(function*(s){const e=Nn(s),r=nl(e);let l=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Fc(e);)try{const f=yield qm(e.localStore,l);if(null===f){0===e.fu.length&&r.Fo();break}l=f.batchId,Qf(e,f)}catch(f){yield Nc(e,f)}Jf(e)&&ig(e)}),$u.apply(this,arguments)}function Fc(s){return Pc(s)&&s.fu.length<10}function Qf(s,e){s.fu.push(e);const r=nl(s);r.ko()&&r.Yo&&r.Xo(e.mutations)}function Jf(s){return Pc(s)&&!nl(s).No()&&s.fu.length>0}function ig(s){nl(s).start()}function Yh(s){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ce.Z)(function*(s){nl(s).eu()}),Qh.apply(this,arguments)}function Qm(s){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,ce.Z)(function*(s){const e=nl(s);for(const r of s.fu)e.Xo(r.mutations)}),Jh.apply(this,arguments)}function sg(s,e,r){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,ce.Z)(function*(s,e,r){const l=s.fu.shift(),f=Ph.from(l,e,r);yield Fs(s,()=>s.remoteSyncer.applySuccessfulWrite(f)),yield Hd(s)}),Zd.apply(this,arguments)}function Xf(s,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,ce.Z)(function*(s,e){var r;e&&nl(s).Yo&&(yield(r=(0,ce.Z)(function*(l,f){if(am(m=f.code)&&m!==$t.ABORTED){const D=l.fu.shift();nl(l).Oo(),yield Fs(l,()=>l.remoteSyncer.rejectFailedWrite(D.batchId,f)),yield Hd(l)}var m}),function(l,f){return r.apply(this,arguments)})(s,e)),Jf(s)&&ig(s)}),Xh.apply(this,arguments)}function bl(s,e){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,ce.Z)(function*(s,e){const r=Nn(s);r.asyncQueue.verifyOperationInProgress(),pn("RemoteStore","RemoteStore received new credentials");const l=Pc(r);r._u.add(3),yield Bd(r),l&&r.gu.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),yield Gu(r)}),Gd.apply(this,arguments)}function og(s,e){return ag.apply(this,arguments)}function ag(){return ag=(0,ce.Z)(function*(s,e){const r=Nn(s);e?(r._u.delete(2),yield Gu(r)):e||(r._u.add(2),yield Bd(r),r.gu.set("Unknown"))}),ag.apply(this,arguments)}function ef(s){return s.pu||(s.pu=function(e,r,l){const f=Nn(e);return f.su(),new zm(r,f.Vo,f.authCredentials,f.appCheckCredentials,f.It,l)}(s.datastore,s.asyncQueue,{Yr:Ym.bind(null,s),Zr:m_.bind(null,s),Wo:cc.bind(null,s)}),s.wu.push(function(){var e=(0,ce.Z)(function*(r){r?(s.pu.Oo(),go(s)?lc(s):s.gu.set("Unknown")):(yield s.pu.stop(),Km(s))});return function(r){return e.apply(this,arguments)}}())),s.pu}function nl(s){return s.Iu||(s.Iu=function(e,r,l){const f=Nn(e);return f.su(),new vv(r,f.Vo,f.authCredentials,f.appCheckCredentials,f.It,l)}(s.datastore,s.asyncQueue,{Yr:Yh.bind(null,s),Zr:Xf.bind(null,s),tu:Qm.bind(null,s),Zo:sg.bind(null,s)}),s.wu.push(function(){var e=(0,ce.Z)(function*(r){r?(s.Iu.Oo(),yield Hd(s)):(yield s.Iu.stop(),s.fu.length>0&&(pn("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(r){return e.apply(this,arguments)}}())),s.Iu}class ep{constructor(e,r,l,f,m){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=l,this.op=f,this.removalCallback=m,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(e,r,l,f,m){const D=Date.now()+l,P=new ep(e,r,D,f,m);return P.start(l),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nn($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uc(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),Hs(s))return new nn($t.UNAVAILABLE,`${e}: ${s}`);throw s}class jl{constructor(e){this.comparator=e?(r,l)=>e(r,l)||_n.comparator(r.key,l.key):(r,l)=>_n.comparator(r.key,l.key),this.keyedMap=Th(),this.sortedSet=new _i(this.comparator)}static emptySet(e){return new jl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,l)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;r.hasNext();){const f=r.getNext().key,m=l.getNext().key;if(!f.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const l=new jl;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=r,l}}class Jm{constructor(){this.Tu=new _i(_n.comparator)}track(e){const r=e.doc.key,l=this.Tu.get(r);l?0!==e.type&&3===l.type?this.Tu=this.Tu.insert(r,e):3===e.type&&1!==l.type?this.Tu=this.Tu.insert(r,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Tu=this.Tu.remove(r):1===e.type&&2===l.type?this.Tu=this.Tu.insert(r,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):zn():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,l)=>{e.push(l)}),e}}class gu{constructor(e,r,l,f,m,D,P,K){this.query=e,this.docs=r,this.oldDocs=l,this.docChanges=f,this.mutatedKeys=m,this.fromCache=D,this.syncStateChanged=P,this.excludesMetadataChanges=K}static fromInitialDocuments(e,r,l,f){const m=[];return r.forEach(D=>{m.push({type:0,doc:D})}),new gu(e,r,jl.emptySet(r),m,l,f,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,l=e.docChanges;if(r.length!==l.length)return!1;for(let f=0;f<r.length;f++)if(r[f].type!==l[f].type||!r[f].doc.isEqual(l[f].doc))return!1;return!0}}class lg{constructor(){this.Au=void 0,this.listeners=[]}}class cg{constructor(){this.queries=new rc(e=>R(e),au),this.onlineState="Unknown",this.Ru=new Set}}function mu(s,e){return tp.apply(this,arguments)}function tp(){return tp=(0,ce.Z)(function*(s,e){const r=Nn(s),l=e.query;let f=!1,m=r.queries.get(l);if(m||(f=!0,m=new lg),f)try{m.Au=yield r.onListen(l)}catch(D){const P=uc(D,`Initialization of query '${v(e.query)}' failed`);return void e.onError(P)}r.queries.set(l,m),m.listeners.push(e),e.bu(r.onlineState),m.Au&&e.Pu(m.Au)&&yu(r)}),tp.apply(this,arguments)}function qd(s,e){return zu.apply(this,arguments)}function zu(){return zu=(0,ce.Z)(function*(s,e){const r=Nn(s),l=e.query;let f=!1;const m=r.queries.get(l);if(m){const D=m.listeners.indexOf(e);D>=0&&(m.listeners.splice(D,1),f=0===m.listeners.length)}if(f)return r.queries.delete(l),r.onUnlisten(l)}),zu.apply(this,arguments)}function Wu(s,e){const r=Nn(s);let l=!1;for(const f of e){const D=r.queries.get(f.query);if(D){for(const P of D.listeners)P.Pu(f)&&(l=!0);D.Au=f}}l&&yu(r)}function Xm(s,e,r){const l=Nn(s),f=l.queries.get(e);if(f)for(const m of f.listeners)m.onError(r);l.queries.delete(e)}function yu(s){s.Ru.forEach(e=>{e.next()})}class Lc{constructor(e,r,l){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=l||{}}Pu(e){if(!this.options.includeMetadataChanges){const l=[];for(const f of e.docChanges)3!==f.type&&l.push(f);e=new gu(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){return!e.fromCache||!(this.options.Nu&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class y_{constructor(e,r){this.payload=e,this.byteLength=r}ku(){return"metadata"in this.payload}}class ug{constructor(e){this.It=e}Ji(e){return el(this.It,e)}Yi(e){return e.metadata.exists?Vi(this.It,e.document,!1):vi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Eo(e)}}class _u{constructor(e,r,l){this.Mu=e,this.localStore=r,this.It=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ey(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r;const l=en.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}Fu(e){const r=new Map,l=new ug(this.It);for(const f of e)if(f.metadata.queries){const m=l.Ji(f.metadata.name);for(const D of f.metadata.queries){const P=(r.get(D)||ni()).add(m);r.set(D,P)}}return r}complete(){var e=this;return(0,ce.Z)(function*(){const r=yield function(s,e,r,l){return Uf.apply(this,arguments)}(e.localStore,new ug(e.It),e.documents,e.Mu.id),l=e.Fu(e.documents);for(const f of e.queries)yield Bf(e.localStore,f,l.get(f.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:r}})()}}function ey(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class ty{constructor(e){this.key=e}}class np{constructor(e){this.key=e}}class dg{constructor(e,r){this.query=e,this.Lu=r,this.Uu=null,this.current=!1,this.qu=ni(),this.mutatedKeys=ni(),this.Ku=le(e),this.Gu=new jl(this.Ku)}get Qu(){return this.Lu}ju(e,r){const l=r?r.Wu:new Jm,f=r?r.Gu:this.Gu;let m=r?r.mutatedKeys:this.mutatedKeys,D=f,P=!1;const K="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,ee="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((De,nt)=>{const jt=f.get(De),tn=w(this.query,nt)?nt:null,an=!!jt&&this.mutatedKeys.has(jt.key),An=!!tn&&(tn.hasLocalMutations||this.mutatedKeys.has(tn.key)&&tn.hasCommittedMutations);let Ir=!1;jt&&tn?jt.data.isEqual(tn.data)?an!==An&&(l.track({type:3,doc:tn}),Ir=!0):this.zu(jt,tn)||(l.track({type:2,doc:tn}),Ir=!0,(K&&this.Ku(tn,K)>0||ee&&this.Ku(tn,ee)<0)&&(P=!0)):!jt&&tn?(l.track({type:0,doc:tn}),Ir=!0):jt&&!tn&&(l.track({type:1,doc:jt}),Ir=!0,(K||ee)&&(P=!0)),Ir&&(tn?(D=D.add(tn),m=An?m.add(De):m.delete(De)):(D=D.delete(De),m=m.delete(De)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const De="F"===this.query.limitType?D.last():D.first();D=D.delete(De.key),m=m.delete(De.key),l.track({type:1,doc:De})}return{Gu:D,Wu:l,$i:P,mutatedKeys:m}}zu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,l){const f=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.Wu.Eu();m.sort((ee,De)=>function(nt,jt){const tn=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zn()}};return tn(nt)-tn(jt)}(ee.type,De.type)||this.Ku(ee.doc,De.doc)),this.Hu(l);const D=r?this.Ju():[],P=0===this.qu.size&&this.current?1:0,K=P!==this.Uu;return this.Uu=P,0!==m.length||K?{snapshot:new gu(this.query,e.Gu,f,m,e.mutatedKeys,0===P,K,!1),Yu:D}:{Yu:D}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Jm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(r=>this.Lu=this.Lu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Lu=this.Lu.delete(r)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ni(),this.Gu.forEach(l=>{this.Xu(l.key)&&(this.qu=this.qu.add(l.key))});const r=[];return e.forEach(l=>{this.qu.has(l)||r.push(new np(l))}),this.qu.forEach(l=>{e.has(l)||r.push(new ty(l))}),r}Zu(e){this.Lu=e.Hi,this.qu=ni();const r=this.ju(e.documents);return this.applyChanges(r,!0)}tc(){return gu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class bv{constructor(e,r,l){this.query=e,this.targetId=r,this.view=l}}class ny{constructor(e){this.key=e,this.ec=!1}}class Lo{constructor(e,r,l,f,m,D){this.localStore=e,this.remoteStore=r,this.eventManager=l,this.sharedClientState=f,this.currentUser=m,this.maxConcurrentLimboResolutions=D,this.nc={},this.sc=new rc(P=>R(P),au),this.ic=new Map,this.rc=new Set,this.oc=new _i(_n.comparator),this.uc=new Map,this.cc=new a_,this.ac={},this.hc=new Map,this.lc=Ll.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Ss(s,e){return tf.apply(this,arguments)}function tf(){return tf=(0,ce.Z)(function*(s,e){const r=ed(s);let l,f;const m=r.sc.get(e);if(m)l=m.targetId,r.sharedClientState.addLocalQueryTarget(l),f=m.view.tc();else{const D=yield Rc(r.localStore,sa(e));r.isPrimaryClient&&zh(r.remoteStore,D);const P=r.sharedClientState.addLocalQueryTarget(D.targetId);l=D.targetId,f=yield ry(r,e,l,"current"===P)}return f}),tf.apply(this,arguments)}function ry(s,e,r,l){return rl.apply(this,arguments)}function rl(){return rl=(0,ce.Z)(function*(s,e,r,l){s.dc=(De,nt,jt)=>{return(tn=(0,ce.Z)(function*(an,An,Ir,Ei){let es=An.view.ju(Ir);es.$i&&(es=yield kc(an.localStore,An.query,!1).then(({documents:Ni})=>An.view.ju(Ni,es)));const zi=Ei&&Ei.targetChanges.get(An.targetId),$s=An.view.applyChanges(es,an.isPrimaryClient,zi);return _g(an,An.targetId,$s.Yu),$s.snapshot}),function(an,An,Ir,Ei){return tn.apply(this,arguments)})(s,De,nt,jt);var tn};const f=yield kc(s.localStore,e,!0),m=new dg(e,f.Hi),D=m.ju(f.documents),P=Dc.createSynthesizedTargetChangeForCurrentChange(r,l&&"Offline"!==s.onlineState),K=m.applyChanges(D,s.isPrimaryClient,P);_g(s,r,K.Yu);const ee=new bv(e,r,m);return s.sc.set(e,ee),s.ic.has(r)?s.ic.get(r).push(e):s.ic.set(r,[e]),K.snapshot}),rl.apply(this,arguments)}function nf(s,e){return vu.apply(this,arguments)}function vu(){return vu=(0,ce.Z)(function*(s,e){const r=Nn(s),l=r.sc.get(e),f=r.ic.get(l.targetId);if(f.length>1)return r.ic.set(l.targetId,f.filter(m=>!au(m,e))),void r.sc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||(yield vl(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),qu(r.remoteStore,l.targetId),zd(r,l.targetId)}).catch(Al))):(zd(r,l.targetId),yield vl(r.localStore,l.targetId,!0))}),vu.apply(this,arguments)}function hg(){return hg=(0,ce.Z)(function*(s,e,r){const l=ip(s);try{const f=yield function(m,D){const P=Nn(m),K=mt.now(),ee=D.reduce((jt,tn)=>jt.add(tn.key),ni());let De,nt;return P.persistence.runTransaction("Locally write mutations","readwrite",jt=>{let tn=Ra(),an=ni();return P.Gi.getEntries(jt,ee).next(An=>{tn=An,tn.forEach((Ir,Ei)=>{Ei.isValidDocument()||(an=an.add(Ir))})}).next(()=>P.localDocuments.getOverlayedDocuments(jt,tn)).next(An=>{De=An;const Ir=[];for(const Ei of D){const es=pb(Ei,De.get(Ei.key).overlayedDocument);null!=es&&Ir.push(new Cc(Ei.key,es,Ka(es.value.mapValue),Ds.exists(!0)))}return P.mutationQueue.addMutationBatch(jt,K,Ir,D)}).next(An=>{nt=An;const Ir=An.applyToLocalDocumentSet(De,an);return P.documentOverlayCache.saveOverlays(jt,An.batchId,Ir)})}).then(()=>({batchId:nt.batchId,changes:dm(De)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(f.batchId),function(m,D,P){let K=m.ac[m.currentUser.toKey()];K||(K=new _i(y)),K=K.insert(D,P),m.ac[m.currentUser.toKey()]=K}(l,f.batchId,r),yield wu(l,f.changes),yield Hd(l.remoteStore)}catch(f){const m=uc(f,"Failed to persist write");r.reject(m)}}),hg.apply(this,arguments)}function __(s,e){return fg.apply(this,arguments)}function fg(){return fg=(0,ce.Z)(function*(s,e){const r=Nn(s);try{const l=yield Zm(r.localStore,e);e.targetChanges.forEach((f,m)=>{const D=r.uc.get(m);D&&(Sr(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?D.ec=!0:f.modifiedDocuments.size>0?Sr(D.ec):f.removedDocuments.size>0&&(Sr(D.ec),D.ec=!1))}),yield wu(r,l,e)}catch(l){yield Al(l)}}),fg.apply(this,arguments)}function pg(s,e,r){const l=Nn(s);if(l.isPrimaryClient&&0===r||!l.isPrimaryClient&&1===r){const f=[];l.sc.forEach((m,D)=>{const P=D.view.bu(e);P.snapshot&&f.push(P.snapshot)}),function(m,D){const P=Nn(m);P.onlineState=D;let K=!1;P.queries.forEach((ee,De)=>{for(const nt of De.listeners)nt.bu(D)&&(K=!0)}),K&&yu(P)}(l.eventManager,e),f.length&&l.nc.Wo(f),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function gg(s,e,r){return mg.apply(this,arguments)}function mg(){return mg=(0,ce.Z)(function*(s,e,r){const l=Nn(s);l.sharedClientState.updateQueryState(e,"rejected",r);const f=l.uc.get(e),m=f&&f.key;if(m){let D=new _i(_n.comparator);D=D.insert(m,vi.newNoDocument(m,Rt.min()));const P=ni().add(m),K=new po(Rt.min(),new Map,new Mi(y),D,P);yield __(l,K),l.oc=l.oc.remove(m),l.uc.delete(e),rp(l)}else yield vl(l.localStore,e,!1).then(()=>zd(l,e,r)).catch(Al)}),mg.apply(this,arguments)}function v_(s,e){return yg.apply(this,arguments)}function yg(){return yg=(0,ce.Z)(function*(s,e){const r=Nn(s),l=e.batch.batchId;try{const f=yield Qp(r.localStore,e);Eu(r,l,null),Yu(r,l),r.sharedClientState.updateMutationState(l,"acknowledged"),yield wu(r,f)}catch(f){yield Al(f)}}),yg.apply(this,arguments)}function bu(s,e,r){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,ce.Z)(function*(s,e,r){const l=Nn(s);try{const f=yield function(m,D){const P=Nn(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let ee;return P.mutationQueue.lookupMutationBatch(K,D).next(De=>(Sr(null!==De),ee=De.keys(),P.mutationQueue.removeMutationBatch(K,De))).next(()=>P.mutationQueue.performConsistencyCheck(K)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(K,ee,D)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,ee)).next(()=>P.localDocuments.getDocuments(K,ee))})}(l.localStore,e);Eu(l,e,r),Yu(l,e),l.sharedClientState.updateMutationState(e,"rejected",r),yield wu(l,f)}catch(f){yield Al(f)}}),Ku.apply(this,arguments)}function $d(){return $d=(0,ce.Z)(function*(s,e){const r=Nn(s);Pc(r.remoteStore)||pn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(m){const D=Nn(m);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>D.mutationQueue.getHighestUnacknowledgedBatchId(P))}(r.localStore);if(-1===l)return void e.resolve();const f=r.hc.get(l)||[];f.push(e),r.hc.set(l,f)}catch(l){const f=uc(l,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),$d.apply(this,arguments)}function Yu(s,e){(s.hc.get(e)||[]).forEach(r=>{r.resolve()}),s.hc.delete(e)}function Eu(s,e,r){const l=Nn(s);let f=l.ac[l.currentUser.toKey()];if(f){const m=f.get(e);m&&(r?m.reject(r):m.resolve(),f=f.remove(e)),l.ac[l.currentUser.toKey()]=f}}function zd(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s.ic.get(e))s.sc.delete(l),r&&s.nc._c(l,r);s.ic.delete(e),s.isPrimaryClient&&s.cc.ls(e).forEach(l=>{s.cc.containsKey(l)||Qu(s,l)})}function Qu(s,e){s.rc.delete(e.path.canonicalString());const r=s.oc.get(e);null!==r&&(qu(s.remoteStore,r),s.oc=s.oc.remove(e),s.uc.delete(r),rp(s))}function _g(s,e,r){for(const l of r)l instanceof ty?(s.cc.addReference(l.key,e),oy(s,l)):l instanceof np?(pn("SyncEngine","Document no longer in limbo: "+l.key),s.cc.removeReference(l.key,e),s.cc.containsKey(l.key)||Qu(s,l.key)):zn()}function oy(s,e){const r=e.key,l=r.path.canonicalString();s.oc.get(r)||s.rc.has(l)||(pn("SyncEngine","New document in limbo: "+r),s.rc.add(l),rp(s))}function rp(s){for(;s.rc.size>0&&s.oc.size<s.maxConcurrentLimboResolutions;){const e=s.rc.values().next().value;s.rc.delete(e);const r=new _n(en.fromString(e)),l=s.lc.next();s.uc.set(l,new ny(r)),s.oc=s.oc.insert(r,l),zh(s.remoteStore,new oa(sa(nc(r.path)),l,2,os.at))}}function wu(s,e,r){return rf.apply(this,arguments)}function rf(){return rf=(0,ce.Z)(function*(s,e,r){const l=Nn(s),f=[],m=[],D=[];var P;l.sc.isEmpty()||(l.sc.forEach((P,K)=>{D.push(l.dc(K,e,r).then(ee=>{if(ee){l.isPrimaryClient&&l.sharedClientState.updateQueryState(K.targetId,ee.fromCache?"not-current":"current"),f.push(ee);const De=sr.Ci(K.targetId,ee);m.push(De)}}))}),yield Promise.all(D),l.nc.Wo(f),yield(P=(0,ce.Z)(function*(K,ee){const De=Nn(K);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>Zt.forEach(ee,jt=>Zt.forEach(jt.Si,tn=>De.persistence.referenceDelegate.addReference(nt,jt.targetId,tn)).next(()=>Zt.forEach(jt.Di,tn=>De.persistence.referenceDelegate.removeReference(nt,jt.targetId,tn)))))}catch(nt){if(!Hs(nt))throw nt;pn("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of ee){const jt=nt.targetId;if(!nt.fromCache){const tn=De.Ui.get(jt),An=tn.withLastLimboFreeSnapshotVersion(tn.snapshotVersion);De.Ui=De.Ui.insert(jt,An)}}}),function(K,ee){return P.apply(this,arguments)})(l.localStore,m))}),rf.apply(this,arguments)}function b_(s,e){return vg.apply(this,arguments)}function vg(){return vg=(0,ce.Z)(function*(s,e){const r=Nn(s);if(!r.currentUser.isEqual(e)){pn("SyncEngine","User change. New user:",e.toKey());const l=yield jm(r.localStore,e);r.currentUser=e,(f=r).hc.forEach(D=>{D.forEach(P=>{P.reject(new nn($t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.hc.clear(),r.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield wu(r,l.ji)}var f}),vg.apply(this,arguments)}function Ju(s,e){const r=Nn(s),l=r.uc.get(e);if(l&&l.ec)return ni().add(l.key);{let f=ni();const m=r.ic.get(e);if(!m)return f;for(const D of m){const P=r.sc.get(D);f=f.unionWith(P.view.Qu)}return f}}function Ev(s,e){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,ce.Z)(function*(s,e){const r=Nn(s),l=yield kc(r.localStore,e.query,!0),f=e.view.Zu(l);return r.isPrimaryClient&&_g(r,e.targetId,f.Yu),f}),Wd.apply(this,arguments)}function ay(s,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,ce.Z)(function*(s,e){const r=Nn(s);return pu(r.localStore,e).then(l=>wu(r,l))}),Kd.apply(this,arguments)}function bg(s,e,r,l){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,ce.Z)(function*(s,e,r,l){const f=Nn(s),m=yield function(D,P){const K=Nn(D),ee=Nn(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",De=>ee.Tn(De,P).next(nt=>nt?K.localDocuments.getDocuments(De,nt):Zt.resolve(null)))}(f.localStore,e);var P;null!==m?("pending"===r?yield Hd(f.remoteStore):"acknowledged"===r||"rejected"===r?(Eu(f,e,l||null),Yu(f,e),P=e,Nn(Nn(f.localStore).mutationQueue).An(P)):zn(),yield wu(f,m)):pn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Eg.apply(this,arguments)}function wg(){return wg=(0,ce.Z)(function*(s,e){const r=Nn(s);if(ed(r),ip(r),!0===e&&!0!==r.fc){const l=r.sharedClientState.getAllActiveQueryTargets(),f=yield ly(r,l.toArray());r.fc=!0,yield og(r.remoteStore,!0);for(const m of f)zh(r.remoteStore,m)}else if(!1===e&&!1!==r.fc){const l=[];let f=Promise.resolve();r.ic.forEach((m,D)=>{r.sharedClientState.isLocalQueryTarget(D)?l.push(D):f=f.then(()=>(zd(r,D),vl(r.localStore,D,!0))),qu(r.remoteStore,D)}),yield f,yield ly(r,l),function(m){const D=Nn(m);D.uc.forEach((P,K)=>{qu(D.remoteStore,K)}),D.cc.fs(),D.uc=new Map,D.oc=new _i(_n.comparator)}(r),r.fc=!1,yield og(r.remoteStore,!1)}}),wg.apply(this,arguments)}function ly(s,e,r){return cy.apply(this,arguments)}function cy(){return cy=(0,ce.Z)(function*(s,e,r){const l=Nn(s),f=[],m=[];for(const D of e){let P;const K=l.ic.get(D);if(K&&0!==K.length){P=yield Rc(l.localStore,sa(K[0]));for(const ee of K){const De=l.sc.get(ee),nt=yield Ev(l,De);nt.snapshot&&m.push(nt.snapshot)}}else{const ee=yield Nd(l.localStore,D);P=yield Rc(l.localStore,ee),yield ry(l,Cg(ee),D,!1)}f.push(P)}return l.nc.Wo(m),f}),cy.apply(this,arguments)}function Cg(s){return ia(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Tg(s){const e=Nn(s);return Nn(Nn(e.localStore).persistence).vi()}function Dg(s,e,r,l){return uy.apply(this,arguments)}function uy(){return uy=(0,ce.Z)(function*(s,e,r,l){const f=Nn(s);if(f.fc)return void pn("SyncEngine","Ignoring unexpected query state notification.");const m=f.ic.get(e);if(m&&m.length>0)switch(r){case"current":case"not-current":{const D=yield pu(f.localStore,L(m[0])),P=po.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield wu(f,D,P);break}case"rejected":yield vl(f.localStore,e,!0),zd(f,e,l);break;default:zn()}}),uy.apply(this,arguments)}function dy(s,e,r){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,ce.Z)(function*(s,e,r){const l=ed(s);if(l.fc){for(const f of e){if(l.ic.has(f)){pn("SyncEngine","Adding an already active target "+f);continue}const m=yield Nd(l.localStore,f),D=yield Rc(l.localStore,m);yield ry(l,Cg(m),D.targetId,!1),zh(l.remoteStore,D)}for(const f of r)l.ic.has(f)&&(yield vl(l.localStore,f,!1).then(()=>{qu(l.remoteStore,f),zd(l,f)}).catch(Al))}}),Xu.apply(this,arguments)}function ed(s){const e=Nn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=__.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ju.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gg.bind(null,e),e.nc.Wo=Wu.bind(null,e.eventManager),e.nc._c=Xm.bind(null,e.eventManager),e}function ip(s){const e=Nn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bu.bind(null,e),e}class Sg{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,ce.Z)(function*(){r.It=Gf(e.databaseInfo.databaseId),r.sharedClientState=r.mc(e),r.persistence=r.gc(e),yield r.persistence.start(),r.localStore=r.yc(e),r.gcScheduler=r.Ic(e,r.localStore),r.indexBackfillerScheduler=r.Tc(e,r.localStore)})()}Ic(e,r){return null}Tc(e,r){return null}yc(e){return Pd(this.persistence,new _l,e.initialUser,this.It)}gc(e){return new u_(Bm.Bs,this.It)}mc(e){return new tg}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hy extends Sg{constructor(e,r,l){super(),this.Ec=e,this.cacheSizeBytes=r,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,l=this;return(0,ce.Z)(function*(){yield r().call(l,e),yield l.Ec.initialize(l,e),yield ip(l.Ec.syncEngine),yield Hd(l.Ec.remoteStore),yield l.persistence.li(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Pd(this.persistence,new _l,e.initialUser,this.It)}Ic(e,r){return new Lm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Tc(e,r){const l=new Ia(r,this.persistence);return new _f(e.asyncQueue,l)}gc(e){const r=ka(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new Vf(this.synchronizeTabs,r,e.clientId,l,e.asyncQueue,g_(),Ul(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new tg}}class E_ extends hy{constructor(e,r){super(e,r,!1),this.Ec=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,l=this;return(0,ce.Z)(function*(){yield r().call(l,e);const f=l.Ec.syncEngine;l.sharedClientState instanceof Hf&&(l.sharedClientState.syncEngine={Fr:bg.bind(null,f),$r:Dg.bind(null,f),Br:dy.bind(null,f),vi:Tg.bind(null,f),Or:ay.bind(null,f)},yield l.sharedClientState.start()),yield l.persistence.li(function(){var m=(0,ce.Z)(function*(D){yield function(s,e){return wg.apply(this,arguments)}(l.Ec.syncEngine,D),l.gcScheduler&&(D&&!l.gcScheduler.started?l.gcScheduler.start():D||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(D&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():D||l.indexBackfillerScheduler.stop())});return function(D){return m.apply(this,arguments)}}())})()}mc(e){const r=g_();if(!Hf.C(r))throw new nn($t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=ka(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hf(r,e.asyncQueue,l,e.clientId,e.initialUser)}}class Ig{initialize(e,r){var l=this;return(0,ce.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(r),l.remoteStore=l.createRemoteStore(r),l.eventManager=l.createEventManager(r),l.syncEngine=l.createSyncEngine(r,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=f=>pg(l.syncEngine,f,1),l.remoteStore.remoteSyncer.handleCredentialChange=b_.bind(null,l.syncEngine),yield og(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cg}createDatastore(e){const r=Gf(e.databaseInfo.databaseId),l=new Zf(e.databaseInfo);return new $f(e.authCredentials,e.appCheckCredentials,l,r)}createRemoteStore(e){return r=this.localStore,l=this.datastore,f=e.asyncQueue,m=P=>pg(this.syncEngine,P,0),D=ya.C()?new ya:new h_,new Wm(r,l,f,m,D);var r,l,f,m,D}createSyncEngine(e,r){return function(l,f,m,D,P,K,ee){const De=new Lo(l,f,m,D,P,K);return ee&&(De.fc=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,ce.Z)(function*(r){const l=Nn(r);pn("RemoteStore","RemoteStore shutting down."),l._u.add(5),yield Bd(l),l.mu.shutdown(),l.gu.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ag(s,e=10240){let r=0;return{read:()=>(0,ce.Z)(function*(){if(r<s.byteLength){const l={value:s.slice(r,r+e),done:!1};return r+=e,l}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Yd{constructor(e,r){this.bc=e,this.It=r,this.metadata=new Qi,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(l=>{l&&l.ku()?this.metadata.resolve(l.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.payload)}`))},l=>this.metadata.reject(l))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ce.Z)(function*(){const r=yield e.Vc();if(null===r)return null;const l=e.Pc.decode(r),f=Number(l);isNaN(f)&&e.Sc(`length string (${l}) is not valid number`);const m=yield e.Dc(f);return new y_(JSON.parse(m),r.length+f)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ce.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const r=e.Cc();r<0&&e.Sc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),l})()}Dc(e){var r=this;return(0,ce.Z)(function*(){for(;r.buffer.length<e;)(yield r.xc())&&r.Sc("Reached the end of bundle when more is expected.");const l=r.Pc.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),l})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ce.Z)(function*(){const r=yield e.bc.read();if(!r.done){const l=new Uint8Array(e.buffer.length+r.value.length);l.set(e.buffer),l.set(r.value,e.buffer.length),e.buffer=l}return r.done})()}}class nd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,ce.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new nn($t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(f=(0,ce.Z)(function*(m,D){const P=Nn(m),K=sc(P.It)+"/documents",ee={documents:D.map(tn=>vd(P.It,tn))},De=yield P.fo("BatchGetDocuments",K,ee,D.length),nt=new Map;De.forEach(tn=>{const an=function(s,e){return"found"in e?function(r,l){Sr(!!l.found);const f=el(r,l.found.name),m=Eo(l.found.updateTime),D=new Ns({mapValue:{fields:l.found.fields}});return vi.newFoundDocument(f,m,D)}(s,e):"missing"in e?function(r,l){Sr(!!l.missing),Sr(!!l.readTime);const f=el(r,l.missing),m=Eo(l.readTime);return vi.newNoDocument(f,m)}(s,e):zn()}(P.It,tn);nt.set(an.key.toString(),an)});const jt=[];return D.forEach(tn=>{const an=nt.get(tn.toString());Sr(!!an),jt.push(an)}),jt}),function(m,D){return f.apply(this,arguments)})(r.datastore,e);var f;return l.forEach(f=>r.recordVersion(f)),l})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var l;e.mutations.forEach(l=>{r.delete(l.key.toString())}),r.forEach((l,f)=>{const m=_n.fromPath(f);e.mutations.push(new If(m,e.precondition(m)))}),yield(l=(0,ce.Z)(function*(f,m){const D=Nn(f),P=sc(D.It)+"/documents",K={writes:m.map(ee=>oc(D.It,ee))};yield D.co("Commit",P,K)}),function(f,m){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw zn();r=Rt.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!r.isEqual(l))throw new nn($t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Rt.min())?Ds.exists(!1):Ds.updateTime(r):Ds.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Rt.min()))throw new nn($t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ds.updateTime(r)}return Ds.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sp{constructor(e,r,l,f,m){this.asyncQueue=e,this.datastore=r,this.options=l,this.updateFunction=f,this.deferred=m,this.Nc=l.maxAttempts,this.xo=new ng(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ce.Z)(function*(){const r=new nd(e.datastore),l=e.Mc(r);l&&l.then(f=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(f)}).catch(m=>{e.Oc(m)}))}).catch(f=>{e.Oc(f)})}))}Mc(e){try{const r=this.updateFunction(e);return!Ql(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!am(r)}return!1}}class il{constructor(e,r,l,f){var m=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=l,this.databaseInfo=f,this.user=Yi.UNAUTHENTICATED,this.clientId=M.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var D=(0,ce.Z)(function*(P){pn("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(l,D=>(pn("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nn($t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(l){const f=uc(l,"Failed to shutdown persistence");r.reject(f)}})),r.promise}}function Qd(s,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),pn("FirestoreClient","Initializing OfflineComponentProvider");const r=yield s.getConfiguration();yield e.initialize(r);let l=r.initialUser;s.setCredentialChangeListener(function(){var f=(0,ce.Z)(function*(m){l.isEqual(m)||(yield jm(e.localStore,m),l=m)});return function(m){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),Mg.apply(this,arguments)}function op(s,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const r=yield sl(s);pn("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(r,l),s.setCredentialChangeListener(f=>bl(e.remoteStore,f)),s.setAppCheckTokenChangeListener((f,m)=>bl(e.remoteStore,m)),s.onlineComponents=e}),Jd.apply(this,arguments)}function sl(s){return rd.apply(this,arguments)}function rd(){return rd=(0,ce.Z)(function*(s){return s.offlineComponents||(pn("FirestoreClient","Using default OfflineComponentProvider"),yield Qd(s,new Sg)),s.offlineComponents}),rd.apply(this,arguments)}function To(s){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,ce.Z)(function*(s){return s.onlineComponents||(pn("FirestoreClient","Using default OnlineComponentProvider"),yield op(s,new Ig)),s.onlineComponents}),Uc.apply(this,arguments)}function Xd(s){return sl(s).then(e=>e.persistence)}function _a(s){return sl(s).then(e=>e.localStore)}function ap(s){return To(s).then(e=>e.remoteStore)}function Bc(s){return To(s).then(e=>e.syncEngine)}function wl(s){return jc.apply(this,arguments)}function jc(){return jc=(0,ce.Z)(function*(s){const e=yield To(s),r=e.eventManager;return r.onListen=Ss.bind(null,e.syncEngine),r.onUnlisten=nf.bind(null,e.syncEngine),r}),jc.apply(this,arguments)}function Cu(s,e,r={}){const l=new Qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(f,m,D,P,K){const ee=new Vc({next:nt=>{m.enqueueAndForget(()=>qd(f,De));const jt=nt.docs.has(D);!jt&&nt.fromCache?K.reject(new nn($t.UNAVAILABLE,"Failed to get document because the client is offline.")):jt&&nt.fromCache&&P&&"server"===P.source?K.reject(new nn($t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(nt)},error:nt=>K.reject(nt)}),De=new Lc(nc(D.path),ee,{includeMetadataChanges:!0,Nu:!0});return mu(f,De)}(yield wl(s),s.asyncQueue,e,r,l)})),l.promise}function Tu(s,e,r={}){const l=new Qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(f,m,D,P,K){const ee=new Vc({next:nt=>{m.enqueueAndForget(()=>qd(f,De)),nt.fromCache&&"server"===P.source?K.reject(new nn($t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(nt)},error:nt=>K.reject(nt)}),De=new Lc(D,ee,{includeMetadataChanges:!0,Nu:!0});return mu(f,De)}(yield wl(s),s.asyncQueue,e,r,l)})),l.promise}const my=new Map;function Og(s,e,r){if(!r)throw new nn($t.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function yy(s,e,r,l){if(!0===e&&!0===l)throw new nn($t.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function _y(s){if(!_n.isDocumentKey(s))throw new nn($t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function vy(s){if(_n.isDocumentKey(s))throw new nn($t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xg(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(r=s).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof s?"a function":zn()}function hi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new nn($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=xg(s);throw new nn($t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}function Rg(s,e){if(e<=0)throw new nn($t.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class kg{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new nn($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nn($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,yy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,r,l,f){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=l,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nn($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nn($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new al;switch(r.type){case"gapi":return new x(r.client,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nn($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=my.get(e);r&&(pn("ComponentProvider","Removing Datastore"),my.delete(e),r.terminate())}(this),Promise.resolve()}}class as{constructor(e,r,l){this.converter=r,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new as(this.firestore,e,this._key)}}class Vo{constructor(e,r,l){this.converter=r,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class Cl extends Vo{constructor(e,r,l){super(e,r,nc(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new as(this.firestore,null,new _n(e))}withConverter(e){return new Cl(this.firestore,e,this._path)}}function sh(s,e,...r){if(s=(0,At.m9)(s),Og("collection","path",e),s instanceof ih){const l=en.fromString(e,...r);return vy(l),new Cl(s,null,l)}{if(!(s instanceof as||s instanceof Cl))throw new nn($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(en.fromString(e,...r));return vy(l),new Cl(s.firestore,null,l)}}function oh(s,e,...r){if(s=(0,At.m9)(s),1===arguments.length&&(e=M.R()),Og("doc","path",e),s instanceof ih){const l=en.fromString(e,...r);return _y(l),new as(s,null,new _n(l))}{if(!(s instanceof as||s instanceof Cl))throw new nn($t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(en.fromString(e,...r));return _y(l),new as(s.firestore,s instanceof Cl?s.converter:null,new _n(l))}}function Fg(s,e){return s=(0,At.m9)(s),e=(0,At.m9)(e),(s instanceof as||s instanceof Cl)&&(e instanceof as||e instanceof Cl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Du(s,e){return s=(0,At.m9)(s),e=(0,At.m9)(e),s instanceof Vo&&e instanceof Vo&&s.firestore===e.firestore&&au(s._query,e._query)&&s.converter===e.converter}class w_{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new ng(this,"async_queue_retry"),this.jc=()=>{const r=Ul();r&&pn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.bo()};const e=Ul();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const r=Ul();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const r=new Qi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ce.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(r){if(!Hs(r))throw r;pn("AsyncQueue","Operation failed with retryable error: "+r)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const r=this.$c.then(()=>(this.Kc=!0,e().catch(l=>{throw this.qc=l,this.Kc=!1,Ii("INTERNAL UNHANDLED ERROR: ",function(m){let D=m.message||"";return m.stack&&(D=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),D}(l)),l}).then(l=>(this.Kc=!1,l))));return this.$c=r,r}enqueueAfterDelay(e,r,l){this.Wc(),this.Qc.indexOf(e)>-1&&(r=0);const f=ep.createAndSchedule(this,e,r,l,m=>this.Jc(m));return this.Uc.push(f),f}Wc(){this.qc&&zn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ce.Z)(function*(){let r;do{r=e.$c,yield r}while(r!==e.$c)})()}Xc(e){for(const r of this.Uc)if(r.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((r,l)=>r.targetTimeMs-l.targetTimeMs);for(const r of this.Uc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const r=this.Uc.indexOf(e);this.Uc.splice(r,1)}}function cp(s){return function(e,r){if("object"!=typeof e||null===e)return!1;const l=e;for(const f of["next","error","complete"])if(f in l&&"function"==typeof l[f])return!0;return!1}(s)}class up{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,l){this._progressObserver={next:e,error:r,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Us extends ih{constructor(e,r,l,f){super(e,r,l,f),this.type="firestore",this._queue=new w_,this._persistenceKey=(null==f?void 0:f.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lg(this),this._firestoreClient.terminate()}}function mo(s){return s._firestoreClient||Lg(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Lg(s){var e;const r=s._freezeSettings(),l=(m=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Dp(s._databaseId,m,s._persistenceKey,(P=r).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var m,P;s._firestoreClient=new il(s._authCredentials,s._appCheckCredentials,s._queue,l)}function Vg(s,e,r){const l=new Qi;return s.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield Qd(s,r),yield op(s,e),l.resolve()}catch(f){const m=f;if(!("FirebaseError"===(D=m).name?D.code===$t.FAILED_PRECONDITION||D.code===$t.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw m;ks("Error enabling offline persistence. Falling back to persistence disabled: "+m),l.reject(m)}var D})).then(()=>l.promise)}function Su(s){if(s._initialized||s._terminated)throw new nn($t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dc{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new nn($t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(fs.fromBase64String(e))}catch(r){throw new nn($t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hc(fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hc{constructor(e){this._methodName=e}}class Zc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new nn($t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new nn($t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return y(this._lat,e._lat)||y(this._long,e._long)}}const Ty=/^__.*__$/;class hp{constructor(e,r,l){this.data=e,this.fieldMask=r,this.fieldTransforms=l}toMutation(e,r){return null!==this.fieldMask?new Cc(e,this.data,this.fieldMask,r,this.fieldTransforms):new kl(e,this.data,r,this.fieldTransforms)}}class Dy{constructor(e,r,l){this.data=e,this.fieldMask=r,this.fieldTransforms=l}toMutation(e,r){return new Cc(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ug(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zn()}}class af{constructor(e,r,l,f,m,D){this.settings=e,this.databaseId=r,this.It=l,this.ignoreUndefinedProperties=f,void 0===m&&this.ea(),this.fieldTransforms=m||[],this.fieldMask=D||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var r;const l=null===(r=this.path)||void 0===r?void 0:r.child(e),f=this.sa({path:l,ra:!1});return f.oa(e),f}ua(e){var r;const l=null===(r=this.path)||void 0===r?void 0:r.child(e),f=this.sa({path:l,ra:!1});return f.ea(),f}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return $g(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Ug(this.na)&&Ty.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Bg{constructor(e,r,l){this.databaseId=e,this.ignoreUndefinedProperties=r,this.It=l||Gf(e)}fa(e,r,l,f=!1){return new af({na:e,methodName:r,la:l,path:Ar.emptyPath(),ra:!1,ha:f},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function fc(s){const e=s._freezeSettings(),r=Gf(s._databaseId);return new Bg(s._databaseId,!!e.ignoreUndefinedProperties,r)}function lh(s,e,r,l,f,m={}){const D=s.fa(m.merge||m.mergeFields?2:0,e,r,f);Gg("Data must be an object, but it was:",D,l);const P=Hg(l,D);let K,ee;if(m.merge)K=new ta(D.fieldMask),ee=D.fieldTransforms;else if(m.mergeFields){const De=[];for(const nt of m.mergeFields){const jt=lf(e,nt,r);if(!D.contains(jt))throw new nn($t.INVALID_ARGUMENT,`Field '${jt}' is specified in your field mask but missing from your input data.`);d(De,jt)||De.push(jt)}K=new ta(De),ee=D.fieldTransforms.filter(nt=>K.covers(nt.field))}else K=null,ee=D.fieldTransforms;return new hp(new Ns(P),K,ee)}class ch extends Hc{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ch}}function jg(s,e,r){return new af({na:3,la:e.settings.la,methodName:s._methodName,ra:r},e.databaseId,e.It,e.ignoreUndefinedProperties)}class fp extends Hc{_toFieldTransform(e){return new Ec(e.path,new fa)}isEqual(e){return e instanceof fp}}class pp extends Hc{constructor(e,r){super(e),this.da=r}_toFieldTransform(e){const r=jg(this,e,!0),l=this.da.map(m=>pc(m,r)),f=new fl(l);return new Ec(e.path,f)}isEqual(e){return this===e}}class I_ extends Hc{constructor(e,r){super(e),this.da=r}_toFieldTransform(e){const r=jg(this,e,!0),l=this.da.map(m=>pc(m,r)),f=new pa(l);return new Ec(e.path,f)}isEqual(e){return this===e}}class Gc extends Hc{constructor(e,r){super(e),this._a=r}_toFieldTransform(e){const r=new Po(e.It,Kn(e.It,this._a));return new Ec(e.path,r)}isEqual(e){return this===e}}function gp(s,e,r,l){const f=s.fa(1,e,r);Gg("Data must be an object, but it was:",f,l);const m=[],D=Ns.empty();Aa(l,(K,ee)=>{const De=cf(e,K,r);ee=(0,At.m9)(ee);const nt=f.ua(De);if(ee instanceof ch)m.push(De);else{const jt=pc(ee,nt);null!=jt&&(m.push(De),D.set(De,jt))}});const P=new ta(m);return new Dy(D,P,f.fieldTransforms)}function Sy(s,e,r,l,f,m){const D=s.fa(1,e,r),P=[lf(e,l,r)],K=[f];if(m.length%2!=0)throw new nn($t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let jt=0;jt<m.length;jt+=2)P.push(lf(e,m[jt])),K.push(m[jt+1]);const ee=[],De=Ns.empty();for(let jt=P.length-1;jt>=0;--jt)if(!d(ee,P[jt])){const tn=P[jt];let an=K[jt];an=(0,At.m9)(an);const An=D.ua(tn);if(an instanceof ch)ee.push(tn);else{const Ir=pc(an,An);null!=Ir&&(ee.push(tn),De.set(tn,Ir))}}const nt=new ta(ee);return new Dy(De,nt,D.fieldTransforms)}function uh(s,e,r,l=!1){return pc(r,s.fa(l?4:3,e))}function pc(s,e){if(Zg(s=(0,At.m9)(s)))return Gg("Unsupported field value:",e,s),Hg(s,e);if(s instanceof Hc)return function(r,l){if(!Ug(l.na))throw l.aa(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.aa(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(l);f&&l.fieldTransforms.push(f)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(r,l){const f=[];let m=0;for(const D of r){let P=pc(D,l.ca(m));null==P&&(P={nullValue:"NULL_VALUE"}),f.push(P),m++}return{arrayValue:{values:f}}}(s,e)}return function(r,l){if(null===(r=(0,At.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Kn(l.It,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const f=mt.fromDate(r);return{timestampValue:Ah(l.It,f)}}if(r instanceof mt){const f=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(l.It,f)}}if(r instanceof Zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hc)return{bytesValue:Np(l.It,r._byteString)};if(r instanceof as){const f=l.databaseId,m=r.firestore._databaseId;if(!m.isEqual(f))throw l.aa(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Lp(r.firestore._databaseId||l.databaseId,r._key.path)}}throw l.aa(`Unsupported field value: ${xg(r)}`)}(s,e)}function Hg(s,e){const r={};return Kl(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(s,(l,f)=>{const m=pc(f,e.ia(l));null!=m&&(r[l]=m)}),{mapValue:{fields:r}}}function Zg(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Zc||s instanceof hc||s instanceof as||s instanceof Hc)}function Gg(s,e,r){if(!Zg(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=xg(r);throw e.aa("an object"===l?s+" a custom object":s+" "+l)}var l}function lf(s,e,r){if((e=(0,At.m9)(e))instanceof dc)return e._internalPath;if("string"==typeof e)return cf(s,e);throw $g("Field path arguments must be of type string or ",s,!1,void 0,r)}const qg=new RegExp("[~\\*/\\[\\]]");function cf(s,e,r){if(e.search(qg)>=0)throw $g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new dc(...e.split("."))._internalPath}catch(l){throw $g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function $g(s,e,r,l,f){const m=l&&!l.isEmpty(),D=void 0!==f;let P=`Function ${e}() called with invalid data`;r&&(P+=" (via `toFirestore()`)"),P+=". ";let K="";return(m||D)&&(K+=" (found",m&&(K+=` in field ${l}`),D&&(K+=` in document ${f}`),K+=")"),new nn($t.INVALID_ARGUMENT,P+s+K)}function d(s,e){return s.some(r=>r.isEqual(e))}class a{constructor(e,r,l,f,m){this._firestore=e,this._userDataWriter=r,this._key=l,this._document=f,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new as(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new u(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(p("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class u extends a{data(){return super.data()}}function p(s,e){return"string"==typeof e?cf(s,e):e instanceof dc?e._internalPath:e._delegate._internalPath}class _{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S extends a{constructor(e,r,l,f,m,D){super(e,r,l,f,D),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new N(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const l=this._document.data.field(p("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,r.serverTimestamps)}}}class N extends S{data(e={}){return super.data(e)}}class W{constructor(e,r,l,f){this._firestore=e,this._userDataWriter=r,this._snapshot=f,this.metadata=new _(f.hasPendingWrites,f.fromCache),this.query=l}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(l=>{e.call(r,new N(this._firestore,this._userDataWriter,l.key,l,new _(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new nn($t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,f){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new N(l._firestore,l._userDataWriter,D.doc.key,D.doc,new _(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>f||3!==D.type).map(D=>{const P=new N(l._firestore,l._userDataWriter,D.doc.key,D.doc,new _(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let K=-1,ee=-1;return 0!==D.type&&(K=m.indexOf(D.doc.key),m=m.delete(D.doc.key)),1!==D.type&&(m=m.add(D.doc),ee=m.indexOf(D.doc.key)),{type:te(D.type),doc:P,oldIndex:K,newIndex:ee}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function te(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zn()}}function ue(s,e){return s instanceof S&&e instanceof S?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof W&&e instanceof W&&s._firestore===e._firestore&&Du(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function Pe(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new nn($t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ye{}function Ze(s,...e){for(const r of e)s=r._apply(s);return s}class dt extends Ye{constructor(e,r,l){super(),this.wa=e,this.ma=r,this.ga=l,this.type="where"}_apply(e){const r=fc(e.firestore),l=function(f,m,D,P,K,ee,De){let nt;if(K.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new nn($t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){mp(De,ee);const tn=[];for(const an of De)tn.push(Hl(P,f,an));nt={arrayValue:{values:tn}}}else nt=Hl(P,f,De)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||mp(De,ee),nt=uh(D,"where",De,"in"===ee||"not-in"===ee);const jt=Ts.create(K,ee,nt);return function(tn,an){if(an.dt()){const Ir=Qa(tn);if(null!==Ir&&!Ir.isEqual(an.field))throw new nn($t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ir.toString()}' and '${an.field.toString()}'`);const Ei=hl(tn);null!==Ei&&Iy(0,an.field,Ei)}const An=function(Ir,Ei){for(const es of Ir.filters)if(Ei.indexOf(es.op)>=0)return es.op;return null}(tn,function(Ir){switch(Ir){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(an.op));if(null!==An)throw new nn($t.INVALID_ARGUMENT,An===an.op?`Invalid query. You cannot use more than one '${an.op.toString()}' filter.`:`Invalid query. You cannot use '${an.op.toString()}' filters with '${An.toString()}' filters.`)}(f,jt),jt}(e._query,0,r,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Vo(e.firestore,e.converter,function(f,m){const D=f.filters.concat([m]);return new tc(f.path,f.collectionGroup,f.explicitOrderBy.slice(),D,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,l))}}class Xt extends Ye{constructor(e,r){super(),this.wa=e,this.ya=r,this.type="orderBy"}_apply(e){const r=function(l,f,m){if(null!==l.startAt)throw new nn($t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new nn($t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new dl(f,m);return function(P,K){if(null===hl(P)){const ee=Qa(P);null!==ee&&Iy(0,ee,K.field)}}(l,D),D}(e._query,this.wa,this.ya);return new Vo(e.firestore,e.converter,function(l,f){const m=l.explicitOrderBy.concat([f]);return new tc(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class Mn extends Ye{constructor(e,r,l){super(),this.type=e,this.pa=r,this.Ia=l}_apply(e){return new Vo(e.firestore,e.converter,ou(e._query,this.pa,this.Ia))}}class er extends Ye{constructor(e,r,l){super(),this.type=e,this.Ta=r,this.Ea=l}_apply(e){const r=$i(e,this.type,this.Ta,this.Ea);return new Vo(e.firestore,e.converter,(f=r,new tc((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,f,l.endAt)));var l,f}}class Hr extends Ye{constructor(e,r,l){super(),this.type=e,this.Ta=r,this.Ea=l}_apply(e){const r=$i(e,this.type,this.Ta,this.Ea);return new Vo(e.firestore,e.converter,(f=r,new tc((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,f)));var l,f}}function $i(s,e,r,l){if(r[0]=(0,At.m9)(r[0]),r[0]instanceof a)return function(f,m,D,P,K){if(!P)throw new nn($t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ee=[];for(const De of bc(f))if(De.field.isKeyField())ee.push(Wa(m,P.key));else{const nt=P.data.field(De.field);if(dd(nt))throw new nn($t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const jt=De.field.canonicalString();throw new nn($t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${jt}' (used as the orderBy) does not exist.`)}ee.push(nt)}return new Ya(ee,K)}(s._query,s.firestore._databaseId,e,r[0]._document,l);{const f=fc(s.firestore);return function(m,D,P,K,ee,De){const nt=m.explicitOrderBy;if(ee.length>nt.length)throw new nn($t.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const jt=[];for(let tn=0;tn<ee.length;tn++){const an=ee[tn];if(nt[tn].field.isKeyField()){if("string"!=typeof an)throw new nn($t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof an}`);if(!Ja(m)&&-1!==an.indexOf("/"))throw new nn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${an}' contains a slash.`);const An=m.path.child(en.fromString(an));if(!_n.isDocumentKey(An))throw new nn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${An}' is not because it contains an odd number of segments.`);const Ir=new _n(An);jt.push(Wa(D,Ir))}else{const An=uh(P,K,an);jt.push(An)}}return new Ya(jt,De)}(s._query,s.firestore._databaseId,f,e,r,l)}}function Hl(s,e,r){if("string"==typeof(r=(0,At.m9)(r))){if(""===r)throw new nn($t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ja(e)&&-1!==r.indexOf("/"))throw new nn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const l=e.path.child(en.fromString(r));if(!_n.isDocumentKey(l))throw new nn($t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return Wa(s,new _n(l))}if(r instanceof as)return Wa(s,r._key);throw new nn($t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xg(r)}.`)}function mp(s,e){if(!Array.isArray(s)||0===s.length)throw new nn($t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new nn($t.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Iy(s,e,r){if(!r.isEqual(e))throw new nn($t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}const Ay={maxAttempts:5};class yp{convertValue(e,r="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ws(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw zn()}}convertObject(e,r){const l={};return Aa(e.fields,(f,m)=>{l[f]=this.convertValue(m,r)}),l}convertGeoPoint(e){return new Zc(ws(e.latitude),ws(e.longitude))}convertArray(e,r){return(e.values||[]).map(l=>this.convertValue(l,r))}convertServerTimestamp(e,r){switch(r){case"previous":const l=yh(e);return null==l?null:this.convertValue(l,r);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const r=ul(e);return new mt(r.seconds,r.nanos)}convertDocumentKey(e,r){const l=en.fromString(e);Sr(Oh(l));const f=new na(l.get(1),l.get(3)),m=new _n(l.popFirst(5));return f.isEqual(r)||Ii(`Document ${m} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),m}}function uf(s,e,r){let l;return l=s?r&&(r.merge||r.mergeFields)?s.toFirestore(e,r):s.toFirestore(e):e,l}class Pi extends yp{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,r)}}class _p{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=fc(e)}set(e,r,l){this._verifyNotCommitted();const f=qs(e,this._firestore),m=uf(f.converter,r,l),D=lh(this._dataReader,"WriteBatch.set",f._key,m,null!==f.converter,l);return this._mutations.push(D.toMutation(f._key,Ds.none())),this}update(e,r,l,...f){this._verifyNotCommitted();const m=qs(e,this._firestore);let D;return D="string"==typeof(r=(0,At.m9)(r))||r instanceof dc?Sy(this._dataReader,"WriteBatch.update",m._key,r,l,f):gp(this._dataReader,"WriteBatch.update",m._key,r),this._mutations.push(D.toMutation(m._key,Ds.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=qs(e,this._firestore);return this._mutations=this._mutations.concat(new Tc(r._key,Ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nn($t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qs(s,e){if((s=(0,At.m9)(s)).firestore!==e)throw new nn($t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class dh extends yp{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,r)}}function Dv(s,e,r){s=hi(s,as);const l=hi(s.firestore,Us),f=uf(s.converter,e,r);return hh(l,[lh(fc(l),"setDoc",s._key,f,null!==s.converter,r).toMutation(s._key,Ds.none())])}function A_(s,e,r,...l){s=hi(s,as);const f=hi(s.firestore,Us),m=fc(f);let D;return D="string"==typeof(e=(0,At.m9)(e))||e instanceof dc?Sy(m,"updateDoc",s._key,e,r,l):gp(m,"updateDoc",s._key,e),hh(f,[D.toMutation(s._key,Ds.exists(!0))])}function bb(s,...e){var r,l,f;s=(0,At.m9)(s);let m={includeMetadataChanges:!1},D=0;"object"!=typeof e[D]||cp(e[D])||(m=e[D],D++);const P={includeMetadataChanges:m.includeMetadataChanges};if(cp(e[D])){const nt=e[D];e[D]=null===(r=nt.next)||void 0===r?void 0:r.bind(nt),e[D+1]=null===(l=nt.error)||void 0===l?void 0:l.bind(nt),e[D+2]=null===(f=nt.complete)||void 0===f?void 0:f.bind(nt)}let K,ee,De;if(s instanceof as)ee=hi(s.firestore,Us),De=nc(s._key.path),K={next:nt=>{e[D]&&e[D](gc(ee,s,nt))},error:e[D+1],complete:e[D+2]};else{const nt=hi(s,Vo);ee=hi(nt.firestore,Us),De=nt._query;const jt=new dh(ee);K={next:tn=>{e[D]&&e[D](new W(ee,jt,nt,tn))},error:e[D+1],complete:e[D+2]},Pe(s._query)}return function(nt,jt,tn,an){const An=new Vc(an),Ir=new Lc(jt,An,tn);return nt.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return mu(yield wl(nt),Ir)})),()=>{An.Rc(),nt.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return qd(yield wl(nt),Ir)}))}}(mo(ee),De,P,K)}function hh(s,e){return function(r,l){const f=new Qi;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(s,e,r){return hg.apply(this,arguments)}(yield Bc(r),l,f)})),f.promise}(mo(s),e)}function gc(s,e,r){const l=r.docs.get(e._key),f=new dh(s);return new S(s,f,e._key,l,new _(r.hasPendingWrites,r.fromCache),e.converter)}class Eb extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=fc(e)}get(e){const r=qs(e,this._firestore),l=new Pi(this._firestore);return this._transaction.lookup([r._key]).then(f=>{if(!f||1!==f.length)return zn();const m=f[0];if(m.isFoundDocument())return new a(this._firestore,l,m.key,m,r.converter);if(m.isNoDocument())return new a(this._firestore,l,r._key,null,r.converter);throw zn()})}set(e,r,l){const f=qs(e,this._firestore),m=uf(f.converter,r,l),D=lh(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,l);return this._transaction.set(f._key,D),this}update(e,r,l,...f){const m=qs(e,this._firestore);let D;return D="string"==typeof(r=(0,At.m9)(r))||r instanceof dc?Sy(this._dataReader,"Transaction.update",m._key,r,l,f):gp(this._dataReader,"Transaction.update",m._key,r),this._transaction.update(m._key,D),this}delete(e){const r=qs(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=qs(e,this._firestore),l=new dh(this._firestore);return super.get(e).then(f=>new S(this._firestore,l,r._key,f._document,new _(!1,!1),r.converter))}}function df(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new nn("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ov(){if("undefined"==typeof Uint8Array)throw new nn("unimplemented","Uint8Arrays are not available in this environment.")}function x_(){if("undefined"==typeof atob)throw new nn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){vo=wt.SDK_VERSION,(0,wt._registerComponent)(new Wt.wA("firestore",(r,{instanceIdentifier:l,options:f})=>{const m=r.getProvider("app").getImmediate(),D=new Us(new Qc(r.getProvider("auth-internal")),new Z(r.getProvider("app-check-internal")),function(P,K){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new nn($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(P.options.projectId,K)}(m,l),m);return f=Object.assign({useFetchStreams:e},f),D._setSettings(f),D},"PUBLIC").setMultipleInstances(!0)),(0,wt.registerVersion)(ol,"3.4.15",s),(0,wt.registerVersion)(ol,"3.4.15","esm2017")}();class zg{constructor(e){this._delegate=e}static fromBase64String(e){return x_(),new zg(hc.fromBase64String(e))}static fromUint8Array(e){return Ov(),new zg(hc.fromUint8Array(e))}toBase64(){return x_(),this._delegate.toBase64()}toUint8Array(){return Ov(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function My(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const r=s;for(const l of["next","error","complete"])if(l in r&&"function"==typeof r[l])return!0;return!1}(s)}class Oy{enableIndexedDbPersistence(e,r){return function(s,e){Su(s=hi(s,Us));const r=mo(s),l=s._freezeSettings(),f=new Ig;return Vg(r,f,new hy(f,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function(s){Su(s=hi(s,Us));const e=mo(s),r=s._freezeSettings(),l=new Ig;return Vg(e,l,new E_(l,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new nn($t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(r=(0,ce.Z)(function*(l){if(!ll.C())return Promise.resolve();const f=l+"main";yield ll.delete(f)}),function(l){return r.apply(this,arguments)})(ka(s._databaseId,s._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class Rv{constructor(e,r,l){this._delegate=r,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},e instanceof na||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&ks("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,l={}){!function(s,e,r,l={}){var f;const m=(s=hi(s,ih))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&ks("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${r}`,ssl:!1})),l.mockUserToken){let D,P;if("string"==typeof l.mockUserToken)D=l.mockUserToken,P=Yi.MOCK_USER;else{D=(0,At.Sg)(l.mockUserToken,null===(f=s._app)||void 0===f?void 0:f.options.projectId);const K=l.mockUserToken.sub||l.mockUserToken.user_id;if(!K)throw new nn($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new Yi(K)}s._authCredentials=new Yc(new Za(D,P))}}(this._delegate,e,r,l)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Xd(s),r=yield ap(s);return e.setNetworkEnabled(!0),function(l){const f=Nn(l);return f._u.delete(0),Gu(f)}(r)}))}(mo(s=hi(s,Us)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Xd(s),r=yield ap(s);return e.setNetworkEnabled(!1),(l=(0,ce.Z)(function*(f){const m=Nn(f);m._u.add(0),yield Bd(m),m.gu.set("Offline")}),function(f){return l.apply(this,arguments)})(r);var l}))}(mo(s=hi(s,Us)))}(this._delegate)}enablePersistence(e){let r=!1,l=!1;return e&&(r=!!e.synchronizeTabs,l=!!e.experimentalForceOwningTab,yy("synchronizeTabs",r,"experimentalForceOwningTab",l)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const r=new Qi;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(s,e){return $d.apply(this,arguments)}(yield Bc(e),r)})),r.promise}(mo(s=hi(s,Us)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const r=new Vc(e);return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return l=yield wl(s),f=r,Nn(l).Ru.add(f),void f.next();var l,f})),()=>{r.Rc(),s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return l=yield wl(s),f=r,void Nn(l).Ru.delete(f);var l,f}))}}(mo(s=hi(s,Us)),cp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new nn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wp(this,sh(this._delegate,e))}catch(r){throw Pa(r,"collection()","Firestore.collection()")}}doc(e){try{return new Tl(this,oh(this._delegate,e))}catch(r){throw Pa(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Na(this,function(s,e){if(s=hi(s,ih),Og("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new nn($t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vo(s,null,(r=e,new tc(en.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw Pa(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e,r){s=hi(s,Us);const l=Object.assign(Object.assign({},Ay),r);return function(f){if(f.maxAttempts<1)throw new nn($t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(s,e,r){const l=new Qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const f=yield(m=s,To(m).then(D=>D.datastore));var m;new sp(s.asyncQueue,f,r,e,l).run()})),l.promise}(mo(s),f=>e(new Eb(s,f)),l)}(this._delegate,r=>e(new xy(this,r)))}batch(){return mo(this._delegate),new Kg(new _p(this._delegate,e=>hh(this._delegate,e)))}loadBundle(e){return function(s,e){const r=mo(s=hi(s,Us)),l=new up;return function(s,e,r,l){const f=function(m,D){let P;return P="string"==typeof m?(new TextEncoder).encode(m):m,K=function(K,ee){if(K instanceof Uint8Array)return Ag(K,void 0);if(K instanceof ArrayBuffer)return Ag(new Uint8Array(K),void 0);if(K instanceof ReadableStream)return K.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Yd(K,D);var K}(r,Gf(e));s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function(s,e,r){const l=Nn(s);var f;(f=(0,ce.Z)(function*(m,D,P){try{const K=yield D.getMetadata();if(yield function(jt,tn){const an=Nn(jt),An=Eo(tn.createTime);return an.persistence.runTransaction("hasNewerBundle","readonly",Ir=>an.Ns.getBundleMetadata(Ir,tn.id)).then(Ir=>!!Ir&&Ir.createTime.compareTo(An)>=0)}(m.localStore,K))return yield D.close(),P._completeWith({taskState:"Success",documentsLoaded:(jt=K).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);P._updateProgress(ey(K));const ee=new _u(K,m.localStore,D.It);let De=yield D.wc();for(;De;){const jt=yield ee.Ou(De);jt&&P._updateProgress(jt),De=yield D.wc()}const nt=yield ee.complete();return yield wu(m,nt.Bu,void 0),yield function(jt,tn){const an=Nn(jt);return an.persistence.runTransaction("Save bundle","readwrite",An=>an.Ns.saveBundleMetadata(An,tn))}(m.localStore,K),P._completeWith(nt.progress),Promise.resolve(nt.$u)}catch(K){return ks("SyncEngine",`Loading bundle failed with ${K}`),P._failWith(K),Promise.resolve(new Set)}var jt}),function(m,D,P){return f.apply(this,arguments)})(l,e,r).then(f=>{l.sharedClientState.notifyBundleLoaded(f)})}(yield Bc(s),f,l)}))}(r,s._databaseId,e,l),l}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,ce.Z)(function*(){return function(r,l){const f=Nn(r);return f.persistence.runTransaction("Get named query","readonly",m=>f.Ns.getNamedQuery(m,l))}(yield _a(s),e)}))}(mo(s=hi(s,Us)),e).then(r=>r?new Vo(s,null,r.query):null)}(this._delegate,e).then(r=>r?new Na(this,r):null)}}class Wg extends yp{constructor(e){super(),this.firestore=e}convertBytes(e){return new zg(new hc(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Tl.forKey(r,this.firestore,null)}}class xy{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Wg(e)}get(e){const r=hf(e);return this._delegate.get(r).then(l=>new bp(this._firestore,new S(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,r.converter)))}set(e,r,l){const f=hf(e);return l?(df("Transaction.set",l),this._delegate.set(f,r,l)):this._delegate.set(f,r),this}update(e,r,l,...f){const m=hf(e);return 2===arguments.length?this._delegate.update(m,r):this._delegate.update(m,r,l,...f),this}delete(e){const r=hf(e);return this._delegate.delete(r),this}}class Kg{constructor(e){this._delegate=e}set(e,r,l){const f=hf(e);return l?(df("WriteBatch.set",l),this._delegate.set(f,r,l)):this._delegate.set(f,r),this}update(e,r,l,...f){const m=hf(e);return 2===arguments.length?this._delegate.update(m,r):this._delegate.update(m,r,l,...f),this}delete(e){const r=hf(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class id{constructor(e,r,l){this._firestore=e,this._userDataWriter=r,this._delegate=l}fromFirestore(e,r){const l=new N(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ep(this._firestore,l),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const l=id.INSTANCES;let f=l.get(e);f||(f=new WeakMap,l.set(e,f));let m=f.get(r);return m||(m=new id(e,new Wg(e),r),f.set(r,m)),m}}id.INSTANCES=new WeakMap;class Tl{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Wg(e)}static forPath(e,r,l){if(e.length%2!=0)throw new nn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Tl(r,new as(r._delegate,l,new _n(e)))}static forKey(e,r,l){return new Tl(r,new as(r._delegate,l,e))}get id(){return this._delegate.id}get parent(){return new wp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wp(this.firestore,sh(this._delegate,e))}catch(r){throw Pa(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,At.m9)(e))instanceof as&&Fg(this._delegate,e)}set(e,r){r=df("DocumentReference.set",r);try{return r?Dv(this._delegate,e,r):Dv(this._delegate,e)}catch(l){throw Pa(l,"setDoc()","DocumentReference.set()")}}update(e,r,...l){try{return 1===arguments.length?A_(this._delegate,e):A_(this._delegate,e,r,...l)}catch(f){throw Pa(f,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return hh(hi(s.firestore,Us),[new Tc(s._key,Ds.none())])}(this._delegate)}onSnapshot(...e){const r=R_(e),l=k_(e,f=>new bp(this.firestore,new S(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)));return bb(this._delegate,r,l)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=hi(s,as);const e=hi(s.firestore,Us),r=mo(e),l=new dh(e);return function(s,e){const r=new Qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(l=(0,ce.Z)(function*(f,m,D){try{const P=yield function(K,ee){const De=Nn(K);return De.persistence.runTransaction("read document","readonly",nt=>De.localDocuments.getDocument(nt,ee))}(f,m);P.isFoundDocument()?D.resolve(P):P.isNoDocument()?D.resolve(null):D.reject(new nn($t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const K=uc(P,`Failed to get document '${m} from cache`);D.reject(K)}}),function(f,m,D){return l.apply(this,arguments)})(yield _a(s),e,r);var l})),r.promise}(r,s._key).then(f=>new S(e,l,s._key,f,new _(null!==f&&f.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=hi(s,as);const e=hi(s.firestore,Us);return Cu(mo(e),s._key,{source:"server"}).then(r=>gc(e,s,r))}(this._delegate):function(s){s=hi(s,as);const e=hi(s.firestore,Us);return Cu(mo(e),s._key).then(r=>gc(e,s,r))}(this._delegate),r.then(l=>new bp(this.firestore,new S(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(e){return new Tl(this.firestore,this._delegate.withConverter(e?id.getInstance(this.firestore,e):null))}}function Pa(s,e,r){return s.message=s.message.replace(e,r),s}function R_(s){for(const e of s)if("object"==typeof e&&!My(e))return e;return{}}function k_(s,e){var r,l;let f;return f=My(s[0])?s[0]:My(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:m=>{f.next&&f.next(e(m))},error:null===(r=f.error)||void 0===r?void 0:r.bind(f),complete:null===(l=f.complete)||void 0===l?void 0:l.bind(f)}}class bp{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Tl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return ue(this._delegate,e._delegate)}}class Ep extends bp{data(e){const r=this._delegate.data(e);return function(s,e){s||zn()}(void 0!==r),r}}class Na{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Wg(e)}where(e,r,l){try{return new Na(this.firestore,Ze(this._delegate,function(s,e,r){const l=e,f=p("where",s);return new dt(f,l,r)}(e,r,l)))}catch(f){throw Pa(f,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Na(this.firestore,Ze(this._delegate,function(s,e="asc"){const r=e,l=p("orderBy",s);return new Xt(l,r)}(e,r)))}catch(l){throw Pa(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Na(this.firestore,Ze(this._delegate,function(s){return Rg("limit",s),new Mn("limit",s,"F")}(e)))}catch(r){throw Pa(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Na(this.firestore,Ze(this._delegate,function(s){return Rg("limitToLast",s),new Mn("limitToLast",s,"L")}(e)))}catch(r){throw Pa(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Na(this.firestore,Ze(this._delegate,function(...s){return new er("startAt",s,!0)}(...e)))}catch(r){throw Pa(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Na(this.firestore,Ze(this._delegate,function(...s){return new er("startAfter",s,!1)}(...e)))}catch(r){throw Pa(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Na(this.firestore,Ze(this._delegate,function(...s){return new Hr("endBefore",s,!1)}(...e)))}catch(r){throw Pa(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Na(this.firestore,Ze(this._delegate,function(...s){return new Hr("endAt",s,!0)}(...e)))}catch(r){throw Pa(r,"endAt()","Query.endAt()")}}isEqual(e){return Du(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=hi(s,Vo);const e=hi(s.firestore,Us),r=mo(e),l=new dh(e);return function(s,e){const r=new Qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(l=(0,ce.Z)(function*(f,m,D){try{const P=yield kc(f,m,!0),K=new dg(m,P.Hi),ee=K.ju(P.documents),De=K.applyChanges(ee,!1);D.resolve(De.snapshot)}catch(P){const K=uc(P,`Failed to execute query '${m} against cache`);D.reject(K)}}),function(f,m,D){return l.apply(this,arguments)})(yield _a(s),e,r);var l})),r.promise}(r,s._query).then(f=>new W(e,l,s,f))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=hi(s,Vo);const e=hi(s.firestore,Us),r=mo(e),l=new dh(e);return Tu(r,s._query,{source:"server"}).then(f=>new W(e,l,s,f))}(this._delegate):function(s){s=hi(s,Vo);const e=hi(s.firestore,Us),r=mo(e),l=new dh(e);return Pe(s._query),Tu(r,s._query).then(f=>new W(e,l,s,f))}(this._delegate),r.then(l=>new P_(this.firestore,new W(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...e){const r=R_(e),l=k_(e,f=>new P_(this.firestore,new W(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)));return bb(this._delegate,r,l)}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?id.getInstance(this.firestore,e):null))}}class Pv{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Ep(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class P_{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ep(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new Pv(this._firestore,r))}forEach(e,r){this._delegate.forEach(l=>{e.call(r,new Ep(this._firestore,l))})}isEqual(e){return ue(this._delegate,e._delegate)}}class wp extends Na{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Tl(this.firestore,e):null}doc(e){try{return new Tl(this.firestore,void 0===e?oh(this._delegate):oh(this._delegate,e))}catch(r){throw Pa(r,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const r=hi(s.firestore,Us),l=oh(s),f=uf(s.converter,e);return hh(r,[lh(fc(s.firestore),"addDoc",l._key,f,null!==s.converter,{}).toMutation(l._key,Ds.exists(!1))]).then(()=>l)}(this._delegate,e).then(r=>new Tl(this.firestore,r))}isEqual(e){return Fg(this._delegate,e._delegate)}withConverter(e){return new wp(this.firestore,this._delegate.withConverter(e?id.getInstance(this.firestore,e):null))}}function hf(s){return hi(s,as)}class N_{constructor(...e){this._delegate=new dc(...e)}static documentId(){return new N_(Ar.keyField().canonicalString())}isEqual(e){return(e=(0,At.m9)(e))instanceof dc&&this._delegate._internalPath.isEqual(e._internalPath)}}class ff{constructor(e){this._delegate=e}static serverTimestamp(){const e=new fp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ff(e)}static delete(){const e=new ch("deleteField");return e._methodName="FieldValue.delete",new ff(e)}static arrayUnion(...e){const r=function(...s){return new pp("arrayUnion",s)}(...e);return r._methodName="FieldValue.arrayUnion",new ff(r)}static arrayRemove(...e){const r=function(...s){return new I_("arrayRemove",s)}(...e);return r._methodName="FieldValue.arrayRemove",new ff(r)}static increment(e){const r=function(s){return new Gc("increment",s)}(e);return r._methodName="FieldValue.increment",new ff(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Tb={Firestore:Rv,GeoPoint:Zc,Timestamp:mt,Blob:zg,Transaction:xy,WriteBatch:Kg,DocumentReference:Tl,DocumentSnapshot:bp,Query:Na,QueryDocumentSnapshot:Ep,QuerySnapshot:P_,CollectionReference:wp,FieldPath:N_,FieldValue:ff,setLogLevel:function(s){!function(s){bo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new Wt.wA("firestore-compat",r=>((e,r)=>new Rv(e,r,new Oy))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Tb)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.24")}(Ge.Z);var fh=U(3820),Ib=U(3801);function Nv(s,e){return function(s,e=o.z){return new Q.y(r=>{let l;return null!=e?e.schedule(()=>{l=s.onSnapshot({includeMetadataChanges:!0},r)}):l=s.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=l&&l()}})}(s,e)}function F_(s,e){return Nv(s,e).pipe((0,ye.U)(r=>({payload:r,type:"query"})))}function Ry(s,e){return F_(s,e).pipe((0,xe.O)(void 0),(0,Ee.G)(),(0,ye.U)(([r,l])=>{const f=l.payload.docChanges(),m=f.map(D=>({type:D.type,payload:D}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,P)=>{const K=f.find(De=>De.doc.ref.isEqual(D.ref)),ee=null==r?void 0:r.payload.docs.find(De=>De.ref.isEqual(D.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(D.metadata)||!K&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(D.metadata)||m.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:D}})}),m}))}function Fv(s,e,r){return Ry(s,r).pipe((0,se.R)((l,f)=>function(s,e,r){return e.forEach(l=>{r.indexOf(l.type)>-1&&(s=function(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return ky(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=s.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return ky(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ky(s,e.oldIndex,1)}return s}(s,l))}),s}(l,f.map(m=>m.payload),e),[]),(0,ae.x)(),(0,ye.U)(l=>l.map(f=>({type:f.type,payload:f}))))}function ky(s,e,r,...l){const f=s.slice();return f.splice(e,r,...l),f}function L_(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}U(7841);class V_{constructor(e,r,l){this.ref=e,this.query=r,this.afs=l}stateChanges(e){let r=Ry(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,ye.U)(l=>l.filter(f=>e.indexOf(f.type)>-1)))),r.pipe((0,xe.O)(void 0),(0,Ee.G)(),(0,Te.h)(([l,f])=>f.length>0||!l),(0,ye.U)(([l,f])=>f),_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,se.R)((r,l)=>[...r,...l],[]))}snapshotChanges(e){const r=L_(e);return Fv(this.query,r,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return F_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(r=>r.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),_e.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(_e.iC)}add(e){return this.ref.add(e)}doc(e){return new U_(this.ref.doc(e),this.afs)}}class U_{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const l=this.ref.collection(e),{ref:f,query:m}=ph(l,r);return new V_(f,m,this.afs)}snapshotChanges(){return function(s,e){return Nv(s,e).pipe((0,xe.O)(void 0),(0,Ee.G)(),(0,ye.U)(([r,l])=>l.exists?(null==r?void 0:r.exists)?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ye.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,Ve.D)(this.ref.get(e)).pipe(_e.iC)}}class Uv{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Ry(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(r=>r.filter(l=>e.indexOf(l.type)>-1)),(0,Te.h)(r=>r.length>0),_e.iC):Ry(this.query,this.afs.schedulers.outsideAngular).pipe(_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,se.R)((r,l)=>[...r,...l],[]))}snapshotChanges(e){const r=L_(e);return Fv(this.query,r,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return F_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ye.U)(l=>l.payload.docs.map(f=>e.idField?Object.assign({[e.idField]:f.id},f.data()):f.data())),_e.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(_e.iC)}}const Bv=new I.OlP("angularfire2.enableFirestorePersistence"),jv=new I.OlP("angularfire2.firestore.persistenceSettings"),B_=new I.OlP("angularfire2.firestore.settings"),j_=new I.OlP("angularfire2.firestore.use-emulator");function ph(s,e=(r=>r)){return{query:e(s),ref:s}}let Ob=(()=>{class s{constructor(r,l,f,m,D,P,K,ee,De,nt,jt,tn,an,An,Ir,Ei,es){this.schedulers=K;const zi=(0,ve.on)(r,P,l),$s=De;nt&&(0,fh.nw)(zi,P,jt,an,An,Ir,tn,Ei),[this.firestore,this.persistenceEnabled$]=(0,ve.cc)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const Ni=P.runOutsideAngular(()=>zi.firestore());if(m&&Ni.settings(m),$s&&Ni.useEmulator(...$s),f&&!(0,Be.PM)(D)){const Wi=()=>{try{return(0,Ve.D)(Ni.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(Uo){return"undefined"!=typeof console&&console.warn(Uo),(0,Ne.of)(!1)}};return[Ni,P.runOutsideAngular(Wi)]}return[Ni,(0,Ne.of)(!1)]},[m,$s,f])}collection(r,l){let f;f="string"==typeof r?this.firestore.collection(r):r;const{ref:m,query:D}=ph(f,l),P=this.schedulers.ngZone.run(()=>m);return new V_(P,D,this)}collectionGroup(r,l){const f=l||(D=>D),m=this.firestore.collectionGroup(r);return new Uv(f(m),this)}doc(r){let l;l="string"==typeof r?this.firestore.doc(r):r;const f=this.schedulers.ngZone.run(()=>l);return new U_(f,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(r){return new(r||s)(I.LFG(ve.Dh),I.LFG(ve.xv,8),I.LFG(Bv,8),I.LFG(B_,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(_e.HU),I.LFG(jv,8),I.LFG(j_,8),I.LFG(fh.zQ,8),I.LFG(fh.Qv,8),I.LFG(fh.L6,8),I.LFG(fh._Q,8),I.LFG(fh.rT,8),I.LFG(fh.lh,8),I.LFG(fh.f7,8),I.LFG(Ib.nm,8))},s.\u0275prov=I.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})()},8939:(un,ht,U)=>{"use strict";U.d(ht,{hO:()=>ve,xv:()=>ye,Dh:()=>Ee,GT:()=>_e,cc:()=>Be,on:()=>se,pX:()=>Ne});var I=U(3018),o=U(7841),Q=U(5361);un=U.hmd(un);const Ve=["ngOnDestroy"],Ne=(wt,Wt,Ot,At={})=>new Proxy(wt,{get:(Je,rt)=>Ot.runOutsideAngular(()=>{var Qe;if(wt[rt])return(null===(Qe=null==At?void 0:At.spy)||void 0===Qe?void 0:Qe.get)&&At.spy.get(rt,wt[rt]),wt[rt];if(Ve.indexOf(rt)>-1)return()=>{};const He=Wt.toPromise().then(it=>{const Tt=it&&it[rt];return"function"==typeof Tt?Tt.bind(it):Tt&&Tt.then?Tt.then(st=>Ot.run(()=>st)):Ot.run(()=>Tt)});return new Proxy(()=>{},{get:(it,Tt)=>He[Tt],apply:(it,Tt,st)=>He.then(Xe=>{var ut;const St=Xe&&Xe(...st);return(null===(ut=null==At?void 0:At.spy)||void 0===ut?void 0:ut.apply)&&At.spy.apply(rt,st,St),St})})})}),_e=(wt,Wt)=>{Wt.forEach(Ot=>{Object.getOwnPropertyNames(Ot.prototype||Ot).forEach(At=>{Object.defineProperty(wt.prototype,At,Object.getOwnPropertyDescriptor(Ot.prototype||Ot,At))})})};class xe{constructor(Wt){return Wt}}const Ee=new I.OlP("angularfire2.app.options"),ye=new I.OlP("angularfire2.app.name");function se(wt,Wt,Ot){const Je="object"==typeof Ot&&Ot||{};Je.name=Je.name||"string"==typeof Ot&&Ot||"[DEFAULT]";const Qe=o.Z.apps.filter(He=>He&&He.name===Je.name)[0]||Wt.runOutsideAngular(()=>o.Z.initializeApp(wt,Je));try{JSON.stringify(wt)!==JSON.stringify(Qe.options)&&ae("error",`${Qe.name} Firebase App already initialized with different options${un.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new xe(Qe)}const ae=(wt,...Wt)=>{(0,I.X6Q)()&&"undefined"!=typeof console&&console[wt](...Wt)},Te={provide:xe,useFactory:se,deps:[Ee,I.R0b,[new I.FiY,ye]]};let ve=(()=>{class wt{constructor(Ot){o.Z.registerVersion("angularfire",Q.q4.full,"core"),o.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),o.Z.registerVersion("angular",I.q4F.full,Ot.toString())}static initializeApp(Ot,At){return{ngModule:wt,providers:[{provide:Ee,useValue:Ot},{provide:ye,useValue:At}]}}}return wt.\u0275fac=function(Ot){return new(Ot||wt)(I.LFG(I.Lbi))},wt.\u0275mod=I.oAB({type:wt}),wt.\u0275inj=I.cJS({providers:[Te]}),wt})();function Be(wt,Wt,Ot,At,Je){const[,rt,Qe]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===wt)||[];if(rt)return function(wt,Wt){try{return wt.toString()===Wt.toString()}catch(Ot){return wt===Wt}}(Je,Qe)||(ce("error",`${Wt} was already initialized on the ${Ot} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Je,was:Qe})),rt;{const He=At();return globalThis.\u0275AngularfireInstanceCache.push([wt,He,Je]),He}}const Ge=!!un.hot,ce=(wt,...Wt)=>{(0,I.X6Q)()&&"undefined"!=typeof console&&console[wt](...Wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5361:(un,ht,U)=>{"use strict";U.d(ht,{q4:()=>no,iC:()=>$,fc:()=>G,HU:()=>Ho,vb:()=>Ys,JM:()=>us,nk:()=>xo,u3:()=>Vt});var I=U(3018),o=U(2329),Q=U(8239),Ve=U(8026),Ne=U(3854),_e=U(3910),xe=U(5422);U(3328);const ye="@firebase/remote-config",Be=new Ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vn{constructor(ge,tt,Et,Jt){this.client=ge,this.storage=tt,this.storageCache=Et,this.logger=Jt}isCachedDataFresh(ge,tt){if(!tt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Et=Date.now()-tt,Jt=Et<=ge;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Et}. Cache max age millis (minimumFetchIntervalMillis setting): ${ge}. Is cache hit: ${Jt}.`),Jt}fetch(ge){var tt=this;return(0,Q.Z)(function*(){const[Et,Jt]=yield Promise.all([tt.storage.getLastSuccessfulFetchTimestampMillis(),tt.storage.getLastSuccessfulFetchResponse()]);if(Jt&&tt.isCachedDataFresh(ge.cacheMaxAgeMillis,Et))return Jt;ge.eTag=Jt&&Jt.eTag;const sn=yield tt.client.fetch(ge),Pn=[tt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===sn.status&&Pn.push(tt.storage.setLastSuccessfulFetchResponse(sn)),yield Promise.all(Pn),sn})()}}function Dn(oe=navigator){return oe.languages&&oe.languages[0]||oe.language}class Vn{constructor(ge,tt,Et,Jt,sn,Pn){this.firebaseInstallations=ge,this.sdkVersion=tt,this.namespace=Et,this.projectId=Jt,this.apiKey=sn,this.appId=Pn}fetch(ge){var tt=this;return(0,Q.Z)(function*(){var Et,Jt,sn;const[Pn,Un]=yield Promise.all([tt.firebaseInstallations.getId(),tt.firebaseInstallations.getToken()]),di=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${tt.projectId}/namespaces/${tt.namespace}:fetch?key=${tt.apiKey}`,Cr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":ge.eTag||"*"},$n={sdk_version:tt.sdkVersion,app_instance_id:Pn,app_instance_id_token:Un,app_id:tt.appId,language_code:Dn()},Di={method:"POST",headers:Cr,body:JSON.stringify($n)},ds=fetch(di,Di),ns=new Promise((ui,Os)=>{ge.signal.addEventListener(()=>{const ys=new Error("The operation was aborted.");ys.name="AbortError",Os(ys)})});let rs;try{yield Promise.race([ds,ns]),rs=yield ds}catch(ui){let Os="fetch-client-network";throw"AbortError"===(null===(Et=ui)||void 0===Et?void 0:Et.name)&&(Os="fetch-timeout"),Be.create(Os,{originalErrorMessage:null===(Jt=ui)||void 0===Jt?void 0:Jt.message})}let so=rs.status;const Ea=rs.headers.get("ETag")||void 0;let mr,yo;if(200===rs.status){let ui;try{ui=yield rs.json()}catch(Os){throw Be.create("fetch-client-parse",{originalErrorMessage:null===(sn=Os)||void 0===sn?void 0:sn.message})}mr=ui.entries,yo=ui.state}if("INSTANCE_STATE_UNSPECIFIED"===yo?so=500:"NO_CHANGE"===yo?so=304:("NO_TEMPLATE"===yo||"EMPTY_CONFIG"===yo)&&(mr={}),304!==so&&200!==so)throw Be.create("fetch-status",{httpStatus:so});return{status:so,eTag:Ea,config:mr}})()}}class Tr{constructor(ge,tt){this.client=ge,this.storage=tt}fetch(ge){var tt=this;return(0,Q.Z)(function*(){const Et=(yield tt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return tt.attemptFetch(ge,Et)})()}attemptFetch(ge,{throttleEndTimeMillis:tt,backoffCount:Et}){var Jt=this;return(0,Q.Z)(function*(){yield function(oe,ge){return new Promise((tt,Et)=>{const Jt=Math.max(ge-Date.now(),0),sn=setTimeout(tt,Jt);oe.addEventListener(()=>{clearTimeout(sn),Et(Be.create("fetch-throttle",{throttleEndTimeMillis:ge}))})})}(ge.signal,tt);try{const sn=yield Jt.client.fetch(ge);return yield Jt.storage.deleteThrottleMetadata(),sn}catch(sn){if(!function(oe){if(!(oe instanceof Ne.ZR&&oe.customData))return!1;const ge=Number(oe.customData.httpStatus);return 429===ge||500===ge||503===ge||504===ge}(sn))throw sn;const Pn={throttleEndTimeMillis:Date.now()+(0,Ne.$s)(Et),backoffCount:Et+1};return yield Jt.storage.setThrottleMetadata(Pn),Jt.attemptFetch(ge,Pn)}})()}}class hn{constructor(ge,tt,Et,Jt,sn){this.app=ge,this._client=tt,this._storageCache=Et,this._storage=Jt,this._logger=sn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bn(oe,ge){var tt;const Et=oe.target.error||void 0;return Be.create(ge,{originalErrorMessage:Et&&(null===(tt=Et)||void 0===tt?void 0:tt.message)})}const tr="app_namespace_store";class Gn{constructor(ge,tt,Et,Jt=function(){return new Promise((oe,ge)=>{var tt;try{const Et=indexedDB.open("firebase_remote_config",1);Et.onerror=Jt=>{ge(bn(Jt,"storage-open"))},Et.onsuccess=Jt=>{oe(Jt.target.result)},Et.onupgradeneeded=Jt=>{0===Jt.oldVersion&&Jt.target.result.createObjectStore(tr,{keyPath:"compositeKey"})}}catch(Et){ge(Be.create("storage-open",{originalErrorMessage:null===(tt=Et)||void 0===tt?void 0:tt.message}))}})}()){this.appId=ge,this.appName=tt,this.namespace=Et,this.openDbPromise=Jt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(ge){return this.set("last_fetch_status",ge)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(ge){return this.set("last_successful_fetch_timestamp_millis",ge)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(ge){return this.set("last_successful_fetch_response",ge)}getActiveConfig(){return this.get("active_config")}setActiveConfig(ge){return this.set("active_config",ge)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(ge){return this.set("active_config_etag",ge)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(ge){return this.set("throttle_metadata",ge)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(ge){var tt=this;return(0,Q.Z)(function*(){const Et=yield tt.openDbPromise;return new Promise((Jt,sn)=>{var Pn;const Xr=Et.transaction([tr],"readonly").objectStore(tr),di=tt.createCompositeKey(ge);try{const Cr=Xr.get(di);Cr.onerror=$n=>{sn(bn($n,"storage-get"))},Cr.onsuccess=$n=>{const Di=$n.target.result;Jt(Di?Di.value:void 0)}}catch(Cr){sn(Be.create("storage-get",{originalErrorMessage:null===(Pn=Cr)||void 0===Pn?void 0:Pn.message}))}})})()}set(ge,tt){var Et=this;return(0,Q.Z)(function*(){const Jt=yield Et.openDbPromise;return new Promise((sn,Pn)=>{var Un;const di=Jt.transaction([tr],"readwrite").objectStore(tr),Cr=Et.createCompositeKey(ge);try{const $n=di.put({compositeKey:Cr,value:tt});$n.onerror=Di=>{Pn(bn(Di,"storage-set"))},$n.onsuccess=()=>{sn()}}catch($n){Pn(Be.create("storage-set",{originalErrorMessage:null===(Un=$n)||void 0===Un?void 0:Un.message}))}})})()}delete(ge){var tt=this;return(0,Q.Z)(function*(){const Et=yield tt.openDbPromise;return new Promise((Jt,sn)=>{var Pn;const Xr=Et.transaction([tr],"readwrite").objectStore(tr),di=tt.createCompositeKey(ge);try{const Cr=Xr.delete(di);Cr.onerror=$n=>{sn(bn($n,"storage-delete"))},Cr.onsuccess=()=>{Jt()}}catch(Cr){sn(Be.create("storage-delete",{originalErrorMessage:null===(Pn=Cr)||void 0===Pn?void 0:Pn.message}))}})})()}createCompositeKey(ge){return[this.appId,this.appName,this.namespace,ge].join()}}class Wn{constructor(ge){this.storage=ge}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var ge=this;return(0,Q.Z)(function*(){const tt=ge.storage.getLastFetchStatus(),Et=ge.storage.getLastSuccessfulFetchTimestampMillis(),Jt=ge.storage.getActiveConfig(),sn=yield tt;sn&&(ge.lastFetchStatus=sn);const Pn=yield Et;Pn&&(ge.lastSuccessfulFetchTimestampMillis=Pn);const Un=yield Jt;Un&&(ge.activeConfig=Un)})()}setLastFetchStatus(ge){return this.lastFetchStatus=ge,this.storage.setLastFetchStatus(ge)}setLastSuccessfulFetchTimestampMillis(ge){return this.lastSuccessfulFetchTimestampMillis=ge,this.storage.setLastSuccessfulFetchTimestampMillis(ge)}setActiveConfig(ge){return this.activeConfig=ge,this.storage.setActiveConfig(ge)}}function Jn(){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,Q.Z)(function*(){if(!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch(oe){return!1}})).apply(this,arguments)}(0,Ve._registerComponent)(new _e.wA("remote-config",function(ge,{instanceIdentifier:tt}){const Et=ge.getProvider("app").getImmediate(),Jt=ge.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Be.create("registration-window");if(!(0,Ne.hl)())throw Be.create("indexed-db-unavailable");const{projectId:sn,apiKey:Pn,appId:Un}=Et.options;if(!sn)throw Be.create("registration-project-id");if(!Pn)throw Be.create("registration-api-key");if(!Un)throw Be.create("registration-app-id");const Xr=new Gn(Un,Et.name,tt=tt||"firebase"),di=new Wn(Xr),Cr=new xe.Yd(ye);Cr.logLevel=xe.in.ERROR;const $n=new Vn(Jt,Ve.SDK_VERSION,tt,sn,Pn,Un),Di=new Tr($n,Xr),ds=new vn(Di,Xr,di,Cr),ns=new hn(Et,ds,di,Xr,Cr);return function(oe){const ge=(0,Ne.m9)(oe);ge._initializePromise||(ge._initializePromise=ge._storageCache.loadFromStorage().then(()=>{ge._isInitializationComplete=!0}))}(ns),ns},"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(ye,"0.3.11"),(0,Ve.registerVersion)(ye,"0.3.11","esm2017");var qt=U(5401);const Qt="/firebase-messaging-sw.js",Se="/firebase-cloud-messaging-push-scope",ke="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",he="google.c.a.c_id",Le="google.c.a.c_l",pt="google.c.a.ts",yt="google.c.a.e";var Bt=(()=>{return(oe=Bt||(Bt={})).PUSH_RECEIVED="push-received",oe.NOTIFICATION_CLICKED="notification-clicked",Bt;var oe})();function Tn(oe){const ge=new Uint8Array(oe);return btoa(String.fromCharCode(...ge)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ar(oe){const tt=(oe+"=".repeat((4-oe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Et=atob(tt),Jt=new Uint8Array(Et.length);for(let sn=0;sn<Et.length;++sn)Jt[sn]=Et.charCodeAt(sn);return Jt}const dr="fcm_token_details_db",xn="fcm_token_object_Store";function Er(oe){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,Q.Z)(function*(oe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(sn=>sn.name).includes(dr))return null;let ge=null;return(yield(0,qt.X3)(dr,5,{upgrade:(Et=(0,Q.Z)(function*(Jt,sn,Pn,Un){var Xr;if(sn<2||!Jt.objectStoreNames.contains(xn))return;const di=Un.objectStore(xn),Cr=yield di.index("fcmSenderId").get(oe);if(yield di.clear(),Cr)if(2===sn){const $n=Cr;if(!$n.auth||!$n.p256dh||!$n.endpoint)return;ge={token:$n.fcmToken,createTime:null!==(Xr=$n.createTime)&&void 0!==Xr?Xr:Date.now(),subscriptionOptions:{auth:$n.auth,p256dh:$n.p256dh,endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:"string"==typeof $n.vapidKey?$n.vapidKey:Tn($n.vapidKey)}}}else if(3===sn){const $n=Cr;ge={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:Tn($n.auth),p256dh:Tn($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:Tn($n.vapidKey)}}}else if(4===sn){const $n=Cr;ge={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:Tn($n.auth),p256dh:Tn($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:Tn($n.vapidKey)}}}}),function(sn,Pn,Un,Xr){return Et.apply(this,arguments)})})).close(),yield(0,qt.Lj)(dr),yield(0,qt.Lj)("fcm_vapid_details_db"),yield(0,qt.Lj)("undefined"),zr(ge)?ge:null;var Et}),Zn.apply(this,arguments)}function zr(oe){if(!oe||!oe.subscriptionOptions)return!1;const{subscriptionOptions:ge}=oe;return"number"==typeof oe.createTime&&oe.createTime>0&&"string"==typeof oe.token&&oe.token.length>0&&"string"==typeof ge.auth&&ge.auth.length>0&&"string"==typeof ge.p256dh&&ge.p256dh.length>0&&"string"==typeof ge.endpoint&&ge.endpoint.length>0&&"string"==typeof ge.swScope&&ge.swScope.length>0&&"string"==typeof ge.vapidKey&&ge.vapidKey.length>0}const Oe="firebase-messaging-store";let ze=null;function ne(){return ze||(ze=(0,qt.X3)("firebase-messaging-database",1,{upgrade:(oe,ge)=>{0===ge&&oe.createObjectStore(Oe)}})),ze}function Me(oe){return me.apply(this,arguments)}function me(){return(me=(0,Q.Z)(function*(oe){const ge=X(oe),Et=yield(yield ne()).transaction(Oe).objectStore(Oe).get(ge);if(Et)return Et;{const Jt=yield Er(oe.appConfig.senderId);if(Jt)return yield et(oe,Jt),Jt}})).apply(this,arguments)}function et(oe,ge){return on.apply(this,arguments)}function on(){return(on=(0,Q.Z)(function*(oe,ge){const tt=X(oe),Jt=(yield ne()).transaction(Oe,"readwrite");return yield Jt.objectStore(Oe).put(ge,tt),yield Jt.done,ge})).apply(this,arguments)}function wn(oe){return gt.apply(this,arguments)}function gt(){return(gt=(0,Q.Z)(function*(oe){const ge=X(oe),Et=(yield ne()).transaction(Oe,"readwrite");yield Et.objectStore(Oe).delete(ge),yield Et.done})).apply(this,arguments)}function X({appConfig:oe}){return oe.appId}const H=new Ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fe(oe,ge){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,Q.Z)(function*(oe,ge){var tt;const Et=yield Mr(oe),Jt=lr(ge),sn={method:"POST",headers:Et,body:JSON.stringify(Jt)};let Pn;try{Pn=yield(yield fetch(gr(oe.appConfig),sn)).json()}catch(Un){throw H.create("token-subscribe-failed",{errorInfo:null===(tt=Un)||void 0===tt?void 0:tt.toString()})}if(Pn.error)throw H.create("token-subscribe-failed",{errorInfo:Pn.error.message});if(!Pn.token)throw H.create("token-subscribe-no-token");return Pn.token})).apply(this,arguments)}function Ft(oe,ge){return rn.apply(this,arguments)}function rn(){return(rn=(0,Q.Z)(function*(oe,ge){var tt;const Et=yield Mr(oe),Jt=lr(ge.subscriptionOptions),sn={method:"PATCH",headers:Et,body:JSON.stringify(Jt)};let Pn;try{Pn=yield(yield fetch(`${gr(oe.appConfig)}/${ge.token}`,sn)).json()}catch(Un){throw H.create("token-update-failed",{errorInfo:null===(tt=Un)||void 0===tt?void 0:tt.toString()})}if(Pn.error)throw H.create("token-update-failed",{errorInfo:Pn.error.message});if(!Pn.token)throw H.create("token-update-no-token");return Pn.token})).apply(this,arguments)}function Sn(oe,ge){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,Q.Z)(function*(oe,ge){var tt;const Jt={method:"DELETE",headers:yield Mr(oe)};try{const Pn=yield(yield fetch(`${gr(oe.appConfig)}/${ge}`,Jt)).json();if(Pn.error)throw H.create("token-unsubscribe-failed",{errorInfo:Pn.error.message})}catch(sn){throw H.create("token-unsubscribe-failed",{errorInfo:null===(tt=sn)||void 0===tt?void 0:tt.toString()})}})).apply(this,arguments)}function gr({projectId:oe}){return`https://fcmregistrations.googleapis.com/v1/projects/${oe}/registrations`}function Mr(oe){return mn.apply(this,arguments)}function mn(){return(mn=(0,Q.Z)(function*({appConfig:oe,installations:ge}){const tt=yield ge.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":oe.apiKey,"x-goog-firebase-installations-auth":`FIS ${tt}`})})).apply(this,arguments)}function lr({p256dh:oe,auth:ge,endpoint:tt,vapidKey:Et}){const Jt={web:{endpoint:tt,auth:ge,p256dh:oe}};return Et!==ke&&(Jt.web.applicationPubKey=Et),Jt}const yi=6048e5;function Vr(oe){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,Q.Z)(function*(oe){const ge=yield Zr(oe.swRegistration,oe.vapidKey),tt={vapidKey:oe.vapidKey,swScope:oe.swRegistration.scope,endpoint:ge.endpoint,auth:Tn(ge.getKey("auth")),p256dh:Tn(ge.getKey("p256dh"))},Et=yield Me(oe.firebaseDependencies);if(Et){if(ct(Et.subscriptionOptions,tt))return Date.now()>=Et.createTime+yi?je(oe,{token:Et.token,createTime:Date.now(),subscriptionOptions:tt}):Et.token;try{yield Sn(oe.firebaseDependencies,Et.token)}catch(Jt){console.warn(Jt)}return zt(oe.firebaseDependencies,tt)}return zt(oe.firebaseDependencies,tt)})).apply(this,arguments)}function ls(oe){return nr.apply(this,arguments)}function nr(){return(nr=(0,Q.Z)(function*(oe){const ge=yield Me(oe.firebaseDependencies);ge&&(yield Sn(oe.firebaseDependencies,ge.token),yield wn(oe.firebaseDependencies));const tt=yield oe.swRegistration.pushManager.getSubscription();return!tt||tt.unsubscribe()})).apply(this,arguments)}function je(oe,ge){return It.apply(this,arguments)}function It(){return(It=(0,Q.Z)(function*(oe,ge){try{const tt=yield Ft(oe.firebaseDependencies,ge),Et=Object.assign(Object.assign({},ge),{token:tt,createTime:Date.now()});return yield et(oe.firebaseDependencies,Et),tt}catch(tt){throw yield ls(oe),tt}})).apply(this,arguments)}function zt(oe,ge){return kn.apply(this,arguments)}function kn(){return(kn=(0,Q.Z)(function*(oe,ge){const Et={token:yield fe(oe,ge),createTime:Date.now(),subscriptionOptions:ge};return yield et(oe,Et),Et.token})).apply(this,arguments)}function Zr(oe,ge){return fr.apply(this,arguments)}function fr(){return(fr=(0,Q.Z)(function*(oe,ge){return(yield oe.pushManager.getSubscription())||oe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ar(ge)})})).apply(this,arguments)}function ct(oe,ge){return ge.vapidKey===oe.vapidKey&&ge.endpoint===oe.endpoint&&ge.auth===oe.auth&&ge.p256dh===oe.p256dh}function qe(oe){const ge={from:oe.from,collapseKey:oe.collapse_key,messageId:oe.fcmMessageId};return function(oe,ge){if(!ge.notification)return;oe.notification={};const tt=ge.notification.title;tt&&(oe.notification.title=tt);const Et=ge.notification.body;Et&&(oe.notification.body=Et);const Jt=ge.notification.image;Jt&&(oe.notification.image=Jt)}(ge,oe),function(oe,ge){!ge.data||(oe.data=ge.data)}(ge,oe),function(oe,ge){var tt,Et,Jt,sn,Pn;if(!ge.fcmOptions&&!(null===(tt=ge.notification)||void 0===tt?void 0:tt.click_action))return;oe.fcmOptions={};const Un=null!==(Jt=null===(Et=ge.fcmOptions)||void 0===Et?void 0:Et.link)&&void 0!==Jt?Jt:null===(sn=ge.notification)||void 0===sn?void 0:sn.click_action;Un&&(oe.fcmOptions.link=Un);const Xr=null===(Pn=ge.fcmOptions)||void 0===Pn?void 0:Pn.analytics_label;Xr&&(oe.fcmOptions.analyticsLabel=Xr)}(ge,oe),ge}function rr(oe){return"object"==typeof oe&&!!oe&&he in oe}function Dr(oe,ge){const tt=[];for(let Et=0;Et<oe.length;Et++)tt.push(oe.charAt(Et)),Et<ge.length&&tt.push(ge.charAt(Et));return tt.join("")}function li(oe){return H.create("missing-app-config-values",{valueName:oe})}Dr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Dr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fi{constructor(ge,tt,Et){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Jt=function(oe){if(!oe||!oe.options)throw li("App Configuration Object");if(!oe.name)throw li("App Name");const ge=["projectId","apiKey","appId","messagingSenderId"],{options:tt}=oe;for(const Et of ge)if(!tt[Et])throw li(Et);return{appName:oe.name,projectId:tt.projectId,apiKey:tt.apiKey,appId:tt.appId,senderId:tt.messagingSenderId}}(ge);this.firebaseDependencies={app:ge,appConfig:Jt,installations:tt,analyticsProvider:Et}}_delete(){return Promise.resolve()}}function _t(oe){return ft.apply(this,arguments)}function ft(){return(ft=(0,Q.Z)(function*(oe){var ge;try{oe.swRegistration=yield navigator.serviceWorker.register(Qt,{scope:Se}),oe.swRegistration.update().catch(()=>{})}catch(tt){throw H.create("failed-service-worker-registration",{browserErrorMessage:null===(ge=tt)||void 0===ge?void 0:ge.message})}})).apply(this,arguments)}function Mt(oe,ge){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,Q.Z)(function*(oe,ge){if(!ge&&!oe.swRegistration&&(yield _t(oe)),ge||!oe.swRegistration){if(!(ge instanceof ServiceWorkerRegistration))throw H.create("invalid-sw-registration");oe.swRegistration=ge}})).apply(this,arguments)}function yn(oe,ge){return jn.apply(this,arguments)}function jn(){return(jn=(0,Q.Z)(function*(oe,ge){ge?oe.vapidKey=ge:oe.vapidKey||(oe.vapidKey=ke)})).apply(this,arguments)}function si(){return(si=(0,Q.Z)(function*(oe,ge){if(!navigator)throw H.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw H.create("permission-blocked");return yield yn(oe,null==ge?void 0:ge.vapidKey),yield Mt(oe,null==ge?void 0:ge.serviceWorkerRegistration),Vr(oe)})).apply(this,arguments)}function Gr(oe,ge,tt){return oi.apply(this,arguments)}function oi(){return(oi=(0,Q.Z)(function*(oe,ge,tt){const Et=pi(ge);(yield oe.firebaseDependencies.analyticsProvider.get()).logEvent(Et,{message_id:tt[he],message_name:tt[Le],message_time:tt[pt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pi(oe){switch(oe){case Bt.NOTIFICATION_CLICKED:return"notification_open";case Bt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ts(){return(ts=(0,Q.Z)(function*(oe,ge){const tt=ge.data;if(!tt.isFirebaseMessaging)return;oe.onMessageHandler&&tt.messageType===Bt.PUSH_RECEIVED&&("function"==typeof oe.onMessageHandler?oe.onMessageHandler(qe(tt)):oe.onMessageHandler.next(qe(tt)));const Et=tt.data;rr(Et)&&"1"===Et[yt]&&(yield Gr(oe,tt.messageType,Et))})).apply(this,arguments)}const gi="@firebase/messaging";function Ci(){return Is.apply(this,arguments)}function Is(){return(Is=(0,Q.Z)(function*(){try{yield(0,Ne.eu)()}catch(oe){return!1}return"undefined"!=typeof window&&(0,Ne.hl)()&&(0,Ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ve._registerComponent)(new _e.wA("messaging",oe=>{const ge=new fi(oe.getProvider("app").getImmediate(),oe.getProvider("installations-internal").getImmediate(),oe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",tt=>function(oe,ge){return ts.apply(this,arguments)}(ge,tt)),ge},"PUBLIC")),(0,Ve._registerComponent)(new _e.wA("messaging-internal",oe=>{const ge=oe.getProvider("messaging").getImmediate();return{getToken:Et=>function(oe,ge){return si.apply(this,arguments)}(ge,Et)}},"PRIVATE")),(0,Ve.registerVersion)(gi,"0.9.16"),(0,Ve.registerVersion)(gi,"0.9.16","esm2017");var So=U(6917),Bo=U(7771),jo=U(3637),ba=U(7574),to=U(3342),Ms=U(309),Ws=U(9673);const no=new I.GfV("7.4.1"),Io="__angularfire_symbol__analyticsIsSupportedValue",ro="__angularfire_symbol__analyticsIsSupported",ea="__angularfire_symbol__remoteConfigIsSupportedValue",Ks="__angularfire_symbol__remoteConfigIsSupported",io="__angularfire_symbol__messagingIsSupportedValue",Ao="__angularfire_symbol__messagingIsSupported";globalThis[ro]||(globalThis[ro]=(0,So.Gb)().then(oe=>globalThis[Io]=oe).catch(()=>globalThis[Io]=!1)),globalThis[Ao]||(globalThis[Ao]=Ci().then(oe=>globalThis[io]=oe).catch(()=>globalThis[io]=!1)),globalThis[Ks]||(globalThis[Ks]=Jn().then(oe=>globalThis[ea]=oe).catch(()=>globalThis[ea]=!1));const xo={async:()=>globalThis[ro],sync:()=>{const oe=globalThis[Io];if(void 0===oe)throw new Error((oe=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${oe} in the constructor, first ensure that ${oe} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${oe})\`.`)("Analytics"));return oe}};function us(oe,ge,tt){if(ge){if(1===ge.length)return ge[0];const sn=ge.filter(Pn=>Pn.app===tt);if(1===sn.length)return sn[0]}return tt.container.getProvider(oe).getImmediate({optional:!0})}const Ys=(oe,ge)=>{const tt=ge?[ge]:(0,o.C6)(),Et=[];return tt.forEach(Jt=>{Jt.container.getProvider(oe).instances.forEach(Pn=>{Et.includes(Pn)||Et.push(Pn)})}),Et};function Hi(){}class gs{constructor(ge,tt=Bo.N){this.zone=ge,this.delegate=tt}now(){return this.delegate.now()}schedule(ge,tt,Et){const Jt=this.zone;return this.delegate.schedule(function(Pn){Jt.runGuarded(()=>{ge.apply(this,[Pn])})},tt,Et)}}class js{constructor(ge){this.zone=ge,this.task=null}call(ge,tt){const Et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)),tt.pipe((0,to.b)({next:Et,complete:Et,error:Et})).subscribe(ge).add(Et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ho=(()=>{class oe{constructor(tt){this.ngZone=tt,this.outsideAngular=tt.runOutsideAngular(()=>new gs(Zone.current)),this.insideAngular=tt.run(()=>new gs(Zone.current,jo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return oe.\u0275fac=function(tt){return new(tt||oe)(I.LFG(I.R0b))},oe.\u0275prov=I.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();function ms(){const oe=globalThis.\u0275AngularFireScheduler;if(!oe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return oe}function Ti(oe){return ms().ngZone.runOutsideAngular(()=>oe())}function Vs(oe){return ms().ngZone.run(()=>oe())}function G(oe){return oe.pipe((0,Ms.QV)(ms().outsideAngular))}function $(oe){return ms(),function(oe){return function(tt){return(tt=tt.lift(new js(oe.ngZone))).pipe((0,Ws.R)(oe.outsideAngular),(0,Ms.QV)(oe.insideAngular))}}(ms())(oe)}const at=(oe,ge)=>function(){const Et=arguments;return ge&&setTimeout(()=>{"scheduled"===ge.state&&ge.invoke()},10),Vs(()=>oe.apply(void 0,Et))},Vt=(oe,ge)=>function(){let tt;const Et=arguments;for(let sn=0;sn<arguments.length;sn++)"function"==typeof Et[sn]&&(ge&&(tt||(tt=Vs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)))),Et[sn]=at(Et[sn],tt));const Jt=Ti(()=>oe.apply(this,Et));if(!ge){if(Jt instanceof ba.y){const sn=ms();return Jt.pipe((0,Ws.R)(sn.outsideAngular),(0,Ms.QV)(sn.insideAngular))}return Vs(()=>Jt)}return Jt instanceof ba.y?Jt.pipe($):Jt instanceof Promise?Vs(()=>new Promise((sn,Pn)=>Jt.then(Un=>Vs(()=>sn(Un)),Un=>Vs(()=>Pn(Un))))):"function"==typeof Jt&&tt?function(){return setTimeout(()=>{tt&&"scheduled"===tt.state&&tt.invoke()},10),Jt.apply(this,arguments)}:Vs(()=>Jt)}},2458:(un,ht,U)=>{"use strict";U.d(ht,{rD:()=>vr,K7:()=>Hn,HF:()=>Bt,BQ:()=>Je,ey:()=>Fe,Ng:()=>ze,CB:()=>Ke,jH:()=>Oe,pj:()=>Qe,Kr:()=>He,Id:()=>rt,FD:()=>Tt,sb:()=>it});var I=U(3018),o=U(4765),Q=U(946);const Ve=new I.GfV("12.2.13");var Ne=U(8583),_e=U(521),xe=U(9490),Ee=U(9765),ye=U(6237),se=U(6461);function ve(ne,Me){if(1&ne&&I._UZ(0,"mat-pseudo-checkbox",4),2&ne){const me=I.oxw();I.Q6J("state",me.selected?"checked":"unchecked")("disabled",me.disabled)}}function Be(ne,Me){if(1&ne&&(I.TgZ(0,"span",5),I._uU(1),I.qZA()),2&ne){const me=I.oxw();I.xp6(1),I.hij("(",me.group.label,")")}}const $e=["*"],Wt=new I.GfV("12.2.13"),At=new I.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Lt,Je=(()=>{class ne{constructor(me,et,on){this._hasDoneGlobalChecks=!1,this._document=on,me._applyBodyHighContrastModeCssClasses(),this._sanityChecks=et,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(me){return!(!(0,I.X6Q)()||(0,_e.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[me])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const me=this._document.createElement("div");me.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(me);const et=getComputedStyle(me);et&&"none"!==et.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(me)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Wt.full!==Ve.full&&console.warn("The Angular Material version ("+Wt.full+") does not match the Angular CDK version ("+Ve.full+").\nPlease ensure the versions of these two packages exactly match.")}}return ne.\u0275fac=function(me){return new(me||ne)(I.LFG(o.qm),I.LFG(At,8),I.LFG(Ne.K0))},ne.\u0275mod=I.oAB({type:ne}),ne.\u0275inj=I.cJS({imports:[[Q.vT],Q.vT]}),ne})();function rt(ne){return class extends ne{constructor(...Me){super(...Me),this._disabled=!1}get disabled(){return this._disabled}set disabled(Me){this._disabled=(0,xe.Ig)(Me)}}}function Qe(ne,Me){return class extends ne{constructor(...me){super(...me),this.defaultColor=Me,this.color=Me}get color(){return this._color}set color(me){const et=me||this.defaultColor;et!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),et&&this._elementRef.nativeElement.classList.add(`mat-${et}`),this._color=et)}}}function He(ne){return class extends ne{constructor(...Me){super(...Me),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Me){this._disableRipple=(0,xe.Ig)(Me)}}}function it(ne,Me=0){return class extends ne{constructor(...me){super(...me),this._tabIndex=Me,this.defaultTabIndex=Me}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(me){this._tabIndex=null!=me?(0,xe.su)(me):this.defaultTabIndex}}}function Tt(ne){return class extends ne{constructor(...Me){super(...Me),this.stateChanges=new Ee.xQ,this.errorState=!1}updateErrorState(){const Me=this.errorState,wn=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);wn!==Me&&(this.errorState=wn,this.stateChanges.next())}}}try{Lt="undefined"!=typeof Intl}catch(ne){Lt=!1}let vr=(()=>{class ne{isErrorState(me,et){return!!(me&&me.invalid&&(me.touched||et&&et.submitted))}}return ne.\u0275fac=function(me){return new(me||ne)},ne.\u0275prov=I.Yz7({factory:function(){return new ne},token:ne,providedIn:"root"}),ne})();class Yn{constructor(Me,me,et){this._renderer=Me,this.element=me,this.config=et,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const br={enterDuration:225,exitDuration:150},Rr=(0,_e.i$)({passive:!0}),qt=["mousedown","touchstart"],Qt=["mouseup","mouseleave","touchend","touchcancel"];class Se{constructor(Me,me,et,on){this._target=Me,this._ngZone=me,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,on.isBrowser&&(this._containerElement=(0,xe.fI)(et))}fadeInRipple(Me,me,et={}){const on=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),wn=Object.assign(Object.assign({},br),et.animation);et.centered&&(Me=on.left+on.width/2,me=on.top+on.height/2);const gt=et.radius||function(ne,Me,me){const et=Math.max(Math.abs(ne-me.left),Math.abs(ne-me.right)),on=Math.max(Math.abs(Me-me.top),Math.abs(Me-me.bottom));return Math.sqrt(et*et+on*on)}(Me,me,on),X=Me-on.left,z=me-on.top,H=wn.enterDuration,fe=document.createElement("div");fe.classList.add("mat-ripple-element"),fe.style.left=X-gt+"px",fe.style.top=z-gt+"px",fe.style.height=2*gt+"px",fe.style.width=2*gt+"px",null!=et.color&&(fe.style.backgroundColor=et.color),fe.style.transitionDuration=`${H}ms`,this._containerElement.appendChild(fe),window.getComputedStyle(fe).getPropertyValue("opacity"),fe.style.transform="scale(1)";const Ue=new Yn(this,fe,et);return Ue.state=0,this._activeRipples.add(Ue),et.persistent||(this._mostRecentTransientRipple=Ue),this._runTimeoutOutsideZone(()=>{const Ft=Ue===this._mostRecentTransientRipple;Ue.state=1,!et.persistent&&(!Ft||!this._isPointerDown)&&Ue.fadeOut()},H),Ue}fadeOutRipple(Me){const me=this._activeRipples.delete(Me);if(Me===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!me)return;const et=Me.element,on=Object.assign(Object.assign({},br),Me.config.animation);et.style.transitionDuration=`${on.exitDuration}ms`,et.style.opacity="0",Me.state=2,this._runTimeoutOutsideZone(()=>{Me.state=3,et.parentNode.removeChild(et)},on.exitDuration)}fadeOutAll(){this._activeRipples.forEach(Me=>Me.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(Me=>{Me.config.persistent||Me.fadeOut()})}setupTriggerEvents(Me){const me=(0,xe.fI)(Me);!me||me===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=me,this._registerEvents(qt))}handleEvent(Me){"mousedown"===Me.type?this._onMousedown(Me):"touchstart"===Me.type?this._onTouchStart(Me):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Qt),this._pointerUpEventsRegistered=!0)}_onMousedown(Me){const me=(0,o.X6)(Me),et=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!me&&!et&&(this._isPointerDown=!0,this.fadeInRipple(Me.clientX,Me.clientY,this._target.rippleConfig))}_onTouchStart(Me){if(!this._target.rippleDisabled&&!(0,o.yG)(Me)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const me=Me.changedTouches;for(let et=0;et<me.length;et++)this.fadeInRipple(me[et].clientX,me[et].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(Me=>{!Me.config.persistent&&(1===Me.state||Me.config.terminateOnPointerUp&&0===Me.state)&&Me.fadeOut()}))}_runTimeoutOutsideZone(Me,me=0){this._ngZone.runOutsideAngular(()=>setTimeout(Me,me))}_registerEvents(Me){this._ngZone.runOutsideAngular(()=>{Me.forEach(me=>{this._triggerElement.addEventListener(me,this,Rr)})})}_removeTriggerEvents(){this._triggerElement&&(qt.forEach(Me=>{this._triggerElement.removeEventListener(Me,this,Rr)}),this._pointerUpEventsRegistered&&Qt.forEach(Me=>{this._triggerElement.removeEventListener(Me,this,Rr)}))}}const he=new I.OlP("mat-ripple-global-options");let Le=(()=>{class ne{constructor(me,et,on,wn,gt){this._elementRef=me,this._animationMode=gt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=wn||{},this._rippleRenderer=new Se(this,et,me,on)}get disabled(){return this._disabled}set disabled(me){me&&this.fadeOutAllNonPersistent(),this._disabled=me,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(me){this._trigger=me,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(me,et=0,on){return"number"==typeof me?this._rippleRenderer.fadeInRipple(me,et,Object.assign(Object.assign({},this.rippleConfig),on)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),me))}}return ne.\u0275fac=function(me){return new(me||ne)(I.Y36(I.SBq),I.Y36(I.R0b),I.Y36(_e.t4),I.Y36(he,8),I.Y36(ye.Qb,8))},ne.\u0275dir=I.lG2({type:ne,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(me,et){2&me&&I.ekj("mat-ripple-unbounded",et.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),ne})(),pt=(()=>{class ne{}return ne.\u0275fac=function(me){return new(me||ne)},ne.\u0275mod=I.oAB({type:ne}),ne.\u0275inj=I.cJS({imports:[[Je,_e.ud],Je]}),ne})(),yt=(()=>{class ne{constructor(me){this._animationMode=me,this.state="unchecked",this.disabled=!1}}return ne.\u0275fac=function(me){return new(me||ne)(I.Y36(ye.Qb,8))},ne.\u0275cmp=I.Xpm({type:ne,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(me,et){2&me&&I.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===et.state)("mat-pseudo-checkbox-checked","checked"===et.state)("mat-pseudo-checkbox-disabled",et.disabled)("_mat-animation-noopable","NoopAnimations"===et._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(me,et){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),ne})(),Ct=(()=>{class ne{}return ne.\u0275fac=function(me){return new(me||ne)},ne.\u0275mod=I.oAB({type:ne}),ne.\u0275inj=I.cJS({imports:[[Je]]}),ne})();const Bt=new I.OlP("MAT_OPTION_PARENT_COMPONENT"),Tn=rt(class{});let ar=0,dr=(()=>{class ne extends Tn{constructor(me){var et;super(),this._labelId="mat-optgroup-label-"+ar++,this._inert=null!==(et=null==me?void 0:me.inertGroups)&&void 0!==et&&et}}return ne.\u0275fac=function(me){return new(me||ne)(I.Y36(Bt,8))},ne.\u0275dir=I.lG2({type:ne,inputs:{label:"label"},features:[I.qOj]}),ne})();const Hn=new I.OlP("MatOptgroup");let Er=0;class Zn{constructor(Me,me=!1){this.source=Me,this.isUserInput=me}}let zr=(()=>{class ne{constructor(me,et,on,wn){this._element=me,this._changeDetectorRef=et,this._parent=on,this.group=wn,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Er++,this.onSelectionChange=new I.vpe,this._stateChanges=new Ee.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(me){this._disabled=(0,xe.Ig)(me)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(me,et){const on=this._getHostElement();"function"==typeof on.focus&&on.focus(et)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(me){(me.keyCode===se.K5||me.keyCode===se.L_)&&!(0,se.Vb)(me)&&(this._selectViaInteraction(),me.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const me=this.viewValue;me!==this._mostRecentViewValue&&(this._mostRecentViewValue=me,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(me=!1){this.onSelectionChange.emit(new Zn(this,me))}}return ne.\u0275fac=function(me){return new(me||ne)(I.Y36(I.SBq),I.Y36(I.sBO),I.Y36(void 0),I.Y36(dr))},ne.\u0275dir=I.lG2({type:ne,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),ne})(),Fe=(()=>{class ne extends zr{constructor(me,et,on,wn){super(me,et,on,wn)}}return ne.\u0275fac=function(me){return new(me||ne)(I.Y36(I.SBq),I.Y36(I.sBO),I.Y36(Bt,8),I.Y36(Hn,8))},ne.\u0275cmp=I.Xpm({type:ne,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(me,et){1&me&&I.NdJ("click",function(){return et._selectViaInteraction()})("keydown",function(wn){return et._handleKeydown(wn)}),2&me&&(I.Ikx("id",et.id),I.uIk("tabindex",et._getTabIndex())("aria-selected",et._getAriaSelected())("aria-disabled",et.disabled.toString()),I.ekj("mat-selected",et.selected)("mat-option-multiple",et.multiple)("mat-active",et.active)("mat-option-disabled",et.disabled))},exportAs:["matOption"],features:[I.qOj],ngContentSelectors:$e,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(me,et){1&me&&(I.F$t(),I.YNc(0,ve,1,2,"mat-pseudo-checkbox",0),I.TgZ(1,"span",1),I.Hsn(2),I.qZA(),I.YNc(3,Be,2,1,"span",2),I._UZ(4,"div",3)),2&me&&(I.Q6J("ngIf",et.multiple),I.xp6(3),I.Q6J("ngIf",et.group&&et.group._inert),I.xp6(1),I.Q6J("matRippleTrigger",et._getHostElement())("matRippleDisabled",et.disabled||et.disableRipple))},directives:[Ne.O5,Le,yt],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),ne})();function Ke(ne,Me,me){if(me.length){let et=Me.toArray(),on=me.toArray(),wn=0;for(let gt=0;gt<ne+1;gt++)et[gt].group&&et[gt].group===on[wn]&&wn++;return wn}return 0}function Oe(ne,Me,me,et){return ne<me?ne:ne+Me>me+et?Math.max(0,ne-et+Me):me}let ze=(()=>{class ne{}return ne.\u0275fac=function(me){return new(me||ne)},ne.\u0275mod=I.oAB({type:ne}),ne.\u0275inj=I.cJS({imports:[[pt,Ne.ez,Je,Ct]]}),ne})()},6237:(un,ht,U)=>{"use strict";U.d(ht,{Qb:()=>ys,PW:()=>ln});var I=U(3018),o=U(9075),Q=U(7238);function Ve(){return"undefined"!=typeof window&&void 0!==window.document}function Ne(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _e(re){switch(re.length){case 0:return new Q.ZN;case 1:return re[0];default:return new Q.ZE(re)}}function xe(re,C,A,B,ie={},we={}){const We=[],lt=[];let xt=-1,Kt=null;if(B.forEach(Cn=>{const Ln=Cn.offset,ir=Ln==xt,ei=ir&&Kt||{};Object.keys(Cn).forEach(cr=>{let pr=cr,Kr=Cn[cr];if("offset"!==cr)switch(pr=C.normalizePropertyName(pr,We),Kr){case Q.k1:Kr=ie[cr];break;case Q.l3:Kr=we[cr];break;default:Kr=C.normalizeStyleValue(cr,pr,Kr,We)}ei[pr]=Kr}),ir||lt.push(ei),Kt=ei,xt=Ln}),We.length){const Cn="\n - ";throw new Error(`Unable to animate due to the following errors:${Cn}${We.join(Cn)}`)}return lt}function Ee(re,C,A,B){switch(C){case"start":re.onStart(()=>B(A&&ye(A,"start",re)));break;case"done":re.onDone(()=>B(A&&ye(A,"done",re)));break;case"destroy":re.onDestroy(()=>B(A&&ye(A,"destroy",re)))}}function ye(re,C,A){const B=A.totalTime,we=se(re.element,re.triggerName,re.fromState,re.toState,C||re.phaseName,null==B?re.totalTime:B,!!A.disabled),We=re._data;return null!=We&&(we._data=We),we}function se(re,C,A,B,ie="",we=0,We){return{element:re,triggerName:C,fromState:A,toState:B,phaseName:ie,totalTime:we,disabled:!!We}}function ae(re,C,A){let B;return re instanceof Map?(B=re.get(C),B||re.set(C,B=A)):(B=re[C],B||(B=re[C]=A)),B}function Te(re){const C=re.indexOf(":");return[re.substring(1,C),re.substr(C+1)]}let ve=(re,C)=>!1,$e=(re,C)=>!1,ce=(re,C,A)=>[];const Wt=Ne();(Wt||"undefined"!=typeof Element)&&(ve=Ve()?(re,C)=>{for(;C&&C!==document.documentElement;){if(C===re)return!0;C=C.parentNode||C.host}return!1}:(re,C)=>re.contains(C),$e=(()=>{if(Wt||Element.prototype.matches)return(re,C)=>re.matches(C);{const re=Element.prototype,C=re.matchesSelector||re.mozMatchesSelector||re.msMatchesSelector||re.oMatchesSelector||re.webkitMatchesSelector;return C?(A,B)=>C.apply(A,[B]):$e}})(),ce=(re,C,A)=>{let B=[];if(A){const ie=re.querySelectorAll(C);for(let we=0;we<ie.length;we++)B.push(ie[we])}else{const ie=re.querySelector(C);ie&&B.push(ie)}return B});let At=null,Je=!1;function rt(re){At||(At=("undefined"!=typeof document?document.body:null)||{},Je=!!At.style&&"WebkitAppearance"in At.style);let C=!0;return At.style&&!function(re){return"ebkit"==re.substring(1,6)}(re)&&(C=re in At.style,!C&&Je&&(C="Webkit"+re.charAt(0).toUpperCase()+re.substr(1)in At.style)),C}const He=$e,it=ve,Tt=ce;function st(re){const C={};return Object.keys(re).forEach(A=>{const B=A.replace(/([a-z])([A-Z])/g,"$1-$2");C[B]=re[A]}),C}let Xe=(()=>{class re{validateStyleProperty(A){return rt(A)}matchesElement(A,B){return He(A,B)}containsElement(A,B){return it(A,B)}query(A,B,ie){return Tt(A,B,ie)}computeStyle(A,B,ie){return ie||""}animate(A,B,ie,we,We,lt=[],xt){return new Q.ZN(ie,we)}}return re.\u0275fac=function(A){return new(A||re)},re.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac}),re})(),ut=(()=>{class re{}return re.NOOP=new Xe,re})();const vn="ng-enter",Dn="ng-leave",Bn="ng-trigger",Tr=".ng-trigger",_r="ng-animating",xr=".ng-animating";function hn(re){if("number"==typeof re)return re;const C=re.match(/^(-?[\.\d]+)(m?s)/);return!C||C.length<2?0:bn(parseFloat(C[1]),C[2])}function bn(re,C){return"s"===C?1e3*re:re}function tr(re,C,A){return re.hasOwnProperty("duration")?re:function(re,C,A){let ie,we=0,We="";if("string"==typeof re){const lt=re.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===lt)return C.push(`The provided timing value "${re}" is invalid.`),{duration:0,delay:0,easing:""};ie=bn(parseFloat(lt[1]),lt[2]);const xt=lt[3];null!=xt&&(we=bn(parseFloat(xt),lt[4]));const Kt=lt[5];Kt&&(We=Kt)}else ie=re;if(!A){let lt=!1,xt=C.length;ie<0&&(C.push("Duration values below 0 are not allowed for this animation step."),lt=!0),we<0&&(C.push("Delay values below 0 are not allowed for this animation step."),lt=!0),lt&&C.splice(xt,0,`The provided timing value "${re}" is invalid.`)}return{duration:ie,delay:we,easing:We}}(re,C,A)}function vr(re,C={}){return Object.keys(re).forEach(A=>{C[A]=re[A]}),C}function Gn(re,C,A={}){if(C)for(let B in re)A[B]=re[B];else vr(re,A);return A}function Wn(re,C,A){return A?C+":"+A+";":""}function En(re){let C="";for(let A=0;A<re.style.length;A++){const B=re.style.item(A);C+=Wn(0,B,re.style.getPropertyValue(B))}for(const A in re.style)re.style.hasOwnProperty(A)&&!A.startsWith("_")&&(C+=Wn(0,Le(A),re.style[A]));re.setAttribute("style",C)}function Yn(re,C,A){re.style&&(Object.keys(C).forEach(B=>{const ie=he(B);A&&!A.hasOwnProperty(B)&&(A[B]=re.style[ie]),re.style[ie]=C[B]}),Ne()&&En(re))}function br(re,C){re.style&&(Object.keys(C).forEach(A=>{const B=he(A);re.style[B]=""}),Ne()&&En(re))}function Jn(re){return Array.isArray(re)?1==re.length?re[0]:(0,Q.vP)(re):re}const qt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qt(re){let C=[];if("string"==typeof re){let A;for(;A=qt.exec(re);)C.push(A[1]);qt.lastIndex=0}return C}function Se(re,C,A){const B=re.toString(),ie=B.replace(qt,(we,We)=>{let lt=C[We];return C.hasOwnProperty(We)||(A.push(`Please provide a value for the animation param ${We}`),lt=""),lt.toString()});return ie==B?re:ie}function ke(re){const C=[];let A=re.next();for(;!A.done;)C.push(A.value),A=re.next();return C}const q=/-+([a-z0-9])/g;function he(re){return re.replace(q,(...C)=>C[1].toUpperCase())}function Le(re){return re.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pt(re,C){return 0===re||0===C}function yt(re,C,A){const B=Object.keys(A);if(B.length&&C.length){let we=C[0],We=[];if(B.forEach(lt=>{we.hasOwnProperty(lt)||We.push(lt),we[lt]=A[lt]}),We.length)for(var ie=1;ie<C.length;ie++){let lt=C[ie];We.forEach(function(xt){lt[xt]=Bt(re,xt)})}}return C}function Ct(re,C,A){switch(C.type){case 7:return re.visitTrigger(C,A);case 0:return re.visitState(C,A);case 1:return re.visitTransition(C,A);case 2:return re.visitSequence(C,A);case 3:return re.visitGroup(C,A);case 4:return re.visitAnimate(C,A);case 5:return re.visitKeyframes(C,A);case 6:return re.visitStyle(C,A);case 8:return re.visitReference(C,A);case 9:return re.visitAnimateChild(C,A);case 10:return re.visitAnimateRef(C,A);case 11:return re.visitQuery(C,A);case 12:return re.visitStagger(C,A);default:throw new Error(`Unable to resolve animation metadata node #${C.type}`)}}function Bt(re,C){return window.getComputedStyle(re)[C]}function ar(re,C){const A=[];return"string"==typeof re?re.split(/\s*,\s*/).forEach(B=>function(re,C,A){if(":"==re[0]){const xt=function(re,C){switch(re){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(A,B)=>parseFloat(B)>parseFloat(A);case":decrement":return(A,B)=>parseFloat(B)<parseFloat(A);default:return C.push(`The transition alias value "${re}" is not supported`),"* => *"}}(re,A);if("function"==typeof xt)return void C.push(xt);re=xt}const B=re.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return A.push(`The provided transition expression "${re}" is not supported`),C;const ie=B[1],we=B[2],We=B[3];C.push(Zn(ie,We));"<"==we[0]&&!("*"==ie&&"*"==We)&&C.push(Zn(We,ie))}(B,A,C)):A.push(re),A}const xn=new Set(["true","1"]),Er=new Set(["false","0"]);function Zn(re,C){const A=xn.has(re)||Er.has(re),B=xn.has(C)||Er.has(C);return(ie,we)=>{let We="*"==re||re==ie,lt="*"==C||C==we;return!We&&A&&"boolean"==typeof ie&&(We=ie?xn.has(re):Er.has(re)),!lt&&B&&"boolean"==typeof we&&(lt=we?xn.has(C):Er.has(C)),We&&lt}}const Fe=new RegExp("s*:selfs*,?","g");function Ke(re,C,A){return new ze(re).build(C,A)}class ze{constructor(C){this._driver=C}build(C,A){const B=new me(A);return this._resetContextStyleTimingState(B),Ct(this,Jn(C),B)}_resetContextStyleTimingState(C){C.currentQuerySelector="",C.collectedStyles={},C.collectedStyles[""]={},C.currentTime=0}visitTrigger(C,A){let B=A.queryCount=0,ie=A.depCount=0;const we=[],We=[];return"@"==C.name.charAt(0)&&A.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),C.definitions.forEach(lt=>{if(this._resetContextStyleTimingState(A),0==lt.type){const xt=lt,Kt=xt.name;Kt.toString().split(/\s*,\s*/).forEach(Cn=>{xt.name=Cn,we.push(this.visitState(xt,A))}),xt.name=Kt}else if(1==lt.type){const xt=this.visitTransition(lt,A);B+=xt.queryCount,ie+=xt.depCount,We.push(xt)}else A.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:C.name,states:we,transitions:We,queryCount:B,depCount:ie,options:null}}visitState(C,A){const B=this.visitStyle(C.styles,A),ie=C.options&&C.options.params||null;if(B.containsDynamicStyles){const we=new Set,We=ie||{};if(B.styles.forEach(lt=>{if(on(lt)){const xt=lt;Object.keys(xt).forEach(Kt=>{Qt(xt[Kt]).forEach(Cn=>{We.hasOwnProperty(Cn)||we.add(Cn)})})}}),we.size){const lt=ke(we.values());A.errors.push(`state("${C.name}", ...) must define default values for all the following style substitutions: ${lt.join(", ")}`)}}return{type:0,name:C.name,style:B,options:ie?{params:ie}:null}}visitTransition(C,A){A.queryCount=0,A.depCount=0;const B=Ct(this,Jn(C.animation),A);return{type:1,matchers:ar(C.expr,A.errors),animation:B,queryCount:A.queryCount,depCount:A.depCount,options:gt(C.options)}}visitSequence(C,A){return{type:2,steps:C.steps.map(B=>Ct(this,B,A)),options:gt(C.options)}}visitGroup(C,A){const B=A.currentTime;let ie=0;const we=C.steps.map(We=>{A.currentTime=B;const lt=Ct(this,We,A);return ie=Math.max(ie,A.currentTime),lt});return A.currentTime=ie,{type:3,steps:we,options:gt(C.options)}}visitAnimate(C,A){const B=function(re,C){let A=null;if(re.hasOwnProperty("duration"))A=re;else if("number"==typeof re)return X(tr(re,C).duration,0,"");const B=re;if(B.split(/\s+/).some(we=>"{"==we.charAt(0)&&"{"==we.charAt(1))){const we=X(0,0,"");return we.dynamic=!0,we.strValue=B,we}return A=A||tr(B,C),X(A.duration,A.delay,A.easing)}(C.timings,A.errors);A.currentAnimateTimings=B;let ie,we=C.styles?C.styles:(0,Q.oB)({});if(5==we.type)ie=this.visitKeyframes(we,A);else{let We=C.styles,lt=!1;if(!We){lt=!0;const Kt={};B.easing&&(Kt.easing=B.easing),We=(0,Q.oB)(Kt)}A.currentTime+=B.duration+B.delay;const xt=this.visitStyle(We,A);xt.isEmptyStep=lt,ie=xt}return A.currentAnimateTimings=null,{type:4,timings:B,style:ie,options:null}}visitStyle(C,A){const B=this._makeStyleAst(C,A);return this._validateStyleAst(B,A),B}_makeStyleAst(C,A){const B=[];Array.isArray(C.styles)?C.styles.forEach(We=>{"string"==typeof We?We==Q.l3?B.push(We):A.errors.push(`The provided style string value ${We} is not allowed.`):B.push(We)}):B.push(C.styles);let ie=!1,we=null;return B.forEach(We=>{if(on(We)){const lt=We,xt=lt.easing;if(xt&&(we=xt,delete lt.easing),!ie)for(let Kt in lt)if(lt[Kt].toString().indexOf("{{")>=0){ie=!0;break}}}),{type:6,styles:B,easing:we,offset:C.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(C,A){const B=A.currentAnimateTimings;let ie=A.currentTime,we=A.currentTime;B&&we>0&&(we-=B.duration+B.delay),C.styles.forEach(We=>{"string"!=typeof We&&Object.keys(We).forEach(lt=>{if(!this._driver.validateStyleProperty(lt))return void A.errors.push(`The provided animation property "${lt}" is not a supported CSS property for animations`);const xt=A.collectedStyles[A.currentQuerySelector],Kt=xt[lt];let Cn=!0;Kt&&(we!=ie&&we>=Kt.startTime&&ie<=Kt.endTime&&(A.errors.push(`The CSS property "${lt}" that exists between the times of "${Kt.startTime}ms" and "${Kt.endTime}ms" is also being animated in a parallel animation between the times of "${we}ms" and "${ie}ms"`),Cn=!1),we=Kt.startTime),Cn&&(xt[lt]={startTime:we,endTime:ie}),A.options&&function(re,C,A){const B=C.params||{},ie=Qt(re);ie.length&&ie.forEach(we=>{B.hasOwnProperty(we)||A.push(`Unable to resolve the local animation param ${we} in the given list of values`)})}(We[lt],A.options,A.errors)})})}visitKeyframes(C,A){const B={type:5,styles:[],options:null};if(!A.currentAnimateTimings)return A.errors.push("keyframes() must be placed inside of a call to animate()"),B;let we=0;const We=[];let lt=!1,xt=!1,Kt=0;const Cn=C.steps.map(bi=>{const Si=this._makeStyleAst(bi,A);let _s=null!=Si.offset?Si.offset:function(re){if("string"==typeof re)return null;let C=null;if(Array.isArray(re))re.forEach(A=>{if(on(A)&&A.hasOwnProperty("offset")){const B=A;C=parseFloat(B.offset),delete B.offset}});else if(on(re)&&re.hasOwnProperty("offset")){const A=re;C=parseFloat(A.offset),delete A.offset}return C}(Si.styles),Or=0;return null!=_s&&(we++,Or=Si.offset=_s),xt=xt||Or<0||Or>1,lt=lt||Or<Kt,Kt=Or,We.push(Or),Si});xt&&A.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),lt&&A.errors.push("Please ensure that all keyframe offsets are in order");const Ln=C.steps.length;let ir=0;we>0&&we<Ln?A.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==we&&(ir=1/(Ln-1));const ei=Ln-1,cr=A.currentTime,pr=A.currentAnimateTimings,Kr=pr.duration;return Cn.forEach((bi,Si)=>{const _s=ir>0?Si==ei?1:ir*Si:We[Si],Or=_s*Kr;A.currentTime=cr+pr.delay+Or,pr.duration=Or,this._validateStyleAst(bi,A),bi.offset=_s,B.styles.push(bi)}),B}visitReference(C,A){return{type:8,animation:Ct(this,Jn(C.animation),A),options:gt(C.options)}}visitAnimateChild(C,A){return A.depCount++,{type:9,options:gt(C.options)}}visitAnimateRef(C,A){return{type:10,animation:this.visitReference(C.animation,A),options:gt(C.options)}}visitQuery(C,A){const B=A.currentQuerySelector,ie=C.options||{};A.queryCount++,A.currentQuery=C;const[we,We]=function(re){const C=!!re.split(/\s*,\s*/).find(A=>":self"==A);return C&&(re=re.replace(Fe,"")),re=re.replace(/@\*/g,Tr).replace(/@\w+/g,A=>Tr+"-"+A.substr(1)).replace(/:animating/g,xr),[re,C]}(C.selector);A.currentQuerySelector=B.length?B+" "+we:we,ae(A.collectedStyles,A.currentQuerySelector,{});const lt=Ct(this,Jn(C.animation),A);return A.currentQuery=null,A.currentQuerySelector=B,{type:11,selector:we,limit:ie.limit||0,optional:!!ie.optional,includeSelf:We,animation:lt,originalSelector:C.selector,options:gt(C.options)}}visitStagger(C,A){A.currentQuery||A.errors.push("stagger() can only be used inside of query()");const B="full"===C.timings?{duration:0,delay:0,easing:"full"}:tr(C.timings,A.errors,!0);return{type:12,animation:Ct(this,Jn(C.animation),A),timings:B,options:null}}}class me{constructor(C){this.errors=C,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function on(re){return!Array.isArray(re)&&"object"==typeof re}function gt(re){return re?(re=vr(re)).params&&(re.params=function(re){return re?vr(re):null}(re.params)):re={},re}function X(re,C,A){return{duration:re,delay:C,easing:A}}function z(re,C,A,B,ie,we,We=null,lt=!1){return{type:1,element:re,keyframes:C,preStyleProps:A,postStyleProps:B,duration:ie,delay:we,totalTime:ie+we,easing:We,subTimeline:lt}}class H{constructor(){this._map=new Map}consume(C){let A=this._map.get(C);return A?this._map.delete(C):A=[],A}append(C,A){let B=this._map.get(C);B||this._map.set(C,B=[]),B.push(...A)}has(C){return this._map.has(C)}clear(){this._map.clear()}}const Ft=new RegExp(":enter","g"),Sn=new RegExp(":leave","g");function Rn(re,C,A,B,ie,we={},We={},lt,xt,Kt=[]){return(new gr).buildKeyframes(re,C,A,B,ie,we,We,lt,xt,Kt)}class gr{buildKeyframes(C,A,B,ie,we,We,lt,xt,Kt,Cn=[]){Kt=Kt||new H;const Ln=new mn(C,A,Kt,ie,we,Cn,[]);Ln.options=xt,Ln.currentTimeline.setStyles([We],null,Ln.errors,xt),Ct(this,B,Ln);const ir=Ln.timelines.filter(ei=>ei.containsAnimation());if(ir.length&&Object.keys(lt).length){const ei=ir[ir.length-1];ei.allowOnlyTimelineStyles()||ei.setStyles([lt],null,Ln.errors,xt)}return ir.length?ir.map(ei=>ei.buildKeyframes()):[z(A,[],[],[],0,0,"",!1)]}visitTrigger(C,A){}visitState(C,A){}visitTransition(C,A){}visitAnimateChild(C,A){const B=A.subInstructions.consume(A.element);if(B){const ie=A.createSubContext(C.options),we=A.currentTimeline.currentTime,We=this._visitSubInstructions(B,ie,ie.options);we!=We&&A.transformIntoNewTimeline(We)}A.previousNode=C}visitAnimateRef(C,A){const B=A.createSubContext(C.options);B.transformIntoNewTimeline(),this.visitReference(C.animation,B),A.transformIntoNewTimeline(B.currentTimeline.currentTime),A.previousNode=C}_visitSubInstructions(C,A,B){let we=A.currentTimeline.currentTime;const We=null!=B.duration?hn(B.duration):null,lt=null!=B.delay?hn(B.delay):null;return 0!==We&&C.forEach(xt=>{const Kt=A.appendInstructionToTimeline(xt,We,lt);we=Math.max(we,Kt.duration+Kt.delay)}),we}visitReference(C,A){A.updateOptions(C.options,!0),Ct(this,C.animation,A),A.previousNode=C}visitSequence(C,A){const B=A.subContextCount;let ie=A;const we=C.options;if(we&&(we.params||we.delay)&&(ie=A.createSubContext(we),ie.transformIntoNewTimeline(),null!=we.delay)){6==ie.previousNode.type&&(ie.currentTimeline.snapshotCurrentStyles(),ie.previousNode=Mr);const We=hn(we.delay);ie.delayNextStep(We)}C.steps.length&&(C.steps.forEach(We=>Ct(this,We,ie)),ie.currentTimeline.applyStylesToKeyframe(),ie.subContextCount>B&&ie.transformIntoNewTimeline()),A.previousNode=C}visitGroup(C,A){const B=[];let ie=A.currentTimeline.currentTime;const we=C.options&&C.options.delay?hn(C.options.delay):0;C.steps.forEach(We=>{const lt=A.createSubContext(C.options);we&&lt.delayNextStep(we),Ct(this,We,lt),ie=Math.max(ie,lt.currentTimeline.currentTime),B.push(lt.currentTimeline)}),B.forEach(We=>A.currentTimeline.mergeTimelineCollectedStyles(We)),A.transformIntoNewTimeline(ie),A.previousNode=C}_visitTiming(C,A){if(C.dynamic){const B=C.strValue;return tr(A.params?Se(B,A.params,A.errors):B,A.errors)}return{duration:C.duration,delay:C.delay,easing:C.easing}}visitAnimate(C,A){const B=A.currentAnimateTimings=this._visitTiming(C.timings,A),ie=A.currentTimeline;B.delay&&(A.incrementTime(B.delay),ie.snapshotCurrentStyles());const we=C.style;5==we.type?this.visitKeyframes(we,A):(A.incrementTime(B.duration),this.visitStyle(we,A),ie.applyStylesToKeyframe()),A.currentAnimateTimings=null,A.previousNode=C}visitStyle(C,A){const B=A.currentTimeline,ie=A.currentAnimateTimings;!ie&&B.getCurrentStyleProperties().length&&B.forwardFrame();const we=ie&&ie.easing||C.easing;C.isEmptyStep?B.applyEmptyStep(we):B.setStyles(C.styles,we,A.errors,A.options),A.previousNode=C}visitKeyframes(C,A){const B=A.currentAnimateTimings,ie=A.currentTimeline.duration,we=B.duration,lt=A.createSubContext().currentTimeline;lt.easing=B.easing,C.styles.forEach(xt=>{lt.forwardTime((xt.offset||0)*we),lt.setStyles(xt.styles,xt.easing,A.errors,A.options),lt.applyStylesToKeyframe()}),A.currentTimeline.mergeTimelineCollectedStyles(lt),A.transformIntoNewTimeline(ie+we),A.previousNode=C}visitQuery(C,A){const B=A.currentTimeline.currentTime,ie=C.options||{},we=ie.delay?hn(ie.delay):0;we&&(6===A.previousNode.type||0==B&&A.currentTimeline.getCurrentStyleProperties().length)&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=Mr);let We=B;const lt=A.invokeQuery(C.selector,C.originalSelector,C.limit,C.includeSelf,!!ie.optional,A.errors);A.currentQueryTotal=lt.length;let xt=null;lt.forEach((Kt,Cn)=>{A.currentQueryIndex=Cn;const Ln=A.createSubContext(C.options,Kt);we&&Ln.delayNextStep(we),Kt===A.element&&(xt=Ln.currentTimeline),Ct(this,C.animation,Ln),Ln.currentTimeline.applyStylesToKeyframe(),We=Math.max(We,Ln.currentTimeline.currentTime)}),A.currentQueryIndex=0,A.currentQueryTotal=0,A.transformIntoNewTimeline(We),xt&&(A.currentTimeline.mergeTimelineCollectedStyles(xt),A.currentTimeline.snapshotCurrentStyles()),A.previousNode=C}visitStagger(C,A){const B=A.parentContext,ie=A.currentTimeline,we=C.timings,We=Math.abs(we.duration),lt=We*(A.currentQueryTotal-1);let xt=We*A.currentQueryIndex;switch(we.duration<0?"reverse":we.easing){case"reverse":xt=lt-xt;break;case"full":xt=B.currentStaggerTime}const Cn=A.currentTimeline;xt&&Cn.delayNextStep(xt);const Ln=Cn.currentTime;Ct(this,C.animation,A),A.previousNode=C,B.currentStaggerTime=ie.currentTime-Ln+(ie.startTime-B.currentTimeline.startTime)}}const Mr={};class mn{constructor(C,A,B,ie,we,We,lt,xt){this._driver=C,this.element=A,this.subInstructions=B,this._enterClassName=ie,this._leaveClassName=we,this.errors=We,this.timelines=lt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xt||new lr(this._driver,A,0),lt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(C,A){if(!C)return;const B=C;let ie=this.options;null!=B.duration&&(ie.duration=hn(B.duration)),null!=B.delay&&(ie.delay=hn(B.delay));const we=B.params;if(we){let We=ie.params;We||(We=this.options.params={}),Object.keys(we).forEach(lt=>{(!A||!We.hasOwnProperty(lt))&&(We[lt]=Se(we[lt],We,this.errors))})}}_copyOptions(){const C={};if(this.options){const A=this.options.params;if(A){const B=C.params={};Object.keys(A).forEach(ie=>{B[ie]=A[ie]})}}return C}createSubContext(C=null,A,B){const ie=A||this.element,we=new mn(this._driver,ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ie,B||0));return we.previousNode=this.previousNode,we.currentAnimateTimings=this.currentAnimateTimings,we.options=this._copyOptions(),we.updateOptions(C),we.currentQueryIndex=this.currentQueryIndex,we.currentQueryTotal=this.currentQueryTotal,we.parentContext=this,this.subContextCount++,we}transformIntoNewTimeline(C){return this.previousNode=Mr,this.currentTimeline=this.currentTimeline.fork(this.element,C),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(C,A,B){const ie={duration:null!=A?A:C.duration,delay:this.currentTimeline.currentTime+(null!=B?B:0)+C.delay,easing:""},we=new yi(this._driver,C.element,C.keyframes,C.preStyleProps,C.postStyleProps,ie,C.stretchStartingKeyframe);return this.timelines.push(we),ie}incrementTime(C){this.currentTimeline.forwardTime(this.currentTimeline.duration+C)}delayNextStep(C){C>0&&this.currentTimeline.delayNextStep(C)}invokeQuery(C,A,B,ie,we,We){let lt=[];if(ie&&lt.push(this.element),C.length>0){C=(C=C.replace(Ft,"."+this._enterClassName)).replace(Sn,"."+this._leaveClassName);let Kt=this._driver.query(this.element,C,1!=B);0!==B&&(Kt=B<0?Kt.slice(Kt.length+B,Kt.length):Kt.slice(0,B)),lt.push(...Kt)}return!we&&0==lt.length&&We.push(`\`query("${A}")\` returned zero elements. (Use \`query("${A}", { optional: true })\` if you wish to allow this.)`),lt}}class lr{constructor(C,A,B,ie){this._driver=C,this.element=A,this.startTime=B,this._elementTimelineStylesLookup=ie,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(A),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(A,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(C){const A=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||A?(this.forwardTime(this.currentTime+C),A&&this.snapshotCurrentStyles()):this.startTime+=C}fork(C,A){return this.applyStylesToKeyframe(),new lr(this._driver,C,A||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(C){this.applyStylesToKeyframe(),this.duration=C,this._loadKeyframe()}_updateStyle(C,A){this._localTimelineStyles[C]=A,this._globalTimelineStyles[C]=A,this._styleSummary[C]={time:this.currentTime,value:A}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(C){C&&(this._previousKeyframe.easing=C),Object.keys(this._globalTimelineStyles).forEach(A=>{this._backFill[A]=this._globalTimelineStyles[A]||Q.l3,this._currentKeyframe[A]=Q.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(C,A,B,ie){A&&(this._previousKeyframe.easing=A);const we=ie&&ie.params||{},We=function(re,C){const A={};let B;return re.forEach(ie=>{"*"===ie?(B=B||Object.keys(C),B.forEach(we=>{A[we]=Q.l3})):Gn(ie,!1,A)}),A}(C,this._globalTimelineStyles);Object.keys(We).forEach(lt=>{const xt=Se(We[lt],we,B);this._pendingStyles[lt]=xt,this._localTimelineStyles.hasOwnProperty(lt)||(this._backFill[lt]=this._globalTimelineStyles.hasOwnProperty(lt)?this._globalTimelineStyles[lt]:Q.l3),this._updateStyle(lt,xt)})}applyStylesToKeyframe(){const C=this._pendingStyles,A=Object.keys(C);0!=A.length&&(this._pendingStyles={},A.forEach(B=>{this._currentKeyframe[B]=C[B]}),Object.keys(this._localTimelineStyles).forEach(B=>{this._currentKeyframe.hasOwnProperty(B)||(this._currentKeyframe[B]=this._localTimelineStyles[B])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(C=>{const A=this._localTimelineStyles[C];this._pendingStyles[C]=A,this._updateStyle(C,A)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const C=[];for(let A in this._currentKeyframe)C.push(A);return C}mergeTimelineCollectedStyles(C){Object.keys(C._styleSummary).forEach(A=>{const B=this._styleSummary[A],ie=C._styleSummary[A];(!B||ie.time>B.time)&&this._updateStyle(A,ie.value)})}buildKeyframes(){this.applyStylesToKeyframe();const C=new Set,A=new Set,B=1===this._keyframes.size&&0===this.duration;let ie=[];this._keyframes.forEach((lt,xt)=>{const Kt=Gn(lt,!0);Object.keys(Kt).forEach(Cn=>{const Ln=Kt[Cn];Ln==Q.k1?C.add(Cn):Ln==Q.l3&&A.add(Cn)}),B||(Kt.offset=xt/this.duration),ie.push(Kt)});const we=C.size?ke(C.values()):[],We=A.size?ke(A.values()):[];if(B){const lt=ie[0],xt=vr(lt);lt.offset=0,xt.offset=1,ie=[lt,xt]}return z(this.element,ie,we,We,this.duration,this.startTime,this.easing,!1)}}class yi extends lr{constructor(C,A,B,ie,we,We,lt=!1){super(C,A,We.delay),this.keyframes=B,this.preStyleProps=ie,this.postStyleProps=we,this._stretchStartingKeyframe=lt,this.timings={duration:We.duration,delay:We.delay,easing:We.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let C=this.keyframes,{delay:A,duration:B,easing:ie}=this.timings;if(this._stretchStartingKeyframe&&A){const we=[],We=B+A,lt=A/We,xt=Gn(C[0],!1);xt.offset=0,we.push(xt);const Kt=Gn(C[0],!1);Kt.offset=Vr(lt),we.push(Kt);const Cn=C.length-1;for(let Ln=1;Ln<=Cn;Ln++){let ir=Gn(C[Ln],!1);ir.offset=Vr((A+ir.offset*B)/We),we.push(ir)}B=We,A=0,ie="",C=we}return z(this.element,C,this.preStyleProps,this.postStyleProps,B,A,ie,!0)}}function Vr(re,C=3){const A=Math.pow(10,C-1);return Math.round(re*A)/A}class nr{}class It extends nr{normalizePropertyName(C,A){return he(C)}normalizeStyleValue(C,A,B,ie){let we="";const We=B.toString().trim();if(kn[A]&&0!==B&&"0"!==B)if("number"==typeof B)we="px";else{const lt=B.match(/^[+-]?[\d\.]+([a-z]*)$/);lt&&0==lt[1].length&&ie.push(`Please provide a CSS unit value for ${C}:${B}`)}return We+we}}const kn=(()=>function(re){const C={};return re.forEach(A=>C[A]=!0),C}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function fr(re,C,A,B,ie,we,We,lt,xt,Kt,Cn,Ln,ir){return{type:0,element:re,triggerName:C,isRemovalTransition:ie,fromState:A,fromStyles:we,toState:B,toStyles:We,timelines:lt,queriedElements:xt,preStyleProps:Kt,postStyleProps:Cn,totalTime:Ln,errors:ir}}const ct={};class qe{constructor(C,A,B){this._triggerName=C,this.ast=A,this._stateStyles=B}match(C,A,B,ie){return function(re,C,A,B,ie){return re.some(we=>we(C,A,B,ie))}(this.ast.matchers,C,A,B,ie)}buildStyles(C,A,B){const ie=this._stateStyles["*"],we=this._stateStyles[C],We=ie?ie.buildStyles(A,B):{};return we?we.buildStyles(A,B):We}build(C,A,B,ie,we,We,lt,xt,Kt,Cn){const Ln=[],ir=this.ast.options&&this.ast.options.params||ct,cr=this.buildStyles(B,lt&&lt.params||ct,Ln),pr=xt&&xt.params||ct,Kr=this.buildStyles(ie,pr,Ln),bi=new Set,Si=new Map,_s=new Map,Or="void"===ie,oo={params:Object.assign(Object.assign({},ir),pr)},vs=Cn?[]:Rn(C,A,this.ast.animation,we,We,cr,Kr,oo,Kt,Ln);let Fi=0;if(vs.forEach(ao=>{Fi=Math.max(ao.duration+ao.delay,Fi)}),Ln.length)return fr(A,this._triggerName,B,ie,Or,cr,Kr,[],[],Si,_s,Fi,Ln);vs.forEach(ao=>{const bs=ao.element,Ua=ae(Si,bs,{});ao.preStyleProps.forEach(Go=>Ua[Go]=!0);const Ca=ae(_s,bs,{});ao.postStyleProps.forEach(Go=>Ca[Go]=!0),bs!==A&&bi.add(bs)});const Qs=ke(bi.values());return fr(A,this._triggerName,B,ie,Or,cr,Kr,vs,Qs,Si,_s,Fi)}}class bt{constructor(C,A,B){this.styles=C,this.defaultParams=A,this.normalizer=B}buildStyles(C,A){const B={},ie=vr(this.defaultParams);return Object.keys(C).forEach(we=>{const We=C[we];null!=We&&(ie[we]=We)}),this.styles.styles.forEach(we=>{if("string"!=typeof we){const We=we;Object.keys(We).forEach(lt=>{let xt=We[lt];xt.length>1&&(xt=Se(xt,ie,A));const Kt=this.normalizer.normalizePropertyName(lt,A);xt=this.normalizer.normalizeStyleValue(lt,Kt,xt,A),B[Kt]=xt})}}),B}}class rr{constructor(C,A,B){this.name=C,this.ast=A,this._normalizer=B,this.transitionFactories=[],this.states={},A.states.forEach(ie=>{this.states[ie.name]=new bt(ie.style,ie.options&&ie.options.params||{},B)}),Yr(this.states,"true","1"),Yr(this.states,"false","0"),A.transitions.forEach(ie=>{this.transitionFactories.push(new qe(C,ie,this.states))}),this.fallbackTransition=function(re,C,A){return new qe(re,{type:1,animation:{type:2,steps:[],options:null},matchers:[(We,lt)=>!0],options:null,queryCount:0,depCount:0},C)}(C,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(C,A,B,ie){return this.transitionFactories.find(We=>We.match(C,A,B,ie))||null}matchStyles(C,A,B){return this.fallbackTransition.buildStyles(C,A,B)}}function Yr(re,C,A){re.hasOwnProperty(C)?re.hasOwnProperty(A)||(re[A]=re[C]):re.hasOwnProperty(A)&&(re[C]=re[A])}const li=new H;class fi{constructor(C,A,B){this.bodyNode=C,this._driver=A,this._normalizer=B,this._animations={},this._playersById={},this.players=[]}register(C,A){const B=[],ie=Ke(this._driver,A,B);if(B.length)throw new Error(`Unable to build the animation due to the following errors: ${B.join("\n")}`);this._animations[C]=ie}_buildPlayer(C,A,B){const ie=C.element,we=xe(0,this._normalizer,0,C.keyframes,A,B);return this._driver.animate(ie,we,C.duration,C.delay,C.easing,[],!0)}create(C,A,B={}){const ie=[],we=this._animations[C];let We;const lt=new Map;if(we?(We=Rn(this._driver,A,we,vn,Dn,{},{},B,li,ie),We.forEach(Cn=>{const Ln=ae(lt,Cn.element,{});Cn.postStyleProps.forEach(ir=>Ln[ir]=null)})):(ie.push("The requested animation doesn't exist or has already been destroyed"),We=[]),ie.length)throw new Error(`Unable to create the animation due to the following errors: ${ie.join("\n")}`);lt.forEach((Cn,Ln)=>{Object.keys(Cn).forEach(ir=>{Cn[ir]=this._driver.computeStyle(Ln,ir,Q.l3)})});const Kt=_e(We.map(Cn=>{const Ln=lt.get(Cn.element);return this._buildPlayer(Cn,{},Ln)}));return this._playersById[C]=Kt,Kt.onDestroy(()=>this.destroy(C)),this.players.push(Kt),Kt}destroy(C){const A=this._getPlayer(C);A.destroy(),delete this._playersById[C];const B=this.players.indexOf(A);B>=0&&this.players.splice(B,1)}_getPlayer(C){const A=this._playersById[C];if(!A)throw new Error(`Unable to find the timeline player referenced by ${C}`);return A}listen(C,A,B,ie){const we=se(A,"","","");return Ee(this._getPlayer(C),B,we,ie),()=>{}}command(C,A,B,ie){if("register"==B)return void this.register(C,ie[0]);if("create"==B)return void this.create(C,A,ie[0]||{});const we=this._getPlayer(C);switch(B){case"play":we.play();break;case"pause":we.pause();break;case"reset":we.reset();break;case"restart":we.restart();break;case"finish":we.finish();break;case"init":we.init();break;case"setPosition":we.setPosition(parseFloat(ie[0]));break;case"destroy":this.destroy(C)}}}const _t="ng-animate-queued",Mt="ng-animate-disabled",Ht=".ng-animate-disabled",wr=[],si={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oi="__ng_removed";class pi{constructor(C,A=""){this.namespaceId=A;const B=C&&C.hasOwnProperty("value");if(this.value=null!=(re=B?C.value:C)?re:null,B){const we=vr(C);delete we.value,this.options=we}else this.options={};var re;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(C){const A=C.params;if(A){const B=this.options.params;Object.keys(A).forEach(ie=>{null==B[ie]&&(B[ie]=A[ie])})}}}const ci="void",ts=new pi(ci);class gi{constructor(C,A,B){this.id=C,this.hostElement=A,this._engine=B,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+C,cs(A,this._hostClassName)}listen(C,A,B,ie){if(!this._triggers.hasOwnProperty(A))throw new Error(`Unable to listen on the animation trigger event "${B}" because the animation trigger "${A}" doesn't exist!`);if(null==B||0==B.length)throw new Error(`Unable to listen on the animation trigger "${A}" because the provided event is undefined!`);if("start"!=(re=B)&&"done"!=re)throw new Error(`The provided animation trigger event "${B}" for the animation trigger "${A}" is not supported!`);var re;const we=ae(this._elementListeners,C,[]),We={name:A,phase:B,callback:ie};we.push(We);const lt=ae(this._engine.statesByElement,C,{});return lt.hasOwnProperty(A)||(cs(C,Bn),cs(C,Bn+"-"+A),lt[A]=ts),()=>{this._engine.afterFlush(()=>{const xt=we.indexOf(We);xt>=0&&we.splice(xt,1),this._triggers[A]||delete lt[A]})}}register(C,A){return!this._triggers[C]&&(this._triggers[C]=A,!0)}_getTrigger(C){const A=this._triggers[C];if(!A)throw new Error(`The provided animation trigger "${C}" has not been registered!`);return A}trigger(C,A,B,ie=!0){const we=this._getTrigger(A),We=new zs(this.id,A,C);let lt=this._engine.statesByElement.get(C);lt||(cs(C,Bn),cs(C,Bn+"-"+A),this._engine.statesByElement.set(C,lt={}));let xt=lt[A];const Kt=new pi(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&xt&&Kt.absorbOptions(xt.options),lt[A]=Kt,xt||(xt=ts),Kt.value!==ci&&xt.value===Kt.value){if(!function(re,C){const A=Object.keys(re),B=Object.keys(C);if(A.length!=B.length)return!1;for(let ie=0;ie<A.length;ie++){const we=A[ie];if(!C.hasOwnProperty(we)||re[we]!==C[we])return!1}return!0}(xt.params,Kt.params)){const pr=[],Kr=we.matchStyles(xt.value,xt.params,pr),bi=we.matchStyles(Kt.value,Kt.params,pr);pr.length?this._engine.reportError(pr):this._engine.afterFlush(()=>{br(C,Kr),Yn(C,bi)})}return}const ir=ae(this._engine.playersByElement,C,[]);ir.forEach(pr=>{pr.namespaceId==this.id&&pr.triggerName==A&&pr.queued&&pr.destroy()});let ei=we.matchTransition(xt.value,Kt.value,C,Kt.params),cr=!1;if(!ei){if(!ie)return;ei=we.fallbackTransition,cr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:A,transition:ei,fromState:xt,toState:Kt,player:We,isFallbackTransition:cr}),cr||(cs(C,_t),We.onStart(()=>{Ls(C,_t)})),We.onDone(()=>{let pr=this.players.indexOf(We);pr>=0&&this.players.splice(pr,1);const Kr=this._engine.playersByElement.get(C);if(Kr){let bi=Kr.indexOf(We);bi>=0&&Kr.splice(bi,1)}}),this.players.push(We),ir.push(We),We}deregister(C){delete this._triggers[C],this._engine.statesByElement.forEach((A,B)=>{delete A[C]}),this._elementListeners.forEach((A,B)=>{this._elementListeners.set(B,A.filter(ie=>ie.name!=C))})}clearElementCache(C){this._engine.statesByElement.delete(C),this._elementListeners.delete(C);const A=this._engine.playersByElement.get(C);A&&(A.forEach(B=>B.destroy()),this._engine.playersByElement.delete(C))}_signalRemovalForInnerTriggers(C,A){const B=this._engine.driver.query(C,Tr,!0);B.forEach(ie=>{if(ie[oi])return;const we=this._engine.fetchNamespacesByElement(ie);we.size?we.forEach(We=>We.triggerLeaveAnimation(ie,A,!1,!0)):this.clearElementCache(ie)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(ie=>this.clearElementCache(ie)))}triggerLeaveAnimation(C,A,B,ie){const we=this._engine.statesByElement.get(C);if(we){const We=[];if(Object.keys(we).forEach(lt=>{if(this._triggers[lt]){const xt=this.trigger(C,lt,ci,ie);xt&&We.push(xt)}}),We.length)return this._engine.markElementAsRemoved(this.id,C,!0,A),B&&_e(We).onDone(()=>this._engine.processLeaveNode(C)),!0}return!1}prepareLeaveAnimationListeners(C){const A=this._elementListeners.get(C),B=this._engine.statesByElement.get(C);if(A&&B){const ie=new Set;A.forEach(we=>{const We=we.name;if(ie.has(We))return;ie.add(We);const xt=this._triggers[We].fallbackTransition,Kt=B[We]||ts,Cn=new pi(ci),Ln=new zs(this.id,We,C);this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:We,transition:xt,fromState:Kt,toState:Cn,player:Ln,isFallbackTransition:!0})})}}removeNode(C,A){const B=this._engine;if(C.childElementCount&&this._signalRemovalForInnerTriggers(C,A),this.triggerLeaveAnimation(C,A,!0))return;let ie=!1;if(B.totalAnimations){const we=B.players.length?B.playersByQueriedElement.get(C):[];if(we&&we.length)ie=!0;else{let We=C;for(;We=We.parentNode;)if(B.statesByElement.get(We)){ie=!0;break}}}if(this.prepareLeaveAnimationListeners(C),ie)B.markElementAsRemoved(this.id,C,!1,A);else{const we=C[oi];(!we||we===si)&&(B.afterFlush(()=>this.clearElementCache(C)),B.destroyInnerAnimations(C),B._onRemovalComplete(C,A))}}insertNode(C,A){cs(C,this._hostClassName)}drainQueuedTransitions(C){const A=[];return this._queue.forEach(B=>{const ie=B.player;if(ie.destroyed)return;const we=B.element,We=this._elementListeners.get(we);We&&We.forEach(lt=>{if(lt.name==B.triggerName){const xt=se(we,B.triggerName,B.fromState.value,B.toState.value);xt._data=C,Ee(B.player,lt.phase,xt,lt.callback)}}),ie.markedForDestroy?this._engine.afterFlush(()=>{ie.destroy()}):A.push(B)}),this._queue=[],A.sort((B,ie)=>{const we=B.transition.ast.depCount,We=ie.transition.ast.depCount;return 0==we||0==We?we-We:this._engine.driver.containsElement(B.element,ie.element)?1:-1})}destroy(C){this.players.forEach(A=>A.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,C)}elementContainsData(C){let A=!1;return this._elementListeners.has(C)&&(A=!0),A=!!this._queue.find(B=>B.element===C)||A,A}}class Wr{constructor(C,A,B){this.bodyNode=C,this.driver=A,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ie,we)=>{}}_onRemovalComplete(C,A){this.onRemovalComplete(C,A)}get queuedPlayers(){const C=[];return this._namespaceList.forEach(A=>{A.players.forEach(B=>{B.queued&&C.push(B)})}),C}createNamespace(C,A){const B=new gi(C,A,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,A)?this._balanceNamespaceList(B,A):(this.newHostElements.set(A,B),this.collectEnterElement(A)),this._namespaceLookup[C]=B}_balanceNamespaceList(C,A){const B=this._namespaceList.length-1;if(B>=0){let ie=!1;for(let we=B;we>=0;we--)if(this.driver.containsElement(this._namespaceList[we].hostElement,A)){this._namespaceList.splice(we+1,0,C),ie=!0;break}ie||this._namespaceList.splice(0,0,C)}else this._namespaceList.push(C);return this.namespacesByHostElement.set(A,C),C}register(C,A){let B=this._namespaceLookup[C];return B||(B=this.createNamespace(C,A)),B}registerTrigger(C,A,B){let ie=this._namespaceLookup[C];ie&&ie.register(A,B)&&this.totalAnimations++}destroy(C,A){if(!C)return;const B=this._fetchNamespace(C);this.afterFlush(()=>{this.namespacesByHostElement.delete(B.hostElement),delete this._namespaceLookup[C];const ie=this._namespaceList.indexOf(B);ie>=0&&this._namespaceList.splice(ie,1)}),this.afterFlushAnimationsDone(()=>B.destroy(A))}_fetchNamespace(C){return this._namespaceLookup[C]}fetchNamespacesByElement(C){const A=new Set,B=this.statesByElement.get(C);if(B){const ie=Object.keys(B);for(let we=0;we<ie.length;we++){const We=B[ie[we]].namespaceId;if(We){const lt=this._fetchNamespace(We);lt&&A.add(lt)}}}return A}trigger(C,A,B,ie){if(Ci(A)){const we=this._fetchNamespace(C);if(we)return we.trigger(A,B,ie),!0}return!1}insertNode(C,A,B,ie){if(!Ci(A))return;const we=A[oi];if(we&&we.setForRemoval){we.setForRemoval=!1,we.setForMove=!0;const We=this.collectedLeaveElements.indexOf(A);We>=0&&this.collectedLeaveElements.splice(We,1)}if(C){const We=this._fetchNamespace(C);We&&We.insertNode(A,B)}ie&&this.collectEnterElement(A)}collectEnterElement(C){this.collectedEnterElements.push(C)}markElementAsDisabled(C,A){A?this.disabledNodes.has(C)||(this.disabledNodes.add(C),cs(C,Mt)):this.disabledNodes.has(C)&&(this.disabledNodes.delete(C),Ls(C,Mt))}removeNode(C,A,B,ie){if(Ci(A)){const we=C?this._fetchNamespace(C):null;if(we?we.removeNode(A,ie):this.markElementAsRemoved(C,A,!1,ie),B){const We=this.namespacesByHostElement.get(A);We&&We.id!==C&&We.removeNode(A,ie)}}else this._onRemovalComplete(A,ie)}markElementAsRemoved(C,A,B,ie){this.collectedLeaveElements.push(A),A[oi]={namespaceId:C,setForRemoval:ie,hasAnimation:B,removedBeforeQueried:!1}}listen(C,A,B,ie,we){return Ci(A)?this._fetchNamespace(C).listen(A,B,ie,we):()=>{}}_buildInstruction(C,A,B,ie,we){return C.transition.build(this.driver,C.element,C.fromState.value,C.toState.value,B,ie,C.fromState.options,C.toState.options,A,we)}destroyInnerAnimations(C){let A=this.driver.query(C,Tr,!0);A.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(A=this.driver.query(C,xr,!0),A.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(C){const A=this.playersByElement.get(C);A&&A.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(C){const A=this.playersByQueriedElement.get(C);A&&A.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(C=>{if(this.players.length)return _e(this.players).onDone(()=>C());C()})}processLeaveNode(C){const A=C[oi];if(A&&A.setForRemoval){if(C[oi]=si,A.namespaceId){this.destroyInnerAnimations(C);const B=this._fetchNamespace(A.namespaceId);B&&B.clearElementCache(C)}this._onRemovalComplete(C,A.setForRemoval)}this.driver.matchesElement(C,Ht)&&this.markElementAsDisabled(C,!1),this.driver.query(C,Ht,!0).forEach(B=>{this.markElementAsDisabled(B,!1)})}flush(C=-1){let A=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,ie)=>this._balanceNamespaceList(B,ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)cs(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{A=this._flushAnimations(B,C)}finally{for(let ie=0;ie<B.length;ie++)B[ie]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],A.length?_e(A).onDone(()=>{B.forEach(ie=>ie())}):B.forEach(ie=>ie())}}reportError(C){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${C.join("\n")}`)}_flushAnimations(C,A){const B=new H,ie=[],we=new Map,We=[],lt=new Map,xt=new Map,Kt=new Map,Cn=new Set;this.disabledNodes.forEach(Qn=>{Cn.add(Qn);const hr=this.driver.query(Qn,".ng-animate-queued",!0);for(let ur=0;ur<hr.length;ur++)Cn.add(hr[ur])});const Ln=this.bodyNode,ir=Array.from(this.statesByElement.keys()),ei=Jo(ir,this.collectedEnterElements),cr=new Map;let pr=0;ei.forEach((Qn,hr)=>{const ur=vn+pr++;cr.set(hr,ur),Qn.forEach(qr=>cs(qr,ur))});const Kr=[],bi=new Set,Si=new Set;for(let Qn=0;Qn<this.collectedLeaveElements.length;Qn++){const hr=this.collectedLeaveElements[Qn],ur=hr[oi];ur&&ur.setForRemoval&&(Kr.push(hr),bi.add(hr),ur.hasAnimation?this.driver.query(hr,".ng-star-inserted",!0).forEach(qr=>bi.add(qr)):Si.add(hr))}const _s=new Map,Or=Jo(ir,Array.from(bi));Or.forEach((Qn,hr)=>{const ur=Dn+pr++;_s.set(hr,ur),Qn.forEach(qr=>cs(qr,ur))}),C.push(()=>{ei.forEach((Qn,hr)=>{const ur=cr.get(hr);Qn.forEach(qr=>Ls(qr,ur))}),Or.forEach((Qn,hr)=>{const ur=_s.get(hr);Qn.forEach(qr=>Ls(qr,ur))}),Kr.forEach(Qn=>{this.processLeaveNode(Qn)})});const oo=[],vs=[];for(let Qn=this._namespaceList.length-1;Qn>=0;Qn--)this._namespaceList[Qn].drainQueuedTransitions(A).forEach(ur=>{const qr=ur.player,Nr=ur.element;if(oo.push(qr),this.collectedEnterElements.length){const xs=Nr[oi];if(xs&&xs.setForMove)return void qr.destroy()}const Es=!Ln||!this.driver.containsElement(Ln,Nr),Ki=_s.get(Nr),Ri=cr.get(Nr),mi=this._buildInstruction(ur,B,Ri,Ki,Es);if(mi.errors&&mi.errors.length)vs.push(mi);else{if(Es)return qr.onStart(()=>br(Nr,mi.fromStyles)),qr.onDestroy(()=>Yn(Nr,mi.toStyles)),void ie.push(qr);if(ur.isFallbackTransition)return qr.onStart(()=>br(Nr,mi.fromStyles)),qr.onDestroy(()=>Yn(Nr,mi.toStyles)),void ie.push(qr);mi.timelines.forEach(xs=>xs.stretchStartingKeyframe=!0),B.append(Nr,mi.timelines),We.push({instruction:mi,player:qr,element:Nr}),mi.queriedElements.forEach(xs=>ae(lt,xs,[]).push(qr)),mi.preStyleProps.forEach((xs,qo)=>{const lo=Object.keys(xs);if(lo.length){let co=xt.get(qo);co||xt.set(qo,co=new Set),lo.forEach(Ta=>co.add(Ta))}}),mi.postStyleProps.forEach((xs,qo)=>{const lo=Object.keys(xs);let co=Kt.get(qo);co||Kt.set(qo,co=new Set),lo.forEach(Ta=>co.add(Ta))})}});if(vs.length){const Qn=[];vs.forEach(hr=>{Qn.push(`@${hr.triggerName} has failed due to:\n`),hr.errors.forEach(ur=>Qn.push(`- ${ur}\n`))}),oo.forEach(hr=>hr.destroy()),this.reportError(Qn)}const Fi=new Map,Qs=new Map;We.forEach(Qn=>{const hr=Qn.element;B.has(hr)&&(Qs.set(hr,hr),this._beforeAnimationBuild(Qn.player.namespaceId,Qn.instruction,Fi))}),ie.forEach(Qn=>{const hr=Qn.element;this._getPreviousPlayers(hr,!1,Qn.namespaceId,Qn.triggerName,null).forEach(qr=>{ae(Fi,hr,[]).push(qr),qr.destroy()})});const ao=Kr.filter(Qn=>ba(Qn,xt,Kt)),bs=new Map;As(bs,this.driver,Si,Kt,Q.l3).forEach(Qn=>{ba(Qn,xt,Kt)&&ao.push(Qn)});const Ca=new Map;ei.forEach((Qn,hr)=>{As(Ca,this.driver,new Set(Qn),xt,Q.k1)}),ao.forEach(Qn=>{const hr=bs.get(Qn),ur=Ca.get(Qn);bs.set(Qn,Object.assign(Object.assign({},hr),ur))});const Go=[],Ba=[],ja={};We.forEach(Qn=>{const{element:hr,player:ur,instruction:qr}=Qn;if(B.has(hr)){if(Cn.has(hr))return ur.onDestroy(()=>Yn(hr,qr.toStyles)),ur.disabled=!0,ur.overrideTotalTime(qr.totalTime),void ie.push(ur);let Nr=ja;if(Qs.size>1){let Ki=hr;const Ri=[];for(;Ki=Ki.parentNode;){const mi=Qs.get(Ki);if(mi){Nr=mi;break}Ri.push(Ki)}Ri.forEach(mi=>Qs.set(mi,Nr))}const Es=this._buildAnimation(ur.namespaceId,qr,Fi,we,Ca,bs);if(ur.setRealPlayer(Es),Nr===ja)Go.push(ur);else{const Ki=this.playersByElement.get(Nr);Ki&&Ki.length&&(ur.parentPlayer=_e(Ki)),ie.push(ur)}}else br(hr,qr.fromStyles),ur.onDestroy(()=>Yn(hr,qr.toStyles)),Ba.push(ur),Cn.has(hr)&&ie.push(ur)}),Ba.forEach(Qn=>{const hr=we.get(Qn.element);if(hr&&hr.length){const ur=_e(hr);Qn.setRealPlayer(ur)}}),ie.forEach(Qn=>{Qn.parentPlayer?Qn.syncPlayerEvents(Qn.parentPlayer):Qn.destroy()});for(let Qn=0;Qn<Kr.length;Qn++){const hr=Kr[Qn],ur=hr[oi];if(Ls(hr,Dn),ur&&ur.hasAnimation)continue;let qr=[];if(lt.size){let Es=lt.get(hr);Es&&Es.length&&qr.push(...Es);let Ki=this.driver.query(hr,xr,!0);for(let Ri=0;Ri<Ki.length;Ri++){let mi=lt.get(Ki[Ri]);mi&&mi.length&&qr.push(...mi)}}const Nr=qr.filter(Es=>!Es.destroyed);Nr.length?Bs(this,hr,Nr):this.processLeaveNode(hr)}return Kr.length=0,Go.forEach(Qn=>{this.players.push(Qn),Qn.onDone(()=>{Qn.destroy();const hr=this.players.indexOf(Qn);this.players.splice(hr,1)}),Qn.play()}),Go}elementContainsData(C,A){let B=!1;const ie=A[oi];return ie&&ie.setForRemoval&&(B=!0),this.playersByElement.has(A)&&(B=!0),this.playersByQueriedElement.has(A)&&(B=!0),this.statesByElement.has(A)&&(B=!0),this._fetchNamespace(C).elementContainsData(A)||B}afterFlush(C){this._flushFns.push(C)}afterFlushAnimationsDone(C){this._whenQuietFns.push(C)}_getPreviousPlayers(C,A,B,ie,we){let We=[];if(A){const lt=this.playersByQueriedElement.get(C);lt&&(We=lt)}else{const lt=this.playersByElement.get(C);if(lt){const xt=!we||we==ci;lt.forEach(Kt=>{Kt.queued||!xt&&Kt.triggerName!=ie||We.push(Kt)})}}return(B||ie)&&(We=We.filter(lt=>!(B&&B!=lt.namespaceId||ie&&ie!=lt.triggerName))),We}_beforeAnimationBuild(C,A,B){const we=A.element,We=A.isRemovalTransition?void 0:C,lt=A.isRemovalTransition?void 0:A.triggerName;for(const xt of A.timelines){const Kt=xt.element,Cn=Kt!==we,Ln=ae(B,Kt,[]);this._getPreviousPlayers(Kt,Cn,We,lt,A.toState).forEach(ei=>{const cr=ei.getRealPlayer();cr.beforeDestroy&&cr.beforeDestroy(),ei.destroy(),Ln.push(ei)})}br(we,A.fromStyles)}_buildAnimation(C,A,B,ie,we,We){const lt=A.triggerName,xt=A.element,Kt=[],Cn=new Set,Ln=new Set,ir=A.timelines.map(cr=>{const pr=cr.element;Cn.add(pr);const Kr=pr[oi];if(Kr&&Kr.removedBeforeQueried)return new Q.ZN(cr.duration,cr.delay);const bi=pr!==xt,Si=function(re){const C=[];return Bo(re,C),C}((B.get(pr)||wr).map(Fi=>Fi.getRealPlayer())).filter(Fi=>!!Fi.element&&Fi.element===pr),_s=we.get(pr),Or=We.get(pr),oo=xe(0,this._normalizer,0,cr.keyframes,_s,Or),vs=this._buildPlayer(cr,oo,Si);if(cr.subTimeline&&ie&&Ln.add(pr),bi){const Fi=new zs(C,lt,pr);Fi.setRealPlayer(vs),Kt.push(Fi)}return vs});Kt.forEach(cr=>{ae(this.playersByQueriedElement,cr.element,[]).push(cr),cr.onDone(()=>function(re,C,A){let B;if(re instanceof Map){if(B=re.get(C),B){if(B.length){const ie=B.indexOf(A);B.splice(ie,1)}0==B.length&&re.delete(C)}}else if(B=re[C],B){if(B.length){const ie=B.indexOf(A);B.splice(ie,1)}0==B.length&&delete re[C]}return B}(this.playersByQueriedElement,cr.element,cr))}),Cn.forEach(cr=>cs(cr,_r));const ei=_e(ir);return ei.onDestroy(()=>{Cn.forEach(cr=>Ls(cr,_r)),Yn(xt,A.toStyles)}),Ln.forEach(cr=>{ae(ie,cr,[]).push(ei)}),ei}_buildPlayer(C,A,B){return A.length>0?this.driver.animate(C.element,A,C.duration,C.delay,C.easing,B):new Q.ZN(C.duration,C.delay)}}class zs{constructor(C,A,B){this.namespaceId=C,this.triggerName=A,this.element=B,this._player=new Q.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(C){this._containsRealPlayer||(this._player=C,Object.keys(this._queuedCallbacks).forEach(A=>{this._queuedCallbacks[A].forEach(B=>Ee(C,A,void 0,B))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(C.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(C){this.totalTime=C}syncPlayerEvents(C){const A=this._player;A.triggerCallback&&C.onStart(()=>A.triggerCallback("start")),C.onDone(()=>this.finish()),C.onDestroy(()=>this.destroy())}_queueEvent(C,A){ae(this._queuedCallbacks,C,[]).push(A)}onDone(C){this.queued&&this._queueEvent("done",C),this._player.onDone(C)}onStart(C){this.queued&&this._queueEvent("start",C),this._player.onStart(C)}onDestroy(C){this.queued&&this._queueEvent("destroy",C),this._player.onDestroy(C)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(C){this.queued||this._player.setPosition(C)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(C){const A=this._player;A.triggerCallback&&A.triggerCallback(C)}}function Ci(re){return re&&1===re.nodeType}function Va(re,C){const A=re.style.display;return re.style.display=null!=C?C:"none",A}function As(re,C,A,B,ie){const we=[];A.forEach(xt=>we.push(Va(xt)));const We=[];B.forEach((xt,Kt)=>{const Cn={};xt.forEach(Ln=>{const ir=Cn[Ln]=C.computeStyle(Kt,Ln,ie);(!ir||0==ir.length)&&(Kt[oi]=Gr,We.push(Kt))}),re.set(Kt,Cn)});let lt=0;return A.forEach(xt=>Va(xt,we[lt++])),We}function Jo(re,C){const A=new Map;if(re.forEach(lt=>A.set(lt,[])),0==C.length)return A;const ie=new Set(C),we=new Map;function We(lt){if(!lt)return 1;let xt=we.get(lt);if(xt)return xt;const Kt=lt.parentNode;return xt=A.has(Kt)?Kt:ie.has(Kt)?1:We(Kt),we.set(lt,xt),xt}return C.forEach(lt=>{const xt=We(lt);1!==xt&&A.get(xt).push(lt)}),A}const Xo="$$classes";function cs(re,C){if(re.classList)re.classList.add(C);else{let A=re[Xo];A||(A=re[Xo]={}),A[C]=!0}}function Ls(re,C){if(re.classList)re.classList.remove(C);else{let A=re[Xo];A&&delete A[C]}}function Bs(re,C,A){_e(A).onDone(()=>re.processLeaveNode(C))}function Bo(re,C){for(let A=0;A<re.length;A++){const B=re[A];B instanceof Q.ZE?Bo(B.players,C):C.push(B)}}function ba(re,C,A){const B=A.get(re);if(!B)return!1;let ie=C.get(re);return ie?B.forEach(we=>ie.add(we)):C.set(re,B),A.delete(re),!0}class to{constructor(C,A,B){this.bodyNode=C,this._driver=A,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(ie,we)=>{},this._transitionEngine=new Wr(C,A,B),this._timelineEngine=new fi(C,A,B),this._transitionEngine.onRemovalComplete=(ie,we)=>this.onRemovalComplete(ie,we)}registerTrigger(C,A,B,ie,we){const We=C+"-"+ie;let lt=this._triggerCache[We];if(!lt){const xt=[],Kt=Ke(this._driver,we,xt);if(xt.length)throw new Error(`The animation trigger "${ie}" has failed to build due to the following errors:\n - ${xt.join("\n - ")}`);lt=function(re,C,A){return new rr(re,C,A)}(ie,Kt,this._normalizer),this._triggerCache[We]=lt}this._transitionEngine.registerTrigger(A,ie,lt)}register(C,A){this._transitionEngine.register(C,A)}destroy(C,A){this._transitionEngine.destroy(C,A)}onInsert(C,A,B,ie){this._transitionEngine.insertNode(C,A,B,ie)}onRemove(C,A,B,ie){this._transitionEngine.removeNode(C,A,ie||!1,B)}disableAnimations(C,A){this._transitionEngine.markElementAsDisabled(C,A)}process(C,A,B,ie){if("@"==B.charAt(0)){const[we,We]=Te(B);this._timelineEngine.command(we,A,We,ie)}else this._transitionEngine.trigger(C,A,B,ie)}listen(C,A,B,ie,we){if("@"==B.charAt(0)){const[We,lt]=Te(B);return this._timelineEngine.listen(We,A,lt,we)}return this._transitionEngine.listen(C,A,B,ie,we)}flush(C=-1){this._transitionEngine.flush(C)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ms(re,C){let A=null,B=null;return Array.isArray(C)&&C.length?(A=no(C[0]),C.length>1&&(B=no(C[C.length-1]))):C&&(A=no(C)),A||B?new Ws(re,A,B):null}let Ws=(()=>{class re{constructor(A,B,ie){this._element=A,this._startStyles=B,this._endStyles=ie,this._state=0;let we=re.initialStylesByElement.get(A);we||re.initialStylesByElement.set(A,we={}),this._initialStyles=we}start(){this._state<1&&(this._startStyles&&Yn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yn(this._element,this._initialStyles),this._endStyles&&(Yn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(re.initialStylesByElement.delete(this._element),this._startStyles&&(br(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(br(this._element,this._endStyles),this._endStyles=null),Yn(this._element,this._initialStyles),this._state=3)}}return re.initialStylesByElement=new WeakMap,re})();function no(re){let C=null;const A=Object.keys(re);for(let B=0;B<A.length;B++){const ie=A[B];Io(ie)&&(C=C||{},C[ie]=re[ie])}return C}function Io(re){return"display"===re||"position"===re}const ea="animation",Ks="animationend";class Ao{constructor(C,A,B,ie,we,We,lt){this._element=C,this._name=A,this._duration=B,this._delay=ie,this._easing=we,this._fillMode=We,this._onDoneFn=lt,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=xt=>this._handleCallback(xt)}apply(){(function(re,C){const A=gs(re,"").trim();let B=0;A.length&&(function(re,C){let A=0;for(let B=0;B<re.length;B++)","===re.charAt(B)&&A++;return A}(A)+1,C=`${A}, ${C}`),Hi(re,"",C)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ys(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ji(this._element,this._name,"paused")}resume(){ji(this._element,this._name,"running")}setPosition(C){const A=xo(this._element,this._name);this._position=C*this._duration,Hi(this._element,"Delay",`-${this._position}ms`,A)}getPosition(){return this._position}_handleCallback(C){const A=C._ngTestManualTimestamp||Date.now(),B=1e3*parseFloat(C.elapsedTime.toFixed(3));C.animationName==this._name&&Math.max(A-this._startTime,0)>=this._delay&&B>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ys(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(re,C){const B=gs(re,"").split(","),ie=us(B,C);ie>=0&&(B.splice(ie,1),Hi(re,"",B.join(",")))}(this._element,this._name))}}function ji(re,C,A){Hi(re,"PlayState",A,xo(re,C))}function xo(re,C){const A=gs(re,"");return A.indexOf(",")>0?us(A.split(","),C):us([A],C)}function us(re,C){for(let A=0;A<re.length;A++)if(re[A].indexOf(C)>=0)return A;return-1}function Ys(re,C,A){A?re.removeEventListener(Ks,C):re.addEventListener(Ks,C)}function Hi(re,C,A,B){const ie=ea+C;if(null!=B){const we=re.style[ie];if(we.length){const We=we.split(",");We[B]=A,A=We.join(",")}}re.style[ie]=A}function gs(re,C){return re.style[ea+C]||""}class Ti{constructor(C,A,B,ie,we,We,lt,xt){this.element=C,this.keyframes=A,this.animationName=B,this._duration=ie,this._delay=we,this._finalStyles=lt,this._specialStyles=xt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=We||"linear",this.totalTime=ie+we,this._buildStyler()}onStart(C){this._onStartFns.push(C)}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(C=>C()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(C=>C()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(C){this._styler.setPosition(C)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ao(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(C){const A="start"==C?this._onStartFns:this._onDoneFns;A.forEach(B=>B()),A.length=0}beforeDestroy(){this.init();const C={};if(this.hasStarted()){const A=this._state>=3;Object.keys(this._finalStyles).forEach(B=>{"offset"!=B&&(C[B]=A?this._finalStyles[B]:Bt(this.element,B))})}this.currentSnapshot=C}}class Vs extends Q.ZN{constructor(C,A){super(),this.element=C,this._startingStyles={},this.__initialized=!1,this._styles=st(A)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(C=>{this._startingStyles[C]=this.element.style[C]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(C=>this.element.style.setProperty(C,this._styles[C])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(C=>{const A=this._startingStyles[C];A?this.element.style.setProperty(C,A):this.element.style.removeProperty(C)}),this._startingStyles=null,super.destroy())}}class ${constructor(){this._count=0}validateStyleProperty(C){return rt(C)}matchesElement(C,A){return He(C,A)}containsElement(C,A){return it(C,A)}query(C,A,B){return Tt(C,A,B)}computeStyle(C,A,B){return window.getComputedStyle(C)[A]}buildKeyframeElement(C,A,B){B=B.map(lt=>st(lt));let ie=`@keyframes ${A} {\n`,we="";B.forEach(lt=>{we=" ";const xt=parseFloat(lt.offset);ie+=`${we}${100*xt}% {\n`,we+=" ",Object.keys(lt).forEach(Kt=>{const Cn=lt[Kt];switch(Kt){case"offset":return;case"easing":return void(Cn&&(ie+=`${we}animation-timing-function: ${Cn};\n`));default:return void(ie+=`${we}${Kt}: ${Cn};\n`)}}),ie+=`${we}}\n`}),ie+="}\n";const We=document.createElement("style");return We.textContent=ie,We}animate(C,A,B,ie,we,We=[],lt){const xt=We.filter(Kr=>Kr instanceof Ti),Kt={};pt(B,ie)&&xt.forEach(Kr=>{let bi=Kr.currentSnapshot;Object.keys(bi).forEach(Si=>Kt[Si]=bi[Si])});const Cn=function(re){let C={};return re&&(Array.isArray(re)?re:[re]).forEach(B=>{Object.keys(B).forEach(ie=>{"offset"==ie||"easing"==ie||(C[ie]=B[ie])})}),C}(A=yt(C,A,Kt));if(0==B)return new Vs(C,Cn);const Ln="gen_css_kf_"+this._count++,ir=this.buildKeyframeElement(C,Ln,A);(function(re){var C;const A=null===(C=re.getRootNode)||void 0===C?void 0:C.call(re);return"undefined"!=typeof ShadowRoot&&A instanceof ShadowRoot?A:document.head})(C).appendChild(ir);const cr=Ms(C,A),pr=new Ti(C,A,Ln,B,ie,we,Cn,cr);return pr.onDestroy(()=>{var re;(re=ir).parentNode.removeChild(re)}),pr}}class tt{constructor(C,A,B,ie){this.element=C,this.keyframes=A,this.options=B,this._specialStyles=ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const C=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,C,this.options),this._finalKeyframe=C.length?C[C.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(C,A,B){return C.animate(A,B)}onStart(C){this._onStartFns.push(C)}onDone(C){this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(C=>C()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}setPosition(C){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=C*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const C={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(A=>{"offset"!=A&&(C[A]=this._finished?this._finalKeyframe[A]:Bt(this.element,A))}),this.currentSnapshot=C}triggerCallback(C){const A="start"==C?this._onStartFns:this._onDoneFns;A.forEach(B=>B()),A.length=0}}class Et{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sn().toString()),this._cssKeyframesDriver=new $}validateStyleProperty(C){return rt(C)}matchesElement(C,A){return He(C,A)}containsElement(C,A){return it(C,A)}query(C,A,B){return Tt(C,A,B)}computeStyle(C,A,B){return window.getComputedStyle(C)[A]}overrideWebAnimationsSupport(C){this._isNativeImpl=C}animate(C,A,B,ie,we,We=[],lt){if(!lt&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(C,A,B,ie,we,We);const Cn={duration:B,delay:ie,fill:0==ie?"both":"forwards"};we&&(Cn.easing=we);const Ln={},ir=We.filter(cr=>cr instanceof tt);pt(B,ie)&&ir.forEach(cr=>{let pr=cr.currentSnapshot;Object.keys(pr).forEach(Kr=>Ln[Kr]=pr[Kr])});const ei=Ms(C,A=yt(C,A=A.map(cr=>Gn(cr,!1)),Ln));return new tt(C,A,Cn,ei)}}function sn(){return Ve()&&Element.prototype.animate||{}}var Pn=U(8583);let Un=(()=>{class re extends Q._j{constructor(A,B){super(),this._nextAnimationId=0,this._renderer=A.createRenderer(B.body,{id:"0",encapsulation:I.ifc.None,styles:[],data:{animation:[]}})}build(A){const B=this._nextAnimationId.toString();this._nextAnimationId++;const ie=Array.isArray(A)?(0,Q.vP)(A):A;return Cr(this._renderer,null,B,"register",[ie]),new Xr(B,this._renderer)}}return re.\u0275fac=function(A){return new(A||re)(I.LFG(I.FYo),I.LFG(Pn.K0))},re.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac}),re})();class Xr extends Q.LC{constructor(C,A){super(),this._id=C,this._renderer=A}create(C,A){return new di(this._id,C,A||{},this._renderer)}}class di{constructor(C,A,B,ie){this.id=C,this.element=A,this._renderer=ie,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",B)}_listen(C,A){return this._renderer.listen(this.element,`@@${this.id}:${C}`,A)}_command(C,...A){return Cr(this._renderer,this.element,this.id,C,A)}onDone(C){this._listen("done",C)}onStart(C){this._listen("start",C)}onDestroy(C){this._listen("destroy",C)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(C){this._command("setPosition",C)}getPosition(){var C,A;return null!==(A=null===(C=this._renderer.engine.players[+this.id])||void 0===C?void 0:C.getPosition())&&void 0!==A?A:0}}function Cr(re,C,A,B,ie){return re.setProperty(C,`@@${A}:${B}`,ie)}const Di="@.disabled";let ds=(()=>{class re{constructor(A,B,ie){this.delegate=A,this.engine=B,this._zone=ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),B.onRemovalComplete=(we,We)=>{We&&We.parentNode(we)&&We.removeChild(we.parentNode,we)}}createRenderer(A,B){const we=this.delegate.createRenderer(A,B);if(!(A&&B&&B.data&&B.data.animation)){let Cn=this._rendererCache.get(we);return Cn||(Cn=new ns("",we,this.engine),this._rendererCache.set(we,Cn)),Cn}const We=B.id,lt=B.id+"-"+this._currentId;this._currentId++,this.engine.register(lt,A);const xt=Cn=>{Array.isArray(Cn)?Cn.forEach(xt):this.engine.registerTrigger(We,lt,A,Cn.name,Cn)};return B.data.animation.forEach(xt),new rs(this,lt,we,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(A,B,ie){A>=0&&A<this._microtaskId?this._zone.run(()=>B(ie)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(we=>{const[We,lt]=we;We(lt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([B,ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return re.\u0275fac=function(A){return new(A||re)(I.LFG(I.FYo),I.LFG(to),I.LFG(I.R0b))},re.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac}),re})();class ns{constructor(C,A,B){this.namespaceId=C,this.delegate=A,this.engine=B,this.destroyNode=this.delegate.destroyNode?ie=>A.destroyNode(ie):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(C,A){return this.delegate.createElement(C,A)}createComment(C){return this.delegate.createComment(C)}createText(C){return this.delegate.createText(C)}appendChild(C,A){this.delegate.appendChild(C,A),this.engine.onInsert(this.namespaceId,A,C,!1)}insertBefore(C,A,B,ie=!0){this.delegate.insertBefore(C,A,B),this.engine.onInsert(this.namespaceId,A,C,ie)}removeChild(C,A,B){this.engine.onRemove(this.namespaceId,A,this.delegate,B)}selectRootElement(C,A){return this.delegate.selectRootElement(C,A)}parentNode(C){return this.delegate.parentNode(C)}nextSibling(C){return this.delegate.nextSibling(C)}setAttribute(C,A,B,ie){this.delegate.setAttribute(C,A,B,ie)}removeAttribute(C,A,B){this.delegate.removeAttribute(C,A,B)}addClass(C,A){this.delegate.addClass(C,A)}removeClass(C,A){this.delegate.removeClass(C,A)}setStyle(C,A,B,ie){this.delegate.setStyle(C,A,B,ie)}removeStyle(C,A,B){this.delegate.removeStyle(C,A,B)}setProperty(C,A,B){"@"==A.charAt(0)&&A==Di?this.disableAnimations(C,!!B):this.delegate.setProperty(C,A,B)}setValue(C,A){this.delegate.setValue(C,A)}listen(C,A,B){return this.delegate.listen(C,A,B)}disableAnimations(C,A){this.engine.disableAnimations(C,A)}}class rs extends ns{constructor(C,A,B,ie){super(A,B,ie),this.factory=C,this.namespaceId=A}setProperty(C,A,B){"@"==A.charAt(0)?"."==A.charAt(1)&&A==Di?this.disableAnimations(C,B=void 0===B||!!B):this.engine.process(this.namespaceId,C,A.substr(1),B):this.delegate.setProperty(C,A,B)}listen(C,A,B){if("@"==A.charAt(0)){const ie=function(re){switch(re){case"body":return document.body;case"document":return document;case"window":return window;default:return re}}(C);let we=A.substr(1),We="";return"@"!=we.charAt(0)&&([we,We]=function(re){const C=re.indexOf(".");return[re.substring(0,C),re.substr(C+1)]}(we)),this.engine.listen(this.namespaceId,ie,we,We,lt=>{this.factory.scheduleListenerCallback(lt._data||-1,B,lt)})}return this.delegate.listen(C,A,B)}}let mr=(()=>{class re extends to{constructor(A,B,ie){super(A.body,B,ie)}ngOnDestroy(){this.flush()}}return re.\u0275fac=function(A){return new(A||re)(I.LFG(Pn.K0),I.LFG(ut),I.LFG(nr))},re.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac}),re})();const ys=new I.OlP("AnimationModuleType"),wa=[{provide:Q._j,useClass:Un},{provide:nr,useFactory:function(){return new It}},{provide:to,useClass:mr},{provide:I.FYo,useFactory:function(re,C,A){return new ds(re,C,A)},deps:[o.se,to,I.R0b]}],Zo=[{provide:ut,useFactory:function(){return"function"==typeof sn()?new Et:new $}},{provide:ys,useValue:"BrowserAnimations"},...wa],la=[{provide:ut,useClass:Xe},{provide:ys,useValue:"NoopAnimations"},...wa];let ln=(()=>{class re{static withConfig(A){return{ngModule:re,providers:A.disableAnimations?la:Zo}}}return re.\u0275fac=function(A){return new(A||re)},re.\u0275mod=I.oAB({type:re}),re.\u0275inj=I.cJS({providers:Zo,imports:[o.b2]}),re})()},9075:(un,ht,U)=>{"use strict";U.d(ht,{b2:()=>H,Dx:()=>Sn,q6:()=>X,se:()=>vr});var I=U(8583),o=U(3018);class Q extends I.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ve extends Q{static makeCurrent(){(0,I.HT)(new Ve)}onAndCancel(qe,Re,bt){return qe.addEventListener(Re,bt,!1),()=>{qe.removeEventListener(Re,bt,!1)}}dispatchEvent(qe,Re){qe.dispatchEvent(Re)}remove(qe){qe.parentNode&&qe.parentNode.removeChild(qe)}createElement(qe,Re){return(Re=Re||this.getDefaultDocument()).createElement(qe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(qe){return qe.nodeType===Node.ELEMENT_NODE}isShadowRoot(qe){return qe instanceof DocumentFragment}getGlobalEventTarget(qe,Re){return"window"===Re?window:"document"===Re?qe:"body"===Re?qe.body:null}getBaseHref(qe){const Re=(Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null);return null==Re?null:function(ct){xe=xe||document.createElement("a"),xe.setAttribute("href",ct);const qe=xe.pathname;return"/"===qe.charAt(0)?qe:`/${qe}`}(Re)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(qe){return(0,I.Mx)(document.cookie,qe)}}let xe,Ne=null;const ye=new o.OlP("TRANSITION_ID"),ae=[{provide:o.ip1,useFactory:function(ct,qe,Re){return()=>{Re.get(o.CZH).donePromise.then(()=>{const bt=(0,I.q)(),Pt=qe.querySelectorAll(`style[ng-transition="${ct}"]`);for(let rr=0;rr<Pt.length;rr++)bt.remove(Pt[rr])})}},deps:[ye,I.K0,o.zs3],multi:!0}];class Te{static init(){(0,o.VLi)(new Te)}addToWindow(qe){o.dqk.getAngularTestability=(bt,Pt=!0)=>{const rr=qe.findTestabilityInTree(bt,Pt);if(null==rr)throw new Error("Could not find testability for element.");return rr},o.dqk.getAllAngularTestabilities=()=>qe.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>qe.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(bt=>{const Pt=o.dqk.getAllAngularTestabilities();let rr=Pt.length,Dr=!1;const Yr=function(li){Dr=Dr||li,rr--,0==rr&&bt(Dr)};Pt.forEach(function(li){li.whenStable(Yr)})})}findTestabilityInTree(qe,Re,bt){if(null==Re)return null;const Pt=qe.getTestability(Re);return null!=Pt?Pt:bt?(0,I.q)().isShadowRoot(Re)?this.findTestabilityInTree(qe,Re.host,!0):this.findTestabilityInTree(qe,Re.parentElement,!0):null}}let ve=(()=>{class ct{build(){return new XMLHttpRequest}}return ct.\u0275fac=function(Re){return new(Re||ct)},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac}),ct})();const Xe=new o.OlP("EventManagerPlugins");let ut=(()=>{class ct{constructor(Re,bt){this._zone=bt,this._eventNameToPlugin=new Map,Re.forEach(Pt=>Pt.manager=this),this._plugins=Re.slice().reverse()}addEventListener(Re,bt,Pt){return this._findPluginFor(bt).addEventListener(Re,bt,Pt)}addGlobalEventListener(Re,bt,Pt){return this._findPluginFor(bt).addGlobalEventListener(Re,bt,Pt)}getZone(){return this._zone}_findPluginFor(Re){const bt=this._eventNameToPlugin.get(Re);if(bt)return bt;const Pt=this._plugins;for(let rr=0;rr<Pt.length;rr++){const Dr=Pt[rr];if(Dr.supports(Re))return this._eventNameToPlugin.set(Re,Dr),Dr}throw new Error(`No event manager plugin found for event ${Re}`)}}return ct.\u0275fac=function(Re){return new(Re||ct)(o.LFG(Xe),o.LFG(o.R0b))},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac}),ct})();class St{constructor(qe){this._doc=qe}addGlobalEventListener(qe,Re,bt){const Pt=(0,I.q)().getGlobalEventTarget(this._doc,qe);if(!Pt)throw new Error(`Unsupported event target ${Pt} for event ${Re}`);return this.addEventListener(Pt,Re,bt)}}let Dt=(()=>{class ct{constructor(){this._stylesSet=new Set}addStyles(Re){const bt=new Set;Re.forEach(Pt=>{this._stylesSet.has(Pt)||(this._stylesSet.add(Pt),bt.add(Pt))}),this.onStylesAdded(bt)}onStylesAdded(Re){}getAllStyles(){return Array.from(this._stylesSet)}}return ct.\u0275fac=function(Re){return new(Re||ct)},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Lt=(()=>{class ct extends Dt{constructor(Re){super(),this._doc=Re,this._hostNodes=new Map,this._hostNodes.set(Re.head,[])}_addStylesToHost(Re,bt,Pt){Re.forEach(rr=>{const Dr=this._doc.createElement("style");Dr.textContent=rr,Pt.push(bt.appendChild(Dr))})}addHost(Re){const bt=[];this._addStylesToHost(this._stylesSet,Re,bt),this._hostNodes.set(Re,bt)}removeHost(Re){const bt=this._hostNodes.get(Re);bt&&bt.forEach(vn),this._hostNodes.delete(Re)}onStylesAdded(Re){this._hostNodes.forEach((bt,Pt)=>{this._addStylesToHost(Re,Pt,bt)})}ngOnDestroy(){this._hostNodes.forEach(Re=>Re.forEach(vn))}}return ct.\u0275fac=function(Re){return new(Re||ct)(o.LFG(I.K0))},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac}),ct})();function vn(ct){(0,I.q)().remove(ct)}const Dn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vn=/%COMP%/g;function bn(ct,qe,Re){for(let bt=0;bt<qe.length;bt++){let Pt=qe[bt];Array.isArray(Pt)?bn(ct,Pt,Re):(Pt=Pt.replace(Vn,ct),Re.push(Pt))}return Re}function tr(ct){return qe=>{if("__ngUnwrap__"===qe)return ct;!1===ct(qe)&&(qe.preventDefault(),qe.returnValue=!1)}}let vr=(()=>{class ct{constructor(Re,bt,Pt){this.eventManager=Re,this.sharedStylesHost=bt,this.appId=Pt,this.rendererByCompId=new Map,this.defaultRenderer=new Fn(Re)}createRenderer(Re,bt){if(!Re||!bt)return this.defaultRenderer;switch(bt.encapsulation){case o.ifc.Emulated:{let Pt=this.rendererByCompId.get(bt.id);return Pt||(Pt=new Yn(this.eventManager,this.sharedStylesHost,bt,this.appId),this.rendererByCompId.set(bt.id,Pt)),Pt.applyToHost(Re),Pt}case 1:case o.ifc.ShadowDom:return new br(this.eventManager,this.sharedStylesHost,Re,bt);default:if(!this.rendererByCompId.has(bt.id)){const Pt=bn(bt.id,bt.styles,[]);this.sharedStylesHost.addStyles(Pt),this.rendererByCompId.set(bt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ct.\u0275fac=function(Re){return new(Re||ct)(o.LFG(ut),o.LFG(Lt),o.LFG(o.AFp))},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac}),ct})();class Fn{constructor(qe){this.eventManager=qe,this.data=Object.create(null)}destroy(){}createElement(qe,Re){return Re?document.createElementNS(Dn[Re]||Re,qe):document.createElement(qe)}createComment(qe){return document.createComment(qe)}createText(qe){return document.createTextNode(qe)}appendChild(qe,Re){qe.appendChild(Re)}insertBefore(qe,Re,bt){qe&&qe.insertBefore(Re,bt)}removeChild(qe,Re){qe&&qe.removeChild(Re)}selectRootElement(qe,Re){let bt="string"==typeof qe?document.querySelector(qe):qe;if(!bt)throw new Error(`The selector "${qe}" did not match any elements`);return Re||(bt.textContent=""),bt}parentNode(qe){return qe.parentNode}nextSibling(qe){return qe.nextSibling}setAttribute(qe,Re,bt,Pt){if(Pt){Re=Pt+":"+Re;const rr=Dn[Pt];rr?qe.setAttributeNS(rr,Re,bt):qe.setAttribute(Re,bt)}else qe.setAttribute(Re,bt)}removeAttribute(qe,Re,bt){if(bt){const Pt=Dn[bt];Pt?qe.removeAttributeNS(Pt,Re):qe.removeAttribute(`${bt}:${Re}`)}else qe.removeAttribute(Re)}addClass(qe,Re){qe.classList.add(Re)}removeClass(qe,Re){qe.classList.remove(Re)}setStyle(qe,Re,bt,Pt){Pt&(o.JOm.DashCase|o.JOm.Important)?qe.style.setProperty(Re,bt,Pt&o.JOm.Important?"important":""):qe.style[Re]=bt}removeStyle(qe,Re,bt){bt&o.JOm.DashCase?qe.style.removeProperty(Re):qe.style[Re]=""}setProperty(qe,Re,bt){qe[Re]=bt}setValue(qe,Re){qe.nodeValue=Re}listen(qe,Re,bt){return"string"==typeof qe?this.eventManager.addGlobalEventListener(qe,Re,tr(bt)):this.eventManager.addEventListener(qe,Re,tr(bt))}}class Yn extends Fn{constructor(qe,Re,bt,Pt){super(qe),this.component=bt;const rr=bn(Pt+"-"+bt.id,bt.styles,[]);Re.addStyles(rr),this.contentAttr="_ngcontent-%COMP%".replace(Vn,Pt+"-"+bt.id),this.hostAttr="_nghost-%COMP%".replace(Vn,Pt+"-"+bt.id)}applyToHost(qe){super.setAttribute(qe,this.hostAttr,"")}createElement(qe,Re){const bt=super.createElement(qe,Re);return super.setAttribute(bt,this.contentAttr,""),bt}}class br extends Fn{constructor(qe,Re,bt,Pt){super(qe),this.sharedStylesHost=Re,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rr=bn(Pt.id,Pt.styles,[]);for(let Dr=0;Dr<rr.length;Dr++){const Yr=document.createElement("style");Yr.textContent=rr[Dr],this.shadowRoot.appendChild(Yr)}}nodeOrShadowRoot(qe){return qe===this.hostEl?this.shadowRoot:qe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(qe,Re){return super.appendChild(this.nodeOrShadowRoot(qe),Re)}insertBefore(qe,Re,bt){return super.insertBefore(this.nodeOrShadowRoot(qe),Re,bt)}removeChild(qe,Re){return super.removeChild(this.nodeOrShadowRoot(qe),Re)}parentNode(qe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(qe)))}}let Jn=(()=>{class ct extends St{constructor(Re){super(Re)}supports(Re){return!0}addEventListener(Re,bt,Pt){return Re.addEventListener(bt,Pt,!1),()=>this.removeEventListener(Re,bt,Pt)}removeEventListener(Re,bt,Pt){return Re.removeEventListener(bt,Pt)}}return ct.\u0275fac=function(Re){return new(Re||ct)(o.LFG(I.K0))},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac}),ct})();const yt=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Er={alt:ct=>ct.altKey,control:ct=>ct.ctrlKey,meta:ct=>ct.metaKey,shift:ct=>ct.shiftKey};let Zn=(()=>{class ct extends St{constructor(Re){super(Re)}supports(Re){return null!=ct.parseEventName(Re)}addEventListener(Re,bt,Pt){const rr=ct.parseEventName(bt),Dr=ct.eventCallback(rr.fullKey,Pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.q)().onAndCancel(Re,rr.domEventName,Dr))}static parseEventName(Re){const bt=Re.toLowerCase().split("."),Pt=bt.shift();if(0===bt.length||"keydown"!==Pt&&"keyup"!==Pt)return null;const rr=ct._normalizeKey(bt.pop());let Dr="";if(yt.forEach(li=>{const fi=bt.indexOf(li);fi>-1&&(bt.splice(fi,1),Dr+=li+".")}),Dr+=rr,0!=bt.length||0===rr.length)return null;const Yr={};return Yr.domEventName=Pt,Yr.fullKey=Dr,Yr}static getEventFullKey(Re){let bt="",Pt=function(ct){let qe=ct.key;if(null==qe){if(qe=ct.keyIdentifier,null==qe)return"Unidentified";qe.startsWith("U+")&&(qe=String.fromCharCode(parseInt(qe.substring(2),16)),3===ct.location&&Tn.hasOwnProperty(qe)&&(qe=Tn[qe]))}return Bt[qe]||qe}(Re);return Pt=Pt.toLowerCase()," "===Pt?Pt="space":"."===Pt&&(Pt="dot"),yt.forEach(rr=>{rr!=Pt&&Er[rr](Re)&&(bt+=rr+".")}),bt+=Pt,bt}static eventCallback(Re,bt,Pt){return rr=>{ct.getEventFullKey(rr)===Re&&Pt.runGuarded(()=>bt(rr))}}static _normalizeKey(Re){return"esc"===Re?"escape":Re}}return ct.\u0275fac=function(Re){return new(Re||ct)(o.LFG(I.K0))},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac}),ct})();const X=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:I.bD},{provide:o.g9A,useValue:function(){Ve.makeCurrent(),Te.init()},multi:!0},{provide:I.K0,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),z=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Xe,useClass:Jn,multi:!0,deps:[I.K0,o.R0b,o.Lbi]},{provide:Xe,useClass:Zn,multi:!0,deps:[I.K0]},[],{provide:vr,useClass:vr,deps:[ut,Lt,o.AFp]},{provide:o.FYo,useExisting:vr},{provide:Dt,useExisting:Lt},{provide:Lt,useClass:Lt,deps:[I.K0]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:ut,useClass:ut,deps:[Xe,o.R0b]},{provide:I.JF,useClass:ve,deps:[]},[]];let H=(()=>{class ct{constructor(Re){if(Re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Re){return{ngModule:ct,providers:[{provide:o.AFp,useValue:Re.appId},{provide:ye,useExisting:o.AFp},ae]}}}return ct.\u0275fac=function(Re){return new(Re||ct)(o.LFG(ct,12))},ct.\u0275mod=o.oAB({type:ct}),ct.\u0275inj=o.cJS({providers:z,imports:[I.ez,o.hGG]}),ct})();function rn(){return new Sn((0,o.LFG)(I.K0))}let Sn=(()=>{class ct{constructor(Re){this._doc=Re}getTitle(){return this._doc.title}setTitle(Re){this._doc.title=Re||""}}return ct.\u0275fac=function(Re){return new(Re||ct)(o.LFG(I.K0))},ct.\u0275prov=(0,o.Yz7)({factory:rn,token:ct,providedIn:"root"}),ct})();"undefined"!=typeof window&&window},430:(un,ht,U)=>{"use strict";U.d(ht,{gz:()=>ci,jw:()=>dr,F0:()=>Zi,rH:()=>Gi,Od:()=>ca,yS:()=>$o,Bz:()=>Ii,lC:()=>Il,fw:()=>$});var I=U(8583),o=U(3018),Q=U(4869),Ve=U(9796),Ne=U(7393);class _e extends Ne.L{notifyNext(x,O,Z,Y,E){this.destination.next(O)}notifyError(x,O){this.destination.error(x)}notifyComplete(x){this.destination.complete()}}class xe extends Ne.L{constructor(x,O,Z){super(),this.parent=x,this.outerValue=O,this.outerIndex=Z,this.index=0}_next(x){this.parent.notifyNext(this.outerValue,x,this.outerIndex,this.index++,this)}_error(x){this.parent.notifyError(x,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ee=U(7444),ye=U(7574);function se(V,x,O,Z,Y=new xe(V,O,Z)){if(!Y.closed)return x instanceof ye.y?x.subscribe(Y):(0,Ee.s)(x)(Y)}var ae=U(6693);const Te={};class Be{constructor(x){this.resultSelector=x}call(x,O){return O.subscribe(new $e(x,this.resultSelector))}}class $e extends _e{constructor(x,O){super(x),this.resultSelector=O,this.active=0,this.values=[],this.observables=[]}_next(x){this.values.push(Te),this.observables.push(x)}_complete(){const x=this.observables,O=x.length;if(0===O)this.destination.complete();else{this.active=O,this.toRespond=O;for(let Z=0;Z<O;Z++)this.add(se(this,x[Z],void 0,Z))}}notifyComplete(x){0==(this.active-=1)&&this.destination.complete()}notifyNext(x,O,Z){const Y=this.values,M=this.toRespond?Y[Z]===Te?--this.toRespond:this.toRespond:0;Y[Z]=O,0===M&&(this.resultSelector?this._tryResultSelector(Y):this.destination.next(Y.slice()))}_tryResultSelector(x){let O;try{O=this.resultSelector.apply(this,x)}catch(Z){return void this.destination.error(Z)}this.destination.next(O)}}var Ge=U(4402),ce=U(5917),wt=U(6215),Wt=U(3410),Ot=U(8071),At=U(1439),Je=U(9193),rt=U(2441),Qe=U(9765),He=U(5345);function it(V){return function(O){const Z=new Tt(V),Y=O.lift(Z);return Z.caught=Y}}class Tt{constructor(x){this.selector=x}call(x,O){return O.subscribe(new st(x,this.selector,this.caught))}}class st extends He.Ds{constructor(x,O,Z){super(x),this.selector=O,this.caught=Z}error(x){if(!this.isStopped){let O;try{O=this.selector(x,this.caught)}catch(E){return void super.error(E)}this._unsubscribeAndRecycle();const Z=new He.IY(this);this.add(Z);const Y=(0,He.ft)(O,Z);Y!==Z&&this.add(Y)}}}var Xe=U(5435),ut=U(7108);function St(V){return function(O){return 0===V?(0,Je.c)():O.lift(new Dt(V))}}class Dt{constructor(x){if(this.total=x,this.total<0)throw new ut.W}call(x,O){return O.subscribe(new Lt(x,this.total))}}class Lt extends Ne.L{constructor(x,O){super(x),this.total=O,this.ring=new Array,this.count=0}_next(x){const O=this.ring,Z=this.total,Y=this.count++;O.length<Z?O.push(x):O[Y%Z]=x}_complete(){const x=this.destination;let O=this.count;if(O>0){const Z=this.count>=this.total?this.total:this.count,Y=this.ring;for(let E=0;E<Z;E++){const M=O++%Z;x.next(Y[M])}}x.complete()}}var vn=U(4635),Dn=U(5242),Vn=U(4487),Bn=U(5319);class _r{constructor(x){this.callback=x}call(x,O){return O.subscribe(new xr(x,this.callback))}}class xr extends Ne.L{constructor(x,O){super(x),this.add(new Bn.w(O))}}var hn=U(8002),bn=U(3190),tr=U(5257),$r=U(9761),vr=U(2145),Fn=U(4612),Gn=U(8049),Wn=U(9773),En=U(3342),Yn=U(1307),br=U(3282);class Jn{constructor(x,O){this.id=x,this.url=O}}class Rr extends Jn{constructor(x,O,Z="imperative",Y=null){super(x,O),this.navigationTrigger=Z,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qt extends Jn{constructor(x,O,Z){super(x,O),this.urlAfterRedirects=Z}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qt extends Jn{constructor(x,O,Z){super(x,O),this.reason=Z}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Se extends Jn{constructor(x,O,Z){super(x,O),this.error=Z}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ke extends Jn{constructor(x,O,Z,Y){super(x,O),this.urlAfterRedirects=Z,this.state=Y}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends Jn{constructor(x,O,Z,Y){super(x,O),this.urlAfterRedirects=Z,this.state=Y}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class he extends Jn{constructor(x,O,Z,Y,E){super(x,O),this.urlAfterRedirects=Z,this.state=Y,this.shouldActivate=E}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Le extends Jn{constructor(x,O,Z,Y){super(x,O),this.urlAfterRedirects=Z,this.state=Y}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt extends Jn{constructor(x,O,Z,Y){super(x,O),this.urlAfterRedirects=Z,this.state=Y}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yt{constructor(x){this.route=x}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ct{constructor(x){this.route=x}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bt{constructor(x){this.snapshot=x}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(x){this.snapshot=x}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(x){this.snapshot=x}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(x){this.snapshot=x}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(x,O,Z){this.routerEvent=x,this.position=O,this.anchor=Z}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xn="primary";class Er{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const O=this.params[x];return Array.isArray(O)?O[0]:O}return null}getAll(x){if(this.has(x)){const O=this.params[x];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Zn(V){return new Er(V)}const zr="ngNavigationCancelingError";function Fe(V){const x=Error("NavigationCancelingError: "+V);return x[zr]=!0,x}function Oe(V,x,O){const Z=O.path.split("/");if(Z.length>V.length||"full"===O.pathMatch&&(x.hasChildren()||Z.length<V.length))return null;const Y={};for(let E=0;E<Z.length;E++){const M=Z[E],y=V[E];if(M.startsWith(":"))Y[M.substring(1)]=y;else if(M!==y.path)return null}return{consumed:V.slice(0,Z.length),posParams:Y}}function ne(V,x){const O=V?Object.keys(V):void 0,Z=x?Object.keys(x):void 0;if(!O||!Z||O.length!=Z.length)return!1;let Y;for(let E=0;E<O.length;E++)if(Y=O[E],!Me(V[Y],x[Y]))return!1;return!0}function Me(V,x){if(Array.isArray(V)&&Array.isArray(x)){if(V.length!==x.length)return!1;const O=[...V].sort(),Z=[...x].sort();return O.every((Y,E)=>Z[E]===Y)}return V===x}function me(V){return Array.prototype.concat.apply([],V)}function et(V){return V.length>0?V[V.length-1]:null}function wn(V,x){for(const O in V)V.hasOwnProperty(O)&&x(V[O],O)}function gt(V){return(0,o.CqO)(V)?V:(0,o.QGY)(V)?(0,Ge.D)(Promise.resolve(V)):(0,ce.of)(V)}const z={exact:function Ft(V,x,O){if(!Vr(V.segments,x.segments)||!gr(V.segments,x.segments,O)||V.numberOfChildren!==x.numberOfChildren)return!1;for(const Z in x.children)if(!V.children[Z]||!Ft(V.children[Z],x.children[Z],O))return!1;return!0},subset:Sn},H={exact:function(V,x){return ne(V,x)},subset:function(V,x){return Object.keys(x).length<=Object.keys(V).length&&Object.keys(x).every(O=>Me(V[O],x[O]))},ignored:()=>!0};function fe(V,x,O){return z[O.paths](V.root,x.root,O.matrixParams)&&H[O.queryParams](V.queryParams,x.queryParams)&&!("exact"===O.fragment&&V.fragment!==x.fragment)}function Sn(V,x,O){return Rn(V,x,x.segments,O)}function Rn(V,x,O,Z){if(V.segments.length>O.length){const Y=V.segments.slice(0,O.length);return!(!Vr(Y,O)||x.hasChildren()||!gr(Y,O,Z))}if(V.segments.length===O.length){if(!Vr(V.segments,O)||!gr(V.segments,O,Z))return!1;for(const Y in x.children)if(!V.children[Y]||!Sn(V.children[Y],x.children[Y],Z))return!1;return!0}{const Y=O.slice(0,V.segments.length),E=O.slice(V.segments.length);return!!(Vr(V.segments,Y)&&gr(V.segments,Y,Z)&&V.children[xn])&&Rn(V.children[xn],x,E,Z)}}function gr(V,x,O){return x.every((Z,Y)=>H[O](V[Y].parameters,Z.parameters))}class Mr{constructor(x,O,Z){this.root=x,this.queryParams=O,this.fragment=Z}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}toString(){return je.serialize(this)}}class mn{constructor(x,O){this.segments=x,this.children=O,this.parent=null,wn(O,(Z,Y)=>Z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class lr{constructor(x,O){this.path=x,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Zn(this.parameters)),this._parameterMap}toString(){return bt(this)}}function Vr(V,x){return V.length===x.length&&V.every((O,Z)=>O.path===x[Z].path)}class ls{}class nr{parse(x){const O=new Mt(x);return new Mr(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(x){const O=`/${zt(x.root,!0)}`,Z=function(V){const x=Object.keys(V).map(O=>{const Z=V[O];return Array.isArray(Z)?Z.map(Y=>`${Zr(O)}=${Zr(Y)}`).join("&"):`${Zr(O)}=${Zr(Z)}`}).filter(O=>!!O);return x.length?`?${x.join("&")}`:""}(x.queryParams);var V;return`${O}${Z}${"string"==typeof x.fragment?`#${V=x.fragment,encodeURI(V)}`:""}`}}const je=new nr;function It(V){return V.segments.map(x=>bt(x)).join("/")}function zt(V,x){if(!V.hasChildren())return It(V);if(x){const O=V.children[xn]?zt(V.children[xn],!1):"",Z=[];return wn(V.children,(Y,E)=>{E!==xn&&Z.push(`${E}:${zt(Y,!1)}`)}),Z.length>0?`${O}(${Z.join("//")})`:O}{const O=function(V,x){let O=[];return wn(V.children,(Z,Y)=>{Y===xn&&(O=O.concat(x(Z,Y)))}),wn(V.children,(Z,Y)=>{Y!==xn&&(O=O.concat(x(Z,Y)))}),O}(V,(Z,Y)=>Y===xn?[zt(V.children[xn],!1)]:[`${Y}:${zt(Z,!1)}`]);return 1===Object.keys(V.children).length&&null!=V.children[xn]?`${It(V)}/${O[0]}`:`${It(V)}/(${O.join("//")})`}}function kn(V){return encodeURIComponent(V).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zr(V){return kn(V).replace(/%3B/gi,";")}function ct(V){return kn(V).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qe(V){return decodeURIComponent(V)}function Re(V){return qe(V.replace(/\+/g,"%20"))}function bt(V){return`${ct(V.path)}${function(V){return Object.keys(V).map(x=>`;${ct(x)}=${ct(V[x])}`).join("")}(V.parameters)}`}const Dr=/^[^\/()?;=#]+/;function Yr(V){const x=V.match(Dr);return x?x[0]:""}const li=/^[^=?&#]+/,_t=/^[^?&#]+/;class Mt{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let Z={};return this.peekStartsWith("(")&&(Z=this.parseParens(!1)),(x.length>0||Object.keys(O).length>0)&&(Z[xn]=new mn(x,O)),Z}parseSegment(){const x=Yr(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(x),new lr(qe(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const O=Yr(this.remaining);if(!O)return;this.capture(O);let Z="";if(this.consumeOptional("=")){const Y=Yr(this.remaining);Y&&(Z=Y,this.capture(Z))}x[qe(O)]=qe(Z)}parseQueryParam(x){const O=function(V){const x=V.match(li);return x?x[0]:""}(this.remaining);if(!O)return;this.capture(O);let Z="";if(this.consumeOptional("=")){const M=function(V){const x=V.match(_t);return x?x[0]:""}(this.remaining);M&&(Z=M,this.capture(Z))}const Y=Re(O),E=Re(Z);if(x.hasOwnProperty(Y)){let M=x[Y];Array.isArray(M)||(M=[M],x[Y]=M),M.push(E)}else x[Y]=E}parseParens(x){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Z=Yr(this.remaining),Y=this.remaining[Z.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new Error(`Cannot parse url '${this.url}'`);let E;Z.indexOf(":")>-1?(E=Z.substr(0,Z.indexOf(":")),this.capture(E),this.capture(":")):x&&(E=xn);const M=this.parseChildren();O[E]=1===Object.keys(M).length?M[xn]:new mn([],M),this.consumeOptional("//")}return O}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new Error(`Expected "${x}".`)}}class Ht{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const O=this.pathFromRoot(x);return O.length>1?O[O.length-2]:null}children(x){const O=yn(x,this._root);return O?O.children.map(Z=>Z.value):[]}firstChild(x){const O=yn(x,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(x){const O=jn(x,this._root);return O.length<2?[]:O[O.length-2].children.map(Y=>Y.value).filter(Y=>Y!==x)}pathFromRoot(x){return jn(x,this._root).map(O=>O.value)}}function yn(V,x){if(V===x.value)return x;for(const O of x.children){const Z=yn(V,O);if(Z)return Z}return null}function jn(V,x){if(V===x.value)return[x];for(const O of x.children){const Z=jn(V,O);if(Z.length)return Z.unshift(x),Z}return[]}class wr{constructor(x,O){this.value=x,this.children=O}toString(){return`TreeNode(${this.value})`}}function si(V){const x={};return V&&V.children.forEach(O=>x[O.value.outlet]=O),x}class Gr extends Ht{constructor(x,O){super(x),this.snapshot=O,xi(this,x)}toString(){return this.snapshot.toString()}}function oi(V,x){const O=function(V,x){const M=new Wr([],{},{},"",{},xn,x,null,V.root,-1,{});return new zs("",new wr(M,[]))}(V,x),Z=new wt.X([new lr("",{})]),Y=new wt.X({}),E=new wt.X({}),M=new wt.X({}),y=new wt.X(""),F=new ci(Z,Y,M,y,E,xn,x,O.root);return F.snapshot=O.root,new Gr(new wr(F,[]),O)}class ci{constructor(x,O,Z,Y,E,M,y,F){this.url=x,this.params=O,this.queryParams=Z,this.fragment=Y,this.data=E,this.outlet=M,this.component=y,this._futureSnapshot=F}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,hn.U)(x=>Zn(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,hn.U)(x=>Zn(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ts(V,x="emptyOnly"){const O=V.pathFromRoot;let Z=0;if("always"!==x)for(Z=O.length-1;Z>=1;){const Y=O[Z],E=O[Z-1];if(Y.routeConfig&&""===Y.routeConfig.path)Z--;else{if(E.component)break;Z--}}return function(V){return V.reduce((x,O)=>({params:Object.assign(Object.assign({},x.params),O.params),data:Object.assign(Object.assign({},x.data),O.data),resolve:Object.assign(Object.assign({},x.resolve),O._resolvedData)}),{params:{},data:{},resolve:{}})}(O.slice(Z))}class Wr{constructor(x,O,Z,Y,E,M,y,F,Ce,mt,Rt){this.url=x,this.params=O,this.queryParams=Z,this.fragment=Y,this.data=E,this.outlet=M,this.component=y,this.routeConfig=F,this._urlSegment=Ce,this._lastPathIndex=mt,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Z=>Z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zs extends Ht{constructor(x,O){super(O),this.url=x,xi(this,O)}toString(){return Bi(this._root)}}function xi(V,x){x.value._routerState=V,x.children.forEach(O=>xi(V,O))}function Bi(V){const x=V.children.length>0?` { ${V.children.map(Bi).join(", ")} } `:"";return`${V.value}${x}`}function Ci(V){if(V.snapshot){const x=V.snapshot,O=V._futureSnapshot;V.snapshot=O,ne(x.queryParams,O.queryParams)||V.queryParams.next(O.queryParams),x.fragment!==O.fragment&&V.fragment.next(O.fragment),ne(x.params,O.params)||V.params.next(O.params),function(V,x){if(V.length!==x.length)return!1;for(let O=0;O<V.length;++O)if(!ne(V[O],x[O]))return!1;return!0}(x.url,O.url)||V.url.next(O.url),ne(x.data,O.data)||V.data.next(O.data)}else V.snapshot=V._futureSnapshot,V.data.next(V._futureSnapshot.data)}function Is(V,x){const O=ne(V.params,x.params)&&function(V,x){return Vr(V,x)&&V.every((O,Z)=>ne(O.parameters,x[Z].parameters))}(V.url,x.url);return O&&!(!V.parent!=!x.parent)&&(!V.parent||Is(V.parent,x.parent))}function As(V,x,O){if(O&&V.shouldReuseRoute(x.value,O.value.snapshot)){const Z=O.value;Z._futureSnapshot=x.value;const Y=function(V,x,O){return x.children.map(Z=>{for(const Y of O.children)if(V.shouldReuseRoute(Z.value,Y.value.snapshot))return As(V,Z,Y);return As(V,Z)})}(V,x,O);return new wr(Z,Y)}{if(V.shouldAttach(x.value)){const E=V.retrieve(x.value);if(null!==E){const M=E.route;return Jo(x,M),M}}const Z=function(V){return new ci(new wt.X(V.url),new wt.X(V.params),new wt.X(V.queryParams),new wt.X(V.fragment),new wt.X(V.data),V.outlet,V.component,V)}(x.value),Y=x.children.map(E=>As(V,E));return new wr(Z,Y)}}function Jo(V,x){if(V.value.routeConfig!==x.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(V.children.length!==x.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");x.value._futureSnapshot=V.value;for(let O=0;O<V.children.length;++O)Jo(V.children[O],x.children[O])}function Ls(V){return"object"==typeof V&&null!=V&&!V.outlets&&!V.segmentPath}function Bs(V){return"object"==typeof V&&null!=V&&V.outlets}function So(V,x,O,Z,Y){let E={};return Z&&wn(Z,(M,y)=>{E[y]=Array.isArray(M)?M.map(F=>`${F}`):`${M}`}),new Mr(O.root===V?x:Bo(O.root,V,x),E,Y)}function Bo(V,x,O){const Z={};return wn(V.children,(Y,E)=>{Z[E]=Y===x?O:Bo(Y,x,O)}),new mn(V.segments,Z)}class jo{constructor(x,O,Z){if(this.isAbsolute=x,this.numberOfDoubleDots=O,this.commands=Z,x&&Z.length>0&&Ls(Z[0]))throw new Error("Root segment cannot have matrix parameters");const Y=Z.find(Bs);if(Y&&Y!==et(Z))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class to{constructor(x,O,Z){this.segmentGroup=x,this.processChildren=O,this.index=Z}}function Io(V,x,O){if(V||(V=new mn([],{})),0===V.segments.length&&V.hasChildren())return ro(V,x,O);const Z=function(V,x,O){let Z=0,Y=x;const E={match:!1,pathIndex:0,commandIndex:0};for(;Y<V.segments.length;){if(Z>=O.length)return E;const M=V.segments[Y],y=O[Z];if(Bs(y))break;const F=`${y}`,Ce=Z<O.length-1?O[Z+1]:null;if(Y>0&&void 0===F)break;if(F&&Ce&&"object"==typeof Ce&&void 0===Ce.outlets){if(!ji(F,Ce,M))return E;Z+=2}else{if(!ji(F,{},M))return E;Z++}Y++}return{match:!0,pathIndex:Y,commandIndex:Z}}(V,x,O),Y=O.slice(Z.commandIndex);if(Z.match&&Z.pathIndex<V.segments.length){const E=new mn(V.segments.slice(0,Z.pathIndex),{});return E.children[xn]=new mn(V.segments.slice(Z.pathIndex),V.children),ro(E,0,Y)}return Z.match&&0===Y.length?new mn(V.segments,{}):Z.match&&!V.hasChildren()?Ks(V,x,O):Z.match?ro(V,0,Y):Ks(V,x,O)}function ro(V,x,O){if(0===O.length)return new mn(V.segments,{});{const Z=function(V){return Bs(V[0])?V[0].outlets:{[xn]:V}}(O),Y={};return wn(Z,(E,M)=>{"string"==typeof E&&(E=[E]),null!==E&&(Y[M]=Io(V.children[M],x,E))}),wn(V.children,(E,M)=>{void 0===Z[M]&&(Y[M]=E)}),new mn(V.segments,Y)}}function Ks(V,x,O){const Z=V.segments.slice(0,x);let Y=0;for(;Y<O.length;){const E=O[Y];if(Bs(E)){const F=io(E.outlets);return new mn(Z,F)}if(0===Y&&Ls(O[0])){Z.push(new lr(V.segments[x].path,Ao(O[0]))),Y++;continue}const M=Bs(E)?E.outlets[xn]:`${E}`,y=Y<O.length-1?O[Y+1]:null;M&&y&&Ls(y)?(Z.push(new lr(M,Ao(y))),Y+=2):(Z.push(new lr(M,{})),Y++)}return new mn(Z,{})}function io(V){const x={};return wn(V,(O,Z)=>{"string"==typeof O&&(O=[O]),null!==O&&(x[Z]=Ks(new mn([],{}),0,O))}),x}function Ao(V){const x={};return wn(V,(O,Z)=>x[Z]=`${O}`),x}function ji(V,x,O){return V==O.path&&ne(x,O.parameters)}class Oo{constructor(x,O,Z,Y){this.routeReuseStrategy=x,this.futureState=O,this.currState=Z,this.forwardEvent=Y}activate(x){const O=this.futureState._root,Z=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,Z,x),Ci(this.futureState.root),this.activateChildRoutes(O,Z,x)}deactivateChildRoutes(x,O,Z){const Y=si(O);x.children.forEach(E=>{const M=E.value.outlet;this.deactivateRoutes(E,Y[M],Z),delete Y[M]}),wn(Y,(E,M)=>{this.deactivateRouteAndItsChildren(E,Z)})}deactivateRoutes(x,O,Z){const Y=x.value,E=O?O.value:null;if(Y===E)if(Y.component){const M=Z.getContext(Y.outlet);M&&this.deactivateChildRoutes(x,O,M.children)}else this.deactivateChildRoutes(x,O,Z);else E&&this.deactivateRouteAndItsChildren(O,Z)}deactivateRouteAndItsChildren(x,O){this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,O):this.deactivateRouteAndOutlet(x,O)}detachAndStoreRouteSubtree(x,O){const Z=O.getContext(x.value.outlet);if(Z&&Z.outlet){const Y=Z.outlet.detach(),E=Z.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:Y,route:x,contexts:E})}}deactivateRouteAndOutlet(x,O){const Z=O.getContext(x.value.outlet),Y=Z&&x.value.component?Z.children:O,E=si(x);for(const M of Object.keys(E))this.deactivateRouteAndItsChildren(E[M],Y);Z&&Z.outlet&&(Z.outlet.deactivate(),Z.children.onOutletDeactivated(),Z.attachRef=null,Z.resolver=null,Z.route=null)}activateChildRoutes(x,O,Z){const Y=si(O);x.children.forEach(E=>{this.activateRoutes(E,Y[E.value.outlet],Z),this.forwardEvent(new dr(E.value.snapshot))}),x.children.length&&this.forwardEvent(new Tn(x.value.snapshot))}activateRoutes(x,O,Z){const Y=x.value,E=O?O.value:null;if(Ci(Y),Y===E)if(Y.component){const M=Z.getOrCreateContext(Y.outlet);this.activateChildRoutes(x,O,M.children)}else this.activateChildRoutes(x,O,Z);else if(Y.component){const M=Z.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const y=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),M.children.onOutletReAttached(y.contexts),M.attachRef=y.componentRef,M.route=y.route.value,M.outlet&&M.outlet.attach(y.componentRef,y.route.value),xo(y.route)}else{const y=function(V){for(let x=V.parent;x;x=x.parent){const O=x.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig;if(O&&O.component)return null}return null}(Y.snapshot),F=y?y.module.componentFactoryResolver:null;M.attachRef=null,M.route=Y,M.resolver=F,M.outlet&&M.outlet.activateWith(Y,F),this.activateChildRoutes(x,null,M.children)}}else this.activateChildRoutes(x,null,Z)}}function xo(V){Ci(V.value),V.children.forEach(xo)}class Ys{constructor(x,O){this.routes=x,this.module=O}}function Hi(V){return"function"==typeof V}function js(V){return V instanceof Mr}const G=Symbol("INITIAL_VALUE");function de(){return(0,bn.w)(V=>function(...V){let x,O;return(0,Q.K)(V[V.length-1])&&(O=V.pop()),"function"==typeof V[V.length-1]&&(x=V.pop()),1===V.length&&(0,Ve.k)(V[0])&&(V=V[0]),(0,ae.n)(V,O).lift(new Be(x))}(V.map(x=>x.pipe((0,tr.q)(1),(0,$r.O)(G)))).pipe((0,vr.R)((x,O)=>{let Z=!1;return O.reduce((Y,E,M)=>Y!==G?Y:(E===G&&(Z=!0),Z||!1!==E&&M!==O.length-1&&!js(E)?Y:E),x)},G),(0,Xe.h)(x=>x!==G),(0,hn.U)(x=>js(x)?x:!0===x),(0,tr.q)(1)))}let $=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275cmp=o.Xpm({type:V,selectors:[["ng-component"]],decls:1,vars:0,template:function(O,Z){1&O&&o._UZ(0,"router-outlet")},directives:function(){return[Il]},encapsulation:2}),V})();function pe(V,x=""){for(let O=0;O<V.length;O++){const Z=V[O];at(Z,Vt(x,Z))}}function at(V,x){V.children&&pe(V.children,x)}function Vt(V,x){return x?V||x.path?V&&!x.path?`${V}/`:!V&&x.path?x.path:`${V}/${x.path}`:"":V}function oe(V){const x=V.children&&V.children.map(oe),O=x?Object.assign(Object.assign({},V),{children:x}):Object.assign({},V);return!O.component&&(x||O.loadChildren)&&O.outlet&&O.outlet!==xn&&(O.component=$),O}function ge(V){return V.outlet||xn}function tt(V,x){const O=V.filter(Z=>ge(Z)===x);return O.push(...V.filter(Z=>ge(Z)!==x)),O}const Et={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Jt(V,x,O){var Z;if(""===x.path)return"full"===x.pathMatch&&(V.hasChildren()||O.length>0)?Object.assign({},Et):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const E=(x.matcher||Oe)(O,V,x);if(!E)return Object.assign({},Et);const M={};wn(E.posParams,(F,Ce)=>{M[Ce]=F.path});const y=E.consumed.length>0?Object.assign(Object.assign({},M),E.consumed[E.consumed.length-1].parameters):M;return{matched:!0,consumedSegments:E.consumed,lastChild:E.consumed.length,parameters:y,positionalParamSegments:null!==(Z=E.posParams)&&void 0!==Z?Z:{}}}function sn(V,x,O,Z,Y="corrected"){if(O.length>0&&function(V,x,O){return O.some(Z=>Cr(V,x,Z)&&ge(Z)!==xn)}(V,O,Z)){const M=new mn(x,function(V,x,O,Z){const Y={};Y[xn]=Z,Z._sourceSegment=V,Z._segmentIndexShift=x.length;for(const E of O)if(""===E.path&&ge(E)!==xn){const M=new mn([],{});M._sourceSegment=V,M._segmentIndexShift=x.length,Y[ge(E)]=M}return Y}(V,x,Z,new mn(O,V.children)));return M._sourceSegment=V,M._segmentIndexShift=x.length,{segmentGroup:M,slicedSegments:[]}}if(0===O.length&&function(V,x,O){return O.some(Z=>Cr(V,x,Z))}(V,O,Z)){const M=new mn(V.segments,function(V,x,O,Z,Y,E){const M={};for(const y of Z)if(Cr(V,O,y)&&!Y[ge(y)]){const F=new mn([],{});F._sourceSegment=V,F._segmentIndexShift="legacy"===E?V.segments.length:x.length,M[ge(y)]=F}return Object.assign(Object.assign({},Y),M)}(V,x,O,Z,V.children,Y));return M._sourceSegment=V,M._segmentIndexShift=x.length,{segmentGroup:M,slicedSegments:O}}const E=new mn(V.segments,V.children);return E._sourceSegment=V,E._segmentIndexShift=x.length,{segmentGroup:E,slicedSegments:O}}function Cr(V,x,O){return(!(V.hasChildren()||x.length>0)||"full"!==O.pathMatch)&&""===O.path}function $n(V,x,O,Z){return!!(ge(V)===Z||Z!==xn&&Cr(x,O,V))&&("**"===V.path||Jt(x,V,O).matched)}function Di(V,x,O){return 0===x.length&&!V.children[O]}class ds{constructor(x){this.segmentGroup=x||null}}class ns{constructor(x){this.urlTree=x}}function rs(V){return new ye.y(x=>x.error(new ds(V)))}function so(V){return new ye.y(x=>x.error(new ns(V)))}function Ea(V){return new ye.y(x=>x.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${V}'`)))}class ui{constructor(x,O,Z,Y,E){this.configLoader=O,this.urlSerializer=Z,this.urlTree=Y,this.config=E,this.allowRedirects=!0,this.ngModule=x.get(o.h0i)}apply(){const x=sn(this.urlTree.root,[],[],this.config).segmentGroup,O=new mn(x.segments,x.children);return this.expandSegmentGroup(this.ngModule,this.config,O,xn).pipe((0,hn.U)(E=>this.createUrlTree(ys(E),this.urlTree.queryParams,this.urlTree.fragment))).pipe(it(E=>{if(E instanceof ns)return this.allowRedirects=!1,this.match(E.urlTree);throw E instanceof ds?this.noMatchError(E):E}))}match(x){return this.expandSegmentGroup(this.ngModule,this.config,x.root,xn).pipe((0,hn.U)(Y=>this.createUrlTree(ys(Y),x.queryParams,x.fragment))).pipe(it(Y=>{throw Y instanceof ds?this.noMatchError(Y):Y}))}noMatchError(x){return new Error(`Cannot match any routes. URL Segment: '${x.segmentGroup}'`)}createUrlTree(x,O,Z){const Y=x.segments.length>0?new mn([],{[xn]:x}):x;return new Mr(Y,O,Z)}expandSegmentGroup(x,O,Z,Y){return 0===Z.segments.length&&Z.hasChildren()?this.expandChildren(x,O,Z).pipe((0,hn.U)(E=>new mn([],E))):this.expandSegment(x,Z,O,Z.segments,Y,!0)}expandChildren(x,O,Z){const Y=[];for(const E of Object.keys(Z.children))"primary"===E?Y.unshift(E):Y.push(E);return(0,Ge.D)(Y).pipe((0,Fn.b)(E=>{const M=Z.children[E],y=tt(O,E);return this.expandSegmentGroup(x,y,M,E).pipe((0,hn.U)(F=>({segment:F,outlet:E})))}),(0,vr.R)((E,M)=>(E[M.outlet]=M.segment,E),{}),function(V,x){const O=arguments.length>=2;return Z=>Z.pipe(V?(0,Xe.h)((Y,E)=>V(Y,E,Z)):Vn.y,St(1),O?(0,Dn.d)(x):(0,vn.T)(()=>new Wt.K))}())}expandSegment(x,O,Z,Y,E,M){return(0,Ge.D)(Z).pipe((0,Fn.b)(y=>this.expandSegmentAgainstRoute(x,O,Z,y,Y,E,M).pipe(it(Ce=>{if(Ce instanceof ds)return(0,ce.of)(null);throw Ce}))),(0,Gn.P)(y=>!!y),it((y,F)=>{if(y instanceof Wt.K||"EmptyError"===y.name){if(Di(O,Y,E))return(0,ce.of)(new mn([],{}));throw new ds(O)}throw y}))}expandSegmentAgainstRoute(x,O,Z,Y,E,M,y){return $n(Y,O,E,M)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(x,O,Y,E,M):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,O,Z,Y,E,M):rs(O):rs(O)}expandSegmentAgainstRouteUsingRedirect(x,O,Z,Y,E,M){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,Z,Y,M):this.expandRegularSegmentAgainstRouteUsingRedirect(x,O,Z,Y,E,M)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,O,Z,Y){const E=this.applyRedirectCommands([],Z.redirectTo,{});return Z.redirectTo.startsWith("/")?so(E):this.lineralizeSegments(Z,E).pipe((0,Wn.zg)(M=>{const y=new mn(M,{});return this.expandSegment(x,y,O,M,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,O,Z,Y,E,M){const{matched:y,consumedSegments:F,lastChild:Ce,positionalParamSegments:mt}=Jt(O,Y,E);if(!y)return rs(O);const Rt=this.applyRedirectCommands(F,Y.redirectTo,mt);return Y.redirectTo.startsWith("/")?so(Rt):this.lineralizeSegments(Y,Rt).pipe((0,Wn.zg)(qn=>this.expandSegment(x,O,Z,qn.concat(E.slice(Ce)),M,!1)))}matchSegmentAgainstRoute(x,O,Z,Y,E){if("**"===Z.path)return Z.loadChildren?(Z._loadedConfig?(0,ce.of)(Z._loadedConfig):this.configLoader.load(x.injector,Z)).pipe((0,hn.U)(qn=>(Z._loadedConfig=qn,new mn(Y,{})))):(0,ce.of)(new mn(Y,{}));const{matched:M,consumedSegments:y,lastChild:F}=Jt(O,Z,Y);if(!M)return rs(O);const Ce=Y.slice(F);return this.getChildConfig(x,Z,Y).pipe((0,Wn.zg)(Rt=>{const qn=Rt.module,en=Rt.routes,{segmentGroup:ti,slicedSegments:Ar}=sn(O,y,Ce,en),_n=new mn(ti.segments,ti.children);if(0===Ar.length&&_n.hasChildren())return this.expandChildren(qn,en,_n).pipe((0,hn.U)(Ga=>new mn(y,Ga)));if(0===en.length&&0===Ar.length)return(0,ce.of)(new mn(y,{}));const Ps=ge(Z)===E;return this.expandSegment(qn,_n,en,Ar,Ps?xn:E,!0).pipe((0,hn.U)(Li=>new mn(y.concat(Li.segments),Li.children)))}))}getChildConfig(x,O,Z){return O.children?(0,ce.of)(new Ys(O.children,x)):O.loadChildren?void 0!==O._loadedConfig?(0,ce.of)(O._loadedConfig):this.runCanLoadGuards(x.injector,O,Z).pipe((0,Wn.zg)(Y=>{return Y?this.configLoader.load(x.injector,O).pipe((0,hn.U)(E=>(O._loadedConfig=E,E))):(V=O,new ye.y(x=>x.error(Fe(`Cannot load children because the guard of the route "path: '${V.path}'" returned false`))));var V})):(0,ce.of)(new Ys([],x))}runCanLoadGuards(x,O,Z){const Y=O.canLoad;if(!Y||0===Y.length)return(0,ce.of)(!0);const E=Y.map(M=>{const y=x.get(M);let F;if((V=y)&&Hi(V.canLoad))F=y.canLoad(O,Z);else{if(!Hi(y))throw new Error("Invalid CanLoad guard");F=y(O,Z)}var V;return gt(F)});return(0,ce.of)(E).pipe(de(),(0,En.b)(M=>{if(!js(M))return;const y=Fe(`Redirecting to "${this.urlSerializer.serialize(M)}"`);throw y.url=M,y}),(0,hn.U)(M=>!0===M))}lineralizeSegments(x,O){let Z=[],Y=O.root;for(;;){if(Z=Z.concat(Y.segments),0===Y.numberOfChildren)return(0,ce.of)(Z);if(Y.numberOfChildren>1||!Y.children[xn])return Ea(x.redirectTo);Y=Y.children[xn]}}applyRedirectCommands(x,O,Z){return this.applyRedirectCreatreUrlTree(O,this.urlSerializer.parse(O),x,Z)}applyRedirectCreatreUrlTree(x,O,Z,Y){const E=this.createSegmentGroup(x,O.root,Z,Y);return new Mr(E,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(x,O){const Z={};return wn(x,(Y,E)=>{if("string"==typeof Y&&Y.startsWith(":")){const y=Y.substring(1);Z[E]=O[y]}else Z[E]=Y}),Z}createSegmentGroup(x,O,Z,Y){const E=this.createSegments(x,O.segments,Z,Y);let M={};return wn(O.children,(y,F)=>{M[F]=this.createSegmentGroup(x,y,Z,Y)}),new mn(E,M)}createSegments(x,O,Z,Y){return O.map(E=>E.path.startsWith(":")?this.findPosParam(x,E,Y):this.findOrReturn(E,Z))}findPosParam(x,O,Z){const Y=Z[O.path.substring(1)];if(!Y)throw new Error(`Cannot redirect to '${x}'. Cannot find '${O.path}'.`);return Y}findOrReturn(x,O){let Z=0;for(const Y of O){if(Y.path===x.path)return O.splice(Z),Y;Z++}return x}}function ys(V){const x={};for(const Z of Object.keys(V.children)){const E=ys(V.children[Z]);(E.segments.length>0||E.hasChildren())&&(x[Z]=E)}return function(V){if(1===V.numberOfChildren&&V.children[xn]){const x=V.children[xn];return new mn(V.segments.concat(x.segments),x.children)}return V}(new mn(V.segments,x))}class Zo{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class la{constructor(x,O){this.component=x,this.route=O}}function ln(V,x,O){const Z=V._root;return A(Z,x?x._root:null,O,[Z.value])}function re(V,x,O){const Z=function(V){if(!V)return null;for(let x=V.parent;x;x=x.parent){const O=x.routeConfig;if(O&&O._loadedConfig)return O._loadedConfig}return null}(x);return(Z?Z.module.injector:O).get(V)}function A(V,x,O,Z,Y={canDeactivateChecks:[],canActivateChecks:[]}){const E=si(x);return V.children.forEach(M=>{(function(V,x,O,Z,Y={canDeactivateChecks:[],canActivateChecks:[]}){const E=V.value,M=x?x.value:null,y=O?O.getContext(V.value.outlet):null;if(M&&E.routeConfig===M.routeConfig){const F=function(V,x,O){if("function"==typeof O)return O(V,x);switch(O){case"pathParamsChange":return!Vr(V.url,x.url);case"pathParamsOrQueryParamsChange":return!Vr(V.url,x.url)||!ne(V.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Is(V,x)||!ne(V.queryParams,x.queryParams);default:return!Is(V,x)}}(M,E,E.routeConfig.runGuardsAndResolvers);F?Y.canActivateChecks.push(new Zo(Z)):(E.data=M.data,E._resolvedData=M._resolvedData),A(V,x,E.component?y?y.children:null:O,Z,Y),F&&y&&y.outlet&&y.outlet.isActivated&&Y.canDeactivateChecks.push(new la(y.outlet.component,M))}else M&&we(x,y,Y),Y.canActivateChecks.push(new Zo(Z)),A(V,null,E.component?y?y.children:null:O,Z,Y)})(M,E[M.value.outlet],O,Z.concat([M.value]),Y),delete E[M.value.outlet]}),wn(E,(M,y)=>we(M,O.getContext(y),Y)),Y}function we(V,x,O){const Z=si(V),Y=V.value;wn(Z,(E,M)=>{we(E,Y.component?x?x.children.getContext(M):null:x,O)}),O.canDeactivateChecks.push(new la(Y.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,Y))}class cr{}function pr(V){return new ye.y(x=>x.error(V))}class bi{constructor(x,O,Z,Y,E,M){this.rootComponentType=x,this.config=O,this.urlTree=Z,this.url=Y,this.paramsInheritanceStrategy=E,this.relativeLinkResolution=M}recognize(){const x=sn(this.urlTree.root,[],[],this.config.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution).segmentGroup,O=this.processSegmentGroup(this.config,x,xn);if(null===O)return null;const Z=new Wr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xn,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new wr(Z,O),E=new zs(this.url,Y);return this.inheritParamsAndData(E._root),E}inheritParamsAndData(x){const O=x.value,Z=ts(O,this.paramsInheritanceStrategy);O.params=Object.freeze(Z.params),O.data=Object.freeze(Z.data),x.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(x,O,Z){return 0===O.segments.length&&O.hasChildren()?this.processChildren(x,O):this.processSegment(x,O,O.segments,Z)}processChildren(x,O){const Z=[];for(const E of Object.keys(O.children)){const M=O.children[E],y=tt(x,E),F=this.processSegmentGroup(y,M,E);if(null===F)return null;Z.push(...F)}const Y=oo(Z);return Y.sort((x,O)=>x.value.outlet===xn?-1:O.value.outlet===xn?1:x.value.outlet.localeCompare(O.value.outlet)),Y}processSegment(x,O,Z,Y){for(const E of x){const M=this.processSegmentAgainstRoute(E,O,Z,Y);if(null!==M)return M}return Di(O,Z,Y)?[]:null}processSegmentAgainstRoute(x,O,Z,Y){if(x.redirectTo||!$n(x,O,Z,Y))return null;let E,M=[],y=[];if("**"===x.path){const en=Z.length>0?et(Z).parameters:{};E=new Wr(Z,en,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ao(x),ge(x),x.component,x,Fi(O),Qs(O)+Z.length,bs(x))}else{const en=Jt(O,x,Z);if(!en.matched)return null;M=en.consumedSegments,y=Z.slice(en.lastChild),E=new Wr(M,en.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ao(x),ge(x),x.component,x,Fi(O),Qs(O)+M.length,bs(x))}const F=(V=x).children?V.children:V.loadChildren?V._loadedConfig.routes:[],{segmentGroup:Ce,slicedSegments:mt}=sn(O,M,y,F.filter(en=>void 0===en.redirectTo),this.relativeLinkResolution);var V;if(0===mt.length&&Ce.hasChildren()){const en=this.processChildren(F,Ce);return null===en?null:[new wr(E,en)]}if(0===F.length&&0===mt.length)return[new wr(E,[])];const Rt=ge(x)===Y,qn=this.processSegment(F,Ce,mt,Rt?xn:Y);return null===qn?null:[new wr(E,qn)]}}function Or(V){const x=V.value.routeConfig;return x&&""===x.path&&void 0===x.redirectTo}function oo(V){const x=[],O=new Set;for(const Z of V){if(!Or(Z)){x.push(Z);continue}const Y=x.find(E=>Z.value.routeConfig===E.value.routeConfig);void 0!==Y?(Y.children.push(...Z.children),O.add(Y)):x.push(Z)}for(const Z of O){const Y=oo(Z.children);x.push(new wr(Z.value,Y))}return x.filter(Z=>!O.has(Z))}function Fi(V){let x=V;for(;x._sourceSegment;)x=x._sourceSegment;return x}function Qs(V){let x=V,O=x._segmentIndexShift?x._segmentIndexShift:0;for(;x._sourceSegment;)x=x._sourceSegment,O+=x._segmentIndexShift?x._segmentIndexShift:0;return O-1}function ao(V){return V.data||{}}function bs(V){return V.resolve||{}}function Qn(V){return(0,bn.w)(x=>{const O=V(x);return O?(0,Ge.D)(O).pipe((0,hn.U)(()=>x)):(0,ce.of)(x)})}class qr extends class{shouldDetach(x){return!1}store(x,O){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,O){return x.routeConfig===O.routeConfig}}{}const Nr=new o.OlP("ROUTES");class Es{constructor(x,O,Z,Y){this.loader=x,this.compiler=O,this.onLoadStartListener=Z,this.onLoadEndListener=Y}load(x,O){if(O._loader$)return O._loader$;this.onLoadStartListener&&this.onLoadStartListener(O);const Y=this.loadModuleFactory(O.loadChildren).pipe((0,hn.U)(E=>{this.onLoadEndListener&&this.onLoadEndListener(O);const M=E.create(x);return new Ys(me(M.injector.get(Nr,void 0,o.XFs.Self|o.XFs.Optional)).map(oe),M)}),it(E=>{throw O._loader$=void 0,E}));return O._loader$=new rt.c(Y,()=>new Qe.xQ).pipe((0,Yn.x)()),O._loader$}loadModuleFactory(x){return"string"==typeof x?(0,Ge.D)(this.loader.load(x)):gt(x()).pipe((0,Wn.zg)(O=>O instanceof o.YKP?(0,ce.of)(O):(0,Ge.D)(this.compiler.compileModuleAsync(O))))}}class Ki{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ri,this.attachRef=null}}class Ri{constructor(){this.contexts=new Map}onChildOutletCreated(x,O){const Z=this.getOrCreateContext(x);Z.outlet=O,this.contexts.set(x,Z)}onChildOutletDestroyed(x){const O=this.getContext(x);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let O=this.getContext(x);return O||(O=new Ki,this.contexts.set(x,O)),O}getContext(x){return this.contexts.get(x)||null}}class hs{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,O){return x}}function xs(V){throw V}function qo(V,x,O){return x.parse("/")}function lo(V,x){return(0,ce.of)(null)}const co={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ta={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class V{constructor(O,Z,Y,E,M,y,F,Ce){this.rootComponentType=O,this.urlSerializer=Z,this.rootContexts=Y,this.location=E,this.config=Ce,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qe.xQ,this.errorHandler=xs,this.malformedUriErrorHandler=qo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lo,afterPreactivation:lo},this.urlHandlingStrategy=new hs,this.routeReuseStrategy=new qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=M.get(o.h0i),this.console=M.get(o.c2e);const qn=M.get(o.R0b);this.isNgZoneEnabled=qn instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(Ce),this.currentUrlTree=new Mr(new mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Es(y,F,en=>this.triggerEvent(new yt(en)),en=>this.triggerEvent(new Ct(en))),this.routerState=oi(this.currentUrlTree,this.rootComponentType),this.transitions=new wt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var O;return null===(O=this.location.getState())||void 0===O?void 0:O.\u0275routerPageId}setupNavigations(O){const Z=this.events;return O.pipe((0,Xe.h)(Y=>0!==Y.id),(0,hn.U)(Y=>Object.assign(Object.assign({},Y),{extractedUrl:this.urlHandlingStrategy.extract(Y.rawUrl)})),(0,bn.w)(Y=>{let E=!1,M=!1;return(0,ce.of)(Y).pipe((0,En.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,bn.w)(y=>{const F=this.browserUrlTree.toString(),Ce=!this.navigated||y.extractedUrl.toString()!==F||F!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ce)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return _o(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,ce.of)(y).pipe((0,bn.w)(Rt=>{const qn=this.transitions.getValue();return Z.next(new Rr(Rt.id,this.serializeUrl(Rt.extractedUrl),Rt.source,Rt.restoredState)),qn!==this.transitions.getValue()?Je.E:Promise.resolve(Rt)}),function(V,x,O,Z){return(0,bn.w)(Y=>function(V,x,O,Z,Y){return new ui(V,x,O,Z,Y).apply()}(V,x,O,Y.extractedUrl,Z).pipe((0,hn.U)(E=>Object.assign(Object.assign({},Y),{urlAfterRedirects:E}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,En.b)(Rt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Rt.urlAfterRedirects})}),function(V,x,O,Z,Y){return(0,Wn.zg)(E=>function(V,x,O,Z,Y="emptyOnly",E="legacy"){try{const M=new bi(V,x,O,Z,Y,E).recognize();return null===M?pr(new cr):(0,ce.of)(M)}catch(M){return pr(M)}}(V,x,E.urlAfterRedirects,O(E.urlAfterRedirects),Z,Y).pipe((0,hn.U)(M=>Object.assign(Object.assign({},E),{targetSnapshot:M}))))}(this.rootComponentType,this.config,Rt=>this.serializeUrl(Rt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,En.b)(Rt=>{"eager"===this.urlUpdateStrategy&&(Rt.extras.skipLocationChange||this.setBrowserUrl(Rt.urlAfterRedirects,Rt),this.browserUrlTree=Rt.urlAfterRedirects);const qn=new ke(Rt.id,this.serializeUrl(Rt.extractedUrl),this.serializeUrl(Rt.urlAfterRedirects),Rt.targetSnapshot);Z.next(qn)}));if(Ce&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qn,extractedUrl:en,source:ti,restoredState:Ar,extras:_n}=y,Ps=new Rr(qn,this.serializeUrl(en),ti,Ar);Z.next(Ps);const ss=oi(en,this.rootComponentType).snapshot;return(0,ce.of)(Object.assign(Object.assign({},y),{targetSnapshot:ss,urlAfterRedirects:en,extras:Object.assign(Object.assign({},_n),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),Je.E}),Qn(y=>{const{targetSnapshot:F,id:Ce,extractedUrl:mt,rawUrl:Rt,extras:{skipLocationChange:qn,replaceUrl:en}}=y;return this.hooks.beforePreactivation(F,{navigationId:Ce,appliedUrlTree:mt,rawUrlTree:Rt,skipLocationChange:!!qn,replaceUrl:!!en})}),(0,En.b)(y=>{const F=new q(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(F)}),(0,hn.U)(y=>Object.assign(Object.assign({},y),{guards:ln(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(V,x){return(0,Wn.zg)(O=>{const{targetSnapshot:Z,currentSnapshot:Y,guards:{canActivateChecks:E,canDeactivateChecks:M}}=O;return 0===M.length&&0===E.length?(0,ce.of)(Object.assign(Object.assign({},O),{guardsResult:!0})):function(V,x,O,Z){return(0,Ge.D)(V).pipe((0,Wn.zg)(Y=>function(V,x,O,Z,Y){const E=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!E||0===E.length)return(0,ce.of)(!0);const M=E.map(y=>{const F=re(y,x,Y);let Ce;if(function(V){return V&&Hi(V.canDeactivate)}(F))Ce=gt(F.canDeactivate(V,x,O,Z));else{if(!Hi(F))throw new Error("Invalid CanDeactivate guard");Ce=gt(F(V,x,O,Z))}return Ce.pipe((0,Gn.P)())});return(0,ce.of)(M).pipe(de())}(Y.component,Y.route,O,x,Z)),(0,Gn.P)(Y=>!0!==Y,!0))}(M,Z,Y,V).pipe((0,Wn.zg)(y=>y&&function(V){return"boolean"==typeof V}(y)?function(V,x,O,Z){return(0,Ge.D)(x).pipe((0,Fn.b)(Y=>(0,Ot.z)(function(V,x){return null!==V&&x&&x(new Bt(V)),(0,ce.of)(!0)}(Y.route.parent,Z),function(V,x){return null!==V&&x&&x(new ar(V)),(0,ce.of)(!0)}(Y.route,Z),function(V,x,O){const Z=x[x.length-1],E=x.slice(0,x.length-1).reverse().map(M=>function(V){const x=V.routeConfig?V.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:V,guards:x}:null}(M)).filter(M=>null!==M).map(M=>(0,At.P)(()=>{const y=M.guards.map(F=>{const Ce=re(F,M.node,O);let mt;if(function(V){return V&&Hi(V.canActivateChild)}(Ce))mt=gt(Ce.canActivateChild(Z,V));else{if(!Hi(Ce))throw new Error("Invalid CanActivateChild guard");mt=gt(Ce(Z,V))}return mt.pipe((0,Gn.P)())});return(0,ce.of)(y).pipe(de())}));return(0,ce.of)(E).pipe(de())}(V,Y.path,O),function(V,x,O){const Z=x.routeConfig?x.routeConfig.canActivate:null;if(!Z||0===Z.length)return(0,ce.of)(!0);const Y=Z.map(E=>(0,At.P)(()=>{const M=re(E,x,O);let y;if(function(V){return V&&Hi(V.canActivate)}(M))y=gt(M.canActivate(x,V));else{if(!Hi(M))throw new Error("Invalid CanActivate guard");y=gt(M(x,V))}return y.pipe((0,Gn.P)())}));return(0,ce.of)(Y).pipe(de())}(V,Y.route,O))),(0,Gn.P)(Y=>!0!==Y,!0))}(Z,E,V,x):(0,ce.of)(y)),(0,hn.U)(y=>Object.assign(Object.assign({},O),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,En.b)(y=>{if(js(y.guardsResult)){const Ce=Fe(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw Ce.url=y.guardsResult,Ce}const F=new he(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(F)}),(0,Xe.h)(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Qn(y=>{if(y.guards.canActivateChecks.length)return(0,ce.of)(y).pipe((0,En.b)(F=>{const Ce=new Le(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);this.triggerEvent(Ce)}),(0,bn.w)(F=>{let Ce=!1;return(0,ce.of)(F).pipe(function(V,x){return(0,Wn.zg)(O=>{const{targetSnapshot:Z,guards:{canActivateChecks:Y}}=O;if(!Y.length)return(0,ce.of)(O);let E=0;return(0,Ge.D)(Y).pipe((0,Fn.b)(M=>function(V,x,O,Z){return function(V,x,O,Z){const Y=Object.keys(V);if(0===Y.length)return(0,ce.of)({});const E={};return(0,Ge.D)(Y).pipe((0,Wn.zg)(M=>function(V,x,O,Z){const Y=re(V,x,Z);return gt(Y.resolve?Y.resolve(x,O):Y(x,O))}(V[M],x,O,Z).pipe((0,En.b)(y=>{E[M]=y}))),St(1),(0,Wn.zg)(()=>Object.keys(E).length===Y.length?(0,ce.of)(E):Je.E))}(V._resolve,V,x,Z).pipe((0,hn.U)(E=>(V._resolvedData=E,V.data=Object.assign(Object.assign({},V.data),ts(V,O).resolve),null)))}(M.route,Z,V,x)),(0,En.b)(()=>E++),St(1),(0,Wn.zg)(M=>E===Y.length?(0,ce.of)(O):Je.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,En.b)({next:()=>Ce=!0,complete:()=>{Ce||(this.restoreHistory(F),this.cancelNavigationTransition(F,"At least one route resolver didn't emit any value."))}}))}),(0,En.b)(F=>{const Ce=new pt(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);this.triggerEvent(Ce)}))}),Qn(y=>{const{targetSnapshot:F,id:Ce,extractedUrl:mt,rawUrl:Rt,extras:{skipLocationChange:qn,replaceUrl:en}}=y;return this.hooks.afterPreactivation(F,{navigationId:Ce,appliedUrlTree:mt,rawUrlTree:Rt,skipLocationChange:!!qn,replaceUrl:!!en})}),(0,hn.U)(y=>{const F=function(V,x,O){const Z=As(V,x._root,O?O._root:void 0);return new Gr(Z,x)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:F})}),(0,En.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((V,x,O)=>(0,hn.U)(Z=>(new Oo(x,Z.targetRouterState,Z.currentRouterState,O).activate(V),Z)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,En.b)({next(){E=!0},complete(){E=!0}}),function(V){return x=>x.lift(new _r(V))}(()=>{var y;if(!E&&!M){const F=`Navigation ID ${Y.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(Y),this.cancelNavigationTransition(Y,F)):this.cancelNavigationTransition(Y,F)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===Y.id&&(this.currentNavigation=null)}),it(y=>{if(M=!0,function(V){return V&&V[zr]}(y)){const F=js(y.url);F||(this.navigated=!0,this.restoreHistory(Y,!0));const Ce=new Qt(Y.id,this.serializeUrl(Y.extractedUrl),y.message);Z.next(Ce),F?setTimeout(()=>{const mt=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),Rt={skipLocationChange:Y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_o(Y.source)};this.scheduleNavigation(mt,"imperative",null,Rt,{resolve:Y.resolve,reject:Y.reject,promise:Y.promise})},0):Y.resolve(!1)}else{this.restoreHistory(Y,!0);const F=new Se(Y.id,this.serializeUrl(Y.extractedUrl),y);Z.next(F);try{Y.resolve(this.errorHandler(y))}catch(Ce){Y.reject(Ce)}}return Je.E}))}))}resetRootComponentType(O){this.rootComponentType=O,this.routerState.root.component=this.rootComponentType}getTransition(){const O=this.transitions.value;return O.urlAfterRedirects=this.browserUrlTree,O}setTransition(O){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),O))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const Z=this.extractLocationChangeInfoFromEvent(O);this.shouldScheduleNavigation(this.lastLocationChangeInfo,Z)&&setTimeout(()=>{const{source:Y,state:E,urlTree:M}=Z,y={replaceUrl:!0};if(E){const F=Object.assign({},E);delete F.navigationId,delete F.\u0275routerPageId,0!==Object.keys(F).length&&(y.state=F)}this.scheduleNavigation(M,Y,E,y)},0),this.lastLocationChangeInfo=Z}))}extractLocationChangeInfoFromEvent(O){var Z;return{source:"popstate"===O.type?"popstate":"hashchange",urlTree:this.parseUrl(O.url),state:(null===(Z=O.state)||void 0===Z?void 0:Z.navigationId)?O.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(O,Z){if(!O)return!0;const Y=Z.urlTree.toString()===O.urlTree.toString();return Z.transitionId!==O.transitionId||!Y||!("hashchange"===Z.source&&"popstate"===O.source||"popstate"===Z.source&&"hashchange"===O.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(O){this.events.next(O)}resetConfig(O){pe(O),this.config=O.map(oe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,Z={}){const{relativeTo:Y,queryParams:E,fragment:M,queryParamsHandling:y,preserveFragment:F}=Z,Ce=Y||this.routerState.root,mt=F?this.currentUrlTree.fragment:M;let Rt=null;switch(y){case"merge":Rt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),E);break;case"preserve":Rt=this.currentUrlTree.queryParams;break;default:Rt=E||null}return null!==Rt&&(Rt=this.removeEmptyProps(Rt)),function(V,x,O,Z,Y){if(0===O.length)return So(x.root,x.root,x,Z,Y);const E=function(V){if("string"==typeof V[0]&&1===V.length&&"/"===V[0])return new jo(!0,0,V);let x=0,O=!1;const Z=V.reduce((Y,E,M)=>{if("object"==typeof E&&null!=E){if(E.outlets){const y={};return wn(E.outlets,(F,Ce)=>{y[Ce]="string"==typeof F?F.split("/"):F}),[...Y,{outlets:y}]}if(E.segmentPath)return[...Y,E.segmentPath]}return"string"!=typeof E?[...Y,E]:0===M?(E.split("/").forEach((y,F)=>{0==F&&"."===y||(0==F&&""===y?O=!0:".."===y?x++:""!=y&&Y.push(y))}),Y):[...Y,E]},[]);return new jo(O,x,Z)}(O);if(E.toRoot())return So(x.root,new mn([],{}),x,Z,Y);const M=function(V,x,O){if(V.isAbsolute)return new to(x.root,!0,0);if(-1===O.snapshot._lastPathIndex){const E=O.snapshot._urlSegment;return new to(E,E===x.root,0)}const Z=Ls(V.commands[0])?0:1;return function(V,x,O){let Z=V,Y=x,E=O;for(;E>Y;){if(E-=Y,Z=Z.parent,!Z)throw new Error("Invalid number of '../'");Y=Z.segments.length}return new to(Z,!1,Y-E)}(O.snapshot._urlSegment,O.snapshot._lastPathIndex+Z,V.numberOfDoubleDots)}(E,x,V),y=M.processChildren?ro(M.segmentGroup,M.index,E.commands):Io(M.segmentGroup,M.index,E.commands);return So(M.segmentGroup,y,x,Z,Y)}(Ce,this.currentUrlTree,O,Rt,null!=mt?mt:null)}navigateByUrl(O,Z={skipLocationChange:!1}){const Y=js(O)?O:this.parseUrl(O),E=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(E,"imperative",null,Z)}navigate(O,Z={skipLocationChange:!1}){return function(V){for(let x=0;x<V.length;x++){const O=V[x];if(null==O)throw new Error(`The requested path contains ${O} segment at index ${x}`)}}(O),this.navigateByUrl(this.createUrlTree(O,Z),Z)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let Z;try{Z=this.urlSerializer.parse(O)}catch(Y){Z=this.malformedUriErrorHandler(Y,this.urlSerializer,O)}return Z}isActive(O,Z){let Y;if(Y=!0===Z?Object.assign({},co):!1===Z?Object.assign({},Ta):Z,js(O))return fe(this.currentUrlTree,O,Y);const E=this.parseUrl(O);return fe(this.currentUrlTree,E,Y)}removeEmptyProps(O){return Object.keys(O).reduce((Z,Y)=>{const E=O[Y];return null!=E&&(Z[Y]=E),Z},{})}processNavigations(){this.navigations.subscribe(O=>{this.navigated=!0,this.lastSuccessfulId=O.id,this.currentPageId=O.targetPageId,this.events.next(new qt(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,O.resolve(!0)},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)})}scheduleNavigation(O,Z,Y,E,M){var y,F;if(this.disposed)return Promise.resolve(!1);const Ce=this.getTransition(),mt=_o(Z)&&Ce&&!_o(Ce.source),en=(this.lastSuccessfulId===Ce.id||this.currentNavigation?Ce.rawUrl:Ce.urlAfterRedirects).toString()===O.toString();if(mt&&en)return Promise.resolve(!0);let ti,Ar,_n;M?(ti=M.resolve,Ar=M.reject,_n=M.promise):_n=new Promise((Li,Ga)=>{ti=Li,Ar=Ga});const Ps=++this.navigationId;let ss;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Y=this.location.getState()),ss=Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:E.replaceUrl||E.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(F=this.browserPageId)&&void 0!==F?F:0)+1):ss=0,this.setTransition({id:Ps,targetPageId:ss,source:Z,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:O,extras:E,resolve:ti,reject:Ar,promise:_n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_n.catch(Li=>Promise.reject(Li))}setBrowserUrl(O,Z){const Y=this.urlSerializer.serialize(O),E=Object.assign(Object.assign({},Z.extras.state),this.generateNgRouterState(Z.id,Z.targetPageId));this.location.isCurrentPathEqualTo(Y)||Z.extras.replaceUrl?this.location.replaceState(Y,"",E):this.location.go(Y,"",E)}restoreHistory(O,Z=!1){var Y,E;if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-O.targetPageId;"popstate"!==O.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Y=this.currentNavigation)||void 0===Y?void 0:Y.finalUrl)||0===M?this.currentUrlTree===(null===(E=this.currentNavigation)||void 0===E?void 0:E.finalUrl)&&0===M&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(M)}else"replace"===this.canceledNavigationResolution&&(Z&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(O,Z){const Y=new Qt(O.id,this.serializeUrl(O.extractedUrl),Z);this.triggerEvent(Y),O.resolve(!1)}generateNgRouterState(O,Z){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:Z}:{navigationId:O}}}return V.\u0275fac=function(O){return new(O||V)(o.LFG(o.DyG),o.LFG(ls),o.LFG(Ri),o.LFG(I.Ye),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},V.\u0275prov=o.Yz7({token:V,factory:V.\u0275fac}),V})();function _o(V){return"imperative"!==V}let Gi=(()=>{class V{constructor(O,Z,Y,E,M){this.router=O,this.route=Z,this.commands=[],this.onChanges=new Qe.xQ,null==Y&&E.setAttribute(M.nativeElement,"tabindex","0")}ngOnChanges(O){this.onChanges.next(this)}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:[]}onClick(){const O={skipLocationChange:uo(this.skipLocationChange),replaceUrl:uo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,O),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uo(this.preserveFragment)})}}return V.\u0275fac=function(O){return new(O||V)(o.Y36(Zi),o.Y36(ci),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},V.\u0275dir=o.lG2({type:V,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(O,Z){1&O&&o.NdJ("click",function(){return Z.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),V})(),$o=(()=>{class V{constructor(O,Z,Y){this.router=O,this.route=Z,this.locationStrategy=Y,this.commands=[],this.onChanges=new Qe.xQ,this.subscription=O.events.subscribe(E=>{E instanceof qt&&this.updateTargetUrlAndHref()})}set routerLink(O){this.commands=null!=O?Array.isArray(O)?O:[O]:[]}ngOnChanges(O){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(O,Z,Y,E,M){if(0!==O||Z||Y||E||M||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:uo(this.skipLocationChange),replaceUrl:uo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uo(this.preserveFragment)})}}return V.\u0275fac=function(O){return new(O||V)(o.Y36(Zi),o.Y36(ci),o.Y36(I.S$))},V.\u0275dir=o.lG2({type:V,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(O,Z){1&O&&o.NdJ("click",function(E){return Z.onClick(E.button,E.ctrlKey,E.shiftKey,E.altKey,E.metaKey)}),2&O&&(o.Ikx("href",Z.href,o.LSH),o.uIk("target",Z.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[o.TTD]}),V})();function uo(V){return""===V||!!V}let ca=(()=>{class V{constructor(O,Z,Y,E,M,y){this.router=O,this.element=Z,this.renderer=Y,this.cdr=E,this.link=M,this.linkWithHref=y,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=O.events.subscribe(F=>{F instanceof qt&&this.update()})}ngAfterContentInit(){(0,ce.of)(this.links.changes,this.linksWithHrefs.changes,(0,ce.of)(null)).pipe((0,br.J)()).subscribe(O=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var O;null===(O=this.linkInputChangesSubscription)||void 0===O||O.unsubscribe();const Z=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(Y=>!!Y).map(Y=>Y.onChanges);this.linkInputChangesSubscription=(0,Ge.D)(Z).pipe((0,br.J)()).subscribe(Y=>{this.isActive!==this.isLinkActive(this.router)(Y)&&this.update()})}set routerLinkActive(O){const Z=Array.isArray(O)?O:O.split(" ");this.classes=Z.filter(Y=>!!Y)}ngOnChanges(O){this.update()}ngOnDestroy(){var O;this.routerEventsSubscription.unsubscribe(),null===(O=this.linkInputChangesSubscription)||void 0===O||O.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const O=this.hasActiveLinks();this.isActive!==O&&(this.isActive=O,this.cdr.markForCheck(),this.classes.forEach(Z=>{O?this.renderer.addClass(this.element.nativeElement,Z):this.renderer.removeClass(this.element.nativeElement,Z)}))})}isLinkActive(O){const Z=function(V){return!!V.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Y=>O.isActive(Y.urlTree,Z)}hasActiveLinks(){const O=this.isLinkActive(this.router);return this.link&&O(this.link)||this.linkWithHref&&O(this.linkWithHref)||this.links.some(O)||this.linksWithHrefs.some(O)}}return V.\u0275fac=function(O){return new(O||V)(o.Y36(Zi),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Gi,8),o.Y36($o,8))},V.\u0275dir=o.lG2({type:V,selectors:[["","routerLinkActive",""]],contentQueries:function(O,Z,Y){if(1&O&&(o.Suo(Y,Gi,5),o.Suo(Y,$o,5)),2&O){let E;o.iGM(E=o.CRH())&&(Z.links=E),o.iGM(E=o.CRH())&&(Z.linksWithHrefs=E)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[o.TTD]}),V})(),Il=(()=>{class V{constructor(O,Z,Y,E,M){this.parentContexts=O,this.location=Z,this.resolver=Y,this.changeDetector=M,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=E||xn,O.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const O=this.parentContexts.getContext(this.name);O&&O.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,O}attach(O,Z){this.activated=O,this._activatedRoute=Z,this.location.insert(O.hostView)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,Z){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=O;const M=(Z=Z||this.resolver).resolveComponentFactory(O._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,F=new ql(O,y,this.location.injector);this.activated=this.location.createComponent(M,this.location.length,F),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return V.\u0275fac=function(O){return new(O||V)(o.Y36(Ri),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},V.\u0275dir=o.lG2({type:V,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),V})();class ql{constructor(x,O,Z){this.route=x,this.childContexts=O,this.parent=Z}get(x,O){return x===ci?this.route:x===Ri?this.childContexts:this.parent.get(x,O)}}class Wc{}class Da{preload(x,O){return(0,ce.of)(null)}}let is=(()=>{class V{constructor(O,Z,Y,E,M){this.router=O,this.injector=E,this.preloadingStrategy=M,this.loader=new Es(Z,Y,Ce=>O.triggerEvent(new yt(Ce)),Ce=>O.triggerEvent(new Ct(Ce)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xe.h)(O=>O instanceof qt),(0,Fn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const O=this.injector.get(o.h0i);return this.processRoutes(O,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,Z){const Y=[];for(const E of Z)if(E.loadChildren&&!E.canLoad&&E._loadedConfig){const M=E._loadedConfig;Y.push(this.processRoutes(M.module,M.routes))}else E.loadChildren&&!E.canLoad?Y.push(this.preloadConfig(O,E)):E.children&&Y.push(this.processRoutes(O,E.children));return(0,Ge.D)(Y).pipe((0,br.J)(),(0,hn.U)(E=>{}))}preloadConfig(O,Z){return this.preloadingStrategy.preload(Z,()=>(Z._loadedConfig?(0,ce.of)(Z._loadedConfig):this.loader.load(O.injector,Z)).pipe((0,Wn.zg)(E=>(Z._loadedConfig=E,this.processRoutes(E.module,E.routes)))))}}return V.\u0275fac=function(O){return new(O||V)(o.LFG(Zi),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Wc))},V.\u0275prov=o.Yz7({token:V,factory:V.\u0275fac}),V})(),ol=(()=>{class V{constructor(O,Z,Y={}){this.router=O,this.viewportScroller=Z,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(O=>{O instanceof Rr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof qt&&(this.lastId=O.id,this.scheduleScrollEvent(O,this.router.parseUrl(O.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(O=>{O instanceof Hn&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,Z){this.router.triggerEvent(new Hn(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,Z))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return V.\u0275fac=function(O){return new(O||V)(o.LFG(Zi),o.LFG(I.EM),o.LFG(void 0))},V.\u0275prov=o.Yz7({token:V,factory:V.\u0275fac}),V})();const vo=new o.OlP("ROUTER_CONFIGURATION"),bo=new o.OlP("ROUTER_FORROOT_GUARD"),Ro=[I.Ye,{provide:ls,useClass:nr},{provide:Zi,useFactory:function(V,x,O,Z,Y,E,M,y={},F,Ce){const mt=new Zi(null,V,x,O,Z,Y,E,me(M));return F&&(mt.urlHandlingStrategy=F),Ce&&(mt.routeReuseStrategy=Ce),function(V,x){V.errorHandler&&(x.errorHandler=V.errorHandler),V.malformedUriErrorHandler&&(x.malformedUriErrorHandler=V.malformedUriErrorHandler),V.onSameUrlNavigation&&(x.onSameUrlNavigation=V.onSameUrlNavigation),V.paramsInheritanceStrategy&&(x.paramsInheritanceStrategy=V.paramsInheritanceStrategy),V.relativeLinkResolution&&(x.relativeLinkResolution=V.relativeLinkResolution),V.urlUpdateStrategy&&(x.urlUpdateStrategy=V.urlUpdateStrategy)}(y,mt),y.enableTracing&&mt.events.subscribe(Rt=>{var qn,en;null===(qn=console.group)||void 0===qn||qn.call(console,`Router Event: ${Rt.constructor.name}`),console.log(Rt.toString()),console.log(Rt),null===(en=console.groupEnd)||void 0===en||en.call(console)}),mt},deps:[ls,Ri,I.Ye,o.zs3,o.v3s,o.Sil,Nr,vo,[class{},new o.FiY],[class{},new o.FiY]]},Ri,{provide:ci,useFactory:function(V){return V.routerState.root},deps:[Zi]},{provide:o.v3s,useClass:o.EAV},is,Da,class{preload(x,O){return O().pipe(it(()=>(0,ce.of)(null)))}},{provide:vo,useValue:{enableTracing:!1}}];function pn(){return new o.PXZ("Router",Zi)}let Ii=(()=>{class V{constructor(O,Z){}static forRoot(O,Z){return{ngModule:V,providers:[Ro,Sr(O),{provide:bo,useFactory:zn,deps:[[Zi,new o.FiY,new o.tp0]]},{provide:vo,useValue:Z||{}},{provide:I.S$,useFactory:Sa,deps:[I.lw,[new o.tBr(I.mr),new o.FiY],vo]},{provide:ol,useFactory:ks,deps:[Zi,I.EM,vo]},{provide:Wc,useExisting:Z&&Z.preloadingStrategy?Z.preloadingStrategy:Da},{provide:o.PXZ,multi:!0,useFactory:pn},[nn,{provide:o.ip1,multi:!0,useFactory:Qi,deps:[nn]},{provide:al,useFactory:Za,deps:[nn]},{provide:o.tb,multi:!0,useExisting:al}]]}}static forChild(O){return{ngModule:V,providers:[Sr(O)]}}}return V.\u0275fac=function(O){return new(O||V)(o.LFG(bo,8),o.LFG(Zi,8))},V.\u0275mod=o.oAB({type:V}),V.\u0275inj=o.cJS({}),V})();function ks(V,x,O){return O.scrollOffset&&x.setOffset(O.scrollOffset),new ol(V,x,O)}function Sa(V,x,O={}){return O.useHash?new I.Do(V,x):new I.b0(V,x)}function zn(V){return"guarded"}function Sr(V){return[{provide:o.deG,multi:!0,useValue:V},{provide:Nr,multi:!0,useValue:V}]}let nn=(()=>{class V{constructor(O){this.injector=O,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qe.xQ}appInitializer(){return this.injector.get(I.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let Z=null;const Y=new Promise(y=>Z=y),E=this.injector.get(Zi),M=this.injector.get(vo);return"disabled"===M.initialNavigation?(E.setUpLocationChangeListener(),Z(!0)):"enabled"===M.initialNavigation||"enabledBlocking"===M.initialNavigation?(E.hooks.afterPreactivation=()=>this.initNavigation?(0,ce.of)(null):(this.initNavigation=!0,Z(!0),this.resultOfPreactivationDone),E.initialNavigation()):Z(!0),Y})}bootstrapListener(O){const Z=this.injector.get(vo),Y=this.injector.get(is),E=this.injector.get(ol),M=this.injector.get(Zi),y=this.injector.get(o.z2F);O===y.components[0]&&(("enabledNonBlocking"===Z.initialNavigation||void 0===Z.initialNavigation)&&M.initialNavigation(),Y.setUpPreloading(),E.init(),M.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return V.\u0275fac=function(O){return new(O||V)(o.LFG(o.zs3))},V.\u0275prov=o.Yz7({token:V,factory:V.\u0275fac}),V})();function Qi(V){return V.appInitializer.bind(V)}function Za(V){return V.bootstrapListener.bind(V)}const al=new o.OlP("Router Initializer")},708:(un,ht,U)=>{"use strict";U.d(ht,{$:()=>Cr,A:()=>ae,B:()=>Be,G:()=>It,H:()=>ct,J:()=>Bi,L:()=>on,M:()=>to,N:()=>Io,P:()=>ho,Q:()=>ro,R:()=>Wl,T:()=>ea,U:()=>no,V:()=>ji,W:()=>Mo,X:()=>Hi,Y:()=>tt,Z:()=>Jt,_:()=>Pn,a:()=>Il,a0:()=>rs,a1:()=>Ea,a2:()=>yo,a3:()=>Os,a4:()=>wa,a5:()=>la,a6:()=>Lr,a7:()=>re,a8:()=>A,a9:()=>B,aA:()=>xl,aB:()=>Ol,aC:()=>Yl,aD:()=>ws,aE:()=>nr,aI:()=>$l,aL:()=>io,aa:()=>lt,ab:()=>Kt,ac:()=>Ln,af:()=>pr,ag:()=>bi,ah:()=>Si,ak:()=>Ti,al:()=>Ca,an:()=>mi,ao:()=>Ta,ap:()=>gr,aq:()=>Tt,ar:()=>Rn,as:()=>Ft,at:()=>Ot,au:()=>vc,av:()=>ku,aw:()=>At,ax:()=>He,ay:()=>Xe,az:()=>wn,b:()=>ca,c:()=>qa,d:()=>$a,e:()=>Kl,f:()=>ru,g:()=>Ma,h:()=>Ql,i:()=>x,j:()=>za,k:()=>ia,l:()=>gf,m:()=>hl,o:()=>Ee,r:()=>Al,s:()=>da,u:()=>ll,v:()=>Qn});var I=U(8239),o=U(3854),Q=U(8026),Ve=U(4762),Ne=U(5422),_e=U(3910);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new o.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wt=new Ne.Yd("@firebase/auth");function Wt(R,...v){wt.logLevel<=Ne.in.ERROR&&wt.error(`Auth (${Q.SDK_VERSION}): ${R}`,...v)}function Ot(R,...v){throw Qe(R,...v)}function At(R,...v){return Qe(R,...v)}function Je(R,v,w){const L=Object.assign(Object.assign({},$e()),{[v]:w});return new o.LL("auth","Firebase",L).create(v,{appName:R.name})}function rt(R,v,w){if(!(v instanceof w))throw w.name!==v.constructor.name&&Ot(R,"argument-error"),Je(R,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(R,...v){if("string"!=typeof R){const w=v[0],L=[...v.slice(1)];return L[0]&&(L[0].appName=R.name),R._errorFactory.create(w,...L)}return Ge.create(R,...v)}function He(R,v,...w){if(!R)throw Qe(v,...w)}function it(R){const v="INTERNAL ASSERTION FAILED: "+R;throw Wt(v),new Error(v)}function Tt(R,v){R||it(v)}const st=new Map;function Xe(R){Tt(R instanceof Function,"Expected a class definition");let v=st.get(R);return v?(Tt(v instanceof R,"Instance stored in cache mismatched with class"),v):(v=new R,st.set(R,v),v)}function Dt(){var R;return"undefined"!=typeof self&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function Lt(){return"http:"===vn()||"https:"===vn()}function vn(){var R;return"undefined"!=typeof self&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class fn{constructor(v,w){this.shortDelay=v,this.longDelay=w,Tt(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,o.uI)()||(0,o.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,o.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Bn(R,v){Tt(R.emulator,"Emulator should always be set here");const{url:w}=R.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class Tr{static initialize(v,w,L){this.fetchImpl=v,w&&(this.headersImpl=w),L&&(this.responseImpl=L)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _r={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xr=new fn(3e4,6e4);function hn(R,v){return R.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:R.tenantId}):v}function bn(R,v,w,L){return tr.apply(this,arguments)}function tr(){return(tr=(0,I.Z)(function*(R,v,w,L,le={}){return $r(R,le,(0,I.Z)(function*(){let Ae={},kt={};L&&("GET"===v?kt=L:Ae={body:JSON.stringify(L)});const dn=(0,o.xO)(Object.assign({key:R.config.apiKey},kt)).slice(1),Kn=yield R._getAdditionalHeaders();return Kn["Content-Type"]="application/json",R.languageCode&&(Kn["X-Firebase-Locale"]=R.languageCode),Tr.fetch()(Wn(R,R.config.apiHost,w,dn),Object.assign({method:v,headers:Kn,referrerPolicy:"no-referrer"},Ae))}))})).apply(this,arguments)}function $r(R,v,w){return vr.apply(this,arguments)}function vr(){return(vr=(0,I.Z)(function*(R,v,w){R._canInitEmulator=!1;const L=Object.assign(Object.assign({},_r),v);try{const le=new En(R),Ae=yield Promise.race([w(),le.promise]);le.clearNetworkTimeout();const kt=yield Ae.json();if("needConfirmation"in kt)throw Yn(R,"account-exists-with-different-credential",kt);if(Ae.ok&&!("errorMessage"in kt))return kt;{const dn=Ae.ok?kt.errorMessage:kt.error.message,[Kn,yr]=dn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kn)throw Yn(R,"credential-already-in-use",kt);if("EMAIL_EXISTS"===Kn)throw Yn(R,"email-already-in-use",kt);if("USER_DISABLED"===Kn)throw Yn(R,"user-disabled",kt);const Qr=L[Kn]||Kn.toLowerCase().replace(/[_\s]+/g,"-");if(yr)throw Je(R,Qr,yr);Ot(R,Qr)}}catch(le){if(le instanceof o.ZR)throw le;Ot(R,"network-request-failed")}})).apply(this,arguments)}function Fn(R,v,w,L){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,I.Z)(function*(R,v,w,L,le={}){const Ae=yield bn(R,v,w,L,le);return"mfaPendingCredential"in Ae&&Ot(R,"multi-factor-auth-required",{_serverResponse:Ae}),Ae})).apply(this,arguments)}function Wn(R,v,w,L){const le=`${v}${w}?${L}`;return R.config.emulator?Bn(R.config,le):`${R.config.apiScheme}://${le}`}class En{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,L)=>{this.timer=setTimeout(()=>L(At(this.auth,"network-request-failed")),xr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(R,v,w){const L={appName:R.name};w.email&&(L.email=w.email),w.phoneNumber&&(L.phoneNumber=w.phoneNumber);const le=At(R,v,L);return le.customData._tokenResponse=w,le}function Jn(){return(Jn=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Rr(R,v){return qt.apply(this,arguments)}function qt(){return(qt=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Qt(R,v){return Se.apply(this,arguments)}function Se(){return(Se=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function ke(R){if(R)try{const v=new Date(Number(R));if(!isNaN(v.getTime()))return v.toUTCString()}catch(v){}}function Le(){return(Le=(0,I.Z)(function*(R,v=!1){const w=(0,o.m9)(R),L=yield w.getIdToken(v),le=yt(L);He(le&&le.exp&&le.auth_time&&le.iat,w.auth,"internal-error");const Ae="object"==typeof le.firebase?le.firebase:void 0,kt=null==Ae?void 0:Ae.sign_in_provider;return{claims:le,token:L,authTime:ke(pt(le.auth_time)),issuedAtTime:ke(pt(le.iat)),expirationTime:ke(pt(le.exp)),signInProvider:kt||null,signInSecondFactor:(null==Ae?void 0:Ae.sign_in_second_factor)||null}})).apply(this,arguments)}function pt(R){return 1e3*Number(R)}function yt(R){var v;const[w,L,le]=R.split(".");if(void 0===w||void 0===L||void 0===le)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const Ae=(0,o.tV)(L);return Ae?JSON.parse(Ae):(Wt("Failed to decode base64 JWT payload"),null)}catch(Ae){return Wt("Caught error parsing JWT payload as JSON",null===(v=Ae)||void 0===v?void 0:v.toString()),null}}function Bt(R,v){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,I.Z)(function*(R,v,w=!1){if(w)return v;try{return yield v}catch(L){throw L instanceof o.ZR&&ar(L)&&R.auth.currentUser===R&&(yield R.auth.signOut()),L}})).apply(this,arguments)}function ar({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class dr{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}{this.errorBackoff=3e4;const le=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const L=this.getInterval(v);this.timerId=setTimeout((0,I.Z)(function*(){yield w.iteration()}),L)}iteration(){var v=this;return(0,I.Z)(function*(){var w;try{yield v.user.getIdToken(!0)}catch(L){return void("auth/network-request-failed"===(null===(w=L)||void 0===w?void 0:w.code)&&v.schedule(!0))}v.schedule()})()}}class Hn{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=ke(this.lastLoginAt),this.creationTime=ke(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xn(R){return Er.apply(this,arguments)}function Er(){return(Er=(0,I.Z)(function*(R){var v;const w=R.auth,L=yield R.getIdToken(),le=yield Bt(R,Qt(w,{idToken:L}));He(null==le?void 0:le.users.length,w,"internal-error");const Ae=le.users[0];R._notifyReloadListener(Ae);const kt=(null===(v=Ae.providerUserInfo)||void 0===v?void 0:v.length)?Ke(Ae.providerUserInfo):[],dn=Fe(R.providerData,kt),Qr=!!R.isAnonymous&&!(R.email&&Ae.passwordHash||(null==dn?void 0:dn.length)),Ji={uid:Ae.localId,displayName:Ae.displayName||null,photoURL:Ae.photoUrl||null,email:Ae.email||null,emailVerified:Ae.emailVerified||!1,phoneNumber:Ae.phoneNumber||null,tenantId:Ae.tenantId||null,providerData:dn,metadata:new Hn(Ae.createdAt,Ae.lastLoginAt),isAnonymous:Qr};Object.assign(R,Ji)})).apply(this,arguments)}function zr(){return(zr=(0,I.Z)(function*(R){const v=(0,o.m9)(R);yield xn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Fe(R,v){return[...R.filter(L=>!v.some(le=>le.providerId===L.providerId)),...v]}function Ke(R){return R.map(v=>{var{providerId:w}=v,L=(0,Ve._T)(v,["providerId"]);return{providerId:w,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}})}function ze(){return(ze=(0,I.Z)(function*(R,v){const w=yield $r(R,{},(0,I.Z)(function*(){const L=(0,o.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:le,apiKey:Ae}=R.config,kt=Wn(R,le,"/v1/token",`key=${Ae}`),dn=yield R._getAdditionalHeaders();return dn["Content-Type"]="application/x-www-form-urlencoded",Tr.fetch()(kt,{method:"POST",headers:dn,body:L})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){He(v.idToken,"internal-error"),He(void 0!==v.idToken,"internal-error"),He(void 0!==v.refreshToken,"internal-error");const w="expiresIn"in v&&void 0!==v.expiresIn?Number(v.expiresIn):function(R){const v=yt(R);return He(v,"internal-error"),He(void 0!==v.exp,"internal-error"),He(void 0!==v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var L=this;return(0,I.Z)(function*(){return He(!L.accessToken||L.refreshToken,v,"user-token-expired"),w||!L.accessToken||L.isExpired?L.refreshToken?(yield L.refresh(v,L.refreshToken),L.accessToken):null:L.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var L=this;return(0,I.Z)(function*(){const{accessToken:le,refreshToken:Ae,expiresIn:kt}=yield function(R,v){return ze.apply(this,arguments)}(v,w);L.updateTokensAndExpiration(le,Ae,Number(kt))})()}updateTokensAndExpiration(v,w,L){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*L}static fromJSON(v,w){const{refreshToken:L,accessToken:le,expirationTime:Ae}=w,kt=new ne;return L&&(He("string"==typeof L,"internal-error",{appName:v}),kt.refreshToken=L),le&&(He("string"==typeof le,"internal-error",{appName:v}),kt.accessToken=le),Ae&&(He("number"==typeof Ae,"internal-error",{appName:v}),kt.expirationTime=Ae),kt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new ne,this.toJSON())}_performRefresh(){return it("not implemented")}}function Me(R,v){He("string"==typeof R||void 0===R,"internal-error",{appName:v})}class me{constructor(v){var{uid:w,auth:L,stsTokenManager:le}=v,Ae=(0,Ve._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=L,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=Ae.displayName||null,this.email=Ae.email||null,this.emailVerified=Ae.emailVerified||!1,this.phoneNumber=Ae.phoneNumber||null,this.photoURL=Ae.photoURL||null,this.isAnonymous=Ae.isAnonymous||!1,this.tenantId=Ae.tenantId||null,this.providerData=Ae.providerData?[...Ae.providerData]:[],this.metadata=new Hn(Ae.createdAt||void 0,Ae.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,I.Z)(function*(){const L=yield Bt(w,w.stsTokenManager.getToken(w.auth,v));return He(L,w.auth,"internal-error"),w.accessToken!==L&&(w.accessToken=L,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),L})()}getIdTokenResult(v){return function(R){return Le.apply(this,arguments)}(this,v)}reload(){return function(R){return zr.apply(this,arguments)}(this)}_assign(v){this!==v&&(He(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new me(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var L=this;return(0,I.Z)(function*(){let le=!1;v.idToken&&v.idToken!==L.stsTokenManager.accessToken&&(L.stsTokenManager.updateFromServerResponse(v),le=!0),w&&(yield xn(L)),yield L.auth._persistUserIfCurrent(L),le&&L.auth._notifyListenersIfCurrent(L)})()}delete(){var v=this;return(0,I.Z)(function*(){const w=yield v.getIdToken();return yield Bt(v,function(R,v){return Jn.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var L,le,Ae,kt,dn,Kn,yr,Qr;const Ji=null!==(L=w.displayName)&&void 0!==L?L:void 0,xa=null!==(le=w.email)&&void 0!==le?le:void 0,fa=null!==(Ae=w.phoneNumber)&&void 0!==Ae?Ae:void 0,fl=null!==(kt=w.photoURL)&&void 0!==kt?kt:void 0,Tf=null!==(dn=w.tenantId)&&void 0!==dn?dn:void 0,pa=null!==(Kn=w._redirectEventId)&&void 0!==Kn?Kn:void 0,yd=null!==(yr=w.createdAt)&&void 0!==yr?yr:void 0,Po=null!==(Qr=w.lastLoginAt)&&void 0!==Qr?Qr:void 0,{uid:Xa,emailVerified:_d,isAnonymous:Ec,providerData:Ch,stsTokenManager:Mp}=w;He(Xa&&Mp,v,"internal-error");const Ds=ne.fromJSON(this.name,Mp);He("string"==typeof Xa,v,"internal-error"),Me(Ji,v.name),Me(xa,v.name),He("boolean"==typeof _d,v,"internal-error"),He("boolean"==typeof Ec,v,"internal-error"),Me(fa,v.name),Me(fl,v.name),Me(Tf,v.name),Me(pa,v.name),Me(yd,v.name),Me(Po,v.name);const Fu=new me({uid:Xa,auth:v,email:xa,emailVerified:_d,displayName:Ji,isAnonymous:Ec,photoURL:fl,phoneNumber:fa,tenantId:Tf,stsTokenManager:Ds,createdAt:yd,lastLoginAt:Po});return Ch&&Array.isArray(Ch)&&(Fu.providerData=Ch.map(wc=>Object.assign({},wc))),pa&&(Fu._redirectEventId=pa),Fu}static _fromIdTokenResponse(v,w,L=!1){return(0,I.Z)(function*(){const le=new ne;le.updateFromServerResponse(w);const Ae=new me({uid:w.localId,auth:v,stsTokenManager:le,isAnonymous:L});return yield xn(Ae),Ae})()}}const on=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(w,L){var le=this;return(0,I.Z)(function*(){le.storage[w]=L})()}_get(w){var L=this;return(0,I.Z)(function*(){const le=L.storage[w];return void 0===le?null:le})()}_remove(w){var L=this;return(0,I.Z)(function*(){delete L.storage[w]})()}_addListener(w,L){}_removeListener(w,L){}}return R.type="NONE",R})();function wn(R,v,w){return`firebase:${R}:${v}:${w}`}class gt{constructor(v,w,L){this.persistence=v,this.auth=w,this.userKey=L;const{config:le,name:Ae}=this.auth;this.fullUserKey=wn(this.userKey,le.apiKey,Ae),this.fullPersistenceKey=wn("persistence",le.apiKey,Ae),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,I.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?me._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,I.Z)(function*(){if(w.persistence===v)return;const L=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,L?w.setCurrentUser(L):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,L="authUser"){return(0,I.Z)(function*(){if(!w.length)return new gt(Xe(on),v,L);const le=(yield Promise.all(w.map(function(){var yr=(0,I.Z)(function*(Qr){if(yield Qr._isAvailable())return Qr});return function(Qr){return yr.apply(this,arguments)}}()))).filter(yr=>yr);let Ae=le[0]||Xe(on);const kt=wn(L,v.config.apiKey,v.name);let dn=null;for(const yr of w)try{const Qr=yield yr._get(kt);if(Qr){const Ji=me._fromJSON(v,Qr);yr!==Ae&&(dn=Ji),Ae=yr;break}}catch(Qr){}const Kn=le.filter(yr=>yr._shouldAllowMigration);return Ae._shouldAllowMigration&&Kn.length?(Ae=Kn[0],dn&&(yield Ae._set(kt,dn.toJSON())),yield Promise.all(w.map(function(){var yr=(0,I.Z)(function*(Qr){if(Qr!==Ae)try{yield Qr._remove(kt)}catch(Ji){}});return function(Qr){return yr.apply(this,arguments)}}())),new gt(Ae,v,L)):new gt(Ae,v,L)})()}}function X(R){const v=R.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Ue(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(z(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(rn(v))return"Blackberry";if(Sn(v))return"Webos";if(H(v))return"Safari";if((v.includes("chrome/")||fe(v))&&!v.includes("edge/"))return"Chrome";if(Ft(v))return"Android";{const L=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==L?void 0:L.length))return L[1]}return"Other"}function z(R=(0,o.z$)()){return/firefox\//i.test(R)}function H(R=(0,o.z$)()){const v=R.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function fe(R=(0,o.z$)()){return/crios\//i.test(R)}function Ue(R=(0,o.z$)()){return/iemobile/i.test(R)}function Ft(R=(0,o.z$)()){return/android/i.test(R)}function rn(R=(0,o.z$)()){return/blackberry/i.test(R)}function Sn(R=(0,o.z$)()){return/webos/i.test(R)}function Rn(R=(0,o.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function gr(R=(0,o.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function lr(R=(0,o.z$)()){return Rn(R)||Ft(R)||Sn(R)||rn(R)||/windows phone/i.test(R)||Ue(R)}function Vr(R,v=[]){let w;switch(R){case"Browser":w=X((0,o.z$)());break;case"Worker":w=`${X((0,o.z$)())}-${R}`;break;default:w=R}const L=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${Q.SDK_VERSION}/${L}`}class Ur{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const L=Ae=>new Promise((kt,dn)=>{try{kt(v(Ae))}catch(Kn){dn(Kn)}});L.onAbort=w,this.queue.push(L);const le=this.queue.length-1;return()=>{this.queue[le]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,I.Z)(function*(){var L;if(w.auth.currentUser===v)return;const le=[];try{for(const Ae of w.queue)yield Ae(v),Ae.onAbort&&le.push(Ae.onAbort)}catch(Ae){le.reverse();for(const kt of le)try{kt()}catch(dn){}throw w.auth._errorFactory.create("login-blocked",{originalMessage:null===(L=Ae)||void 0===L?void 0:L.message})}})()}}class ls{constructor(v,w,L){this.app=v,this.heartbeatServiceProvider=w,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.beforeStateQueue=new Ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(v,w){var L=this;return w&&(this._popupRedirectResolver=Xe(w)),this._initializationPromise=this.queue((0,I.Z)(function*(){var le,Ae;if(!L._deleted&&(L.persistenceManager=yield gt.create(L,v),!L._deleted)){if(null===(le=L._popupRedirectResolver)||void 0===le?void 0:le._shouldInitProactively)try{yield L._popupRedirectResolver._initialize(L)}catch(kt){}yield L.initializeCurrentUser(w),L.lastNotifiedUid=(null===(Ae=L.currentUser)||void 0===Ae?void 0:Ae.uid)||null,!L._deleted&&(L._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,I.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUser(v){var w=this;return(0,I.Z)(function*(){var L;const le=yield w.assertedPersistence.getCurrentUser();let Ae=le,kt=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const dn=null===(L=w.redirectUser)||void 0===L?void 0:L._redirectEventId,Kn=null==Ae?void 0:Ae._redirectEventId,yr=yield w.tryRedirectSignIn(v);(!dn||dn===Kn)&&(null==yr?void 0:yr.user)&&(Ae=yr.user,kt=!0)}if(!Ae)return w.directlySetCurrentUser(null);if(!Ae._redirectEventId){if(kt)try{yield w.beforeStateQueue.runMiddleware(Ae)}catch(dn){Ae=le,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(dn))}return Ae?w.reloadAndSetCurrentUserOrClear(Ae):w.directlySetCurrentUser(null)}return He(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===Ae._redirectEventId?w.directlySetCurrentUser(Ae):w.reloadAndSetCurrentUserOrClear(Ae)})()}tryRedirectSignIn(v){var w=this;return(0,I.Z)(function*(){let L=null;try{L=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch(le){yield w._setRedirectUser(null)}return L})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,I.Z)(function*(){var L;try{yield xn(v)}catch(le){if("auth/network-request-failed"!==(null===(L=le)||void 0===L?void 0:L.code))return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var v=this;return(0,I.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,I.Z)(function*(){const L=v?(0,o.m9)(v):null;return L&&He(L.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(L&&L._clone(w))})()}_updateCurrentUser(v,w=!1){var L=this;return(0,I.Z)(function*(){if(!L._deleted)return v&&He(L.tenantId===v.tenantId,L,"tenant-id-mismatch"),w||(yield L.beforeStateQueue.runMiddleware(v)),L.queue((0,I.Z)(function*(){yield L.directlySetCurrentUser(v),L.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,I.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var w=this;return this.queue((0,I.Z)(function*(){yield w.assertedPersistence.setPersistence(Xe(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new o.LL("auth","Firebase",v())}onAuthStateChanged(v,w,L){return this.registerStateListener(this.authStateSubscription,v,w,L)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,L){return this.registerStateListener(this.idTokenSubscription,v,w,L)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var L=this;return(0,I.Z)(function*(){const le=yield L.getOrInitRedirectPersistenceManager(w);return null===v?le.removeCurrentUser():le.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,I.Z)(function*(){if(!w.redirectPersistenceManager){const L=v&&Xe(v)||w._popupRedirectResolver;He(L,w,"argument-error"),w.redirectPersistenceManager=yield gt.create(w,[Xe(L._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,I.Z)(function*(){var L,le;return w._isInitialized&&(yield w.queue((0,I.Z)(function*(){}))),(null===(L=w._currentUser)||void 0===L?void 0:L._redirectEventId)===v?w._currentUser:(null===(le=w.redirectUser)||void 0===le?void 0:le._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,I.Z)(function*(){if(v===w.currentUser)return w.queue((0,I.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const L=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,L,le){if(this._deleted)return()=>{};const Ae="function"==typeof w?w:w.next.bind(w),kt=this._isInitialized?Promise.resolve():this._initializationPromise;return He(kt,this,"internal-error"),kt.then(()=>Ae(this.currentUser)),"function"==typeof w?v.addObserver(w,L,le):v.addObserver(w)}directlySetCurrentUser(v){var w=this;return(0,I.Z)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Vr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,I.Z)(function*(){var w;const L={"X-Client-Version":v.clientVersion};v.app.options.appId&&(L["X-Firebase-gmpid"]=v.app.options.appId);const le=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return le&&(L["X-Firebase-Client"]=le),L})()}}function nr(R){return(0,o.m9)(R)}class je{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,o.ne)(w=>this.observer=w)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function It(R,v,w){const L=nr(R);He(L._canInitEmulator,L,"emulator-config-failed"),He(/^https?:\/\//.test(v),L,"invalid-emulator-scheme");const le=!!(null==w?void 0:w.disableWarnings),Ae=zt(v),{host:kt,port:dn}=function(R){const v=zt(R),w=/(\/\/)?([^?#/]+)/.exec(R.substr(v.length));if(!w)return{host:"",port:null};const L=w[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(L);if(le){const Ae=le[1];return{host:Ae,port:Zr(L.substr(Ae.length+1))}}{const[Ae,kt]=L.split(":");return{host:Ae,port:Zr(kt)}}}(v);L.config.emulator={url:`${Ae}//${kt}${null===dn?"":`:${dn}`}/`},L.settings.appVerificationDisabledForTesting=!0,L.emulatorConfig=Object.freeze({host:kt,port:dn,protocol:Ae.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function(){function R(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function zt(R){const v=R.indexOf(":");return v<0?"":R.substr(0,v+1)}function Zr(R){if(!R)return null;const v=Number(R);return isNaN(v)?null:v}class ct{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return it("not implemented")}_getIdTokenResponse(v){return it("not implemented")}_linkToIdToken(v,w){return it("not implemented")}_getReauthenticationResolver(v){return it("not implemented")}}function qe(R,v){return Re.apply(this,arguments)}function Re(){return(Re=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:resetPassword",hn(R,v))})).apply(this,arguments)}function bt(R,v){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function rr(R,v){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:update",hn(R,v))})).apply(this,arguments)}function li(){return(li=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signInWithPassword",hn(R,v))})).apply(this,arguments)}function fi(R,v){return _t.apply(this,arguments)}function _t(){return(_t=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:sendOobCode",hn(R,v))})).apply(this,arguments)}function ft(R,v){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,I.Z)(function*(R,v){return fi(R,v)})).apply(this,arguments)}function Ht(R,v){return yn.apply(this,arguments)}function yn(){return(yn=(0,I.Z)(function*(R,v){return fi(R,v)})).apply(this,arguments)}function jn(R,v){return wr.apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(R,v){return fi(R,v)})).apply(this,arguments)}function si(R,v){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,I.Z)(function*(R,v){return fi(R,v)})).apply(this,arguments)}function pi(){return(pi=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signInWithEmailLink",hn(R,v))})).apply(this,arguments)}function ts(){return(ts=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signInWithEmailLink",hn(R,v))})).apply(this,arguments)}class gi extends ct{constructor(v,w,L,le=null){super("password",L),this._email=v,this._password=w,this._tenantId=le}static _fromEmailAndPassword(v,w){return new gi(v,w,"password")}static _fromEmailAndCode(v,w,L=null){return new gi(v,w,"emailLink",L)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if((null==w?void 0:w.email)&&(null==w?void 0:w.password)){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,I.Z)(function*(){switch(w.signInMethod){case"password":return function(R,v){return li.apply(this,arguments)}(v,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(R,v){return pi.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:Ot(v,"internal-error")}})()}_linkToIdToken(v,w){var L=this;return(0,I.Z)(function*(){switch(L.signInMethod){case"password":return bt(v,{idToken:w,returnSecureToken:!0,email:L._email,password:L._password});case"emailLink":return function(R,v){return ts.apply(this,arguments)}(v,{idToken:w,email:L._email,oobCode:L._password});default:Ot(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Wr(R,v){return zs.apply(this,arguments)}function zs(){return(zs=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signInWithIdp",hn(R,v))})).apply(this,arguments)}class Bi extends ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const w=new Bi(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(w.idToken=v.idToken),v.accessToken&&(w.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(w.nonce=v.nonce),v.pendingToken&&(w.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(w.accessToken=v.oauthToken,w.secret=v.oauthTokenSecret):Ot("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:L,signInMethod:le}=w,Ae=(0,Ve._T)(w,["providerId","signInMethod"]);if(!L||!le)return null;const kt=new Bi(L,le);return kt.idToken=Ae.idToken||void 0,kt.accessToken=Ae.accessToken||void 0,kt.secret=Ae.secret,kt.nonce=Ae.nonce,kt.pendingToken=Ae.pendingToken||null,kt}_getIdTokenResponse(v){return Wr(v,this.buildRequest())}_linkToIdToken(v,w){const L=this.buildRequest();return L.idToken=w,Wr(v,L)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,Wr(v,w)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),v.postBody=(0,o.xO)(w)}return v}}function Ci(R,v){return Is.apply(this,arguments)}function Is(){return(Is=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:sendVerificationCode",hn(R,v))})).apply(this,arguments)}function As(){return(As=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signInWithPhoneNumber",hn(R,v))})).apply(this,arguments)}function Xo(){return(Xo=(0,I.Z)(function*(R,v){const w=yield Fn(R,"POST","/v1/accounts:signInWithPhoneNumber",hn(R,v));if(w.temporaryProof)throw Yn(R,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const aa={USER_NOT_FOUND:"user-not-found"};function Ls(){return(Ls=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signInWithPhoneNumber",hn(R,Object.assign(Object.assign({},v),{operation:"REAUTH"})),aa)})).apply(this,arguments)}class Bs extends ct{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,w){return new Bs({verificationId:v,verificationCode:w})}static _fromTokenResponse(v,w){return new Bs({phoneNumber:v,temporaryProof:w})}_getIdTokenResponse(v){return function(R,v){return As.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,w){return function(R,v){return Xo.apply(this,arguments)}(v,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function(R,v){return Ls.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:w,verificationId:L,verificationCode:le}=this.params;return v&&w?{temporaryProof:v,phoneNumber:w}:{sessionInfo:L,code:le}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:w,verificationCode:L,phoneNumber:le,temporaryProof:Ae}=v;return L||w||le||Ae?new Bs({verificationId:w,verificationCode:L,phoneNumber:le,temporaryProof:Ae}):null}}class jo{constructor(v){var w,L,le,Ae,kt,dn;const Kn=(0,o.zd)((0,o.pd)(v)),yr=null!==(w=Kn.apiKey)&&void 0!==w?w:null,Qr=null!==(L=Kn.oobCode)&&void 0!==L?L:null,Ji=function(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=Kn.mode)&&void 0!==le?le:null);He(yr&&Qr&&Ji,"argument-error"),this.apiKey=yr,this.operation=Ji,this.code=Qr,this.continueUrl=null!==(Ae=Kn.continueUrl)&&void 0!==Ae?Ae:null,this.languageCode=null!==(kt=Kn.languageCode)&&void 0!==kt?kt:null,this.tenantId=null!==(dn=Kn.tenantId)&&void 0!==dn?dn:null}static parseLink(v){const w=function(R){const v=(0,o.zd)((0,o.pd)(R)).link,w=v?(0,o.zd)((0,o.pd)(v)).deep_link_id:null,L=(0,o.zd)((0,o.pd)(R)).deep_link_id;return(L?(0,o.zd)((0,o.pd)(L)).link:null)||L||w||v||R}(v);try{return new jo(w)}catch(L){return null}}}let to=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(w,L){return gi._fromEmailAndPassword(w,L)}static credentialWithLink(w,L){const le=jo.parseLink(L);return He(le,"argument-error"),gi._fromEmailAndCode(w,le.code,le.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class Ms{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Ws extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class no extends Ws{static credentialFromJSON(v){const w="string"==typeof v?JSON.parse(v):v;return He("providerId"in w&&"signInMethod"in w,"argument-error"),Bi._fromParams(w)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return He(v.idToken||v.accessToken,"argument-error"),Bi._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return no.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return no.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:w,oauthAccessToken:L,oauthTokenSecret:le,pendingToken:Ae,nonce:kt,providerId:dn}=v;if(!L&&!le&&!w&&!Ae||!dn)return null;try{return new no(dn)._credential({idToken:w,accessToken:L,nonce:kt,pendingToken:Ae})}catch(Kn){return null}}}let Io=(()=>{class R extends Ws{constructor(){super("facebook.com")}static credential(w){return Bi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return R.credentialFromTaggedObject(w)}static credentialFromError(w){return R.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return R.credential(w.oauthAccessToken)}catch(L){return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),ro=(()=>{class R extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(w,L){return Bi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:L})}static credentialFromResult(w){return R.credentialFromTaggedObject(w)}static credentialFromError(w){return R.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:L,oauthAccessToken:le}=w;if(!L&&!le)return null;try{return R.credential(L,le)}catch(Ae){return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),ea=(()=>{class R extends Ws{constructor(){super("github.com")}static credential(w){return Bi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return R.credentialFromTaggedObject(w)}static credentialFromError(w){return R.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return R.credential(w.oauthAccessToken)}catch(L){return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class io extends ct{constructor(v,w){super(v,v),this.pendingToken=w}_getIdTokenResponse(v){return Wr(v,this.buildRequest())}_linkToIdToken(v,w){const L=this.buildRequest();return L.idToken=w,Wr(v,L)}_getReauthenticationResolver(v){const w=this.buildRequest();return w.autoCreate=!1,Wr(v,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v,{providerId:L,signInMethod:le,pendingToken:Ae}=w;return L&&le&&Ae&&L===le?new io(L,Ae):null}static _create(v,w){return new io(v,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ji extends Ms{constructor(v){He(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return ji.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return ji.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const w=io.fromJSON(v);return He(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:w,providerId:L}=v;if(!w||!L)return null;try{return io._create(L,w)}catch(le){return null}}}let Mo=(()=>{class R extends Ws{constructor(){super("twitter.com")}static credential(w,L){return Bi._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:L})}static credentialFromResult(w){return R.credentialFromTaggedObject(w)}static credentialFromError(w){return R.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:L,oauthTokenSecret:le}=w;if(!L||!le)return null;try{return R.credential(L,le)}catch(Ae){return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function Oo(R,v){return xo.apply(this,arguments)}function xo(){return(xo=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signUp",hn(R,v))})).apply(this,arguments)}class us{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,L,le=!1){return(0,I.Z)(function*(){const Ae=yield me._fromIdTokenResponse(v,L,le),kt=Ys(L);return new us({user:Ae,providerId:kt,_tokenResponse:L,operationType:w})})()}static _forOperation(v,w,L){return(0,I.Z)(function*(){yield v._updateTokensIfNecessary(L,!0);const le=Ys(L);return new us({user:v,providerId:le,_tokenResponse:L,operationType:w})})()}}function Ys(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function Hi(R){return gs.apply(this,arguments)}function gs(){return(gs=(0,I.Z)(function*(R){var v;const w=nr(R);if(yield w._initializationPromise,null===(v=w.currentUser)||void 0===v?void 0:v.isAnonymous)return new us({user:w.currentUser,providerId:null,operationType:"signIn"});const L=yield Oo(w,{returnSecureToken:!0}),le=yield us._fromIdTokenResponse(w,"signIn",L,!0);return yield w._updateCurrentUser(le.user),le})).apply(this,arguments)}class js extends o.ZR{constructor(v,w,L,le){var Ae;super(w.code,w.message),this.operationType=L,this.user=le,Object.setPrototypeOf(this,js.prototype),this.customData={appName:v.name,tenantId:null!==(Ae=v.tenantId)&&void 0!==Ae?Ae:void 0,_serverResponse:w.customData._serverResponse,operationType:L}}static _fromErrorAndOperation(v,w,L,le){return new js(v,w,L,le)}}function Ho(R,v,w,L){return("reauthenticate"===v?w._getReauthenticationResolver(R):w._getIdTokenResponse(R)).catch(Ae=>{throw"auth/multi-factor-auth-required"===Ae.code?js._fromErrorAndOperation(R,Ae,v,L):Ae})}function ms(R){return new Set(R.map(({providerId:v})=>v).filter(v=>!!v))}function Ti(R,v){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,I.Z)(function*(R,v){const w=(0,o.m9)(R);yield $(!0,w,v);const{providerUserInfo:L}=yield Rr(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[v]}),le=ms(L||[]);return w.providerData=w.providerData.filter(Ae=>le.has(Ae.providerId)),le.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function G(R,v){return de.apply(this,arguments)}function de(){return(de=(0,I.Z)(function*(R,v,w=!1){const L=yield Bt(R,v._linkToIdToken(R.auth,yield R.getIdToken()),w);return us._forOperation(R,"link",L)})).apply(this,arguments)}function $(R,v,w){return pe.apply(this,arguments)}function pe(){return(pe=(0,I.Z)(function*(R,v,w){yield xn(v);const le=!1===R?"provider-already-linked":"no-such-provider";He(ms(v.providerData).has(w)===R,v.auth,le)})).apply(this,arguments)}function at(R,v){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,I.Z)(function*(R,v,w=!1){var L;const{auth:le}=R,Ae="reauthenticate";try{const kt=yield Bt(R,Ho(le,Ae,v,R),w);He(kt.idToken,le,"internal-error");const dn=yt(kt.idToken);He(dn,le,"internal-error");const{sub:Kn}=dn;return He(R.uid===Kn,le,"user-mismatch"),us._forOperation(R,Ae,kt)}catch(kt){throw"auth/user-not-found"===(null===(L=kt)||void 0===L?void 0:L.code)&&Ot(le,"user-mismatch"),kt}})).apply(this,arguments)}function oe(R,v){return ge.apply(this,arguments)}function ge(){return(ge=(0,I.Z)(function*(R,v,w=!1){const L="signIn",le=yield Ho(R,L,v),Ae=yield us._fromIdTokenResponse(R,L,le);return w||(yield R._updateCurrentUser(Ae.user)),Ae})).apply(this,arguments)}function tt(R,v){return Et.apply(this,arguments)}function Et(){return(Et=(0,I.Z)(function*(R,v){return oe(nr(R),v)})).apply(this,arguments)}function Jt(R,v){return sn.apply(this,arguments)}function sn(){return(sn=(0,I.Z)(function*(R,v){const w=(0,o.m9)(R);return yield $(!1,w,v.providerId),G(w,v)})).apply(this,arguments)}function Pn(R,v){return Un.apply(this,arguments)}function Un(){return(Un=(0,I.Z)(function*(R,v){return at((0,o.m9)(R),v)})).apply(this,arguments)}function Xr(R,v){return di.apply(this,arguments)}function di(){return(di=(0,I.Z)(function*(R,v){return Fn(R,"POST","/v1/accounts:signInWithCustomToken",hn(R,v))})).apply(this,arguments)}function Cr(R,v){return $n.apply(this,arguments)}function $n(){return($n=(0,I.Z)(function*(R,v){const w=nr(R),L=yield Xr(w,{token:v,returnSecureToken:!0}),le=yield us._fromIdTokenResponse(w,"signIn",L);return yield w._updateCurrentUser(le.user),le})).apply(this,arguments)}class Di{constructor(v,w){this.factorId=v,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(v,w){return"phoneInfo"in w?ds._fromServerResponse(v,w):Ot(v,"internal-error")}}class ds extends Di{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,w){return new ds(w)}}function ns(R,v,w){var L;He((null===(L=w.url)||void 0===L?void 0:L.length)>0,R,"invalid-continue-uri"),He(void 0===w.dynamicLinkDomain||w.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(He(w.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(He(w.android.packageName.length>0,R,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}function rs(R,v,w){return so.apply(this,arguments)}function so(){return(so=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R),le={requestType:"PASSWORD_RESET",email:v};w&&ns(L,le,w),yield Ht(L,le)})).apply(this,arguments)}function Ea(R,v,w){return mr.apply(this,arguments)}function mr(){return(mr=(0,I.Z)(function*(R,v,w){yield qe((0,o.m9)(R),{oobCode:v,newPassword:w})})).apply(this,arguments)}function yo(R,v){return ui.apply(this,arguments)}function ui(){return(ui=(0,I.Z)(function*(R,v){yield rr((0,o.m9)(R),{oobCode:v})})).apply(this,arguments)}function Os(R,v){return ys.apply(this,arguments)}function ys(){return(ys=(0,I.Z)(function*(R,v){const w=(0,o.m9)(R),L=yield qe(w,{oobCode:v}),le=L.requestType;switch(He(le,w,"internal-error"),le){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":He(L.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":He(L.mfaInfo,w,"internal-error");default:He(L.email,w,"internal-error")}let Ae=null;return L.mfaInfo&&(Ae=Di._fromServerResponse(nr(w),L.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.newEmail:L.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.email:L.newEmail)||null,multiFactorInfo:Ae},operation:le}})).apply(this,arguments)}function wa(R,v){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,I.Z)(function*(R,v){const{data:w}=yield Os((0,o.m9)(R),v);return w.email})).apply(this,arguments)}function la(R,v,w){return ln.apply(this,arguments)}function ln(){return(ln=(0,I.Z)(function*(R,v,w){const L=nr(R),le=yield Oo(L,{returnSecureToken:!0,email:v,password:w}),Ae=yield us._fromIdTokenResponse(L,"signIn",le);return yield L._updateCurrentUser(Ae.user),Ae})).apply(this,arguments)}function Lr(R,v,w){return tt((0,o.m9)(R),to.credential(v,w))}function re(R,v,w){return C.apply(this,arguments)}function C(){return(C=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R),le={requestType:"EMAIL_SIGNIN",email:v};He(w.handleCodeInApp,L,"argument-error"),w&&ns(L,le,w),yield jn(L,le)})).apply(this,arguments)}function A(R,v){const w=jo.parseLink(v);return"EMAIL_SIGNIN"===(null==w?void 0:w.operation)}function B(R,v,w){return ie.apply(this,arguments)}function ie(){return(ie=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R),le=to.credentialWithLink(v,w||Dt());return He(le._tenantId===(L.tenantId||null),L,"tenant-id-mismatch"),tt(L,le)})).apply(this,arguments)}function we(R,v){return We.apply(this,arguments)}function We(){return(We=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:createAuthUri",hn(R,v))})).apply(this,arguments)}function lt(R,v){return xt.apply(this,arguments)}function xt(){return(xt=(0,I.Z)(function*(R,v){const L={identifier:v,continueUri:Lt()?Dt():"http://localhost"},{signinMethods:le}=yield we((0,o.m9)(R),L);return le||[]})).apply(this,arguments)}function Kt(R,v){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,I.Z)(function*(R,v){const w=(0,o.m9)(R),le={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};v&&ns(w.auth,le,v);const{email:Ae}=yield ft(w.auth,le);Ae!==R.email&&(yield R.reload())})).apply(this,arguments)}function Ln(R,v,w){return ir.apply(this,arguments)}function ir(){return(ir=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R),Ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:v};w&&ns(L.auth,Ae,w);const{email:kt}=yield si(L.auth,Ae);kt!==R.email&&(yield R.reload())})).apply(this,arguments)}function ei(R,v){return cr.apply(this,arguments)}function cr(){return(cr=(0,I.Z)(function*(R,v){return bn(R,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function pr(R,v){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,I.Z)(function*(R,{displayName:v,photoURL:w}){if(void 0===v&&void 0===w)return;const L=(0,o.m9)(R),Ae={idToken:yield L.getIdToken(),displayName:v,photoUrl:w,returnSecureToken:!0},kt=yield Bt(L,ei(L.auth,Ae));L.displayName=kt.displayName||null,L.photoURL=kt.photoUrl||null;const dn=L.providerData.find(({providerId:Kn})=>"password"===Kn);dn&&(dn.displayName=L.displayName,dn.photoURL=L.photoURL),yield L._updateTokensIfNecessary(kt)})).apply(this,arguments)}function bi(R,v){return _s((0,o.m9)(R),v,null)}function Si(R,v){return _s((0,o.m9)(R),null,v)}function _s(R,v,w){return Or.apply(this,arguments)}function Or(){return(Or=(0,I.Z)(function*(R,v,w){const{auth:L}=R,Ae={idToken:yield R.getIdToken(),returnSecureToken:!0};v&&(Ae.email=v),w&&(Ae.password=w);const kt=yield Bt(R,bt(L,Ae));yield R._updateTokensIfNecessary(kt,!0)})).apply(this,arguments)}class vs{constructor(v,w,L={}){this.isNewUser=v,this.providerId=w,this.profile=L}}class Fi extends vs{constructor(v,w,L,le){super(v,w,L),this.username=le}}class Qs extends vs{constructor(v,w){super(v,"facebook.com",w)}}class ao extends Fi{constructor(v,w){super(v,"github.com",w,"string"==typeof(null==w?void 0:w.login)?null==w?void 0:w.login:null)}}class bs extends vs{constructor(v,w){super(v,"google.com",w)}}class Ua extends Fi{constructor(v,w,L){super(v,"twitter.com",w,L)}}function Ca(R){const{user:v,_tokenResponse:w}=R;return v.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function(R){var v,w;if(!R)return null;const{providerId:L}=R,le=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Ae=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!L&&(null==R?void 0:R.idToken)){const kt=null===(w=null===(v=yt(R.idToken))||void 0===v?void 0:v.firebase)||void 0===w?void 0:w.sign_in_provider;if(kt)return new vs(Ae,"anonymous"!==kt&&"custom"!==kt?kt:null)}if(!L)return null;switch(L){case"facebook.com":return new Qs(Ae,le);case"github.com":return new ao(Ae,le);case"google.com":return new bs(Ae,le);case"twitter.com":return new Ua(Ae,le,R.screenName||null);case"custom":case"anonymous":return new vs(Ae,null);default:return new vs(Ae,L,le)}}(w)}function Qn(R,v,w,L){return(0,o.m9)(R).onAuthStateChanged(v,w,L)}class Ki{constructor(v,w){this.type=v,this.credential=w}static _fromIdtoken(v){return new Ki("enroll",v)}static _fromMfaPendingCredential(v){return new Ki("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var w,L;if(null==v?void 0:v.multiFactorSession){if(null===(w=v.multiFactorSession)||void 0===w?void 0:w.pendingCredential)return Ki._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null===(L=v.multiFactorSession)||void 0===L?void 0:L.idToken)return Ki._fromIdtoken(v.multiFactorSession.idToken)}return null}}class Ri{constructor(v,w,L){this.session=v,this.hints=w,this.signInResolver=L}static _fromError(v,w){const L=nr(v),le=w.customData._serverResponse,Ae=(le.mfaInfo||[]).map(dn=>Di._fromServerResponse(L,dn));He(le.mfaPendingCredential,L,"internal-error");const kt=Ki._fromMfaPendingCredential(le.mfaPendingCredential);return new Ri(kt,Ae,function(){var dn=(0,I.Z)(function*(Kn){const yr=yield Kn._process(L,kt);delete le.mfaInfo,delete le.mfaPendingCredential;const Qr=Object.assign(Object.assign({},le),{idToken:yr.idToken,refreshToken:yr.refreshToken});switch(w.operationType){case"signIn":const Ji=yield us._fromIdTokenResponse(L,w.operationType,Qr);return yield L._updateCurrentUser(Ji.user),Ji;case"reauthenticate":return He(w.user,L,"internal-error"),us._forOperation(w.user,w.operationType,Qr);default:Ot(L,"internal-error")}});return function(Kn){return dn.apply(this,arguments)}}())}resolveSignIn(v){var w=this;return(0,I.Z)(function*(){return w.signInResolver(v)})()}}function mi(R,v){var w;const L=(0,o.m9)(R),le=v;return He(v.customData.operationType,L,"argument-error"),He(null===(w=le.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,L,"argument-error"),Ri._fromError(L,le)}function hs(R,v){return bn(R,"POST","/v2/accounts/mfaEnrollment:start",hn(R,v))}class lo{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(L=>Di._fromServerResponse(v.auth,L)))})}static _fromUser(v){return new lo(v)}getSession(){var v=this;return(0,I.Z)(function*(){return Ki._fromIdtoken(yield v.user.getIdToken())})()}enroll(v,w){var L=this;return(0,I.Z)(function*(){const le=v,Ae=yield L.getSession(),kt=yield Bt(L.user,le._process(L.user.auth,Ae,w));return yield L.user._updateTokensIfNecessary(kt),L.user.reload()})()}unenroll(v){var w=this;return(0,I.Z)(function*(){var L;const le="string"==typeof v?v:v.uid,Ae=yield w.user.getIdToken(),kt=yield Bt(w.user,function(R,v){return bn(R,"POST","/v2/accounts/mfaEnrollment:withdraw",hn(R,v))}(w.user.auth,{idToken:Ae,mfaEnrollmentId:le}));w.enrolledFactors=w.enrolledFactors.filter(({uid:dn})=>dn!==le),yield w.user._updateTokensIfNecessary(kt);try{yield w.user.reload()}catch(dn){if("auth/user-token-expired"!==(null===(L=dn)||void 0===L?void 0:L.code))throw dn}})()}}const co=new WeakMap;function Ta(R){const v=(0,o.m9)(R);return co.has(v)||co.set(v,lo._fromUser(v)),co.get(v)}const Zi="__sak";class Rs{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Zi,"1"),this.storage.removeItem(Zi),Promise.resolve(!0)):Promise.resolve(!1)}catch(v){return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const ca=(()=>{class R extends Rs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,L)=>this.onStorageEvent(w,L),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const R=(0,o.z$)();return H(R)||Rn(R)}()&&function(){try{return!(!window||window===window.top)}catch(R){return!1}}(),this.fallbackToPolling=lr(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const L of Object.keys(this.listeners)){const le=this.storage.getItem(L),Ae=this.localCache[L];le!==Ae&&w(L,Ae,le)}}onStorageEvent(w,L=!1){if(!w.key)return void this.forAllChangedKeys((dn,Kn,yr)=>{this.notifyListeners(dn,yr)});const le=w.key;if(L?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dn=this.storage.getItem(le);if(w.newValue!==dn)null!==w.newValue?this.storage.setItem(le,w.newValue):this.storage.removeItem(le);else if(this.localCache[le]===w.newValue&&!L)return}const Ae=()=>{const dn=this.storage.getItem(le);!L&&this.localCache[le]===dn||this.notifyListeners(le,dn)},kt=this.storage.getItem(le);(0,o.w1)()&&10===document.documentMode&&kt!==w.newValue&&w.newValue!==w.oldValue?setTimeout(Ae,10):Ae()}notifyListeners(w,L){this.localCache[w]=L;const le=this.listeners[w];if(le)for(const Ae of Array.from(le))Ae(L&&JSON.parse(L))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,L,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:L,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,L){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(L)}_removeListener(w,L){this.listeners[w]&&(this.listeners[w].delete(L),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,L){var le=()=>super._set,Ae=this;return(0,I.Z)(function*(){yield le().call(Ae,w,L),Ae.localCache[w]=JSON.stringify(L)})()}_get(w){var L=()=>super._get,le=this;return(0,I.Z)(function*(){const Ae=yield L().call(le,w);return le.localCache[w]=JSON.stringify(Ae),Ae})()}_remove(w){var L=()=>super._remove,le=this;return(0,I.Z)(function*(){yield L().call(le,w),delete le.localCache[w]})()}}return R.type="LOCAL",R})(),Il=(()=>{class R extends Rs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,L){}_removeListener(w,L){}}return R.type="SESSION",R})();let Wc=(()=>{class R{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const L=this.receivers.find(Ae=>Ae.isListeningto(w));if(L)return L;const le=new R(w);return this.receivers.push(le),le}isListeningto(w){return this.eventTarget===w}handleEvent(w){var L=this;return(0,I.Z)(function*(){const le=w,{eventId:Ae,eventType:kt,data:dn}=le.data,Kn=L.handlersMap[kt];if(!(null==Kn?void 0:Kn.size))return;le.ports[0].postMessage({status:"ack",eventId:Ae,eventType:kt});const yr=Array.from(Kn).map(function(){var Ji=(0,I.Z)(function*(xa){return xa(le.origin,dn)});return function(xa){return Ji.apply(this,arguments)}}()),Qr=yield function(R){return Promise.all(R.map(function(){var v=(0,I.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(L){return{fulfilled:!1,reason:L}}});return function(w){return v.apply(this,arguments)}}()))}(yr);le.ports[0].postMessage({status:"done",eventId:Ae,eventType:kt,response:Qr})})()}_subscribe(w,L){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(L)}_unsubscribe(w,L){this.handlersMap[w]&&L&&this.handlersMap[w].delete(L),(!L||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function $l(R="",v=10){let w="";for(let L=0;L<v;L++)w+=Math.floor(10*Math.random());return R+w}class Da{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w,L=50){var le=this;return(0,I.Z)(function*(){const Ae="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ae)throw new Error("connection_unavailable");let kt,dn;return new Promise((Kn,yr)=>{const Qr=$l("",20);Ae.port1.start();const Ji=setTimeout(()=>{yr(new Error("unsupported_event"))},L);dn={messageChannel:Ae,onMessage(xa){const fa=xa;if(fa.data.eventId===Qr)switch(fa.data.status){case"ack":clearTimeout(Ji),kt=setTimeout(()=>{yr(new Error("timeout"))},3e3);break;case"done":clearTimeout(kt),Kn(fa.data.response);break;default:clearTimeout(Ji),clearTimeout(kt),yr(new Error("invalid_response"))}}},le.handlers.add(dn),Ae.port1.addEventListener("message",dn.onMessage),le.target.postMessage({eventType:v,eventId:Qr,data:w},[Ae.port2])}).finally(()=>{dn&&le.removeMessageHandler(dn)})})()}}function is(){return window}function Yi(){return void 0!==is().WorkerGlobalScope&&"function"==typeof is().importScripts}function bo(){return(bo=(0,I.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(R){return null}})).apply(this,arguments)}const pn="firebaseLocalStorageDb",ks="firebaseLocalStorage",Sa="fbase_key";class zn{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Sr(R,v){return R.transaction([ks],v?"readwrite":"readonly").objectStore(ks)}function Nn(){const R=indexedDB.open(pn,1);return new Promise((v,w)=>{R.addEventListener("error",()=>{w(R.error)}),R.addEventListener("upgradeneeded",()=>{const L=R.result;try{L.createObjectStore(ks,{keyPath:Sa})}catch(le){w(le)}}),R.addEventListener("success",(0,I.Z)(function*(){const L=R.result;L.objectStoreNames.contains(ks)?v(L):(L.close(),yield function(){const R=indexedDB.deleteDatabase(pn);return new zn(R).toPromise()}(),v(yield Nn()))}))})}function $t(R,v,w){return nn.apply(this,arguments)}function nn(){return(nn=(0,I.Z)(function*(R,v,w){const L=Sr(R,!0).put({[Sa]:v,value:w});return new zn(L).toPromise()})).apply(this,arguments)}function Za(){return(Za=(0,I.Z)(function*(R,v){const w=Sr(R,!1).get(v),L=yield new zn(w).toPromise();return void 0===L?null:L.value})).apply(this,arguments)}function al(R,v){const w=Sr(R,!0).delete(v);return new zn(w).toPromise()}const x=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,I.Z)(function*(){return w.db||(w.db=yield Nn()),w.db})()}_withRetries(w){var L=this;return(0,I.Z)(function*(){let le=0;for(;;)try{const Ae=yield L._openDb();return yield w(Ae)}catch(Ae){if(le++>3)throw Ae;L.db&&(L.db.close(),L.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,I.Z)(function*(){return Yi()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,I.Z)(function*(){w.receiver=Wc._getInstance(Yi()?self:null),w.receiver._subscribe("keyChanged",function(){var L=(0,I.Z)(function*(le,Ae){return{keyProcessed:(yield w._poll()).includes(Ae.key)}});return function(le,Ae){return L.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var L=(0,I.Z)(function*(le,Ae){return["keyChanged"]});return function(le,Ae){return L.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,I.Z)(function*(){var L,le;if(w.activeServiceWorker=yield function(){return bo.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new Da(w.activeServiceWorker);const Ae=yield w.sender._send("ping",{},800);!Ae||(null===(L=Ae[0])||void 0===L?void 0:L.fulfilled)&&(null===(le=Ae[0])||void 0===le?void 0:le.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var L=this;return(0,I.Z)(function*(){if(L.sender&&L.activeServiceWorker&&function(){var R;return(null===(R=null==navigator?void 0:navigator.serviceWorker)||void 0===R?void 0:R.controller)||null}()===L.activeServiceWorker)try{yield L.sender._send("keyChanged",{key:w},L.serviceWorkerReceiverAvailable?800:50)}catch(le){}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Nn();return yield $t(w,Zi,"1"),yield al(w,Zi),!0}catch(w){}return!1})()}_withPendingWrite(w){var L=this;return(0,I.Z)(function*(){L.pendingWrites++;try{yield w()}finally{L.pendingWrites--}})()}_set(w,L){var le=this;return(0,I.Z)(function*(){return le._withPendingWrite((0,I.Z)(function*(){return yield le._withRetries(Ae=>$t(Ae,w,L)),le.localCache[w]=L,le.notifyServiceWorker(w)}))})()}_get(w){var L=this;return(0,I.Z)(function*(){const le=yield L._withRetries(Ae=>function(R,v){return Za.apply(this,arguments)}(Ae,w));return L.localCache[w]=le,le})()}_remove(w){var L=this;return(0,I.Z)(function*(){return L._withPendingWrite((0,I.Z)(function*(){return yield L._withRetries(le=>al(le,w)),delete L.localCache[w],L.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,I.Z)(function*(){const L=yield w._withRetries(kt=>{const dn=Sr(kt,!1).getAll();return new zn(dn).toPromise()});if(!L)return[];if(0!==w.pendingWrites)return[];const le=[],Ae=new Set;for(const{fbase_key:kt,value:dn}of L)Ae.add(kt),JSON.stringify(w.localCache[kt])!==JSON.stringify(dn)&&(w.notifyListeners(kt,dn),le.push(kt));for(const kt of Object.keys(w.localCache))w.localCache[kt]&&!Ae.has(kt)&&(w.notifyListeners(kt,null),le.push(kt));return le})()}notifyListeners(w,L){this.localCache[w]=L;const le=this.listeners[w];if(le)for(const Ae of Array.from(le))Ae(L)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,L){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(L)}_removeListener(w,L){this.listeners[w]&&(this.listeners[w].delete(L),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function O(R,v){return bn(R,"POST","/v2/accounts/mfaSignIn:start",hn(R,v))}function E(){return(E=(0,I.Z)(function*(R){return(yield bn(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function y(R){return new Promise((v,w)=>{const L=document.createElement("script");L.setAttribute("src",R),L.onload=v,L.onerror=le=>{const Ae=At("internal-error");Ae.customData=le,w(Ae)},L.type="text/javascript",L.charset="UTF-8",function(){var R,v;return null!==(v=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==v?v:document}().appendChild(L)})}function F(R){return`__${R}${Math.floor(1e6*Math.random())}`}const Rt=1e12;class qn{constructor(v){this.auth=v,this.counter=Rt,this._widgets=new Map}render(v,w){const L=this.counter;return this._widgets.set(L,new en(v,this.auth.name,w||{})),this.counter++,L}reset(v){var w;const L=v||Rt;null===(w=this._widgets.get(L))||void 0===w||w.delete(),this._widgets.delete(L)}getResponse(v){var w;return(null===(w=this._widgets.get(v||Rt))||void 0===w?void 0:w.getResponse())||""}execute(v){var w=this;return(0,I.Z)(function*(){var L;return null===(L=w._widgets.get(v||Rt))||void 0===L||L.execute(),""})()}}class en{constructor(v,w,L){this.params=L,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof v?document.getElementById(v):v;He(le,"argument-error",{appName:w}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(R){const v=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<50;L++)v.push(w.charAt(Math.floor(Math.random()*w.length)));return v.join("")}();const{callback:v,"expired-callback":w}=this.params;if(v)try{v(this.responseToken)}catch(L){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch(L){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ar=F("rcb"),_n=new fn(3e4,6e4);class ss{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(v=is().grecaptcha)||void 0===v?void 0:v.render)}load(v,w=""){return He((R=w).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R),v,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(is().grecaptcha):new Promise((L,le)=>{const Ae=is().setTimeout(()=>{le(At(v,"network-request-failed"))},_n.get());is()[Ar]=()=>{is().clearTimeout(Ae),delete is()[Ar];const dn=is().grecaptcha;if(!dn)return void le(At(v,"internal-error"));const Kn=dn.render;dn.render=(yr,Qr)=>{const Ji=Kn(yr,Qr);return this.counter++,Ji},this.hostLanguage=w,L(dn)},y(`https://www.google.com/recaptcha/api.js??${(0,o.xO)({onload:Ar,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(Ae),le(At(v,"internal-error"))})});var R}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var w;return!!(null===(w=is().grecaptcha)||void 0===w?void 0:w.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ga{load(v){return(0,I.Z)(function*(){return new qn(v)})()}clearedOneInstance(){}}const zl="recaptcha",Jc={theme:"light",type:"image"};class Wl{constructor(v,w=Object.assign({},Jc),L){this.parameters=w,this.type=zl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(L),this.isInvisible="invisible"===this.parameters.size,He("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof v?document.getElementById(v):v;He(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ga:new ss,this.validateStartingState()}verify(){var v=this;return(0,I.Z)(function*(){v.assertNotDestroyed();const w=yield v.render(),L=v.getAssertedRecaptcha();return L.getResponse(w)||new Promise(Ae=>{const kt=dn=>{!dn||(v.tokenChangeListeners.delete(kt),Ae(dn))};v.tokenChangeListeners.add(kt),v.isInvisible&&L.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return w=>{if(this.tokenChangeListeners.forEach(L=>L(w)),"function"==typeof v)v(w);else if("string"==typeof v){const L=is()[v];"function"==typeof L&&L(w)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,I.Z)(function*(){if(yield v.init(),!v.widgetId){let w=v.container;if(!v.isInvisible){const L=document.createElement("div");w.appendChild(L),w=L}v.widgetId=v.getAssertedRecaptcha().render(w,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,I.Z)(function*(){He(Lt()&&!Yi(),v.auth,"internal-error"),yield function(){let R=null;return new Promise(v=>{"complete"!==document.readyState?(R=()=>v(),window.addEventListener("load",R)):v()}).catch(v=>{throw R&&window.removeEventListener("load",R),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const w=yield function(R){return E.apply(this,arguments)}(v.auth);He(w,v.auth,"internal-error"),v.parameters.sitekey=w})()}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ki{constructor(v,w){this.verificationId=v,this.onConfirmation=w}confirm(v){const w=Bs._fromVerification(this.verificationId,v);return this.onConfirmation(w)}}function da(R,v,w){return mc.apply(this,arguments)}function mc(){return(mc=(0,I.Z)(function*(R,v,w){const L=nr(R),le=yield Zt(L,v,(0,o.m9)(w));return new ki(le,Ae=>tt(L,Ae))})).apply(this,arguments)}function gf(R,v,w){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R);yield $(!1,L,"phone");const le=yield Zt(L.auth,v,(0,o.m9)(w));return new ki(le,Ae=>Jt(L,Ae))})).apply(this,arguments)}function Al(R,v,w){return ud.apply(this,arguments)}function ud(){return(ud=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R),le=yield Zt(L.auth,v,(0,o.m9)(w));return new ki(le,Ae=>Pn(L,Ae))})).apply(this,arguments)}function Zt(R,v,w){return eu.apply(this,arguments)}function eu(){return(eu=(0,I.Z)(function*(R,v,w){var L;const le=yield w.verify();try{let Ae;if(He("string"==typeof le,R,"argument-error"),He(w.type===zl,R,"argument-error"),Ae="string"==typeof v?{phoneNumber:v}:v,"session"in Ae){const kt=Ae.session;if("phoneNumber"in Ae)return He("enroll"===kt.type,R,"internal-error"),(yield hs(R,{idToken:kt.credential,phoneEnrollmentInfo:{phoneNumber:Ae.phoneNumber,recaptchaToken:le}})).phoneSessionInfo.sessionInfo;{He("signin"===kt.type,R,"internal-error");const dn=(null===(L=Ae.multiFactorHint)||void 0===L?void 0:L.uid)||Ae.multiFactorUid;return He(dn,R,"missing-multi-factor-info"),(yield O(R,{mfaPendingCredential:kt.credential,mfaEnrollmentId:dn,phoneSignInInfo:{recaptchaToken:le}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:kt}=yield Ci(R,{phoneNumber:Ae.phoneNumber,recaptchaToken:le});return kt}}finally{w._reset()}})).apply(this,arguments)}function ll(R,v){return mf.apply(this,arguments)}function mf(){return(mf=(0,I.Z)(function*(R,v){yield G((0,o.m9)(R),v)})).apply(this,arguments)}let ho=(()=>{class R{constructor(w){this.providerId=R.PROVIDER_ID,this.auth=nr(w)}verifyPhoneNumber(w,L){return Zt(this.auth,w,(0,o.m9)(L))}static credential(w,L){return Bs._fromVerification(w,L)}static credentialFromResult(w){return R.credentialFromTaggedObject(w)}static credentialFromError(w){return R.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:L,temporaryProof:le}=w;return L&&le?Bs._fromTokenResponse(L,le):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function Hs(R,v){return v?Xe(v):(He(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class yf extends ct{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Wr(v,this._buildIdpRequest())}_linkToIdToken(v,w){return Wr(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return Wr(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function Ai(R){return oe(R.auth,new yf(R),R.bypassAuthState)}function tu(R){const{auth:v,user:w}=R;return He(w,v,"internal-error"),at(w,new yf(R),R.bypassAuthState)}function nu(R){return _f.apply(this,arguments)}function _f(){return(_f=(0,I.Z)(function*(R){const{auth:v,user:w}=R;return He(w,v,"internal-error"),G(w,new yf(R),R.bypassAuthState)})).apply(this,arguments)}class Ia{constructor(v,w,L,le,Ae=!1){this.auth=v,this.resolver=L,this.user=le,this.bypassAuthState=Ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,I.Z)(function*(L,le){v.pendingPromise={resolve:L,reject:le};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(Ae){v.reject(Ae)}});return function(L,le){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,I.Z)(function*(){const{urlResponse:L,sessionId:le,postBody:Ae,tenantId:kt,error:dn,type:Kn}=v;if(dn)return void w.reject(dn);const yr={auth:w.auth,requestUri:L,sessionId:le,tenantId:kt||void 0,postBody:Ae||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Kn)(yr))}catch(Qr){w.reject(Qr)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return Ai;case"linkViaPopup":case"linkViaRedirect":return nu;case"reauthViaPopup":case"reauthViaRedirect":return tu;default:Ot(this.auth,"internal-error")}}resolve(v){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){Tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const os=new fn(2e3,1e4);function qa(R,v,w){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,I.Z)(function*(R,v,w){const L=nr(R);rt(R,v,Ms);const le=Hs(L,w);return new Mi(L,"signInViaPopup",v,le).executeNotNull()})).apply(this,arguments)}function Kl(R,v,w){return _i.apply(this,arguments)}function _i(){return(_i=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R);rt(L.auth,v,Ms);const le=Hs(L.auth,w);return new Mi(L.auth,"reauthViaPopup",v,le,L).executeNotNull()})).apply(this,arguments)}function $a(R,v,w){return Js.apply(this,arguments)}function Js(){return(Js=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R);rt(L.auth,v,Ms);const le=Hs(L.auth,w);return new Mi(L.auth,"linkViaPopup",v,le,L).executeNotNull()})).apply(this,arguments)}let Mi=(()=>{class R extends Ia{constructor(w,L,le,Ae,kt){super(w,L,Ae,kt),this.provider=le,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var w=this;return(0,I.Z)(function*(){const L=yield w.execute();return He(L,w.auth,"internal-error"),L})()}onExecution(){var w=this;return(0,I.Z)(function*(){Tt(1===w.filter.length,"Popup operations only handle one event");const L=$l();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],L),w.authWindow.associatedEvent=L,w.resolver._originValidation(w.auth).catch(le=>{w.reject(le)}),w.resolver._isIframeWebStorageSupported(w.auth,le=>{le||w.reject(At(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(At(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const w=()=>{var L,le;this.pollId=(null===(le=null===(L=this.authWindow)||void 0===L?void 0:L.window)||void 0===le?void 0:le.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(At(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,os.get())};w()}}return R.currentPopupAction=null,R})();const Ml=new Map;class ta extends Ia{constructor(v,w,L=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,L),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,I.Z)(function*(){let L=Ml.get(w.auth._key());if(!L){try{const Ae=(yield function(R,v){return fs.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;L=()=>Promise.resolve(Ae)}catch(le){L=()=>Promise.reject(le)}Ml.set(w.auth._key(),L)}return w.bypassAuthState||Ml.set(w.auth._key(),()=>Promise.resolve(null)),L()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,L=this;return(0,I.Z)(function*(){if("signInViaRedirect"===v.type)return w().call(L,v);if("unknown"!==v.type){if(v.eventId){const le=yield L.auth._redirectUserForId(v.eventId);if(le)return L.user=le,w().call(L,v);L.resolve(null)}}else L.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function fs(){return(fs=(0,I.Z)(function*(R,v){const w=yh(v),L=dd(R);if(!(yield L._isAvailable()))return!1;const le="true"===(yield L._get(w));return yield L._remove(w),le})).apply(this,arguments)}function cl(R,v){return ul.apply(this,arguments)}function ul(){return(ul=(0,I.Z)(function*(R,v){return dd(R)._set(yh(v),"true")})).apply(this,arguments)}function ws(){Ml.clear()}function Yl(R,v){Ml.set(R._key(),v)}function dd(R){return Xe(R._redirectPersistence)}function yh(R){return wn("pendingRedirect",R.config.apiKey,R.name)}function ru(R,v,w){return function(R,v,w){return na.apply(this,arguments)}(R,v,w)}function na(){return(na=(0,I.Z)(function*(R,v,w){const L=nr(R);rt(R,v,Ms);const le=Hs(L,w);return yield cl(le,L),le._openRedirect(L,v,"signInViaRedirect")})).apply(this,arguments)}function Ql(R,v,w){return function(R,v,w){return hd.apply(this,arguments)}(R,v,w)}function hd(){return(hd=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R);rt(L.auth,v,Ms);const le=Hs(L.auth,w);yield cl(le,L.auth);const Ae=yield Ru(L);return le._openRedirect(L.auth,v,"reauthViaRedirect",Ae)})).apply(this,arguments)}function Ma(R,v,w){return function(R,v,w){return Wo.apply(this,arguments)}(R,v,w)}function Wo(){return(Wo=(0,I.Z)(function*(R,v,w){const L=(0,o.m9)(R);rt(L.auth,v,Ms);const le=Hs(L.auth,w);yield $(!1,L,v.providerId),yield cl(le,L.auth);const Ae=yield Ru(L);return le._openRedirect(L.auth,v,"linkViaRedirect",Ae)})).apply(this,arguments)}function za(R,v){return ec.apply(this,arguments)}function ec(){return(ec=(0,I.Z)(function*(R,v){return yield nr(R)._initializationPromise,Ol(R,v,!1)})).apply(this,arguments)}function Ol(R,v){return xu.apply(this,arguments)}function xu(){return(xu=(0,I.Z)(function*(R,v,w=!1){const L=nr(R),le=Hs(L,v),kt=yield new ta(L,le,w).execute();return kt&&!w&&(delete kt.user._redirectEventId,yield L._persistUserIfCurrent(kt.user),yield L._setRedirectUser(null,v)),kt})).apply(this,arguments)}function Ru(R){return yc.apply(this,arguments)}function yc(){return(yc=(0,I.Z)(function*(R){const v=$l(`${R.uid}:::`);return R._redirectEventId=v,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),v})).apply(this,arguments)}class xl{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(L=>{this.isEventForConsumer(v,L)&&(w=!0,this.sendToConsumer(v,L),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(R);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var L;if(v.error&&!Cs(v)){const le=(null===(L=v.error.code)||void 0===L?void 0:L.split("auth/")[1])||"internal-error";w.onError(At(this.auth,le))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const L=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&L}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iu(v))}saveEventToCache(v){this.cachedEventUids.add(iu(v)),this.lastProcessedEventTime=Date.now()}}function iu(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(v=>v).join("-")}function Cs({type:R,error:v}){return"unknown"===R&&"auth/no-auth-event"===(null==v?void 0:v.code)}function ku(R){return ra.apply(this,arguments)}function ra(){return(ra=(0,I.Z)(function*(R,v={}){return bn(R,"GET","/v1/projects",v)})).apply(this,arguments)}const su=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nm=/^https?/;function fd(){return(fd=(0,I.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:v}=yield ku(R);for(const w of v)try{if(rm(w))return}catch(L){}Ot(R,"unauthorized-domain")})).apply(this,arguments)}function rm(R){const v=Dt(),{protocol:w,hostname:L}=new URL(v);if(R.startsWith("chrome-extension://")){const kt=new URL(R);return""===kt.hostname&&""===L?"chrome-extension:"===w&&R.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&kt.hostname===L}if(!nm.test(w))return!1;if(su.test(R))return L===R;const le=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(L)}const Ns=new fn(3e4,6e4);function Ka(){const R=is().___jsl;if(null==R?void 0:R.H)for(const v of Object.keys(R.H))if(R.H[v].r=R.H[v].r||[],R.H[v].L=R.H[v].L||[],R.H[v].r=[...R.H[v].L],R.CP)for(let w=0;w<R.CP.length;w++)R.CP[w]=null}let Oa=null;function vh(R){return Oa=Oa||function(R){return new Promise((v,w)=>{var L,le,Ae;function kt(){Ka(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Ka(),w(At(R,"network-request-failed"))},timeout:Ns.get()})}if(null===(le=null===(L=is().gapi)||void 0===L?void 0:L.iframes)||void 0===le?void 0:le.Iframe)v(gapi.iframes.getContext());else{if(!(null===(Ae=is().gapi)||void 0===Ae?void 0:Ae.load)){const dn=F("iframefcb");return is()[dn]=()=>{gapi.load?kt():w(At(R,"network-request-failed"))},y(`https://apis.google.com/js/api.js?onload=${dn}`).catch(Kn=>w(Kn))}kt()}}).catch(v=>{throw Oa=null,v})}(R),Oa}const ko=new fn(5e3,15e3),Pu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ef(R){const v=R.config;He(v.authDomain,R,"auth-domain-config-required");const w=v.emulator?Bn(v,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,L={apiKey:v.apiKey,appName:R.name,v:Q.SDK_VERSION},le=gd.get(R.config.apiHost);le&&(L.eid=le);const Ae=R._getFrameworks();return Ae.length&&(L.fw=Ae.join(",")),`${w}?${(0,o.xO)(L).slice(1)}`}function Ts(){return Ts=(0,I.Z)(function*(R){const v=yield vh(R),w=is().gapi;return He(w,R,"internal-error"),v.open({where:document.body,url:Ef(R),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pu,dontclear:!0},L=>new Promise(function(){var le=(0,I.Z)(function*(Ae,kt){yield L.restyle({setHideOnLeave:!1});const dn=At(R,"network-request-failed"),Kn=is().setTimeout(()=>{kt(dn)},ko.get());function yr(){is().clearTimeout(Kn),Ae(L)}L.ping(yr).then(yr,()=>{kt(dn)})});return function(Ae,kt){return le.apply(this,arguments)}}()))}),Ts.apply(this,arguments)}const Sp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wh{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(v){}}}function vc(R,v,w,L,le,Ae){He(R.config.authDomain,R,"auth-domain-config-required"),He(R.config.apiKey,R,"invalid-api-key");const kt={apiKey:R.config.apiKey,appName:R.name,authType:w,redirectUrl:L,v:Q.SDK_VERSION,eventId:le};if(v instanceof Ms){v.setDefaultLanguage(R.languageCode),kt.providerId=v.providerId||"",(0,o.xb)(v.getCustomParameters())||(kt.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Kn,yr]of Object.entries(Ae||{}))kt[Kn]=yr}if(v instanceof Ws){const Kn=v.getScopes().filter(yr=>""!==yr);Kn.length>0&&(kt.scopes=Kn.join(","))}R.tenantId&&(kt.tid=R.tenantId);const dn=kt;for(const Kn of Object.keys(dn))void 0===dn[Kn]&&delete dn[Kn];return`${function({config:R}){return R.emulator?Bn(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,o.xO)(dn).slice(1)}`}const md="webStorageSupport",ia=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Il,this._completeRedirectFn=Ol,this._overrideRedirectResult=Yl}_openPopup(v,w,L,le){var Ae=this;return(0,I.Z)(function*(){var kt;Tt(null===(kt=Ae.eventManagers[v._key()])||void 0===kt?void 0:kt.manager,"_initialize() not called before _openPopup()");const dn=vc(v,w,L,Dt(),le);return function(R,v,w,L=500,le=600){const Ae=Math.max((window.screen.availHeight-le)/2,0).toString(),kt=Math.max((window.screen.availWidth-L)/2,0).toString();let dn="";const Kn=Object.assign(Object.assign({},Sp),{width:L.toString(),height:le.toString(),top:Ae,left:kt}),yr=(0,o.z$)().toLowerCase();w&&(dn=fe(yr)?"_blank":w),z(yr)&&(v=v||"http://localhost",Kn.scrollbars="yes");const Qr=Object.entries(Kn).reduce((xa,[fa,fl])=>`${xa}${fa}=${fl},`,"");if(function(R=(0,o.z$)()){var v;return Rn(R)&&!!(null===(v=window.navigator)||void 0===v?void 0:v.standalone)}(yr)&&"_self"!==dn)return function(R,v){const w=document.createElement("a");w.href=R,w.target=v;const L=document.createEvent("MouseEvent");L.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(L)}(v||"",dn),new wh(null);const Ji=window.open(v||"",dn,Qr);He(Ji,R,"popup-blocked");try{Ji.focus()}catch(xa){}return new wh(Ji)}(v,dn,$l())})()}_openRedirect(v,w,L,le){var Ae=this;return(0,I.Z)(function*(){return yield Ae._originValidation(v),R=vc(v,w,L,Dt(),le),is().location.href=R,new Promise(()=>{});var R})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:le,promise:Ae}=this.eventManagers[w];return le?Promise.resolve(le):(Tt(Ae,"If manager is not set, promise should be"),Ae)}const L=this.initAndGetManager(v);return this.eventManagers[w]={promise:L},L.catch(()=>{delete this.eventManagers[w]}),L}initAndGetManager(v){var w=this;return(0,I.Z)(function*(){const L=yield function(R){return Ts.apply(this,arguments)}(v),le=new xl(v);return L.register("authEvent",Ae=>(He(null==Ae?void 0:Ae.authEvent,v,"invalid-auth-event"),{status:le.onEvent(Ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:le},w.iframes[v._key()]=L,le})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(md,{type:md},le=>{var Ae;const kt=null===(Ae=null==le?void 0:le[0])||void 0===Ae?void 0:Ae[md];void 0!==kt&&w(!!kt),Ot(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function(R){return fd.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return lr()||H()||Rn()}};class Nu extends class{constructor(v){this.factorId=v}_process(v,w,L){switch(w.type){case"enroll":return this._finalizeEnroll(v,w.credential,L);case"signin":return this._finalizeSignIn(v,w.credential);default:return it("unexpected MultiFactorSessionType")}}}{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Nu(v)}_finalizeEnroll(v,w,L){return function(R,v){return bn(R,"POST","/v2/accounts/mfaEnrollment:finalize",hn(R,v))}(v,{idToken:w,displayName:L,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,w){return function(R,v){return bn(R,"POST","/v2/accounts/mfaSignIn:finalize",hn(R,v))}(v,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hl=(()=>{class R{constructor(){}static assertion(w){return Nu._fromCredential(w)}}return R.FACTOR_ID="phone",R})();var R,Qa="@firebase/auth";class bc{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,I.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(L=>{var le;v((null===(le=L)||void 0===le?void 0:le.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);!w||(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}R="Browser",(0,Q._registerComponent)(new _e.wA("auth",(v,{options:w})=>{const L=v.getProvider("app").getImmediate(),le=v.getProvider("heartbeat"),{apiKey:Ae,authDomain:kt}=L.options;return((dn,Kn)=>{He(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:dn.name}),He(!(null==kt?void 0:kt.includes(":")),"argument-error",{appName:dn.name});const yr={apiKey:Ae,authDomain:kt,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vr(R)},Qr=new ls(dn,Kn,yr);return function(R,v){const w=(null==v?void 0:v.persistence)||[],L=(Array.isArray(w)?w:[w]).map(Xe);(null==v?void 0:v.errorMap)&&R._updateErrorMap(v.errorMap),R._initializeWithPersistence(L,null==v?void 0:v.popupRedirectResolver)}(Qr,w),Qr})(L,le)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,L)=>{v.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new _e.wA("auth-internal",v=>{const w=nr(v.getProvider("auth").getImmediate());return new bc(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(Qa,"0.20.6",void 0),(0,Q.registerVersion)(Qa,"0.20.6","esm2017")},3854:(un,ht,U)=>{"use strict";U.d(ht,{BH:()=>ve,LL:()=>Dt,ZR:()=>St,zI:()=>st,US:()=>_e,tV:()=>ye,L:()=>Ee,$s:()=>xn,r3:()=>hn,Sg:()=>Be,ne:()=>Jn,vZ:()=>vr,ZB:()=>ae,pd:()=>Yn,m9:()=>zr,z$:()=>$e,jU:()=>wt,ru:()=>Wt,d:()=>At,xb:()=>tr,w1:()=>Je,hl:()=>it,uI:()=>Ge,UG:()=>ce,b$:()=>Ot,G6:()=>He,Mn:()=>rt,xO:()=>Wn,zd:()=>En,eu:()=>Tt});const Ve=function(Fe){const Ke=[];let Oe=0;for(let ze=0;ze<Fe.length;ze++){let ne=Fe.charCodeAt(ze);ne<128?Ke[Oe++]=ne:ne<2048?(Ke[Oe++]=ne>>6|192,Ke[Oe++]=63&ne|128):55296==(64512&ne)&&ze+1<Fe.length&&56320==(64512&Fe.charCodeAt(ze+1))?(ne=65536+((1023&ne)<<10)+(1023&Fe.charCodeAt(++ze)),Ke[Oe++]=ne>>18|240,Ke[Oe++]=ne>>12&63|128,Ke[Oe++]=ne>>6&63|128,Ke[Oe++]=63&ne|128):(Ke[Oe++]=ne>>12|224,Ke[Oe++]=ne>>6&63|128,Ke[Oe++]=63&ne|128)}return Ke},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Fe,Ke){if(!Array.isArray(Fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=Ke?this.byteToCharMapWebSafe_:this.byteToCharMap_,ze=[];for(let ne=0;ne<Fe.length;ne+=3){const Me=Fe[ne],me=ne+1<Fe.length,et=me?Fe[ne+1]:0,on=ne+2<Fe.length,wn=on?Fe[ne+2]:0;let z=(15&et)<<2|wn>>6,H=63&wn;on||(H=64,me||(z=64)),ze.push(Oe[Me>>2],Oe[(3&Me)<<4|et>>4],Oe[z],Oe[H])}return ze.join("")},encodeString(Fe,Ke){return this.HAS_NATIVE_SUPPORT&&!Ke?btoa(Fe):this.encodeByteArray(Ve(Fe),Ke)},decodeString(Fe,Ke){return this.HAS_NATIVE_SUPPORT&&!Ke?atob(Fe):function(Fe){const Ke=[];let Oe=0,ze=0;for(;Oe<Fe.length;){const ne=Fe[Oe++];if(ne<128)Ke[ze++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Me=Fe[Oe++];Ke[ze++]=String.fromCharCode((31&ne)<<6|63&Me)}else if(ne>239&&ne<365){const on=((7&ne)<<18|(63&Fe[Oe++])<<12|(63&Fe[Oe++])<<6|63&Fe[Oe++])-65536;Ke[ze++]=String.fromCharCode(55296+(on>>10)),Ke[ze++]=String.fromCharCode(56320+(1023&on))}else{const Me=Fe[Oe++],me=Fe[Oe++];Ke[ze++]=String.fromCharCode((15&ne)<<12|(63&Me)<<6|63&me)}}return Ke.join("")}(this.decodeStringToByteArray(Fe,Ke))},decodeStringToByteArray(Fe,Ke){this.init_();const Oe=Ke?this.charToByteMapWebSafe_:this.charToByteMap_,ze=[];for(let ne=0;ne<Fe.length;){const Me=Oe[Fe.charAt(ne++)],et=ne<Fe.length?Oe[Fe.charAt(ne)]:0;++ne;const wn=ne<Fe.length?Oe[Fe.charAt(ne)]:64;++ne;const X=ne<Fe.length?Oe[Fe.charAt(ne)]:64;if(++ne,null==Me||null==et||null==wn||null==X)throw Error();ze.push(Me<<2|et>>4),64!==wn&&(ze.push(et<<4&240|wn>>2),64!==X&&ze.push(wn<<6&192|X))}return ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Fe=0;Fe<this.ENCODED_VALS.length;Fe++)this.byteToCharMap_[Fe]=this.ENCODED_VALS.charAt(Fe),this.charToByteMap_[this.byteToCharMap_[Fe]]=Fe,this.byteToCharMapWebSafe_[Fe]=this.ENCODED_VALS_WEBSAFE.charAt(Fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Fe]]=Fe,Fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Fe)]=Fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Fe)]=Fe)}}},Ee=function(Fe){return function(Fe){const Ke=Ve(Fe);return _e.encodeByteArray(Ke,!0)}(Fe).replace(/\./g,"")},ye=function(Fe){try{return _e.decodeString(Fe,!0)}catch(Ke){console.error("base64Decode failed: ",Ke)}return null};function ae(Fe,Ke){if(!(Ke instanceof Object))return Ke;switch(Ke.constructor){case Date:return new Date(Ke.getTime());case Object:void 0===Fe&&(Fe={});break;case Array:Fe=[];break;default:return Ke}for(const Oe in Ke)!Ke.hasOwnProperty(Oe)||!Te(Oe)||(Fe[Oe]=ae(Fe[Oe],Ke[Oe]));return Fe}function Te(Fe){return"__proto__"!==Fe}class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ke,Oe)=>{this.resolve=Ke,this.reject=Oe})}wrapCallback(Ke){return(Oe,ze)=>{Oe?this.reject(Oe):this.resolve(ze),"function"==typeof Ke&&(this.promise.catch(()=>{}),1===Ke.length?Ke(Oe):Ke(Oe,ze))}}}function Be(Fe,Ke){if(Fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ze=Ke||"demo-project",ne=Fe.iat||0,Me=Fe.sub||Fe.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${ze}`,aud:ze,iat:ne,exp:ne+3600,auth_time:ne,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},Fe);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(me)),""].join(".")}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Fe){return!1}}function wt(){return"object"==typeof self&&self.self===self}function Wt(){const Fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Fe&&void 0!==Fe.id}function Ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){return $e().indexOf("Electron/")>=0}function Je(){const Fe=$e();return Fe.indexOf("MSIE ")>=0||Fe.indexOf("Trident/")>=0}function rt(){return $e().indexOf("MSAppHost/")>=0}function He(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function Tt(){return new Promise((Fe,Ke)=>{try{let Oe=!0;const ze="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(ze);ne.onsuccess=()=>{ne.result.close(),Oe||self.indexedDB.deleteDatabase(ze),Fe(!0)},ne.onupgradeneeded=()=>{Oe=!1},ne.onerror=()=>{var Me;Ke((null===(Me=ne.error)||void 0===Me?void 0:Me.message)||"")}}catch(Oe){Ke(Oe)}})}function st(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class St extends Error{constructor(Ke,Oe,ze){super(Oe),this.code=Ke,this.customData=ze,this.name="FirebaseError",Object.setPrototypeOf(this,St.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(Ke,Oe,ze){this.service=Ke,this.serviceName=Oe,this.errors=ze}create(Ke,...Oe){const ze=Oe[0]||{},ne=`${this.service}/${Ke}`,Me=this.errors[Ke],me=Me?function(Fe,Ke){return Fe.replace(vn,(Oe,ze)=>{const ne=Ke[ze];return null!=ne?String(ne):`<${ze}?>`})}(Me,ze):"Error";return new St(ne,`${this.serviceName}: ${me} (${ne}).`,ze)}}const vn=/\{\$([^}]+)}/g;function hn(Fe,Ke){return Object.prototype.hasOwnProperty.call(Fe,Ke)}function tr(Fe){for(const Ke in Fe)if(Object.prototype.hasOwnProperty.call(Fe,Ke))return!1;return!0}function vr(Fe,Ke){if(Fe===Ke)return!0;const Oe=Object.keys(Fe),ze=Object.keys(Ke);for(const ne of Oe){if(!ze.includes(ne))return!1;const Me=Fe[ne],me=Ke[ne];if(Fn(Me)&&Fn(me)){if(!vr(Me,me))return!1}else if(Me!==me)return!1}for(const ne of ze)if(!Oe.includes(ne))return!1;return!0}function Fn(Fe){return null!==Fe&&"object"==typeof Fe}function Wn(Fe){const Ke=[];for(const[Oe,ze]of Object.entries(Fe))Array.isArray(ze)?ze.forEach(ne=>{Ke.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ne))}):Ke.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ze));return Ke.length?"&"+Ke.join("&"):""}function En(Fe){const Ke={};return Fe.replace(/^\?/,"").split("&").forEach(ze=>{if(ze){const[ne,Me]=ze.split("=");Ke[decodeURIComponent(ne)]=decodeURIComponent(Me)}}),Ke}function Yn(Fe){const Ke=Fe.indexOf("?");if(!Ke)return"";const Oe=Fe.indexOf("#",Ke);return Fe.substring(Ke,Oe>0?Oe:void 0)}function Jn(Fe,Ke){const Oe=new Rr(Fe,Ke);return Oe.subscribe.bind(Oe)}class Rr{constructor(Ke,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{Ke(this)}).catch(ze=>{this.error(ze)})}next(Ke){this.forEachObserver(Oe=>{Oe.next(Ke)})}error(Ke){this.forEachObserver(Oe=>{Oe.error(Ke)}),this.close(Ke)}complete(){this.forEachObserver(Ke=>{Ke.complete()}),this.close()}subscribe(Ke,Oe,ze){let ne;if(void 0===Ke&&void 0===Oe&&void 0===ze)throw new Error("Missing Observer.");ne=function(Fe,Ke){if("object"!=typeof Fe||null===Fe)return!1;for(const Oe of["next","error","complete"])if(Oe in Fe&&"function"==typeof Fe[Oe])return!0;return!1}(Ke)?Ke:{next:Ke,error:Oe,complete:ze},void 0===ne.next&&(ne.next=Se),void 0===ne.error&&(ne.error=Se),void 0===ne.complete&&(ne.complete=Se);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(me){}}),this.observers.push(ne),Me}unsubscribeOne(Ke){void 0===this.observers||void 0===this.observers[Ke]||(delete this.observers[Ke],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ke){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,Ke)}sendOne(Ke,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ke])try{Oe(this.observers[Ke])}catch(ze){"undefined"!=typeof console&&console.error&&console.error(ze)}})}close(Ke){this.finalized||(this.finalized=!0,void 0!==Ke&&(this.finalError=Ke),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Se(){}function xn(Fe,Ke=1e3,Oe=2){const ze=Ke*Math.pow(Oe,Fe),ne=Math.round(.5*ze*(Math.random()-.5)*2);return Math.min(144e5,ze+ne)}function zr(Fe){return Fe&&Fe._delegate?Fe._delegate:Fe}},6917:(un,ht,U)=>{"use strict";U.d(ht,{Gb:()=>Zn,Kz:()=>Me,Iv:()=>Ke});var I=U(8239),o=U(8026),Q=U(5422),Ve=U(3854),Ne=U(3910);U(3328);const xe="analytics",Ee="firebase_id",ae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Te="https://www.googletagmanager.com/gtag/js",ve=new Q.Yd("@firebase/analytics");function Be(gt){return Promise.all(gt.map(X=>X.catch(z=>z)))}function $e(gt,X){const z=document.createElement("script");z.src=`${Te}?l=${gt}&id=${X}`,z.async=!0,document.head.appendChild(z)}function ce(gt,X,z,H,fe,Ue){return wt.apply(this,arguments)}function wt(){return(wt=(0,I.Z)(function*(gt,X,z,H,fe,Ue){const Ft=H[fe];try{if(Ft)yield X[Ft];else{const Sn=(yield Be(z)).find(Rn=>Rn.measurementId===fe);Sn&&(yield X[Sn.appId])}}catch(rn){ve.error(rn)}gt("config",fe,Ue)})).apply(this,arguments)}function Wt(gt,X,z,H,fe){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,I.Z)(function*(gt,X,z,H,fe){try{let Ue=[];if(fe&&fe.send_to){let Ft=fe.send_to;Array.isArray(Ft)||(Ft=[Ft]);const rn=yield Be(z);for(const Sn of Ft){const Rn=rn.find(Mr=>Mr.measurementId===Sn),gr=Rn&&X[Rn.appId];if(!gr){Ue=[];break}Ue.push(gr)}}0===Ue.length&&(Ue=Object.values(X)),yield Promise.all(Ue),gt("event",H,fe||{})}catch(Ue){ve.error(Ue)}})).apply(this,arguments)}function rt(){const gt=window.document.getElementsByTagName("script");for(const X of Object.values(gt))if(X.src&&X.src.includes(Te))return X;return null}const He=new Ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xe=new class{constructor(X={},z=1e3){this.throttleMetadata=X,this.intervalMillis=z}getThrottleMetadata(X){return this.throttleMetadata[X]}setThrottleMetadata(X,z){this.throttleMetadata[X]=z}deleteThrottleMetadata(X){delete this.throttleMetadata[X]}};function ut(gt){return new Headers({Accept:"application/json","x-goog-api-key":gt})}function St(gt){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,I.Z)(function*(gt){var X;const{appId:z,apiKey:H}=gt,fe={method:"GET",headers:ut(H)},Ue=ae.replace("{app-id}",z),Ft=yield fetch(Ue,fe);if(200!==Ft.status&&304!==Ft.status){let rn="";try{const Sn=yield Ft.json();(null===(X=Sn.error)||void 0===X?void 0:X.message)&&(rn=Sn.error.message)}catch(Sn){}throw He.create("config-fetch-failed",{httpStatus:Ft.status,responseMessage:rn})}return Ft.json()})).apply(this,arguments)}function Lt(gt){return vn.apply(this,arguments)}function vn(){return(vn=(0,I.Z)(function*(gt,X=Xe,z){const{appId:H,apiKey:fe,measurementId:Ue}=gt.options;if(!H)throw He.create("no-app-id");if(!fe){if(Ue)return{measurementId:Ue,appId:H};throw He.create("no-api-key")}const Ft=X.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rn=new Tr;return setTimeout((0,I.Z)(function*(){rn.abort()}),void 0!==z?z:6e4),Dn({appId:H,apiKey:fe,measurementId:Ue},Ft,rn,X)})).apply(this,arguments)}function Dn(gt,X,z){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,I.Z)(function*(gt,{throttleEndTimeMillis:X,backoffCount:z},H,fe=Xe){var Ue,Ft;const{appId:rn,measurementId:Sn}=gt;try{yield fn(H,X)}catch(Rn){if(Sn)return ve.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sn} provided in the "measurementId" field in the local Firebase config. [${null===(Ue=Rn)||void 0===Ue?void 0:Ue.message}]`),{appId:rn,measurementId:Sn};throw Rn}try{const Rn=yield St(gt);return fe.deleteThrottleMetadata(rn),Rn}catch(Rn){const gr=Rn;if(!Bn(gr)){if(fe.deleteThrottleMetadata(rn),Sn)return ve.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sn} provided in the "measurementId" field in the local Firebase config. [${null==gr?void 0:gr.message}]`),{appId:rn,measurementId:Sn};throw Rn}const Mr=503===Number(null===(Ft=null==gr?void 0:gr.customData)||void 0===Ft?void 0:Ft.httpStatus)?(0,Ve.$s)(z,fe.intervalMillis,30):(0,Ve.$s)(z,fe.intervalMillis),mn={throttleEndTimeMillis:Date.now()+Mr,backoffCount:z+1};return fe.setThrottleMetadata(rn,mn),ve.debug(`Calling attemptFetch again in ${Mr} millis`),Dn(gt,mn,H,fe)}})).apply(this,arguments)}function fn(gt,X){return new Promise((z,H)=>{const fe=Math.max(X-Date.now(),0),Ue=setTimeout(z,fe);gt.addEventListener(()=>{clearTimeout(Ue),H(He.create("fetch-throttle",{throttleEndTimeMillis:X}))})})}function Bn(gt){if(!(gt instanceof Ve.ZR&&gt.customData))return!1;const X=Number(gt.customData.httpStatus);return 429===X||500===X||503===X||504===X}class Tr{constructor(){this.listeners=[]}addEventListener(X){this.listeners.push(X)}abort(){this.listeners.forEach(X=>X())}}let _r,Yn;function hn(){return(hn=(0,I.Z)(function*(gt,X,z,H,fe){if(fe&&fe.global)gt("event",z,H);else{const Ue=yield X;gt("event",z,Object.assign(Object.assign({},H),{send_to:Ue}))}})).apply(this,arguments)}function vr(){return(vr=(0,I.Z)(function*(gt,X,z,H){if(H&&H.global)return gt("set",{user_id:z}),Promise.resolve();gt("config",yield X,{update:!0,user_id:z})})).apply(this,arguments)}function br(gt){Yn=gt}function Jn(gt){_r=gt}function Rr(){return qt.apply(this,arguments)}function qt(){return(qt=(0,I.Z)(function*(){var gt;if(!(0,Ve.hl)())return ve.warn(He.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ve.eu)()}catch(X){return ve.warn(He.create("indexeddb-unavailable",{errorInfo:null===(gt=X)||void 0===gt?void 0:gt.toString()}).message),!1}return!0})).apply(this,arguments)}function Se(){return(Se=(0,I.Z)(function*(gt,X,z,H,fe,Ue,Ft){var rn;const Sn=Lt(gt);Sn.then(lr=>{z[lr.measurementId]=lr.appId,gt.options.measurementId&&lr.measurementId!==gt.options.measurementId&&ve.warn(`The measurement ID in the local Firebase config (${gt.options.measurementId}) does not match the measurement ID fetched from the server (${lr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(lr=>ve.error(lr)),X.push(Sn);const Rn=Rr().then(lr=>{if(lr)return H.getId()}),[gr,Mr]=yield Promise.all([Sn,Rn]);rt()||$e(Ue,gr.measurementId),Yn&&(fe("consent","default",Yn),br(void 0)),fe("js",new Date);const mn=null!==(rn=null==Ft?void 0:Ft.config)&&void 0!==rn?rn:{};return mn.origin="firebase",mn.update=!0,null!=Mr&&(mn[Ee]=Mr),fe("config",gr.measurementId,mn),_r&&(fe("set",_r),Jn(void 0)),gr.measurementId})).apply(this,arguments)}class ke{constructor(X){this.app=X}_delete(){return delete q[this.app.options.appId],Promise.resolve()}}let q={},he=[];const Le={};let Ct,Bt,pt="dataLayer",Tn=!1;function Hn(gt,X,z){!function(){const gt=[];if((0,Ve.ru)()&&gt.push("This is a browser extension environment."),(0,Ve.zI)()||gt.push("Cookies are not available."),gt.length>0){const X=gt.map((H,fe)=>`(${fe+1}) ${H}`).join(" "),z=He.create("invalid-analytics-context",{errorInfo:X});ve.warn(z.message)}}();const H=gt.options.appId;if(!H)throw He.create("no-app-id");if(!gt.options.apiKey){if(!gt.options.measurementId)throw He.create("no-api-key");ve.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${gt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=q[H])throw He.create("already-exists",{id:H});if(!Tn){!function(gt){let X=[];Array.isArray(window[gt])?X=window[gt]:window[gt]=X}(pt);const{wrappedGtag:Ue,gtagCore:Ft}=function(gt,X,z,H,fe){let Ue=function(...Ft){window[H].push(arguments)};return window[fe]&&"function"==typeof window[fe]&&(Ue=window[fe]),window[fe]=function(gt,X,z,H){function Ue(){return(Ue=(0,I.Z)(function*(Ft,rn,Sn){try{"event"===Ft?yield Wt(gt,X,z,rn,Sn):"config"===Ft?yield ce(gt,X,z,H,rn,Sn):"consent"===Ft?gt("consent","update",Sn):gt("set",rn)}catch(Rn){ve.error(Rn)}})).apply(this,arguments)}return function(Ft,rn,Sn){return Ue.apply(this,arguments)}}(Ue,gt,X,z),{gtagCore:Ue,wrappedGtag:window[fe]}}(q,he,Le,pt,"gtag");Bt=Ue,Ct=Ft,Tn=!0}return q[H]=function(gt,X,z,H,fe,Ue,Ft){return Se.apply(this,arguments)}(gt,he,Le,X,Ct,pt,z),new ke(gt)}function Zn(){return zr.apply(this,arguments)}function zr(){return(zr=(0,I.Z)(function*(){if((0,Ve.ru)()||!(0,Ve.zI)()||!(0,Ve.hl)())return!1;try{return yield(0,Ve.eu)()}catch(gt){return!1}})).apply(this,arguments)}function Ke(gt,X,z){gt=(0,Ve.m9)(gt),function(gt,X,z,H){return vr.apply(this,arguments)}(Bt,q[gt.app.options.appId],X,z).catch(H=>ve.error(H))}function Me(gt,X,z,H){gt=(0,Ve.m9)(gt),function(gt,X,z,H,fe){return hn.apply(this,arguments)}(Bt,q[gt.app.options.appId],X,z,H).catch(fe=>ve.error(fe))}const et="@firebase/analytics";(0,o._registerComponent)(new Ne.wA(xe,(X,{options:z})=>Hn(X.getProvider("app").getImmediate(),X.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,o._registerComponent)(new Ne.wA("analytics-internal",function(X){try{const z=X.getProvider(xe).getImmediate();return{logEvent:(H,fe,Ue)=>Me(z,H,fe,Ue)}}catch(z){throw He.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,o.registerVersion)(et,"0.8.0"),(0,o.registerVersion)(et,"0.8.0","esm2017")},2329:(un,ht,U)=>{"use strict";U.d(ht,{Mq:()=>I.getApp,C6:()=>I.getApps,KN:()=>I.registerVersion});var I=U(8026);(0,I.registerVersion)("firebase","9.9.4","app")},7841:(un,ht,U)=>{"use strict";U.d(ht,{Z:()=>I.Z});var I=U(3394);I.Z.registerVersion("firebase","9.9.4","app-compat")},4828:(un,ht,U)=>{"use strict";U.r(ht);var I=U(8239),o=U(3394),Q=U(708),Ve=U(3854),xe=(U(8026),U(5422),U(3910));function Ee(){return window}function ae(){return(ae=(0,I.Z)(function*(X,z,H){var fe;const{BuildInfo:Ue}=Ee();(0,Q.aq)(z.sessionId,"AuthEvent did not contain a session ID");const Ft=yield wt(z.sessionId),rn={};return(0,Q.ar)()?rn.ibi=Ue.packageName:(0,Q.as)()?rn.apn=Ue.packageName:(0,Q.at)(X,"operation-not-supported-in-this-environment"),Ue.displayName&&(rn.appDisplayName=Ue.displayName),rn.sessionId=Ft,(0,Q.au)(X,H,z.type,void 0,null!==(fe=z.eventId)&&void 0!==fe?fe:void 0,rn)})).apply(this,arguments)}function ve(){return(ve=(0,I.Z)(function*(X){const{BuildInfo:z}=Ee(),H={};(0,Q.ar)()?H.iosBundleId=z.packageName:(0,Q.as)()?H.androidPackageName=z.packageName:(0,Q.at)(X,"operation-not-supported-in-this-environment"),yield(0,Q.av)(X,H)})).apply(this,arguments)}function Ge(){return(Ge=(0,I.Z)(function*(X,z,H){const{cordova:fe}=Ee();let Ue=()=>{};try{yield new Promise((Ft,rn)=>{let Sn=null;function Rn(){var mn;Ft();const lr=null===(mn=fe.plugins.browsertab)||void 0===mn?void 0:mn.close;"function"==typeof lr&&lr(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function gr(){Sn||(Sn=window.setTimeout(()=>{rn((0,Q.aw)(X,"redirect-cancelled-by-user"))},2e3))}function Mr(){"visible"===(null==document?void 0:document.visibilityState)&&gr()}z.addPassiveListener(Rn),document.addEventListener("resume",gr,!1),(0,Q.as)()&&document.addEventListener("visibilitychange",Mr,!1),Ue=()=>{z.removePassiveListener(Rn),document.removeEventListener("resume",gr,!1),document.removeEventListener("visibilitychange",Mr,!1),Sn&&window.clearTimeout(Sn)}})}finally{Ue()}})).apply(this,arguments)}function wt(X){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,I.Z)(function*(X){const z=Ot(X),H=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(H)).map(Ue=>Ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ot(X){if((0,Q.aq)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(X);const z=new ArrayBuffer(X.length),H=new Uint8Array(z);for(let fe=0;fe<X.length;fe++)H[fe]=X.charCodeAt(fe);return H}class Je extends Q.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(z=>{this.resolveInialized=z})}addPassiveListener(z){this.passiveListeners.add(z)}removePassiveListener(z){this.passiveListeners.delete(z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(z){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(z)),super.onEvent(z)}initialized(){var z=this;return(0,I.Z)(function*(){yield z.initPromise})()}}function He(X){return it.apply(this,arguments)}function it(){return(it=(0,I.Z)(function*(X){const z=yield Xe()._get(ut(X));return z&&(yield Xe()._remove(ut(X))),z})).apply(this,arguments)}function st(){const X=[],z="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const fe=Math.floor(Math.random()*z.length);X.push(z.charAt(fe))}return X.join("")}function Xe(){return(0,Q.ay)(Q.b)}function ut(X){return(0,Q.az)("authEvent",X.config.apiKey,X.name)}function Lt(X){if(!(null==X?void 0:X.includes("?")))return{};const[z,...H]=X.split("?");return(0,Ve.zd)(H.join("?"))}function fn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Q.aw)("no-auth-event")}}function hn(){var X;return(null===(X=null==self?void 0:self.location)||void 0===X?void 0:X.protocol)||null}function tr(X=(0,Ve.z$)()){return!("file:"!==hn()&&"ionic:"!==hn()&&"capacitor:"!==hn()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wn(){try{const X=self.localStorage,z=Q.aI();if(X)return X.setItem(z,"1"),X.removeItem(z),!function(X=(0,Ve.z$)()){return(0,Ve.w1)()&&11===(null==document?void 0:document.documentMode)||function(X=(0,Ve.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,Ve.hl)()}catch(X){return En()&&(0,Ve.hl)()}return!1}function En(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yn(){return("http:"===hn()||"https:"===hn()||(0,Ve.ru)()||tr())&&!((0,Ve.b$)()||(0,Ve.UG)())&&Wn()&&!En()}function br(){return tr()&&"undefined"!=typeof document}function Rr(){return(Rr=(0,I.Z)(function*(){return!!br()&&new Promise(X=>{const z=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(z),X(!0)})})})).apply(this,arguments)}const Qt={LOCAL:"local",NONE:"none",SESSION:"session"},Se=Q.ax,ke="persistence";function he(X){return Le.apply(this,arguments)}function Le(){return(Le=(0,I.Z)(function*(X){yield X._initializationPromise;const z=yt(),H=Q.az(ke,X.config.apiKey,X.name);z&&z.setItem(H,X._getPersistence())})).apply(this,arguments)}function yt(){var X;try{return(null===(X="undefined"!=typeof window?window:null)||void 0===X?void 0:X.sessionStorage)||null}catch(z){return null}}const Ct=Q.ax;class Bt{constructor(){this.browserResolver=Q.ay(Q.k),this.cordovaResolver=Q.ay(class{constructor(){this._redirectPersistence=Q.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Q.aB,this._overrideRedirectResult=Q.aC}_initialize(z){var H=this;return(0,I.Z)(function*(){const fe=z._key();let Ue=H.eventManagers.get(fe);return Ue||(Ue=new Je(z),H.eventManagers.set(fe,Ue),H.attachCallbackListeners(z,Ue)),Ue})()}_openPopup(z){(0,Q.at)(z,"operation-not-supported-in-this-environment")}_openRedirect(z,H,fe,Ue){var Ft=this;return(0,I.Z)(function*(){!function(X){var z,H,fe,Ue,Ft,rn,Sn,Rn,gr,Mr;const mn=Ee();(0,Q.ax)("function"==typeof(null===(z=null==mn?void 0:mn.universalLinks)||void 0===z?void 0:z.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Q.ax)(void 0!==(null===(H=null==mn?void 0:mn.BuildInfo)||void 0===H?void 0:H.packageName),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Q.ax)("function"==typeof(null===(Ft=null===(Ue=null===(fe=null==mn?void 0:mn.cordova)||void 0===fe?void 0:fe.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===Ft?void 0:Ft.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Q.ax)("function"==typeof(null===(Rn=null===(Sn=null===(rn=null==mn?void 0:mn.cordova)||void 0===rn?void 0:rn.plugins)||void 0===Sn?void 0:Sn.browsertab)||void 0===Rn?void 0:Rn.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Q.ax)("function"==typeof(null===(Mr=null===(gr=null==mn?void 0:mn.cordova)||void 0===gr?void 0:gr.InAppBrowser)||void 0===Mr?void 0:Mr.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(z);const rn=yield Ft._initialize(z);yield rn.initialized(),rn.resetRedirect(),(0,Q.aD)(),yield Ft._originValidation(z);const Sn=function(X,z,H=null){return{type:z,eventId:H,urlResponse:null,sessionId:st(),postBody:null,tenantId:X.tenantId,error:(0,Q.aw)(X,"no-auth-event")}}(z,fe,Ue);yield function(X,z){return Xe()._set(ut(X),z)}(z,Sn);const Rn=yield function(X,z,H){return ae.apply(this,arguments)}(z,Sn,H),gr=yield function(X){const{cordova:z}=Ee();return new Promise(H=>{z.plugins.browsertab.isAvailable(fe=>{let Ue=null;fe?z.plugins.browsertab.openUrl(X):Ue=z.InAppBrowser.open(X,(0,Q.ap)()?"_blank":"_system","location=yes"),H(Ue)})})}(Rn);return function(X,z,H){return Ge.apply(this,arguments)}(z,rn,gr)})()}_isIframeWebStorageSupported(z,H){throw new Error("Method not implemented.")}_originValidation(z){const H=z._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function(X){return ve.apply(this,arguments)}(z)),this.originValidationPromises[H]}attachCallbackListeners(z,H){const{universalLinks:fe,handleOpenURL:Ue,BuildInfo:Ft}=Ee(),rn=setTimeout((0,I.Z)(function*(){yield He(z),H.onEvent(fn())}),500),Sn=function(){var Mr=(0,I.Z)(function*(mn){clearTimeout(rn);const lr=yield He(z);let yi=null;lr&&(null==mn?void 0:mn.url)&&(yi=function(X,z){var H,fe;const Ue=function(X){const z=Lt(X),H=z.link?decodeURIComponent(z.link):void 0,fe=Lt(H).link,Ue=z.deep_link_id?decodeURIComponent(z.deep_link_id):void 0;return Lt(Ue).link||Ue||fe||H||X}(z);if(Ue.includes("/__/auth/callback")){const Ft=Lt(Ue),rn=Ft.firebaseError?function(X){try{return JSON.parse(X)}catch(z){return null}}(decodeURIComponent(Ft.firebaseError)):null,Sn=null===(fe=null===(H=null==rn?void 0:rn.code)||void 0===H?void 0:H.split("auth/"))||void 0===fe?void 0:fe[1],Rn=Sn?(0,Q.aw)(Sn):null;return Rn?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Rn,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Ue,postBody:null}}return null}(lr,mn.url)),H.onEvent(yi||fn())});return function(lr){return Mr.apply(this,arguments)}}();void 0!==fe&&"function"==typeof fe.subscribe&&fe.subscribe(null,Sn);const Rn=Ue,gr=`${Ft.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var Mr=(0,I.Z)(function*(mn){if(mn.toLowerCase().startsWith(gr)&&Sn({url:mn}),"function"==typeof Rn)try{Rn(mn)}catch(lr){console.error(lr)}});return function(mn){return Mr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Q.a,this._completeRedirectFn=Q.aB,this._overrideRedirectResult=Q.aC}_initialize(z){var H=this;return(0,I.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(z)})()}_openPopup(z,H,fe,Ue){var Ft=this;return(0,I.Z)(function*(){return yield Ft.selectUnderlyingResolver(),Ft.assertedUnderlyingResolver._openPopup(z,H,fe,Ue)})()}_openRedirect(z,H,fe,Ue){var Ft=this;return(0,I.Z)(function*(){return yield Ft.selectUnderlyingResolver(),Ft.assertedUnderlyingResolver._openRedirect(z,H,fe,Ue)})()}_isIframeWebStorageSupported(z,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(z,H)}_originValidation(z){return this.assertedUnderlyingResolver._originValidation(z)}get _shouldInitProactively(){return br()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var z=this;return(0,I.Z)(function*(){if(z.underlyingResolver)return;const H=yield function(){return Rr.apply(this,arguments)}();z.underlyingResolver=H?z.cordovaResolver:z.browserResolver})()}}function Tn(X){return X.unwrap()}function dr(X){return xn(X)}function xn(X){const{_tokenResponse:z}=X instanceof Ve.ZR?X.customData:X;if(!z)return null;if(!(X instanceof Ve.ZR)&&"temporaryProof"in z&&"phoneNumber"in z)return Q.P.credentialFromResult(X);const H=z.providerId;if(!H||H===Q.o.PASSWORD)return null;let fe;switch(H){case Q.o.GOOGLE:fe=Q.Q;break;case Q.o.FACEBOOK:fe=Q.N;break;case Q.o.GITHUB:fe=Q.T;break;case Q.o.TWITTER:fe=Q.W;break;default:const{oauthIdToken:Ue,oauthAccessToken:Ft,oauthTokenSecret:rn,pendingToken:Sn,nonce:Rn}=z;return Ft||rn||Ue||Sn?Sn?H.startsWith("saml.")?Q.aL._create(H,Sn):Q.J._fromParams({providerId:H,signInMethod:H,pendingToken:Sn,idToken:Ue,accessToken:Ft}):new Q.U(H).credential({idToken:Ue,accessToken:Ft,rawNonce:Rn}):null}return X instanceof Ve.ZR?fe.credentialFromError(X):fe.credentialFromResult(X)}function Er(X,z){return z.catch(H=>{throw H instanceof Ve.ZR&&function(X,z){var H,fe;const Ue=null===(H=z.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===(null===(fe=z)||void 0===fe?void 0:fe.code))z.resolver=new Fe(X,Q.an(X,z));else if(Ue){const Ft=xn(z),rn=z;Ft&&(rn.credential=Ft,rn.tenantId=Ue.tenantId||void 0,rn.email=Ue.email||void 0,rn.phoneNumber=Ue.phoneNumber||void 0)}}(X,H),H}).then(H=>{const Ue=H.user;return{operationType:H.operationType,credential:dr(H),additionalUserInfo:Q.al(H),user:Ke.getOrCreate(Ue)}})}function Zn(X,z){return zr.apply(this,arguments)}function zr(){return(zr=(0,I.Z)(function*(X,z){const H=yield z;return{verificationId:H.verificationId,confirm:fe=>Er(X,H.confirm(fe))}})).apply(this,arguments)}class Fe{constructor(z,H){this.resolver=H,this.auth=z.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(z){return Er(Tn(this.auth),this.resolver.resolveSignIn(z))}}class Ke{constructor(z){this._delegate=z,this.multiFactor=Q.ao(z)}static getOrCreate(z){return Ke.USER_MAP.has(z)||Ke.USER_MAP.set(z,new Ke(z)),Ke.USER_MAP.get(z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(z){return this._delegate.getIdTokenResult(z)}getIdToken(z){return this._delegate.getIdToken(z)}linkAndRetrieveDataWithCredential(z){return this.linkWithCredential(z)}linkWithCredential(z){var H=this;return(0,I.Z)(function*(){return Er(H.auth,Q.Z(H._delegate,z))})()}linkWithPhoneNumber(z,H){var fe=this;return(0,I.Z)(function*(){return Zn(fe.auth,Q.l(fe._delegate,z,H))})()}linkWithPopup(z){var H=this;return(0,I.Z)(function*(){return Er(H.auth,Q.d(H._delegate,z,Bt))})()}linkWithRedirect(z){var H=this;return(0,I.Z)(function*(){return yield he(Q.aE(H.auth)),Q.g(H._delegate,z,Bt)})()}reauthenticateAndRetrieveDataWithCredential(z){return this.reauthenticateWithCredential(z)}reauthenticateWithCredential(z){var H=this;return(0,I.Z)(function*(){return Er(H.auth,Q._(H._delegate,z))})()}reauthenticateWithPhoneNumber(z,H){return Zn(this.auth,Q.r(this._delegate,z,H))}reauthenticateWithPopup(z){return Er(this.auth,Q.e(this._delegate,z,Bt))}reauthenticateWithRedirect(z){var H=this;return(0,I.Z)(function*(){return yield he(Q.aE(H.auth)),Q.h(H._delegate,z,Bt)})()}sendEmailVerification(z){return Q.ab(this._delegate,z)}unlink(z){var H=this;return(0,I.Z)(function*(){return yield Q.ak(H._delegate,z),H})()}updateEmail(z){return Q.ag(this._delegate,z)}updatePassword(z){return Q.ah(this._delegate,z)}updatePhoneNumber(z){return Q.u(this._delegate,z)}updateProfile(z){return Q.af(this._delegate,z)}verifyBeforeUpdateEmail(z,H){return Q.ac(this._delegate,z,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ke.USER_MAP=new WeakMap;const Oe=Q.ax;let ze=(()=>{class X{constructor(H,fe){if(this.app=H,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ue}=H.options;Oe(Ue,"invalid-api-key",{appName:H.name}),Oe(Ue,"invalid-api-key",{appName:H.name});const Ft="undefined"!=typeof window?Bt:void 0;this._delegate=fe.initialize({options:{persistence:Me(Ue,H.name),popupRedirectResolver:Ft}}),this._delegate._updateErrorMap(Q.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ke.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,fe){Q.G(this._delegate,H,fe)}applyActionCode(H){return Q.a2(this._delegate,H)}checkActionCode(H){return Q.a3(this._delegate,H)}confirmPasswordReset(H,fe){return Q.a1(this._delegate,H,fe)}createUserWithEmailAndPassword(H,fe){var Ue=this;return(0,I.Z)(function*(){return Er(Ue._delegate,Q.a5(Ue._delegate,H,fe))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return Q.aa(this._delegate,H)}isSignInWithEmailLink(H){return Q.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,I.Z)(function*(){Oe(Yn(),H._delegate,"operation-not-supported-in-this-environment");const fe=yield Q.j(H._delegate,Bt);return fe?Er(H._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function(X,z){(0,Q.aE)(X)._logFramework(z)}(this._delegate,H)}onAuthStateChanged(H,fe,Ue){const{next:Ft,error:rn,complete:Sn}=ne(H,fe,Ue);return this._delegate.onAuthStateChanged(Ft,rn,Sn)}onIdTokenChanged(H,fe,Ue){const{next:Ft,error:rn,complete:Sn}=ne(H,fe,Ue);return this._delegate.onIdTokenChanged(Ft,rn,Sn)}sendSignInLinkToEmail(H,fe){return Q.a7(this._delegate,H,fe)}sendPasswordResetEmail(H,fe){return Q.a0(this._delegate,H,fe||void 0)}setPersistence(H){var fe=this;return(0,I.Z)(function*(){let Ue;switch(function(X,z){Se(Object.values(Qt).includes(z),X,"invalid-persistence-type"),(0,Ve.b$)()?Se(z!==Qt.SESSION,X,"unsupported-persistence-type"):(0,Ve.UG)()?Se(z===Qt.NONE,X,"unsupported-persistence-type"):En()?Se(z===Qt.NONE||z===Qt.LOCAL&&(0,Ve.hl)(),X,"unsupported-persistence-type"):Se(z===Qt.NONE||Wn(),X,"unsupported-persistence-type")}(fe._delegate,H),H){case Qt.SESSION:Ue=Q.a;break;case Qt.LOCAL:Ue=(yield Q.ay(Q.i)._isAvailable())?Q.i:Q.b;break;case Qt.NONE:Ue=Q.L;break;default:return Q.at("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(Ue)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Er(this._delegate,Q.X(this._delegate))}signInWithCredential(H){return Er(this._delegate,Q.Y(this._delegate,H))}signInWithCustomToken(H){return Er(this._delegate,Q.$(this._delegate,H))}signInWithEmailAndPassword(H,fe){return Er(this._delegate,Q.a6(this._delegate,H,fe))}signInWithEmailLink(H,fe){return Er(this._delegate,Q.a9(this._delegate,H,fe))}signInWithPhoneNumber(H,fe){return Zn(this._delegate,Q.s(this._delegate,H,fe))}signInWithPopup(H){var fe=this;return(0,I.Z)(function*(){return Oe(Yn(),fe._delegate,"operation-not-supported-in-this-environment"),Er(fe._delegate,Q.c(fe._delegate,H,Bt))})()}signInWithRedirect(H){var fe=this;return(0,I.Z)(function*(){return Oe(Yn(),fe._delegate,"operation-not-supported-in-this-environment"),yield he(fe._delegate),Q.f(fe._delegate,H,Bt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return Q.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=Qt,X})();function ne(X,z,H){let fe=X;"function"!=typeof X&&({next:fe,error:z,complete:H}=X);const Ue=fe;return{next:rn=>Ue(rn&&Ke.getOrCreate(rn)),error:z,complete:H}}function Me(X,z){const H=function(X,z){const H=yt();if(!H)return[];const fe=Q.az(ke,X,z);switch(H.getItem(fe)){case Qt.NONE:return[Q.L];case Qt.LOCAL:return[Q.i,Q.a];case Qt.SESSION:return[Q.a];default:return[]}}(X,z);if("undefined"!=typeof self&&!H.includes(Q.i)&&H.push(Q.i),"undefined"!=typeof window)for(const fe of[Q.b,Q.a])H.includes(fe)||H.push(fe);return H.includes(Q.L)||H.push(Q.L),H}class me{constructor(){this.providerId="phone",this._delegate=new Q.P(Tn(o.Z.auth()))}static credential(z,H){return Q.P.credential(z,H)}verifyPhoneNumber(z,H){return this._delegate.verifyPhoneNumber(z,H)}unwrap(){return this._delegate}}me.PHONE_SIGN_IN_METHOD=Q.P.PHONE_SIGN_IN_METHOD,me.PROVIDER_ID=Q.P.PROVIDER_ID;const et=Q.ax;var X;(X=o.Z).INTERNAL.registerComponent(new xe.wA("auth-compat",z=>{const H=z.getProvider("app-compat").getImmediate(),fe=z.getProvider("auth");return new ze(H,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Q.A.EMAIL_SIGNIN,PASSWORD_RESET:Q.A.PASSWORD_RESET,RECOVER_EMAIL:Q.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Q.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Q.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Q.A.VERIFY_EMAIL}},EmailAuthProvider:Q.M,FacebookAuthProvider:Q.N,GithubAuthProvider:Q.T,GoogleAuthProvider:Q.Q,OAuthProvider:Q.U,SAMLAuthProvider:Q.V,PhoneAuthProvider:me,PhoneMultiFactorGenerator:Q.m,RecaptchaVerifier:class{constructor(z,H,fe=o.Z.app()){var Ue;et(null===(Ue=fe.options)||void 0===Ue?void 0:Ue.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new Q.R(z,H,fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Q.W,Auth:ze,AuthCredential:Q.H,Error:Ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.2.19")},6215:(un,ht,U)=>{"use strict";U.d(ht,{X:()=>Q});var I=U(9765),o=U(7971);class Q extends I.xQ{constructor(Ne){super(),this._value=Ne}get value(){return this.getValue()}_subscribe(Ne){const _e=super._subscribe(Ne);return _e&&!_e.closed&&Ne.next(this._value),_e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value}next(Ne){super.next(this._value=Ne)}}},7574:(un,ht,U)=>{"use strict";U.d(ht,{y:()=>ae});var I=U(7393),Q=U(9181),Ve=U(6490),_e=U(6554),xe=U(4487);var se=U(2494);let ae=(()=>{class ve{constructor($e){this._isScalar=!1,$e&&(this._subscribe=$e)}lift($e){const Ge=new ve;return Ge.source=this,Ge.operator=$e,Ge}subscribe($e,Ge,ce){const{operator:wt}=this,Wt=function(ve,Be,$e){if(ve){if(ve instanceof I.L)return ve;if(ve[Q.b])return ve[Q.b]()}return ve||Be||$e?new I.L(ve,Be,$e):new I.L(Ve.c)}($e,Ge,ce);if(Wt.add(wt?wt.call(Wt,this.source):this.source||se.v.useDeprecatedSynchronousErrorHandling&&!Wt.syncErrorThrowable?this._subscribe(Wt):this._trySubscribe(Wt)),se.v.useDeprecatedSynchronousErrorHandling&&Wt.syncErrorThrowable&&(Wt.syncErrorThrowable=!1,Wt.syncErrorThrown))throw Wt.syncErrorValue;return Wt}_trySubscribe($e){try{return this._subscribe($e)}catch(Ge){se.v.useDeprecatedSynchronousErrorHandling&&($e.syncErrorThrown=!0,$e.syncErrorValue=Ge),function(ve){for(;ve;){const{closed:Be,destination:$e,isStopped:Ge}=ve;if(Be||Ge)return!1;ve=$e&&$e instanceof I.L?$e:null}return!0}($e)?$e.error(Ge):console.warn(Ge)}}forEach($e,Ge){return new(Ge=Te(Ge))((ce,wt)=>{let Wt;Wt=this.subscribe(Ot=>{try{$e(Ot)}catch(At){wt(At),Wt&&Wt.unsubscribe()}},wt,ce)})}_subscribe($e){const{source:Ge}=this;return Ge&&Ge.subscribe($e)}[_e.L](){return this}pipe(...$e){return 0===$e.length?this:function(ve){return 0===ve.length?xe.y:1===ve.length?ve[0]:function($e){return ve.reduce((Ge,ce)=>ce(Ge),$e)}}($e)(this)}toPromise($e){return new($e=Te($e))((Ge,ce)=>{let wt;this.subscribe(Wt=>wt=Wt,Wt=>ce(Wt),()=>Ge(wt))})}}return ve.create=Be=>new ve(Be),ve})();function Te(ve){if(ve||(ve=se.v.Promise||Promise),!ve)throw new Error("no Promise impl found");return ve}},6490:(un,ht,U)=>{"use strict";U.d(ht,{c:()=>Q});var I=U(2494),o=U(4449);const Q={closed:!0,next(Ve){},error(Ve){if(I.v.useDeprecatedSynchronousErrorHandling)throw Ve;(0,o.z)(Ve)},complete(){}}},9765:(un,ht,U)=>{"use strict";U.d(ht,{Yc:()=>xe,xQ:()=>Ee});var I=U(7574),o=U(7393),Q=U(5319),Ve=U(7971),Ne=U(8858),_e=U(9181);class xe extends o.L{constructor(ae){super(ae),this.destination=ae}}let Ee=(()=>{class se extends I.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[_e.b](){return new xe(this)}lift(Te){const ve=new ye(this,this);return ve.operator=Te,ve}next(Te){if(this.closed)throw new Ve.N;if(!this.isStopped){const{observers:ve}=this,Be=ve.length,$e=ve.slice();for(let Ge=0;Ge<Be;Ge++)$e[Ge].next(Te)}}error(Te){if(this.closed)throw new Ve.N;this.hasError=!0,this.thrownError=Te,this.isStopped=!0;const{observers:ve}=this,Be=ve.length,$e=ve.slice();for(let Ge=0;Ge<Be;Ge++)$e[Ge].error(Te);this.observers.length=0}complete(){if(this.closed)throw new Ve.N;this.isStopped=!0;const{observers:Te}=this,ve=Te.length,Be=Te.slice();for(let $e=0;$e<ve;$e++)Be[$e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Te){if(this.closed)throw new Ve.N;return super._trySubscribe(Te)}_subscribe(Te){if(this.closed)throw new Ve.N;return this.hasError?(Te.error(this.thrownError),Q.w.EMPTY):this.isStopped?(Te.complete(),Q.w.EMPTY):(this.observers.push(Te),new Ne.W(this,Te))}asObservable(){const Te=new I.y;return Te.source=this,Te}}return se.create=(ae,Te)=>new ye(ae,Te),se})();class ye extends Ee{constructor(ae,Te){super(),this.destination=ae,this.source=Te}next(ae){const{destination:Te}=this;Te&&Te.next&&Te.next(ae)}error(ae){const{destination:Te}=this;Te&&Te.error&&this.destination.error(ae)}complete(){const{destination:ae}=this;ae&&ae.complete&&this.destination.complete()}_subscribe(ae){const{source:Te}=this;return Te?this.source.subscribe(ae):Q.w.EMPTY}}},8858:(un,ht,U)=>{"use strict";U.d(ht,{W:()=>o});var I=U(5319);class o extends I.w{constructor(Ve,Ne){super(),this.subject=Ve,this.subscriber=Ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ve=this.subject,Ne=Ve.observers;if(this.subject=null,!Ne||0===Ne.length||Ve.isStopped||Ve.closed)return;const _e=Ne.indexOf(this.subscriber);-1!==_e&&Ne.splice(_e,1)}}},7393:(un,ht,U)=>{"use strict";U.d(ht,{L:()=>xe});var I=U(9105),o=U(6490),Q=U(5319),Ve=U(9181),Ne=U(2494),_e=U(4449);class xe extends Q.w{constructor(se,ae,Te){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.c;break;case 1:if(!se){this.destination=o.c;break}if("object"==typeof se){se instanceof xe?(this.syncErrorThrowable=se.syncErrorThrowable,this.destination=se,se.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ee(this,se));break}default:this.syncErrorThrowable=!0,this.destination=new Ee(this,se,ae,Te)}}[Ve.b](){return this}static create(se,ae,Te){const ve=new xe(se,ae,Te);return ve.syncErrorThrowable=!1,ve}next(se){this.isStopped||this._next(se)}error(se){this.isStopped||(this.isStopped=!0,this._error(se))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(se){this.destination.next(se)}_error(se){this.destination.error(se),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:se}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=se,this}}class Ee extends xe{constructor(se,ae,Te,ve){super(),this._parentSubscriber=se;let Be,$e=this;(0,I.m)(ae)?Be=ae:ae&&(Be=ae.next,Te=ae.error,ve=ae.complete,ae!==o.c&&($e=Object.create(ae),(0,I.m)($e.unsubscribe)&&this.add($e.unsubscribe.bind($e)),$e.unsubscribe=this.unsubscribe.bind(this))),this._context=$e,this._next=Be,this._error=Te,this._complete=ve}next(se){if(!this.isStopped&&this._next){const{_parentSubscriber:ae}=this;Ne.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?this.__tryOrSetError(ae,this._next,se)&&this.unsubscribe():this.__tryOrUnsub(this._next,se)}}error(se){if(!this.isStopped){const{_parentSubscriber:ae}=this,{useDeprecatedSynchronousErrorHandling:Te}=Ne.v;if(this._error)Te&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,this._error,se),this.unsubscribe()):(this.__tryOrUnsub(this._error,se),this.unsubscribe());else if(ae.syncErrorThrowable)Te?(ae.syncErrorValue=se,ae.syncErrorThrown=!0):(0,_e.z)(se),this.unsubscribe();else{if(this.unsubscribe(),Te)throw se;(0,_e.z)(se)}}}complete(){if(!this.isStopped){const{_parentSubscriber:se}=this;if(this._complete){const ae=()=>this._complete.call(this._context);Ne.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?(this.__tryOrSetError(se,ae),this.unsubscribe()):(this.__tryOrUnsub(ae),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(se,ae){try{se.call(this._context,ae)}catch(Te){if(this.unsubscribe(),Ne.v.useDeprecatedSynchronousErrorHandling)throw Te;(0,_e.z)(Te)}}__tryOrSetError(se,ae,Te){if(!Ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ae.call(this._context,Te)}catch(ve){return Ne.v.useDeprecatedSynchronousErrorHandling?(se.syncErrorValue=ve,se.syncErrorThrown=!0,!0):((0,_e.z)(ve),!0)}return!1}_unsubscribe(){const{_parentSubscriber:se}=this;this._context=null,this._parentSubscriber=null,se.unsubscribe()}}},5319:(un,ht,U)=>{"use strict";U.d(ht,{w:()=>_e});var I=U(9796),o=U(1555),Q=U(9105);const Ne=(()=>{function Ee(ye){return Error.call(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((se,ae)=>`${ae+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye,this}return Ee.prototype=Object.create(Error.prototype),Ee})();class _e{constructor(ye){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ye&&(this._ctorUnsubscribe=!0,this._unsubscribe=ye)}unsubscribe(){let ye;if(this.closed)return;let{_parentOrParents:se,_ctorUnsubscribe:ae,_unsubscribe:Te,_subscriptions:ve}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,se instanceof _e)se.remove(this);else if(null!==se)for(let Be=0;Be<se.length;++Be)se[Be].remove(this);if((0,Q.m)(Te)){ae&&(this._unsubscribe=void 0);try{Te.call(this)}catch(Be){ye=Be instanceof Ne?xe(Be.errors):[Be]}}if((0,I.k)(ve)){let Be=-1,$e=ve.length;for(;++Be<$e;){const Ge=ve[Be];if((0,o.K)(Ge))try{Ge.unsubscribe()}catch(ce){ye=ye||[],ce instanceof Ne?ye=ye.concat(xe(ce.errors)):ye.push(ce)}}}if(ye)throw new Ne(ye)}add(ye){let se=ye;if(!ye)return _e.EMPTY;switch(typeof ye){case"function":se=new _e(ye);case"object":if(se===this||se.closed||"function"!=typeof se.unsubscribe)return se;if(this.closed)return se.unsubscribe(),se;if(!(se instanceof _e)){const ve=se;se=new _e,se._subscriptions=[ve]}break;default:throw new Error("unrecognized teardown "+ye+" added to Subscription.")}let{_parentOrParents:ae}=se;if(null===ae)se._parentOrParents=this;else if(ae instanceof _e){if(ae===this)return se;se._parentOrParents=[ae,this]}else{if(-1!==ae.indexOf(this))return se;ae.push(this)}const Te=this._subscriptions;return null===Te?this._subscriptions=[se]:Te.push(se),se}remove(ye){const se=this._subscriptions;if(se){const ae=se.indexOf(ye);-1!==ae&&se.splice(ae,1)}}}var Ee;function xe(Ee){return Ee.reduce((ye,se)=>ye.concat(se instanceof Ne?se.errors:se),[])}_e.EMPTY=((Ee=new _e).closed=!0,Ee)},2494:(un,ht,U)=>{"use strict";U.d(ht,{v:()=>o});let I=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Q){if(Q){const Ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ve.stack)}else I&&console.log("RxJS: Back to a better error behavior. Thank you. <3");I=Q},get useDeprecatedSynchronousErrorHandling(){return I}}},5345:(un,ht,U)=>{"use strict";U.d(ht,{IY:()=>Ve,Ds:()=>_e,ft:()=>Ee});var I=U(7393),o=U(7574),Q=U(7444);class Ve extends I.L{constructor(se){super(),this.parent=se}_next(se){this.parent.notifyNext(se)}_error(se){this.parent.notifyError(se),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class _e extends I.L{notifyNext(se){this.destination.next(se)}notifyError(se){this.destination.error(se)}notifyComplete(){this.destination.complete()}}function Ee(ye,se){if(se.closed)return;if(ye instanceof o.y)return ye.subscribe(se);let ae;try{ae=(0,Q.s)(ye)(se)}catch(Te){se.error(Te)}return ae}},2441:(un,ht,U)=>{"use strict";U.d(ht,{c:()=>Ne,N:()=>_e});var I=U(9765),o=U(7574),Q=U(5319),Ve=U(1307);class Ne extends o.y{constructor(ae,Te){super(),this.source=ae,this.subjectFactory=Te,this._refCount=0,this._isComplete=!1}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ae=this._connection;return ae||(this._isComplete=!1,ae=this._connection=new Q.w,ae.add(this.source.subscribe(new xe(this.getSubject(),this))),ae.closed&&(this._connection=null,ae=Q.w.EMPTY)),ae}refCount(){return(0,Ve.x)()(this)}}const _e=(()=>{const se=Ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:se._subscribe},_isComplete:{value:se._isComplete,writable:!0},getSubject:{value:se.getSubject},connect:{value:se.connect},refCount:{value:se.refCount}}})();class xe extends I.Yc{constructor(ae,Te){super(ae),this.connectable=Te}_error(ae){this._unsubscribe(),super._error(ae)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ae=this.connectable;if(ae){this.connectable=null;const Te=ae._connection;ae._refCount=0,ae._subject=null,ae._connection=null,Te&&Te.unsubscribe()}}}},8071:(un,ht,U)=>{"use strict";U.d(ht,{z:()=>Ve});var I=U(5917),o=U(3282);function Ve(...Ne){return(0,o.J)(1)((0,I.of)(...Ne))}},1439:(un,ht,U)=>{"use strict";U.d(ht,{P:()=>Ve});var I=U(7574),o=U(4402),Q=U(9193);function Ve(Ne){return new I.y(_e=>{let xe;try{xe=Ne()}catch(ye){return void _e.error(ye)}return(xe?(0,o.D)(xe):(0,Q.c)()).subscribe(_e)})}},9193:(un,ht,U)=>{"use strict";U.d(ht,{E:()=>o,c:()=>Q});var I=U(7574);const o=new I.y(Ne=>Ne.complete());function Q(Ne){return Ne?function(Ne){return new I.y(_e=>Ne.schedule(()=>_e.complete()))}(Ne):o}},4402:(un,ht,U)=>{"use strict";U.d(ht,{D:()=>$e});var I=U(7574),o=U(7444),Q=U(5319),Ve=U(6554),xe=U(4087),Ee=U(377),ae=U(4072),Te=U(9489);function $e(Ge,ce){return ce?function(Ge,ce){if(null!=Ge){if(function(Ge){return Ge&&"function"==typeof Ge[Ve.L]}(Ge))return function(Ge,ce){return new I.y(wt=>{const Wt=new Q.w;return Wt.add(ce.schedule(()=>{const Ot=Ge[Ve.L]();Wt.add(Ot.subscribe({next(At){Wt.add(ce.schedule(()=>wt.next(At)))},error(At){Wt.add(ce.schedule(()=>wt.error(At)))},complete(){Wt.add(ce.schedule(()=>wt.complete()))}}))})),Wt})}(Ge,ce);if((0,ae.t)(Ge))return function(Ge,ce){return new I.y(wt=>{const Wt=new Q.w;return Wt.add(ce.schedule(()=>Ge.then(Ot=>{Wt.add(ce.schedule(()=>{wt.next(Ot),Wt.add(ce.schedule(()=>wt.complete()))}))},Ot=>{Wt.add(ce.schedule(()=>wt.error(Ot)))}))),Wt})}(Ge,ce);if((0,Te.z)(Ge))return(0,xe.r)(Ge,ce);if(function(Ge){return Ge&&"function"==typeof Ge[Ee.hZ]}(Ge)||"string"==typeof Ge)return function(Ge,ce){if(!Ge)throw new Error("Iterable cannot be null");return new I.y(wt=>{const Wt=new Q.w;let Ot;return Wt.add(()=>{Ot&&"function"==typeof Ot.return&&Ot.return()}),Wt.add(ce.schedule(()=>{Ot=Ge[Ee.hZ](),Wt.add(ce.schedule(function(){if(wt.closed)return;let At,Je;try{const rt=Ot.next();At=rt.value,Je=rt.done}catch(rt){return void wt.error(rt)}Je?wt.complete():(wt.next(At),this.schedule())}))})),Wt})}(Ge,ce)}throw new TypeError((null!==Ge&&typeof Ge||Ge)+" is not observable")}(Ge,ce):Ge instanceof I.y?Ge:new I.y((0,o.s)(Ge))}},6693:(un,ht,U)=>{"use strict";U.d(ht,{n:()=>Ve});var I=U(7574),o=U(5015),Q=U(4087);function Ve(Ne,_e){return _e?(0,Q.r)(Ne,_e):new I.y((0,o.V)(Ne))}},2759:(un,ht,U)=>{"use strict";U.d(ht,{R:()=>_e});var I=U(7574),o=U(9796),Q=U(9105),Ve=U(8002);function _e(ae,Te,ve,Be){return(0,Q.m)(ve)&&(Be=ve,ve=void 0),Be?_e(ae,Te,ve).pipe((0,Ve.U)($e=>(0,o.k)($e)?Be(...$e):Be($e))):new I.y($e=>{xe(ae,Te,function(ce){$e.next(arguments.length>1?Array.prototype.slice.call(arguments):ce)},$e,ve)})}function xe(ae,Te,ve,Be,$e){let Ge;if(function(ae){return ae&&"function"==typeof ae.addEventListener&&"function"==typeof ae.removeEventListener}(ae)){const ce=ae;ae.addEventListener(Te,ve,$e),Ge=()=>ce.removeEventListener(Te,ve,$e)}else if(function(ae){return ae&&"function"==typeof ae.on&&"function"==typeof ae.off}(ae)){const ce=ae;ae.on(Te,ve),Ge=()=>ce.off(Te,ve)}else if(function(ae){return ae&&"function"==typeof ae.addListener&&"function"==typeof ae.removeListener}(ae)){const ce=ae;ae.addListener(Te,ve),Ge=()=>ce.removeListener(Te,ve)}else{if(!ae||!ae.length)throw new TypeError("Invalid event target");for(let ce=0,wt=ae.length;ce<wt;ce++)xe(ae[ce],Te,ve,Be,$e)}Be.add(Ge)}},6682:(un,ht,U)=>{"use strict";U.d(ht,{T:()=>Ne});var I=U(7574),o=U(4869),Q=U(3282),Ve=U(6693);function Ne(..._e){let xe=Number.POSITIVE_INFINITY,Ee=null,ye=_e[_e.length-1];return(0,o.K)(ye)?(Ee=_e.pop(),_e.length>1&&"number"==typeof _e[_e.length-1]&&(xe=_e.pop())):"number"==typeof ye&&(xe=_e.pop()),null===Ee&&1===_e.length&&_e[0]instanceof I.y?_e[0]:(0,Q.J)(xe)((0,Ve.n)(_e,Ee))}},5917:(un,ht,U)=>{"use strict";U.d(ht,{of:()=>Ve});var I=U(4869),o=U(6693),Q=U(4087);function Ve(...Ne){let _e=Ne[Ne.length-1];return(0,I.K)(_e)?(Ne.pop(),(0,Q.r)(Ne,_e)):(0,o.n)(Ne)}},4612:(un,ht,U)=>{"use strict";U.d(ht,{b:()=>o});var I=U(9773);function o(Q,Ve){return(0,I.zg)(Q,Ve,1)}},4395:(un,ht,U)=>{"use strict";U.d(ht,{b:()=>Q});var I=U(7393),o=U(3637);function Q(xe,Ee=o.P){return ye=>ye.lift(new Ve(xe,Ee))}class Ve{constructor(Ee,ye){this.dueTime=Ee,this.scheduler=ye}call(Ee,ye){return ye.subscribe(new Ne(Ee,this.dueTime,this.scheduler))}}class Ne extends I.L{constructor(Ee,ye,se){super(Ee),this.dueTime=ye,this.scheduler=se,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Ee){this.clearDebounce(),this.lastValue=Ee,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_e,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Ee}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Ee)}}clearDebounce(){const Ee=this.debouncedSubscription;null!==Ee&&(this.remove(Ee),Ee.unsubscribe(),this.debouncedSubscription=null)}}function _e(xe){xe.debouncedNext()}},5242:(un,ht,U)=>{"use strict";U.d(ht,{d:()=>o});var I=U(7393);function o(Ne=null){return _e=>_e.lift(new Q(Ne))}class Q{constructor(_e){this.defaultValue=_e}call(_e,xe){return xe.subscribe(new Ve(_e,this.defaultValue))}}class Ve extends I.L{constructor(_e,xe){super(_e),this.defaultValue=xe,this.isEmpty=!0}_next(_e){this.isEmpty=!1,this.destination.next(_e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(un,ht,U)=>{"use strict";U.d(ht,{x:()=>o});var I=U(7393);function o(Ne,_e){return xe=>xe.lift(new Q(Ne,_e))}class Q{constructor(_e,xe){this.compare=_e,this.keySelector=xe}call(_e,xe){return xe.subscribe(new Ve(_e,this.compare,this.keySelector))}}class Ve extends I.L{constructor(_e,xe,Ee){super(_e),this.keySelector=Ee,this.hasKey=!1,"function"==typeof xe&&(this.compare=xe)}compare(_e,xe){return _e===xe}_next(_e){let xe;try{const{keySelector:ye}=this;xe=ye?ye(_e):_e}catch(ye){return this.destination.error(ye)}let Ee=!1;if(this.hasKey)try{const{compare:ye}=this;Ee=ye(this.key,xe)}catch(ye){return this.destination.error(ye)}else this.hasKey=!0;Ee||(this.key=xe,this.destination.next(_e))}}},5435:(un,ht,U)=>{"use strict";U.d(ht,{h:()=>o});var I=U(7393);function o(Ne,_e){return function(Ee){return Ee.lift(new Q(Ne,_e))}}class Q{constructor(_e,xe){this.predicate=_e,this.thisArg=xe}call(_e,xe){return xe.subscribe(new Ve(_e,this.predicate,this.thisArg))}}class Ve extends I.L{constructor(_e,xe,Ee){super(_e),this.predicate=xe,this.thisArg=Ee,this.count=0}_next(_e){let xe;try{xe=this.predicate.call(this.thisArg,_e,this.count++)}catch(Ee){return void this.destination.error(Ee)}xe&&this.destination.next(_e)}}},8049:(un,ht,U)=>{"use strict";U.d(ht,{P:()=>xe});var I=U(3410),o=U(5435),Q=U(5257),Ve=U(5242),Ne=U(4635),_e=U(4487);function xe(Ee,ye){const se=arguments.length>=2;return ae=>ae.pipe(Ee?(0,o.h)((Te,ve)=>Ee(Te,ve,ae)):_e.y,(0,Q.q)(1),se?(0,Ve.d)(ye):(0,Ne.T)(()=>new I.K))}},8002:(un,ht,U)=>{"use strict";U.d(ht,{U:()=>o});var I=U(7393);function o(Ne,_e){return function(Ee){if("function"!=typeof Ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ee.lift(new Q(Ne,_e))}}class Q{constructor(_e,xe){this.project=_e,this.thisArg=xe}call(_e,xe){return xe.subscribe(new Ve(_e,this.project,this.thisArg))}}class Ve extends I.L{constructor(_e,xe,Ee){super(_e),this.project=xe,this.count=0,this.thisArg=Ee||this}_next(_e){let xe;try{xe=this.project.call(this.thisArg,_e,this.count++)}catch(Ee){return void this.destination.error(Ee)}this.destination.next(xe)}}},3282:(un,ht,U)=>{"use strict";U.d(ht,{J:()=>Q});var I=U(9773),o=U(4487);function Q(Ve=Number.POSITIVE_INFINITY){return(0,I.zg)(o.y,Ve)}},9773:(un,ht,U)=>{"use strict";U.d(ht,{zg:()=>Ve});var I=U(8002),o=U(4402),Q=U(5345);function Ve(Ee,ye,se=Number.POSITIVE_INFINITY){return"function"==typeof ye?ae=>ae.pipe(Ve((Te,ve)=>(0,o.D)(Ee(Te,ve)).pipe((0,I.U)((Be,$e)=>ye(Te,Be,ve,$e))),se)):("number"==typeof ye&&(se=ye),ae=>ae.lift(new Ne(Ee,se)))}class Ne{constructor(ye,se=Number.POSITIVE_INFINITY){this.project=ye,this.concurrent=se}call(ye,se){return se.subscribe(new _e(ye,this.project,this.concurrent))}}class _e extends Q.Ds{constructor(ye,se,ae=Number.POSITIVE_INFINITY){super(ye),this.project=se,this.concurrent=ae,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ye){this.active<this.concurrent?this._tryNext(ye):this.buffer.push(ye)}_tryNext(ye){let se;const ae=this.index++;try{se=this.project(ye,ae)}catch(Te){return void this.destination.error(Te)}this.active++,this._innerSub(se)}_innerSub(ye){const se=new Q.IY(this),ae=this.destination;ae.add(se);const Te=(0,Q.ft)(ye,se);Te!==se&&ae.add(Te)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ye){this.destination.next(ye)}notifyComplete(){const ye=this.buffer;this.active--,ye.length>0?this._next(ye.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(un,ht,U)=>{"use strict";U.d(ht,{ht:()=>ae,QV:()=>ye});var I=U(7393),o=U(9193),Q=U(5917),Ve=U(7574);class Ee{constructor(Be,$e,Ge){this.kind=Be,this.value=$e,this.error=Ge,this.hasValue="N"===Be}observe(Be){switch(this.kind){case"N":return Be.next&&Be.next(this.value);case"E":return Be.error&&Be.error(this.error);case"C":return Be.complete&&Be.complete()}}do(Be,$e,Ge){switch(this.kind){case"N":return Be&&Be(this.value);case"E":return $e&&$e(this.error);case"C":return Ge&&Ge()}}accept(Be,$e,Ge){return Be&&"function"==typeof Be.next?this.observe(Be):this.do(Be,$e,Ge)}toObservable(){switch(this.kind){case"N":return(0,Q.of)(this.value);case"E":return ve=this.error,new Ve.y($e=>$e.error(ve));case"C":return(0,o.c)()}var ve;throw new Error("unexpected notification kind value")}static createNext(Be){return void 0!==Be?new Ee("N",Be):Ee.undefinedValueNotification}static createError(Be){return new Ee("E",void 0,Be)}static createComplete(){return Ee.completeNotification}}function ye(ve,Be=0){return function(Ge){return Ge.lift(new se(ve,Be))}}Ee.completeNotification=new Ee("C"),Ee.undefinedValueNotification=new Ee("N",void 0);class se{constructor(Be,$e=0){this.scheduler=Be,this.delay=$e}call(Be,$e){return $e.subscribe(new ae(Be,this.scheduler,this.delay))}}class ae extends I.L{constructor(Be,$e,Ge=0){super(Be),this.scheduler=$e,this.delay=Ge}static dispatch(Be){const{notification:$e,destination:Ge}=Be;$e.observe(Ge),this.unsubscribe()}scheduleMessage(Be){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new Te(Be,this.destination)))}_next(Be){this.scheduleMessage(Ee.createNext(Be))}_error(Be){this.scheduleMessage(Ee.createError(Be)),this.unsubscribe()}_complete(){this.scheduleMessage(Ee.createComplete()),this.unsubscribe()}}class Te{constructor(Be,$e){this.notification=Be,this.destination=$e}}},9328:(un,ht,U)=>{"use strict";U.d(ht,{G:()=>o});var I=U(7393);function o(){return Ne=>Ne.lift(new Q)}class Q{call(_e,xe){return xe.subscribe(new Ve(_e))}}class Ve extends I.L{constructor(_e){super(_e),this.hasPrev=!1}_next(_e){let xe;this.hasPrev?xe=[this.prev,_e]:this.hasPrev=!0,this.prev=_e,xe&&this.destination.next(xe)}}},1307:(un,ht,U)=>{"use strict";U.d(ht,{x:()=>o});var I=U(7393);function o(){return function(_e){return _e.lift(new Q(_e))}}class Q{constructor(_e){this.connectable=_e}call(_e,xe){const{connectable:Ee}=this;Ee._refCount++;const ye=new Ve(_e,Ee),se=xe.subscribe(ye);return ye.closed||(ye.connection=Ee.connect()),se}}class Ve extends I.L{constructor(_e,xe){super(_e),this.connectable=xe}_unsubscribe(){const{connectable:_e}=this;if(!_e)return void(this.connection=null);this.connectable=null;const xe=_e._refCount;if(xe<=0)return void(this.connection=null);if(_e._refCount=xe-1,xe>1)return void(this.connection=null);const{connection:Ee}=this,ye=_e._connection;this.connection=null,ye&&(!Ee||ye===Ee)&&ye.unsubscribe()}}},2145:(un,ht,U)=>{"use strict";U.d(ht,{R:()=>o});var I=U(7393);function o(Ne,_e){let xe=!1;return arguments.length>=2&&(xe=!0),function(ye){return ye.lift(new Q(Ne,_e,xe))}}class Q{constructor(_e,xe,Ee=!1){this.accumulator=_e,this.seed=xe,this.hasSeed=Ee}call(_e,xe){return xe.subscribe(new Ve(_e,this.accumulator,this.seed,this.hasSeed))}}class Ve extends I.L{constructor(_e,xe,Ee,ye){super(_e),this.accumulator=xe,this._seed=Ee,this.hasSeed=ye,this.index=0}get seed(){return this._seed}set seed(_e){this.hasSeed=!0,this._seed=_e}_next(_e){if(this.hasSeed)return this._tryNext(_e);this.seed=_e,this.destination.next(_e)}_tryNext(_e){const xe=this.index++;let Ee;try{Ee=this.accumulator(this.seed,_e,xe)}catch(ye){this.destination.error(ye)}this.seed=Ee,this.destination.next(Ee)}}},2066:(un,ht,U)=>{"use strict";U.d(ht,{d:()=>ye});var I=U(9765),o=U(7771),Q=U(5319),Ve=U(309),Ne=U(7971),_e=U(8858);class xe extends I.xQ{constructor(Te=Number.POSITIVE_INFINITY,ve=Number.POSITIVE_INFINITY,Be){super(),this.scheduler=Be,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Te<1?1:Te,this._windowTime=ve<1?1:ve,ve===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Te){if(!this.isStopped){const ve=this._events;ve.push(Te),ve.length>this._bufferSize&&ve.shift()}super.next(Te)}nextTimeWindow(Te){this.isStopped||(this._events.push(new Ee(this._getNow(),Te)),this._trimBufferThenGetEvents()),super.next(Te)}_subscribe(Te){const ve=this._infiniteTimeWindow,Be=ve?this._events:this._trimBufferThenGetEvents(),$e=this.scheduler,Ge=Be.length;let ce;if(this.closed)throw new Ne.N;if(this.isStopped||this.hasError?ce=Q.w.EMPTY:(this.observers.push(Te),ce=new _e.W(this,Te)),$e&&Te.add(Te=new Ve.ht(Te,$e)),ve)for(let wt=0;wt<Ge&&!Te.closed;wt++)Te.next(Be[wt]);else for(let wt=0;wt<Ge&&!Te.closed;wt++)Te.next(Be[wt].value);return this.hasError?Te.error(this.thrownError):this.isStopped&&Te.complete(),ce}_getNow(){return(this.scheduler||o.c).now()}_trimBufferThenGetEvents(){const Te=this._getNow(),ve=this._bufferSize,Be=this._windowTime,$e=this._events,Ge=$e.length;let ce=0;for(;ce<Ge&&!(Te-$e[ce].time<Be);)ce++;return Ge>ve&&(ce=Math.max(ce,Ge-ve)),ce>0&&$e.splice(0,ce),$e}}class Ee{constructor(Te,ve){this.time=Te,this.value=ve}}function ye(ae,Te,ve){let Be;return Be=ae&&"object"==typeof ae?ae:{bufferSize:ae,windowTime:Te,refCount:!1,scheduler:ve},$e=>$e.lift(function({bufferSize:ae=Number.POSITIVE_INFINITY,windowTime:Te=Number.POSITIVE_INFINITY,refCount:ve,scheduler:Be}){let $e,ce,Ge=0,wt=!1,Wt=!1;return function(At){let Je;Ge++,!$e||wt?(wt=!1,$e=new xe(ae,Te,Be),Je=$e.subscribe(this),ce=At.subscribe({next(rt){$e.next(rt)},error(rt){wt=!0,$e.error(rt)},complete(){Wt=!0,ce=void 0,$e.complete()}}),Wt&&(ce=void 0)):Je=$e.subscribe(this),this.add(()=>{Ge--,Je.unsubscribe(),Je=void 0,ce&&!Wt&&ve&&0===Ge&&(ce.unsubscribe(),ce=void 0,$e=void 0)})}}(Be))}},9761:(un,ht,U)=>{"use strict";U.d(ht,{O:()=>Q});var I=U(8071),o=U(4869);function Q(...Ve){const Ne=Ve[Ve.length-1];return(0,o.K)(Ne)?(Ve.pop(),_e=>(0,I.z)(Ve,_e,Ne)):_e=>(0,I.z)(Ve,_e)}},9673:(un,ht,U)=>{"use strict";U.d(ht,{R:()=>Ne});var I=U(7574),o=U(4581),Q=U(6561);class Ve extends I.y{constructor(Ee,ye=0,se=o.e){super(),this.source=Ee,this.delayTime=ye,this.scheduler=se,(!(0,Q.k)(ye)||ye<0)&&(this.delayTime=0),(!se||"function"!=typeof se.schedule)&&(this.scheduler=o.e)}static create(Ee,ye=0,se=o.e){return new Ve(Ee,ye,se)}static dispatch(Ee){const{source:ye,subscriber:se}=Ee;return this.add(ye.subscribe(se))}_subscribe(Ee){return this.scheduler.schedule(Ve.dispatch,this.delayTime,{source:this.source,subscriber:Ee})}}function Ne(xe,Ee=0){return function(se){return se.lift(new _e(xe,Ee))}}class _e{constructor(Ee,ye){this.scheduler=Ee,this.delay=ye}call(Ee,ye){return new Ve(ye,this.delay,this.scheduler).subscribe(Ee)}}},3190:(un,ht,U)=>{"use strict";U.d(ht,{w:()=>Ve});var I=U(8002),o=U(4402),Q=U(5345);function Ve(xe,Ee){return"function"==typeof Ee?ye=>ye.pipe(Ve((se,ae)=>(0,o.D)(xe(se,ae)).pipe((0,I.U)((Te,ve)=>Ee(se,Te,ae,ve))))):ye=>ye.lift(new Ne(xe))}class Ne{constructor(Ee){this.project=Ee}call(Ee,ye){return ye.subscribe(new _e(Ee,this.project))}}class _e extends Q.Ds{constructor(Ee,ye){super(Ee),this.project=ye,this.index=0}_next(Ee){let ye;const se=this.index++;try{ye=this.project(Ee,se)}catch(ae){return void this.destination.error(ae)}this._innerSub(ye)}_innerSub(Ee){const ye=this.innerSubscription;ye&&ye.unsubscribe();const se=new Q.IY(this),ae=this.destination;ae.add(se),this.innerSubscription=(0,Q.ft)(Ee,se),this.innerSubscription!==se&&ae.add(this.innerSubscription)}_complete(){const{innerSubscription:Ee}=this;(!Ee||Ee.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ee){this.destination.next(Ee)}}},5257:(un,ht,U)=>{"use strict";U.d(ht,{q:()=>Ve});var I=U(7393),o=U(7108),Q=U(9193);function Ve(xe){return Ee=>0===xe?(0,Q.c)():Ee.lift(new Ne(xe))}class Ne{constructor(Ee){if(this.total=Ee,this.total<0)throw new o.W}call(Ee,ye){return ye.subscribe(new _e(Ee,this.total))}}class _e extends I.L{constructor(Ee,ye){super(Ee),this.total=ye,this.count=0}_next(Ee){const ye=this.total,se=++this.count;se<=ye&&(this.destination.next(Ee),se===ye&&(this.destination.complete(),this.unsubscribe()))}}},6782:(un,ht,U)=>{"use strict";U.d(ht,{R:()=>o});var I=U(5345);function o(Ne){return _e=>_e.lift(new Q(Ne))}class Q{constructor(_e){this.notifier=_e}call(_e,xe){const Ee=new Ve(_e),ye=(0,I.ft)(this.notifier,new I.IY(Ee));return ye&&!Ee.seenValue?(Ee.add(ye),xe.subscribe(Ee)):Ee}}class Ve extends I.Ds{constructor(_e){super(_e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(un,ht,U)=>{"use strict";U.d(ht,{b:()=>Ve});var I=U(7393);function o(){}var Q=U(9105);function Ve(xe,Ee,ye){return function(ae){return ae.lift(new Ne(xe,Ee,ye))}}class Ne{constructor(Ee,ye,se){this.nextOrObserver=Ee,this.error=ye,this.complete=se}call(Ee,ye){return ye.subscribe(new _e(Ee,this.nextOrObserver,this.error,this.complete))}}class _e extends I.L{constructor(Ee,ye,se,ae){super(Ee),this._tapNext=o,this._tapError=o,this._tapComplete=o,this._tapError=se||o,this._tapComplete=ae||o,(0,Q.m)(ye)?(this._context=this,this._tapNext=ye):ye&&(this._context=ye,this._tapNext=ye.next||o,this._tapError=ye.error||o,this._tapComplete=ye.complete||o)}_next(Ee){try{this._tapNext.call(this._context,Ee)}catch(ye){return void this.destination.error(ye)}this.destination.next(Ee)}_error(Ee){try{this._tapError.call(this._context,Ee)}catch(ye){return void this.destination.error(ye)}this.destination.error(Ee)}_complete(){try{this._tapComplete.call(this._context)}catch(Ee){return void this.destination.error(Ee)}return this.destination.complete()}}},4635:(un,ht,U)=>{"use strict";U.d(ht,{T:()=>Q});var I=U(3410),o=U(7393);function Q(xe=_e){return Ee=>Ee.lift(new Ve(xe))}class Ve{constructor(Ee){this.errorFactory=Ee}call(Ee,ye){return ye.subscribe(new Ne(Ee,this.errorFactory))}}class Ne extends o.L{constructor(Ee,ye){super(Ee),this.errorFactory=ye,this.hasValue=!1}_next(Ee){this.hasValue=!0,this.destination.next(Ee)}_complete(){if(this.hasValue)return this.destination.complete();{let Ee;try{Ee=this.errorFactory()}catch(ye){Ee=ye}this.destination.error(Ee)}}}function _e(){return new I.K}},4087:(un,ht,U)=>{"use strict";U.d(ht,{r:()=>Q});var I=U(7574),o=U(5319);function Q(Ve,Ne){return new I.y(_e=>{const xe=new o.w;let Ee=0;return xe.add(Ne.schedule(function(){Ee!==Ve.length?(_e.next(Ve[Ee++]),_e.closed||xe.add(this.schedule())):_e.complete()})),xe})}},6465:(un,ht,U)=>{"use strict";U.d(ht,{o:()=>Q});var I=U(5319);class o extends I.w{constructor(Ne,_e){super()}schedule(Ne,_e=0){return this}}class Q extends o{constructor(Ne,_e){super(Ne,_e),this.scheduler=Ne,this.work=_e,this.pending=!1}schedule(Ne,_e=0){if(this.closed)return this;this.state=Ne;const xe=this.id,Ee=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(Ee,xe,_e)),this.pending=!0,this.delay=_e,this.id=this.id||this.requestAsyncId(Ee,this.id,_e),this}requestAsyncId(Ne,_e,xe=0){return setInterval(Ne.flush.bind(Ne,this),xe)}recycleAsyncId(Ne,_e,xe=0){if(null!==xe&&this.delay===xe&&!1===this.pending)return _e;clearInterval(_e)}execute(Ne,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Ne,_e);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,_e){let Ee,xe=!1;try{this.work(Ne)}catch(ye){xe=!0,Ee=!!ye&&ye||new Error(ye)}if(xe)return this.unsubscribe(),Ee}_unsubscribe(){const Ne=this.id,_e=this.scheduler,xe=_e.actions,Ee=xe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ee&&xe.splice(Ee,1),null!=Ne&&(this.id=this.recycleAsyncId(_e,Ne,null)),this.delay=null}}},6102:(un,ht,U)=>{"use strict";U.d(ht,{v:()=>o});let I=(()=>{class Q{constructor(Ne,_e=Q.now){this.SchedulerAction=Ne,this.now=_e}schedule(Ne,_e=0,xe){return new this.SchedulerAction(this,Ne).schedule(xe,_e)}}return Q.now=()=>Date.now(),Q})();class o extends I{constructor(Ve,Ne=I.now){super(Ve,()=>o.delegate&&o.delegate!==this?o.delegate.now():Ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ve,Ne=0,_e){return o.delegate&&o.delegate!==this?o.delegate.schedule(Ve,Ne,_e):super.schedule(Ve,Ne,_e)}flush(Ve){const{actions:Ne}=this;if(this.active)return void Ne.push(Ve);let _e;this.active=!0;do{if(_e=Ve.execute(Ve.state,Ve.delay))break}while(Ve=Ne.shift());if(this.active=!1,_e){for(;Ve=Ne.shift();)Ve.unsubscribe();throw _e}}}},4581:(un,ht,U)=>{"use strict";U.d(ht,{e:()=>Te,E:()=>ae});let I=1;const o=Promise.resolve(),Q={};function Ve(ve){return ve in Q&&(delete Q[ve],!0)}const Ne={setImmediate(ve){const Be=I++;return Q[Be]=!0,o.then(()=>Ve(Be)&&ve()),Be},clearImmediate(ve){Ve(ve)}};var xe=U(6465),ye=U(6102);const ae=new class extends ye.v{flush(Be){this.active=!0,this.scheduled=void 0;const{actions:$e}=this;let Ge,ce=-1,wt=$e.length;Be=Be||$e.shift();do{if(Ge=Be.execute(Be.state,Be.delay))break}while(++ce<wt&&(Be=$e.shift()));if(this.active=!1,Ge){for(;++ce<wt&&(Be=$e.shift());)Be.unsubscribe();throw Ge}}}(class extends xe.o{constructor(Be,$e){super(Be,$e),this.scheduler=Be,this.work=$e}requestAsyncId(Be,$e,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId(Be,$e,Ge):(Be.actions.push(this),Be.scheduled||(Be.scheduled=Ne.setImmediate(Be.flush.bind(Be,null))))}recycleAsyncId(Be,$e,Ge=0){if(null!==Ge&&Ge>0||null===Ge&&this.delay>0)return super.recycleAsyncId(Be,$e,Ge);0===Be.actions.length&&(Ne.clearImmediate($e),Be.scheduled=void 0)}}),Te=ae},3637:(un,ht,U)=>{"use strict";U.d(ht,{z:()=>Q,P:()=>Ve});var I=U(6465);const Q=new(U(6102).v)(I.o),Ve=Q},7771:(un,ht,U)=>{"use strict";U.d(ht,{c:()=>_e,N:()=>Ne});var I=U(6465),Q=U(6102);const Ne=new class extends Q.v{}(class extends I.o{constructor(Ee,ye){super(Ee,ye),this.scheduler=Ee,this.work=ye}schedule(Ee,ye=0){return ye>0?super.schedule(Ee,ye):(this.delay=ye,this.state=Ee,this.scheduler.flush(this),this)}execute(Ee,ye){return ye>0||this.closed?super.execute(Ee,ye):this._execute(Ee,ye)}requestAsyncId(Ee,ye,se=0){return null!==se&&se>0||null===se&&this.delay>0?super.requestAsyncId(Ee,ye,se):Ee.flush(this)}}),_e=Ne},377:(un,ht,U)=>{"use strict";U.d(ht,{hZ:()=>o});const o="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(un,ht,U)=>{"use strict";U.d(ht,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(un,ht,U)=>{"use strict";U.d(ht,{b:()=>I});const I="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(un,ht,U)=>{"use strict";U.d(ht,{W:()=>o});const o=(()=>{function Q(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Q.prototype=Object.create(Error.prototype),Q})()},3410:(un,ht,U)=>{"use strict";U.d(ht,{K:()=>o});const o=(()=>{function Q(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Q.prototype=Object.create(Error.prototype),Q})()},7971:(un,ht,U)=>{"use strict";U.d(ht,{N:()=>o});const o=(()=>{function Q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Q.prototype=Object.create(Error.prototype),Q})()},4449:(un,ht,U)=>{"use strict";function I(o){setTimeout(()=>{throw o},0)}U.d(ht,{z:()=>I})},4487:(un,ht,U)=>{"use strict";function I(o){return o}U.d(ht,{y:()=>I})},9796:(un,ht,U)=>{"use strict";U.d(ht,{k:()=>I});const I=Array.isArray||(o=>o&&"number"==typeof o.length)},9489:(un,ht,U)=>{"use strict";U.d(ht,{z:()=>I});const I=o=>o&&"number"==typeof o.length&&"function"!=typeof o},9105:(un,ht,U)=>{"use strict";function I(o){return"function"==typeof o}U.d(ht,{m:()=>I})},6561:(un,ht,U)=>{"use strict";U.d(ht,{k:()=>o});var I=U(9796);function o(Q){return!(0,I.k)(Q)&&Q-parseFloat(Q)+1>=0}},1555:(un,ht,U)=>{"use strict";function I(o){return null!==o&&"object"==typeof o}U.d(ht,{K:()=>I})},5639:(un,ht,U)=>{"use strict";U.d(ht,{b:()=>o});var I=U(7574);function o(Q){return!!Q&&(Q instanceof I.y||"function"==typeof Q.lift&&"function"==typeof Q.subscribe)}},4072:(un,ht,U)=>{"use strict";function I(o){return!!o&&"function"!=typeof o.subscribe&&"function"==typeof o.then}U.d(ht,{t:()=>I})},4869:(un,ht,U)=>{"use strict";function I(o){return o&&"function"==typeof o.schedule}U.d(ht,{K:()=>I})},7444:(un,ht,U)=>{"use strict";U.d(ht,{s:()=>ae});var I=U(5015),o=U(4449),Ve=U(377),_e=U(6554),Ee=U(9489),ye=U(4072),se=U(1555);const ae=Te=>{if(Te&&"function"==typeof Te[_e.L])return(Te=>ve=>{const Be=Te[_e.L]();if("function"!=typeof Be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Be.subscribe(ve)})(Te);if((0,Ee.z)(Te))return(0,I.V)(Te);if((0,ye.t)(Te))return(Te=>ve=>(Te.then(Be=>{ve.closed||(ve.next(Be),ve.complete())},Be=>ve.error(Be)).then(null,o.z),ve))(Te);if(Te&&"function"==typeof Te[Ve.hZ])return(Te=>ve=>{const Be=Te[Ve.hZ]();for(;;){let $e;try{$e=Be.next()}catch(Ge){return ve.error(Ge),ve}if($e.done){ve.complete();break}if(ve.next($e.value),ve.closed)break}return"function"==typeof Be.return&&ve.add(()=>{Be.return&&Be.return()}),ve})(Te);{const Be=`You provided ${(0,se.K)(Te)?"an invalid object":`'${Te}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Be)}}},5015:(un,ht,U)=>{"use strict";U.d(ht,{V:()=>I});const I=o=>Q=>{for(let Ve=0,Ne=o.length;Ve<Ne&&!Q.closed;Ve++)Q.next(o[Ve]);Q.complete()}},4843:(un,ht,U)=>{"use strict";U.r(ht),U.d(ht,{AdminModule:()=>Y});var I=U(8583),o=U(3018);let Q=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275cmp=o.Xpm({type:E,selectors:[["ng-component"]],decls:4,vars:0,consts:[[1,"row"],[1,"col-md-12","col-sm-12"]],template:function(y,F){1&y&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"p"),o._uU(3,"photos works!"),o.qZA(),o.qZA(),o.qZA())},styles:[""]}),E})();var Ve=U(4402),Ne=U(7574),_e=U(9796),xe=U(8002),Ee=U(1555);function se(E,M){return new Ne.y(y=>{const F=E.length;if(0===F)return void y.complete();const Ce=new Array(F);let mt=0,Rt=0;for(let qn=0;qn<F;qn++){const en=(0,Ve.D)(E[qn]);let ti=!1;y.add(en.subscribe({next:Ar=>{ti||(ti=!0,Rt++),Ce[qn]=Ar},error:Ar=>y.error(Ar),complete:()=>{mt++,(mt===F||!ti)&&(Rt===F&&y.next(M?M.reduce((Ar,_n,Ps)=>(Ar[_n]=Ce[Ps],Ar),{}):Ce),y.complete())}}))}})}let ae=(()=>{class E{constructor(y,F){this._renderer=y,this._elementRef=F,this.onChange=Ce=>{},this.onTouched=()=>{}}setProperty(y,F){this._renderer.setProperty(this._elementRef.nativeElement,y,F)}registerOnTouched(y){this.onTouched=y}registerOnChange(y){this.onChange=y}setDisabledState(y){this.setProperty("disabled",y)}}return E.\u0275fac=function(y){return new(y||E)(o.Y36(o.Qsj),o.Y36(o.SBq))},E.\u0275dir=o.lG2({type:E}),E})(),Te=(()=>{class E extends ae{}return E.\u0275fac=function(){let M;return function(F){return(M||(M=o.n5z(E)))(F||E)}}(),E.\u0275dir=o.lG2({type:E,features:[o.qOj]}),E})();const ve=new o.OlP("NgValueAccessor"),Ge={provide:ve,useExisting:(0,o.Gpc)(()=>Wt),multi:!0},wt=new o.OlP("CompositionEventMode");let Wt=(()=>{class E extends ae{constructor(y,F,Ce){super(y,F),this._compositionMode=Ce,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const E=(0,I.q)()?(0,I.q)().getUserAgent():"";return/android (\d+)/.test(E.toLowerCase())}())}writeValue(y){this.setProperty("value",null==y?"":y)}_handleInput(y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(y)}_compositionStart(){this._composing=!0}_compositionEnd(y){this._composing=!1,this._compositionMode&&this.onChange(y)}}return E.\u0275fac=function(y){return new(y||E)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(wt,8))},E.\u0275dir=o.lG2({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(y,F){1&y&&o.NdJ("input",function(mt){return F._handleInput(mt.target.value)})("blur",function(){return F.onTouched()})("compositionstart",function(){return F._compositionStart()})("compositionend",function(mt){return F._compositionEnd(mt.target.value)})},features:[o._Bn([Ge]),o.qOj]}),E})();function Ot(E){return null==E||0===E.length}function At(E){return null!=E&&"number"==typeof E.length}const Je=new o.OlP("NgValidators"),rt=new o.OlP("NgAsyncValidators"),Qe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(M){return E=M,M=>{if(Ot(M.value)||Ot(E))return null;const y=parseFloat(M.value);return!isNaN(y)&&y<E?{min:{min:E,actual:M.value}}:null};var E}static max(M){return E=M,M=>{if(Ot(M.value)||Ot(E))return null;const y=parseFloat(M.value);return!isNaN(y)&&y>E?{max:{max:E,actual:M.value}}:null};var E}static required(M){return Ot(M.value)?{required:!0}:null}static requiredTrue(M){return!0===M.value?null:{required:!0}}static email(M){return Ot((E=M).value)||Qe.test(E.value)?null:{email:!0};var E}static minLength(M){return E=M,M=>Ot(M.value)||!At(M.value)?null:M.value.length<E?{minlength:{requiredLength:E,actualLength:M.value.length}}:null;var E}static maxLength(M){return E=M,M=>At(M.value)&&M.value.length>E?{maxlength:{requiredLength:E,actualLength:M.value.length}}:null;var E}static pattern(M){return function(E){if(!E)return vn;let M,y;return"string"==typeof E?(y="","^"!==E.charAt(0)&&(y+="^"),y+=E,"$"!==E.charAt(E.length-1)&&(y+="$"),M=new RegExp(y)):(y=E.toString(),M=E),F=>{if(Ot(F.value))return null;const Ce=F.value;return M.test(Ce)?null:{pattern:{requiredPattern:y,actualValue:Ce}}}}(M)}static nullValidator(M){return null}static compose(M){return xr(M)}static composeAsync(M){return bn(M)}}function vn(E){return null}function Dn(E){return null!=E}function Vn(E){const M=(0,o.QGY)(E)?(0,Ve.D)(E):E;return(0,o.CqO)(M),M}function fn(E){let M={};return E.forEach(y=>{M=null!=y?Object.assign(Object.assign({},M),y):M}),0===Object.keys(M).length?null:M}function Bn(E,M){return M.map(y=>y(E))}function _r(E){return E.map(M=>function(E){return!E.validate}(M)?M:y=>M.validate(y))}function xr(E){if(!E)return null;const M=E.filter(Dn);return 0==M.length?null:function(y){return fn(Bn(y,M))}}function hn(E){return null!=E?xr(_r(E)):null}function bn(E){if(!E)return null;const M=E.filter(Dn);return 0==M.length?null:function(y){return function(...E){if(1===E.length){const M=E[0];if((0,_e.k)(M))return se(M,null);if((0,Ee.K)(M)&&Object.getPrototypeOf(M)===Object.prototype){const y=Object.keys(M);return se(y.map(F=>M[F]),y)}}if("function"==typeof E[E.length-1]){const M=E.pop();return se(E=1===E.length&&(0,_e.k)(E[0])?E[0]:E,null).pipe((0,xe.U)(y=>M(...y)))}return se(E,null)}(Bn(y,M).map(Vn)).pipe((0,xe.U)(fn))}}function tr(E){return null!=E?bn(_r(E)):null}function $r(E,M){return null===E?[M]:Array.isArray(E)?[...E,M]:[E,M]}function Gn(E){return E?Array.isArray(E)?E:[E]:[]}function Wn(E,M){return Array.isArray(E)?E.includes(M):E===M}function En(E,M){const y=Gn(M);return Gn(E).forEach(Ce=>{Wn(y,Ce)||y.push(Ce)}),y}function Yn(E,M){return Gn(M).filter(y=>!Wn(E,y))}let br=(()=>{class E{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(y){this._rawValidators=y||[],this._composedValidatorFn=hn(this._rawValidators)}_setAsyncValidators(y){this._rawAsyncValidators=y||[],this._composedAsyncValidatorFn=tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(y){this._onDestroyCallbacks.push(y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(y=>y()),this._onDestroyCallbacks=[]}reset(y){this.control&&this.control.reset(y)}hasError(y,F){return!!this.control&&this.control.hasError(y,F)}getError(y,F){return this.control?this.control.getError(y,F):null}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275dir=o.lG2({type:E}),E})(),Jn=(()=>{class E extends br{get formDirective(){return null}get path(){return null}}return E.\u0275fac=function(){let M;return function(F){return(M||(M=o.n5z(E)))(F||E)}}(),E.\u0275dir=o.lG2({type:E,features:[o.qOj]}),E})();class Rr extends br{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ke=(()=>{class E extends class{constructor(M){this._cd=M}is(M){var y,F,Ce;return"submitted"===M?!!(null===(y=this._cd)||void 0===y?void 0:y.submitted):!!(null===(Ce=null===(F=this._cd)||void 0===F?void 0:F.control)||void 0===Ce?void 0:Ce[M])}}{constructor(y){super(y)}}return E.\u0275fac=function(y){return new(y||E)(o.Y36(Rr,2))},E.\u0275dir=o.lG2({type:E,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(y,F){2&y&&o.ekj("ng-untouched",F.is("untouched"))("ng-touched",F.is("touched"))("ng-pristine",F.is("pristine"))("ng-dirty",F.is("dirty"))("ng-valid",F.is("valid"))("ng-invalid",F.is("invalid"))("ng-pending",F.is("pending"))},features:[o.qOj]}),E})();function zr(E,M){(function(E,M){const y=function(E){return E._rawValidators}(E);null!==M.validator?E.setValidators($r(y,M.validator)):"function"==typeof y&&E.setValidators([y]);const F=function(E){return E._rawAsyncValidators}(E);null!==M.asyncValidator?E.setAsyncValidators($r(F,M.asyncValidator)):"function"==typeof F&&E.setAsyncValidators([F]);const Ce=()=>E.updateValueAndValidity();Ke(M._rawValidators,Ce),Ke(M._rawAsyncValidators,Ce)})(E,M),M.valueAccessor.writeValue(E.value),function(E,M){M.valueAccessor.registerOnChange(y=>{E._pendingValue=y,E._pendingChange=!0,E._pendingDirty=!0,"change"===E.updateOn&&et(E,M)})}(E,M),function(E,M){const y=(F,Ce)=>{M.valueAccessor.writeValue(F),Ce&&M.viewToModelUpdate(F)};E.registerOnChange(y),M._registerOnDestroy(()=>{E._unregisterOnChange(y)})}(E,M),function(E,M){M.valueAccessor.registerOnTouched(()=>{E._pendingTouched=!0,"blur"===E.updateOn&&E._pendingChange&&et(E,M),"submit"!==E.updateOn&&E.markAsTouched()})}(E,M),function(E,M){if(M.valueAccessor.setDisabledState){const y=F=>{M.valueAccessor.setDisabledState(F)};E.registerOnDisabledChange(y),M._registerOnDestroy(()=>{E._unregisterOnDisabledChange(y)})}}(E,M)}function Ke(E,M){E.forEach(y=>{y.registerOnValidatorChange&&y.registerOnValidatorChange(M)})}function et(E,M){E._pendingDirty&&E.markAsDirty(),E.setValue(E._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(E._pendingValue),E._pendingChange=!1}function rn(E,M){const y=E.indexOf(M);y>-1&&E.splice(y,1)}const Rn="VALID",gr="INVALID",Mr="PENDING",mn="DISABLED";function yi(E){return(nr(E)?E.validators:E)||null}function Vr(E){return Array.isArray(E)?hn(E):E||null}function Ur(E,M){return(nr(M)?M.asyncValidators:E)||null}function ls(E){return Array.isArray(E)?tr(E):E||null}function nr(E){return null!=E&&!Array.isArray(E)&&"object"==typeof E}class je{constructor(M,y){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=M,this._rawAsyncValidators=y,this._composedValidatorFn=Vr(this._rawValidators),this._composedAsyncValidatorFn=ls(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===Rn}get invalid(){return this.status===gr}get pending(){return this.status==Mr}get disabled(){return this.status===mn}get enabled(){return this.status!==mn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._rawValidators=M,this._composedValidatorFn=Vr(M)}setAsyncValidators(M){this._rawAsyncValidators=M,this._composedAsyncValidatorFn=ls(M)}addValidators(M){this.setValidators(En(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(En(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Yn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Yn(M,this._rawAsyncValidators))}hasValidator(M){return Wn(this._rawValidators,M)}hasAsyncValidator(M){return Wn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(y=>{y.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(y=>{y.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=Mr,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const y=this._parentMarkedDirty(M.onlySelf);this.status=mn,this.errors=null,this._forEachChild(F=>{F.disable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:y})),this._onDisabledChange.forEach(F=>F(!0))}enable(M={}){const y=this._parentMarkedDirty(M.onlySelf);this.status=Rn,this._forEachChild(F=>{F.enable(Object.assign(Object.assign({},M),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},M),{skipPristineCheck:y})),this._onDisabledChange.forEach(F=>F(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rn||this.status===Mr)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(y=>y._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mn:Rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=Mr,this._hasOwnPendingAsyncValidator=!0;const y=Vn(this.asyncValidator(this));this._asyncValidationSubscription=y.subscribe(F=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(F,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,y={}){this.errors=M,this._updateControlsErrors(!1!==y.emitEvent)}get(M){return function(E,M,y){if(null==M||(Array.isArray(M)||(M=M.split(".")),Array.isArray(M)&&0===M.length))return null;let F=E;return M.forEach(Ce=>{F=F instanceof zt?F.controls.hasOwnProperty(Ce)?F.controls[Ce]:null:F instanceof kn&&F.at(Ce)||null}),F}(this,M)}getError(M,y){const F=y?this.get(y):this;return F&&F.errors?F.errors[M]:null}hasError(M,y){return!!this.getError(M,y)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?mn:this.errors?gr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mr)?Mr:this._anyControlsHaveStatus(gr)?gr:Rn}_anyControlsHaveStatus(M){return this._anyControls(y=>y.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_isBoxedValue(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){nr(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class It extends je{constructor(M=null,y,F){super(yi(y),Ur(F,y)),this._onChange=[],this._applyFormState(M),this._setUpdateStrategy(y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(M,y={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==y.emitModelToViewChange&&this._onChange.forEach(F=>F(this.value,!1!==y.emitViewToModelChange)),this.updateValueAndValidity(y)}patchValue(M,y={}){this.setValue(M,y)}reset(M=null,y={}){this._applyFormState(M),this.markAsPristine(y),this.markAsUntouched(y),this.setValue(this.value,y),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){rn(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){rn(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){this._isBoxedValue(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}}class zt extends je{constructor(M,y,F){super(yi(y),Ur(F,y)),this.controls=M,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,y){return this.controls[M]?this.controls[M]:(this.controls[M]=y,y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange),y)}addControl(M,y,F={}){this.registerControl(M,y),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}removeControl(M,y={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}setControl(M,y,F={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],y&&this.registerControl(M,y),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,y={}){this._checkAllValuesPresent(M),Object.keys(M).forEach(F=>{this._throwIfControlMissing(F),this.controls[F].setValue(M[F],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(M,y={}){null!=M&&(Object.keys(M).forEach(F=>{this.controls[F]&&this.controls[F].patchValue(M[F],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(M={},y={}){this._forEachChild((F,Ce)=>{F.reset(M[Ce],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this._reduceChildren({},(M,y,F)=>(M[F]=y instanceof It?y.value:y.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(y,F)=>!!F._syncPendingControls()||y);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[M])throw new Error(`Cannot find form control with name: ${M}.`)}_forEachChild(M){Object.keys(this.controls).forEach(y=>{const F=this.controls[y];F&&M(F,y)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const y of Object.keys(this.controls)){const F=this.controls[y];if(this.contains(y)&&M(F))return!0}return!1}_reduceValue(){return this._reduceChildren({},(M,y,F)=>((y.enabled||this.disabled)&&(M[F]=y.value),M))}_reduceChildren(M,y){let F=M;return this._forEachChild((Ce,mt)=>{F=y(F,Ce,mt)}),F}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(M){this._forEachChild((y,F)=>{if(void 0===M[F])throw new Error(`Must supply a value for form control with name: '${F}'.`)})}}class kn extends je{constructor(M,y,F){super(yi(y),Ur(F,y)),this.controls=M,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[M]}push(M,y={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}insert(M,y,F={}){this.controls.splice(M,0,y),this._registerControl(y),this.updateValueAndValidity({emitEvent:F.emitEvent})}removeAt(M,y={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),this.updateValueAndValidity({emitEvent:y.emitEvent})}setControl(M,y,F={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),y&&(this.controls.splice(M,0,y),this._registerControl(y)),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,y={}){this._checkAllValuesPresent(M),M.forEach((F,Ce)=>{this._throwIfControlMissing(Ce),this.at(Ce).setValue(F,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(M,y={}){null!=M&&(M.forEach((F,Ce)=>{this.at(Ce)&&this.at(Ce).patchValue(F,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(M=[],y={}){this._forEachChild((F,Ce)=>{F.reset(M[Ce],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this.controls.map(M=>M instanceof It?M.value:M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(y=>y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_syncPendingControls(){let M=this.controls.reduce((y,F)=>!!F._syncPendingControls()||y,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(M))throw new Error(`Cannot find form control at index ${M}`)}_forEachChild(M){this.controls.forEach((y,F)=>{M(y,F)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(y=>y.enabled&&M(y))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_checkAllValuesPresent(M){this._forEachChild((y,F)=>{if(void 0===M[F])throw new Error(`Must supply a value for form control at index: ${F}.`)})}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}}const fi={provide:Rr,useExisting:(0,o.Gpc)(()=>Mt)},ft=(()=>Promise.resolve(null))();let Mt=(()=>{class E extends Rr{constructor(y,F,Ce,mt){super(),this.control=new It,this._registered=!1,this.update=new o.vpe,this._parent=y,this._setValidators(F),this._setAsyncValidators(Ce),this.valueAccessor=function(E,M){if(!M)return null;let y,F,Ce;return Array.isArray(M),M.forEach(mt=>{mt.constructor===Wt?y=mt:function(E){return Object.getPrototypeOf(E.constructor)===Te}(mt)?F=mt:Ce=mt}),Ce||F||y||null}(0,mt)}ngOnChanges(y){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in y&&this._updateDisabled(y),function(E,M){if(!E.hasOwnProperty("model"))return!1;const y=E.model;return!!y.isFirstChange()||!Object.is(M,y.currentValue)}(y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(E,M){return[...M.path,E]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(y){ft.then(()=>{this.control.setValue(y,{emitViewToModelChange:!1})})}_updateDisabled(y){const F=y.isDisabled.currentValue,Ce=""===F||F&&"false"!==F;ft.then(()=>{Ce&&!this.control.disabled?this.control.disable():!Ce&&this.control.disabled&&this.control.enable()})}}return E.\u0275fac=function(y){return new(y||E)(o.Y36(Jn,9),o.Y36(Je,10),o.Y36(rt,10),o.Y36(ve,10))},E.\u0275dir=o.lG2({type:E,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([fi]),o.qOj,o.TTD]}),E})();const wr={provide:ve,useExisting:(0,o.Gpc)(()=>pi),multi:!0};let Gr=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({}),E})(),oi=(()=>{class E{constructor(){this._accessors=[]}add(y,F){this._accessors.push([y,F])}remove(y){for(let F=this._accessors.length-1;F>=0;--F)if(this._accessors[F][1]===y)return void this._accessors.splice(F,1)}select(y){this._accessors.forEach(F=>{this._isSameGroup(F,y)&&F[1]!==y&&F[1].fireUncheck(y.value)})}_isSameGroup(y,F){return!!y[0].control&&y[0]._parent===F._control._parent&&y[1].name===F.name}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=(0,o.Yz7)({factory:function(){return new E},token:E,providedIn:Gr}),E})(),pi=(()=>{class E extends Te{constructor(y,F,Ce,mt){super(y,F),this._registry=Ce,this._injector=mt,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Rr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(y){this._state=y===this.value,this.setProperty("checked",this._state)}registerOnChange(y){this._fn=y,this.onChange=()=>{y(this.value),this._registry.select(this)}}fireUncheck(y){this.writeValue(y)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return E.\u0275fac=function(y){return new(y||E)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(oi),o.Y36(o.zs3))},E.\u0275dir=o.lG2({type:E,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(y,F){1&y&&o.NdJ("change",function(){return F.onChange()})("blur",function(){return F.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o._Bn([wr]),o.qOj]}),E})();const gi=new o.OlP("NgModelWithFormControlWarning");let $=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({imports:[[Gr]]}),E})(),pe=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({imports:[$]}),E})(),at=(()=>{class E{static withConfig(y){return{ngModule:E,providers:[{provide:gi,useValue:y.warnOnNgModelWithFormControl}]}}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({imports:[$]}),E})();var tt=U(2340),Et=U(4384);function Jt(E,M){if(1&E){const y=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"th",12),o._uU(2),o.ALo(3,"date"),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.ALo(6,"date"),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o.TgZ(12,"button",13),o.NdJ("click",function(){const mt=o.CHM(y).$implicit;return o.oxw(2).selectedGame=mt}),o._uU(13,"Score This Game"),o.qZA(),o.qZA(),o.qZA()}if(2&E){const y=M.$implicit;o.xp6(2),o.Oqu(o.xi3(3,5,null==y||null==y.date?null:y.date.toDate(),"MM/dd/yyyy")),o.xp6(3),o.Oqu(o.xi3(6,8,null==y||null==y.date?null:y.date.toDate(),"h:mm a")),o.xp6(3),o.Oqu(y.opponent),o.xp6(2),o.AsE("",y.goals_for,"-",y.goals_against,"")}}function sn(E,M){1&E&&(o.TgZ(0,"tr"),o.TgZ(1,"td",14),o._uU(2,"No Schedule Available"),o.qZA(),o.qZA())}function Pn(E,M){if(1&E){const y=o.EpF();o.TgZ(0,"div",3),o.TgZ(1,"div",4),o.TgZ(2,"input",5),o.NdJ("ngModelChange",function(Ce){return o.CHM(y),o.oxw().showVarsity=Ce}),o.qZA(),o.TgZ(3,"label",6),o._uU(4," VARSITY "),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"input",7),o.NdJ("ngModelChange",function(Ce){return o.CHM(y),o.oxw().showVarsity=Ce}),o.qZA(),o.TgZ(7,"label",8),o._uU(8," JV "),o.qZA(),o.qZA(),o.TgZ(9,"table",9),o.TgZ(10,"thead"),o.TgZ(11,"tr"),o.TgZ(12,"th"),o._uU(13,"Date"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"Time"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Opponent"),o.qZA(),o.TgZ(18,"th"),o._uU(19,"Score"),o.qZA(),o._UZ(20,"th"),o.qZA(),o.qZA(),o.TgZ(21,"tbody"),o.YNc(22,Jt,14,11,"tr",10),o.YNc(23,sn,3,0,"tr",11),o.qZA(),o.qZA(),o.qZA()}if(2&E){const y=o.oxw();o.xp6(2),o.Q6J("value",!0)("ngModel",y.showVarsity),o.xp6(4),o.Q6J("value",!1)("ngModel",y.showVarsity),o.xp6(16),o.Q6J("ngForOf",y.showVarsity?y.varsityGames:y.jvGames),o.xp6(1),o.Q6J("ngIf",y.showVarsity?!y.varsityGames.length:!y.jvGames.length)}}function Un(E,M){if(1&E){const y=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",15),o.TgZ(2,"h1"),o._uU(3),o.ALo(4,"date"),o.ALo(5,"date"),o.TgZ(6,"button",16),o.NdJ("click",function(){return o.CHM(y),o.oxw().selectedGame=void 0}),o._uU(7,"Select A Different Game"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&E){const y=o.oxw();o.xp6(3),o.lnq(" ",o.xi3(4,3,null==y.selectedGame.date?null:y.selectedGame.date.toDate(),"MM/dd/yyyy")," : ",o.xi3(5,6,null==y.selectedGame.date?null:y.selectedGame.date.toDate(),"h:mm a")," vs ",y.selectedGame.opponent," ")}}let Xr=(()=>{class E{constructor(y){this.firestore=y,this.showVarsity=!0,this.varsityGames=[],this.jvGames=[],this.playerControl=new It(null,He.required)}ngOnInit(){this.firestore.collection("games",y=>y.orderBy("date","asc")).valueChanges({idField:"id"}).subscribe({next:y=>{this.varsityGames=y.filter(F=>!0===F.varsity),this.jvGames=y.filter(F=>!1===F.varsity)}}),this.firestore.collection("players",y=>y.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:y=>{y=y.filter(F=>{const Ce=F.seasons.find(mt=>mt.year===tt.N.CURRENT_SEASON);return this.showVarsity?!0===(null==Ce?void 0:Ce.varsity):!0===(null==Ce?void 0:Ce.jv)}),this.players=y}})}}return E.\u0275fac=function(y){return new(y||E)(o.Y36(Et.ST))},E.\u0275cmp=o.Xpm({type:E,selectors:[["ng-component"]],decls:3,vars:2,consts:[[1,"row"],["class","col-md-12 col-sm-12",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-12","col-sm-12"],[1,"form-check"],["type","radio","name","team","id","varsity",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","varsity",1,"form-check-label"],["type","radio","name","team","id","jv",1,"form-check-input",3,"value","ngModel","ngModelChange"],["for","jv",1,"form-check-label"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],[3,"click"],["colspan","5",1,"text-center","text-bold"],[1,"col-md-12"],[1,"btn","btn-sm",3,"click"]],template:function(y,F){1&y&&(o.TgZ(0,"div",0),o.YNc(1,Pn,24,6,"div",1),o.YNc(2,Un,8,9,"div",2),o.qZA()),2&y&&(o.xp6(1),o.Q6J("ngIf",!F.selectedGame),o.xp6(1),o.Q6J("ngIf",F.selectedGame))},directives:[I.O5,pi,Wt,ke,Mt,I.sg],pipes:[I.uU],styles:[""]}),E})();var di=U(3820),Cr=U(430);function $n(E,M){1&E&&(o.TgZ(0,"section",2),o.TgZ(1,"div",3),o.TgZ(2,"div",4),o._uU(3," ADMINISTRATION "),o.qZA(),o.TgZ(4,"div",5),o.TgZ(5,"div",6),o.TgZ(6,"div",7),o.TgZ(7,"div",8),o.TgZ(8,"h3"),o._uU(9,"SCORE A GAME"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",6),o.TgZ(11,"div",7),o.TgZ(12,"div",8),o.TgZ(13,"h3"),o._uU(14,"ADD PHOTOS"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(15,"router-outlet"),o.qZA(),o.qZA(),o.qZA()),2&E&&(o.xp6(6),o.Q6J("routerLink","scoring"),o.xp6(5),o.Q6J("routerLink","photos"))}function Di(E,M){if(1&E){const y=o.EpF();o.TgZ(0,"section",2),o.TgZ(1,"div",3),o.TgZ(2,"div",4),o._uU(3," PLEASE LOGIN "),o.qZA(),o.TgZ(4,"div",5),o.TgZ(5,"div",9),o.TgZ(6,"div",10),o.TgZ(7,"input",11),o.NdJ("ngModelChange",function(Ce){return o.CHM(y),o.oxw().credentails.email=Ce}),o.qZA(),o.TgZ(8,"label",12),o._uU(9,"E-Mail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",9),o.TgZ(11,"div",10),o.TgZ(12,"label",13),o._uU(13,"Password"),o.qZA(),o.TgZ(14,"input",14),o.NdJ("ngModelChange",function(Ce){return o.CHM(y),o.oxw().credentails.password=Ce}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",5),o.TgZ(16,"div",15),o.TgZ(17,"button",16),o.NdJ("click",function(){return o.CHM(y),o.oxw().login()}),o._uU(18,"Login"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&E){const y=o.oxw();o.xp6(7),o.Q6J("ngModel",y.credentails.email),o.xp6(7),o.Q6J("ngModel",y.credentails.password)}}const Ea=[{path:"",component:(()=>{class E{constructor(y){this.auth=y,this.credentails={email:"",password:""}}login(){this.auth.signInWithEmailAndPassword(this.credentails.email,this.credentails.password).then(y=>{console.log(y)},y=>{console.log(y)})}logout(){this.auth.signOut()}ngOnInit(){}}return E.\u0275fac=function(y){return new(y||E)(o.Y36(di.zQ))},E.\u0275cmp=o.Xpm({type:E,selectors:[["ng-component"]],decls:4,vars:4,consts:[["class","section-padding",4,"ngIf","ngIfElse"],["showLogin",""],[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"row"],[1,"col-md-6","col-sm-6"],["routerLinkActive","selected",1,"team-wrapper",3,"routerLink"],[1,"team-title"],[1,"col-md-6"],[1,"input-field"],["type","text","name","email","id","email",1,"validate",3,"ngModel","ngModelChange"],["for","email"],["for","password",1,"sr-only"],["id","password","type","password","name","password",1,"validate",3,"ngModel","ngModelChange"],[1,"col-md-12","text-center"],[1,"btn","btn-sm",3,"click"]],template:function(y,F){if(1&y&&(o.YNc(0,$n,16,2,"section",0),o.ALo(1,"async"),o.YNc(2,Di,19,2,"ng-template",null,1,o.W1O)),2&y){const Ce=o.MAs(3);o.Q6J("ngIf",o.lcZ(1,2,F.auth.user))("ngIfElse",Ce)}},directives:[I.O5,Cr.Od,Cr.rH,Cr.lC,Wt,ke,Mt],pipes:[I.Ov],styles:[""]}),E})(),children:[{path:"scoring",component:Xr},{path:"photos",component:Q}]}];let mr=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({imports:[[Cr.Bz.forChild(Ea)],Cr.Bz]}),E})();var yo=U(625),ui=U(2458),Os=U(8553);U(9490),U(9765),U(6682),U(2759),U(9761),U(6782),U(5257),U(7238),U(6237),U(946),U(521);let Ta=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({imports:[[I.ez,ui.BQ,Os.Q8],ui.BQ]}),E})();var Zi=U(4840);U(4765),U(8345),U(6461),U(1439),U(3190),U(5435),U(7519);const Za={provide:new o.OlP("mat-select-scroll-strategy"),deps:[yo.aV],useFactory:function(E){return()=>E.scrollStrategies.reposition()}};let Z=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({providers:[Za],imports:[[I.ez,yo.U8,ui.Ng,ui.BQ],Zi.ZD,Ta,ui.Ng,ui.BQ]}),E})(),Y=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({imports:[[I.ez,mr,pe,at,Z]]}),E})()},2340:(un,ht,U)=>{"use strict";U.d(ht,{N:()=>I});const I={firebase:{projectId:"wiregrasshockey",appId:"1:363929730770:web:1b4af1a4ba5e2d0633370b",databaseURL:"https://wiregrasshockey-default-rtdb.firebaseio.com",storageBucket:"wiregrasshockey.appspot.com",locationId:"us-east1",apiKey:"AIzaSyAou3P1tl2h2PgbtKQQub9A4Z2zIVAEkIg",authDomain:"wiregrasshockey.firebaseapp.com",messagingSenderId:"363929730770",measurementId:"G-F25DPB485K"},production:!0,CURRENT_SEASON:"2022-2023"}},2658:(un,ht,U)=>{"use strict";var I=U(9075),o=U(3018),Q=U(8583),Ve=U(5917),Ne=U(7574),_e=U(4612),xe=U(5435),Ee=U(8002);class ye{}class se{}class ae{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?this.lazyInit="string"==typeof a?()=>{this.headers=new Map,a.split("\n").forEach(u=>{const p=u.indexOf(":");if(p>0){const _=u.slice(0,p),S=_.toLowerCase(),N=u.slice(p+1).trim();this.maybeSetNormalizedName(_,S),this.headers.has(S)?this.headers.get(S).push(N):this.headers.set(S,[N])}})}:()=>{this.headers=new Map,Object.keys(a).forEach(u=>{let p=a[u];const _=u.toLowerCase();"string"==typeof p&&(p=[p]),p.length>0&&(this.headers.set(_,p),this.maybeSetNormalizedName(u,_))})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const u=this.headers.get(a.toLowerCase());return u&&u.length>0?u[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,u){return this.clone({name:a,value:u,op:"a"})}set(a,u){return this.clone({name:a,value:u,op:"s"})}delete(a,u){return this.clone({name:a,value:u,op:"d"})}maybeSetNormalizedName(a,u){this.normalizedNames.has(u)||this.normalizedNames.set(u,a)}init(){this.lazyInit&&(this.lazyInit instanceof ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(u=>{this.headers.set(u,a.headers.get(u)),this.normalizedNames.set(u,a.normalizedNames.get(u))})}clone(a){const u=new ae;return u.lazyInit=this.lazyInit&&this.lazyInit instanceof ae?this.lazyInit:this,u.lazyUpdate=(this.lazyUpdate||[]).concat([a]),u}applyUpdate(a){const u=a.name.toLowerCase();switch(a.op){case"a":case"s":let p=a.value;if("string"==typeof p&&(p=[p]),0===p.length)return;this.maybeSetNormalizedName(a.name,u);const _=("a"===a.op?this.headers.get(u):void 0)||[];_.push(...p),this.headers.set(u,_);break;case"d":const S=a.value;if(S){let N=this.headers.get(u);if(!N)return;N=N.filter(W=>-1===S.indexOf(W)),0===N.length?(this.headers.delete(u),this.normalizedNames.delete(u)):this.headers.set(u,N)}else this.headers.delete(u),this.normalizedNames.delete(u)}}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(u=>a(this.normalizedNames.get(u),this.headers.get(u)))}}class Te{encodeKey(a){return Ge(a)}encodeValue(a){return Ge(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const Be=/%(\d[a-f0-9])/gi,$e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ge(d){return encodeURIComponent(d).replace(Be,(a,u)=>{var p;return null!==(p=$e[u])&&void 0!==p?p:a})}function ce(d){return`${d}`}class wt{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new Te,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(d,a){const u=new Map;return d.length>0&&d.replace(/^\?/,"").split("&").forEach(_=>{const S=_.indexOf("="),[N,W]=-1==S?[a.decodeKey(_),""]:[a.decodeKey(_.slice(0,S)),a.decodeValue(_.slice(S+1))],te=u.get(N)||[];te.push(W),u.set(N,te)}),u}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(u=>{const p=a.fromObject[u];this.map.set(u,Array.isArray(p)?p:[p])})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const u=this.map.get(a);return u?u[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,u){return this.clone({param:a,value:u,op:"a"})}appendAll(a){const u=[];return Object.keys(a).forEach(p=>{const _=a[p];Array.isArray(_)?_.forEach(S=>{u.push({param:p,value:S,op:"a"})}):u.push({param:p,value:_,op:"a"})}),this.clone(u)}set(a,u){return this.clone({param:a,value:u,op:"s"})}delete(a,u){return this.clone({param:a,value:u,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const u=this.encoder.encodeKey(a);return this.map.get(a).map(p=>u+"="+this.encoder.encodeValue(p)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const u=new wt({encoder:this.encoder});return u.cloneFrom=this.cloneFrom||this,u.updates=(this.updates||[]).concat(a),u}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const u=("a"===a.op?this.map.get(a.param):void 0)||[];u.push(ce(a.value)),this.map.set(a.param,u);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let p=this.map.get(a.param)||[];const _=p.indexOf(ce(a.value));-1!==_&&p.splice(_,1),p.length>0?this.map.set(a.param,p):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class Ot{constructor(){this.map=new Map}set(a,u){return this.map.set(a,u),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}keys(){return this.map.keys()}}function Je(d){return"undefined"!=typeof ArrayBuffer&&d instanceof ArrayBuffer}function rt(d){return"undefined"!=typeof Blob&&d instanceof Blob}function Qe(d){return"undefined"!=typeof FormData&&d instanceof FormData}class it{constructor(a,u,p,_){let S;if(this.url=u,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function(d){switch(d){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_?(this.body=void 0!==p?p:null,S=_):S=p,S&&(this.reportProgress=!!S.reportProgress,this.withCredentials=!!S.withCredentials,S.responseType&&(this.responseType=S.responseType),S.headers&&(this.headers=S.headers),S.context&&(this.context=S.context),S.params&&(this.params=S.params)),this.headers||(this.headers=new ae),this.context||(this.context=new Ot),this.params){const N=this.params.toString();if(0===N.length)this.urlWithParams=u;else{const W=u.indexOf("?");this.urlWithParams=u+(-1===W?"?":W<u.length-1?"&":"")+N}}else this.params=new wt,this.urlWithParams=u}serializeBody(){return null===this.body?null:Je(this.body)||rt(this.body)||Qe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof wt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:rt(this.body)?this.body.type||null:Je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){var u;const p=a.method||this.method,_=a.url||this.url,S=a.responseType||this.responseType,N=void 0!==a.body?a.body:this.body,W=void 0!==a.withCredentials?a.withCredentials:this.withCredentials,te=void 0!==a.reportProgress?a.reportProgress:this.reportProgress;let ue=a.headers||this.headers,Pe=a.params||this.params;const Ye=null!==(u=a.context)&&void 0!==u?u:this.context;return void 0!==a.setHeaders&&(ue=Object.keys(a.setHeaders).reduce((Ze,dt)=>Ze.set(dt,a.setHeaders[dt]),ue)),a.setParams&&(Pe=Object.keys(a.setParams).reduce((Ze,dt)=>Ze.set(dt,a.setParams[dt]),Pe)),new it(p,_,N,{params:Pe,headers:ue,context:Ye,reportProgress:te,responseType:S,withCredentials:W})}}var Tt=(()=>((Tt=Tt||{})[Tt.Sent=0]="Sent",Tt[Tt.UploadProgress=1]="UploadProgress",Tt[Tt.ResponseHeader=2]="ResponseHeader",Tt[Tt.DownloadProgress=3]="DownloadProgress",Tt[Tt.Response=4]="Response",Tt[Tt.User=5]="User",Tt))();class st{constructor(a,u=200,p="OK"){this.headers=a.headers||new ae,this.status=void 0!==a.status?a.status:u,this.statusText=a.statusText||p,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class Xe extends st{constructor(a={}){super(a),this.type=Tt.ResponseHeader}clone(a={}){return new Xe({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class ut extends st{constructor(a={}){super(a),this.type=Tt.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new ut({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class St extends st{constructor(a){super(a,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function Dt(d,a){return{body:a,headers:d.headers,context:d.context,observe:d.observe,params:d.params,reportProgress:d.reportProgress,responseType:d.responseType,withCredentials:d.withCredentials}}let Lt=(()=>{class d{constructor(u){this.handler=u}request(u,p,_={}){let S;if(u instanceof it)S=u;else{let te,ue;te=_.headers instanceof ae?_.headers:new ae(_.headers),_.params&&(ue=_.params instanceof wt?_.params:new wt({fromObject:_.params})),S=new it(u,p,void 0!==_.body?_.body:null,{headers:te,context:_.context,params:ue,reportProgress:_.reportProgress,responseType:_.responseType||"json",withCredentials:_.withCredentials})}const N=(0,Ve.of)(S).pipe((0,_e.b)(te=>this.handler.handle(te)));if(u instanceof it||"events"===_.observe)return N;const W=N.pipe((0,xe.h)(te=>te instanceof ut));switch(_.observe||"body"){case"body":switch(S.responseType){case"arraybuffer":return W.pipe((0,Ee.U)(te=>{if(null!==te.body&&!(te.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return te.body}));case"blob":return W.pipe((0,Ee.U)(te=>{if(null!==te.body&&!(te.body instanceof Blob))throw new Error("Response is not a Blob.");return te.body}));case"text":return W.pipe((0,Ee.U)(te=>{if(null!==te.body&&"string"!=typeof te.body)throw new Error("Response is not a string.");return te.body}));default:return W.pipe((0,Ee.U)(te=>te.body))}case"response":return W;default:throw new Error(`Unreachable: unhandled observe type ${_.observe}}`)}}delete(u,p={}){return this.request("DELETE",u,p)}get(u,p={}){return this.request("GET",u,p)}head(u,p={}){return this.request("HEAD",u,p)}jsonp(u,p){return this.request("JSONP",u,{params:(new wt).append(p,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(u,p={}){return this.request("OPTIONS",u,p)}patch(u,p,_={}){return this.request("PATCH",u,Dt(_,p))}post(u,p,_={}){return this.request("POST",u,Dt(_,p))}put(u,p,_={}){return this.request("PUT",u,Dt(_,p))}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(ye))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})();class vn{constructor(a,u){this.next=a,this.interceptor=u}handle(a){return this.interceptor.intercept(a,this.next)}}const Dn=new o.OlP("HTTP_INTERCEPTORS");let Vn=(()=>{class d{intercept(u,p){return p.handle(u)}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})();const tr=/^\)\]\}',?\n/;let vr=(()=>{class d{constructor(u){this.xhrFactory=u}handle(u){if("JSONP"===u.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ne.y(p=>{const _=this.xhrFactory.build();if(_.open(u.method,u.urlWithParams),u.withCredentials&&(_.withCredentials=!0),u.headers.forEach((dt,Gt)=>_.setRequestHeader(dt,Gt.join(","))),u.headers.has("Accept")||_.setRequestHeader("Accept","application/json, text/plain, */*"),!u.headers.has("Content-Type")){const dt=u.detectContentTypeHeader();null!==dt&&_.setRequestHeader("Content-Type",dt)}if(u.responseType){const dt=u.responseType.toLowerCase();_.responseType="json"!==dt?dt:"text"}const S=u.serializeBody();let N=null;const W=()=>{if(null!==N)return N;const dt=1223===_.status?204:_.status,Gt=_.statusText||"OK",Xt=new ae(_.getAllResponseHeaders()),gn=function(d){return"responseURL"in d&&d.responseURL?d.responseURL:/^X-Request-URL:/m.test(d.getAllResponseHeaders())?d.getResponseHeader("X-Request-URL"):null}(_)||u.url;return N=new Xe({headers:Xt,status:dt,statusText:Gt,url:gn}),N},te=()=>{let{headers:dt,status:Gt,statusText:Xt,url:gn}=W(),Mn=null;204!==Gt&&(Mn=void 0===_.response?_.responseText:_.response),0===Gt&&(Gt=Mn?200:0);let or=Gt>=200&&Gt<300;if("json"===u.responseType&&"string"==typeof Mn){const In=Mn;Mn=Mn.replace(tr,"");try{Mn=""!==Mn?JSON.parse(Mn):null}catch(er){Mn=In,or&&(or=!1,Mn={error:er,text:Mn})}}or?(p.next(new ut({body:Mn,headers:dt,status:Gt,statusText:Xt,url:gn||void 0})),p.complete()):p.error(new St({error:Mn,headers:dt,status:Gt,statusText:Xt,url:gn||void 0}))},ue=dt=>{const{url:Gt}=W(),Xt=new St({error:dt,status:_.status||0,statusText:_.statusText||"Unknown Error",url:Gt||void 0});p.error(Xt)};let Pe=!1;const Ye=dt=>{Pe||(p.next(W()),Pe=!0);let Gt={type:Tt.DownloadProgress,loaded:dt.loaded};dt.lengthComputable&&(Gt.total=dt.total),"text"===u.responseType&&!!_.responseText&&(Gt.partialText=_.responseText),p.next(Gt)},Ze=dt=>{let Gt={type:Tt.UploadProgress,loaded:dt.loaded};dt.lengthComputable&&(Gt.total=dt.total),p.next(Gt)};return _.addEventListener("load",te),_.addEventListener("error",ue),_.addEventListener("timeout",ue),_.addEventListener("abort",ue),u.reportProgress&&(_.addEventListener("progress",Ye),null!==S&&_.upload&&_.upload.addEventListener("progress",Ze)),_.send(S),p.next({type:Tt.Sent}),()=>{_.removeEventListener("error",ue),_.removeEventListener("abort",ue),_.removeEventListener("load",te),_.removeEventListener("timeout",ue),u.reportProgress&&(_.removeEventListener("progress",Ye),null!==S&&_.upload&&_.upload.removeEventListener("progress",Ze)),_.readyState!==_.DONE&&_.abort()}})}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(Q.JF))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})();const Fn=new o.OlP("XSRF_COOKIE_NAME"),Gn=new o.OlP("XSRF_HEADER_NAME");class Wn{}let En=(()=>{class d{constructor(u,p,_){this.doc=u,this.platform=p,this.cookieName=_,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const u=this.doc.cookie||"";return u!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Q.Mx)(u,this.cookieName),this.lastCookieString=u),this.lastToken}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(Q.K0),o.LFG(o.Lbi),o.LFG(Fn))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})(),Yn=(()=>{class d{constructor(u,p){this.tokenService=u,this.headerName=p}intercept(u,p){const _=u.url.toLowerCase();if("GET"===u.method||"HEAD"===u.method||_.startsWith("http://")||_.startsWith("https://"))return p.handle(u);const S=this.tokenService.getToken();return null!==S&&!u.headers.has(this.headerName)&&(u=u.clone({headers:u.headers.set(this.headerName,S)})),p.handle(u)}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(Wn),o.LFG(Gn))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})(),br=(()=>{class d{constructor(u,p){this.backend=u,this.injector=p,this.chain=null}handle(u){if(null===this.chain){const p=this.injector.get(Dn,[]);this.chain=p.reduceRight((_,S)=>new vn(_,S),this.backend)}return this.chain.handle(u)}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(se),o.LFG(o.zs3))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})(),qt=(()=>{class d{static disable(){return{ngModule:d,providers:[{provide:Yn,useClass:Vn}]}}static withOptions(u={}){return{ngModule:d,providers:[u.cookieName?{provide:Fn,useValue:u.cookieName}:[],u.headerName?{provide:Gn,useValue:u.headerName}:[]]}}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({providers:[Yn,{provide:Dn,useExisting:Yn,multi:!0},{provide:Wn,useClass:En},{provide:Fn,useValue:"XSRF-TOKEN"},{provide:Gn,useValue:"X-XSRF-TOKEN"}]}),d})(),Qt=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({providers:[Lt,{provide:ye,useClass:br},vr,{provide:se,useExisting:vr}],imports:[[qt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),d})();var q=U(5361),he=U(3190),Le=U(7393),pt=U(5319),yt=U(9765);class Bt{constructor(a,u,p,_){this.keySelector=a,this.elementSelector=u,this.durationSelector=p,this.subjectSelector=_}call(a,u){return u.subscribe(new Tn(a,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Tn extends Le.L{constructor(a,u,p,_,S){super(a),this.keySelector=u,this.elementSelector=p,this.durationSelector=_,this.subjectSelector=S,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(a){let u;try{u=this.keySelector(a)}catch(p){return void this.error(p)}this._group(a,u)}_group(a,u){let p=this.groups;p||(p=this.groups=new Map);let S,_=p.get(u);if(this.elementSelector)try{S=this.elementSelector(a)}catch(N){this.error(N)}else S=a;if(!_){_=this.subjectSelector?this.subjectSelector():new yt.xQ,p.set(u,_);const N=new dr(u,_,this);if(this.destination.next(N),this.durationSelector){let W;try{W=this.durationSelector(new dr(u,_))}catch(te){return void this.error(te)}this.add(W.subscribe(new ar(u,_,this)))}}_.closed||_.next(S)}_error(a){const u=this.groups;u&&(u.forEach((p,_)=>{p.error(a)}),u.clear()),this.destination.error(a)}_complete(){const a=this.groups;a&&(a.forEach((u,p)=>{u.complete()}),a.clear()),this.destination.complete()}removeGroup(a){this.groups.delete(a)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class ar extends Le.L{constructor(a,u,p){super(u),this.key=a,this.group=u,this.parent=p}_next(a){this.complete()}_unsubscribe(){const{parent:a,key:u}=this;this.key=this.parent=null,a&&a.removeGroup(u)}}class dr extends Ne.y{constructor(a,u,p){super(),this.key=a,this.groupSubject=u,this.refCountSubscription=p}_subscribe(a){const u=new pt.w,{refCountSubscription:p,groupSubject:_}=this;return p&&!p.closed&&u.add(new Hn(p)),u.add(_.subscribe(a)),u}}class Hn extends pt.w{constructor(a){super(),this.parent=a,a.count++}unsubscribe(){const a=this.parent;!a.closed&&!this.closed&&(super.unsubscribe(),a.count-=1,0===a.count&&a.attemptedToUnsubscribe&&a.unsubscribe())}}var xn=U(9773),Er=U(7519),Zn=U(9761),zr=U(9328),Ke=(U(127),U(2329));var nr=U(430),je=U(6917),It=U(708),zt=U(3854),kn=U(8026),fr=(U(5422),U(3910));function ct(d){return new Ne.y(function(a){return{unsubscribe:(0,It.v)(d,a.next.bind(a),a.error.bind(a),a.complete.bind(a))}})}class Pt{constructor(a){return a}}const yn=(0,q.u3)(ct,!0);class pe{constructor(a){return a}}const ge=q.nk.async,Jt=(0,q.u3)(je.Kz,!0),Xr=(0,q.u3)(je.Iv,!0);let Cr=(()=>{class d{constructor(u,p,_){let S;this.disposables=[],(0,Ke.KN)("angularfire",q.q4.full,"user-tracking"),this.initialized=p.runOutsideAngular(()=>new Promise(N=>{S=N})),ge().then(()=>{const N=_.get(pe);N?this.disposables=[yn(u).subscribe(W=>{Xr(N,null==W?void 0:W.uid),S()})]:S()})}ngOnDestroy(){this.disposables.forEach(u=>u.unsubscribe())}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(Pt),o.LFG(o.R0b),o.LFG(o.zs3))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})();const so="firebase_screen_id",mr="outlet",Os="screen_class",ys="screen_name";let ln=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Lr={},re=d=>{const a=[d[Os],d[mr]].join("#");if(Lr.hasOwnProperty(a))return Lr[a];{const u=ln++;return Lr[a]=u,u}};let A=(()=>{class d{constructor(u,p,_,S,N,W){(0,Ke.KN)("angularfire",q.q4.full,"screen-tracking"),ge().then(()=>{const te=W.get(pe);!u||!te||S.runOutsideAngular(()=>{this.disposable=((d,a,u)=>d.events.pipe((0,xe.h)(_=>_ instanceof nr.jw)).pipe((0,he.w)(_=>{var S;const W=(null===(S=d.parseUrl(d.url.replace(/(?:\().+(?:\))/g,dt=>dt.replace("://",":///"))).root.children[_.snapshot.outlet])||void 0===S?void 0:S.toString())||"",te=d.routerState.root.children.map(dt=>dt).find(dt=>dt.outlet===_.snapshot.outlet);if(!te)return(0,Ve.of)(null);let ue=te;for(;ue.firstChild;)ue=ue.firstChild;const Pe=ue.pathFromRoot.map(dt=>{var Gt;return null===(Gt=dt.routeConfig)||void 0===Gt?void 0:Gt.path}).filter(dt=>dt).join("/")||"/",Ye={[ys]:Pe,page_path:`/${W}`,firebase_event_origin:"auto",firebase_screen:Pe,[mr]:_.snapshot.outlet};a&&(Ye.page_title=a.getTitle());let Ze=te.component;if(Ze){if(Ze===nr.fw){let dt=_.snapshot;for(;dt.firstChild;)dt=dt.firstChild;Ze=dt.component}}else Ze=_.snapshot.component;if("string"==typeof Ze)return(0,Ve.of)(Object.assign(Object.assign({},Ye),{[Os]:Ze}));if(Ze){const dt=u.resolveComponentFactory(Ze);return(0,Ve.of)(Object.assign(Object.assign({},Ye),{[Os]:dt.selector}))}return(0,Ve.of)(null)}),(0,xe.h)(_=>!!_),(0,Ee.U)(_=>Object.assign({firebase_screen_class:_[Os],[so]:re(_)},_)),function(d,a,u,p){return _=>_.lift(new Bt(d,void 0,void 0,void 0))}(_=>_[mr]),(0,xn.zg)(_=>_.pipe((0,Er.x)((S,N)=>JSON.stringify(S)===JSON.stringify(N)),(0,Zn.O)(void 0),(0,zr.G)(),(0,Ee.U)(([S,N])=>S?Object.assign({firebase_previous_class:S[Os],firebase_previous_screen:S[ys],firebase_previous_id:S[so]},N):N)))))(u,p,_).pipe((0,he.w)(ue=>function(d,a,u,p){return new(u||(u=Promise))(function(S,N){function W(Pe){try{ue(p.next(Pe))}catch(Ye){N(Ye)}}function te(Pe){try{ue(p.throw(Pe))}catch(Ye){N(Ye)}}function ue(Pe){Pe.done?S(Pe.value):function(S){return S instanceof u?S:new u(function(N){N(S)})}(Pe.value).then(W,te)}ue((p=p.apply(d,a||[])).next())})}(this,void 0,void 0,function*(){return N&&(yield N.initialized),Jt(te,"screen_view",ue)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(nr.F0,8),o.LFG(I.Dx,8),o.LFG(o._Vd),o.LFG(o.R0b),o.LFG(Cr,8),o.LFG(o.zs3))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})();var Cn=U(8939),Ln=U(3820),ir=U(4402),ei=U(4395),cr=U(3394),pr=U(8239);const Kr="firebasestorage.googleapis.com",bi="storageBucket";class Or extends zt.ZR{constructor(a,u){super(oo(a),`Firebase Storage: ${u} (${oo(a)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}_codeEquals(a){return oo(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function oo(d){return"storage/"+d}function vs(){return new Or("unknown","An unknown error occurred, please check the error payload for server response.")}function Go(){return new Or("canceled","User canceled the upload/download.")}function hr(){return new Or("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Nr(d){return new Or("invalid-argument",d)}function Es(){return new Or("app-deleted","The Firebase app was deleted.")}function Ki(d){return new Or("invalid-root-operation","The operation '"+d+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ri(d,a){return new Or("invalid-format","String does not match format '"+d+"': "+a)}function mi(d){throw new Or("internal-error","Internal error: "+d)}class hs{constructor(a,u){this.bucket=a,this.path_=u}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,u){let p;try{p=hs.makeFromUrl(a,u)}catch(_){return new hs(a,"")}if(""===p.path)return p;throw new Or("invalid-default-bucket","Invalid default bucket '"+a+"'.")}static makeFromUrl(a,u){let p=null;const _="([A-Za-z0-9.\\-_]+)",W=new RegExp("^gs://"+_+"(/(.*))?$","i");function ue(er){er.path_=decodeURIComponent(er.path)}const Ye=u.replace(/[.]/g,"\\."),In=[{regex:W,indices:{bucket:1,path:3},postModify:function(er){"/"===er.path.charAt(er.path.length-1)&&(er.path_=er.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ye}/v[A-Za-z0-9_]+/b/${_}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ue},{regex:new RegExp(`^https?://${u===Kr?"(?:storage.googleapis.com|storage.cloud.google.com)":u}/${_}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ue}];for(let er=0;er<In.length;er++){const jr=In[er],Fr=jr.regex.exec(a);if(Fr){let ri=Fr[jr.indices.path];ri||(ri=""),p=new hs(Fr[jr.indices.bucket],ri),jr.postModify(p);break}}if(null==p)throw new Or("invalid-url","Invalid URL '"+a+"'.");return p}}class xs{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function Rs(d){return"string"==typeof d||d instanceof String}function _o(d){return Gi()&&d instanceof Blob}function Gi(){return"undefined"!=typeof Blob}function $o(d,a,u,p){if(p<a)throw Nr(`Invalid value for '${d}'. Expected ${a} or greater.`);if(p>u)throw Nr(`Invalid value for '${d}'. Expected ${u} or less.`)}function uo(d,a,u){let p=a;return null==u&&(p=`https://${a}`),`${u}://${p}/v0${d}`}function ca(d){const a=encodeURIComponent;let u="?";for(const p in d)d.hasOwnProperty(p)&&(u=u+(a(p)+"=")+a(d[p])+"&");return u=u.slice(0,-1),u}var zo=(()=>{return(d=zo||(zo={}))[d.NO_ERROR=0]="NO_ERROR",d[d.NETWORK_ERROR=1]="NETWORK_ERROR",d[d.ABORT=2]="ABORT",zo;var d})();class Il{constructor(a,u,p,_,S,N,W,te,ue,Pe,Ye){this.url_=a,this.method_=u,this.headers_=p,this.body_=_,this.successCodes_=S,this.additionalRetryCodes_=N,this.callback_=W,this.errorCallback_=te,this.timeout_=ue,this.progressCallback_=Pe,this.connectionFactory_=Ye,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ze,dt)=>{this.resolve_=Ze,this.reject_=dt,this.start_()})}start_(){const u=(p,_)=>{const S=this.resolve_,N=this.reject_,W=_.connection;if(_.wasSuccessCode)try{const te=this.callback_(W,W.getResponse());void 0!==te?S(te):S()}catch(te){N(te)}else if(null!==W){const te=vs();te.serverResponse=W.getErrorText(),N(this.errorCallback_?this.errorCallback_(W,te):te)}else N(_.canceled?this.appDelete_?Es():Go():new Or("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?u(0,new ql(!1,null,!0)):this.backoffId_=function(d,a,u){let p=1,_=null,S=null,N=!1,W=0;function te(){return 2===W}let ue=!1;function Pe(...gn){ue||(ue=!0,a.apply(null,gn))}function Ye(gn){_=setTimeout(()=>{_=null,d(dt,te())},gn)}function Ze(){S&&clearTimeout(S)}function dt(gn,...Mn){if(ue)return void Ze();if(gn)return Ze(),void Pe.call(null,gn,...Mn);if(te()||N)return Ze(),void Pe.call(null,gn,...Mn);let In;p<64&&(p*=2),1===W?(W=2,In=0):In=1e3*(p+Math.random()),Ye(In)}let Gt=!1;function Xt(gn){Gt||(Gt=!0,Ze(),!ue&&(null!==_?(gn||(W=2),clearTimeout(_),Ye(0)):gn||(W=1)))}return Ye(0),S=setTimeout(()=>{N=!0,Xt(!0)},u),Xt}((p,_)=>{if(_)return void p(!1,new ql(!1,null,!0));const S=this.connectionFactory_();this.pendingConnection_=S;const N=W=>{null!==this.progressCallback_&&this.progressCallback_(W.loaded,W.lengthComputable?W.total:-1)};null!==this.progressCallback_&&S.addUploadProgressListener(N),S.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&S.removeUploadProgressListener(N),this.pendingConnection_=null;const W=S.getErrorCode()===zo.NO_ERROR,te=S.getStatus();if(!W||this.isRetryStatusCode_(te)){const Pe=S.getErrorCode()===zo.ABORT;return void p(!1,new ql(!1,null,Pe))}const ue=-1!==this.successCodes_.indexOf(te);p(!0,new ql(ue,S))})},u,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(a){const u=a>=500&&a<600,_=-1!==[408,429].indexOf(a),S=-1!==this.additionalRetryCodes_.indexOf(a);return u||_||S}}class ql{constructor(a,u,p){this.wasSuccessCode=a,this.connection=u,this.canceled=!!p}}function vo(...d){const a="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==a){const u=new a;for(let p=0;p<d.length;p++)u.append(d[p]);return u.getBlob()}if(Gi())return new Blob(d);throw new Or("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ro={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pn{constructor(a,u){this.data=a,this.contentType=u||null}}function Ii(d,a){switch(d){case Ro.RAW:return new pn(ks(a));case Ro.BASE64:case Ro.BASE64URL:return new pn(zn(d,a));case Ro.DATA_URL:return new pn(function(d){const a=new Sr(d);return a.base64?zn(Ro.BASE64,a.rest):function(d){let a;try{a=decodeURIComponent(d)}catch(u){throw Ri(Ro.DATA_URL,"Malformed data URL.")}return ks(a)}(a.rest)}(a),function(d){return new Sr(d).contentType}(a))}throw vs()}function ks(d){const a=[];for(let u=0;u<d.length;u++){let p=d.charCodeAt(u);p<=127?a.push(p):p<=2047?a.push(192|p>>6,128|63&p):55296==(64512&p)?u<d.length-1&&56320==(64512&d.charCodeAt(u+1))?(p=65536|(1023&p)<<10|1023&d.charCodeAt(++u),a.push(240|p>>18,128|p>>12&63,128|p>>6&63,128|63&p)):a.push(239,191,189):56320==(64512&p)?a.push(239,191,189):a.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(a)}function zn(d,a){switch(d){case Ro.BASE64:{const _=-1!==a.indexOf("-"),S=-1!==a.indexOf("_");if(_||S)throw Ri(d,"Invalid character '"+(_?"-":"_")+"' found: is it base64url encoded?");break}case Ro.BASE64URL:{const _=-1!==a.indexOf("+"),S=-1!==a.indexOf("/");if(_||S)throw Ri(d,"Invalid character '"+(_?"+":"/")+"' found: is it base64 encoded?");a=a.replace(/-/g,"+").replace(/_/g,"/");break}}let u;try{u=function(d){return atob(d)}(a)}catch(_){throw Ri(d,"Invalid character found")}const p=new Uint8Array(u.length);for(let _=0;_<u.length;_++)p[_]=u.charCodeAt(_);return p}class Sr{constructor(a){this.base64=!1,this.contentType=null;const u=a.match(/^data:([^,]+)?,/);if(null===u)throw Ri(Ro.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const p=u[1]||null;null!=p&&(this.base64=function(d,a){return d.length>=a.length&&d.substring(d.length-a.length)===a}(p,";base64"),this.contentType=this.base64?p.substring(0,p.length-";base64".length):p),this.rest=a.substring(a.indexOf(",")+1)}}class nn{constructor(a,u){let p=0,_="";_o(a)?(this.data_=a,p=a.size,_=a.type):a instanceof ArrayBuffer?(u?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),p=this.data_.length):a instanceof Uint8Array&&(u?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),p=a.length),this.size_=p,this.type_=_}size(){return this.size_}type(){return this.type_}slice(a,u){if(_o(this.data_)){const _=function(d,a,u){return d.webkitSlice?d.webkitSlice(a,u):d.mozSlice?d.mozSlice(a,u):d.slice?d.slice(a,u):null}(this.data_,a,u);return null===_?null:new nn(_)}{const p=new Uint8Array(this.data_.buffer,a,u-a);return new nn(p,!0)}}static getBlob(...a){if(Gi()){const u=a.map(p=>p instanceof nn?p.data_:p);return new nn(vo.apply(null,u))}{const u=a.map(N=>Rs(N)?Ii(Ro.RAW,N).data:N.data_);let p=0;u.forEach(N=>{p+=N.byteLength});const _=new Uint8Array(p);let S=0;return u.forEach(N=>{for(let W=0;W<N.length;W++)_[S++]=N[W]}),new nn(_,!0)}}uploadData(){return this.data_}}function Qi(d){let a;try{a=JSON.parse(d)}catch(u){return null}return function(d){return"object"==typeof d&&!Array.isArray(d)}(a)?a:null}function Yc(d){const a=d.lastIndexOf("/",d.length-2);return-1===a?d:d.slice(a+1)}function Qc(d,a){return a}class V{constructor(a,u,p,_){this.server=a,this.local=u||a,this.writable=!!p,this.xform=_||Qc}}let x=null;function Z(){if(x)return x;const d=[];d.push(new V("bucket")),d.push(new V("generation")),d.push(new V("metageneration")),d.push(new V("name","fullPath",!0));const u=new V("name");u.xform=function(S,N){return function(d){return!Rs(d)||d.length<2?d:Yc(d)}(N)},d.push(u);const _=new V("size");return _.xform=function(S,N){return void 0!==N?Number(N):N},d.push(_),d.push(new V("timeCreated")),d.push(new V("updated")),d.push(new V("md5Hash",null,!0)),d.push(new V("cacheControl",null,!0)),d.push(new V("contentDisposition",null,!0)),d.push(new V("contentEncoding",null,!0)),d.push(new V("contentLanguage",null,!0)),d.push(new V("contentType",null,!0)),d.push(new V("metadata","customMetadata",!0)),x=d,x}function M(d,a,u){const p=Qi(a);return null===p?null:function(d,a,u){const p={type:"file"},_=u.length;for(let S=0;S<_;S++){const N=u[S];p[N.local]=N.xform(p,a[N.server])}return function(d,a){Object.defineProperty(d,"ref",{get:function(){const S=new hs(d.bucket,d.fullPath);return a._makeStorageReference(S)}})}(p,d),p}(d,p,u)}function F(d,a){const u={},p=a.length;for(let _=0;_<p;_++){const S=a[_];S.writable&&(u[S.server]=d[S.local])}return JSON.stringify(u)}const Ce="prefixes";class en{constructor(a,u,p,_){this.url=a,this.method=u,this.handler=p,this.timeout=_,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ti(d){if(!d)throw vs()}function Ar(d,a){return function(p,_){const S=M(d,_,a);return ti(null!==S),S}}function ss(d){return function(u,p){let _;return _=401===u.getStatus()?u.getErrorText().includes("Firebase App Check token is invalid")?new Or("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Or("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===u.getStatus()?function(d){return new Or("quota-exceeded","Quota for bucket '"+d+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(d.bucket):403===u.getStatus()?function(d){return new Or("unauthorized","User does not have permission to access '"+d+"'.")}(d.path):p,_.serverResponse=p.serverResponse,_}}function Li(d){const a=ss(d);return function(p,_){let S=a(p,_);return 404===p.getStatus()&&(S=function(d){return new Or("object-not-found","Object '"+d+"' does not exist.")}(d.path)),S.serverResponse=_.serverResponse,S}}function Ga(d,a,u){const _=uo(a.fullServerUrl(),d.host,d._protocol),N=d.maxOperationRetryTime,W=new en(_,"GET",Ar(d,u),N);return W.errorHandler=Li(a),W}function zl(d,a,u,p,_){const S={};S.prefix=a.isRoot?"":a.path+"/",u&&u.length>0&&(S.delimiter=u),p&&(S.pageToken=p),_&&(S.maxResults=_);const W=uo(a.bucketOnlyServerUrl(),d.host,d._protocol),ue=d.maxOperationRetryTime,Pe=new en(W,"GET",function(d,a){return function(p,_){const S=function(d,a,u){const p=Qi(u);return null===p?null:function(d,a,u){const p={prefixes:[],items:[],nextPageToken:u.nextPageToken};if(u[Ce])for(const _ of u[Ce]){const S=_.replace(/\/$/,""),N=d._makeStorageReference(new hs(a,S));p.prefixes.push(N)}if(u.items)for(const _ of u.items){const S=d._makeStorageReference(new hs(a,_.name));p.items.push(S)}return p}(d,a,p)}(d,a,_);return ti(null!==S),S}}(d,a.bucket),ue);return Pe.urlParams=S,Pe.errorHandler=ss(a),Pe}function mc(d,a,u){const p=Object.assign({},u);return p.fullPath=d.path,p.size=a.size(),p.contentType||(p.contentType=function(d,a){return a&&a.type()||"application/octet-stream"}(0,a)),p}class Xc{constructor(a,u,p,_){this.current=a,this.total=u,this.finalized=!!p,this.metadata=_||null}}function Al(d,a){let u=null;try{u=d.getResponseHeader("X-Goog-Upload-Status")}catch(_){ti(!1)}return ti(!!u&&-1!==(a||["active"]).indexOf(u)),u}const mf={STATE_CHANGED:"state_changed"},ho={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hs(d){switch(d){case"running":case"pausing":case"canceling":return ho.RUNNING;case"paused":return ho.PAUSED;case"success":return ho.SUCCESS;case"canceled":return ho.CANCELED;default:return ho.ERROR}}class yf{constructor(a,u,p){if("function"==typeof a||null!=u||null!=p)this.next=a,this.error=null!=u?u:void 0,this.complete=null!=p?p:void 0;else{const S=a;this.next=S.next,this.error=S.error,this.complete=S.complete}}}function Ai(d){return(...a)=>{Promise.resolve().then(()=>d(...a))}}class _f extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zo.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zo.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zo.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(a,u,p,_){if(this.sent_)throw mi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(u,a,!0),void 0!==_)for(const S in _)_.hasOwnProperty(S)&&this.xhr_.setRequestHeader(S,_[S].toString());return void 0!==p?this.xhr_.send(p):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mi("cannot .getStatus() before sending");try{return this.xhr_.status}catch(a){return-1}}getResponse(){if(!this.sent_)throw mi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(a){return this.xhr_.getResponseHeader(a)}addUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)}removeUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)}}{initXhr(){this.xhr_.responseType="text"}}function Ia(){return new _f}class _i{constructor(a,u,p=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=u,this._metadata=p,this._mappings=Z(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=_=>{this._request=void 0,this._chunkMultiplier=1,_._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=_,this._transition("error"))},this._metadataErrorHandler=_=>{this._request=void 0,_._codeEquals("canceled")?this.completeTransitions_():(this._error=_,this._transition("error"))},this._promise=new Promise((_,S)=>{this._resolve=_,this._reject=S,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const a=this._transferred;return u=>this._updateProgress(a+u)}_shouldDoResumable(a){return a.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(a){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([u,p])=>{switch(this._state){case"running":a(u,p);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((a,u)=>{const p=function(d,a,u,p,_){const S=a.bucketOnlyServerUrl(),N=mc(a,p,_),W={name:N.fullPath},te=uo(S,d.host,d._protocol),Pe={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${p.size()}`,"X-Goog-Upload-Header-Content-Type":N.contentType,"Content-Type":"application/json; charset=utf-8"},Ye=F(N,u),Gt=new en(te,"POST",function(Xt){let gn;Al(Xt);try{gn=Xt.getResponseHeader("X-Goog-Upload-URL")}catch(Mn){ti(!1)}return ti(Rs(gn)),gn},d.maxUploadRetryTime);return Gt.urlParams=W,Gt.headers=Pe,Gt.body=Ye,Gt.errorHandler=ss(a),Gt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_=this._ref.storage._makeRequest(p,Ia,a,u);this._request=_,_.getPromise().then(S=>{this._request=void 0,this._uploadUrl=S,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const a=this._uploadUrl;this._resolveToken((u,p)=>{const _=function(d,a,u,p){const te=new en(u,"POST",function(ue){const Pe=Al(ue,["active","final"]);let Ye=null;try{Ye=ue.getResponseHeader("X-Goog-Upload-Size-Received")}catch(dt){ti(!1)}Ye||ti(!1);const Ze=Number(Ye);return ti(!isNaN(Ze)),new Xc(Ze,p.size(),"final"===Pe)},d.maxUploadRetryTime);return te.headers={"X-Goog-Upload-Command":"query"},te.errorHandler=ss(a),te}(this._ref.storage,this._ref._location,a,this._blob),S=this._ref.storage._makeRequest(_,Ia,u,p);this._request=S,S.getPromise().then(N=>{this._request=void 0,this._updateProgress(N.current),this._needToFetchStatus=!1,N.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const a=262144*this._chunkMultiplier,u=new Xc(this._transferred,this._blob.size()),p=this._uploadUrl;this._resolveToken((_,S)=>{let N;try{N=function(d,a,u,p,_,S,N,W){const te=new Xc(0,0);if(N?(te.current=N.current,te.total=N.total):(te.current=0,te.total=p.size()),p.size()!==te.total)throw new Or("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const ue=te.total-te.current;let Pe=ue;_>0&&(Pe=Math.min(Pe,_));const Ye=te.current,Gt={"X-Goog-Upload-Command":Pe===ue?"upload, finalize":"upload","X-Goog-Upload-Offset":`${te.current}`},Xt=p.slice(Ye,Ye+Pe);if(null===Xt)throw hr();const In=new en(u,"POST",function(er,jr){const Fr=Al(er,["active","final"]),Hr=te.current+Pe,ri=p.size();let eo;return eo="final"===Fr?Ar(a,S)(er,jr):null,new Xc(Hr,ri,"final"===Fr,eo)},a.maxUploadRetryTime);return In.headers=Gt,In.body=Xt.uploadData(),In.progressCallback=W||null,In.errorHandler=ss(d),In}(this._ref._location,this._ref.storage,p,this._blob,a,this._mappings,u,this._makeProgressCallback())}catch(te){return this._error=te,void this._transition("error")}const W=this._ref.storage._makeRequest(N,Ia,_,S);this._request=W,W.getPromise().then(te=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(te.current),te.finalized?(this._metadata=te.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((a,u)=>{const p=Ga(this._ref.storage,this._ref._location,this._mappings),_=this._ref.storage._makeRequest(p,Ia,a,u);this._request=_,_.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((a,u)=>{const p=function(d,a,u,p,_){const S=a.bucketOnlyServerUrl(),N={"X-Goog-Upload-Protocol":"multipart"},te=function(){let In="";for(let er=0;er<2;er++)In+=Math.random().toString().slice(2);return In}();N["Content-Type"]="multipart/related; boundary="+te;const ue=mc(a,p,_),Pe=F(ue,u),dt=nn.getBlob("--"+te+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Pe+"\r\n--"+te+"\r\nContent-Type: "+ue.contentType+"\r\n\r\n",p,"\r\n--"+te+"--");if(null===dt)throw hr();const Gt={name:ue.fullPath},Xt=uo(S,d.host,d._protocol),Mn=d.maxUploadRetryTime,or=new en(Xt,"POST",Ar(d,u),Mn);return or.urlParams=Gt,or.headers=N,or.body=dt.uploadData(),or.errorHandler=ss(a),or}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),_=this._ref.storage._makeRequest(p,Ia,a,u);this._request=_,_.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(a){const u=this._transferred;this._transferred=a,this._transferred!==u&&this._notifyObservers()}_transition(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request&&this._request.cancel();break;case"running":const u="paused"===this._state;this._state=a,u&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=Go(),this._state=a,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const a=Hs(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}}on(a,u,p,_){const S=new yf(u||void 0,p||void 0,_||void 0);return this._addObserver(S),()=>{this._removeObserver(S)}}then(a,u){return this._promise.then(a,u)}catch(a){return this.then(null,a)}_addObserver(a){this._observers.push(a),this._notifyObserver(a)}_removeObserver(a){const u=this._observers.indexOf(a);-1!==u&&this._observers.splice(u,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(u=>{this._notifyObserver(u)})}_finishPromise(){if(void 0!==this._resolve){let a=!0;switch(Hs(this._state)){case ho.SUCCESS:Ai(this._resolve.bind(null,this.snapshot))();break;case ho.CANCELED:case ho.ERROR:Ai(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(a){switch(Hs(this._state)){case ho.RUNNING:case ho.PAUSED:a.next&&Ai(a.next.bind(a,this.snapshot))();break;case ho.SUCCESS:a.complete&&Ai(a.complete.bind(a))();break;default:a.error&&Ai(a.error.bind(a,this._error))()}}resume(){const a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a}pause(){const a="running"===this._state;return a&&this._transition("pausing"),a}cancel(){const a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a}}class $a{constructor(a,u){this._service=a,this._location=u instanceof hs?u:hs.makeFromUrl(u,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,u){return new $a(a,u)}get root(){const a=new hs(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yc(this._location.path)}get storage(){return this._service}get parent(){const a=function(d){if(0===d.length)return null;const a=d.lastIndexOf("/");return-1===a?"":d.slice(0,a)}(this._location.path);if(null===a)return null;const u=new hs(this._location.bucket,a);return new $a(this._service,u)}_throwIfRoot(a){if(""===this._location.path)throw Ki(a)}}function fs(d,a,u){return cl.apply(this,arguments)}function cl(){return(cl=(0,pr.Z)(function*(d,a,u){const _=yield ul(d,{pageToken:u});a.prefixes.push(..._.prefixes),a.items.push(..._.items),null!=_.nextPageToken&&(yield fs(d,a,_.nextPageToken))})).apply(this,arguments)}function ul(d,a){null!=a&&"number"==typeof a.maxResults&&$o("options.maxResults",1,1e3,a.maxResults);const u=a||{},p=zl(d.storage,d._location,"/",u.pageToken,u.maxResults);return d.storage.makeRequestWithTokens(p,Ia)}function dd(d){d._throwIfRoot("getDownloadURL");const a=function(d,a,u){const _=uo(a.fullServerUrl(),d.host,d._protocol),N=d.maxOperationRetryTime,W=new en(_,"GET",function(d,a){return function(p,_){const S=M(d,_,a);return ti(null!==S),function(d,a,u,p){const _=Qi(a);if(null===_||!Rs(_.downloadTokens))return null;const S=_.downloadTokens;if(0===S.length)return null;const N=encodeURIComponent;return S.split(",").map(ue=>{const Ye=d.fullPath;return uo("/b/"+N(d.bucket)+"/o/"+N(Ye),u,p)+ca({alt:"media",token:ue})})[0]}(S,_,d.host,d._protocol)}}(d,u),N);return W.errorHandler=Li(a),W}(d.storage,d._location,Z());return d.storage.makeRequestWithTokens(a,Ia).then(u=>{if(null===u)throw new Or("no-download-url","The given file does not have any download URLs.");return u})}function ru(d,a){const u=function(d,a){const u=a.split("/").filter(p=>p.length>0).join("/");return 0===d.length?u:d+"/"+u}(d._location.path,a),p=new hs(d._location.bucket,u);return new $a(d.storage,p)}function Ql(d,a){if(d instanceof Xl){const u=d;if(null==u._bucket)throw new Or("no-default-bucket","No default bucket found. Did you set the '"+bi+"' property when initializing the app?");const p=new $a(u,u._bucket);return null!=a?Ql(p,a):p}return void 0!==a?ru(d,a):d}function Jl(d,a){if(a&&function(d){return/^[A-Za-z]+:\/\//.test(d)}(a)){if(d instanceof Xl)return function(d,a){return new $a(d,a)}(d,a);throw Nr("To use ref(service, url), the first argument must be a Storage instance.")}return Ql(d,a)}function hd(d,a){const u=null==a?void 0:a[bi];return null==u?null:hs.makeFromBucketSpec(u,d)}class Xl{constructor(a,u,p,_,S){this.app=a,this._authProvider=u,this._appCheckProvider=p,this._url=_,this._firebaseVersion=S,this._bucket=null,this._host=Kr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=_?hs.makeFromBucketSpec(_,this._host):hd(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._bucket=null!=this._url?hs.makeFromBucketSpec(this._url,a):hd(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){$o("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){$o("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}_getAuthToken(){var a=this;return(0,pr.Z)(function*(){if(a._overrideAuthToken)return a._overrideAuthToken;const u=a._authProvider.getImmediate({optional:!0});if(u){const p=yield u.getToken();if(null!==p)return p.accessToken}return null})()}_getAppCheckToken(){var a=this;return(0,pr.Z)(function*(){const u=a._appCheckProvider.getImmediate({optional:!0});return u?(yield u.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new $a(this,a)}_makeRequest(a,u,p,_){if(this._deleted)return new xs(Es());{const S=function(d,a,u,p,_,S){const N=ca(d.urlParams),W=d.url+N,te=Object.assign({},d.headers);return function(d,a){a&&(d["X-Firebase-GMPID"]=a)}(te,a),function(d,a){null!==a&&a.length>0&&(d.Authorization="Firebase "+a)}(te,u),function(d,a){d["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager")}(te,S),function(d,a){null!==a&&(d["X-Firebase-AppCheck"]=a)}(te,p),new Il(W,d.method,te,d.body,d.successCodes,d.additionalRetryCodes,d.handler,d.errorHandler,d.timeout,d.progressCallback,_)}(a,this._appId,p,_,u,this._firebaseVersion);return this._requests.add(S),S.getPromise().then(()=>this._requests.delete(S),()=>this._requests.delete(S)),S}}makeRequestWithTokens(a,u){var p=this;return(0,pr.Z)(function*(){const[_,S]=yield Promise.all([p._getAuthToken(),p._getAppCheckToken()]);return p._makeRequest(a,u,_,S).getPromise()})()}}const Wo="@firebase/storage";function ra(d,a){return Jl(d=(0,zt.m9)(d),a)}(0,kn._registerComponent)(new fr.wA("storage",function(d,{instanceIdentifier:a}){const u=d.getProvider("app").getImmediate(),p=d.getProvider("auth-internal"),_=d.getProvider("app-check-internal");return new Xl(u,p,_,a,kn.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,kn.registerVersion)(Wo,"0.9.9",""),(0,kn.registerVersion)(Wo,"0.9.9","esm2017");class vi{constructor(a,u,p){this._delegate=a,this.task=u,this.ref=p}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Oa{constructor(a,u){this._delegate=a,this._ref=u,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new vi(this._delegate.snapshot,this,this._ref)}then(a,u){return this._delegate.then(p=>{if(a)return a(new vi(p,this,this._ref))},u)}on(a,u,p,_){let S;return u&&(S="function"==typeof u?N=>u(new vi(N,this,this._ref)):{next:u.next?N=>u.next(new vi(N,this,this._ref)):void 0,complete:u.complete||void 0,error:u.error||void 0}),this._delegate.on(a,S,p||void 0,_||void 0)}}class vh{constructor(a,u){this._delegate=a,this._service=u}get prefixes(){return this._delegate.prefixes.map(a=>new ko(a,this._service))}get items(){return this._delegate.items.map(a=>new ko(a,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ko{constructor(a,u){this._delegate=a,this.storage=u}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(a){const u=function(d,a){return ru(d,a)}(this._delegate,a);return new ko(u,this.storage)}get root(){return new ko(this._delegate.root,this.storage)}get parent(){const a=this._delegate.parent;return null==a?null:new ko(a,this.storage)}put(a,u){return this._throwIfRoot("put"),new Oa(function(d,a,u){return function(d,a,u){return d._throwIfRoot("uploadBytesResumable"),new _i(d,new nn(a),u)}(d=(0,zt.m9)(d),a,u)}(this._delegate,a,u),this)}putString(a,u=Ro.RAW,p){this._throwIfRoot("putString");const _=Ii(u,a),S=Object.assign({},p);return null==S.contentType&&null!=_.contentType&&(S.contentType=_.contentType),new Oa(new _i(this._delegate,new nn(_.data,!0),S),this)}listAll(){return function(d){return function(d){const a={prefixes:[],items:[]};return fs(d,a).then(()=>a)}(d=(0,zt.m9)(d))}(this._delegate).then(a=>new vh(a,this.storage))}list(a){return function(d,a){return ul(d=(0,zt.m9)(d),a)}(this._delegate,a||void 0).then(u=>new vh(u,this.storage))}getMetadata(){return function(d){return function(d){d._throwIfRoot("getMetadata");const a=Ga(d.storage,d._location,Z());return d.storage.makeRequestWithTokens(a,Ia)}(d=(0,zt.m9)(d))}(this._delegate)}updateMetadata(a){return function(d,a){return function(d,a){d._throwIfRoot("updateMetadata");const u=function(d,a,u,p){const S=uo(a.fullServerUrl(),d.host,d._protocol),W=F(u,p),ue=d.maxOperationRetryTime,Pe=new en(S,"PATCH",Ar(d,p),ue);return Pe.headers={"Content-Type":"application/json; charset=utf-8"},Pe.body=W,Pe.errorHandler=Li(a),Pe}(d.storage,d._location,a,Z());return d.storage.makeRequestWithTokens(u,Ia)}(d=(0,zt.m9)(d),a)}(this._delegate,a)}getDownloadURL(){return dd((0,zt.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(d){d._throwIfRoot("deleteObject");const a=function(d,a){const p=uo(a.fullServerUrl(),d.host,d._protocol),W=new en(p,"DELETE",function(te,ue){},d.maxOperationRetryTime);return W.successCodes=[200,204],W.errorHandler=Li(a),W}(d.storage,d._location);return d.storage.makeRequestWithTokens(a,Ia)}((0,zt.m9)(this._delegate))}_throwIfRoot(a){if(""===this._delegate._location.path)throw Ki(a)}}class pd{constructor(a,u){this.app=a,this._delegate=u}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(a){if(Rl(a))throw Nr("ref() expected a child path but got a URL, use refFromURL instead.");return new ko(ra(this._delegate,a),this)}refFromURL(a){if(!Rl(a))throw Nr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hs.makeFromUrl(a,this._delegate.host)}catch(u){throw Nr("refFromUrl() expected a valid full URL but got an invalid one.")}return new ko(ra(this._delegate,a),this)}setMaxUploadRetryTime(a){this._delegate.maxUploadRetryTime=a}setMaxOperationRetryTime(a){this._delegate.maxOperationRetryTime=a}useEmulator(a,u,p={}){!function(d,a,u,p={}){!function(d,a,u,p={}){d.host=`${a}:${u}`,d._protocol="http";const{mockUserToken:_}=p;_&&(d._overrideAuthToken="string"==typeof _?_:(0,zt.Sg)(_,d.app.options.projectId))}(d,a,u,p)}(this._delegate,a,u,p)}}function Rl(d){return/^[A-Za-z]+:\/\//.test(d)}function _c(d,{instanceIdentifier:a}){const u=d.getProvider("app-compat").getImmediate(),p=d.getProvider("storage").getImmediate({identifier:a});return new pd(u,p)}!function(d){const a={TaskState:ho,TaskEvent:mf,StringFormat:Ro,Storage:pd,Reference:ko};d.INTERNAL.registerComponent(new fr.wA("storage-compat",_c,"PUBLIC").setServiceProps(a).setMultipleInstances(!0)),d.registerVersion("@firebase/storage-compat","0.1.17")}(cr.Z);var Sp=U(3801),im=U(7841);function bh(d){const a=function(d){return new Ne.y(a=>{const u=N=>a.next(N);u(d.snapshot);const S=d.on("state_changed",u);return d.then(N=>{u(N),a.complete()},N=>{u(d.snapshot),(N=>{a.error(N)})(N)}),function(){S()}}).pipe((0,ei.b)(0))}(d);return{task:d,then:d.then.bind(d),catch:d.catch.bind(d),pause:d.pause.bind(d),cancel:d.cancel.bind(d),resume:d.resume.bind(d),snapshotChanges:()=>a,percentageChanges:()=>a.pipe((0,Ee.U)(u=>u.bytesTransferred/u.totalBytes*100))}}function Eh(d){return{getDownloadURL:()=>(0,Ve.of)(void 0).pipe(q.fc,(0,he.w)(()=>d.getDownloadURL()),q.iC),getMetadata:()=>(0,Ve.of)(void 0).pipe(q.fc,(0,he.w)(()=>d.getMetadata()),q.iC),delete:()=>(0,ir.D)(d.delete()),child:a=>Eh(d.child(a)),updateMetadata:a=>(0,ir.D)(d.updateMetadata(a)),put:(a,u)=>bh(d.put(a,u)),putString:(a,u,p)=>bh(d.putString(a,u,p)),list:a=>(0,ir.D)(d.list(a)),listAll:()=>(0,ir.D)(d.listAll())}}const wh=new o.OlP("angularfire2.storageBucket"),Ip=new o.OlP("angularfire2.storage.maxUploadRetryTime"),Ap=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Ya=new o.OlP("angularfire2.storage.use-emulator");let dl=(()=>{class d{constructor(u,p,_,S,N,W,te,ue,Pe,Ye){const Ze=(0,Cn.on)(u,N,p);this.storage=(0,Cn.cc)(`${Ze.name}.storage.${_}`,"AngularFireStorage",Ze.name,()=>{const dt=N.runOutsideAngular(()=>Ze.storage(_||void 0)),Gt=Pe;return Gt&&dt.useEmulator(...Gt),te&&dt.setMaxUploadRetryTime(te),ue&&dt.setMaxOperationRetryTime(ue),dt},[te,ue])}ref(u){return Eh(this.storage.ref(u))}refFromURL(u){return Eh(this.storage.refFromURL(u))}upload(u,p,_){return Eh(this.storage.ref(u)).put(p,_)}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(Cn.Dh),o.LFG(Cn.xv,8),o.LFG(wh,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(q.HU),o.LFG(Ip,8),o.LFG(Ap,8),o.LFG(Ya,8),o.LFG(Sp.nm,8))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"any"}),d})(),Cf=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({}),d})(),md=(()=>{class d{constructor(){im.Z.registerVersion("angularfire",q.q4.full,"gcs-compat")}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({providers:[dl],imports:[Cf]}),d})();var tc=U(6237),ia=U(2340);let nc=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=o.Xpm({type:d,selectors:[["ng-component"]],decls:2,vars:0,template:function(u,p){1&u&&(o.TgZ(0,"p"),o._uU(1,"login works!"),o.qZA())},styles:[""]}),d})(),Nu=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=o.Xpm({type:d,selectors:[["ng-component"]],decls:24,vars:0,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"section-title","text-uppercase"],[1,"row"],[1,"col-md-3"],["src","../../assets/img/KFP_logo.jpg"],[1,"text-center"],["href","https://www.kristinefreed.com/"],[1,"col-md-9"],[1,"bold",2,"color","#7b0512"],[1,"mt-20",2,"color","#7b0512"],["href","https://www.facebook.com/kristinefreedphotography/","target","_blank",1,"mr-20"],[1,"fa","fa-facebook","fa-2x"],["href","https://www.instagram.com/kristinefreedphotography/","target","_blank"],[1,"fa","fa-instagram","fa-2x"]],template:function(u,p){1&u&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o._uU(4,"Photography Information"),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o._UZ(7,"img",6),o.TgZ(8,"div",7),o.TgZ(9,"a",8),o._uU(10,"kristinefreed.com"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"div",9),o._uU(12," Many of the photos on this site have been provided by "),o.TgZ(13,"span",10),o._uU(14,"Kristine Freed Photography"),o.qZA(),o._UZ(15,"br"),o._uU(16," Specializing In: Maternity | Birth | Newborn | Family | Senior"),o._UZ(17,"br"),o._uU(18," Thank you for all your support Kristine! "),o.TgZ(19,"div",11),o.TgZ(20,"a",12),o._UZ(21,"i",13),o.qZA(),o.TgZ(22,"a",14),o._UZ(23,"i",15),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA())},styles:[""]}),d})();var hl=U(625),Qa=U(7636),Ja=U(2458),bc=U(946),sa=U(1439),ou=U(5257),au=U(521),R=U(7238),v=U(6461),w=U(4765);function L(d,a){}class le{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ae={dialogContainer:(0,R.X$)("dialogContainer",[(0,R.SB)("void, exit",(0,R.oB)({opacity:0,transform:"scale(0.7)"})),(0,R.SB)("enter",(0,R.oB)({transform:"none"})),(0,R.eR)("* => enter",(0,R.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,R.oB)({transform:"none",opacity:1}))),(0,R.eR)("* => void, * => exit",(0,R.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,R.oB)({opacity:0})))])};let dn=(()=>{class d extends Qa.en{constructor(u,p,_,S,N,W){super(),this._elementRef=u,this._focusTrapFactory=p,this._changeDetectorRef=_,this._config=N,this._focusMonitor=W,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=te=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(te)),this._ariaLabelledBy=N.ariaLabelledBy||null,this._document=S}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(u){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(u)}attachTemplatePortal(u){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(u)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const u=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&u&&"function"==typeof u.focus){const p=(0,au.ht)(),_=this._elementRef.nativeElement;(!p||p===this._document.body||p===_||_.contains(p))&&(this._focusMonitor?(this._focusMonitor.focusVia(u,this._closeInteractionType),this._closeInteractionType=null):u.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,au.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const u=this._elementRef.nativeElement,p=(0,au.ht)();return u===p||u.contains(p)}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(o.SBq),o.Y36(w.qV),o.Y36(o.sBO),o.Y36(Q.K0,8),o.Y36(le),o.Y36(w.tE))},d.\u0275dir=o.lG2({type:d,viewQuery:function(u,p){if(1&u&&o.Gf(Qa.Pl,7),2&u){let _;o.iGM(_=o.CRH())&&(p._portalOutlet=_.first)}},features:[o.qOj]}),d})(),Kn=(()=>{class d extends dn{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:u,totalTime:p}){"enter"===u?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:p})):"exit"===u&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:p}))}_onAnimationStart({toState:u,totalTime:p}){"enter"===u?this._animationStateChanged.next({state:"opening",totalTime:p}):("exit"===u||"void"===u)&&this._animationStateChanged.next({state:"closing",totalTime:p})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return d.\u0275fac=function(){let a;return function(p){return(a||(a=o.n5z(d)))(p||d)}}(),d.\u0275cmp=o.Xpm({type:d,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(u,p){1&u&&o.WFA("@dialogContainer.start",function(S){return p._onAnimationStart(S)})("@dialogContainer.done",function(S){return p._onAnimationDone(S)}),2&u&&(o.Ikx("id",p._id),o.uIk("role",p._config.role)("aria-labelledby",p._config.ariaLabel?null:p._ariaLabelledBy)("aria-label",p._config.ariaLabel)("aria-describedby",p._config.ariaDescribedBy||null),o.d8E("@dialogContainer",p._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(u,p){1&u&&o.YNc(0,L,0,0,"ng-template",0)},directives:[Qa.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ae.dialogContainer]}}),d})(),yr=0;class Qr{constructor(a,u,p="mat-dialog-"+yr++){this._overlayRef=a,this._containerInstance=u,this.id=p,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new yt.xQ,this._afterClosed=new yt.xQ,this._beforeClosed=new yt.xQ,this._state=0,u._id=p,u._animationStateChanged.pipe((0,xe.h)(_=>"opened"===_.state),(0,ou.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),u._animationStateChanged.pipe((0,xe.h)(_=>"closed"===_.state),(0,ou.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),a.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),a.keydownEvents().pipe((0,xe.h)(_=>_.keyCode===v.hY&&!this.disableClose&&!(0,v.Vb)(_))).subscribe(_=>{_.preventDefault(),Ji(this,"keyboard")}),a.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Ji(this,"mouse")})}close(a){this._result=a,this._containerInstance._animationStateChanged.pipe((0,xe.h)(u=>"closing"===u.state),(0,ou.q)(1)).subscribe(u=>{this._beforeClosed.next(a),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),u.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(a){let u=this._getPositionStrategy();return a&&(a.left||a.right)?a.left?u.left(a.left):u.right(a.right):u.centerHorizontally(),a&&(a.top||a.bottom)?a.top?u.top(a.top):u.bottom(a.bottom):u.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(a="",u=""){return this._overlayRef.updateSize({width:a,height:u}),this._overlayRef.updatePosition(),this}addPanelClass(a){return this._overlayRef.addPanelClass(a),this}removePanelClass(a){return this._overlayRef.removePanelClass(a),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Ji(d,a,u){return void 0!==d._containerInstance&&(d._containerInstance._closeInteractionType=a),d.close(u)}const xa=new o.OlP("MatDialogData"),fa=new o.OlP("mat-dialog-default-options"),fl=new o.OlP("mat-dialog-scroll-strategy"),yd={provide:fl,deps:[hl.aV],useFactory:function(d){return()=>d.scrollStrategies.block()}};let Po=(()=>{class d{constructor(u,p,_,S,N,W,te,ue,Pe){this._overlay=u,this._injector=p,this._defaultOptions=_,this._parentDialog=S,this._overlayContainer=N,this._dialogRefConstructor=te,this._dialogContainerType=ue,this._dialogDataToken=Pe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yt.xQ,this._afterOpenedAtThisLevel=new yt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,sa.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Zn.O)(void 0))),this._scrollStrategy=W}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const u=this._parentDialog;return u?u._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(u,p){p=function(d,a){return Object.assign(Object.assign({},a),d)}(p,this._defaultOptions||new le),p.id&&this.getDialogById(p.id);const _=this._createOverlay(p),S=this._attachDialogContainer(_,p),N=this._attachDialogContent(u,S,_,p);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(N),N.afterClosed().subscribe(()=>this._removeOpenDialog(N)),this.afterOpened.next(N),S._initializeWithAttachedContent(),N}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(u){return this.openDialogs.find(p=>p.id===u)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(u){const p=this._getOverlayConfig(u);return this._overlay.create(p)}_getOverlayConfig(u){const p=new hl.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:u.scrollStrategy||this._scrollStrategy(),panelClass:u.panelClass,hasBackdrop:u.hasBackdrop,direction:u.direction,minWidth:u.minWidth,minHeight:u.minHeight,maxWidth:u.maxWidth,maxHeight:u.maxHeight,disposeOnNavigation:u.closeOnNavigation});return u.backdropClass&&(p.backdropClass=u.backdropClass),p}_attachDialogContainer(u,p){const S=o.zs3.create({parent:p&&p.viewContainerRef&&p.viewContainerRef.injector||this._injector,providers:[{provide:le,useValue:p}]}),N=new Qa.C5(this._dialogContainerType,p.viewContainerRef,S,p.componentFactoryResolver);return u.attach(N).instance}_attachDialogContent(u,p,_,S){const N=new this._dialogRefConstructor(_,p,S.id);if(u instanceof o.Rgc)p.attachTemplatePortal(new Qa.UE(u,null,{$implicit:S.data,dialogRef:N}));else{const W=this._createInjector(S,N,p),te=p.attachComponentPortal(new Qa.C5(u,S.viewContainerRef,W));N.componentInstance=te.instance}return N.updateSize(S.width,S.height).updatePosition(S.position),N}_createInjector(u,p,_){const S=u&&u.viewContainerRef&&u.viewContainerRef.injector,N=[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:p}];return u.direction&&(!S||!S.get(bc.Is,null,o.XFs.Optional))&&N.push({provide:bc.Is,useValue:{value:u.direction,change:(0,Ve.of)()}}),o.zs3.create({parent:S||this._injector,providers:N})}_removeOpenDialog(u){const p=this.openDialogs.indexOf(u);p>-1&&(this.openDialogs.splice(p,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((_,S)=>{_?S.setAttribute("aria-hidden",_):S.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const u=this._overlayContainer.getContainerElement();if(u.parentElement){const p=u.parentElement.children;for(let _=p.length-1;_>-1;_--){let S=p[_];S!==u&&"SCRIPT"!==S.nodeName&&"STYLE"!==S.nodeName&&!S.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(S,S.getAttribute("aria-hidden")),S.setAttribute("aria-hidden","true"))}}}_closeDialogs(u){let p=u.length;for(;p--;)u[p].close()}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(hl.aV),o.Y36(o.zs3),o.Y36(void 0),o.Y36(void 0),o.Y36(hl.Xj),o.Y36(void 0),o.Y36(o.DyG),o.Y36(o.DyG),o.Y36(o.OlP))},d.\u0275dir=o.lG2({type:d}),d})(),Xa=(()=>{class d extends Po{constructor(u,p,_,S,N,W,te){super(u,p,S,W,te,N,Qr,Kn,xa)}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(hl.aV),o.LFG(o.zs3),o.LFG(Q.Ye,8),o.LFG(fa,8),o.LFG(fl),o.LFG(d,12),o.LFG(hl.Xj))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})(),Ec=0,Mp=(()=>{class d{constructor(u,p,_){this._dialogRef=u,this._elementRef=p,this._dialog=_,this.id="mat-dialog-title-"+Ec++}ngOnInit(){this._dialogRef||(this._dialogRef=function(d,a){let u=d.nativeElement.parentElement;for(;u&&!u.classList.contains("mat-dialog-container");)u=u.parentElement;return u?a.find(p=>p.id===u.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const u=this._dialogRef._containerInstance;u&&!u._ariaLabelledBy&&(u._ariaLabelledBy=this.id)})}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(Qr,8),o.Y36(o.SBq),o.Y36(Xa))},d.\u0275dir=o.lG2({type:d,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(u,p){2&u&&o.Ikx("id",p.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),d})(),Ds=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275dir=o.lG2({type:d,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),d})(),Fu=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275dir=o.lG2({type:d,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),d})();let Df=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({providers:[Xa,yd],imports:[[hl.U8,Qa.eL,Ja.BQ],Ja.BQ]}),d})();function Op(d,a){if(1&d&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&d){const u=a.$implicit;o.xp6(1),o.AsE(" ",u.type," - ",u.length," ")}}let Sf=(()=>{class d{constructor(u,p){this.data=u,this.dialogRef=p}ngOnInit(){}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(xa),o.Y36(Qr))},d.\u0275cmp=o.Xpm({type:d,selectors:[["ng-component"]],decls:7,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngFor","ngForOf"],["mat-dialog-actions",""],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(u,p){1&u&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1),o.YNc(3,Op,2,2,"div",2),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"button",4),o.NdJ("click",function(){return p.dialogRef.close()}),o._uU(6,"Ok"),o.qZA(),o.qZA()),2&u&&(o.xp6(1),o.AsE("Player Penalties: ",p.data.stat.first_name," ",p.data.stat.last_name,""),o.xp6(2),o.Q6J("ngForOf",p.data.stat.penalties))},directives:[Mp,Ds,Q.sg,Fu],encapsulation:2}),d})();class xp{}var kl=U(4384);function Cc(d,a){if(1&d&&o._UZ(0,"img",21),2&d){const u=o.oxw(2);o.Q6J("src",u.gameImageUrl,o.LSH)}}function sm(d,a){1&d&&o._UZ(0,"img",22)}function om(d,a){if(1&d&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&d){const u=o.oxw(2);o.xp6(1),o.AsE("TIED ",u.game.goals_for,"-",u.game.goals_against,"")}}function Rp(d,a){if(1&d&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&d){const u=o.oxw(2);o.xp6(1),o.lnq("",u.game.goals_for>u.game.goals_against?"WON":"LOST"," ",u.game.goals_for,"-",u.game.goals_against,"")}}function Tc(d,a){if(1&d){const u=o.EpF();o.TgZ(0,"div",26),o.NdJ("click",function(){o.CHM(u);const _=o.oxw().$implicit;return o.oxw(2).showPlayerPenalties(_)}),o._uU(1),o.qZA()}if(2&d){const u=o.oxw().$implicit;o.xp6(1),o.Oqu(u.penalties.length)}}function If(d,a){1&d&&(o.TgZ(0,"span"),o._uU(1,"0"),o.qZA())}const kp=function(d){return["/players",d]};function fo(d,a){if(1&d&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o._uU(14),o.qZA(),o.TgZ(15,"td"),o.YNc(16,Tc,2,1,"div",23),o.YNc(17,If,2,0,"span",14),o.qZA(),o.TgZ(18,"td"),o._uU(19),o.qZA(),o.TgZ(20,"td"),o._uU(21),o.qZA(),o.TgZ(22,"td"),o.TgZ(23,"a",24),o._UZ(24,"i",25),o._uU(25," View Profile"),o.qZA(),o.qZA(),o.qZA()),2&d){const u=a.$implicit;o.xp6(2),o.Oqu(u.jersey_number),o.xp6(2),o.Oqu(u.first_name),o.xp6(2),o.Oqu(u.last_name),o.xp6(2),o.Oqu(u.goals),o.xp6(2),o.Oqu(u.assists),o.xp6(2),o.Oqu(u.points),o.xp6(2),o.Oqu(u.plus_minus),o.xp6(2),o.Q6J("ngIf",u.penalties.length),o.xp6(1),o.Q6J("ngIf",!u.penalties.length),o.xp6(2),o.AsE("",u.faceoffs_taken,"/",u.faceoffs_won,""),o.xp6(2),o.Oqu(u.faceoffs_pct),o.xp6(2),o.Q6J("routerLink",o.VKq(13,kp,u.playerId))}}function kr(d,a){1&d&&(o.TgZ(0,"tr"),o.TgZ(1,"td",27),o._uU(2,"No Stats Available"),o.qZA(),o.qZA())}function am(d,a){if(1&d&&(o.TgZ(0,"section",1),o.TgZ(1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"h2",4),o._uU(4,"Game Details"),o.qZA(),o._uU(5),o.ALo(6,"date"),o._UZ(7,"br"),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"div",5),o.TgZ(10,"div",6),o.TgZ(11,"div",7),o.TgZ(12,"div",8),o.TgZ(13,"div",9),o.TgZ(14,"figure",10),o.YNc(15,Cc,1,1,"img",11),o.YNc(16,sm,1,0,"img",12),o.TgZ(17,"h2",13),o.YNc(18,om,2,2,"span",14),o.YNc(19,Rp,2,3,"span",14),o.qZA(),o.TgZ(20,"h5",13),o._uU(21," Shots On Goal "),o.qZA(),o.TgZ(22,"h5",15),o.TgZ(23,"span",16),o._uU(24,"Wiregrass"),o.qZA(),o._uU(25),o.TgZ(26,"span",16),o._uU(27),o.qZA(),o._uU(28),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",17),o.TgZ(30,"div",8),o.TgZ(31,"div",18),o.TgZ(32,"h3"),o._uU(33,"GAME STATS"),o.qZA(),o.TgZ(34,"table",19),o.TgZ(35,"thead"),o.TgZ(36,"tr"),o.TgZ(37,"th"),o._uU(38,"#"),o.qZA(),o.TgZ(39,"th"),o._uU(40,"First Name"),o.qZA(),o.TgZ(41,"th"),o._uU(42,"Last Name"),o.qZA(),o.TgZ(43,"th"),o._uU(44,"Goals"),o.qZA(),o.TgZ(45,"th"),o._uU(46,"Assists"),o.qZA(),o.TgZ(47,"th"),o._uU(48,"Points"),o.qZA(),o.TgZ(49,"th"),o._uU(50,"+/-"),o.qZA(),o.TgZ(51,"th"),o._uU(52,"Pen"),o.qZA(),o.TgZ(53,"th"),o._uU(54,"FOT/FOW"),o.qZA(),o.TgZ(55,"th"),o._uU(56,"FO %"),o.qZA(),o._UZ(57,"th"),o.qZA(),o.qZA(),o.TgZ(58,"tbody"),o.YNc(59,fo,26,15,"tr",20),o.YNc(60,kr,3,0,"tr",14),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&d){const u=o.oxw();o.xp6(5),o.AsE(" ",o.xi3(6,12,null==u.game.date?null:u.game.date.toDate(),"MM/dd/yyyy hh:mm a")," - ",u.game.location,""),o.xp6(3),o.hij(" ",u.game.varsity?"VARSITY":"JV"," "),o.xp6(7),o.Q6J("ngIf",u.gameImageUrl),o.xp6(1),o.Q6J("ngIf",!u.gameImageUrl),o.xp6(2),o.Q6J("ngIf",u.game.tie),o.xp6(1),o.Q6J("ngIf",!u.game.tie),o.xp6(6),o.hij(" ",u.game.shots_for," "),o.xp6(2),o.Oqu(u.game.opponent),o.xp6(1),o.hij(" ",u.game.shots_against," "),o.xp6(31),o.Q6J("ngForOf",u.gameStats),o.xp6(1),o.Q6J("ngIf",!(null!=u.gameStats&&u.gameStats.length))}}let lm=(()=>{class d{constructor(u,p,_,S){this.route=u,this.firestore=p,this.storage=_,this.dialog=S}ngOnInit(){this.route.params.subscribe(u=>{this.selectedGame=u.gameId,this.firestore.doc(`games/${this.selectedGame}`).valueChanges({idField:"id"}).subscribe({next:p=>{this.game=p,this.storage.ref(`games/${this.game.id}/${this.game.id}.jpg`).getDownloadURL().subscribe({next:S=>{this.gameImageUrl=S},error:S=>console.error(S)})}}),this.firestore.collection("players",p=>p.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:p=>{const _=[];p.forEach(S=>{let N=S.seasons.find(W=>W.year===ia.N.CURRENT_SEASON);N&&N.stats.forEach(W=>{var te;if(!0==(W.date.toDate().toLocaleDateString()===(null===(te=this.game.date)||void 0===te?void 0:te.toDate().toLocaleDateString()))&&!0==(W.varsity===this.game.varsity)){const Ye=new xp;Ye.playerId=S.id,Ye.first_name=S.first_name,Ye.last_name=S.last_name,Ye.jersey_number=S.jersey_number,Ye.goals=W.goals,Ye.assists=W.assists,Ye.points=W.points,Ye.faceoffs_taken=W.faceoffs_taken||0,Ye.faceoffs_won=W.faceoffs_won||0,Ye.penalties=W.penalties||[],Ye.plus_minus=W.plus_minus||0;const Ze=Ye.faceoffs_won/Ye.faceoffs_taken*100;Ye.faceoffs_pct=100===Ze?"100%":isNaN(Ze)?"N/A":Ze.toPrecision(2)+"%",_.push(Ye)}})}),this.gameStats=_}})})}showPlayerPenalties(u){this.dialog.open(Sf,{data:{stat:u}})}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(nr.gz),o.Y36(kl.ST),o.Y36(dl),o.Y36(Xa))},d.\u0275cmp=o.Xpm({type:d,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"section-title","text-uppercase"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-3","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/wrhs_logo.png","class","img-responsive text-center","alt","Image",4,"ngIf"],[1,"text-center","bold"],[4,"ngIf"],[1,"text-center"],[1,"bold"],[1,"col-md-9","col-sm-9"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/wrhs_logo.png","alt","Image",1,"img-responsive","text-center"],["style","font-weight: 700;text-decoration:underline",3,"click",4,"ngIf"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-id-card"],[2,"font-weight","700","text-decoration","underline",3,"click"],["colspan","11",1,"text-center","text-bold"]],template:function(u,p){1&u&&o.YNc(0,am,61,15,"section",0),2&u&&o.Q6J("ngIf",p.game&&p.game.complete)},directives:[Q.O5,Q.sg,nr.yS],pipes:[Q.uU],styles:[""]}),d})();function rc(d,a){if(1&d&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&d){const u=o.oxw(2).$implicit;o.xp6(1),o.AsE("TIED ",u.goals_for,"-",u.goals_against,"")}}function cm(d,a){if(1&d&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&d){const u=o.oxw(2).$implicit;o.xp6(1),o.lnq("",u.goals_for>u.goals_against?"W":"L"," ",u.goals_for,"-",u.goals_against,"")}}const Ra=function(d){return["/games",d]};function um(d,a){if(1&d&&(o.TgZ(0,"div"),o.YNc(1,rc,2,2,"span",20),o.YNc(2,cm,2,3,"span",20),o.TgZ(3,"a",22),o._uU(4,"View Game Summary"),o.qZA(),o.qZA()),2&d){const u=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",u.tie),o.xp6(1),o.Q6J("ngIf",!u.tie),o.xp6(1),o.Q6J("routerLink",o.VKq(3,Ra,u.id))}}function Th(d,a){if(1&d&&(o.TgZ(0,"tr"),o.TgZ(1,"th",21),o._uU(2),o.ALo(3,"date"),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.ALo(6,"date"),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o.YNc(12,um,5,5,"div",20),o.qZA(),o.qZA()),2&d){const u=a.$implicit;o.xp6(2),o.Oqu(o.xi3(3,5,null==u||null==u.date?null:u.date.toDate(),"MM/dd/yyyy")),o.xp6(3),o.Oqu(o.xi3(6,8,null==u||null==u.date?null:u.date.toDate(),"h:mm a")),o.xp6(3),o.Oqu(u.opponent),o.xp6(2),o.Oqu(u.location),o.xp6(2),o.Q6J("ngIf",u.complete)}}function dm(d,a){1&d&&(o.TgZ(0,"tr"),o.TgZ(1,"td",23),o._uU(2,"No Schedule Available"),o.qZA(),o.qZA())}function ic(d,a){if(1&d&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o.TgZ(2,"table",18),o.TgZ(3,"thead"),o.TgZ(4,"tr"),o.TgZ(5,"th"),o._uU(6,"Date"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Time"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Opponent"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"Location"),o.qZA(),o._UZ(13,"th"),o.qZA(),o.qZA(),o.TgZ(14,"tbody"),o.YNc(15,Th,13,11,"tr",19),o.YNc(16,dm,3,0,"tr",20),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&d){const u=a.team,p=o.oxw();o.xp6(15),o.Q6J("ngForOf","varsity"===u?p.varsityGames:p.jvGames),o.xp6(1),o.Q6J("ngIf","varsity"===u?!p.varsityGames.length:!p.jvGames.length)}}const hm=function(d){return{active:d}},Dh=function(d){return{"in active":d}},Sh=function(){return{team:"varsity"}},ga=function(){return{team:"jv"}};let ni=(()=>{class d{constructor(u,p){this.route=u,this.firestore=p,this.varsityGames=[],this.jvGames=[],this.showCompleted=!0}ngOnInit(){this.route.queryParams.subscribe(u=>{this.selectedTeam=u.team,this.firestore.collection("games",p=>p.orderBy("date","asc")).valueChanges({idField:"id"}).subscribe({next:p=>{this.varsityGames=p.filter(_=>!0===_.varsity),this.jvGames=p.filter(_=>!1===_.varsity)}})})}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(nr.gz),o.Y36(kl.ST))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-players"]],decls:25,vars:18,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-12"],[1,"border-bottom-tab"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",3,"ngClass"],["href","#varsity","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],["href","#jv","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","varsity",1,"tab-pane","fade",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel","id","jv",1,"tab-pane","fade",3,"ngClass"],["schedule",""],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["routerLink","games",1,"ml-10",3,"routerLink"],["colspan","5",1,"text-center","text-bold"]],template:function(u,p){if(1&u&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o._uU(4,"Game Schedules"),o.qZA(),o.TgZ(5,"p",4),o._uU(6,"Select the team to view the schedule"),o.qZA(),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"div",7),o.TgZ(10,"ul",8),o.TgZ(11,"li",9),o.TgZ(12,"a",10),o._uU(13,"Varsity"),o.qZA(),o.qZA(),o.TgZ(14,"li",9),o.TgZ(15,"a",11),o._uU(16,"JV"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"div",12),o.TgZ(18,"div",13),o.TgZ(19,"div",14),o.GkF(20,15),o.qZA(),o.TgZ(21,"div",16),o.GkF(22,15),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(23,ic,17,2,"ng-template",null,17,o.W1O)),2&u){const _=o.MAs(24);o.xp6(11),o.Q6J("ngClass",o.VKq(8,hm,"varsity"===p.selectedTeam)),o.xp6(3),o.Q6J("ngClass",o.VKq(10,hm,"jv"===p.selectedTeam)),o.xp6(5),o.Q6J("ngClass",o.VKq(12,Dh,"varsity"===p.selectedTeam)),o.xp6(1),o.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",o.DdM(14,Sh)),o.xp6(1),o.Q6J("ngClass",o.VKq(15,Dh,"jv"===p.selectedTeam)),o.xp6(1),o.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",o.DdM(17,ga))}},directives:[Q.mk,Q.tP,Q.sg,Q.O5,nr.yS],pipes:[Q.uU],styles:[""]}),d})();function fm(d,a){if(1&d&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&d){const u=o.oxw();o.xp6(1),o.lnq("Season Record: ",u.varsityStats.wins,"-",u.varsityStats.losses,"-",u.varsityStats.ties,"")}}function Ih(d,a){if(1&d&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&d){const u=o.oxw();o.xp6(1),o.lnq("Season Record: ",u.jvStats.wins,"-",u.jvStats.losses,"-",u.jvStats.ties,"")}}function po(d,a){if(1&d){const u=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"th",19),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"a",20),o.NdJ("click",function(){const S=o.CHM(u).$implicit;return o.oxw().viewProfile(S.id)}),o._UZ(15,"i",21),o._uU(16," View Profile"),o.qZA(),o.qZA(),o.qZA()}if(2&d){const u=a.$implicit;o.xp6(2),o.Oqu(u.jersey_number),o.xp6(2),o.Oqu(u.first_name),o.xp6(2),o.Oqu(u.last_name),o.xp6(2),o.Oqu(null==u||null==u.currentSeasonStats?null:u.currentSeasonStats.goals),o.xp6(2),o.Oqu(null==u||null==u.currentSeasonStats?null:u.currentSeasonStats.assists),o.xp6(2),o.Oqu(null==u||null==u.currentSeasonStats?null:u.currentSeasonStats.points)}}function Dc(d,a){1&d&&(o.TgZ(0,"tr"),o.TgZ(1,"td",22),o._uU(2,"Roster Information Coming Soon"),o.qZA(),o.qZA())}const Lu=function(d){return{selected:d}};let pm=(()=>{class d{constructor(u,p){this.router=u,this.firestore=p,this.players=[]}ngOnInit(){this.getTeam("varsity"),this.getStats()}getStats(){this.firestore.collection("season_totals").valueChanges().subscribe({next:u=>{u.forEach(p=>{p.varsity?this.varsityStats=p:this.jvStats=p})}})}getTeam(u){this.selectedTeam=u,this.players=[],this.firestore.collection("players",p=>p.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:p=>{p=p.filter(_=>{const S=_.seasons.find(N=>N.year===ia.N.CURRENT_SEASON);return"varsity"===this.selectedTeam?!0===(null==S?void 0:S.varsity):!0===(null==S?void 0:S.jv)}),this.players=p}})}viewProfile(u){this.router.navigate([`players/${u}`])}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(nr.F0),o.Y36(kl.ST))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-players"]],decls:54,vars:11,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper",3,"ngClass","click"],[1,"team-img"],["src","../../assets/img/varsity_placeholder.png","alt","Image",1,"img-responsive"],[1,"team-title"],[4,"ngIf"],["routerLink","../schedule/varsity"],["src","../../assets/img/jv_placeholder.png","alt","Image",1,"img-responsive"],[1,"row","mt-50"],[1,"col-md-8","col-md-offset-2"],[1,"mt-30"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["scope","row"],[3,"click"],["aria-hidden","true",1,"fa","fa-id-card"],["colspan","4",1,"text-center","text-bold"]],template:function(u,p){1&u&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h2",3),o._uU(4,"Our Teams"),o.qZA(),o.TgZ(5,"p",4),o._uU(6,"Select the team to view more details"),o.qZA(),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"div",7),o.NdJ("click",function(){return p.getTeam("varsity")}),o.TgZ(10,"div",8),o._UZ(11,"img",9),o.qZA(),o.TgZ(12,"div",10),o.TgZ(13,"h3"),o._uU(14,"VARSITY"),o.qZA(),o.TgZ(15,"span"),o._uU(16,"Coach: John Scoby"),o.qZA(),o.YNc(17,fm,2,3,"p",11),o.TgZ(18,"a",12),o._uU(19,"View Varsity Schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",6),o.TgZ(21,"div",7),o.NdJ("click",function(){return p.getTeam("jv")}),o.TgZ(22,"div",8),o._UZ(23,"img",13),o.qZA(),o.TgZ(24,"div",10),o.TgZ(25,"h3"),o._uU(26,"JV"),o.qZA(),o.TgZ(27,"span"),o._uU(28,"Coach: Bill Talbot"),o.qZA(),o.YNc(29,Ih,2,3,"p",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",14),o.TgZ(31,"div",15),o.TgZ(32,"h3"),o._uU(33),o.qZA(),o._UZ(34,"div",16),o.TgZ(35,"table",17),o.TgZ(36,"thead"),o.TgZ(37,"tr"),o.TgZ(38,"th"),o._uU(39,"#"),o.qZA(),o.TgZ(40,"th"),o._uU(41,"First Name"),o.qZA(),o.TgZ(42,"th"),o._uU(43,"Last Name"),o.qZA(),o.TgZ(44,"th"),o._uU(45,"Goals"),o.qZA(),o.TgZ(46,"th"),o._uU(47,"Assists"),o.qZA(),o.TgZ(48,"th"),o._uU(49,"Points"),o.qZA(),o._UZ(50,"th"),o.qZA(),o.qZA(),o.TgZ(51,"tbody"),o.YNc(52,po,17,6,"tr",18),o.YNc(53,Dc,3,0,"tr",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&u&&(o.xp6(9),o.Q6J("ngClass",o.VKq(7,Lu,"varsity"===p.selectedTeam)),o.xp6(8),o.Q6J("ngIf",p.varsityStats),o.xp6(4),o.Q6J("ngClass",o.VKq(9,Lu,"jv"===p.selectedTeam)),o.xp6(8),o.Q6J("ngIf",p.jvStats),o.xp6(4),o.hij("","varsity"===p.selectedTeam?"VARSITY":"JV"," ROSTER"),o.xp6(19),o.Q6J("ngForOf",p.players),o.xp6(1),o.Q6J("ngIf",!p.players.length))},directives:[Q.mk,Q.O5,nr.yS,Q.sg],styles:[""]}),d})();class Af{constructor(){this.goals_for=0,this.assists_for=0,this.points_for=0}static getGoalDiff(a,u){let p;return a&&u?(p=(a-u).toString(),p=a>u?"+ "+p:"- "+p):p="--",p}}const Pp=function(d){return["/players",d]};function Ky(d,a){if(1&d&&(o.TgZ(0,"section",33),o.TgZ(1,"div",9),o.TgZ(2,"div",13),o.TgZ(3,"div",34),o.TgZ(4,"h2",35),o._uU(5,"PLAYER OF THE WEEK"),o.qZA(),o._UZ(6,"img",36),o.qZA(),o.TgZ(7,"div",37),o.TgZ(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"a",38),o._UZ(11,"i",39),o._uU(12,"View Player Profile"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&d){const u=o.oxw();o.xp6(6),o.MGl("src","../../assets/img/players/",u.potw.image,"",o.LSH),o.xp6(3),o.Oqu(u.potw.description),o.xp6(1),o.Q6J("routerLink",o.VKq(3,Pp,u.potw.playerId))}}const Mf=function(d){return{team:d}};function gm(d,a){if(1&d&&(o.TgZ(0,"div",42),o.TgZ(1,"div",43),o.TgZ(2,"div",44),o.TgZ(3,"span",45),o._uU(4),o.qZA(),o.TgZ(5,"p"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.ALo(9,"date"),o.qZA(),o.TgZ(10,"a",46),o._uU(11,"View full schedule"),o.qZA(),o.qZA(),o.TgZ(12,"div",47),o.TgZ(13,"span",48),o._uU(14),o.qZA(),o.TgZ(15,"p"),o._uU(16),o.qZA(),o.TgZ(17,"p"),o._uU(18),o.ALo(19,"date"),o.qZA(),o.TgZ(20,"a",46),o._uU(21,"View full schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&d){const u=a.$implicit;o.uIk("data-groups",u.groups),o.xp6(4),o.AsE("",u.varsity?"Varsity":"JV"," vs ",u.opponent,""),o.xp6(2),o.Oqu(u.location),o.xp6(2),o.Oqu(o.xi3(9,11,null==u.date?null:u.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),o.xp6(2),o.Q6J("queryParams",o.VKq(17,Mf,u.varsity?"varsity":"jv")),o.xp6(4),o.AsE("",u.varsity?"Varsity":"JV"," vs ",u.opponent,""),o.xp6(2),o.Oqu(u.location),o.xp6(2),o.Oqu(o.xi3(19,14,null==u.date?null:u.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),o.xp6(2),o.Q6J("queryParams",o.VKq(19,Mf,u.varsity?"varsity":"jv"))}}function mm(d,a){if(1&d&&(o.TgZ(0,"div",40),o.YNc(1,gm,22,21,"div",41),o.qZA()),2&d){const u=o.oxw();o.xp6(1),o.Q6J("ngForOf",u.upcomingGames)}}function Yy(d,a){1&d&&(o.TgZ(0,"div",49),o._uU(1,"No Games Schedules"),o.qZA())}function Qy(d,a){if(1&d&&(o.TgZ(0,"div",50),o.TgZ(1,"div",51),o._UZ(2,"i",52),o.TgZ(3,"span",53),o._uU(4),o.qZA(),o.TgZ(5,"span",54),o._uU(6,"Wins"),o.qZA(),o.qZA(),o.TgZ(7,"div",51),o._UZ(8,"i",55),o.TgZ(9,"span",53),o._uU(10),o.qZA(),o.TgZ(11,"span",54),o._uU(12,"Goals For"),o.qZA(),o.qZA(),o.TgZ(13,"div",51),o._UZ(14,"i",56),o.TgZ(15,"span",57),o._uU(16),o.qZA(),o.TgZ(17,"span",54),o._uU(18,"Goal Differential"),o.qZA(),o.qZA(),o.TgZ(19,"div",51),o._UZ(20,"i",58),o.TgZ(21,"span",53),o._uU(22),o.qZA(),o.TgZ(23,"span",54),o._uU(24,"Shots"),o.qZA(),o.qZA(),o.qZA()),2&d){const u=o.oxw();o.xp6(4),o.Oqu(u.seasonStats.wins),o.xp6(6),o.Oqu(u.seasonStats.goals_for),o.xp6(6),o.Oqu(u.seasonStats.goalDiff),o.xp6(6),o.Oqu(u.seasonStats.shots_for)}}let Ah=(()=>{class d{constructor(u){this.allUpcomingGames=[],this.upcomingGames=[],this.gameGroup="all",u.collection("season_totals",p=>p.where("season","==",ia.N.CURRENT_SEASON).where("varsity","==",!0)).valueChanges().subscribe({next:p=>{const _=p[0],S=Af.getGoalDiff(_.goals_for,_.goals_against);_.goalDiff=S,this.seasonStats=_}}),u.collection("games",p=>p.orderBy("date","asc")).valueChanges().subscribe({next:p=>{let _=p.filter(S=>!1===S.complete&&S.year===ia.N.CURRENT_SEASON);_.forEach(S=>{S.groups=S.varsity?"['all','varsity']":"['all','jv']"}),_=_.slice(0,6),this.allUpcomingGames=_,this.gameGroupChanged("all")}}),u.doc("potw/jomtax9WWuD6DyNCg2nr").valueChanges({idField:"id"}).subscribe({next:p=>{this.potw=p}})}ngOnInit(){}gameGroupChanged(u){this.gameGroup=u,this.upcomingGames=this.allUpcomingGames.filter(p=>"all"===this.gameGroup||("varsity"===this.gameGroup?!0===p.varsity:"jv"!==this.gameGroup||!1===p.varsity))}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(kl.ST))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-home"]],decls:73,vars:4,consts:[["data-stellar-background-ratio","0.5",1,"banner-7","parallax-bg","bg-fixed","overlay","fullscreen-banner","valign-wrapper"],[1,"valign-cell"],[1,"container","padding-top-160"],[1,"text-center"],[1,"tt-headline","loading-bar"],[1,"tt-words-wrapper",2,"color","#762741","-webkit-text-stroke-width","1px","-webkit-text-stroke-color","white"],[1,"is-visible"],[1,"sub-intro","lead","white-text"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper"],[1,"team-img"],["src","../../assets/img/players/scoby.png","alt","Image",1,"img-responsive"],[1,"team-title"],["src","../../assets/img/players/talbot.png","alt","Image",1,"img-responsive"],["class","content-promo-box banner padding-top-100 padding-bottom-120 gray-bg",4,"ngIf"],["id","works",1,"section-padding"],[1,"portfolio-container"],[1,"portfolio-filter","brand-filter","text-center"],["data-group","all",1,"active","waves-effect","waves-light",3,"click"],["data-group","varsity",1,"waves-effect","waves-light",3,"click"],["data-group","jv",1,"waves-effect","waves-light",3,"click"],["class","portfolio portfolio-with-title col-3 gutter mtb-50",4,"ngIf"],["class","text-center text-bold",4,"ngIf"],["data-stellar-background-ratio","0.5",1,"counter-section","facts-two","banner-10","parallax-bg","bg-fixed","overlay","light-9"],[1,"row","text-center","mt-30"],[1,"col-sm-12"],["class","row text-center",4,"ngIf"],[1,"content-promo-box","banner","padding-top-100","padding-bottom-120","gray-bg"],[1,"col-md-4"],[1,"font-30","text-extrabold","mb-30","text-uppercase"],["width","300px",3,"src"],[1,"col-md-8"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-id-card"],[1,"portfolio","portfolio-with-title","col-3","gutter","mtb-50"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"portfolio-item"],[1,"card"],[1,"card-content"],[1,"card-title","activator"],["routerLink","schedule",1,"readmore",3,"queryParams"],[1,"card-reveal"],[1,"card-title"],[1,"text-center","text-bold"],[1,"row","text-center"],[1,"col-sm-3","counter-wrap"],[1,"fa","fa-4x","fa-trophy","brand-color"],[1,"timer"],[1,"count-description"],[1,"fa","fa-4x","fa-bullhorn","brand-color"],[1,"fa","fa-4x","fa-plus","brand-color"],[1,"timer2"],[1,"fa","fa-4x","fa-crosshairs","brand-color"]],template:function(u,p){1&u&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"h1",4),o.TgZ(5,"span"),o._uU(6,"We're\xa0"),o.qZA(),o.TgZ(7,"span",5),o.TgZ(8,"b",6),o._uU(9,"Dedicated"),o.qZA(),o.TgZ(10,"b"),o._uU(11,"Passionate"),o.qZA(),o.TgZ(12,"b"),o._uU(13,"United"),o.qZA(),o.TgZ(14,"b"),o._uU(15,"WIREGRASS"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"p",7),o._uU(17,"Proud Member of the Lightning High School Hockey League"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"section",8),o.TgZ(19,"div",9),o.TgZ(20,"div",10),o.TgZ(21,"h2",11),o._uU(22,"Our Coaches"),o.qZA(),o.TgZ(23,"p",12),o._uU(24,"Our coaches bring a wealth of experience & professionalism to our program. Dedicated to making our players better not only on the ice, but in their daily lives as well."),o.qZA(),o.qZA(),o.TgZ(25,"div",13),o.TgZ(26,"div",14),o.TgZ(27,"div",15),o.TgZ(28,"div",16),o._UZ(29,"img",17),o.qZA(),o.TgZ(30,"div",18),o.TgZ(31,"h3"),o._uU(32,"Jonn Scoby"),o.qZA(),o.TgZ(33,"span"),o._uU(34,"Varsity Head Coach"),o.qZA(),o.TgZ(35,"p"),o._uU(36," Joining Wiregrass as the Varsity Head Coach in the Summer of 2022, Coach Scoby has his sights set on taking the program to the next level and beyond. His experience has brought a whole new level of excitement to the program"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(37,"div",14),o.TgZ(38,"div",15),o.TgZ(39,"div",16),o._UZ(40,"img",19),o.qZA(),o.TgZ(41,"div",18),o.TgZ(42,"h3"),o._uU(43,"Bill Talbot"),o.qZA(),o.TgZ(44,"span"),o._uU(45,"JV Head Coach"),o.qZA(),o.TgZ(46,"p"),o._uU(47,"Coach Talbot brings a wealth of coaching experience from the Travel level through High School. He is working closely with Coach Scoby to develop our JV players and prepare them for the next level."),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(48,Ky,13,5,"section",20),o.TgZ(49,"section",21),o.TgZ(50,"div",9),o.TgZ(51,"div",10),o.TgZ(52,"h2",11),o._uU(53,"Upcoming Games"),o.qZA(),o.TgZ(54,"p",12),o._uU(55,"Come Support Wiregrass Hockey at the following upcoming games:"),o.qZA(),o.qZA(),o.TgZ(56,"div",22),o.TgZ(57,"ul",23),o.TgZ(58,"li",24),o.NdJ("click",function(){return p.gameGroupChanged("all")}),o._uU(59,"All"),o.qZA(),o.TgZ(60,"li",25),o.NdJ("click",function(){return p.gameGroupChanged("varsity")}),o._uU(61,"Varsity"),o.qZA(),o.TgZ(62,"li",26),o.NdJ("click",function(){return p.gameGroupChanged("jv")}),o._uU(63,"JV"),o.qZA(),o.qZA(),o.YNc(64,mm,2,1,"div",27),o.YNc(65,Yy,2,0,"div",28),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"section",29),o.TgZ(67,"div",9),o.TgZ(68,"div",30),o.TgZ(69,"div",31),o.TgZ(70,"h2",11),o._uU(71,"Varsity Season Stats"),o.qZA(),o.qZA(),o.qZA(),o.YNc(72,Qy,25,4,"div",32),o.qZA(),o.qZA()),2&u&&(o.xp6(48),o.Q6J("ngIf",p.potw),o.xp6(16),o.Q6J("ngIf",p.upcomingGames&&p.upcomingGames.length),o.xp6(1),o.Q6J("ngIf",p.upcomingGames&&!p.upcomingGames.length),o.xp6(7),o.Q6J("ngIf",p.seasonStats))},directives:[Q.O5,nr.yS,Q.sg],pipes:[Q.uU],styles:[""]}),d})();function Np(d,a){if(1&d&&o._UZ(0,"img",22),2&d){const u=o.oxw(2);o.Q6J("src",u.profileImageUrl,o.LSH)}}function Fp(d,a){1&d&&o._UZ(0,"img",23)}function Eo(d,a){1&d&&(o.TgZ(0,"div",24),o._uU(1,"Photo Coming Soon"),o.qZA())}function Lp(d,a){if(1&d&&(o.TgZ(0,"div",25),o.TgZ(1,"div",9),o.TgZ(2,"div",26),o.TgZ(3,"h4"),o._uU(4,"Season Totals"),o.TgZ(5,"small"),o._uU(6," (Includes JV & Varsity)"),o.qZA(),o.qZA(),o.TgZ(7,"div",27),o.TgZ(8,"span",28),o._uU(9,"Goals"),o.qZA(),o.TgZ(10,"div",29),o.TgZ(11,"div",30),o._uU(12),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",27),o.TgZ(14,"span",28),o._uU(15,"Assists"),o.qZA(),o.TgZ(16,"div",29),o.TgZ(17,"div",30),o._uU(18),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",27),o.TgZ(20,"span",28),o._uU(21,"Points"),o.qZA(),o.TgZ(22,"div",29),o.TgZ(23,"div",30),o._uU(24),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"h6"),o._uU(26,"**NOTE** % Values are the precentage of the team total for that category"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&d){const u=o.oxw(2);o.xp6(11),o.Udp("height","20px")("width",u.getBarWidth(u.player.currentSeasonStats.goals,u.seasonStats.goals_for)),o.uIk("aria-valuenow",u.player.currentSeasonStats.goals)("aria-valuemax",u.seasonStats.goals_for),o.xp6(1),o.lnq(" ",u.player.currentSeasonStats.goals,"/",u.seasonStats.goals_for," (",u.getBarWidth(u.player.currentSeasonStats.goals,u.seasonStats.goals_for),") "),o.xp6(5),o.Udp("height","20px")("width",u.getBarWidth(u.player.currentSeasonStats.assists,u.seasonStats.assists_for)),o.uIk("aria-valuenow",u.player.currentSeasonStats.assists)("aria-valuemax",u.seasonStats.assists_for),o.xp6(1),o.lnq(" ",u.player.currentSeasonStats.assists,"/",u.seasonStats.assists_for," (",u.getBarWidth(u.player.currentSeasonStats.assists,u.seasonStats.assists_for),") "),o.xp6(5),o.Udp("height","20px")("width",u.getBarWidth(u.player.currentSeasonStats.points,u.seasonStats.points_for)),o.uIk("aria-valuenow",u.player.currentSeasonStats.points)("aria-valuemax",u.seasonStats.points_for),o.xp6(1),o.lnq(" ",u.player.currentSeasonStats.points,"/",u.seasonStats.points_for," (",u.getBarWidth(u.player.currentSeasonStats.points,u.seasonStats.points_for),") ")}}function Jy(d,a){if(1&d&&(o.TgZ(0,"tr"),o.TgZ(1,"th",31),o._uU(2),o.ALo(3,"date"),o.qZA(),o.TgZ(4,"td"),o._uU(5),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.qZA(),o.TgZ(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.qZA()),2&d){const u=a.$implicit;o.xp6(2),o.Oqu(o.xi3(3,5,null==u||null==u.date?null:u.date.toDate(),"MM/dd/yyyy")),o.xp6(3),o.Oqu(u.varsity?"VARSITY":"JV"),o.xp6(2),o.Oqu(u.goals),o.xp6(2),o.Oqu(u.assists),o.xp6(2),o.Oqu(u.points)}}function vd(d,a){1&d&&(o.TgZ(0,"tr"),o.TgZ(1,"td",32),o._uU(2,"No Stats Available"),o.qZA(),o.qZA())}function el(d,a){if(1&d&&(o.TgZ(0,"section",1),o.TgZ(1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"h2",4),o._uU(4,"Player Profile"),o.qZA(),o._UZ(5,"p",5),o.qZA(),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.TgZ(9,"div",9),o.TgZ(10,"div",10),o.TgZ(11,"figure",11),o.YNc(12,Np,1,1,"img",12),o.YNc(13,Fp,1,0,"img",13),o.YNc(14,Eo,2,0,"div",14),o.qZA(),o.qZA(),o.TgZ(15,"div",15),o.TgZ(16,"div",16),o.TgZ(17,"h3"),o._uU(18),o.TgZ(19,"small"),o._uU(20),o.qZA(),o.qZA(),o.qZA(),o.YNc(21,Lp,27,27,"div",17),o.TgZ(22,"div",9),o.TgZ(23,"div",18),o.TgZ(24,"h3"),o._uU(25,"GAME STATS"),o.qZA(),o.TgZ(26,"table",19),o.TgZ(27,"thead"),o.TgZ(28,"tr"),o.TgZ(29,"th"),o._uU(30,"Date"),o.qZA(),o.TgZ(31,"th"),o._uU(32,"JV/Varsity"),o.qZA(),o.TgZ(33,"th"),o._uU(34,"Goals"),o.qZA(),o.TgZ(35,"th"),o._uU(36,"Assists"),o.qZA(),o.TgZ(37,"th"),o._uU(38,"Points"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(39,"tbody"),o.YNc(40,Jy,12,8,"tr",20),o.YNc(41,vd,3,0,"tr",21),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&d){const u=o.oxw();o.xp6(12),o.Q6J("ngIf",u.profileImageUrl),o.xp6(1),o.Q6J("ngIf",!u.profileImageUrl),o.xp6(1),o.Q6J("ngIf",!u.profileImageUrl),o.xp6(4),o.lnq("#",u.player.jersey_number," ",u.player.first_name," ",u.player.last_name," "),o.xp6(2),o.Oqu(u.getPlayerStatus()),o.xp6(1),o.Q6J("ngIf",u.player&&u.seasonStats),o.xp6(19),o.Q6J("ngForOf",u.playerStats),o.xp6(1),o.Q6J("ngIf",!(null!=u.playerStats&&u.playerStats.length))}}const _m=[{path:"",component:Ah},{path:"teams",component:pm},{path:"schedule",component:ni},{path:"players/:playerId",component:(()=>{class d{constructor(u,p,_){this.route=u,this.firestore=p,this.storage=_}ngOnInit(){this.route.params.subscribe(u=>{this.playerId=u.playerId,this.firestore.doc(`players/${this.playerId}`).valueChanges({idField:"id"}).subscribe({next:p=>{var _;this.player=p,this.playerStats=null===(_=this.player.seasons.find(N=>N.year=ia.N.CURRENT_SEASON))||void 0===_?void 0:_.stats,this.storage.ref(`players/${this.player.id}/${this.player.id}.jpg`).getDownloadURL().subscribe({next:N=>{this.profileImageUrl=N}})}}),this.firestore.collection("season_totals").valueChanges({idField:"id"}).subscribe({next:p=>{this.seasonStats=new Af,p.forEach(_=>{this.seasonStats.goals_for+=_.goals_for,this.seasonStats.assists_for+=_.assists_for,this.seasonStats.points_for+=_.points_for})}})})}getPlayerStatus(){return this.player.seasons[0].varsity&&this.player.seasons[0].jv?"2 Way":this.player.seasons[0].jv&&!this.player.seasons[0].varsity?"JV":"Varsity"}getBarWidth(u,p){let S=(u/p*100).toPrecision(2);return console.log(S),S.toString()+"%"}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(nr.gz),o.Y36(kl.ST),o.Y36(dl))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-players"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-4","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/WR.png","class","img-responsive","alt","Image",4,"ngIf"],["class","text-left","style","margin-left: 59px;",4,"ngIf"],[1,"col-md-8","col-sm-9"],[1,"team-intro"],["class","team-skill",4,"ngIf"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/WR.png","alt","Image",1,"img-responsive"],[1,"text-left",2,"margin-left","59px"],[1,"team-skill"],[1,"col-sm-6"],[1,"progress-section"],[1,"progress-title"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["scope","row"],["colspan","5",1,"text-center","text-bold"]],template:function(u,p){1&u&&o.YNc(0,el,42,10,"section",0),2&u&&o.Q6J("ngIf",p.player)},directives:[Q.O5,Q.sg],pipes:[Q.uU],styles:[""]}),d})()},{path:"games/:gameId",component:lm},{path:"photo-attribution",component:Nu},{path:"admin",loadChildren:()=>Promise.resolve().then(U.bind(U,4843)).then(d=>d.AdminModule)},{path:"login",component:nc},{path:"**",redirectTo:"",pathMatch:"full"}];let sc=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({imports:[[nr.Bz.forRoot(_m)],nr.Bz]}),d})();const Vp=function(){return{team:"varsity"}};let vm=(()=>{class d{constructor(u){this.today=new Date("2022-09-01"),u.collection("season_totals",p=>p.where("season","==",ia.N.CURRENT_SEASON).where("varsity","==",!0)).valueChanges().subscribe({next:p=>{const _=p[0],S=Af.getGoalDiff(_.goals_for,_.goals_against);_.goalDiff=S,this.seasonStats=_}})}}return d.\u0275fac=function(u){return new(u||d)(o.Y36(kl.ST))},d.\u0275cmp=o.Xpm({type:d,selectors:[["app-root"]],decls:60,vars:8,consts:[["id","header",1,"tt-nav","transparent-header"],[1,"header-sticky","semi-transparent"],[1,"container"],["id","materialize-menu",1,"menuzord"],["href","index.html",1,"logo-brand"],["src","../assets/img/WR_Logo.png","alt",""],[1,"logo-brand-text"],[1,"menuzord-menu","pull-right","light"],[1,"active"],["routerLink","home"],["routerLink","teams"],["routerLink","schedule",3,"queryParams"],[1,"footer","footer-four"],[1,"primary-footer","brand-bg","text-center"],["href","#top","data-section","#top",1,"page-scroll","btn-floating","btn-large","pink","back-top","waves-effect","waves-light"],[1,"material-icons"],[1,"social-link","tt-animate","ltr","mt-20"],["href","https://www.facebook.com/groups/wiregrasshockeyclub","target","_blank"],[1,"fa","fa-facebook"],["href","https://www.instagram.com/wrhs.hockey","target","_blank"],[1,"fa","fa-instagram"],[1,"mt-15"],[1,"row"],[1,"col-md-12"],[1,"footer-logo"],["src","../assets/img/WR.png","alt",""],[1,"copy-text"],["href","#"],[1,"footer-intro"],["routerLink","photo-attribution"],[1,"secondary-footer","brand-bg","darken-2","text-center"]],template:function(u,p){1&u&&(o.TgZ(0,"header",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"a",4),o._UZ(5,"img",5),o.TgZ(6,"div",6),o._uU(7,"Wiregrass Hockey"),o.qZA(),o.qZA(),o.TgZ(8,"ul",7),o.TgZ(9,"li",8),o.TgZ(10,"a",9),o._uU(11,"Home"),o.qZA(),o.qZA(),o.TgZ(12,"li"),o.TgZ(13,"a",10),o._uU(14,"Teams"),o.qZA(),o.qZA(),o.TgZ(15,"li"),o.TgZ(16,"a",11),o._uU(17,"Schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(18,"router-outlet"),o.TgZ(19,"footer",12),o.TgZ(20,"div",13),o.TgZ(21,"div",2),o.TgZ(22,"a",14),o.TgZ(23,"i",15),o._uU(24,"\ue316"),o.qZA(),o.qZA(),o.TgZ(25,"ul",16),o.TgZ(26,"li"),o.TgZ(27,"a",17),o._UZ(28,"i",18),o.qZA(),o.qZA(),o.TgZ(29,"li"),o.TgZ(30,"a",19),o._UZ(31,"i",20),o.qZA(),o.qZA(),o.qZA(),o._UZ(32,"hr",21),o.TgZ(33,"div",22),o.TgZ(34,"div",23),o.TgZ(35,"div",24),o._UZ(36,"img",25),o.qZA(),o.TgZ(37,"span",26),o._uU(38),o.ALo(39,"date"),o.TgZ(40,"a",27),o._uU(41,"Wiregrass Ranch Hockey Club"),o.qZA(),o._uU(42," \xa0 | \xa0 All Rights Reserved"),o.qZA(),o.TgZ(43,"div",28),o.TgZ(44,"p"),o._uU(45,"Many Photos Courtesy of Kristen Freed Photography. "),o.TgZ(46,"a",29),o._uU(47,"More Info"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(48,"div",30),o.TgZ(49,"div",2),o.TgZ(50,"ul"),o.TgZ(51,"li"),o.TgZ(52,"a",9),o._uU(53,"Home"),o.qZA(),o.qZA(),o.TgZ(54,"li"),o.TgZ(55,"a",10),o._uU(56,"Team"),o.qZA(),o.qZA(),o.TgZ(57,"li"),o.TgZ(58,"a",11),o._uU(59,"Schedule"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&u&&(o.xp6(16),o.Q6J("queryParams",o.DdM(6,Vp)),o.xp6(22),o.hij("Copyright \xa9 ",o.xi3(39,3,p.today,"YYYY")," "),o.xp6(20),o.Q6J("queryParams",o.DdM(7,Vp)))},directives:[nr.yS,nr.lC],pipes:[Q.uU],styles:[".logo-brand-text[_ngcontent-%COMP%]{font-family:Raleway;font-weight:700;text-transform:uppercase;color:#fff;width:325px!important;margin-top:-30px}.sticky[_ngcontent-%COMP%]   .logo-brand-text[_ngcontent-%COMP%]{margin-top:-15px!important}@media screen and (max-width: 767px){.logo-brand-text[_ngcontent-%COMP%]{display:none!important}}"]}),d})();var Vi=(()=>{return(d=Vi||(Vi={}))[d.loading=1]="loading",d[d.setVariables=2]="setVariables",d[d.fetchMore=3]="fetchMore",d[d.refetch=4]="refetch",d[d.poll=6]="poll",d[d.ready=7]="ready",d[d.error=8]="error",Vi;var d})();function Mh(d){return!!d&&d<7}var Ut=U(4762),oc="Invariant Violation",ma=Object.setPrototypeOf,bm=void 0===ma?function(d,a){return d.__proto__=a,d}:ma,Xi=function(d){function a(u){void 0===u&&(u=oc);var p=d.call(this,"number"==typeof u?oc+": "+u+" (see https://github.com/apollographql/invariant-packages)":u)||this;return p.framesToPop=1,p.name=oc,bm(p,a.prototype),p}return(0,Ut.ZT)(a,d),a}(Error);function Xn(d,a){if(!d)throw new Xi(a)}var d,bd=["debug","log","warn","error","silent"],Em=bd.indexOf("log");function Ed(d){return function(){if(bd.indexOf(d)>=Em){var a=console[d]||console.log;return a.apply(console,arguments)}}}function Ko(d){try{return d()}catch(a){}}(d=Xn||(Xn={})).debug=Ed("debug"),d.log=Ed("log"),d.warn=Ed("warn"),d.error=Ed("error");const pl=Ko(function(){return globalThis})||Ko(function(){return window})||Ko(function(){return self})||Ko(function(){return global})||Ko(function(){return Ko.constructor("return this")()});var Pl="__",Xy=[Pl,Pl].join("DEV");const Oh=function(){try{return Boolean(__DEV__)}catch(d){return Object.defineProperty(pl,Xy,{value:"production"!==Ko(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),pl[Xy]}}();function Xs(d){try{return d()}catch(a){}}var gl=Xs(function(){return globalThis})||Xs(function(){return window})||Xs(function(){return self})||Xs(function(){return global})||Xs(function(){return Xs.constructor("return this")()}),wd=!1;gl&&!Xs(function(){return"production"})&&!Xs(function(){return process})&&(Object.defineProperty(gl,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),wd=!0),"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.toStringTag&&Symbol;const Rh="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Cd(d){return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function Vu(d){return Td(d,[])}function Td(d,a){switch(Cd(d)){case"string":return JSON.stringify(d);case"function":return d.name?"[function ".concat(d.name,"]"):"[function]";case"object":return null===d?"null":function(d,a){if(-1!==a.indexOf(d))return"[Circular]";var u=[].concat(a,[d]),p=function(d){var a=d[String(Rh)];return"function"==typeof a?a:"function"==typeof d.inspect?d.inspect:void 0}(d);if(void 0!==p){var _=p.call(d);if(_!==d)return"string"==typeof _?_:Td(_,u)}else if(Array.isArray(d))return function(d,a){if(0===d.length)return"[]";if(a.length>2)return"[Array]";for(var u=Math.min(10,d.length),p=d.length-u,_=[],S=0;S<u;++S)_.push(Td(d[S],a));return 1===p?_.push("... 1 more item"):p>1&&_.push("... ".concat(p," more items")),"["+_.join(", ")+"]"}(d,u);return function(d,a){var u=Object.keys(d);if(0===u.length)return"{}";if(a.length>2)return"["+function(d){var a=Object.prototype.toString.call(d).replace(/^\[object /,"").replace(/]$/,"");if("Object"===a&&"function"==typeof d.constructor){var u=d.constructor.name;if("string"==typeof u&&""!==u)return u}return a}(d)+"]";var p=u.map(function(_){return _+": "+Td(d[_],a)});return"{ "+p.join(", ")+" }"}(d,u)}(d,a);default:return String(d)}}function Rf(d,a){(null==a||a>d.length)&&(a=d.length);for(var u=0,p=new Array(a);u<a;u++)p[u]=d[u];return p}function Ph(d,a){for(var u=0;u<a.length;u++){var p=a[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}function Dd(d,a,u){return a&&Ph(d.prototype,a),u&&Ph(d,u),Object.defineProperty(d,"prototype",{writable:!1}),d}wd&&(delete gl.process,wd=!1),__DEV__?Xn("boolean"==typeof Oh,Oh):Xn("boolean"==typeof Oh,36);var oa=function(){return"function"==typeof Symbol},Nh=function(d){return oa()&&Boolean(Symbol[d])},kf=function(d){return Nh(d)?Symbol[d]:"@@"+d};oa()&&!Nh("observable")&&(Symbol.observable=Symbol("observable"));var xm=kf("iterator"),Sc=kf("observable"),lu=kf("species");function Nl(d,a){var u=d[a];if(null!=u){if("function"!=typeof u)throw new TypeError(u+" is not a function");return u}}function yl(d){var a=d.constructor;return void 0!==a&&null===(a=a[lu])&&(a=void 0),void 0!==a?a:qi}function Ic(d){Ic.log?Ic.log(d):setTimeout(function(){throw d})}function Uu(d){Promise.resolve().then(function(){try{d()}catch(a){Ic(a)}})}function Bu(d){var a=d._cleanup;if(void 0!==a&&(d._cleanup=void 0,a))try{if("function"==typeof a)a();else{var u=Nl(a,"unsubscribe");u&&u.call(a)}}catch(p){Ic(p)}}function ju(d){d._observer=void 0,d._queue=void 0,d._state="closed"}function Pf(d,a,u){d._state="running";var p=d._observer;try{var _=Nl(p,a);switch(a){case"next":_&&_.call(p,u);break;case"error":if(ju(d),!_)throw u;_.call(p,u);break;case"complete":ju(d),_&&_.call(p)}}catch(S){Ic(S)}"closed"===d._state?Bu(d):"running"===d._state&&(d._state="ready")}function Fh(d,a,u){if("closed"!==d._state){if("buffering"===d._state)return void d._queue.push({type:a,value:u});if("ready"!==d._state)return d._state="buffering",d._queue=[{type:a,value:u}],void Uu(function(){return function(d){var a=d._queue;if(a){d._queue=void 0,d._state="ready";for(var u=0;u<a.length&&(Pf(d,a[u].type,a[u].value),"closed"!==d._state);++u);}}(d)});Pf(d,a,u)}}var Nf=function(){function d(u,p){this._cleanup=void 0,this._observer=u,this._queue=void 0,this._state="initializing";var _=new cu(this);try{this._cleanup=p.call(void 0,_)}catch(S){_.error(S)}"initializing"===this._state&&(this._state="ready")}return d.prototype.unsubscribe=function(){"closed"!==this._state&&(ju(this),Bu(this))},Dd(d,[{key:"closed",get:function(){return"closed"===this._state}}]),d}(),cu=function(){function d(u){this._subscription=u}var a=d.prototype;return a.next=function(p){Fh(this._subscription,"next",p)},a.error=function(p){Fh(this._subscription,"error",p)},a.complete=function(){Fh(this._subscription,"complete")},Dd(d,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),d}(),qi=function(){function d(u){if(!(this instanceof d))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof u)throw new TypeError("Observable initializer must be a function");this._subscriber=u}var a=d.prototype;return a.subscribe=function(p){return("object"!=typeof p||null===p)&&(p={next:p,error:arguments[1],complete:arguments[2]}),new Nf(p,this._subscriber)},a.forEach=function(p){var _=this;return new Promise(function(S,N){if("function"==typeof p)var te=_.subscribe({next:function(ue){try{p(ue,W)}catch(Pe){N(Pe),te.unsubscribe()}},error:N,complete:S});else N(new TypeError(p+" is not a function"));function W(){te.unsubscribe(),S()}})},a.map=function(p){var _=this;if("function"!=typeof p)throw new TypeError(p+" is not a function");return new(yl(this))(function(N){return _.subscribe({next:function(W){try{W=p(W)}catch(te){return N.error(te)}N.next(W)},error:function(W){N.error(W)},complete:function(){N.complete()}})})},a.filter=function(p){var _=this;if("function"!=typeof p)throw new TypeError(p+" is not a function");return new(yl(this))(function(N){return _.subscribe({next:function(W){try{if(!p(W))return}catch(te){return N.error(te)}N.next(W)},error:function(W){N.error(W)},complete:function(){N.complete()}})})},a.reduce=function(p){var _=this;if("function"!=typeof p)throw new TypeError(p+" is not a function");var S=yl(this),N=arguments.length>1,W=!1,te=arguments[1],ue=te;return new S(function(Pe){return _.subscribe({next:function(Ye){var Ze=!W;if(W=!0,!Ze||N)try{ue=p(ue,Ye)}catch(dt){return Pe.error(dt)}else ue=Ye},error:function(Ye){Pe.error(Ye)},complete:function(){if(!W&&!N)return Pe.error(new TypeError("Cannot reduce an empty sequence"));Pe.next(ue),Pe.complete()}})})},a.concat=function(){for(var p=this,_=arguments.length,S=new Array(_),N=0;N<_;N++)S[N]=arguments[N];var W=yl(this);return new W(function(te){var ue,Pe=0;return function Ye(Ze){ue=Ze.subscribe({next:function(dt){te.next(dt)},error:function(dt){te.error(dt)},complete:function(){Pe===S.length?(ue=void 0,te.complete()):Ye(W.from(S[Pe++]))}})}(p),function(){ue&&(ue.unsubscribe(),ue=void 0)}})},a.flatMap=function(p){var _=this;if("function"!=typeof p)throw new TypeError(p+" is not a function");var S=yl(this);return new S(function(N){var W=[],te=_.subscribe({next:function(Pe){if(p)try{Pe=p(Pe)}catch(Ze){return N.error(Ze)}var Ye=S.from(Pe).subscribe({next:function(Ze){N.next(Ze)},error:function(Ze){N.error(Ze)},complete:function(){var Ze=W.indexOf(Ye);Ze>=0&&W.splice(Ze,1),ue()}});W.push(Ye)},error:function(Pe){N.error(Pe)},complete:function(){ue()}});function ue(){te.closed&&0===W.length&&N.complete()}return function(){W.forEach(function(Pe){return Pe.unsubscribe()}),te.unsubscribe()}})},a[Sc]=function(){return this},d.from=function(p){var _="function"==typeof this?this:d;if(null==p)throw new TypeError(p+" is not an object");var S=Nl(p,Sc);if(S){var N=S.call(p);if(Object(N)!==N)throw new TypeError(N+" is not an object");return function(d){return d instanceof qi}(N)&&N.constructor===_?N:new _(function(W){return N.subscribe(W)})}if(Nh("iterator")&&(S=Nl(p,xm)))return new _(function(W){Uu(function(){if(!W.closed){for(var ue,te=function(d,a){var u="undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(u)return(u=u.call(d)).next.bind(u);if(Array.isArray(d)||(u=function(d,a){if(d){if("string"==typeof d)return Rf(d,a);var u=Object.prototype.toString.call(d).slice(8,-1);if("Object"===u&&d.constructor&&(u=d.constructor.name),"Map"===u||"Set"===u)return Array.from(d);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Rf(d,a)}}(d))||a&&d&&"number"==typeof d.length){u&&(d=u);var p=0;return function(){return p>=d.length?{done:!0}:{done:!1,value:d[p++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(S.call(p));!(ue=te()).done;)if(W.next(ue.value),W.closed)return;W.complete()}})});if(Array.isArray(p))return new _(function(W){Uu(function(){if(!W.closed){for(var te=0;te<p.length;++te)if(W.next(p[te]),W.closed)return;W.complete()}})});throw new TypeError(p+" is not observable")},d.of=function(){for(var p=arguments.length,_=new Array(p),S=0;S<p;S++)_[S]=arguments[S];var N="function"==typeof this?this:d;return new N(function(W){Uu(function(){if(!W.closed){for(var te=0;te<_.length;++te)if(W.next(_[te]),W.closed)return;W.complete()}})})},Dd(d,null,[{key:lu,get:function(){return this}}]),d}();function Zs(d){return null!==d&&"object"==typeof d}function Rm(d,a){var u=a,p=[];return d.definitions.forEach(function(S){if("OperationDefinition"===S.kind)throw __DEV__?new Xi("Found a ".concat(S.operation," operation").concat(S.name?" named '".concat(S.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Xi(41);"FragmentDefinition"===S.kind&&p.push(S)}),void 0===u&&(__DEV__?Xn(1===p.length,"Found ".concat(p.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Xn(1===p.length,42),u=p[0].name.value),(0,Ut.pi)((0,Ut.pi)({},d),{definitions:(0,Ut.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:u}}]}}],d.definitions,!0)})}function Lh(d){void 0===d&&(d=[]);var a={};return d.forEach(function(u){a[u.name.value]=u}),a}function Vh(d,a){switch(d.kind){case"InlineFragment":return d;case"FragmentSpread":var u=a&&a[d.name.value];return __DEV__?Xn(u,"No fragment named ".concat(d.name.value,".")):Xn(u,43),u;default:return null}}function Hu(d){return{__ref:String(d)}}function Oi(d){return Boolean(d&&"object"==typeof d&&"string"==typeof d.__ref)}function Ac(d,a,u,p){if(function(d){return"IntValue"===d.kind}(u)||function(d){return"FloatValue"===d.kind}(u))d[a.value]=Number(u.value);else if(function(d){return"BooleanValue"===d.kind}(u)||function(d){return"StringValue"===d.kind}(u))d[a.value]=u.value;else if(function(d){return"ObjectValue"===d.kind}(u)){var _={};u.fields.map(function(N){return Ac(_,N.name,N.value,p)}),d[a.value]=_}else if(function(d){return"Variable"===d.kind}(u))d[a.value]=(p||{})[u.name.value];else if(function(d){return"ListValue"===d.kind}(u))d[a.value]=u.values.map(function(N){var W={};return Ac(W,a,N,p),W[a.value]});else if(function(d){return"EnumValue"===d.kind}(u))d[a.value]=u.value;else{if(!function(d){return"NullValue"===d.kind}(u))throw __DEV__?new Xi('The inline argument "'.concat(a.value,'" of kind "').concat(u.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Xi(52);d[a.value]=null}}oa()&&Object.defineProperty(qi,Symbol("extensions"),{value:{symbol:Sc,hostReportError:Ic},configurable:!0});var Gp=["connection","include","skip","client","rest","export"],Lf=Object.assign(function(d,a,u){if(a&&u&&u.connection&&u.connection.key){if(u.connection.filter&&u.connection.filter.length>0){var p=u.connection.filter?u.connection.filter:[];p.sort();var _={};return p.forEach(function(W){_[W]=a[W]}),"".concat(u.connection.key,"(").concat(Fo(_),")")}return u.connection.key}var S=d;if(a){var N=Fo(a);S+="(".concat(N,")")}return u&&Object.keys(u).forEach(function(W){-1===Gp.indexOf(W)&&(u[W]&&Object.keys(u[W]).length?S+="@".concat(W,"(").concat(Fo(u[W]),")"):S+="@".concat(W))}),S},{setStringify:function(d){var a=Fo;return Fo=d,a}}),Fo=function(a){return JSON.stringify(a,Nm)};function Nm(d,a){return Zs(a)&&!Array.isArray(a)&&(a=Object.keys(a).sort().reduce(function(u,p){return u[p]=a[p],u},{})),a}function Br(d,a){if(d.arguments&&d.arguments.length){var u={};return d.arguments.forEach(function(p){return Ac(u,p.name,p.value,a)}),u}return null}function Fl(d){return d.alias?d.alias.value:d.name.value}function jh(d,a,u){if("string"==typeof d.__typename)return d.__typename;for(var p=0,_=a.selections;p<_.length;p++){var S=_[p];if(wo(S)){if("__typename"===S.name.value)return d[Fl(S)]}else{var N=jh(d,Vh(S,u).selectionSet,u);if("string"==typeof N)return N}}}function wo(d){return"Field"===d.kind}function Yo(d){return"InlineFragment"===d.kind}function Id(d){__DEV__?Xn(d&&"Document"===d.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Xn(d&&"Document"===d.kind,44);var a=d.definitions.filter(function(u){return"FragmentDefinition"!==u.kind}).map(function(u){if("OperationDefinition"!==u.kind)throw __DEV__?new Xi('Schema type definitions not allowed in queries. Found: "'.concat(u.kind,'"')):new Xi(45);return u});return __DEV__?Xn(a.length<=1,"Ambiguous GraphQL document: contains ".concat(a.length," operations")):Xn(a.length<=1,46),d}function Ll(d){return Id(d),d.definitions.filter(function(a){return"OperationDefinition"===a.kind})[0]}function Hh(d){return d.definitions.filter(function(a){return"OperationDefinition"===a.kind&&a.name}).map(function(a){return a.name.value})[0]||null}function Qo(d){return d.definitions.filter(function(a){return"FragmentDefinition"===a.kind})}function Zh(d){var a=Ll(d);return __DEV__?Xn(a&&"query"===a.operation,"Must contain a query definition."):Xn(a&&"query"===a.operation,47),a}function Ad(d){Id(d);for(var a,u=0,p=d.definitions;u<p.length;u++){var _=p[u];if("OperationDefinition"===_.kind){var S=_.operation;if("query"===S||"mutation"===S||"subscription"===S)return _}"FragmentDefinition"===_.kind&&!a&&(a=_)}if(a)return a;throw __DEV__?new Xi("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Xi(51)}function Fm(d){var a=Object.create(null),u=d&&d.variableDefinitions;return u&&u.length&&u.forEach(function(p){p.defaultValue&&Ac(a,p.variable.name,p.defaultValue)}),a}function ac(d,a){return a?a(d):qi.of()}function Vl(d){return"function"==typeof d?new Md(d):d}function hu(d){return d.request.length<=1}var qp=function(d){function a(u,p){var _=d.call(this,u)||this;return _.link=p,_}return(0,Ut.ZT)(a,d),a}(Error),Md=function(){function d(a){a&&(this.request=a)}return d.empty=function(){return new d(function(){return qi.of()})},d.from=function(a){return 0===a.length?d.empty():a.map(Vl).reduce(function(u,p){return u.concat(p)})},d.split=function(a,u,p){var _=Vl(u),S=Vl(p||new d(ac));return hu(_)&&hu(S)?new d(function(N){return a(N)?_.request(N)||qi.of():S.request(N)||qi.of()}):new d(function(N,W){return a(N)?_.request(N,W)||qi.of():S.request(N,W)||qi.of()})},d.execute=function(a,u){return a.request(function(d,a){var u=(0,Ut.pi)({},d);return Object.defineProperty(a,"setContext",{enumerable:!1,value:function(S){u=(0,Ut.pi)((0,Ut.pi)({},u),"function"==typeof S?S(u):S)}}),Object.defineProperty(a,"getContext",{enumerable:!1,value:function(){return(0,Ut.pi)({},u)}}),a}(u.context,function(d){var a={variables:d.variables||{},extensions:d.extensions||{},operationName:d.operationName,query:d.query};return a.operationName||(a.operationName="string"!=typeof a.query?Hh(a.query)||void 0:""),a}(function(d){for(var a=["query","operationName","variables","extensions","context"],u=0,p=Object.keys(d);u<p.length;u++){var _=p[u];if(a.indexOf(_)<0)throw __DEV__?new Xi("illegal argument: ".concat(_)):new Xi(24)}return d}(u))))||qi.of()},d.concat=function(a,u){var p=Vl(a);if(hu(p))return __DEV__&&Xn.warn(new qp("You are calling concat on a terminating link, which will have no effect",p)),p;var _=Vl(u);return hu(_)?new d(function(S){return p.request(S,function(N){return _.request(N)||qi.of()})||qi.of()}):new d(function(S,N){return p.request(S,function(W){return _.request(W,N)||qi.of()})||qi.of()})},d.prototype.split=function(a,u,p){return this.concat(d.split(a,u,p||new d(ac)))},d.prototype.concat=function(a){return d.concat(this,a)},d.prototype.request=function(a,u){throw __DEV__?new Xi("request is not implemented"):new Xi(19)},d.prototype.onError=function(a,u){if(u&&u.error)return u.error(a),!1;throw a},d.prototype.setOnError=function(a){return this.onError=a,this},d}(),$p=Md.execute;function xd(d){var a=d.prototype.toJSON;"function"==typeof a||function(d,a){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),d.prototype.inspect=a,Rh&&(d.prototype[Rh]=a)}var o_=function(){function d(u,p,_){this.start=u.start,this.end=p.end,this.startToken=u,this.endToken=p,this.source=_}return d.prototype.toJSON=function(){return{start:this.start,end:this.end}},d}();xd(o_);var Wp=function(){function d(u,p,_,S,N,W,te){this.kind=u,this.start=p,this.end=_,this.line=S,this.column=N,this.value=te,this.prev=W,this.next=null}return d.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},d}();function Kp(d){return null!=d&&"string"==typeof d.kind}xd(Wp);var Vm={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},fu=Object.freeze({});function Oc(d,a){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vm,p=void 0,_=Array.isArray(d),S=[d],N=-1,W=[],te=void 0,ue=void 0,Pe=void 0,Ye=[],Ze=[],dt=d;do{var Gt=++N===S.length,Xt=Gt&&0!==W.length;if(Gt){if(ue=0===Ze.length?void 0:Ye[Ye.length-1],te=Pe,Pe=Ze.pop(),Xt){if(_)te=te.slice();else{for(var gn={},Mn=0,or=Object.keys(te);Mn<or.length;Mn++){var In=or[Mn];gn[In]=te[In]}te=gn}for(var er=0,jr=0;jr<W.length;jr++){var Fr=W[jr][0],Hr=W[jr][1];_&&(Fr-=er),_&&null===Hr?(te.splice(Fr,1),er++):te[Fr]=Hr}}N=p.index,S=p.keys,W=p.edits,_=p.inArray,p=p.prev}else{if(ue=Pe?_?N:S[N]:void 0,null==(te=Pe?Pe[ue]:dt))continue;Pe&&Ye.push(ue)}var $i,ri=void 0;if(!Array.isArray(te)){if(!Kp(te))throw new Error("Invalid AST Node: ".concat(Vu(te),"."));var eo=Co(a,te.kind,Gt);if(eo){if((ri=eo.call(a,te,ue,Pe,Ye,Ze))===fu)break;if(!1===ri){if(!Gt){Ye.pop();continue}}else if(void 0!==ri&&(W.push([ue,ri]),!Gt)){if(!Kp(ri)){Ye.pop();continue}te=ri}}}void 0===ri&&Xt&&W.push([ue,te]),Gt?Ye.pop():(p={inArray:_,index:N,keys:S,edits:W,prev:p},S=(_=Array.isArray(te))?te:null!==($i=u[te.kind])&&void 0!==$i?$i:[],N=-1,W=[],Pe&&Ze.push(Pe),Pe=te)}while(void 0!==p);return 0!==W.length&&(dt=W[W.length-1][1]),dt}function Co(d,a,u){var p=d[a];if(p){if(!u&&"function"==typeof p)return p;var _=u?p.leave:p.enter;if("function"==typeof _)return _}else{var S=u?d.leave:d.enter;if(S){if("function"==typeof S)return S;var N=S[a];if("function"==typeof N)return N}}}var Um=function(d,a){var u;try{u=JSON.stringify(d)}catch(_){var p=__DEV__?new Xi("Network request failed. ".concat(a," is not serializable: ").concat(_.message)):new Xi(21);throw p.parseError=_,p}return u},l_=function(d,a,u){var p=new Error(u);throw p.name="ServerError",p.response=d,p.statusCode=d.status,p.result=a,p},c_=Object.prototype.hasOwnProperty;function Vf(d){return Oc(d,{leave:kd})}var kd={Name:function(a){return a.value},Variable:function(a){return"$"+a.name},Document:function(a){return sr(a.definitions,"\n\n")+"\n"},OperationDefinition:function(a){var u=a.operation,p=a.name,_=Ui("(",sr(a.variableDefinitions,", "),")"),S=sr(a.directives," "),N=a.selectionSet;return p||S||_||"query"!==u?sr([u,sr([p,_]),S,N]," "):N},VariableDefinition:function(a){var S=a.directives;return a.variable+": "+a.type+Ui(" = ",a.defaultValue)+Ui(" ",sr(S," "))},SelectionSet:function(a){return _l(a.selections)},Field:function(a){var p=a.name,_=a.arguments,S=a.directives,N=a.selectionSet,W=Ui("",a.alias,": ")+p,te=W+Ui("(",sr(_,", "),")");return te.length>80&&(te=W+Ui("(\n",Pd(sr(_,"\n")),"\n)")),sr([te,sr(S," "),N]," ")},Argument:function(a){return a.name+": "+a.value},FragmentSpread:function(a){return"..."+a.name+Ui(" ",sr(a.directives," "))},InlineFragment:function(a){var p=a.directives,_=a.selectionSet;return sr(["...",Ui("on ",a.typeCondition),sr(p," "),_]," ")},FragmentDefinition:function(a){var p=a.typeCondition,_=a.variableDefinitions,S=a.directives,N=a.selectionSet;return"fragment ".concat(a.name).concat(Ui("(",sr(_,", "),")")," ")+"on ".concat(p," ").concat(Ui("",sr(S," ")," "))+N},IntValue:function(a){return a.value},FloatValue:function(a){return a.value},StringValue:function(a,u){var p=a.value;return a.block?function(d){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=-1===d.indexOf("\n"),_=" "===d[0]||"\t"===d[0],S='"'===d[d.length-1],N="\\"===d[d.length-1],W=!p||S||N||u,te="";return W&&!(p&&_)&&(te+="\n"+a),te+=a?d.replace(/\n/g,"\n"+a):d,W&&(te+="\n"),'"""'+te.replace(/"""/g,'\\"""')+'"""'}(p,"description"===u?"":"  "):JSON.stringify(p)},BooleanValue:function(a){return a.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(a){return a.value},ListValue:function(a){return"["+sr(a.values,", ")+"]"},ObjectValue:function(a){return"{"+sr(a.fields,", ")+"}"},ObjectField:function(a){return a.name+": "+a.value},Directive:function(a){return"@"+a.name+Ui("(",sr(a.arguments,", "),")")},NamedType:function(a){return a.name},ListType:function(a){return"["+a.type+"]"},NonNullType:function(a){return a.type+"!"},SchemaDefinition:ka(function(d){var u=d.operationTypes;return sr(["schema",sr(d.directives," "),_l(u)]," ")}),OperationTypeDefinition:function(a){return a.operation+": "+a.type},ScalarTypeDefinition:ka(function(d){return sr(["scalar",d.name,sr(d.directives," ")]," ")}),ObjectTypeDefinition:ka(function(d){var p=d.directives,_=d.fields;return sr(["type",d.name,Ui("implements ",sr(d.interfaces," & ")),sr(p," "),_l(_)]," ")}),FieldDefinition:ka(function(d){var u=d.arguments,p=d.type,_=d.directives;return d.name+(Yp(u)?Ui("(\n",Pd(sr(u,"\n")),"\n)"):Ui("(",sr(u,", "),")"))+": "+p+Ui(" ",sr(_," "))}),InputValueDefinition:ka(function(d){var _=d.directives;return sr([d.name+": "+d.type,Ui("= ",d.defaultValue),sr(_," ")]," ")}),InterfaceTypeDefinition:ka(function(d){var p=d.directives,_=d.fields;return sr(["interface",d.name,Ui("implements ",sr(d.interfaces," & ")),sr(p," "),_l(_)]," ")}),UnionTypeDefinition:ka(function(d){var p=d.types;return sr(["union",d.name,sr(d.directives," "),p&&0!==p.length?"= "+sr(p," | "):""]," ")}),EnumTypeDefinition:ka(function(d){var p=d.values;return sr(["enum",d.name,sr(d.directives," "),_l(p)]," ")}),EnumValueDefinition:ka(function(d){return sr([d.name,sr(d.directives," ")]," ")}),InputObjectTypeDefinition:ka(function(d){var p=d.fields;return sr(["input",d.name,sr(d.directives," "),_l(p)]," ")}),DirectiveDefinition:ka(function(d){var u=d.arguments,p=d.repeatable,_=d.locations;return"directive @"+d.name+(Yp(u)?Ui("(\n",Pd(sr(u,"\n")),"\n)"):Ui("(",sr(u,", "),")"))+(p?" repeatable":"")+" on "+sr(_," | ")}),SchemaExtension:function(a){var p=a.operationTypes;return sr(["extend schema",sr(a.directives," "),_l(p)]," ")},ScalarTypeExtension:function(a){return sr(["extend scalar",a.name,sr(a.directives," ")]," ")},ObjectTypeExtension:function(a){var _=a.directives,S=a.fields;return sr(["extend type",a.name,Ui("implements ",sr(a.interfaces," & ")),sr(_," "),_l(S)]," ")},InterfaceTypeExtension:function(a){var _=a.directives,S=a.fields;return sr(["extend interface",a.name,Ui("implements ",sr(a.interfaces," & ")),sr(_," "),_l(S)]," ")},UnionTypeExtension:function(a){var _=a.types;return sr(["extend union",a.name,sr(a.directives," "),_&&0!==_.length?"= "+sr(_," | "):""]," ")},EnumTypeExtension:function(a){var _=a.values;return sr(["extend enum",a.name,sr(a.directives," "),_l(_)]," ")},InputObjectTypeExtension:function(a){var _=a.fields;return sr(["extend input",a.name,sr(a.directives," "),_l(_)]," ")}};function ka(d){return function(a){return sr([a.description,d(a)],"\n")}}function sr(d){var a,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(a=null==d?void 0:d.filter(function(p){return p}).join(u))&&void 0!==a?a:""}function _l(d){return Ui("{\n",Pd(sr(d,"\n")),"\n}")}function Ui(d,a){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=a&&""!==a?d+a+u:""}function Pd(d){return Ui("  ",d.replace(/\n/g,"\n  "))}function jm(d){return-1!==d.indexOf("\n")}function Yp(d){return null!=d&&d.some(jm)}var Gm={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},qm=function(d,a){return a(d)};function qh(d){if(d){var a=Object.create(null);return Object.keys(Object(d)).forEach(function(u){a[u.toLowerCase()]=d[u]}),a}return d}function pu(d){return new qi(function(a){a.error(d)})}var Jp=Ko(function(){return fetch}),$m=function(d){void 0===d&&(d={});var a=d.uri,u=void 0===a?"/graphql":a,p=d.fetch,_=d.print,S=void 0===_?qm:_,N=d.includeExtensions,W=d.useGETForQueries,te=d.includeUnusedVariables,ue=void 0!==te&&te,Pe=(0,Ut._T)(d,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(d){if(!d&&"undefined"==typeof fetch)throw __DEV__?new Xi("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new Xi(20)}(p||Jp);var Ye={http:{includeExtensions:N},options:Pe.fetchOptions,credentials:Pe.credentials,headers:Pe.headers};return new Md(function(Ze){var dt=function(d,a){return d.getContext().uri||("function"==typeof a?a(d):a||"/graphql")}(Ze,u),Gt=Ze.getContext(),Xt={};if(Gt.clientAwareness){var gn=Gt.clientAwareness,Mn=gn.name,or=gn.version;Mn&&(Xt["apollographql-client-name"]=Mn),or&&(Xt["apollographql-client-version"]=or)}var eo,In=(0,Ut.pi)((0,Ut.pi)({},Xt),Gt.headers),jr=function(d,a){for(var u=[],p=2;p<arguments.length;p++)u[p-2]=arguments[p];var _={},S={};u.forEach(function(Ye){_=(0,Ut.pi)((0,Ut.pi)((0,Ut.pi)({},_),Ye.options),{headers:(0,Ut.pi)((0,Ut.pi)({},_.headers),qh(Ye.headers))}),Ye.credentials&&(_.credentials=Ye.credentials),S=(0,Ut.pi)((0,Ut.pi)({},S),Ye.http)});var W=d.extensions,ue=d.query,Pe={operationName:d.operationName,variables:d.variables};return S.includeExtensions&&(Pe.extensions=W),S.includeQuery&&(Pe.query=a(ue,Vf)),{options:_,body:Pe}}(Ze,S,Gm,Ye,{http:Gt.http,options:Gt.fetchOptions,credentials:Gt.credentials,headers:In}),Fr=jr.options,Hr=jr.body;if(Hr.variables&&!ue){var ri=new Set(Object.keys(Hr.variables));Oc(Ze.query,{Variable:function(Pi,_p,qs){qs&&"VariableDefinition"!==qs.kind&&ri.delete(Pi.name.value)}}),ri.size&&(Hr.variables=(0,Ut.pi)({},Hr.variables),ri.forEach(function(Pi){delete Hr.variables[Pi]}))}if(!Fr.signal){var $i=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var d=new AbortController;return{controller:d,signal:d.signal}}();(eo=$i.controller)&&(Fr.signal=$i.signal)}if(W&&!Ze.query.definitions.some(function(Pi){return"OperationDefinition"===Pi.kind&&"mutation"===Pi.operation})&&(Fr.method="GET"),"GET"===Fr.method){var Ay=function(d,a){var u=[],p=function(Ye,Ze){u.push("".concat(Ye,"=").concat(encodeURIComponent(Ze)))};if("query"in a&&p("query",a.query),a.operationName&&p("operationName",a.operationName),a.variables){var _=void 0;try{_=Um(a.variables,"Variables map")}catch(Ye){return{parseError:Ye}}p("variables",_)}if(a.extensions){var S=void 0;try{S=Um(a.extensions,"Extensions map")}catch(Ye){return{parseError:Ye}}p("extensions",S)}var N="",W=d,te=d.indexOf("#");-1!==te&&(N=d.substr(te),W=d.substr(0,te));var ue=-1===W.indexOf("?")?"?":"&";return{newURI:W+ue+u.join("&")+N}}(dt,Hr),yp=Ay.newURI,uf=Ay.parseError;if(uf)return pu(uf);dt=yp}else try{Fr.body=Um(Hr,"Payload")}catch(Pi){return pu(Pi)}return new qi(function(Pi){return(p||Ko(function(){return fetch})||Jp)(dt,Fr).then(function(qs){return Ze.setContext({response:qs}),qs}).then(function(d){return function(a){return a.text().then(function(u){try{return JSON.parse(u)}catch(_){var p=_;throw p.name="ServerParseError",p.response=a,p.statusCode=a.status,p.bodyText=u,p}}).then(function(u){return a.status>=300&&l_(a,u,"Response not successful: Received status code ".concat(a.status)),!Array.isArray(u)&&!c_.call(u,"data")&&!c_.call(u,"errors")&&l_(a,u,"Server response was missing for query '".concat(Array.isArray(d)?d.map(function(p){return p.operationName}):d.operationName,"'.")),u})}}(Ze)).then(function(qs){return Pi.next(qs),Pi.complete(),qs}).catch(function(qs){"AbortError"!==qs.name&&(qs.result&&qs.result.errors&&qs.result.data&&Pi.next(qs.result),Pi.error(qs))}),function(){eo&&eo.abort()}})})},Uf=function(d){function a(u){void 0===u&&(u={});var p=d.call(this,$m(u).request)||this;return p.options=u,p}return(0,Ut.ZT)(a,d),a}(Md),Bf=Object.prototype,Fd=Bf.toString,Xp=Bf.hasOwnProperty,Ld=Function.prototype.toString,$h=new Map;function Gs(d,a){try{return Vd(d,a)}finally{$h.clear()}}function Vd(d,a){if(d===a)return!0;var u=Fd.call(d);if(u!==Fd.call(a))return!1;switch(u){case"[object Array]":if(d.length!==a.length)return!1;case"[object Object]":if(tg(d,a))return!0;var _=Ud(d),S=Ud(a),N=_.length;if(N!==S.length)return!1;for(var W=0;W<N;++W)if(!Xp.call(a,_[W]))return!1;for(W=0;W<N;++W){var te=_[W];if(!Vd(d[te],a[te]))return!1}return!0;case"[object Error]":return d.name===a.name&&d.message===a.message;case"[object Number]":if(d!=d)return a!=a;case"[object Boolean]":case"[object Date]":return+d==+a;case"[object RegExp]":case"[object String]":return d=="".concat(a);case"[object Map]":case"[object Set]":if(d.size!==a.size)return!1;if(tg(d,a))return!0;for(var ue=d.entries(),Pe="[object Map]"===u;;){var Ye=ue.next();if(Ye.done)break;var Ze=Ye.value,dt=Ze[0],Gt=Ze[1];if(!a.has(dt)||Pe&&!Vd(Gt,a.get(dt)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":d=new Uint8Array(d),a=new Uint8Array(a);case"[object DataView]":var Xt=d.byteLength;if(Xt===a.byteLength)for(;Xt--&&d[Xt]===a[Xt];);return-1===Xt;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var gn=Ld.call(d);return gn===Ld.call(a)&&!function(d,a){var u=d.length-a.length;return u>=0&&d.indexOf(a,u)===u}(gn,eg)}return!1}function Ud(d){return Object.keys(d).filter(jf,d)}function jf(d){return void 0!==this[d]}var eg="{ [native code] }";function tg(d,a){var u=$h.get(d);if(u){if(u.has(a))return!0}else $h.set(d,u=new Set);return u.add(a),!1}var h_=function(){return Object.create(null)},ya=Array.prototype,f_=ya.forEach,p_=ya.slice,Zf=function(){function d(a,u){void 0===a&&(a=!0),void 0===u&&(u=h_),this.weakness=a,this.makeData=u}return d.prototype.lookup=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return this.lookupArray(a)},d.prototype.lookupArray=function(a){var u=this;return f_.call(a,function(p){return u=u.getChildTrie(p)}),u.data||(u.data=this.makeData(p_.call(a)))},d.prototype.getChildTrie=function(a){var u=this.weakness&&function(d){switch(typeof d){case"object":if(null===d)break;case"function":return!0}return!1}(a)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),p=u.get(a);return p||u.set(a,p=new d(this.weakness,this.makeData)),p},d}(),Ul="function"==typeof WeakMap&&"ReactNative"!==Ko(function(){return navigator.product}),Gf="function"==typeof WeakSet,ng="function"==typeof Symbol&&"function"==typeof Symbol.for;function $f(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];var u=Object.create(null);return d.forEach(function(p){!p||Object.keys(p).forEach(function(_){var S=p[_];void 0!==S&&(u[_]=S)})}),u}function zf(d,a){var u=d.directives;return!u||!u.length||function(d){var a=[];return d&&d.length&&d.forEach(function(u){if(function(d){var a=d.name.value;return"skip"===a||"include"===a}(u)){var p=u.arguments,_=u.name.value;__DEV__?Xn(p&&1===p.length,"Incorrect number of arguments for the @".concat(_," directive.")):Xn(p&&1===p.length,38);var S=p[0];__DEV__?Xn(S.name&&"if"===S.name.value,"Invalid argument for the @".concat(_," directive.")):Xn(S.name&&"if"===S.name.value,39);var N=S.value;__DEV__?Xn(N&&("Variable"===N.kind||"BooleanValue"===N.kind),"Argument for the @".concat(_," directive must be a variable or a boolean value.")):Xn(N&&("Variable"===N.kind||"BooleanValue"===N.kind),40),a.push({directive:u,ifArgument:S})}}),a}(u).every(function(p){var _=p.directive,S=p.ifArgument,N=!1;return"Variable"===S.value.kind?(N=a&&a[S.value.name.value],__DEV__?Xn(void 0!==N,"Invalid variable referenced in @".concat(_.name.value," directive.")):Xn(void 0!==N,37)):N=S.value.value,"skip"===_.name.value?!N:N})}function Gu(d,a){return function(d){var a=[];return Oc(d,{Directive:function(u){a.push(u.name.value)}}),a}(a).some(function(u){return d.indexOf(u)>-1})}function Wf(d){return d&&Gu(["client"],d)&&Gu(["export"],d)}Ko(function(){return window.document.createElement}),Ko(function(){return navigator.userAgent.indexOf("jsdom")>=0});var zh=Object.prototype.hasOwnProperty;function qu(){for(var d=[],a=0;a<arguments.length;a++)d[a]=arguments[a];return Wh(d)}function Wh(d){var a=d[0]||{},u=d.length;if(u>1)for(var p=new lc,_=1;_<u;++_)a=p.merge(a,d[_]);return a}var Bl=function(d,a,u){return this.merge(d[u],a[u])},lc=function(){function d(a){void 0===a&&(a=Bl),this.reconciler=a,this.isObject=Zs,this.pastCopies=new Set}return d.prototype.merge=function(a,u){for(var p=this,_=[],S=2;S<arguments.length;S++)_[S-2]=arguments[S];return Zs(u)&&Zs(a)?(Object.keys(u).forEach(function(N){if(zh.call(a,N)){var W=a[N];if(u[N]!==W){var te=p.reconciler.apply(p,(0,Ut.ev)([a,u,N],_,!1));te!==W&&((a=p.shallowCopyForMerge(a))[N]=te)}}else(a=p.shallowCopyForMerge(a))[N]=u[N]}),a):u},d.prototype.shallowCopyForMerge=function(a){return Zs(a)&&(this.pastCopies.has(a)||(a=Array.isArray(a)?a.slice(0):(0,Ut.pi)({__proto__:Object.getPrototypeOf(a)},a),this.pastCopies.add(a))),a},d}(),go=Object.prototype.hasOwnProperty;function Pc(d,a){var u=d.__typename,p=d.id,_=d._id;if("string"==typeof u&&(a&&(a.keyObject=void 0!==p?{id:p}:void 0!==_?{_id:_}:void 0),void 0===p&&(p=_),void 0!==p))return"".concat(u,":").concat("number"==typeof p||"string"==typeof p?p:JSON.stringify(p))}var Km={dataIdFromObject:Pc,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Kf(d){var a=d.canonizeResults;return void 0===a?Km.canonizeResults:a}var Yf=/^[_a-z][_0-9a-z]*/i;function cc(d){var a=d.match(Yf);return a?a[0]:d}function Kh(d,a,u){return!!Zs(a)&&(Fs(a)?a.every(function(p){return Kh(d,p,u)}):d.selections.every(function(p){if(wo(p)&&zf(p,u)){var _=Fl(p);return go.call(a,_)&&(!p.selectionSet||Kh(p.selectionSet,a[_],u))}return!0}))}function Nc(d){return Zs(d)&&!Oi(d)&&!Fs(d)}var Qf,Jf,Fs=function(d){return Array.isArray(d)},$u=function(){function d(){this.known=new(Gf?WeakSet:Set),this.pool=new Zf(Ul),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return d.prototype.isKnown=function(a){return Zs(a)&&this.known.has(a)},d.prototype.pass=function(a){if(Zs(a)){var u=function(d){return Zs(d)?Fs(d)?d.slice(0):(0,Ut.pi)({__proto__:Object.getPrototypeOf(d)},d):d}(a);return this.passes.set(u,a),u}return a},d.prototype.admit=function(a){var u=this;if(Zs(a)){var p=this.passes.get(a);if(p)return p;switch(Object.getPrototypeOf(a)){case Array.prototype:if(this.known.has(a))return a;var S=a.map(this.admit,this);return(N=this.pool.lookupArray(S)).array||(this.known.add(N.array=S),__DEV__&&Object.freeze(S)),N.array;case null:case Object.prototype:if(this.known.has(a))return a;var W=Object.getPrototypeOf(a),te=[W],ue=this.sortedKeys(a);te.push(ue.json);var N,Pe=te.length;if(ue.sorted.forEach(function(dt){te.push(u.admit(a[dt]))}),!(N=this.pool.lookupArray(te)).object){var Ye=N.object=Object.create(W);this.known.add(Ye),ue.sorted.forEach(function(dt,Gt){Ye[dt]=te[Pe+Gt]}),__DEV__&&Object.freeze(Ye)}return N.object}}return a},d.prototype.sortedKeys=function(a){var u=Object.keys(a),p=this.pool.lookupArray(u);if(!p.keys){u.sort();var _=JSON.stringify(u);(p.keys=this.keysByJSON.get(_))||this.keysByJSON.set(_,p.keys={sorted:u,json:_})}return p.keys},d}(),Fc=Object.assign(function(d){if(Zs(d)){void 0===Qf&&ig();var a=Qf.admit(d),u=Jf.get(a);return void 0===u&&Jf.set(a,u=JSON.stringify(a)),u}return JSON.stringify(d)},{reset:ig});function ig(){Qf=new $u,Jf=new(Ul?WeakMap:Map)}function Yh(d,a,u){return new qi(function(p){var _=p.next,S=p.error,N=p.complete,W=0,te=!1,ue={then:function(dt){return new Promise(function(Gt){return Gt(dt())})}};function Pe(dt,Gt){return dt?function(Xt){++W;var gn=function(){return dt(Xt)};ue=ue.then(gn,gn).then(function(Mn){--W,_&&_.call(p,Mn),te&&Ye.complete()},function(Mn){throw--W,Mn}).catch(function(Mn){S&&S.call(p,Mn)})}:function(Xt){return Gt&&Gt.call(p,Xt)}}var Ye={next:Pe(a,_),error:Pe(u,S),complete:function(){te=!0,W||N&&N.call(p)}},Ze=d.subscribe(Ye);return function(){return Ze.unsubscribe()}})}function Qh(d){return d.errors&&d.errors.length>0||!1}function Qm(d,a,u){var p=0;return d.forEach(function(_,S){a.call(this,_,S,d)&&(d[p++]=_)},u),d.length=p,d}var Jh={kind:"Field",name:{kind:"Name",value:"__typename"}};function sg(d,a){return d.selectionSet.selections.every(function(u){return"FragmentSpread"===u.kind&&sg(a[u.name.value],a)})}function Zd(d){return sg(Ll(d)||function(d){__DEV__?Xn("Document"===d.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Xn("Document"===d.kind,48),__DEV__?Xn(d.definitions.length<=1,"Fragment must have exactly one definition."):Xn(d.definitions.length<=1,49);var a=d.definitions[0];return __DEV__?Xn("FragmentDefinition"===a.kind,"Must be a fragment definition."):Xn("FragmentDefinition"===a.kind,50),a}(d),Lh(Qo(d)))?null:d}function Xf(d){return function(u){return d.some(function(p){return p.name&&p.name===u.name.value||p.test&&p.test(u)})}}function Xh(d,a){var u=Object.create(null),p=[],_=Object.create(null),S=[],N=Zd(Oc(a,{Variable:{enter:function(W,te,ue){"VariableDefinition"!==ue.kind&&(u[W.name.value]=!0)}},Field:{enter:function(W){if(d&&W.directives&&d.some(function(ue){return ue.remove})&&W.directives&&W.directives.some(Xf(d)))return W.arguments&&W.arguments.forEach(function(ue){"Variable"===ue.value.kind&&p.push({name:ue.value.name.value})}),W.selectionSet&&jl(W.selectionSet).forEach(function(ue){S.push({name:ue.name.value})}),null}},FragmentSpread:{enter:function(W){_[W.name.value]=!0}},Directive:{enter:function(W){if(Xf(d)(W))return null}}}));return N&&Qm(p,function(W){return!!W.name&&!u[W.name]}).length&&(N=function(d,a){var u=function(d){return function(u){return d.some(function(p){return u.value&&"Variable"===u.value.kind&&u.value.name&&(p.name===u.value.name.value||p.test&&p.test(u))})}}(d);return Zd(Oc(a,{OperationDefinition:{enter:function(p){return(0,Ut.pi)((0,Ut.pi)({},p),{variableDefinitions:p.variableDefinitions?p.variableDefinitions.filter(function(_){return!d.some(function(S){return S.name===_.variable.name.value})}):[]})}},Field:{enter:function(p){var _=d.some(function(N){return N.remove});if(_){var S=0;if(p.arguments&&p.arguments.forEach(function(N){u(N)&&(S+=1)}),1===S)return null}}},Argument:{enter:function(p){if(u(p))return null}}}))}(p,N)),N&&Qm(S,function(W){return!!W.name&&!_[W.name]}).length&&(N=function(d,a){function u(p){if(d.some(function(_){return _.name===p.name.value}))return null}return Zd(Oc(a,{FragmentSpread:{enter:u},FragmentDefinition:{enter:u}}))}(S,N)),N}var bl=Object.assign(function(d){return Oc(d,{SelectionSet:{enter:function(a,u,p){if(!p||"OperationDefinition"!==p.kind){var _=a.selections;if(_&&!_.some(function(W){return wo(W)&&("__typename"===W.name.value||0===W.name.value.lastIndexOf("__",0))})){var N=p;if(!(wo(N)&&N.directives&&N.directives.some(function(W){return"export"===W.name.value})))return(0,Ut.pi)((0,Ut.pi)({},a),{selections:(0,Ut.ev)((0,Ut.ev)([],_,!0),[Jh],!1)})}}}}})},{added:function(d){return d===Jh}}),Gd={test:function(d){var a="connection"===d.name.value;return a&&(!d.arguments||!d.arguments.some(function(u){return"key"===u.name.value}))&&__DEV__&&Xn.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),a}};function jl(d){var a=[];return d.selections.forEach(function(u){(wo(u)||Yo(u))&&u.selectionSet?jl(u.selectionSet).forEach(function(p){return a.push(p)}):"FragmentSpread"===u.kind&&a.push(u)}),a}function Jm(d){return"query"===Ad(d).operation?d:Oc(d,{OperationDefinition:{enter:function(_){return(0,Ut.pi)((0,Ut.pi)({},_),{operation:"query"})}}})}var lg=new Map;function cg(d){var a=lg.get(d)||1;return lg.set(d,a+1),"".concat(d,":").concat(a,":").concat(Math.random().toString(36).slice(2))}function mu(d,a,u){var p=[];d.forEach(function(_){return _[a]&&p.push(_)}),p.forEach(function(_){return _[a](u)})}function tp(d){function a(u){Object.defineProperty(d,u,{value:qi})}return ng&&Symbol.species&&a(Symbol.species),a("@@species"),d}function qd(d){return d&&"function"==typeof d.then}var zu=function(d){function a(u){var p=d.call(this,function(_){return p.addObserver(_),function(){return p.removeObserver(_)}})||this;return p.observers=new Set,p.addCount=0,p.promise=new Promise(function(_,S){p.resolve=_,p.reject=S}),p.handlers={next:function(_){null!==p.sub&&(p.latest=["next",_],mu(p.observers,"next",_))},error:function(_){var S=p.sub;null!==S&&(S&&setTimeout(function(){return S.unsubscribe()}),p.sub=null,p.latest=["error",_],p.reject(_),mu(p.observers,"error",_))},complete:function(){var _=p.sub;if(null!==_){var S=p.sources.shift();S?qd(S)?S.then(function(N){return p.sub=N.subscribe(p.handlers)}):p.sub=S.subscribe(p.handlers):(_&&setTimeout(function(){return _.unsubscribe()}),p.sub=null,p.latest&&"next"===p.latest[0]?p.resolve(p.latest[1]):p.resolve(),mu(p.observers,"complete"))}}},p.cancel=function(_){p.reject(_),p.sources=[],p.handlers.complete()},p.promise.catch(function(_){}),"function"==typeof u&&(u=[new qi(u)]),qd(u)?u.then(function(_){return p.start(_)},p.handlers.error):p.start(u),p}return(0,Ut.ZT)(a,d),a.prototype.start=function(u){void 0===this.sub&&(this.sources=Array.from(u),this.handlers.complete())},a.prototype.deliverLastMessage=function(u){if(this.latest){var p=this.latest[0],_=u[p];_&&_.call(u,this.latest[1]),null===this.sub&&"next"===p&&u.complete&&u.complete()}},a.prototype.addObserver=function(u){this.observers.has(u)||(this.deliverLastMessage(u),this.observers.add(u),++this.addCount)},a.prototype.removeObserver=function(u,p){this.observers.delete(u)&&--this.addCount<1&&!p&&this.handlers.complete()},a.prototype.cleanup=function(u){var p=this,_=!1,S=function(){_||(_=!0,p.observers.delete(N),u())},N={next:S,error:S,complete:S},W=this.addCount;this.addObserver(N),this.addCount=W},a}(qi);function Wu(d){return Array.isArray(d)&&d.length>0}tp(zu);var Lc=function(d){function a(u){var p=u.graphQLErrors,_=u.clientErrors,S=u.networkError,N=u.errorMessage,W=u.extraInfo,te=d.call(this,N)||this;return te.graphQLErrors=p||[],te.clientErrors=_||[],te.networkError=S||null,te.message=N||function(d){var a="";return(Wu(d.graphQLErrors)||Wu(d.clientErrors))&&(d.graphQLErrors||[]).concat(d.clientErrors||[]).forEach(function(p){a+="".concat(p?p.message:"Error message not found.","\n")}),d.networkError&&(a+="".concat(d.networkError.message,"\n")),a=a.replace(/\n$/,"")}(te),te.extraInfo=W,te.__proto__=a.prototype,te}return(0,Ut.ZT)(a,d),a}(Error),y_=Object.prototype.toString;function ug(d){return _u(d)}function _u(d,a){switch(y_.call(d)){case"[object Array]":if((a=a||new Map).has(d))return a.get(d);var u=d.slice(0);return a.set(d,u),u.forEach(function(_,S){u[S]=_u(_,a)}),u;case"[object Object]":if((a=a||new Map).has(d))return a.get(d);var p=Object.create(Object.getPrototypeOf(d));return a.set(d,p),Object.keys(d).forEach(function(_){p[_]=_u(d[_],a)}),p;default:return d}}var ey=Object.assign,ty=Object.hasOwnProperty,np=function(d){function a(u){var p=u.queryManager,_=u.queryInfo,S=u.options,N=d.call(this,function(gn){try{var Mn=gn._subscription._observer;Mn&&!Mn.error&&(Mn.error=bv)}catch(er){}var or=!N.observers.size;N.observers.add(gn);var In=N.last;return In&&In.error?gn.error&&gn.error(In.error):In&&In.result&&gn.next&&gn.next(In.result),or&&N.reobserve().catch(function(){}),function(){N.observers.delete(gn)&&!N.observers.size&&N.tearDownQuery()}})||this;N.observers=new Set,N.subscriptions=new Set,N.queryInfo=_,N.queryManager=p,N.isTornDown=!1;var W=p.defaultOptions.watchQuery,ue=(void 0===W?{}:W).fetchPolicy,Pe=void 0===ue?"cache-first":ue,Ye=S.fetchPolicy,Ze=void 0===Ye?Pe:Ye,dt=S.initialFetchPolicy,Gt=void 0===dt?"standby"===Ze?Pe:Ze:dt;N.options=(0,Ut.pi)((0,Ut.pi)({},S),{initialFetchPolicy:Gt,fetchPolicy:Ze}),N.queryId=_.queryId||p.generateQueryId();var Xt=Ll(N.query);return N.queryName=Xt&&Xt.name&&Xt.name.value,N}return(0,Ut.ZT)(a,d),Object.defineProperty(a.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),a.prototype.result=function(){var u=this;return new Promise(function(p,_){var S={next:function(W){p(W),u.observers.delete(S),u.observers.size||u.queryManager.removeQuery(u.queryId),setTimeout(function(){N.unsubscribe()},0)},error:_},N=u.subscribe(S)})},a.prototype.getCurrentResult=function(u){void 0===u&&(u=!0);var p=this.getLastResult(!0),_=this.queryInfo.networkStatus||p&&p.networkStatus||Vi.ready,S=(0,Ut.pi)((0,Ut.pi)({},p),{loading:Mh(_),networkStatus:_}),N=this.options.fetchPolicy,W=void 0===N?"cache-first":N;if("network-only"!==W&&"no-cache"!==W&&"standby"!==W&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var te=this.queryInfo.getDiff();(te.complete||this.options.returnPartialData)&&(S.data=te.result),Gs(S.data,{})&&(S.data=void 0),te.complete?(delete S.partial,te.complete&&S.networkStatus===Vi.loading&&("cache-first"===W||"cache-only"===W)&&(S.networkStatus=Vi.ready,S.loading=!1)):S.partial=!0,__DEV__&&!te.complete&&!this.options.partialRefetch&&!S.loading&&!S.data&&!S.error&&ny(te.missing)}return u&&this.updateLastResult(S),S},a.prototype.isDifferentFromLastResult=function(u){return!this.last||!Gs(this.last.result,u)},a.prototype.getLast=function(u,p){var _=this.last;if(_&&_[u]&&(!p||Gs(_.variables,this.variables)))return _[u]},a.prototype.getLastResult=function(u){return this.getLast("result",u)},a.prototype.getLastError=function(u){return this.getLast("error",u)},a.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},a.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},a.prototype.refetch=function(u){var p,_={pollInterval:0},S=this.options.fetchPolicy;if(_.fetchPolicy="cache-and-network"===S?S:"no-cache"===S?"no-cache":"network-only",__DEV__&&u&&ty.call(u,"variables")){var N=Zh(this.query),W=N.variableDefinitions;(!W||!W.some(function(te){return"variables"===te.variable.name.value}))&&__DEV__&&Xn.warn("Called refetch(".concat(JSON.stringify(u),") for query ").concat((null===(p=N.name)||void 0===p?void 0:p.value)||JSON.stringify(N),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return u&&!Gs(this.options.variables,u)&&(_.variables=this.options.variables=(0,Ut.pi)((0,Ut.pi)({},this.options.variables),u)),this.queryInfo.resetLastWrite(),this.reobserve(_,Vi.refetch)},a.prototype.fetchMore=function(u){var p=this,_=(0,Ut.pi)((0,Ut.pi)({},u.query?u:(0,Ut.pi)((0,Ut.pi)((0,Ut.pi)((0,Ut.pi)({},this.options),{query:this.query}),u),{variables:(0,Ut.pi)((0,Ut.pi)({},this.options.variables),u.variables)})),{fetchPolicy:"no-cache"}),S=this.queryManager.generateQueryId(),N=this.queryInfo,W=N.networkStatus;N.networkStatus=Vi.fetchMore,_.notifyOnNetworkStatusChange&&this.observe();var te=new Set;return this.queryManager.fetchQuery(S,_,Vi.fetchMore).then(function(ue){return p.queryManager.removeQuery(S),N.networkStatus===Vi.fetchMore&&(N.networkStatus=W),p.queryManager.cache.batch({update:function(Pe){var Ye=u.updateQuery;Ye?Pe.updateQuery({query:p.query,variables:p.variables,returnPartialData:!0,optimistic:!1},function(Ze){return Ye(Ze,{fetchMoreResult:ue.data,variables:_.variables})}):Pe.writeQuery({query:_.query,variables:_.variables,data:ue.data})},onWatchUpdated:function(Pe){te.add(Pe.query)}}),ue}).finally(function(){te.has(p.query)||dg(p)})},a.prototype.subscribeToMore=function(u){var p=this,_=this.queryManager.startGraphQLSubscription({query:u.document,variables:u.variables,context:u.context}).subscribe({next:function(S){var N=u.updateQuery;N&&p.updateQuery(function(W,te){return N(W,{subscriptionData:S,variables:te.variables})})},error:function(S){u.onError?u.onError(S):__DEV__&&Xn.error("Unhandled GraphQL subscription error",S)}});return this.subscriptions.add(_),function(){p.subscriptions.delete(_)&&_.unsubscribe()}},a.prototype.setOptions=function(u){return this.reobserve(u)},a.prototype.setVariables=function(u){return Gs(this.variables,u)?this.observers.size?this.result():Promise.resolve():(this.options.variables=u,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:u},Vi.setVariables):Promise.resolve())},a.prototype.updateQuery=function(u){var p=this.queryManager,S=u(p.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});S&&(p.cache.writeQuery({query:this.options.query,data:S,variables:this.variables}),p.broadcastQueries())},a.prototype.startPolling=function(u){this.options.pollInterval=u,this.updatePolling()},a.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},a.prototype.applyNextFetchPolicy=function(u,p){if(p.nextFetchPolicy){var _=p.fetchPolicy,S=void 0===_?"cache-first":_,N=p.initialFetchPolicy,W=void 0===N?S:N;"standby"===S||(p.fetchPolicy="function"==typeof p.nextFetchPolicy?p.nextFetchPolicy(S,{reason:u,options:p,observable:this,initialFetchPolicy:W}):"variables-changed"===u?W:p.nextFetchPolicy)}return p.fetchPolicy},a.prototype.fetch=function(u,p){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,u,p)},a.prototype.updatePolling=function(){var u=this;if(!this.queryManager.ssrMode){var _=this.pollingInfo,S=this.options.pollInterval;if(!S)return void(_&&(clearTimeout(_.timeout),delete this.pollingInfo));if(!_||_.interval!==S){__DEV__?Xn(S,"Attempted to start a polling query without a polling interval."):Xn(S,10),(_||(this.pollingInfo={})).interval=S;var W=function(){u.pollingInfo&&(Mh(u.queryInfo.networkStatus)?te():u.reobserve({fetchPolicy:"network-only"},Vi.poll).then(te,te))},te=function(){var ue=u.pollingInfo;ue&&(clearTimeout(ue.timeout),ue.timeout=setTimeout(W,ue.interval))};te()}}},a.prototype.updateLastResult=function(u,p){return void 0===p&&(p=this.variables),this.last=(0,Ut.pi)((0,Ut.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?u:ug(u),variables:p}),Wu(u.errors)||delete this.last.error,this.last},a.prototype.reobserve=function(u,p){var _=this;this.isTornDown=!1;var S=p===Vi.refetch||p===Vi.fetchMore||p===Vi.poll,N=this.options.variables,W=this.options.fetchPolicy,te=$f(this.options,u||{}),ue=S?te:ey(this.options,te);S||(this.updatePolling(),u&&u.variables&&!Gs(u.variables,N)&&"standby"!==ue.fetchPolicy&&ue.fetchPolicy===W&&(this.applyNextFetchPolicy("variables-changed",ue),void 0===p&&(p=Vi.setVariables)));var Pe=ue.variables&&(0,Ut.pi)({},ue.variables),Ye=this.fetch(ue,p),Ze={next:function(dt){_.reportResult(dt,Pe)},error:function(dt){_.reportError(dt,Pe)}};return S||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=Ye,this.observer=Ze),Ye.addObserver(Ze),Ye.promise},a.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},a.prototype.reportResult=function(u,p){var _=this.getLastError();(_||this.isDifferentFromLastResult(u))&&((_||!u.partial||this.options.returnPartialData)&&this.updateLastResult(u,p),mu(this.observers,"next",u))},a.prototype.reportError=function(u,p){var _=(0,Ut.pi)((0,Ut.pi)({},this.getLastResult()),{error:u,errors:u.graphQLErrors,networkStatus:Vi.error,loading:!1});this.updateLastResult(_,p),mu(this.observers,"error",this.last.error=u)},a.prototype.hasObservers=function(){return this.observers.size>0},a.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(u){return u.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},a}(qi);function dg(d){var a=d.options,u=a.fetchPolicy,p=a.nextFetchPolicy;return"cache-and-network"===u||"network-only"===u?d.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=p,"function"==typeof p?p.apply(this,arguments):u}}):d.reobserve()}function bv(d){__DEV__&&Xn.error("Unhandled error",d.message,d.stack)}function ny(d){__DEV__&&d&&__DEV__&&Xn.debug("Missing cache result fields: ".concat(JSON.stringify(d)),d)}tp(np);var Lo=null,Ss={},tf=1,rl="@wry/context:Slot",nf=Array,vu=nf[rl]||function(){var d=function(){function d(){this.id=["slot",tf++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return d.prototype.hasValue=function(){for(var a=Lo;a;a=a.parent)if(this.id in a.slots){var u=a.slots[this.id];if(u===Ss)break;return a!==Lo&&(Lo.slots[this.id]=u),!0}return Lo&&(Lo.slots[this.id]=Ss),!1},d.prototype.getValue=function(){if(this.hasValue())return Lo.slots[this.id]},d.prototype.withValue=function(a,u,p,_){var S,N=((S={__proto__:null})[this.id]=a,S),W=Lo;Lo={parent:W,slots:N};try{return u.apply(_,p)}finally{Lo=W}},d.bind=function(a){var u=Lo;return function(){var p=Lo;try{return Lo=u,a.apply(this,arguments)}finally{Lo=p}}},d.noContext=function(a,u,p){if(!Lo)return a.apply(p,u);var _=Lo;try{return Lo=null,a.apply(p,u)}finally{Lo=_}},d}();try{Object.defineProperty(nf,rl,{value:nf[rl]=d,enumerable:!1,writable:!1,configurable:!1})}finally{return d}}();function v_(){}var Ku,yg=function(){function d(a,u){void 0===a&&(a=1/0),void 0===u&&(u=v_),this.max=a,this.dispose=u,this.map=new Map,this.newest=null,this.oldest=null}return d.prototype.has=function(a){return this.map.has(a)},d.prototype.get=function(a){var u=this.getNode(a);return u&&u.value},d.prototype.getNode=function(a){var u=this.map.get(a);if(u&&u!==this.newest){var p=u.older,_=u.newer;_&&(_.older=p),p&&(p.newer=_),u.older=this.newest,u.older.newer=u,u.newer=null,this.newest=u,u===this.oldest&&(this.oldest=_)}return u},d.prototype.set=function(a,u){var p=this.getNode(a);return p?p.value=u:(p={key:a,value:u,newer:null,older:this.newest},this.newest&&(this.newest.newer=p),this.newest=p,this.oldest=this.oldest||p,this.map.set(a,p),p.value)},d.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},d.prototype.delete=function(a){var u=this.map.get(a);return!!u&&(u===this.newest&&(this.newest=u.older),u===this.oldest&&(this.oldest=u.newer),u.newer&&(u.newer.older=u.older),u.older&&(u.older.newer=u.newer),this.map.delete(a),this.dispose(u.value,a),!0)},d}(),bu=new vu,sy=Object.prototype.hasOwnProperty,$d=void 0===(Ku=Array.from)?function(d){var a=[];return d.forEach(function(u){return a.push(u)}),a}:Ku;function Yu(d){var a=d.unsubscribe;"function"==typeof a&&(d.unsubscribe=void 0,a())}var Eu=[];function Qu(d,a){if(!d)throw new Error(a||"assertion failure")}function oy(d){switch(d.length){case 0:throw new Error("unknown value");case 1:return d[0];case 2:throw d[1]}}var wu=function(){function d(a){this.fn=a,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++d.count}return d.prototype.peek=function(){if(1===this.value.length&&!Ju(this))return rf(this),this.value[0]},d.prototype.recompute=function(a){return Qu(!this.recomputing,"already recomputing"),rf(this),Ju(this)?function(d,a){return wg(d),bu.withValue(d,vg,[d,a]),function(d,a){if("function"==typeof d.subscribe)try{Yu(d),d.unsubscribe=d.subscribe.apply(null,a)}catch(u){return d.setDirty(),!1}return!0}(d,a)&&function(d){d.dirty=!1,!Ju(d)&&ay(d)}(d),oy(d.value)}(this,a):oy(this.value)},d.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Wd(this),Yu(this))},d.prototype.dispose=function(){var a=this;this.setDirty(),wg(this),Kd(this,function(u,p){u.setDirty(),ly(u,a)})},d.prototype.forget=function(){this.dispose()},d.prototype.dependOn=function(a){a.add(this),this.deps||(this.deps=Eu.pop()||new Set),this.deps.add(a)},d.prototype.forgetDeps=function(){var a=this;this.deps&&($d(this.deps).forEach(function(u){return u.delete(a)}),this.deps.clear(),Eu.push(this.deps),this.deps=null)},d.count=0,d}();function rf(d){var a=bu.getValue();if(a)return d.parents.add(a),a.childValues.has(d)||a.childValues.set(d,[]),Ju(d)?bg(a,d):Eg(a,d),a}function vg(d,a){d.recomputing=!0,d.value.length=0;try{d.value[0]=d.fn.apply(null,a)}catch(u){d.value[1]=u}d.recomputing=!1}function Ju(d){return d.dirty||!(!d.dirtyChildren||!d.dirtyChildren.size)}function Wd(d){Kd(d,bg)}function ay(d){Kd(d,Eg)}function Kd(d,a){var u=d.parents.size;if(u)for(var p=$d(d.parents),_=0;_<u;++_)a(p[_],d)}function bg(d,a){Qu(d.childValues.has(a)),Qu(Ju(a));var u=!Ju(d);if(d.dirtyChildren){if(d.dirtyChildren.has(a))return}else d.dirtyChildren=Eu.pop()||new Set;d.dirtyChildren.add(a),u&&Wd(d)}function Eg(d,a){Qu(d.childValues.has(a)),Qu(!Ju(a));var u=d.childValues.get(a);0===u.length?d.childValues.set(a,function(d){return d.slice(0)}(a.value)):function(d,a){var u=d.length;return u>0&&u===a.length&&d[u-1]===a[u-1]}(u,a.value)||d.setDirty(),El(d,a),!Ju(d)&&ay(d)}function El(d,a){var u=d.dirtyChildren;u&&(u.delete(a),0===u.size&&(Eu.length<100&&Eu.push(u),d.dirtyChildren=null))}function wg(d){d.childValues.size>0&&d.childValues.forEach(function(a,u){ly(d,u)}),d.forgetDeps(),Qu(null===d.dirtyChildren)}function ly(d,a){a.parents.delete(d),d.childValues.delete(a),El(d,a)}var Cg={setDirty:!0,dispose:!0,forget:!0};function Tg(d){var a=new Map,u=d&&d.subscribe;function p(_){var S=bu.getValue();if(S){var N=a.get(_);N||a.set(_,N=new Set),S.dependOn(N),"function"==typeof u&&(Yu(N),N.unsubscribe=u(_))}}return p.dirty=function(S,N){var W=a.get(S);if(W){var te=N&&sy.call(Cg,N)?N:"setDirty";$d(W).forEach(function(ue){return ue[te]()}),a.delete(S),Yu(W)}},p}function Dg(){var d=new Zf("function"==typeof WeakMap);return function(){return d.lookupArray(arguments)}}Dg();var dy=new Set;function Xu(d,a){void 0===a&&(a=Object.create(null));var u=new yg(a.max||Math.pow(2,16),function(ue){return ue.dispose()}),p=a.keyArgs,_=a.makeCacheKey||Dg(),S=function(){var ue=_.apply(null,p?p.apply(null,arguments):arguments);if(void 0===ue)return d.apply(null,arguments);var Pe=u.get(ue);Pe||(u.set(ue,Pe=new wu(d)),Pe.subscribe=a.subscribe,Pe.forget=function(){return u.delete(ue)});var Ye=Pe.recompute(Array.prototype.slice.call(arguments));return u.set(ue,Pe),dy.add(u),bu.hasValue()||(dy.forEach(function(Ze){return Ze.clean()}),dy.clear()),Ye};function N(ue){var Pe=u.get(ue);Pe&&Pe.setDirty()}function W(ue){var Pe=u.get(ue);if(Pe)return Pe.peek()}function te(ue){return u.delete(ue)}return Object.defineProperty(S,"size",{get:function(){return u.map.size},configurable:!1,enumerable:!1}),S.dirtyKey=N,S.dirty=function(){N(_.apply(null,arguments))},S.peekKey=W,S.peek=function(){return W(_.apply(null,arguments))},S.forgetKey=te,S.forget=function(){return te(_.apply(null,arguments))},S.makeCacheKey=_,S.getKey=p?function(){return _.apply(null,p.apply(null,arguments))}:_,Object.freeze(S)}var ed=new vu,ip=new WeakMap;function td(d){var a=ip.get(d);return a||ip.set(d,a={vars:new Set,dep:Tg()}),a}function Sg(d){td(d).vars.forEach(function(a){return a.forgetCache(d)})}function E_(d){var a=new Set,u=new Set,p=function(S){if(arguments.length>0){if(d!==S){d=S,a.forEach(function(te){td(te).dep.dirty(p),Ig(te)});var N=Array.from(u);u.clear(),N.forEach(function(te){return te(d)})}}else{var W=ed.getValue();W&&(_(W),td(W).dep(p))}return d};p.onNextChange=function(S){return u.add(S),function(){u.delete(S)}};var _=p.attachCache=function(S){return a.add(S),td(S).vars.add(p),p};return p.forgetCache=function(S){return a.delete(S)},p}function Ig(d){d.broadcastWatches&&d.broadcastWatches()}var Ag=function(){function d(a){var p=a.client,_=a.resolvers,S=a.fragmentMatcher;this.cache=a.cache,p&&(this.client=p),_&&this.addResolvers(_),S&&this.setFragmentMatcher(S)}return d.prototype.addResolvers=function(a){var u=this;this.resolvers=this.resolvers||{},Array.isArray(a)?a.forEach(function(p){u.resolvers=qu(u.resolvers,p)}):this.resolvers=qu(this.resolvers,a)},d.prototype.setResolvers=function(a){this.resolvers={},this.addResolvers(a)},d.prototype.getResolvers=function(){return this.resolvers||{}},d.prototype.runResolvers=function(a){var u=a.document,p=a.remoteResult,_=a.context,S=a.variables,N=a.onlyRunForcedResolvers,W=void 0!==N&&N;return(0,Ut.mG)(this,void 0,void 0,function(){return(0,Ut.Jh)(this,function(te){return u?[2,this.resolveDocument(u,p.data,_,S,this.fragmentMatcher,W).then(function(ue){return(0,Ut.pi)((0,Ut.pi)({},p),{data:ue.result})})]:[2,p]})})},d.prototype.setFragmentMatcher=function(a){this.fragmentMatcher=a},d.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},d.prototype.clientQuery=function(a){return Gu(["client"],a)&&this.resolvers?a:null},d.prototype.serverQuery=function(a){return function(d){Id(d);var a=Xh([{test:function(u){return"client"===u.name.value},remove:!0}],d);return a&&(a=Oc(a,{FragmentDefinition:{enter:function(u){if(u.selectionSet&&u.selectionSet.selections.every(function(_){return wo(_)&&"__typename"===_.name.value}))return null}}})),a}(a)},d.prototype.prepareContext=function(a){var u=this.cache;return(0,Ut.pi)((0,Ut.pi)({},a),{cache:u,getCacheKey:function(p){return u.identify(p)}})},d.prototype.addExportedVariables=function(a,u,p){return void 0===u&&(u={}),void 0===p&&(p={}),(0,Ut.mG)(this,void 0,void 0,function(){return(0,Ut.Jh)(this,function(_){return a?[2,this.resolveDocument(a,this.buildRootValueFromCache(a,u)||{},this.prepareContext(p),u).then(function(S){return(0,Ut.pi)((0,Ut.pi)({},u),S.exportedVariables)})]:[2,(0,Ut.pi)({},u)]})})},d.prototype.shouldForceResolvers=function(a){var u=!1;return Oc(a,{Directive:{enter:function(p){if("client"===p.name.value&&p.arguments&&(u=p.arguments.some(function(_){return"always"===_.name.value&&"BooleanValue"===_.value.kind&&!0===_.value.value})))return fu}}}),u},d.prototype.buildRootValueFromCache=function(a,u){return this.cache.diff({query:Jm(a),variables:u,returnPartialData:!0,optimistic:!1}).result},d.prototype.resolveDocument=function(a,u,p,_,S,N){return void 0===p&&(p={}),void 0===_&&(_={}),void 0===S&&(S=function(){return!0}),void 0===N&&(N=!1),(0,Ut.mG)(this,void 0,void 0,function(){var W,te,ue,Pe,Ye,Ze,dt,Gt,Xt;return(0,Ut.Jh)(this,function(gn){return W=Ad(a),te=Qo(a),ue=Lh(te),Ye=(Pe=W.operation)?Pe.charAt(0).toUpperCase()+Pe.slice(1):"Query",dt=(Ze=this).cache,Gt=Ze.client,Xt={fragmentMap:ue,context:(0,Ut.pi)((0,Ut.pi)({},p),{cache:dt,client:Gt}),variables:_,fragmentMatcher:S,defaultOperationType:Ye,exportedVariables:{},onlyRunForcedResolvers:N},[2,this.resolveSelectionSet(W.selectionSet,u,Xt).then(function(Mn){return{result:Mn,exportedVariables:Xt.exportedVariables}})]})})},d.prototype.resolveSelectionSet=function(a,u,p){return(0,Ut.mG)(this,void 0,void 0,function(){var _,S,N,W,ue=this;return(0,Ut.Jh)(this,function(Pe){return _=p.fragmentMap,S=p.context,N=p.variables,W=[u],[2,Promise.all(a.selections.map(function(Ye){return(0,Ut.mG)(ue,void 0,void 0,function(){var Ze;return(0,Ut.Jh)(this,function(Gt){return zf(Ye,N)?wo(Ye)?[2,this.resolveField(Ye,u,p).then(function(Xt){var gn;void 0!==Xt&&W.push(((gn={})[Fl(Ye)]=Xt,gn))})]:(Yo(Ye)?Ze=Ye:(Ze=_[Ye.name.value],__DEV__?Xn(Ze,"No fragment named ".concat(Ye.name.value)):Xn(Ze,9)),Ze&&Ze.typeCondition&&p.fragmentMatcher(u,Ze.typeCondition.name.value,S)?[2,this.resolveSelectionSet(Ze.selectionSet,u,p).then(function(Xt){W.push(Xt)})]:[2]):[2]})})})).then(function(){return Wh(W)})]})})},d.prototype.resolveField=function(a,u,p){return(0,Ut.mG)(this,void 0,void 0,function(){var _,S,N,W,te,ue,Pe,Ye,Ze,dt=this;return(0,Ut.Jh)(this,function(Gt){return _=p.variables,S=a.name.value,N=Fl(a),W=S!==N,te=u[N]||u[S],ue=Promise.resolve(te),(!p.onlyRunForcedResolvers||this.shouldForceResolvers(a))&&(Pe=u.__typename||p.defaultOperationType,(Ye=this.resolvers&&this.resolvers[Pe])&&(Ze=Ye[W?S:N])&&(ue=Promise.resolve(ed.withValue(this.cache,Ze,[u,Br(a,_),p.context,{field:a,fragmentMap:p.fragmentMap}])))),[2,ue.then(function(Xt){return void 0===Xt&&(Xt=te),a.directives&&a.directives.forEach(function(gn){"export"===gn.name.value&&gn.arguments&&gn.arguments.forEach(function(Mn){"as"===Mn.name.value&&"StringValue"===Mn.value.kind&&(p.exportedVariables[Mn.value.value]=Xt)})}),a.selectionSet&&null!=Xt?Array.isArray(Xt)?dt.resolveSubSelectedArray(a,Xt,p):a.selectionSet?dt.resolveSelectionSet(a.selectionSet,Xt,p):void 0:Xt})]})})},d.prototype.resolveSubSelectedArray=function(a,u,p){var _=this;return Promise.all(u.map(function(S){return null===S?null:Array.isArray(S)?_.resolveSubSelectedArray(a,S,p):a.selectionSet?_.resolveSelectionSet(a.selectionSet,S,p):void 0}))},d}(),Vc=new(Ul?WeakMap:Map);function Yd(d,a){var u=d[a];"function"==typeof u&&(d[a]=function(){return Vc.set(d,(Vc.get(d)+1)%1e15),u.apply(this,arguments)})}function nd(d){d.notifyTimeout&&(clearTimeout(d.notifyTimeout),d.notifyTimeout=void 0)}var sp=function(){function d(a,u){void 0===u&&(u=a.generateQueryId()),this.queryId=u,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var p=this.cache=a.cache;Vc.has(p)||(Vc.set(p,0),Yd(p,"evict"),Yd(p,"modify"),Yd(p,"reset"))}return d.prototype.init=function(a){var u=a.networkStatus||Vi.loading;return this.variables&&this.networkStatus!==Vi.loading&&!Gs(this.variables,a.variables)&&(u=Vi.setVariables),Gs(a.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:a.document,variables:a.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:u}),a.observableQuery&&this.setObservableQuery(a.observableQuery),a.lastRequestId&&(this.lastRequestId=a.lastRequestId),this},d.prototype.reset=function(){nd(this),this.lastDiff=void 0,this.dirty=!1},d.prototype.getDiff=function(a){void 0===a&&(a=this.variables);var u=this.getDiffOptions(a);if(this.lastDiff&&Gs(u,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=a);var p=this.observableQuery;if(p&&"no-cache"===p.options.fetchPolicy)return{complete:!1};var _=this.cache.diff(u);return this.updateLastDiff(_,u),_},d.prototype.updateLastDiff=function(a,u){this.lastDiff=a?{diff:a,options:u||this.getDiffOptions()}:void 0},d.prototype.getDiffOptions=function(a){var u;return void 0===a&&(a=this.variables),{query:this.document,variables:a,returnPartialData:!0,optimistic:!0,canonizeResults:null===(u=this.observableQuery)||void 0===u?void 0:u.options.canonizeResults}},d.prototype.setDiff=function(a){var u=this,p=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(a),!this.dirty&&!Gs(p&&p.result,a&&a.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return u.notify()},0)))},d.prototype.setObservableQuery=function(a){var u=this;a!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=a,a?(a.queryInfo=this,this.listeners.add(this.oqListener=function(){u.getDiff().fromOptimisticTransaction?a.observe():dg(a)})):delete this.oqListener)},d.prototype.notify=function(){var a=this;nd(this),this.shouldNotify()&&this.listeners.forEach(function(u){return u(a)}),this.dirty=!1},d.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Mh(this.networkStatus)&&this.observableQuery){var a=this.observableQuery.options.fetchPolicy;if("cache-only"!==a&&"cache-and-network"!==a)return!1}return!0},d.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=d.prototype.cancel,this.subscriptions.forEach(function(u){return u.unsubscribe()});var a=this.observableQuery;a&&a.stopPolling()}},d.prototype.cancel=function(){},d.prototype.updateWatch=function(a){var u=this;void 0===a&&(a=this.variables);var p=this.observableQuery;if(!p||"no-cache"!==p.options.fetchPolicy){var _=(0,Ut.pi)((0,Ut.pi)({},this.getDiffOptions(a)),{watcher:this,callback:function(S){return u.setDiff(S)}});(!this.lastWatch||!Gs(_,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=_))}},d.prototype.resetLastWrite=function(){this.lastWrite=void 0},d.prototype.shouldWrite=function(a,u){var p=this.lastWrite;return!(p&&p.dmCount===Vc.get(this.cache)&&Gs(u,p.variables)&&Gs(a.data,p.result.data))},d.prototype.markResult=function(a,u,p){var _=this;this.graphQLErrors=Wu(a.errors)?a.errors:[],this.reset(),"no-cache"===u.fetchPolicy?this.updateLastDiff({result:a.data,complete:!0},this.getDiffOptions(u.variables)):0!==p&&(il(a,u.errorPolicy)?this.cache.performTransaction(function(S){if(_.shouldWrite(a,u.variables))S.writeQuery({query:_.document,data:a.data,variables:u.variables,overwrite:1===p}),_.lastWrite={result:a,variables:u.variables,dmCount:Vc.get(_.cache)};else if(_.lastDiff&&_.lastDiff.diff.complete)return void(a.data=_.lastDiff.diff.result);var N=_.getDiffOptions(u.variables),W=S.diff(N);_.stopped||_.updateWatch(u.variables),_.updateLastDiff(W,N),W.complete&&(a.data=W.result)}):this.lastWrite=void 0)},d.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Vi.ready},d.prototype.markError=function(a){return this.networkStatus=Vi.error,this.lastWrite=void 0,this.reset(),a.graphQLErrors&&(this.graphQLErrors=a.graphQLErrors),a.networkError&&(this.networkError=a.networkError),a},d}();function il(d,a){void 0===a&&(a="none");var u="ignore"===a||"all"===a,p=!Qh(d);return!p&&u&&d.data&&(p=!0),p}var Qd=Object.prototype.hasOwnProperty,Mg=function(){function d(a){var u=a.cache,p=a.link,_=a.defaultOptions,S=a.queryDeduplication,N=void 0!==S&&S,W=a.onBroadcast,te=a.ssrMode,ue=void 0!==te&&te,Pe=a.clientAwareness,Ye=void 0===Pe?{}:Pe,Ze=a.localState,dt=a.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Ul?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=u,this.link=p,this.defaultOptions=_||Object.create(null),this.queryDeduplication=N,this.clientAwareness=Ye,this.localState=Ze||new Ag({cache:u}),this.ssrMode=ue,this.assumeImmutableResults=!!dt,(this.onBroadcast=W)&&(this.mutationStore=Object.create(null))}return d.prototype.stop=function(){var a=this;this.queries.forEach(function(u,p){a.stopQueryNoBroadcast(p)}),this.cancelPendingFetches(__DEV__?new Xi("QueryManager stopped while query was in flight"):new Xi(11))},d.prototype.cancelPendingFetches=function(a){this.fetchCancelFns.forEach(function(u){return u(a)}),this.fetchCancelFns.clear()},d.prototype.mutate=function(a){var u,p,_=a.mutation,S=a.variables,N=a.optimisticResponse,W=a.updateQueries,te=a.refetchQueries,ue=void 0===te?[]:te,Pe=a.awaitRefetchQueries,Ye=void 0!==Pe&&Pe,Ze=a.update,dt=a.onQueryUpdated,Gt=a.fetchPolicy,Xt=void 0===Gt?(null===(u=this.defaultOptions.mutate)||void 0===u?void 0:u.fetchPolicy)||"network-only":Gt,gn=a.errorPolicy,Mn=void 0===gn?(null===(p=this.defaultOptions.mutate)||void 0===p?void 0:p.errorPolicy)||"none":gn,or=a.keepRootFields,In=a.context;return(0,Ut.mG)(this,void 0,void 0,function(){var er,jr,Fr;return(0,Ut.Jh)(this,function(Hr){switch(Hr.label){case 0:return __DEV__?Xn(_,"mutation option is required. You must specify your GraphQL document in the mutation option."):Xn(_,12),__DEV__?Xn("network-only"===Xt||"no-cache"===Xt,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Xn("network-only"===Xt||"no-cache"===Xt,13),er=this.generateMutationId(),_=this.transform(_).document,S=this.getVariables(_,S),this.transform(_).hasClientExports?[4,this.localState.addExportedVariables(_,S,In)]:[3,2];case 1:S=Hr.sent(),Hr.label=2;case 2:return jr=this.mutationStore&&(this.mutationStore[er]={mutation:_,variables:S,loading:!0,error:null}),N&&this.markMutationOptimistic(N,{mutationId:er,document:_,variables:S,fetchPolicy:Xt,errorPolicy:Mn,context:In,updateQueries:W,update:Ze,keepRootFields:or}),this.broadcastQueries(),Fr=this,[2,new Promise(function(ri,eo){return Yh(Fr.getObservableFromLink(_,(0,Ut.pi)((0,Ut.pi)({},In),{optimisticResponse:N}),S,!1),function($i){if(Qh($i)&&"none"===Mn)throw new Lc({graphQLErrors:$i.errors});jr&&(jr.loading=!1,jr.error=null);var Hl=(0,Ut.pi)({},$i);return"function"==typeof ue&&(ue=ue(Hl)),"ignore"===Mn&&Qh(Hl)&&delete Hl.errors,Fr.markMutationResult({mutationId:er,result:Hl,document:_,variables:S,fetchPolicy:Xt,errorPolicy:Mn,context:In,update:Ze,updateQueries:W,awaitRefetchQueries:Ye,refetchQueries:ue,removeOptimistic:N?er:void 0,onQueryUpdated:dt,keepRootFields:or})}).subscribe({next:function($i){Fr.broadcastQueries(),ri($i)},error:function($i){jr&&(jr.loading=!1,jr.error=$i),N&&Fr.cache.removeOptimistic(er),Fr.broadcastQueries(),eo($i instanceof Lc?$i:new Lc({networkError:$i}))}})})]}})})},d.prototype.markMutationResult=function(a,u){var p=this;void 0===u&&(u=this.cache);var _=a.result,S=[],N="no-cache"===a.fetchPolicy;if(!N&&il(_,a.errorPolicy)){S.push({result:_.data,dataId:"ROOT_MUTATION",query:a.document,variables:a.variables});var W=a.updateQueries;W&&this.queries.forEach(function(ue,Pe){var Ye=ue.observableQuery,Ze=Ye&&Ye.queryName;if(Ze&&Qd.call(W,Ze)){var dt=W[Ze],Gt=p.queries.get(Pe),Xt=Gt.document,gn=Gt.variables,Mn=u.diff({query:Xt,variables:gn,returnPartialData:!0,optimistic:!1}),or=Mn.result;if(Mn.complete&&or){var er=dt(or,{mutationResult:_,queryName:Xt&&Hh(Xt)||void 0,queryVariables:gn});er&&S.push({result:er,dataId:"ROOT_QUERY",query:Xt,variables:gn})}}})}if(S.length>0||a.refetchQueries||a.update||a.onQueryUpdated||a.removeOptimistic){var te=[];if(this.refetchQueries({updateCache:function(ue){N||S.forEach(function(Ze){return ue.write(Ze)});var Pe=a.update;if(Pe){if(!N){var Ye=ue.diff({id:"ROOT_MUTATION",query:p.transform(a.document).asQuery,variables:a.variables,optimistic:!1,returnPartialData:!0});Ye.complete&&(_=(0,Ut.pi)((0,Ut.pi)({},_),{data:Ye.result}))}Pe(ue,_,{context:a.context,variables:a.variables})}!N&&!a.keepRootFields&&ue.modify({id:"ROOT_MUTATION",fields:function(Ze,dt){return"__typename"===dt.fieldName?Ze:dt.DELETE}})},include:a.refetchQueries,optimistic:!1,removeOptimistic:a.removeOptimistic,onQueryUpdated:a.onQueryUpdated||null}).forEach(function(ue){return te.push(ue)}),a.awaitRefetchQueries||a.onQueryUpdated)return Promise.all(te).then(function(){return _})}return Promise.resolve(_)},d.prototype.markMutationOptimistic=function(a,u){var p=this,_="function"==typeof a?a(u.variables):a;return this.cache.recordOptimisticTransaction(function(S){try{p.markMutationResult((0,Ut.pi)((0,Ut.pi)({},u),{result:{data:_}}),S)}catch(N){__DEV__&&Xn.error(N)}},u.mutationId)},d.prototype.fetchQuery=function(a,u,p){return this.fetchQueryObservable(a,u,p).promise},d.prototype.getQueryStore=function(){var a=Object.create(null);return this.queries.forEach(function(u,p){a[p]={variables:u.variables,networkStatus:u.networkStatus,networkError:u.networkError,graphQLErrors:u.graphQLErrors}}),a},d.prototype.resetErrors=function(a){var u=this.queries.get(a);u&&(u.networkError=void 0,u.graphQLErrors=[])},d.prototype.transform=function(a){var u=this.transformCache;if(!u.has(a)){var p=this.cache.transformDocument(a),_=function(d){return Xh([Gd],Id(d))}(this.cache.transformForLink(p)),S=this.localState.clientQuery(p),N=_&&this.localState.serverQuery(_),W={document:p,hasClientExports:Wf(p),hasForcedResolvers:this.localState.shouldForceResolvers(p),clientQuery:S,serverQuery:N,defaultVars:Fm(Ll(p)),asQuery:(0,Ut.pi)((0,Ut.pi)({},p),{definitions:p.definitions.map(function(ue){return"OperationDefinition"===ue.kind&&"query"!==ue.operation?(0,Ut.pi)((0,Ut.pi)({},ue),{operation:"query"}):ue})})},te=function(ue){ue&&!u.has(ue)&&u.set(ue,W)};te(a),te(p),te(S),te(N)}return u.get(a)},d.prototype.getVariables=function(a,u){return(0,Ut.pi)((0,Ut.pi)({},this.transform(a).defaultVars),u)},d.prototype.watchQuery=function(a){void 0===(a=(0,Ut.pi)((0,Ut.pi)({},a),{variables:this.getVariables(a.query,a.variables)})).notifyOnNetworkStatusChange&&(a.notifyOnNetworkStatusChange=!1);var u=new sp(this),p=new np({queryManager:this,queryInfo:u,options:a});return this.queries.set(p.queryId,u),u.init({document:p.query,observableQuery:p,variables:p.variables}),p},d.prototype.query=function(a,u){var p=this;return void 0===u&&(u=this.generateQueryId()),__DEV__?Xn(a.query,"query option is required. You must specify your GraphQL document in the query option."):Xn(a.query,14),__DEV__?Xn("Document"===a.query.kind,'You must wrap the query string in a "gql" tag.'):Xn("Document"===a.query.kind,15),__DEV__?Xn(!a.returnPartialData,"returnPartialData option only supported on watchQuery."):Xn(!a.returnPartialData,16),__DEV__?Xn(!a.pollInterval,"pollInterval option only supported on watchQuery."):Xn(!a.pollInterval,17),this.fetchQuery(u,a).finally(function(){return p.stopQuery(u)})},d.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},d.prototype.generateRequestId=function(){return this.requestIdCounter++},d.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},d.prototype.stopQueryInStore=function(a){this.stopQueryInStoreNoBroadcast(a),this.broadcastQueries()},d.prototype.stopQueryInStoreNoBroadcast=function(a){var u=this.queries.get(a);u&&u.stop()},d.prototype.clearStore=function(a){return void 0===a&&(a={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Xi("Store reset while query was in flight (not completed in link chain)"):new Xi(18)),this.queries.forEach(function(u){u.observableQuery?u.networkStatus=Vi.loading:u.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(a)},d.prototype.getObservableQueries=function(a){var u=this;void 0===a&&(a="active");var p=new Map,_=new Map,S=new Set;return Array.isArray(a)&&a.forEach(function(N){"string"==typeof N?_.set(N,!1):function(d){return Zs(d)&&"Document"===d.kind&&Array.isArray(d.definitions)}(N)?_.set(u.transform(N).document,!1):Zs(N)&&N.query&&S.add(N)}),this.queries.forEach(function(N,W){var te=N.observableQuery,ue=N.document;if(te){if("all"===a)return void p.set(W,te);var Pe=te.queryName;if("standby"===te.options.fetchPolicy||"active"===a&&!te.hasObservers())return;("active"===a||Pe&&_.has(Pe)||ue&&_.has(ue))&&(p.set(W,te),Pe&&_.set(Pe,!0),ue&&_.set(ue,!0))}}),S.size&&S.forEach(function(N){var W=cg("legacyOneTimeQuery"),te=u.getQuery(W).init({document:N.query,variables:N.variables}),ue=new np({queryManager:u,queryInfo:te,options:(0,Ut.pi)((0,Ut.pi)({},N),{fetchPolicy:"network-only"})});Xn(ue.queryId===W),te.setObservableQuery(ue),p.set(W,ue)}),__DEV__&&_.size&&_.forEach(function(N,W){N||__DEV__&&Xn.warn("Unknown query ".concat("string"==typeof W?"named ":"").concat(JSON.stringify(W,null,2)," requested in refetchQueries options.include array"))}),p},d.prototype.reFetchObservableQueries=function(a){var u=this;void 0===a&&(a=!1);var p=[];return this.getObservableQueries(a?"all":"active").forEach(function(_,S){var N=_.options.fetchPolicy;_.resetLastResults(),(a||"standby"!==N&&"cache-only"!==N)&&p.push(_.refetch()),u.getQuery(S).setDiff(null)}),this.broadcastQueries(),Promise.all(p)},d.prototype.setObservableQuery=function(a){this.getQuery(a.queryId).setObservableQuery(a)},d.prototype.startGraphQLSubscription=function(a){var u=this,p=a.query,_=a.fetchPolicy,S=a.errorPolicy,N=a.variables,W=a.context,te=void 0===W?{}:W;p=this.transform(p).document,N=this.getVariables(p,N);var ue=function(Ye){return u.getObservableFromLink(p,te,Ye).map(function(Ze){if("no-cache"!==_&&(il(Ze,S)&&u.cache.write({query:p,result:Ze.data,dataId:"ROOT_SUBSCRIPTION",variables:Ye}),u.broadcastQueries()),Qh(Ze))throw new Lc({graphQLErrors:Ze.errors});return Ze})};if(this.transform(p).hasClientExports){var Pe=this.localState.addExportedVariables(p,N,te).then(ue);return new qi(function(Ye){var Ze=null;return Pe.then(function(dt){return Ze=dt.subscribe(Ye)},Ye.error),function(){return Ze&&Ze.unsubscribe()}})}return ue(N)},d.prototype.stopQuery=function(a){this.stopQueryNoBroadcast(a),this.broadcastQueries()},d.prototype.stopQueryNoBroadcast=function(a){this.stopQueryInStoreNoBroadcast(a),this.removeQuery(a)},d.prototype.removeQuery=function(a){this.fetchCancelFns.delete(a),this.queries.has(a)&&(this.getQuery(a).stop(),this.queries.delete(a))},d.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(a){return a.notify()})},d.prototype.getLocalState=function(){return this.localState},d.prototype.getObservableFromLink=function(a,u,p,_){var N,S=this;void 0===_&&(_=null!==(N=null==u?void 0:u.queryDeduplication)&&void 0!==N?N:this.queryDeduplication);var W,te=this.transform(a).serverQuery;if(te){var Pe=this.inFlightLinkObservables,Ye=this.link,Ze={query:te,variables:p,operationName:Hh(te)||void 0,context:this.prepareContext((0,Ut.pi)((0,Ut.pi)({},u),{forceFetch:!_}))};if(u=Ze.context,_){var dt=Pe.get(te)||new Map;Pe.set(te,dt);var Gt=Fc(p);if(!(W=dt.get(Gt))){var Xt=new zu([$p(Ye,Ze)]);dt.set(Gt,W=Xt),Xt.cleanup(function(){dt.delete(Gt)&&dt.size<1&&Pe.delete(te)})}}else W=new zu([$p(Ye,Ze)])}else W=new zu([qi.of({data:{}})]),u=this.prepareContext(u);var gn=this.transform(a).clientQuery;return gn&&(W=Yh(W,function(Mn){return S.localState.runResolvers({document:gn,remoteResult:Mn,context:u,variables:p})})),W},d.prototype.getResultsFromLink=function(a,u,p){var _=a.lastRequestId=this.generateRequestId();return Yh(this.getObservableFromLink(a.document,p.context,p.variables),function(S){var N=Wu(S.errors);if(_>=a.lastRequestId){if(N&&"none"===p.errorPolicy)throw a.markError(new Lc({graphQLErrors:S.errors}));a.markResult(S,p,u),a.markReady()}var W={data:S.data,loading:!1,networkStatus:Vi.ready};return N&&"ignore"!==p.errorPolicy&&(W.errors=S.errors,W.networkStatus=Vi.error),W},function(S){var N=function(d){return d.hasOwnProperty("graphQLErrors")}(S)?S:new Lc({networkError:S});throw _>=a.lastRequestId&&a.markError(N),N})},d.prototype.fetchQueryObservable=function(a,u,p){var _=this;void 0===p&&(p=Vi.loading);var S=this.transform(u.query).document,N=this.getVariables(S,u.variables),W=this.getQuery(a),te=this.defaultOptions.watchQuery,ue=u.fetchPolicy,Ye=u.errorPolicy,dt=u.returnPartialData,Xt=u.notifyOnNetworkStatusChange,Mn=u.context,In=Object.assign({},u,{query:S,variables:N,fetchPolicy:void 0===ue?te&&te.fetchPolicy||"cache-first":ue,errorPolicy:void 0===Ye?te&&te.errorPolicy||"none":Ye,returnPartialData:void 0!==dt&&dt,notifyOnNetworkStatusChange:void 0!==Xt&&Xt,context:void 0===Mn?{}:Mn}),er=function(Hr){In.variables=Hr;var ri=_.fetchQueryByPolicy(W,In,p);return"standby"!==In.fetchPolicy&&ri.length>0&&W.observableQuery&&W.observableQuery.applyNextFetchPolicy("after-fetch",u),ri},jr=function(){return _.fetchCancelFns.delete(a)};this.fetchCancelFns.set(a,function(Hr){jr(),setTimeout(function(){return Fr.cancel(Hr)})});var Fr=new zu(this.transform(In.query).hasClientExports?this.localState.addExportedVariables(In.query,In.variables,In.context).then(er):er(In.variables));return Fr.promise.then(jr,jr),Fr},d.prototype.refetchQueries=function(a){var u=this,p=a.updateCache,_=a.include,S=a.optimistic,N=void 0!==S&&S,W=a.removeOptimistic,te=void 0===W?N?cg("refetchQueries"):void 0:W,ue=a.onQueryUpdated,Pe=new Map;_&&this.getObservableQueries(_).forEach(function(Ze,dt){Pe.set(dt,{oq:Ze,lastDiff:u.getQuery(dt).getDiff()})});var Ye=new Map;return p&&this.cache.batch({update:p,optimistic:N&&te||!1,removeOptimistic:te,onWatchUpdated:function(Ze,dt,Gt){var Xt=Ze.watcher instanceof sp&&Ze.watcher.observableQuery;if(Xt){if(ue){Pe.delete(Xt.queryId);var gn=ue(Xt,dt,Gt);return!0===gn&&(gn=Xt.refetch()),!1!==gn&&Ye.set(Xt,gn),gn}null!==ue&&Pe.set(Xt.queryId,{oq:Xt,lastDiff:Gt,diff:dt})}}}),Pe.size&&Pe.forEach(function(Ze,dt){var Mn,Gt=Ze.oq,Xt=Ze.lastDiff,gn=Ze.diff;if(ue){if(!gn){var or=Gt.queryInfo;or.reset(),gn=or.getDiff()}Mn=ue(Gt,gn,Xt)}(!ue||!0===Mn)&&(Mn=Gt.refetch()),!1!==Mn&&Ye.set(Gt,Mn),dt.indexOf("legacyOneTimeQuery")>=0&&u.stopQueryNoBroadcast(dt)}),te&&this.cache.removeOptimistic(te),Ye},d.prototype.fetchQueryByPolicy=function(a,u,p){var _=this,S=u.query,N=u.variables,W=u.fetchPolicy,te=u.refetchWritePolicy,ue=u.errorPolicy,Pe=u.returnPartialData,Ye=u.context,Ze=u.notifyOnNetworkStatusChange,dt=a.networkStatus;a.init({document:this.transform(S).document,variables:N,networkStatus:p});var Gt=function(){return a.getDiff(N)},Xt=function(er,jr){void 0===jr&&(jr=a.networkStatus||Vi.loading);var Fr=er.result;__DEV__&&!Pe&&!Gs(Fr,{})&&ny(er.missing);var Hr=function(ri){return qi.of((0,Ut.pi)({data:ri,loading:Mh(jr),networkStatus:jr},er.complete?null:{partial:!0}))};return Fr&&_.transform(S).hasForcedResolvers?_.localState.runResolvers({document:S,remoteResult:{data:Fr},context:Ye,variables:N,onlyRunForcedResolvers:!0}).then(function(ri){return Hr(ri.data||void 0)}):Hr(Fr)},gn="no-cache"===W?0:p===Vi.refetch&&"merge"!==te?1:2,Mn=function(){return _.getResultsFromLink(a,gn,{variables:N,context:Ye,fetchPolicy:W,errorPolicy:ue})},or=Ze&&"number"==typeof dt&&dt!==p&&Mh(p);switch(W){default:case"cache-first":return(In=Gt()).complete?[Xt(In,a.markReady())]:Pe||or?[Xt(In),Mn()]:[Mn()];case"cache-and-network":var In;return(In=Gt()).complete||Pe||or?[Xt(In),Mn()]:[Mn()];case"cache-only":return[Xt(Gt(),a.markReady())];case"network-only":return or?[Xt(Gt()),Mn()]:[Mn()];case"no-cache":return or?[Xt(a.getDiff()),Mn()]:[Mn()];case"standby":return[]}},d.prototype.getQuery=function(a){return a&&!this.queries.has(a)&&this.queries.set(a,new sp(this,a)),this.queries.get(a)},d.prototype.prepareContext=function(a){void 0===a&&(a={});var u=this.localState.prepareContext(a);return(0,Ut.pi)((0,Ut.pi)({},u),{clientAwareness:this.clientAwareness})},d}();function op(d,a){return $f(d,a,a.variables&&{variables:(0,Ut.pi)((0,Ut.pi)({},d&&d.variables),a.variables)})}var Jd=!1,sl=function(){function d(a){var u=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var p=a.uri,N=a.cache,W=a.ssrMode,te=void 0!==W&&W,ue=a.ssrForceFetchDelay,Pe=void 0===ue?0:ue,Ye=a.connectToDevTools,Ze=void 0===Ye?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:Ye,dt=a.queryDeduplication,Gt=void 0===dt||dt,Xt=a.defaultOptions,gn=a.assumeImmutableResults,Mn=void 0!==gn&&gn,or=a.resolvers,In=a.typeDefs,er=a.fragmentMatcher,jr=a.name,Fr=a.version,Hr=a.link;if(Hr||(Hr=p?new Uf({uri:p,credentials:a.credentials,headers:a.headers}):Md.empty()),!N)throw __DEV__?new Xi("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new Xi(7);if(this.link=Hr,this.cache=N,this.disableNetworkFetches=te||Pe>0,this.queryDeduplication=Gt,this.defaultOptions=Xt||Object.create(null),this.typeDefs=In,Pe&&setTimeout(function(){return u.disableNetworkFetches=!1},Pe),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),Ze&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!Jd&&__DEV__&&(Jd=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var ri=window.navigator,eo=ri&&ri.userAgent,$i=void 0;"string"==typeof eo&&(eo.indexOf("Chrome/")>-1?$i="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":eo.indexOf("Firefox/")>-1&&($i="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),$i&&__DEV__&&Xn.log("Download the Apollo DevTools for a better development experience: "+$i)}this.version="3.6.9",this.localState=new Ag({cache:N,client:this,resolvers:or,fragmentMatcher:er}),this.queryManager=new Mg({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:Gt,ssrMode:te,clientAwareness:{name:jr,version:Fr},localState:this.localState,assumeImmutableResults:Mn,onBroadcast:Ze?function(){u.devToolsHookCb&&u.devToolsHookCb({action:{},state:{queries:u.queryManager.getQueryStore(),mutations:u.queryManager.mutationStore||{}},dataWithOptimisticResults:u.cache.extract(!0)})}:void 0})}return d.prototype.stop=function(){this.queryManager.stop()},d.prototype.watchQuery=function(a){return this.defaultOptions.watchQuery&&(a=op(this.defaultOptions.watchQuery,a)),this.disableNetworkFetches&&("network-only"===a.fetchPolicy||"cache-and-network"===a.fetchPolicy)&&(a=(0,Ut.pi)((0,Ut.pi)({},a),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(a)},d.prototype.query=function(a){return this.defaultOptions.query&&(a=op(this.defaultOptions.query,a)),__DEV__?Xn("cache-and-network"!==a.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Xn("cache-and-network"!==a.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===a.fetchPolicy&&(a=(0,Ut.pi)((0,Ut.pi)({},a),{fetchPolicy:"cache-first"})),this.queryManager.query(a)},d.prototype.mutate=function(a){return this.defaultOptions.mutate&&(a=op(this.defaultOptions.mutate,a)),this.queryManager.mutate(a)},d.prototype.subscribe=function(a){return this.queryManager.startGraphQLSubscription(a)},d.prototype.readQuery=function(a,u){return void 0===u&&(u=!1),this.cache.readQuery(a,u)},d.prototype.readFragment=function(a,u){return void 0===u&&(u=!1),this.cache.readFragment(a,u)},d.prototype.writeQuery=function(a){this.cache.writeQuery(a),this.queryManager.broadcastQueries()},d.prototype.writeFragment=function(a){this.cache.writeFragment(a),this.queryManager.broadcastQueries()},d.prototype.__actionHookForDevTools=function(a){this.devToolsHookCb=a},d.prototype.__requestRaw=function(a){return $p(this.link,a)},d.prototype.resetStore=function(){var a=this;return Promise.resolve().then(function(){return a.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(a.resetStoreCallbacks.map(function(u){return u()}))}).then(function(){return a.reFetchObservableQueries()})},d.prototype.clearStore=function(){var a=this;return Promise.resolve().then(function(){return a.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(a.clearStoreCallbacks.map(function(u){return u()}))})},d.prototype.onResetStore=function(a){var u=this;return this.resetStoreCallbacks.push(a),function(){u.resetStoreCallbacks=u.resetStoreCallbacks.filter(function(p){return p!==a})}},d.prototype.onClearStore=function(a){var u=this;return this.clearStoreCallbacks.push(a),function(){u.clearStoreCallbacks=u.clearStoreCallbacks.filter(function(p){return p!==a})}},d.prototype.reFetchObservableQueries=function(a){return this.queryManager.reFetchObservableQueries(a)},d.prototype.refetchQueries=function(a){var u=this.queryManager.refetchQueries(a),p=[],_=[];u.forEach(function(N,W){p.push(W),_.push(N)});var S=Promise.all(_);return S.queries=p,S.results=_,S.catch(function(N){__DEV__&&Xn.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(N))}),S},d.prototype.getObservableQueries=function(a){return void 0===a&&(a="active"),this.queryManager.getObservableQueries(a)},d.prototype.extract=function(a){return this.cache.extract(a)},d.prototype.restore=function(a){return this.cache.restore(a)},d.prototype.addResolvers=function(a){this.localState.addResolvers(a)},d.prototype.setResolvers=function(a){this.localState.setResolvers(a)},d.prototype.getResolvers=function(){return this.localState.getResolvers()},d.prototype.setLocalStateFragmentMatcher=function(a){this.localState.setFragmentMatcher(a)},d.prototype.setLink=function(a){this.link=this.queryManager.link=a},d}(),rd=U(7771),To=U(6554),Uc=U(309);function Xd(d){return new Ne.y(a=>(d().then(u=>{a.closed||(a.next(u),a.complete())},u=>{a.closed||a.error(u)}),()=>a.unsubscribe()))}class ap{constructor(a){this.zone=a,this.now=Date.now?Date.now:()=>+new Date}schedule(a,u=0,p){return this.zone.run(()=>rd.N.schedule(a,u,p))}}function Bc(d){return d[To.L]=()=>d,d}function wl(d,a){return d.pipe((0,Uc.QV)(new ap(a)))}function jc(d,a,u){return d&&void 0!==d[a]?d[a]:u}class th{constructor(a,u,p){this.obsQuery=a;const _=wl((0,ir.D)(Bc(this.obsQuery)),u);this.valueChanges=p.useInitialLoading?_.pipe(function(d){return function(u){return new Ne.y(function(_){const S=d.getCurrentResult(),{loading:N,errors:W,error:te,partial:ue,data:Pe}=S,{partialRefetch:Ye,fetchPolicy:Ze}=d.options,dt=W||te;return Ye&&ue&&(!Pe||0===Object.keys(Pe).length)&&"cache-only"!==Ze&&!N&&!dt&&_.next(Object.assign(Object.assign({},S),{loading:!0,networkStatus:Vi.loading})),u.subscribe(_)})}}(this.obsQuery)):_,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(a){return this.obsQuery.refetch(a)}fetchMore(a){return this.obsQuery.fetchMore(a)}subscribeToMore(a){return this.obsQuery.subscribeToMore(a)}updateQuery(a){return this.obsQuery.updateQuery(a)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(a){return this.obsQuery.startPolling(a)}setOptions(a){return this.obsQuery.setOptions(a)}setVariables(a){return this.obsQuery.setVariables(a)}}const nh=new o.OlP("APOLLO_FLAGS"),Cu=new o.OlP("APOLLO_OPTIONS"),rh=new o.OlP("APOLLO_NAMED_OPTIONS");class Tu{constructor(a,u,p){this.ngZone=a,this.flags=u,this._client=p,this.useInitialLoading=jc(u,"useInitialLoading",!1),this.useMutationLoading=jc(u,"useMutationLoading",!1)}watchQuery(a){return new th(this.ensureClient().watchQuery(Object.assign({},a)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},a))}query(a){return Xd(()=>this.ensureClient().query(Object.assign({},a)))}mutate(a){var u;return function(d,a){return a?d.pipe((0,Zn.O)({loading:!0}),(0,Ee.U)(u=>Object.assign(Object.assign({},u),{loading:!!u.loading}))):d.pipe((0,Ee.U)(u=>Object.assign(Object.assign({},u),{loading:!1})))}(Xd(()=>this.ensureClient().mutate(Object.assign({},a))),null!==(u=a.useMutationLoading)&&void 0!==u?u:this.useMutationLoading)}subscribe(a,u){const p=(0,ir.D)(Bc(this.ensureClient().subscribe(Object.assign({},a))));return u&&!0!==u.useZone?p:wl(p,this.ngZone)}getClient(){return this.client}setClient(a){this.client=a}get client(){return this._client}set client(a){if(this._client)throw new Error("Client has been already defined");this._client=a}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let fy=(()=>{class d extends Tu{constructor(u,p,_,S){if(super(u,S),this._ngZone=u,this.map=new Map,p&&this.createDefault(p),_&&"object"==typeof _)for(let N in _)_.hasOwnProperty(N)&&this.createNamed(N,_[N])}create(u,p){lp(p)?this.createDefault(u):this.createNamed(p,u)}default(){return this}use(u){return lp(u)?this.default():this.map.get(u)}createDefault(u){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new sl(u))}createNamed(u,p){if(this.map.has(u))throw new Error(`Client ${u} has been already created`);this.map.set(u,new Tu(this._ngZone,this.flags,new sl(p)))}removeClient(u){lp(u)?this._client=void 0:this.map.delete(u)}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(o.R0b),o.LFG(Cu,8),o.LFG(rh,8),o.LFG(nh,8))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac}),d})();function lp(d){return!d||"default"===d}const py=[fy];let gy=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({providers:py}),d})();var hi=function(){function d(){this.getFragmentDoc=Xu(Rm)}return d.prototype.batch=function(a){var _,u=this;return this.performTransaction(function(){return _=a.update(u)},"string"==typeof a.optimistic?a.optimistic:!1===a.optimistic?null:void 0),_},d.prototype.recordOptimisticTransaction=function(a,u){this.performTransaction(a,u)},d.prototype.transformDocument=function(a){return a},d.prototype.identify=function(a){},d.prototype.gc=function(){return[]},d.prototype.modify=function(a){return!1},d.prototype.transformForLink=function(a){return a},d.prototype.readQuery=function(a,u){return void 0===u&&(u=!!a.optimistic),this.read((0,Ut.pi)((0,Ut.pi)({},a),{rootId:a.id||"ROOT_QUERY",optimistic:u}))},d.prototype.readFragment=function(a,u){return void 0===u&&(u=!!a.optimistic),this.read((0,Ut.pi)((0,Ut.pi)({},a),{query:this.getFragmentDoc(a.fragment,a.fragmentName),rootId:a.id,optimistic:u}))},d.prototype.writeQuery=function(a){var u=a.id,p=a.data,_=(0,Ut._T)(a,["id","data"]);return this.write(Object.assign(_,{dataId:u||"ROOT_QUERY",result:p}))},d.prototype.writeFragment=function(a){var u=a.id,p=a.data,_=a.fragment,S=a.fragmentName,N=(0,Ut._T)(a,["id","data","fragment","fragmentName"]);return this.write(Object.assign(N,{query:this.getFragmentDoc(_,S),dataId:u,result:p}))},d.prototype.updateQuery=function(a,u){return this.batch({update:function(p){var _=p.readQuery(a),S=u(_);return null==S?_:(p.writeQuery((0,Ut.pi)((0,Ut.pi)({},a),{data:S})),S)}})},d.prototype.updateFragment=function(a,u){return this.batch({update:function(p){var _=p.readFragment(a),S=u(_);return null==S?_:(p.writeFragment((0,Ut.pi)((0,Ut.pi)({},a),{data:S})),S)}})},d}(),Rg=function(a,u,p,_){this.message=a,this.path=u,this.query=p,this.variables=_};function Pg(d){return __DEV__&&function(d){var a=new Set([d]);a.forEach(function(u){Zs(u)&&function(d){if(__DEV__&&!Object.isFrozen(d))try{Object.freeze(d)}catch(a){if(a instanceof TypeError)return null;throw a}return d}(u)===u&&Object.getOwnPropertyNames(u).forEach(function(p){Zs(u[p])&&a.add(u[p])})})}(d),d}var as=Object.create(null),Vo=function(){return as},Cl=Object.create(null),sh=function(){function d(a,u){var p=this;this.policies=a,this.group=u,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(_,S){return Pg(Oi(_)?p.get(_.__ref,S):_&&_[S])},this.canRead=function(_){return Oi(_)?p.has(_.__ref):"object"==typeof _},this.toReference=function(_,S){if("string"==typeof _)return Hu(_);if(Oi(_))return _;var N=p.policies.identify(_)[0];if(N){var W=Hu(N);return S&&p.merge(N,_),W}}}return d.prototype.toObject=function(){return(0,Ut.pi)({},this.data)},d.prototype.has=function(a){return void 0!==this.lookup(a,!0)},d.prototype.get=function(a,u){if(this.group.depend(a,u),go.call(this.data,a)){var p=this.data[a];if(p&&go.call(p,u))return p[u]}return"__typename"===u&&go.call(this.policies.rootTypenamesById,a)?this.policies.rootTypenamesById[a]:this instanceof Du?this.parent.get(a,u):void 0},d.prototype.lookup=function(a,u){return u&&this.group.depend(a,"__exists"),go.call(this.data,a)?this.data[a]:this instanceof Du?this.parent.lookup(a,u):this.policies.rootTypenamesById[a]?Object.create(null):void 0},d.prototype.merge=function(a,u){var _,p=this;Oi(a)&&(a=a.__ref),Oi(u)&&(u=u.__ref);var S="string"==typeof a?this.lookup(_=a):a,N="string"==typeof u?this.lookup(_=u):u;if(N){__DEV__?Xn("string"==typeof _,"store.merge expects a string ID"):Xn("string"==typeof _,1);var W=new lc(cp).merge(S,N);if(this.data[_]=W,W!==S&&(delete this.refs[_],this.group.caching)){var te=Object.create(null);S||(te.__exists=1),Object.keys(N).forEach(function(ue){if(!S||S[ue]!==W[ue]){te[ue]=1;var Pe=cc(ue);Pe!==ue&&!p.policies.hasKeyArgs(W.__typename,Pe)&&(te[Pe]=1),void 0===W[ue]&&!(p instanceof Du)&&delete W[ue]}}),te.__typename&&!(S&&S.__typename)&&this.policies.rootTypenamesById[_]===W.__typename&&delete te.__typename,Object.keys(te).forEach(function(ue){return p.group.dirty(_,ue)})}}},d.prototype.modify=function(a,u){var p=this,_=this.lookup(a);if(_){var S=Object.create(null),N=!1,W=!0,te={DELETE:as,INVALIDATE:Cl,isReference:Oi,toReference:this.toReference,canRead:this.canRead,readField:function(ue,Pe){return p.policies.readField("string"==typeof ue?{fieldName:ue,from:Pe||Hu(a)}:ue,{store:p})}};if(Object.keys(_).forEach(function(ue){var Pe=cc(ue),Ye=_[ue];if(void 0!==Ye){var Ze="function"==typeof u?u:u[ue]||u[Pe];if(Ze){var dt=Ze===Vo?as:Ze(Pg(Ye),(0,Ut.pi)((0,Ut.pi)({},te),{fieldName:Pe,storeFieldName:ue,storage:p.getStorage(a,ue)}));dt===Cl?p.group.dirty(a,ue):(dt===as&&(dt=void 0),dt!==Ye&&(S[ue]=dt,N=!0,Ye=dt))}void 0!==Ye&&(W=!1)}}),N)return this.merge(a,S),W&&(this instanceof Du?this.data[a]=void 0:delete this.data[a],this.group.dirty(a,"__exists")),!0}return!1},d.prototype.delete=function(a,u,p){var _,S=this.lookup(a);if(S){var N=this.getFieldValue(S,"__typename"),W=u&&p?this.policies.getStoreFieldName({typename:N,fieldName:u,args:p}):u;return this.modify(a,W?((_={})[W]=Vo,_):Vo)}return!1},d.prototype.evict=function(a,u){var p=!1;return a.id&&(go.call(this.data,a.id)&&(p=this.delete(a.id,a.fieldName,a.args)),this instanceof Du&&this!==u&&(p=this.parent.evict(a,u)||p),(a.fieldName||p)&&this.group.dirty(a.id,a.fieldName||"__exists")),p},d.prototype.clear=function(){this.replace(null)},d.prototype.extract=function(){var a=this,u=this.toObject(),p=[];return this.getRootIdSet().forEach(function(_){go.call(a.policies.rootTypenamesById,_)||p.push(_)}),p.length&&(u.__META={extraRootIds:p.sort()}),u},d.prototype.replace=function(a){var u=this;if(Object.keys(this.data).forEach(function(S){a&&go.call(a,S)||u.delete(S)}),a){var p=a.__META,_=(0,Ut._T)(a,["__META"]);Object.keys(_).forEach(function(S){u.merge(S,_[S])}),p&&p.extraRootIds.forEach(this.retain,this)}},d.prototype.retain=function(a){return this.rootIds[a]=(this.rootIds[a]||0)+1},d.prototype.release=function(a){if(this.rootIds[a]>0){var u=--this.rootIds[a];return u||delete this.rootIds[a],u}return 0},d.prototype.getRootIdSet=function(a){return void 0===a&&(a=new Set),Object.keys(this.rootIds).forEach(a.add,a),this instanceof Du?this.parent.getRootIdSet(a):Object.keys(this.policies.rootTypenamesById).forEach(a.add,a),a},d.prototype.gc=function(){var a=this,u=this.getRootIdSet(),p=this.toObject();u.forEach(function(N){go.call(p,N)&&(Object.keys(a.findChildRefIds(N)).forEach(u.add,u),delete p[N])});var _=Object.keys(p);if(_.length){for(var S=this;S instanceof Du;)S=S.parent;_.forEach(function(N){return S.delete(N)})}return _},d.prototype.findChildRefIds=function(a){if(!go.call(this.refs,a)){var u=this.refs[a]=Object.create(null),p=this.data[a];if(!p)return u;var _=new Set([p]);_.forEach(function(S){Oi(S)&&(u[S.__ref]=!0),Zs(S)&&Object.keys(S).forEach(function(N){var W=S[N];Zs(W)&&_.add(W)})})}return this.refs[a]},d.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},d}(),Ng=function(){function d(a,u){void 0===u&&(u=null),this.caching=a,this.parent=u,this.d=null,this.resetCaching()}return d.prototype.resetCaching=function(){this.d=this.caching?Tg():null,this.keyMaker=new Zf(Ul)},d.prototype.depend=function(a,u){if(this.d){this.d(oh(a,u));var p=cc(u);p!==u&&this.d(oh(a,p)),this.parent&&this.parent.depend(a,u)}},d.prototype.dirty=function(a,u){this.d&&this.d.dirty(oh(a,u),"__exists"===u?"forget":"setDirty")},d}();function oh(d,a){return a+"#"+d}function Fg(d,a){up(d)&&d.group.depend(a,"__exists")}!function(d){var a=function(u){function p(_){var N=_.resultCaching,te=_.seed,ue=u.call(this,_.policies,new Ng(void 0===N||N))||this;return ue.stump=new w_(ue),ue.storageTrie=new Zf(Ul),te&&ue.replace(te),ue}return(0,Ut.ZT)(p,u),p.prototype.addLayer=function(_,S){return this.stump.addLayer(_,S)},p.prototype.removeLayer=function(){return this},p.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},p}(d);d.Root=a}(sh||(sh={}));var Du=function(d){function a(u,p,_,S){var N=d.call(this,p.policies,S)||this;return N.id=u,N.parent=p,N.replay=_,N.group=S,_(N),N}return(0,Ut.ZT)(a,d),a.prototype.addLayer=function(u,p){return new a(u,this,p,this.group)},a.prototype.removeLayer=function(u){var p=this,_=this.parent.removeLayer(u);return u===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(S){var N=p.data[S],W=_.lookup(S);W?N?N!==W&&Object.keys(N).forEach(function(te){Gs(N[te],W[te])||p.group.dirty(S,te)}):(p.group.dirty(S,"__exists"),Object.keys(W).forEach(function(te){p.group.dirty(S,te)})):p.delete(S)}),_):_===this.parent?this:_.addLayer(this.id,this.replay)},a.prototype.toObject=function(){return(0,Ut.pi)((0,Ut.pi)({},this.parent.toObject()),this.data)},a.prototype.findChildRefIds=function(u){var p=this.parent.findChildRefIds(u);return go.call(this.data,u)?(0,Ut.pi)((0,Ut.pi)({},p),d.prototype.findChildRefIds.call(this,u)):p},a.prototype.getStorage=function(){for(var u=this.parent;u.parent;)u=u.parent;return u.getStorage.apply(u,arguments)},a}(sh),w_=function(d){function a(u){return d.call(this,"EntityStore.Stump",u,function(){},new Ng(u.group.caching,u.group))||this}return(0,Ut.ZT)(a,d),a.prototype.removeLayer=function(){return this},a.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},a}(Du);function cp(d,a,u){var p=d[u],_=a[u];return Gs(p,_)?p:_}function up(d){return!!(d instanceof sh&&d.group.caching)}function C_(d){return[d.selectionSet,d.objectOrReference,d.context,d.context.canonizeResults]}var Us=function(){function d(a){var u=this;this.knownResults=new(Ul?WeakMap:Map),this.config=$f(a,{addTypename:!1!==a.addTypename,canonizeResults:Kf(a)}),this.canon=a.canon||new $u,this.executeSelectionSet=Xu(function(p){var _,S=p.context.canonizeResults,N=C_(p);N[3]=!S;var W=(_=u.executeSelectionSet).peek.apply(_,N);return W?S?(0,Ut.pi)((0,Ut.pi)({},W),{result:u.canon.admit(W.result)}):W:(Fg(p.context.store,p.enclosingRef.__ref),u.execSelectionSetImpl(p))},{max:this.config.resultCacheMaxSize,keyArgs:C_,makeCacheKey:function(p,_,S,N){if(up(S.store))return S.store.makeCacheKey(p,Oi(_)?_.__ref:_,S.varString,N)}}),this.executeSubSelectedArray=Xu(function(p){return Fg(p.context.store,p.enclosingRef.__ref),u.execSubSelectedArrayImpl(p)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(p){var _=p.field,S=p.array,N=p.context;if(up(N.store))return N.store.makeCacheKey(_,S,N.varString)}})}return d.prototype.resetCanon=function(){this.canon=new $u},d.prototype.diffQueryAgainstStore=function(a){var u=a.store,p=a.query,_=a.rootId,S=void 0===_?"ROOT_QUERY":_,N=a.variables,W=a.returnPartialData,te=void 0===W||W,ue=a.canonizeResults,Pe=void 0===ue?this.config.canonizeResults:ue,Ye=this.config.cache.policies;N=(0,Ut.pi)((0,Ut.pi)({},Fm(Zh(p))),N);var Gt,Ze=Hu(S),dt=this.executeSelectionSet({selectionSet:Ad(p).selectionSet,objectOrReference:Ze,enclosingRef:Ze,context:{store:u,query:p,policies:Ye,variables:N,varString:Fc(N),canonizeResults:Pe,fragmentMap:Lh(Qo(p))}});if(dt.missing&&(Gt=[new Rg(wv(dt.missing),dt.missing,p,N)],!te))throw Gt[0];return{result:dt.result,complete:!Gt,missing:Gt}},d.prototype.isFresh=function(a,u,p,_){if(up(_.store)&&this.knownResults.get(a)===p){var S=this.executeSelectionSet.peek(p,u,_,this.canon.isKnown(a));if(S&&a===S.result)return!0}return!1},d.prototype.execSelectionSetImpl=function(a){var u=this,p=a.selectionSet,_=a.objectOrReference,S=a.enclosingRef,N=a.context;if(Oi(_)&&!N.policies.rootTypenamesById[_.__ref]&&!N.store.has(_.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(_.__ref," object")};var Ze,W=N.variables,te=N.policies,Pe=N.store.getFieldValue(_,"__typename"),Ye=[],dt=new lc;function Gt(In,er){var jr;return In.missing&&(Ze=dt.merge(Ze,((jr={})[er]=In.missing,jr))),In.result}this.config.addTypename&&"string"==typeof Pe&&!te.rootIdsByTypename[Pe]&&Ye.push({__typename:Pe});var Xt=new Set(p.selections);Xt.forEach(function(In){var er,jr;if(zf(In,W))if(wo(In)){var Fr=te.readField({fieldName:In.name.value,field:In,variables:N.variables,from:_},N),Hr=Fl(In);void 0===Fr?bl.added(In)||(Ze=dt.merge(Ze,((er={})[Hr]="Can't find field '".concat(In.name.value,"' on ").concat(Oi(_)?_.__ref+" object":"object "+JSON.stringify(_,null,2)),er))):Fs(Fr)?Fr=Gt(u.executeSubSelectedArray({field:In,array:Fr,enclosingRef:S,context:N}),Hr):In.selectionSet?null!=Fr&&(Fr=Gt(u.executeSelectionSet({selectionSet:In.selectionSet,objectOrReference:Fr,enclosingRef:Oi(Fr)?Fr:S,context:N}),Hr)):N.canonizeResults&&(Fr=u.canon.pass(Fr)),void 0!==Fr&&Ye.push(((jr={})[Hr]=Fr,jr))}else{var ri=Vh(In,N.fragmentMap);ri&&te.fragmentMatches(ri,Pe)&&ri.selectionSet.selections.forEach(Xt.add,Xt)}});var Mn={result:Wh(Ye),missing:Ze},or=N.canonizeResults?this.canon.admit(Mn):Pg(Mn);return or.result&&this.knownResults.set(or.result,p),or},d.prototype.execSubSelectedArrayImpl=function(a){var W,u=this,p=a.field,_=a.array,S=a.enclosingRef,N=a.context,te=new lc;function ue(Pe,Ye){var Ze;return Pe.missing&&(W=te.merge(W,((Ze={})[Ye]=Pe.missing,Ze))),Pe.result}return p.selectionSet&&(_=_.filter(N.store.canRead)),_=_.map(function(Pe,Ye){return null===Pe?null:Fs(Pe)?ue(u.executeSubSelectedArray({field:p,array:Pe,enclosingRef:S,context:N}),Ye):p.selectionSet?ue(u.executeSelectionSet({selectionSet:p.selectionSet,objectOrReference:Pe,enclosingRef:Oi(Pe)?Pe:S,context:N}),Ye):(__DEV__&&function(d,a,u){if(!a.selectionSet){var p=new Set([u]);p.forEach(function(_){Zs(_)&&(__DEV__?Xn(!Oi(_),"Missing selection set for object of type ".concat(function(d,a){return Oi(a)?d.get(a.__ref,"__typename"):a&&a.__typename}(d,_)," returned for query field ").concat(a.name.value)):Xn(!Oi(_),5),Object.values(_).forEach(p.add,p))})}}(N.store,p,Pe),Pe)}),{result:N.canonizeResults?this.canon.admit(_):_,missing:W}},d}();function wv(d){try{JSON.stringify(d,function(a,u){if("string"==typeof u)throw u;return u})}catch(a){return a}}var Lg=Object.create(null);function sf(d){var a=JSON.stringify(d);return Lg[a]||(Lg[a]=Object.create(null))}function dp(d){var a=sf(d);return a.keyFieldsFn||(a.keyFieldsFn=function(u,p){var _=function(N,W){return p.readField(W,N)},S=p.keyObject=by(d,function(N){var W=ah(p.storeObject,N,_);return void 0===W&&u!==p.storeObject&&go.call(u,N[0])&&(W=ah(u,N,D_)),__DEV__?Xn(void 0!==W,"Missing field '".concat(N.join("."),"' while extracting keyFields from ").concat(JSON.stringify(u))):Xn(void 0!==W,2),W});return"".concat(p.typename,":").concat(JSON.stringify(S))})}function Vg(d){var a=sf(d);return a.keyArgsFn||(a.keyArgsFn=function(u,p){var _=p.field,S=p.variables,N=p.fieldName,W=by(d,function(ue){var Pe=ue[0],Ye=Pe.charAt(0);if("@"!==Ye)if("$"!==Ye){if(u)return ah(u,ue)}else{var Xt=Pe.slice(1);if(S&&go.call(S,Xt)){var gn=ue.slice(0);return gn[0]=Xt,ah(S,gn)}}else if(_&&Wu(_.directives)){var Ze=Pe.slice(1),dt=_.directives.find(function(Mn){return Mn.name.value===Ze}),Gt=dt&&Br(dt,S);return Gt&&ah(Gt,ue.slice(1))}}),te=JSON.stringify(W);return(u||"{}"!==te)&&(N+=":"+te),N})}function by(d,a){var u=new lc;return T_(d).reduce(function(p,_){var S,N=a(_);if(void 0!==N){for(var W=_.length-1;W>=0;--W)(S={})[_[W]]=N,N=S;p=u.merge(p,N)}return p},Object.create(null))}function T_(d){var a=sf(d);if(!a.paths){var u=a.paths=[],p=[];d.forEach(function(_,S){Fs(_)?(T_(_).forEach(function(N){return u.push(p.concat(N))}),p.length=0):(p.push(_),Fs(d[S+1])||(u.push(p.slice(0)),p.length=0))})}return a.paths}function D_(d,a){return d[a]}function ah(d,a,u){return u=u||D_,Ey(a.reduce(function p(_,S){return Fs(_)?_.map(function(N){return p(N,S)}):_&&u(_,S)},d))}function Ey(d){return Zs(d)?Fs(d)?d.map(Ey):by(Object.keys(d).sort(),function(a){return ah(d,a)}):d}function wy(d){return void 0!==d.args?d.args:d.field?Br(d.field,d.variables):null}Lf.setStringify(Fc);var S_=function(){},Su=function(d,a){return a.fieldName},dc=function(d,a,u){return(0,u.mergeObjects)(d,a)},Cy=function(d,a){return a},hc=function(){function d(a){this.config=a,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,Ut.pi)({dataIdFromObject:Pc},a),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),a.possibleTypes&&this.addPossibleTypes(a.possibleTypes),a.typePolicies&&this.addTypePolicies(a.typePolicies)}return d.prototype.identify=function(a,u){var p,_=this,S=u&&(u.typename||(null===(p=u.storeObject)||void 0===p?void 0:p.__typename))||a.__typename;if(S===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var te,N=u&&u.storeObject||a,W=(0,Ut.pi)((0,Ut.pi)({},u),{typename:S,storeObject:N,readField:u&&u.readField||function(){var Ze=Zc(arguments,N);return _.readField(Ze,{store:_.cache.data,variables:Ze.variables})}}),ue=S&&this.getTypePolicy(S),Pe=ue&&ue.keyFn||this.config.dataIdFromObject;Pe;){var Ye=Pe(a,W);if(!Fs(Ye)){te=Ye;break}Pe=dp(Ye)}return te=te?String(te):void 0,W.keyObject?[te,W.keyObject]:[te]},d.prototype.addTypePolicies=function(a){var u=this;Object.keys(a).forEach(function(p){var _=a[p],S=_.queryType,N=_.mutationType,W=_.subscriptionType,te=(0,Ut._T)(_,["queryType","mutationType","subscriptionType"]);S&&u.setRootTypename("Query",p),N&&u.setRootTypename("Mutation",p),W&&u.setRootTypename("Subscription",p),go.call(u.toBeAdded,p)?u.toBeAdded[p].push(te):u.toBeAdded[p]=[te]})},d.prototype.updateTypePolicy=function(a,u){var p=this,_=this.getTypePolicy(a),S=u.keyFields,N=u.fields;function W(te,ue){te.merge="function"==typeof ue?ue:!0===ue?dc:!1===ue?Cy:te.merge}W(_,u.merge),_.keyFn=!1===S?S_:Fs(S)?dp(S):"function"==typeof S?S:_.keyFn,N&&Object.keys(N).forEach(function(te){var ue=p.getFieldPolicy(a,te,!0),Pe=N[te];if("function"==typeof Pe)ue.read=Pe;else{var Ye=Pe.keyArgs,Ze=Pe.read,dt=Pe.merge;ue.keyFn=!1===Ye?Su:Fs(Ye)?Vg(Ye):"function"==typeof Ye?Ye:ue.keyFn,"function"==typeof Ze&&(ue.read=Ze),W(ue,dt)}ue.read&&ue.merge&&(ue.keyFn=ue.keyFn||Su)})},d.prototype.setRootTypename=function(a,u){void 0===u&&(u=a);var p="ROOT_"+a.toUpperCase(),_=this.rootTypenamesById[p];u!==_&&(__DEV__?Xn(!_||_===a,"Cannot change root ".concat(a," __typename more than once")):Xn(!_||_===a,3),_&&delete this.rootIdsByTypename[_],this.rootIdsByTypename[u]=p,this.rootTypenamesById[p]=u)},d.prototype.addPossibleTypes=function(a){var u=this;this.usingPossibleTypes=!0,Object.keys(a).forEach(function(p){u.getSupertypeSet(p,!0),a[p].forEach(function(_){u.getSupertypeSet(_,!0).add(p);var S=_.match(Yf);(!S||S[0]!==_)&&u.fuzzySubtypes.set(_,new RegExp(_))})})},d.prototype.getTypePolicy=function(a){var u=this;if(!go.call(this.typePolicies,a)){var p=this.typePolicies[a]=Object.create(null);p.fields=Object.create(null);var _=this.supertypeMap.get(a);_&&_.size&&_.forEach(function(N){var W=u.getTypePolicy(N),te=W.fields,ue=(0,Ut._T)(W,["fields"]);Object.assign(p,ue),Object.assign(p.fields,te)})}var S=this.toBeAdded[a];return S&&S.length&&S.splice(0).forEach(function(N){u.updateTypePolicy(a,N)}),this.typePolicies[a]},d.prototype.getFieldPolicy=function(a,u,p){if(a){var _=this.getTypePolicy(a).fields;return _[u]||p&&(_[u]=Object.create(null))}},d.prototype.getSupertypeSet=function(a,u){var p=this.supertypeMap.get(a);return!p&&u&&this.supertypeMap.set(a,p=new Set),p},d.prototype.fragmentMatches=function(a,u,p,_){var S=this;if(!a.typeCondition)return!0;if(!u)return!1;var N=a.typeCondition.name.value;if(u===N)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(N))for(var W=this.getSupertypeSet(u,!0),te=[W],ue=function(Gt){var Xt=S.getSupertypeSet(Gt,!1);Xt&&Xt.size&&te.indexOf(Xt)<0&&te.push(Xt)},Pe=!(!p||!this.fuzzySubtypes.size),Ye=!1,Ze=0;Ze<te.length;++Ze){var dt=te[Ze];if(dt.has(N))return W.has(N)||(Ye&&__DEV__&&Xn.warn("Inferring subtype ".concat(u," of supertype ").concat(N)),W.add(N)),!0;dt.forEach(ue),Pe&&Ze===te.length-1&&Kh(a.selectionSet,p,_)&&(Pe=!1,Ye=!0,this.fuzzySubtypes.forEach(function(Gt,Xt){var gn=u.match(Gt);gn&&gn[0]===u&&ue(Xt)}))}return!1},d.prototype.hasKeyArgs=function(a,u){var p=this.getFieldPolicy(a,u,!1);return!(!p||!p.keyFn)},d.prototype.getStoreFieldName=function(a){var S,u=a.typename,p=a.fieldName,_=this.getFieldPolicy(u,p,!1),N=_&&_.keyFn;if(N&&u)for(var W={typename:u,fieldName:p,field:a.field||null,variables:a.variables},te=wy(a);N;){var ue=N(te,W);if(!Fs(ue)){S=ue||p;break}N=Vg(ue)}return void 0===S&&(S=a.field?function(d,a){var u=null;d.directives&&(u={},d.directives.forEach(function(_){u[_.name.value]={},_.arguments&&_.arguments.forEach(function(S){return Ac(u[_.name.value],S.name,S.value,a)})}));var p=null;return d.arguments&&d.arguments.length&&(p={},d.arguments.forEach(function(_){return Ac(p,_.name,_.value,a)})),Lf(d.name.value,p,u)}(a.field,a.variables):Lf(p,wy(a))),!1===S?p:p===cc(S)?S:p+":"+S},d.prototype.readField=function(a,u){var p=a.from;if(p&&(a.field||a.fieldName)){if(void 0===a.typename){var S=u.store.getFieldValue(p,"__typename");S&&(a.typename=S)}var N=this.getStoreFieldName(a),W=cc(N),te=u.store.getFieldValue(p,N),ue=this.getFieldPolicy(a.typename,W,!1),Pe=ue&&ue.read;if(Pe){var Ye=Hc(this,p,a,u,u.store.getStorage(Oi(p)?p.__ref:p,N));return ed.withValue(this.cache,Pe,[te,Ye])}return te}},d.prototype.getReadFunction=function(a,u){var p=this.getFieldPolicy(a,u,!1);return p&&p.read},d.prototype.getMergeFunction=function(a,u,p){var _=this.getFieldPolicy(a,u,!1),S=_&&_.merge;return!S&&p&&(S=(_=this.getTypePolicy(p))&&_.merge),S},d.prototype.runMergeFunction=function(a,u,p,_,S){var N=p.field,W=p.typename,te=p.merge;return te===dc?Ty(_.store)(a,u):te===Cy?u:(_.overwrite&&(a=void 0),te(a,u,Hc(this,void 0,{typename:W,fieldName:N.name.value,field:N,variables:_.variables},_,S||Object.create(null))))},d}();function Hc(d,a,u,p,_){var S=d.getStoreFieldName(u),N=cc(S),W=u.variables||p.variables,te=p.store,ue=te.toReference,Pe=te.canRead;return{args:wy(u),field:u.field||null,fieldName:N,storeFieldName:S,variables:W,isReference:Oi,toReference:ue,storage:_,cache:d.cache,canRead:Pe,readField:function(){return d.readField(Zc(arguments,a,W),p)},mergeObjects:Ty(p.store)}}function Zc(d,a,u){var N,p=d[0];return"string"==typeof p?N={fieldName:p,from:d.length>1?d[1]:a}:(N=(0,Ut.pi)({},p),go.call(N,"from")||(N.from=a)),__DEV__&&void 0===N.from&&__DEV__&&Xn.warn("Undefined 'from' passed to readField with arguments ".concat(function(d){var a=cg("stringifyForDisplay");return JSON.stringify(d,function(u,p){return void 0===p?a:p}).split(JSON.stringify(a)).join("<undefined>")}(Array.from(d)))),void 0===N.variables&&(N.variables=u),N}function Ty(d){return function(u,p){if(Fs(u)||Fs(p))throw __DEV__?new Xi("Cannot automatically merge arrays"):new Xi(4);if(Zs(u)&&Zs(p)){var _=d.getFieldValue(u,"__typename"),S=d.getFieldValue(p,"__typename");if(_&&S&&_!==S)return p;if(Oi(u)&&Nc(p))return d.merge(u.__ref,p),u;if(Nc(u)&&Oi(p))return d.merge(u,p.__ref),p;if(Nc(u)&&Nc(p))return(0,Ut.pi)((0,Ut.pi)({},u),p)}return p}}function hp(d,a,u){var p="".concat(a).concat(u),_=d.flavors.get(p);return _||d.flavors.set(p,_=d.clientOnly===a&&d.deferred===u?d:(0,Ut.pi)((0,Ut.pi)({},d),{clientOnly:a,deferred:u})),_}var Dy=function(){function d(a,u){this.cache=a,this.reader=u}return d.prototype.writeToStore=function(a,u){var p=this,_=u.query,S=u.result,N=u.dataId,W=u.variables,te=u.overwrite,ue=Ll(_),Pe=new lc;W=(0,Ut.pi)((0,Ut.pi)({},Fm(ue)),W);var Ye={store:a,written:Object.create(null),merge:function(dt,Gt){return Pe.merge(dt,Gt)},variables:W,varString:Fc(W),fragmentMap:Lh(Qo(_)),overwrite:!!te,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},Ze=this.processSelectionSet({result:S||Object.create(null),dataId:N,selectionSet:ue.selectionSet,mergeTree:{map:new Map},context:Ye});if(!Oi(Ze))throw __DEV__?new Xi("Could not identify object ".concat(JSON.stringify(S))):new Xi(6);return Ye.incomingById.forEach(function(dt,Gt){var Xt=dt.storeObject,gn=dt.mergeTree,Mn=dt.fieldNodeSet,or=Hu(Gt);if(gn&&gn.map.size){var In=p.applyMerges(gn,or,Xt,Ye);if(Oi(In))return;Xt=In}if(__DEV__&&!Ye.overwrite){var er=Object.create(null);Mn.forEach(function(Hr){Hr.selectionSet&&(er[Hr.name.value]=!0)}),Object.keys(Xt).forEach(function(Hr){(function(Hr){return!0===er[cc(Hr)]})(Hr)&&!function(Hr){var ri=gn&&gn.map.get(Hr);return Boolean(ri&&ri.info&&ri.info.merge)}(Hr)&&function(d,a,u,p){var _=function(Ye){var Ze=p.getFieldValue(Ye,u);return"object"==typeof Ze&&Ze},S=_(d);if(S){var N=_(a);if(N&&!Oi(S)&&!Gs(S,N)&&!Object.keys(S).every(function(Ye){return void 0!==p.getFieldValue(N,Ye)})){var W=p.getFieldValue(d,"__typename")||p.getFieldValue(a,"__typename"),te=cc(u),ue="".concat(W,".").concat(te);if(!ch.has(ue)){ch.add(ue);var Pe=[];!Fs(S)&&!Fs(N)&&[S,N].forEach(function(Ye){var Ze=p.getFieldValue(Ye,"__typename");"string"==typeof Ze&&!Pe.includes(Ze)&&Pe.push(Ze)}),__DEV__&&Xn.warn("Cache data may be lost when replacing the ".concat(te," field of a ").concat(W," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(Pe.length?"either ensure all objects of type "+Pe.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(ue," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(S).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(N).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(or,Xt,Hr,Ye.store)})}a.merge(Gt,Xt)}),a.retain(Ze.__ref),Ze},d.prototype.processSelectionSet=function(a){var u=this,p=a.dataId,_=a.result,S=a.selectionSet,N=a.context,W=a.mergeTree,te=this.cache.policies,ue=Object.create(null),Pe=p&&te.rootTypenamesById[p]||jh(_,S,N.fragmentMap)||p&&N.store.get(p,"__typename");"string"==typeof Pe&&(ue.__typename=Pe);var Ye=function(){var In=Zc(arguments,ue,N.variables);if(Oi(In.from)){var er=N.incomingById.get(In.from.__ref);if(er){var jr=te.readField((0,Ut.pi)((0,Ut.pi)({},In),{from:er.storeObject}),N);if(void 0!==jr)return jr}}return te.readField(In,N)},Ze=new Set;this.flattenFields(S,_,N,Pe).forEach(function(In,er){var jr,Fr=Fl(er),Hr=_[Fr];if(Ze.add(er),void 0!==Hr){var ri=te.getStoreFieldName({typename:Pe,fieldName:er.name.value,field:er,variables:In.variables}),eo=af(W,ri),$i=u.processFieldValue(Hr,er,er.selectionSet?hp(In,!1,!1):In,eo),Hl=void 0;er.selectionSet&&(Oi($i)||Nc($i))&&(Hl=Ye("__typename",$i));var mp=te.getMergeFunction(Pe,er.name.value,Hl);mp?eo.info={field:er,typename:Pe,merge:mp}:lh(W,ri),ue=In.merge(ue,((jr={})[ri]=$i,jr))}else __DEV__&&!In.clientOnly&&!In.deferred&&!bl.added(er)&&!te.getReadFunction(Pe,er.name.value)&&__DEV__&&Xn.error("Missing field '".concat(Fl(er),"' while writing result ").concat(JSON.stringify(_,null,2)).substring(0,1e3))});try{var dt=te.identify(_,{typename:Pe,selectionSet:S,fragmentMap:N.fragmentMap,storeObject:ue,readField:Ye}),Xt=dt[1];p=p||dt[0],Xt&&(ue=N.merge(ue,Xt))}catch(In){if(!p)throw In}if("string"==typeof p){var gn=Hu(p),Mn=N.written[p]||(N.written[p]=[]);if(Mn.indexOf(S)>=0||(Mn.push(S),this.reader&&this.reader.isFresh(_,gn,S,N)))return gn;var or=N.incomingById.get(p);return or?(or.storeObject=N.merge(or.storeObject,ue),or.mergeTree=Bg(or.mergeTree,W),Ze.forEach(function(In){return or.fieldNodeSet.add(In)})):N.incomingById.set(p,{storeObject:ue,mergeTree:fc(W)?void 0:W,fieldNodeSet:Ze}),gn}return ue},d.prototype.processFieldValue=function(a,u,p,_){var S=this;return u.selectionSet&&null!==a?Fs(a)?a.map(function(N,W){var te=S.processFieldValue(N,u,p,af(_,W));return lh(_,W),te}):this.processSelectionSet({result:a,selectionSet:u.selectionSet,context:p,mergeTree:_}):__DEV__?ug(a):a},d.prototype.flattenFields=function(a,u,p,_){void 0===_&&(_=jh(u,a,p.fragmentMap));var S=new Map,N=this.cache.policies,W=new Zf(!1);return function te(ue,Pe){var Ye=W.lookup(ue,Pe.clientOnly,Pe.deferred);Ye.visited||(Ye.visited=!0,ue.selections.forEach(function(Ze){if(zf(Ze,p.variables)){var dt=Pe.clientOnly,Gt=Pe.deferred;if(!(dt&&Gt)&&Wu(Ze.directives)&&Ze.directives.forEach(function(Mn){var or=Mn.name.value;if("client"===or&&(dt=!0),"defer"===or){var In=Br(Mn,p.variables);(!In||!1!==In.if)&&(Gt=!0)}}),wo(Ze)){var Xt=S.get(Ze);Xt&&(dt=dt&&Xt.clientOnly,Gt=Gt&&Xt.deferred),S.set(Ze,hp(p,dt,Gt))}else{var gn=Vh(Ze,p.fragmentMap);gn&&N.fragmentMatches(gn,_,u,p.variables)&&te(gn.selectionSet,hp(p,dt,Gt))}}}))}(a,p),S},d.prototype.applyMerges=function(a,u,p,_,S){var N,W=this;if(a.map.size&&!Oi(p)){var te=Fs(p)||!Oi(u)&&!Nc(u)?void 0:u,ue=p;te&&!S&&(S=[Oi(te)?te.__ref:te]);var Pe,Ye=function(Ze,dt){return Fs(Ze)?"number"==typeof dt?Ze[dt]:void 0:_.store.getFieldValue(Ze,String(dt))};a.map.forEach(function(Ze,dt){var Gt=Ye(te,dt),Xt=Ye(ue,dt);if(void 0!==Xt){S&&S.push(dt);var gn=W.applyMerges(Ze,Gt,Xt,_,S);gn!==Xt&&(Pe=Pe||new Map).set(dt,gn),S&&Xn(S.pop()===dt)}}),Pe&&(p=Fs(ue)?ue.slice(0):(0,Ut.pi)({},ue),Pe.forEach(function(Ze,dt){p[dt]=Ze}))}return a.info?this.cache.policies.runMergeFunction(u,p,a.info,_,S&&(N=_.store).getStorage.apply(N,S)):p},d}(),Ug=[];function af(d,a){var u=d.map;return u.has(a)||u.set(a,Ug.pop()||{map:new Map}),u.get(a)}function Bg(d,a){if(d===a||!a||fc(a))return d;if(!d||fc(d))return a;var u=d.info&&a.info?(0,Ut.pi)((0,Ut.pi)({},d.info),a.info):d.info||a.info,p=d.map.size&&a.map.size,S={info:u,map:p?new Map:d.map.size?d.map:a.map};if(p){var N=new Set(a.map.keys());d.map.forEach(function(W,te){S.map.set(te,Bg(W,a.map.get(te))),N.delete(te)}),N.forEach(function(W){S.map.set(W,Bg(a.map.get(W),d.map.get(W)))})}return S}function fc(d){return!d||!(d.info||d.map.size)}function lh(d,a){var u=d.map,p=u.get(a);p&&fc(p)&&(Ug.push(p),u.delete(a))}var ch=new Set,fp=function(d){function a(u){void 0===u&&(u={});var p=d.call(this)||this;return p.watches=new Set,p.typenameDocumentCache=new Map,p.makeVar=E_,p.txCount=0,p.config=function(d){return $f(Km,d)}(u),p.addTypename=!!p.config.addTypename,p.policies=new hc({cache:p,dataIdFromObject:p.config.dataIdFromObject,possibleTypes:p.config.possibleTypes,typePolicies:p.config.typePolicies}),p.init(),p}return(0,Ut.ZT)(a,d),a.prototype.init=function(){var u=this.data=new sh.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=u.stump,this.resetResultCache()},a.prototype.resetResultCache=function(u){var p=this,_=this.storeReader;this.storeWriter=new Dy(this,this.storeReader=new Us({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Kf(this.config),canon:u?void 0:_&&_.canon})),this.maybeBroadcastWatch=Xu(function(S,N){return p.broadcastWatch(S,N)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(S){var N=S.optimistic?p.optimisticData:p.data;if(up(N))return N.makeCacheKey(S.query,S.callback,Fc({optimistic:S.optimistic,rootId:S.rootId,variables:S.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(S){return S.resetCaching()})},a.prototype.restore=function(u){return this.init(),u&&this.data.replace(u),this},a.prototype.extract=function(u){return void 0===u&&(u=!1),(u?this.optimisticData:this.data).extract()},a.prototype.read=function(u){var p=u.returnPartialData,_=void 0!==p&&p;try{return this.storeReader.diffQueryAgainstStore((0,Ut.pi)((0,Ut.pi)({},u),{store:u.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:_})).result||null}catch(S){if(S instanceof Rg)return null;throw S}},a.prototype.write=function(u){try{return++this.txCount,this.storeWriter.writeToStore(this.data,u)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},a.prototype.modify=function(u){if(go.call(u,"id")&&!u.id)return!1;var p=u.optimistic?this.optimisticData:this.data;try{return++this.txCount,p.modify(u.id||"ROOT_QUERY",u.fields)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},a.prototype.diff=function(u){return this.storeReader.diffQueryAgainstStore((0,Ut.pi)((0,Ut.pi)({},u),{store:u.optimistic?this.optimisticData:this.data,rootId:u.id||"ROOT_QUERY",config:this.config}))},a.prototype.watch=function(u){var p=this;return this.watches.size||function(d){td(d).vars.forEach(function(a){return a.attachCache(d)})}(this),this.watches.add(u),u.immediate&&this.maybeBroadcastWatch(u),function(){p.watches.delete(u)&&!p.watches.size&&Sg(p),p.maybeBroadcastWatch.forget(u)}},a.prototype.gc=function(u){Fc.reset();var p=this.optimisticData.gc();return u&&!this.txCount&&(u.resetResultCache?this.resetResultCache(u.resetResultIdentities):u.resetResultIdentities&&this.storeReader.resetCanon()),p},a.prototype.retain=function(u,p){return(p?this.optimisticData:this.data).retain(u)},a.prototype.release=function(u,p){return(p?this.optimisticData:this.data).release(u)},a.prototype.identify=function(u){if(Oi(u))return u.__ref;try{return this.policies.identify(u)[0]}catch(p){__DEV__&&Xn.warn(p)}},a.prototype.evict=function(u){if(!u.id){if(go.call(u,"id"))return!1;u=(0,Ut.pi)((0,Ut.pi)({},u),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(u,this.data)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},a.prototype.reset=function(u){var p=this;return this.init(),Fc.reset(),u&&u.discardWatches?(this.watches.forEach(function(_){return p.maybeBroadcastWatch.forget(_)}),this.watches.clear(),Sg(this)):this.broadcastWatches(),Promise.resolve()},a.prototype.removeOptimistic=function(u){var p=this.optimisticData.removeLayer(u);p!==this.optimisticData&&(this.optimisticData=p,this.broadcastWatches())},a.prototype.batch=function(u){var ue,p=this,_=u.update,S=u.optimistic,N=void 0===S||S,W=u.removeOptimistic,te=u.onWatchUpdated,Pe=function(Ze){var Gt=p.data,Xt=p.optimisticData;++p.txCount,Ze&&(p.data=p.optimisticData=Ze);try{return ue=_(p)}finally{--p.txCount,p.data=Gt,p.optimisticData=Xt}},Ye=new Set;return te&&!this.txCount&&this.broadcastWatches((0,Ut.pi)((0,Ut.pi)({},u),{onWatchUpdated:function(Ze){return Ye.add(Ze),!1}})),"string"==typeof N?this.optimisticData=this.optimisticData.addLayer(N,Pe):!1===N?Pe(this.data):Pe(),"string"==typeof W&&(this.optimisticData=this.optimisticData.removeLayer(W)),te&&Ye.size?(this.broadcastWatches((0,Ut.pi)((0,Ut.pi)({},u),{onWatchUpdated:function(Ze,dt){var Gt=te.call(this,Ze,dt);return!1!==Gt&&Ye.delete(Ze),Gt}})),Ye.size&&Ye.forEach(function(Ze){return p.maybeBroadcastWatch.dirty(Ze)})):this.broadcastWatches(u),ue},a.prototype.performTransaction=function(u,p){return this.batch({update:u,optimistic:p||null!==p})},a.prototype.transformDocument=function(u){if(this.addTypename){var p=this.typenameDocumentCache.get(u);return p||(p=bl(u),this.typenameDocumentCache.set(u,p),this.typenameDocumentCache.set(p,p)),p}return u},a.prototype.broadcastWatches=function(u){var p=this;this.txCount||this.watches.forEach(function(_){return p.maybeBroadcastWatch(_,u)})},a.prototype.broadcastWatch=function(u,p){var _=u.lastDiff,S=this.diff(u);p&&(u.optimistic&&"string"==typeof p.optimistic&&(S.fromOptimisticTransaction=!0),p.onWatchUpdated&&!1===p.onWatchUpdated.call(this,u,S,_))||(!_||!Gs(_.result,S.result))&&u.callback(u.lastDiff=S,_)},a}(hi);class Sy extends Md{constructor(a,u){super(),this.httpClient=a,this.options=u,this.print=Vf,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=p=>new qi(_=>{const S=p.getContext(),N=(or,In)=>function(...d){const a=d.find(u=>void 0!==u);return void 0===a?d[d.length-1]:a}(S[or],this.options[or],In);let W=N("method","POST");const te=N("includeQuery",!0),ue=N("includeExtensions",!1),Pe=N("uri","graphql"),Ye=N("withCredentials"),Ze=N("useMultipart"),dt=!0===this.options.useGETForQueries,Gt=p.query.definitions.some(or=>"OperationDefinition"===or.kind&&"query"===or.operation);dt&&Gt&&(W="GET");const Xt={method:W,url:"function"==typeof Pe?Pe(p):Pe,body:{operationName:p.operationName,variables:p.variables},options:{withCredentials:Ye,useMultipart:Ze,headers:this.options.headers}};ue&&(Xt.body.extensions=p.extensions),te&&(Xt.body.query=this.print(p.query));const gn=function(d){let a=d.headers&&d.headers instanceof ae?d.headers:new ae(d.headers);if(d.clientAwareness){const{name:u,version:p}=d.clientAwareness;u&&!a.has("apollographql-client-name")&&(a=a.set("apollographql-client-name",u)),p&&!a.has("apollographql-client-version")&&(a=a.set("apollographql-client-version",p))}return a}(S);Xt.options.headers=((d,a)=>d&&a?a.keys().reduce((p,_)=>p.set(_,a.getAll(_)),d):a||d)(Xt.options.headers,gn);const Mn=((d,a,u)=>{const p=-1!==["POST","PUT","PATCH"].indexOf(d.method.toUpperCase()),S=d.body.length;let W,N=d.options&&d.options.useMultipart;if(N){if(S)return new Ne.y(ue=>ue.error(new Error("File upload is not available when combined with Batching")));if(!p)return new Ne.y(ue=>ue.error(new Error("File upload is not available when GET is used")));if(!u)return new Ne.y(ue=>ue.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));W=u(d.body),N=!!W.files.size}let te={};if(S){if(!p)return new Ne.y(ue=>ue.error(new Error("Batching is not available for GET requests")));te={body:d.body}}else{const ue=N?W.clone:d.body;te=p?{body:ue}:{params:Object.keys(d.body).reduce((Ye,Ze)=>{const dt=d.body[Ze];return Ye[Ze]=(ue=>-1!==["variables","extensions"].indexOf(ue.toLowerCase()))(Ze)?JSON.stringify(dt):dt,Ye},{})}}if(N&&p){const ue=new FormData;ue.append("operations",JSON.stringify(te.body));const Pe={},Ye=W.files;let Ze=0;Ye.forEach(dt=>{Pe[++Ze]=dt}),ue.append("map",JSON.stringify(Pe)),Ze=0,Ye.forEach((dt,Gt)=>{ue.append(++Ze+"",Gt,Gt.name)}),te.body=ue}return a.request(d.method,d.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},te),d.options))})(Xt,this.httpClient,this.options.extractFiles).subscribe({next:or=>{p.setContext({response:or}),_.next(or.body)},error:or=>_.error(or),complete:()=>_.complete()});return()=>{Mn.closed||Mn.unsubscribe()}})}request(a){return this.requester(a)}}let uh=(()=>{class d{constructor(u){this.httpClient=u}create(u){return new Sy(this.httpClient,u)}}return d.\u0275fac=function(u){return new(u||d)(o.LFG(Lt))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();function lf(d){return{link:d.create({uri:"http://localhost:4201/graphql"}),cache:new fp}}let qg=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d}),d.\u0275inj=o.cJS({providers:[{provide:Cu,useFactory:lf,deps:[uh]}],imports:[gy]}),d})();var cf=U(4843);let $g=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=o.oAB({type:d,bootstrap:[vm]}),d.\u0275inj=o.cJS({providers:[A,Cr,{provide:wh,useValue:ia.N.firebase.storageBucket}],imports:[[I.b2,sc,qg,Qt,tc.PW,Cn.hO.initializeApp(ia.N.firebase),Ln.ww,md,cf.AdminModule,Df]]}),d})();ia.N.production&&(0,o.G48)(),I.q6().bootstrapModule($g).catch(d=>console.error(d))},4762:(un,ht,U)=>{"use strict";U.d(ht,{ZT:()=>o,pi:()=>Q,_T:()=>Ve,mG:()=>Ee,Jh:()=>ye,ev:()=>Ge});var I=function(st,Xe){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ut,St){ut.__proto__=St}||function(ut,St){for(var Dt in St)Object.prototype.hasOwnProperty.call(St,Dt)&&(ut[Dt]=St[Dt])})(st,Xe)};function o(st,Xe){if("function"!=typeof Xe&&null!==Xe)throw new TypeError("Class extends value "+String(Xe)+" is not a constructor or null");function ut(){this.constructor=st}I(st,Xe),st.prototype=null===Xe?Object.create(Xe):(ut.prototype=Xe.prototype,new ut)}var Q=function(){return Q=Object.assign||function(Xe){for(var ut,St=1,Dt=arguments.length;St<Dt;St++)for(var Lt in ut=arguments[St])Object.prototype.hasOwnProperty.call(ut,Lt)&&(Xe[Lt]=ut[Lt]);return Xe},Q.apply(this,arguments)};function Ve(st,Xe){var ut={};for(var St in st)Object.prototype.hasOwnProperty.call(st,St)&&Xe.indexOf(St)<0&&(ut[St]=st[St]);if(null!=st&&"function"==typeof Object.getOwnPropertySymbols){var Dt=0;for(St=Object.getOwnPropertySymbols(st);Dt<St.length;Dt++)Xe.indexOf(St[Dt])<0&&Object.prototype.propertyIsEnumerable.call(st,St[Dt])&&(ut[St[Dt]]=st[St[Dt]])}return ut}function Ee(st,Xe,ut,St){return new(ut||(ut=Promise))(function(Lt,vn){function Dn(Bn){try{fn(St.next(Bn))}catch(Tr){vn(Tr)}}function Vn(Bn){try{fn(St.throw(Bn))}catch(Tr){vn(Tr)}}function fn(Bn){Bn.done?Lt(Bn.value):function(Lt){return Lt instanceof ut?Lt:new ut(function(vn){vn(Lt)})}(Bn.value).then(Dn,Vn)}fn((St=St.apply(st,Xe||[])).next())})}function ye(st,Xe){var St,Dt,Lt,vn,ut={label:0,sent:function(){if(1&Lt[0])throw Lt[1];return Lt[1]},trys:[],ops:[]};return vn={next:Dn(0),throw:Dn(1),return:Dn(2)},"function"==typeof Symbol&&(vn[Symbol.iterator]=function(){return this}),vn;function Dn(fn){return function(Bn){return function(fn){if(St)throw new TypeError("Generator is already executing.");for(;ut;)try{if(St=1,Dt&&(Lt=2&fn[0]?Dt.return:fn[0]?Dt.throw||((Lt=Dt.return)&&Lt.call(Dt),0):Dt.next)&&!(Lt=Lt.call(Dt,fn[1])).done)return Lt;switch(Dt=0,Lt&&(fn=[2&fn[0],Lt.value]),fn[0]){case 0:case 1:Lt=fn;break;case 4:return ut.label++,{value:fn[1],done:!1};case 5:ut.label++,Dt=fn[1],fn=[0];continue;case 7:fn=ut.ops.pop(),ut.trys.pop();continue;default:if(!(Lt=(Lt=ut.trys).length>0&&Lt[Lt.length-1])&&(6===fn[0]||2===fn[0])){ut=0;continue}if(3===fn[0]&&(!Lt||fn[1]>Lt[0]&&fn[1]<Lt[3])){ut.label=fn[1];break}if(6===fn[0]&&ut.label<Lt[1]){ut.label=Lt[1],Lt=fn;break}if(Lt&&ut.label<Lt[2]){ut.label=Lt[2],ut.ops.push(fn);break}Lt[2]&&ut.ops.pop(),ut.trys.pop();continue}fn=Xe.call(st,ut)}catch(Bn){fn=[6,Bn],Dt=0}finally{St=Lt=0}if(5&fn[0])throw fn[1];return{value:fn[0]?fn[1]:void 0,done:!0}}([fn,Bn])}}}function Ge(st,Xe,ut){if(ut||2===arguments.length)for(var Lt,St=0,Dt=Xe.length;St<Dt;St++)(Lt||!(St in Xe))&&(Lt||(Lt=Array.prototype.slice.call(Xe,0,St)),Lt[St]=Xe[St]);return st.concat(Lt||Array.prototype.slice.call(Xe))}},3394:(un,ht,U)=>{"use strict";U.d(ht,{Z:()=>$e});var I=U(3854),o=U(3910),Q=U(8026),Ve=U(5422);class Ne{constructor(ce,wt){this._delegate=ce,this.firebase=wt,(0,Q._addComponent)(ce,new o.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(ce,wt=Q._DEFAULT_ENTRY_NAME){var Wt;this._delegate.checkDestroyed();const Ot=this._delegate.container.getProvider(ce);return!Ot.isInitialized()&&"EXPLICIT"===(null===(Wt=Ot.getComponent())||void 0===Wt?void 0:Wt.instantiationMode)&&Ot.initialize(),Ot.getImmediate({identifier:wt})}_removeServiceInstance(ce,wt=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(wt)}_addComponent(ce){(0,Q._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,Q._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function ye(){const Ge=function(Ge){const ce={},wt={__esModule:!0,initializeApp:function(He,it={}){const Tt=Q.initializeApp(He,it);if((0,I.r3)(ce,Tt.name))return ce[Tt.name];const st=new Ge(Tt,wt);return ce[Tt.name]=st,st},app:Ot,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function(He){const it=He.name,Tt=it.replace("-compat","");if(Q._registerComponent(He)&&"PUBLIC"===He.type){const st=(Xe=Ot())=>{if("function"!=typeof Xe[Tt])throw xe.create("invalid-app-argument",{appName:it});return Xe[Tt]()};void 0!==He.serviceProps&&(0,I.ZB)(st,He.serviceProps),wt[Tt]=st,Ge.prototype[Tt]=function(...Xe){return this._getService.bind(this,it).apply(this,He.multipleInstances?Xe:[])}}return"PUBLIC"===He.type?wt[Tt]:null},removeApp:function(He){delete ce[He]},useAsService:function(He,it){return"serverAuth"===it?null:it},modularAPIs:Q}};function Ot(He){if(!(0,I.r3)(ce,He=He||Q._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:He});return ce[He]}return wt.default=wt,Object.defineProperty(wt,"apps",{get:function(){return Object.keys(ce).map(He=>ce[He])}}),Ot.App=Ge,wt}(Ne);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function(wt){(0,I.ZB)(Ge,wt)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Ge}(),ae=new Ve.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=se;(0,Q.registerVersion)("@firebase/app-compat","0.1.33",undefined)},8026:(un,ht,U)=>{"use strict";U.r(ht),U.d(ht,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>_r,_addOrOverwriteComponent:()=>xr,_apps:()=>Bn,_clearComponents:()=>$r,_components:()=>Tr,_getProvider:()=>bn,_registerComponent:()=>hn,_removeServiceInstance:()=>tr,deleteApp:()=>Jn,getApp:()=>Yn,getApps:()=>br,initializeApp:()=>En,onLog:()=>Qt,registerVersion:()=>qt,setLogLevel:()=>Se});var I=U(8239),o=U(3910),Q=U(5422),Ve=U(3854),Ne=U(5401);class _e{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(ne=>{if(function(Oe){const ze=Oe.getComponent();return"VERSION"===(null==ze?void 0:ze.type)}(ne)){const Me=ne.getImmediate();return`${Me.library}/${Me.version}`}return null}).filter(ne=>ne).join(" ")}}const Ee="@firebase/app",se=new Q.Yd("@firebase/app"),Vn="[DEFAULT]",fn={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bn=new Map,Tr=new Map;function _r(Oe,ze){try{Oe.container.addComponent(ze)}catch(ne){se.debug(`Component ${ze.name} failed to register with FirebaseApp ${Oe.name}`,ne)}}function xr(Oe,ze){Oe.container.addOrOverwriteComponent(ze)}function hn(Oe){const ze=Oe.name;if(Tr.has(ze))return se.debug(`There were multiple attempts to register component ${ze}.`),!1;Tr.set(ze,Oe);for(const ne of Bn.values())_r(ne,Oe);return!0}function bn(Oe,ze){const ne=Oe.container.getProvider("heartbeat").getImmediate({optional:!0});return ne&&ne.triggerHeartbeat(),Oe.container.getProvider(ze)}function tr(Oe,ze,ne=Vn){bn(Oe,ze).clearInstance(ne)}function $r(){Tr.clear()}const Fn=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(ze,ne,Me){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},ne),this._name=ne.name,this._automaticDataCollectionEnabled=ne.automaticDataCollectionEnabled,this._container=Me,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const Wn="9.9.4";function En(Oe,ze={}){"object"!=typeof ze&&(ze={name:ze});const ne=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},ze),Me=ne.name;if("string"!=typeof Me||!Me)throw Fn.create("bad-app-name",{appName:String(Me)});const me=Bn.get(Me);if(me){if((0,Ve.vZ)(Oe,me.options)&&(0,Ve.vZ)(ne,me.config))return me;throw Fn.create("duplicate-app",{appName:Me})}const et=new o.H0(Me);for(const wn of Tr.values())et.addComponent(wn);const on=new Gn(Oe,ne,et);return Bn.set(Me,on),on}function Yn(Oe=Vn){const ze=Bn.get(Oe);if(!ze)throw Fn.create("no-app",{appName:Oe});return ze}function br(){return Array.from(Bn.values())}function Jn(Oe){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,I.Z)(function*(Oe){const ze=Oe.name;Bn.has(ze)&&(Bn.delete(ze),yield Promise.all(Oe.container.getProviders().map(ne=>ne.delete())),Oe.isDeleted=!0)})).apply(this,arguments)}function qt(Oe,ze,ne){var Me;let me=null!==(Me=fn[Oe])&&void 0!==Me?Me:Oe;ne&&(me+=`-${ne}`);const et=me.match(/\s|\//),on=ze.match(/\s|\//);if(et||on){const wn=[`Unable to register library "${me}" with version "${ze}":`];return et&&wn.push(`library name "${me}" contains illegal characters (whitespace or "/")`),et&&on&&wn.push("and"),on&&wn.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void se.warn(wn.join(" "))}hn(new o.wA(`${me}-version`,()=>({library:me,version:ze}),"VERSION"))}function Qt(Oe,ze){if(null!==Oe&&"function"!=typeof Oe)throw Fn.create("invalid-log-argument");(0,Q.Am)(Oe,ze)}function Se(Oe){(0,Q.Ub)(Oe)}const he="firebase-heartbeat-store";let Le=null;function pt(){return Le||(Le=(0,Ne.X3)("firebase-heartbeat-database",1,{upgrade:(Oe,ze)=>{0===ze&&Oe.createObjectStore(he)}}).catch(Oe=>{throw Fn.create("idb-open",{originalErrorMessage:Oe.message})})),Le}function Ct(){return(Ct=(0,I.Z)(function*(Oe){var ze;try{return(yield pt()).transaction(he).objectStore(he).get(ar(Oe))}catch(ne){if(ne instanceof Ve.ZR)se.warn(ne.message);else{const Me=Fn.create("idb-get",{originalErrorMessage:null===(ze=ne)||void 0===ze?void 0:ze.message});se.warn(Me.message)}}})).apply(this,arguments)}function Bt(Oe,ze){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,I.Z)(function*(Oe,ze){var ne;try{const me=(yield pt()).transaction(he,"readwrite");return yield me.objectStore(he).put(ze,ar(Oe)),me.done}catch(Me){if(Me instanceof Ve.ZR)se.warn(Me.message);else{const me=Fn.create("idb-set",{originalErrorMessage:null===(ne=Me)||void 0===ne?void 0:ne.message});se.warn(me.message)}}})).apply(this,arguments)}function ar(Oe){return`${Oe.name}!${Oe.options.appId}`}class xn{constructor(ze){this.container=ze,this._heartbeatsCache=null;const ne=this.container.getProvider("app").getImmediate();this._storage=new zr(ne),this._heartbeatsCachePromise=this._storage.read().then(Me=>(this._heartbeatsCache=Me,Me))}triggerHeartbeat(){var ze=this;return(0,I.Z)(function*(){const Me=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),me=Er();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==me&&!ze._heartbeatsCache.heartbeats.some(et=>et.date===me))return ze._heartbeatsCache.heartbeats.push({date:me,agent:Me}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(et=>{const on=new Date(et.date).valueOf();return Date.now()-on<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,I.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const ne=Er(),{heartbeatsToSend:Me,unsentEntries:me}=function(Oe,ze=1024){const ne=[];let Me=Oe.slice();for(const me of Oe){const et=ne.find(on=>on.agent===me.agent);if(et){if(et.dates.push(me.date),Fe(ne)>ze){et.dates.pop();break}}else if(ne.push({agent:me.agent,dates:[me.date]}),Fe(ne)>ze){ne.pop();break}Me=Me.slice(1)}return{heartbeatsToSend:ne,unsentEntries:Me}}(ze._heartbeatsCache.heartbeats),et=(0,Ve.L)(JSON.stringify({version:2,heartbeats:Me}));return ze._heartbeatsCache.lastSentHeartbeatDate=ne,me.length>0?(ze._heartbeatsCache.heartbeats=me,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),et})()}}function Er(){return(new Date).toISOString().substring(0,10)}class zr{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,Ve.hl)()&&(0,Ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,I.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function(Oe){return Ct.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var ne=this;return(0,I.Z)(function*(){var Me;if(yield ne._canUseIndexedDBPromise){const et=yield ne.read();return Bt(ne.app,{lastSentHeartbeatDate:null!==(Me=ze.lastSentHeartbeatDate)&&void 0!==Me?Me:et.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var ne=this;return(0,I.Z)(function*(){var Me;if(yield ne._canUseIndexedDBPromise){const et=yield ne.read();return Bt(ne.app,{lastSentHeartbeatDate:null!==(Me=ze.lastSentHeartbeatDate)&&void 0!==Me?Me:et.lastSentHeartbeatDate,heartbeats:[...et.heartbeats,...ze.heartbeats]})}})()}}function Fe(Oe){return(0,Ve.L)(JSON.stringify({version:2,heartbeats:Oe})).length}hn(new o.wA("platform-logger",ze=>new _e(ze),"PRIVATE")),hn(new o.wA("heartbeat",ze=>new xn(ze),"PRIVATE")),qt(Ee,"0.7.32",""),qt(Ee,"0.7.32","esm2017"),qt("fire-js","")},3910:(un,ht,U)=>{"use strict";U.d(ht,{wA:()=>Q,H0:()=>Ee});var I=U(8239),o=U(3854);class Q{constructor(se,ae,Te){this.name=se,this.instanceFactory=ae,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const Ve="[DEFAULT]";class Ne{constructor(se,ae){this.name=se,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const ae=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(ae)){const Te=new o.BH;if(this.instancesDeferred.set(ae,Te),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ve=this.getOrInitializeService({instanceIdentifier:ae});ve&&Te.resolve(ve)}catch(ve){}}return this.instancesDeferred.get(ae).promise}getImmediate(se){var ae;const Te=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),ve=null!==(ae=null==se?void 0:se.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Be){if(ve)return null;throw Be}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if("EAGER"===se.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(ae){}for(const[ae,Te]of this.instancesDeferred.entries()){const ve=this.normalizeInstanceIdentifier(ae);try{const Be=this.getOrInitializeService({instanceIdentifier:ve});Te.resolve(Be)}catch(Be){}}}}clearInstance(se=Ve){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,I.Z)(function*(){const ae=Array.from(se.instances.values());yield Promise.all([...ae.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ae.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=Ve){return this.instances.has(se)}getOptions(se=Ve){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:ae={}}=se,Te=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ve=this.getOrInitializeService({instanceIdentifier:Te,options:ae});for(const[Be,$e]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Be)&&$e.resolve(ve);return ve}onInit(se,ae){var Te;const ve=this.normalizeInstanceIdentifier(ae),Be=null!==(Te=this.onInitCallbacks.get(ve))&&void 0!==Te?Te:new Set;Be.add(se),this.onInitCallbacks.set(ve,Be);const $e=this.instances.get(ve);return $e&&se($e,ve),()=>{Be.delete(se)}}invokeOnInitCallbacks(se,ae){const Te=this.onInitCallbacks.get(ae);if(Te)for(const ve of Te)try{ve(se,ae)}catch(Be){}}getOrInitializeService({instanceIdentifier:se,options:ae={}}){let Te=this.instances.get(se);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=se,ye===Ve?void 0:ye),options:ae}),this.instances.set(se,Te),this.instancesOptions.set(se,ae),this.invokeOnInitCallbacks(Te,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,Te)}catch(ve){}var ye;return Te||null}normalizeInstanceIdentifier(se=Ve){return this.component?this.component.multipleInstances?se:Ve:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const ae=this.getProvider(se.name);if(ae.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);ae.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const ae=new Ne(se,this);return this.providers.set(se,ae),ae}getProviders(){return Array.from(this.providers.values())}}},3328:(un,ht,U)=>{"use strict";var I=U(8239),o=U(8026),Q=U(3910),Ve=U(3854),Ne=U(5401);const _e="@firebase/installations",xe="0.5.12",ye=`w:${xe}`,se="FIS_v2",Ge=new Ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(je){return je instanceof Ve.ZR&&je.code.includes("request-failed")}function wt({projectId:je}){return`https://firebaseinstallations.googleapis.com/v1/projects/${je}/installations`}function Wt(je){return{token:je.token,requestStatus:2,expiresIn:it(je.expiresIn),creationTime:Date.now()}}function Ot(je,It){return At.apply(this,arguments)}function At(){return(At=(0,I.Z)(function*(je,It){const kn=(yield It.json()).error;return Ge.create("request-failed",{requestName:je,serverCode:kn.code,serverMessage:kn.message,serverStatus:kn.status})})).apply(this,arguments)}function Je({apiKey:je}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":je})}function rt(je,{refreshToken:It}){const zt=Je(je);return zt.append("Authorization",function(je){return`${se} ${je}`}(It)),zt}function Qe(je){return He.apply(this,arguments)}function He(){return(He=(0,I.Z)(function*(je){const It=yield je();return It.status>=500&&It.status<600?je():It})).apply(this,arguments)}function it(je){return Number(je.replace("s","000"))}function st(je,It){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,I.Z)(function*({appConfig:je,heartbeatServiceProvider:It},{fid:zt}){const kn=wt(je),Zr=Je(je),fr=It.getImmediate({optional:!0});if(fr){const bt=yield fr.getHeartbeatsHeader();bt&&Zr.append("x-firebase-client",bt)}const qe={method:"POST",headers:Zr,body:JSON.stringify({fid:zt,authVersion:se,appId:je.appId,sdkVersion:ye})},Re=yield Qe(()=>fetch(kn,qe));if(Re.ok){const bt=yield Re.json();return{fid:bt.fid||zt,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Wt(bt.authToken)}}throw yield Ot("Create Installation",Re)})).apply(this,arguments)}function ut(je){return new Promise(It=>{setTimeout(It,je)})}const Dt=/^[cdef][\w-]{21}$/;function vn(){try{const je=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(je),je[0]=112+je[0]%16;const zt=function(je){return function(je){return btoa(String.fromCharCode(...je)).replace(/\+/g,"-").replace(/\//g,"_")}(je).substr(0,22)}(je);return Dt.test(zt)?zt:""}catch(je){return""}}function Vn(je){return`${je.appName}!${je.appId}`}const fn=new Map;function Bn(je,It){const zt=Vn(je);xr(zt,It),function(je,It){const zt=(!bn&&"BroadcastChannel"in self&&(bn=new BroadcastChannel("[Firebase] FID Change"),bn.onmessage=je=>{xr(je.data.key,je.data.fid)}),bn);zt&&zt.postMessage({key:je,fid:It}),0===fn.size&&bn&&(bn.close(),bn=null)}(zt,It)}function xr(je,It){const zt=fn.get(je);if(zt)for(const kn of zt)kn(It)}let bn=null;const Gn="firebase-installations-store";let Wn=null;function En(){return Wn||(Wn=(0,Ne.X3)("firebase-installations-database",1,{upgrade:(je,It)=>{0===It&&je.createObjectStore(Gn)}})),Wn}function Yn(je,It){return br.apply(this,arguments)}function br(){return(br=(0,I.Z)(function*(je,It){const zt=Vn(je),Zr=(yield En()).transaction(Gn,"readwrite"),fr=Zr.objectStore(Gn),ct=yield fr.get(zt);return yield fr.put(It,zt),yield Zr.done,(!ct||ct.fid!==It.fid)&&Bn(je,It.fid),It})).apply(this,arguments)}function Jn(je){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,I.Z)(function*(je){const It=Vn(je),kn=(yield En()).transaction(Gn,"readwrite");yield kn.objectStore(Gn).delete(It),yield kn.done})).apply(this,arguments)}function qt(je,It){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,I.Z)(function*(je,It){const zt=Vn(je),Zr=(yield En()).transaction(Gn,"readwrite"),fr=Zr.objectStore(Gn),ct=yield fr.get(zt),qe=It(ct);return void 0===qe?yield fr.delete(zt):yield fr.put(qe,zt),yield Zr.done,qe&&(!ct||ct.fid!==qe.fid)&&Bn(je,qe.fid),qe})).apply(this,arguments)}function Se(je){return ke.apply(this,arguments)}function ke(){return(ke=(0,I.Z)(function*(je){let It;const zt=yield qt(je.appConfig,kn=>{const Zr=q(kn),fr=he(je,Zr);return It=fr.registrationPromise,fr.installationEntry});return""===zt.fid?{installationEntry:yield It}:{installationEntry:zt,registrationPromise:It}})).apply(this,arguments)}function q(je){return Tn(je||{fid:vn(),registrationStatus:0})}function he(je,It){if(0===It.registrationStatus){if(!navigator.onLine)return{installationEntry:It,registrationPromise:Promise.reject(Ge.create("app-offline"))};const zt={fid:It.fid,registrationStatus:1,registrationTime:Date.now()},kn=function(je,It){return pt.apply(this,arguments)}(je,zt);return{installationEntry:zt,registrationPromise:kn}}return 1===It.registrationStatus?{installationEntry:It,registrationPromise:yt(je)}:{installationEntry:It}}function pt(){return(pt=(0,I.Z)(function*(je,It){try{const zt=yield st(je,It);return Yn(je.appConfig,zt)}catch(zt){throw ce(zt)&&409===zt.customData.serverCode?yield Jn(je.appConfig):yield Yn(je.appConfig,{fid:It.fid,registrationStatus:0}),zt}})).apply(this,arguments)}function yt(je){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,I.Z)(function*(je){let It=yield Bt(je.appConfig);for(;1===It.registrationStatus;)yield ut(100),It=yield Bt(je.appConfig);if(0===It.registrationStatus){const{installationEntry:zt,registrationPromise:kn}=yield Se(je);return kn||zt}return It})).apply(this,arguments)}function Bt(je){return qt(je,It=>{if(!It)throw Ge.create("installation-not-found");return Tn(It)})}function Tn(je){return function(je){return 1===je.registrationStatus&&je.registrationTime+1e4<Date.now()}(je)?{fid:je.fid,registrationStatus:0}:je}function dr(je,It){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,I.Z)(function*({appConfig:je,heartbeatServiceProvider:It},zt){const kn=xn(je,zt),Zr=rt(je,zt),fr=It.getImmediate({optional:!0});if(fr){const bt=yield fr.getHeartbeatsHeader();bt&&Zr.append("x-firebase-client",bt)}const qe={method:"POST",headers:Zr,body:JSON.stringify({installation:{sdkVersion:ye,appId:je.appId}})},Re=yield Qe(()=>fetch(kn,qe));if(Re.ok)return Wt(yield Re.json());throw yield Ot("Generate Auth Token",Re)})).apply(this,arguments)}function xn(je,{fid:It}){return`${wt(je)}/${It}/authTokens:generate`}function Er(je){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,I.Z)(function*(je,It=!1){let zt;const kn=yield qt(je.appConfig,fr=>{if(!ne(fr))throw Ge.create("not-registered");const ct=fr.authToken;if(!It&&Me(ct))return fr;if(1===ct.requestStatus)return zt=zr(je,It),fr;{if(!navigator.onLine)throw Ge.create("app-offline");const qe=et(fr);return zt=Oe(je,qe),qe}});return zt?yield zt:kn.authToken})).apply(this,arguments)}function zr(je,It){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,I.Z)(function*(je,It){let zt=yield Ke(je.appConfig);for(;1===zt.authToken.requestStatus;)yield ut(100),zt=yield Ke(je.appConfig);const kn=zt.authToken;return 0===kn.requestStatus?Er(je,It):kn})).apply(this,arguments)}function Ke(je){return qt(je,It=>{if(!ne(It))throw Ge.create("not-registered");return function(je){return 1===je.requestStatus&&je.requestTime+1e4<Date.now()}(It.authToken)?Object.assign(Object.assign({},It),{authToken:{requestStatus:0}}):It})}function Oe(je,It){return ze.apply(this,arguments)}function ze(){return(ze=(0,I.Z)(function*(je,It){try{const zt=yield dr(je,It),kn=Object.assign(Object.assign({},It),{authToken:zt});return yield Yn(je.appConfig,kn),zt}catch(zt){if(!ce(zt)||401!==zt.customData.serverCode&&404!==zt.customData.serverCode){const kn=Object.assign(Object.assign({},It),{authToken:{requestStatus:0}});yield Yn(je.appConfig,kn)}else yield Jn(je.appConfig);throw zt}})).apply(this,arguments)}function ne(je){return void 0!==je&&2===je.registrationStatus}function Me(je){return 2===je.requestStatus&&!function(je){const It=Date.now();return It<je.creationTime||je.creationTime+je.expiresIn<It+36e5}(je)}function et(je){const It={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},je),{authToken:It})}function gt(){return(gt=(0,I.Z)(function*(je){const It=je,{installationEntry:zt,registrationPromise:kn}=yield Se(It);return kn?kn.catch(console.error):Er(It).catch(console.error),zt.fid})).apply(this,arguments)}function z(){return(z=(0,I.Z)(function*(je,It=!1){const zt=je;return yield H(zt),(yield Er(zt,It)).token})).apply(this,arguments)}function H(je){return fe.apply(this,arguments)}function fe(){return(fe=(0,I.Z)(function*(je){const{registrationPromise:It}=yield Se(je);It&&(yield It)})).apply(this,arguments)}function lr(je){return Ge.create("missing-app-config-values",{valueName:je})}const yi="installations";(0,o._registerComponent)(new Q.wA(yi,je=>{const It=je.getProvider("app").getImmediate(),zt=function(je){if(!je||!je.options)throw lr("App Configuration");if(!je.name)throw lr("App Name");const It=["projectId","apiKey","appId"];for(const zt of It)if(!je.options[zt])throw lr(zt);return{appName:je.name,projectId:je.options.projectId,apiKey:je.options.apiKey,appId:je.options.appId}}(It);return{app:It,appConfig:zt,heartbeatServiceProvider:(0,o._getProvider)(It,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new Q.wA("installations-internal",je=>{const It=je.getProvider("app").getImmediate(),zt=(0,o._getProvider)(It,yi).getImmediate();return{getId:()=>function(je){return gt.apply(this,arguments)}(zt),getToken:Zr=>function(je){return z.apply(this,arguments)}(zt,Zr)}},"PRIVATE")),(0,o.registerVersion)(_e,xe),(0,o.registerVersion)(_e,xe,"esm2017")},5422:(un,ht,U)=>{"use strict";U.d(ht,{in:()=>o,Yd:()=>xe,Ub:()=>Ee,Am:()=>ye});const I=[];var o=(()=>{return(se=o||(o={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",o;var se})();const Q={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},Ve=o.INFO,Ne={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},_e=(se,ae,...Te)=>{if(ae<se.logLevel)return;const ve=(new Date).toISOString(),Be=Ne[ae];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Be](`[${ve}]  ${se.name}:`,...Te)};class xe{constructor(ae){this.name=ae,this._logLevel=Ve,this._logHandler=_e,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in o))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?Q[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...ae),this._logHandler(this,o.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...ae),this._logHandler(this,o.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,o.INFO,...ae),this._logHandler(this,o.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,o.WARN,...ae),this._logHandler(this,o.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...ae),this._logHandler(this,o.ERROR,...ae)}}function Ee(se){I.forEach(ae=>{ae.setLogLevel(se)})}function ye(se,ae){for(const Te of I){let ve=null;ae&&ae.level&&(ve=Q[ae.level]),Te.userLogHandler=null===se?null:(Be,$e,...Ge)=>{const ce=Ge.map(wt=>{if(null==wt)return null;if("string"==typeof wt)return wt;if("number"==typeof wt||"boolean"==typeof wt)return wt.toString();if(wt instanceof Error)return wt.message;try{return JSON.stringify(wt)}catch(Wt){return null}}).filter(wt=>wt).join(" ");$e>=(null!=ve?ve:Be.logLevel)&&se({level:o[$e].toLowerCase(),message:ce,args:Ge,type:Be.name})}}}},5401:(un,ht,U)=>{"use strict";U.d(ht,{Lj:()=>At,X3:()=>Ot});var I=U(8239);let Q,Ve;const xe=new WeakMap,Ee=new WeakMap,ye=new WeakMap,se=new WeakMap,ae=new WeakMap;let Be={get(it,Tt,st){if(it instanceof IDBTransaction){if("done"===Tt)return Ee.get(it);if("objectStoreNames"===Tt)return it.objectStoreNames||ye.get(it);if("store"===Tt)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return wt(it[Tt])},set:(it,Tt,st)=>(it[Tt]=st,!0),has:(it,Tt)=>it instanceof IDBTransaction&&("done"===Tt||"store"===Tt)||Tt in it};function ce(it){return"function"==typeof it?function(it){return it!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(it)?function(...Tt){return it.apply(Wt(this),Tt),wt(xe.get(this))}:function(...Tt){return wt(it.apply(Wt(this),Tt))}:function(Tt,...st){const Xe=it.call(Wt(this),Tt,...st);return ye.set(Xe,Tt.sort?Tt.sort():[Tt]),wt(Xe)}}(it):(it instanceof IDBTransaction&&function(it){if(Ee.has(it))return;const Tt=new Promise((st,Xe)=>{const ut=()=>{it.removeEventListener("complete",St),it.removeEventListener("error",Dt),it.removeEventListener("abort",Dt)},St=()=>{st(),ut()},Dt=()=>{Xe(it.error||new DOMException("AbortError","AbortError")),ut()};it.addEventListener("complete",St),it.addEventListener("error",Dt),it.addEventListener("abort",Dt)});Ee.set(it,Tt)}(it),((it,Tt)=>Tt.some(st=>it instanceof st))(it,Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(it,Be):it)}function wt(it){if(it instanceof IDBRequest)return function(it){const Tt=new Promise((st,Xe)=>{const ut=()=>{it.removeEventListener("success",St),it.removeEventListener("error",Dt)},St=()=>{st(wt(it.result)),ut()},Dt=()=>{Xe(it.error),ut()};it.addEventListener("success",St),it.addEventListener("error",Dt)});return Tt.then(st=>{st instanceof IDBCursor&&xe.set(st,it)}).catch(()=>{}),ae.set(Tt,it),Tt}(it);if(se.has(it))return se.get(it);const Tt=ce(it);return Tt!==it&&(se.set(it,Tt),ae.set(Tt,it)),Tt}const Wt=it=>ae.get(it);function Ot(it,Tt,{blocked:st,upgrade:Xe,blocking:ut,terminated:St}={}){const Dt=indexedDB.open(it,Tt),Lt=wt(Dt);return Xe&&Dt.addEventListener("upgradeneeded",vn=>{Xe(wt(Dt.result),vn.oldVersion,vn.newVersion,wt(Dt.transaction))}),st&&Dt.addEventListener("blocked",()=>st()),Lt.then(vn=>{St&&vn.addEventListener("close",()=>St()),ut&&vn.addEventListener("versionchange",()=>ut())}).catch(()=>{}),Lt}function At(it,{blocked:Tt}={}){const st=indexedDB.deleteDatabase(it);return Tt&&st.addEventListener("blocked",()=>Tt()),wt(st).then(()=>{})}const Je=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],Qe=new Map;function He(it,Tt){if(!(it instanceof IDBDatabase)||Tt in it||"string"!=typeof Tt)return;if(Qe.get(Tt))return Qe.get(Tt);const st=Tt.replace(/FromIndex$/,""),Xe=Tt!==st,ut=rt.includes(st);if(!(st in(Xe?IDBIndex:IDBObjectStore).prototype)||!ut&&!Je.includes(st))return;const St=function(){var Dt=(0,I.Z)(function*(Lt,...vn){const Dn=this.transaction(Lt,ut?"readwrite":"readonly");let Vn=Dn.store;return Xe&&(Vn=Vn.index(vn.shift())),(yield Promise.all([Vn[st](...vn),ut&&Dn.done]))[0]});return function(vn){return Dt.apply(this,arguments)}}();return Qe.set(Tt,St),St}var it;Be=IC(SC({},it=Be),{get:(Tt,st,Xe)=>He(Tt,st)||it.get(Tt,st,Xe),has:(Tt,st)=>!!He(Tt,st)||it.has(Tt,st)})},8239:(un,ht,U)=>{"use strict";function I(Q,Ve,Ne,_e,xe,Ee,ye){try{var se=Q[Ee](ye),ae=se.value}catch(Te){return void Ne(Te)}se.done?Ve(ae):Promise.resolve(ae).then(_e,xe)}function o(Q){return function(){var Ve=this,Ne=arguments;return new Promise(function(_e,xe){var Ee=Q.apply(Ve,Ne);function ye(ae){I(Ee,_e,xe,ye,se,"next",ae)}function se(ae){I(Ee,_e,xe,ye,se,"throw",ae)}ye(void 0)})}}U.d(ht,{Z:()=>o})}},un=>{un(un.s=2658)}]);