var v6=Object.defineProperty,b6=Object.defineProperties,E6=Object.getOwnPropertyDescriptors,Wj=Object.getOwnPropertySymbols,w6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,Kj=(ct,ke,k)=>ke in ct?v6(ct,ke,{enumerable:!0,configurable:!0,writable:!0,value:k}):ct[ke]=k,Qj=(ct,ke)=>{for(var k in ke||(ke={}))w6.call(ke,k)&&Kj(ct,k,ke[k]);if(Wj)for(var k of Wj(ke))T6.call(ke,k)&&Kj(ct,k,ke[k]);return ct},Yj=(ct,ke)=>b6(ct,E6(ke));(self.webpackChunkstat_trak=self.webpackChunkstat_trak||[]).push([[179],{8255:ct=>{function ke(k){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+k+"'");throw d.code="MODULE_NOT_FOUND",d})}ke.keys=()=>[],ke.resolve=ke,ke.id=8255,ct.exports=ke},3018:(ct,ke,k)=>{"use strict";k.d(ke,{deG:()=>iv,tb:()=>ZC,AFp:()=>By,ip1:()=>jy,CZH:()=>Ld,hGG:()=>ut,z2F:()=>Bd,sBO:()=>Ym,Sil:()=>tu,_Vd:()=>Nf,EJc:()=>Ud,SBq:()=>xo,qLn:()=>ln,vpe:()=>Oo,gxx:()=>lf,tBr:()=>Ac,XFs:()=>lt,OlP:()=>Kn,zs3:()=>gr,ZZ4:()=>Ff,aQg:()=>Lf,soG:()=>ll,YKP:()=>Xm,v3s:()=>C0,h0i:()=>il,PXZ:()=>zr,R0b:()=>Us,FiY:()=>Eo,Lbi:()=>p0,g9A:()=>f0,Qsj:()=>pE,FYo:()=>Mf,JOm:()=>aa,Tiy:()=>MS,q3G:()=>Dr,tp0:()=>Xs,EAV:()=>uD,Rgc:()=>Ed,dDg:()=>b0,DyG:()=>Vl,q4F:()=>FS,GfV:()=>Zm,s_b:()=>ty,ifc:()=>yn,eFA:()=>rD,G48:()=>w0,X6Q:()=>Ky,_c5:()=>$1,VLi:()=>XC,c2e:()=>g0,zSh:()=>um,wAp:()=>jt,vHH:()=>Me,EiD:()=>Mg,mCW:()=>rs,qzn:()=>v,JVY:()=>R,pB0:()=>ft,eBb:()=>ce,L6k:()=>M,LAX:()=>Be,cg1:()=>Jb,Tjo:()=>s_,kL8:()=>Do,yhl:()=>I,dqk:()=>K,sIi:()=>gf,CqO:()=>DI,QGY:()=>vf,F4k:()=>bf,RDi:()=>Ss,AaK:()=>te,z3N:()=>m,TTD:()=>Rl,xp6:()=>Xl,uIk:()=>ks,Suo:()=>QE,Xpm:()=>V,lG2:()=>Hn,Yz7:()=>Kt,cJS:()=>dr,oAB:()=>St,Yjl:()=>Ht,Y36:()=>hd,_UZ:()=>_R,GkF:()=>CI,qZA:()=>TI,TgZ:()=>xb,EpF:()=>Ob,Ikx:()=>Kb,LFG:()=>Cr,$8M:()=>Ll,NdJ:()=>Ef,CRH:()=>Ty,oxw:()=>wR,ALo:()=>my,lcZ:()=>EC,xi3:()=>wC,Q6J:()=>Am,MGl:()=>kb,DdM:()=>vC,VKq:()=>s1,iGM:()=>CC,MAs:()=>lI,CHM:()=>bh,LSH:()=>Dv,kYT:()=>Ft,Udp:()=>qb,YNc:()=>cI,W1O:()=>Cy,_uU:()=>Hb,Oqu:()=>Tf,hij:()=>gd,AsE:()=>Co,lnq:()=>km});var d=k(9765),Z=k(5319),F=k(7574),ue=k(6682),De=k(2441);var we=k(1307);function le(){return new d.xQ}function H(s){for(let o in s)if(s[o]===H)return o;throw Error("Could not find renamed property on target object.")}function te(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(te).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const je=H({__forward_ref__:H});function Ce(s){return s.__forward_ref__=Ce,s.toString=function(){return te(this())},s}function Ie(s){return function(s){return"function"==typeof s&&s.hasOwnProperty(je)&&s.__forward_ref__===Ce}(s)?s():s}class Me extends Error{constructor(o,a){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,a)),this.code=o}}function tt(s){return"string"==typeof s?s:null==s?"":String(s)}function Mt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():tt(s)}function re(s,o){const a=o?` in ${o}`:"";throw new Me("201",`No provider for ${Mt(s)} found${a}`)}function At(s,o){null==s&&function(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Kt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function dr(s){return{providers:s.providers||[],imports:s.imports||[]}}function jn(s){return Wn(s,sn)||Wn(s,$n)}function Wn(s,o){return s.hasOwnProperty(o)?s[o]:null}function hr(s){return s&&(s.hasOwnProperty(An)||s.hasOwnProperty(br))?s[An]:null}const sn=H({\u0275prov:H}),An=H({\u0275inj:H}),$n=H({ngInjectableDef:H}),br=H({ngInjectorDef:H});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let ar;function Bn(s){const o=ar;return ar=s,o}function mn(s,o,a){const c=jn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==o?o:void re(te(s),"Injector")}function nt(s){return{toString:s}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),yn=(()=>((yn=yn||{})[yn.Emulated=0]="Emulated",yn[yn.None=2]="None",yn[yn.ShadowDom=3]="ShadowDom",yn))();const Fn="undefined"!=typeof globalThis&&globalThis,kn="undefined"!=typeof window&&window,dn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,K=Fn||"undefined"!=typeof global&&global||kn||dn,J={},W=[],Fe=H({\u0275cmp:H}),et=H({\u0275dir:H}),Ct=H({\u0275pipe:H}),on=H({\u0275mod:H}),hn=H({\u0275loc:H}),he=H({\u0275fac:H}),q=H({__NG_ELEMENT_ID__:H});let j=0;function V(s){return nt(()=>{const a={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||W,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||yn.Emulated,id:"c",styles:s.styles||W,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return c.id+=j++,c.inputs=fn(s.inputs,a),c.outputs=fn(s.outputs),p&&p.forEach(b=>b(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(Le):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(it):null,c})}function Le(s){return en(s)||function(s){return s[et]||null}(s)}function it(s){return function(s){return s[Ct]||null}(s)}const dt={};function St(s){return nt(()=>{const o={type:s.type,bootstrap:s.bootstrap||W,declarations:s.declarations||W,imports:s.imports||W,exports:s.exports||W,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(dt[s.id]=s.type),o})}function Ft(s,o){return nt(()=>{const a=Er(s,!0);a.declarations=o.declarations||W,a.imports=o.imports||W,a.exports=o.exports||W})}function fn(s,o){if(null==s)return J;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const Hn=V;function Ht(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[Fe]||null}function Er(s,o){const a=s[on]||null;if(!a&&!0===o)throw new Error(`Type ${te(s)} does not have '\u0275mod' property.`);return a}function ai(s){return Array.isArray(s)&&"object"==typeof s[1]}function Cn(s){return Array.isArray(s)&&!0===s[1]}function Aa(s){return 0!=(8&s.flags)}function fu(s){return 2==(2&s.flags)}function Ti(s){return 1==(1&s.flags)}function xi(s){return null!==s.template}function Vo(s){return 0!=(512&s[2])}function Ri(s,o){return s.hasOwnProperty(he)?s[he]:null}class yh{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Rl(){return Oa}function Oa(s){return s.type.prototype.ngOnChanges&&(s.setInput=_h),Yi}function Yi(){const s=$o(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===J)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function _h(s,o,a,c){const h=$o(s)||function(s,o){return s[qo]=o}(s,{previous:J,current:null}),p=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[a],w=y[b];p[b]=new yh(w&&w.currentValue,o,y===J),s[c]=o}Rl.ngInherit=!0;const qo="__ngSimpleChanges__";function $o(s){return s[qo]||null}let Ho;function Ss(s){Ho=s}function Zn(s){return!!s.listen}const U={createRenderer:(s,o)=>void 0!==Ho?Ho:"undefined"!=typeof document?document:void 0};function fe(s){for(;Array.isArray(s);)s=s[0];return s}function wt(s,o){return fe(o[s])}function Ut(s,o){return fe(o[s.index])}function cr(s,o){return s.data[o]}function Ln(s,o){return s[o]}function xt(s,o){const a=o[s];return ai(a)?a:a[0]}function Oi(s){return 4==(4&s[2])}function zs(s){return 128==(128&s[2])}function Pi(s,o){return null==o?null:s[o]}function Cs(s){s[18]=0}function fc(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Lt={lFrame:sg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vh(){return Lt.bindingsEnabled}function Ge(){return Lt.lFrame.lView}function _n(){return Lt.lFrame.tView}function bh(s){return Lt.lFrame.contextLView=s,s[8]}function lr(){let s=tg();for(;null!==s&&64===s.type;)s=s.parent;return s}function tg(){return Lt.lFrame.currentTNode}function ms(s,o){const a=Lt.lFrame;a.currentTNode=s,a.isParent=o}function Eh(){return Lt.lFrame.isParent}function Go(){Lt.lFrame.isParent=!1}function Ma(){return Lt.isInCheckNoChangesMode}function zo(s){Lt.isInCheckNoChangesMode=s}function ki(){const s=Lt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ys(){return Lt.lFrame.bindingIndex}function Wo(){return Lt.lFrame.bindingIndex++}function yo(s){const o=Lt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Ih(s,o){const a=Lt.lFrame;a.bindingIndex=a.bindingRootIndex=s,gc(o)}function gc(s){Lt.lFrame.currentDirectiveIndex=s}function Fa(){return Lt.lFrame.currentQueryIndex}function Dh(s){Lt.lFrame.currentQueryIndex=s}function G_(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function z_(s,o,a){if(a&lt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&lt.Host||(h=G_(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Lt.lFrame=ig();return c.currentTNode=o,c.lView=s,!0}function mc(s){const o=ig(),a=s[1];Lt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ig(){const s=Lt.lFrame,o=null===s?null:s.child;return null===o?sg(s):o}function sg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function og(){const s=Lt.lFrame;return Lt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Lw=og;function ag(){const s=og();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ni(){return Lt.lFrame.selectedIndex}function La(s){Lt.lFrame.selectedIndex=s}function fr(){const s=Lt.lFrame;return cr(s.tView,s.selectedIndex)}function Ol(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:C,ngOnDestroy:A}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),w&&(s.viewHooks||(s.viewHooks=[])).push(-a,w),C&&((s.viewHooks||(s.viewHooks=[])).push(a,C),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,C)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(a,A)}}function Tu(s,o,a){bc(s,o,3,a)}function vc(s,o,a,c){(3&s[2])===a&&bc(s,o,a,c)}function ug(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function bc(s,o,a,c){const p=null!=c?c:-1,y=o.length-1;let b=0;for(let w=void 0!==c?65535&s[18]:0;w<y;w++)if("number"==typeof o[w+1]){if(b=o[w],null!=c&&b>=c)break}else o[w]<0&&(s[18]+=65536),(b<p||-1==p)&&(cg(s,a,o,w),s[18]=(4294901760&s[18])+w+2),w++}function cg(s,o,a,c){const h=a[c]<0,p=a[c+1],b=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Va{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Iu(s,o,a){const c=Zn(s);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const y=a[h++],b=a[h++],w=a[h++];c?s.setAttribute(o,b,w,y):o.setAttributeNS(y,b,w)}else{const y=p,b=a[++h];dg(y)?c&&s.setProperty(o,y,b):c?s.setAttribute(o,y,b):o.setAttribute(y,b),h++}}return h}function pr(s){return 3===s||4===s||6===s}function dg(s){return 64===s.charCodeAt(0)}function wc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||Y_(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function Y_(s,o,a,c,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Nl(s){return-1!==s}function Tc(s){return 32767&s}function Su(s,o){let a=function(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let hg=!0;function Cu(s){const o=hg;return hg=s,o}let Ir=0;function Ds(s,o){const a=Mi(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Zr(c.data,s),Zr(o,null),Zr(c.blueprint,null));const h=Du(s,o),p=s.injectorIndex;if(Nl(h)){const y=Tc(h),b=Su(h,o),w=b[1].data;for(let C=0;C<8;C++)o[p+C]=b[y+C]|w[y+C]}return o[p+8]=h,p}function Zr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Mi(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Du(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(c=2===y?p.declTNode:1===y?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Sc(s,o,a){!function(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(q)&&(c=a[q]),null==c&&(c=a[q]=Ir++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ah(s,o,a){if(a&lt.Optional)return s;re(o,"NodeInjector")}function fg(s,o,a,c){if(a&lt.Optional&&void 0===c&&(c=null),0==(a&(lt.Self|lt.Host))){const h=s[9],p=Bn(void 0);try{return h?h.get(o,c,a&lt.Optional):mn(o,c,a&lt.Optional)}finally{Bn(p)}}return Ah(c,o,a)}function es(s,o,a,c=lt.Default,h){if(null!==s){const p=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(q)?s[q]:void 0;return"number"==typeof o?o>=0?255&o:ev:o}(a);if("function"==typeof p){if(!z_(o,s,c))return c&lt.Host?Ah(h,a,c):fg(o,a,c,h);try{const y=p(c);if(null!=y||c&lt.Optional)return y;re(a)}finally{Lw()}}else if("number"==typeof p){let y=null,b=Mi(s,o),w=-1,C=c&lt.Host?o[16][6]:null;for((-1===b||c&lt.SkipSelf)&&(w=-1===b?Du(s,o):o[b+8],-1!==w&&nv(c,!1)?(y=o[1],b=Tc(w),o=Su(w,o)):b=-1);-1!==b;){const A=o[1];if(Ks(p,b,A.data)){const P=tv(b,o,a,y,c,C);if(P!==pg)return P}w=o[b+8],-1!==w&&nv(c,o[1].data[b+8]===C)&&Ks(p,b,o)?(y=A,b=Tc(w),o=Su(w,o)):b=-1}}}return fg(o,a,c,h)}const pg={};function ev(){return new Ru(lr(),Ge())}function tv(s,o,a,c,h,p){const y=o[1],b=y.data[s+8],A=Au(b,y,a,null==c?fu(b)&&hg:c!=y&&0!=(3&b.type),h&lt.Host&&p===b);return null!==A?xu(o,y,A,b):pg}function Au(s,o,a,c,h){const p=s.providerIndexes,y=o.data,b=1048575&p,w=s.directiveStart,A=p>>20,N=h?b+A:s.directiveEnd;for(let Q=c?b:b+A;Q<N;Q++){const ee=y[Q];if(Q<w&&a===ee||Q>=w&&ee.type===a)return Q}if(h){const Q=y[w];if(Q&&xi(Q)&&Q.type===a)return w}return null}function xu(s,o,a,c){let h=s[a];const p=o.data;if(function(s){return s instanceof Va}(h)){const y=h;y.resolving&&function(s,o){throw new Me("200",`Circular dependency in DI detected for ${s}`)}(Mt(p[a]));const b=Cu(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?Bn(y.injectImpl):null;z_(s,c,lt.Default);try{h=s[a]=y.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const y=Oa(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==w&&Bn(w),Cu(b),y.resolving=!1,Lw()}}return h}function Ks(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function nv(s,o){return!(s&lt.Self||s&lt.Host&&o)}class Ru{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return es(this._tNode,this._lView,o,c,a)}}function Ll(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(pr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(lr(),s)}const Yo="__parameters__";function _o(s,o,a){return nt(()=>{const c=function(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(w,C,A){const P=w.hasOwnProperty(Yo)?w[Yo]:Object.defineProperty(w,Yo,{value:[]})[Yo];for(;P.length<=A;)P.push(null);return(P[A]=P[A]||[]).push(y),w}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Kn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const iv=new Kn("AnalyzeForEntryComponents"),Vl=Function;function As(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),As(c,o)):o!==s&&o.push(c)}return o}function Ys(s,o){s.forEach(a=>Array.isArray(a)?Ys(a,o):o(a))}function Pu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function ku(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ui(s,o,a){let c=Xo(s,o);return c>=0?s[1|c]=a:(c=~c,function(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function ns(s,o){const a=Xo(s,o);if(a>=0)return s[1|a]}function Xo(s,o){return function(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const Mu={},ea="__NG_DI_FLAG__",xs="ngTempTokenPath",Nh=/\n/gm,Js="__source",$l=H({provide:String,useValue:H});let Dc;function bo(s){const o=Dc;return Dc=s,o}function fv(s,o=lt.Default){if(void 0===Dc)throw new Error("inject() must be called from an injection context");return null===Dc?mn(s,void 0,o):Dc.get(s,o&lt.Optional?null:void 0,o)}function Cr(s,o=lt.Default){return(ar||fv)(Ie(s),o)}function ta(s){const o=[];for(let a=0;a<s.length;a++){const c=Ie(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,p=lt.Default;for(let y=0;y<c.length;y++){const b=c[y],w=$w(b);"number"==typeof w?-1===w?h=b.token:p|=w:h=b}o.push(Cr(h,p))}else o.push(Cr(c))}return o}function Hl(s,o){return s[ea]=o,s.prototype[ea]=o,s}function $w(s){return s[ea]}function gv(s,o,a,c){const h=s[xs];throw o[Js]&&h.unshift(o[Js]),s.message=function(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=te(o);if(Array.isArray(o))h=o.map(te).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):te(b)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(Nh,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[xs]=null,s}const Ac=Hl(_o("Inject",s=>({token:s})),-1),Eo=Hl(_o("Optional"),8),Xs=Hl(_o("SkipSelf"),4);let Lh;function na(s){var o;return(null===(o=function(){if(void 0===Lh&&(Lh=null,K.trustedTypes))try{Lh=K.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Lh}())||void 0===o?void 0:o.createHTML(s))||s}class ra{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bv extends ra{getTypeName(){return"HTML"}}class Ev extends ra{getTypeName(){return"Style"}}class wv extends ra{getTypeName(){return"Script"}}class Tv extends ra{getTypeName(){return"URL"}}class E extends ra{getTypeName(){return"ResourceURL"}}function m(s){return s instanceof ra?s.changingThisBreaksApplicationSecurity:s}function v(s,o){const a=I(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function I(s){return s instanceof ra&&s.getTypeName()||null}function R(s){return new bv(s)}function M(s){return new Ev(s)}function ce(s){return new wv(s)}function Be(s){return new Tv(s)}function ft(s){return new E(s)}class rn{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(na(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Xn{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=na(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=na(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const _s=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rs(s){return(s=String(s)).match(_s)||s.match(kg)?s:"unsafe:"+s}function Rs(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function wo(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Bh=Rs("area,br,col,hr,img,wbr"),qh=Rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rc=Rs("rp,rt"),zl=wo(Bh,wo(qh,Rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wo(Rc,Rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wo(Rc,qh)),Sv=Rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cv=Rs("srcset"),Vu=wo(Sv,Cv,Rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Os=Rs("script,style,template");class MA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!zl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Os.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),y=p.name,b=y.toLowerCase();if(!Vu.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let w=p.value;Sv[b]&&(w=rs(w)),Cv[b]&&(s=w,w=(s=String(s)).split(",").map(o=>rs(o.trim())).join(", ")),this.buf.push(" ",y,'="',Yw(w),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();zl.hasOwnProperty(a)&&!Bh.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Yw(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const FA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LA=/([^\#-~ |!])/g;function Yw(s){return s.replace(/&/g,"&amp;").replace(FA,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(LA,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let to;function Mg(s,o){let a=null;try{to=to||function(s){const o=new Xn(s);return function(){try{return!!(new window.DOMParser).parseFromString(na(""),"text/html")}catch(s){return!1}}()?new rn(o):o}(s);let c=o?String(o):"";a=to.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=to.getInertBodyElement(c)}while(c!==p);return na((new MA).sanitizeChildren(Oc(a)||a))}finally{if(a){const c=Oc(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Oc(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Dr=(()=>((Dr=Dr||{})[Dr.NONE=0]="NONE",Dr[Dr.HTML=1]="HTML",Dr[Dr.STYLE=2]="STYLE",Dr[Dr.SCRIPT=3]="SCRIPT",Dr[Dr.URL=4]="URL",Dr[Dr.RESOURCE_URL=5]="RESOURCE_URL",Dr))();function Dv(s){const o=function(){const s=Ge();return s&&s[12]}();return o?o.sanitize(Dr.URL,s)||"":v(s,"URL")?m(s):rs(tt(s))}const xv="__ngContext__";function ci(s,o){s[xv]=o}function Rv(s){const o=function(s){return s[xv]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Hh(s){return s.ngOriginalError}function kc(s,...o){s.error(...o)}class ln{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=this._findContext(o),h=(s=o)&&s.ngErrorLogger||kc;var s;h(this._console,"ERROR",o),a&&h(this._console,"ORIGINAL ERROR",a),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(Hh(o)):null}_findOriginalError(o){let a=o&&Hh(o);for(;a&&Hh(a);)a=Hh(a);return a||null}}const Ug=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K))();function oa(s){return s instanceof Function?s():s}var aa=(()=>((aa=aa||{})[aa.Important=1]="Important",aa[aa.DashCase=2]="DashCase",aa))();function Uv(s,o){return undefined(s,o)}function Mc(s){const o=s[3];return Cn(o)?o[3]:o}function Bg(s){return lT(s[13])}function qg(s){return lT(s[4])}function lT(s){for(;null!==s&&!Cn(s);)s=s[4];return s}function Fc(s,o,a,c,h){if(null!=c){let p,y=!1;Cn(c)?p=c:ai(c)&&(y=!0,c=c[0]);const b=fe(c);0===s&&null!==a?null==h?Hg(o,a,b):Lc(o,a,b,h||null,!0):1===s&&null!==a?Lc(o,a,b,h||null,!0):2===s?function(s,o,a){const c=Zg(s,o);c&&function(s,o,a,c){Zn(s)?s.removeChild(o,a,c):o.removeChild(a)}(s,c,o,a)}(o,b,y):3===s&&o.destroyNode(b),null!=p&&function(s,o,a,c,h){const p=a[7];p!==fe(a)&&Fc(o,s,c,p,h);for(let b=10;b<a.length;b++){const w=a[b];ro(w[1],w,s,o,c,p)}}(o,s,p,a,h)}}function Yh(s,o,a){return Zn(s)?s.createElement(o,a):null===a?s.createElement(o):s.createElementNS(a,o)}function pT(s,o){const a=s[9],c=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,fc(h,-1)),a.splice(c,1)}function qv(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&pT(h,c),o>0&&(s[a-1][4]=c[4]);const p=ku(s,10+o);!function(s,o){ro(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function gT(s,o){if(!(256&o[2])){const a=o[11];Zn(a)&&a.destroyNode&&ro(s,o,a,3,null,null),function(s){let o=s[13];if(!o)return Yl(s[1],s);for(;o;){let a=null;if(ai(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)ai(o)&&Yl(o[1],o),o=o[3];null===o&&(o=s),ai(o)&&Yl(o[1],o),a=o&&o[4]}o=a}}(o)}}function Yl(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Va)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],w=p[y+1];try{w.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],b="function"==typeof y?y(o):fe(o[y]),w=c[h=a[p+2]],C=a[p+3];"boolean"==typeof C?b.removeEventListener(a[p],w,C):C>=0?c[h=C]():c[h=-C].unsubscribe(),p+=2}else{const y=c[h=a[p+1]];a[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)c[p]();o[7]=null}}(s,o),1===o[1].type&&Zn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Cn(o[3])){a!==o[3]&&pT(a,o);const c=o[19];null!==c&&c.detachView(s)}}}function Hv(s,o,a){return function(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===yn.None||h===yn.Emulated)return null}return Ut(c,a)}(s,o.parent,a)}function Lc(s,o,a,c,h){Zn(s)?s.insertBefore(o,a,c,h):o.insertBefore(a,c,h)}function Hg(s,o,a){Zn(s)?s.appendChild(o,a):o.appendChild(a)}function mT(s,o,a,c,h){null!==c?Lc(s,o,a,c,h):Hg(s,o,a)}function Zg(s,o){return Zn(s)?s.parentNode(o):o.parentNode}let Gg=function(s,o,a){return 40&s.type?Ut(s,a):null};function ef(s,o,a,c){const h=Hv(s,c,o),p=o[11],b=function(s,o,a){return Gg(s,o,a)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let w=0;w<a.length;w++)mT(p,h,a[w],b,!1);else mT(p,h,a,b,!1)}function zg(s,o){if(null!==o){const a=o.type;if(3&a)return Ut(o,s);if(4&a)return Wg(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return zg(s,c);{const h=s[o.index];return Cn(h)?Wg(-1,h):fe(h)}}if(32&a)return Uv(o,s)()||fe(s[o.index]);{const c=vT(s,o);return null!==c?Array.isArray(c)?c[0]:zg(Mc(s[16]),c):zg(s,o.next)}}return null}function vT(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Wg(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return zg(c,h)}return o[7]}function tf(s,o,a,c,h,p,y){for(;null!=a;){const b=c[a.index],w=a.type;if(y&&0===o&&(b&&ci(fe(b),c),a.flags|=4),64!=(64&a.flags))if(8&w)tf(s,o,a.child,c,h,p,!1),Fc(o,s,h,b,p);else if(32&w){const C=Uv(a,c);let A;for(;A=C();)Fc(o,s,h,A,p);Fc(o,s,h,b,p)}else 16&w?Bu(s,o,c,a,h,p):Fc(o,s,h,b,p);a=y?a.projectionNext:a.next}}function ro(s,o,a,c,h,p){tf(a,c,s.firstChild,o,h,p,!1)}function Bu(s,o,a,c,h,p){const y=a[16],w=y[6].projection[c.projection];if(Array.isArray(w))for(let C=0;C<w.length;C++)Fc(o,s,h,w[C],p);else tf(s,o,w,y[3],h,p,!0)}function ET(s,o,a){Zn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Wv(s,o,a){Zn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function Jl(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Qg="ng-template";function wT(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==Jl(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function TT(s){return 4===s.type&&s.value!==Qg}function ex(s,o,a){return o===(4!==s.type||a?s.value:Qg)}function Kv(s,o,a){let c=4;const h=s.attrs||[],p=function(s){for(let o=0;o<s.length;o++)if(pr(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const w=o[b];if("number"!=typeof w){if(!y)if(4&c){if(c=2|1&c,""!==w&&!ex(s,w,a)||""===w&&1===o.length){if(Ar(c))return!1;y=!0}}else{const C=8&c?w:o[++b];if(8&c&&null!==s.attrs){if(!wT(s.attrs,C,a)){if(Ar(c))return!1;y=!0}continue}const P=IT(8&c?"class":w,h,TT(s),a);if(-1===P){if(Ar(c))return!1;y=!0;continue}if(""!==C){let N;N=P>p?"":h[P+1].toLowerCase();const Q=8&c?N:null;if(Q&&-1!==Jl(Q,C,0)||2&c&&C!==N){if(Ar(c))return!1;y=!0}}}}else{if(!y&&!Ar(c)&&!Ar(w))return!1;if(y&&Ar(w))continue;y=!1,c=w|1&c}}return Ar(c)||y}function Ar(s){return 0==(1&s)}function IT(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function Qv(s,o,a=!1){for(let c=0;c<o.length;c++)if(Kv(s,o[c],a))return!0;return!1}function ST(s,o){return s?":not("+o.trim()+")":o}function rx(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&c){const b=s[++a];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Ar(y)&&(o+=ST(p,h),h=""),c=y,p=p||!Ar(c);a++}return""!==h&&(o+=ST(p,h)),o}const Qt={};function Xl(s){Yv(_n(),Ge(),Ni()+s,Ma())}function Yv(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Tu(o,p,a)}else{const p=s.preOrderHooks;null!==p&&vc(o,p,0,a)}La(a)}function Uc(s,o){return s<<17|o<<2}function io(s){return s>>17&32767}function Jv(s){return 2|s}function $a(s){return(131068&s)>>2}function Xv(s,o){return-131069&s|o<<2}function eb(s){return 1|s}function MT(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const y=s.data[p];Dh(h),y.contentQueries(2,o[p],p)}}}function sf(s,o,a,c,h,p,y,b,w,C){const A=o.blueprint.slice();return A[0]=h,A[2]=140|c,Cs(A),A[3]=A[15]=s,A[8]=a,A[10]=y||s&&s[10],A[11]=b||s&&s[11],A[12]=w||s&&s[12]||null,A[9]=C||s&&s[9]||null,A[6]=p,A[16]=2==o.type?s[16]:A,A}function nd(s,o,a,c,h){let p=s.data[o];if(null===p)p=function(s,o,a,c,h){const p=tg(),y=Eh(),w=s.data[o]=function(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=w),null!==p&&(y?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(s,o,a,c,h),Lt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const y=function(){const s=Lt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ms(p,!0),p}function Bc(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function af(s,o,a){mc(o);try{const c=s.viewQuery;null!==c&&ZT(1,c,a);const h=s.template;null!==h&&FT(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&MT(s,o),s.staticViewQueries&&ZT(2,s.viewQuery,a);const p=s.components;null!==p&&function(s,o){for(let a=0;a<o.length;a++)RM(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ag()}}function rd(s,o,a,c){const h=o[2];if(256==(256&h))return;mc(o);const p=Ma();try{Cs(o),function(s){Lt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&FT(s,o,a,2,c);const y=3==(3&h);if(!p)if(y){const C=s.preOrderCheckHooks;null!==C&&Tu(o,C,null)}else{const C=s.preOrderHooks;null!==C&&vc(o,C,0,null),ug(o,0)}if(function(s){for(let o=Bg(s);null!==o;o=qg(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(1024&h[2])&&fc(p,1),h[2]|=1024}}}(o),function(s){for(let o=Bg(s);null!==o;o=qg(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];zs(c)&&rd(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&MT(s,o),!p)if(y){const C=s.contentCheckHooks;null!==C&&Tu(o,C)}else{const C=s.contentHooks;null!==C&&vc(o,C,1),ug(o,1)}!function(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)La(~h);else{const p=h,y=a[++c],b=a[++c];Ih(y,p),b(2,o[p])}}}finally{La(-1)}}(s,o);const b=s.components;null!==b&&function(s,o){for(let a=0;a<o.length;a++)om(s,o[a])}(o,b);const w=s.viewQuery;if(null!==w&&ZT(2,w,c),!p)if(y){const C=s.viewCheckHooks;null!==C&&Tu(o,C)}else{const C=s.viewHooks;null!==C&&vc(o,C,2),ug(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,fc(o[3],-1))}finally{ag()}}function Li(s,o,a,c){const h=o[10],p=!Ma(),y=Oi(o);try{p&&!y&&h.begin&&h.begin(),y&&af(s,o,c),rd(s,o,a,c)}finally{p&&!y&&h.end&&h.end()}}function FT(s,o,a,c,h){const p=Ni(),y=2&c;try{La(-1),y&&o.length>20&&Yv(s,o,20,Ma()),a(c,h)}finally{La(p)}}function uf(s,o,a){if(Aa(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function cf(s,o,a){!vh()||(function(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Ds(a,o),ci(c,o);const y=a.initialInputs;for(let b=h;b<p;b++){const w=s.data[b],C=xi(w);C&&Ix(o,a,w);const A=xu(o,s,b,a);ci(A,o),null!==y&&qu(0,b-h,A,w,0,y),C&&(xt(a.index,o)[8]=A)}}(s,o,a,Ut(a,o)),128==(128&a.flags)&&function(s,o,a){const c=a.directiveStart,h=a.directiveEnd,y=a.index,b=Lt.lFrame.currentDirectiveIndex;try{La(y);for(let w=c;w<h;w++){const C=s.data[w],A=o[w];gc(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&sm(C,A)}}finally{La(-1),gc(b)}}(s,o,a))}function la(s,o,a=Ut){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],b=-1===y?a(o,s):s[y];s[h++]=b}}}function qc(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=rm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function rm(s,o,a,c,h,p,y,b,w,C){const A=20+c,P=A+h,N=function(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Qt);return a}(A,P),Q="function"==typeof C?C():C;return N[1]={type:s,blueprint:N,template:a,queries:null,viewQuery:b,declTNode:o,data:N.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:Q,incompleteFirstPass:!1}}function LT(s,o,a,c){const h=Dx(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&Ax(s).push(c,h.length-1))}function ob(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function ei(s,o,a,c,h,p,y,b){const w=Ut(o,a);let A,C=o.inputs;!b&&null!=C&&(A=C[c])?(Ox(s,a,A,c,h),fu(o)&&function(s,o){const a=xt(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,Zn(p)?p.setProperty(w,c,h):dg(c)||(w.setProperty?w.setProperty(c,h):w[c]=h))}function cb(s,o,a,c){let h=!1;if(vh()){const p=function(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];Qv(a,y.selectors,!1)&&(h||(h=[]),Sc(Ds(a,o),s,y.type),xi(y)?(jT(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===c?null:{"":-1};if(null!==p){h=!0,Tx(a,s.data.length,p.length);for(let A=0;A<p.length;A++){const P=p[A];P.providersResolver&&P.providersResolver(P)}let b=!1,w=!1,C=Bc(s,o,p.length,null);for(let A=0;A<p.length;A++){const P=p[A];a.mergedAttrs=wc(a.mergedAttrs,P.hostAttrs),db(s,a,o,C,P),wx(C,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const N=P.type.prototype;!b&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!w&&(N.ngOnChanges||N.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),w=!0),C++}!function(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,y=[];let b=null,w=null;for(let C=o.directiveStart;C<c;C++){const A=h[C],P=A.inputs,N=null===p||TT(o)?null:id(P,p);y.push(N),b=ob(P,C,b),w=ob(A.outputs,C,w)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=b,o.outputs=w}(s,a)}y&&function(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Me("301",`Export of name '${o[h+1]}' not found!`);c.push(o[h],p)}}}(a,c,y)}return a.mergedAttrs=wc(a.mergedAttrs,a.attrs),h}function lb(s,o,a,c,h,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const w=~o.index;(function(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=w&&b.push(w),b.push(c,h,y)}}function sm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jT(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function wx(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;xi(o)&&(a[""]=s)}}function Tx(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function db(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=Ri(h.type)),y=new Va(p,xi(h),null);s.blueprint[c]=y,a[c]=y,lb(s,o,0,c,Bc(s,a,h.hostVars,Qt),h)}function Ix(s,o,a){const c=Ut(o,s),h=qc(a),p=s[10],y=am(s,sf(s,h,null,a.onPush?64:16,c,o,p,p.createRenderer(c,a),null,null));s[o.index]=y}function kt(s,o,a,c,h,p){const y=Ut(s,o);!function(s,o,a,c,h,p,y){if(null==p)Zn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const b=null==y?tt(p):y(p,c||"",h);Zn(s)?s.setAttribute(o,h,b,a):a?o.setAttributeNS(a,h,b):o.setAttribute(h,b)}}(o[11],y,p,s.value,a,c,h)}function qu(s,o,a,c,h,p){const y=p[o];if(null!==y){const b=c.setInput;for(let w=0;w<y.length;){const C=y[w++],A=y[w++],P=y[w++];null!==b?c.setInput(a,P,C,A):a[A]=P}}}function id(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function qT(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function om(s,o){const a=xt(o,s);if(zs(a)){const c=a[1];80&a[2]?rd(c,a,c.template,a[8]):a[5]>0&&hb(a)}}function hb(s){for(let c=Bg(s);null!==c;c=qg(c))for(let h=10;h<c.length;h++){const p=c[h];if(1024&p[2]){const y=p[1];rd(y,p,y.template,p[8])}else p[5]>0&&hb(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=xt(a[c],s);zs(h)&&h[5]>0&&hb(h)}}function RM(s,o){const a=xt(o,s),c=a[1];(function(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),af(c,a,a[8])}function am(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function pb(s){for(;s;){s[2]|=64;const o=Mc(s);if(Vo(s)&&!o)return s;s=o}return null}function gb(s,o,a){const c=o[10];c.begin&&c.begin();try{rd(s,o,s.template,a)}catch(h){throw Rx(o,h),h}finally{c.end&&c.end()}}function Sx(s){!function(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],c=Rv(a),h=c[1];Li(h,c,h.template,a)}}(s[8])}function ZT(s,o,a){Dh(0),o(s,a)}const kM=(()=>Promise.resolve(null))();function Dx(s){return s[7]||(s[7]=[])}function Ax(s){return s.cleanup||(s.cleanup=[])}function Rx(s,o){const a=s[9],c=a?a.get(ln,null):null;c&&c.handleError(o)}function Ox(s,o,a,c,h){for(let p=0;p<a.length;){const y=a[p++],b=a[p++],w=o[y],C=s.data[y];null!==C.setInput?C.setInput(w,h,c,b):w[b]=h}}function $u(s,o,a){const c=wt(o,s);!function(s,o,a){Zn(s)?s.setValue(o,a):o.textContent=a}(s[11],c,a)}function mb(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=ge(h,b):2==p&&(c=ge(c,b+": "+o[++y]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}const lf=new Kn("INJECTOR",-1);class Px{get(o,a=Mu){if(a===Mu){const c=new Error(`NullInjectorError: No provider for ${te(o)}!`);throw c.name="NullInjectorError",c}return a}}const um=new Kn("Set Injector scope."),cm={},FM={};let GT;function kx(){return void 0===GT&&(GT=new Px),GT}function Nx(s,o=null,a=null,c){return new UM(s,a,o||kx(),c)}class UM{constructor(o,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Ys(a,b=>this.processProvider(b,o,a)),Ys([o],b=>this.processInjectorType(b,[],p)),this.records.set(lf,df(void 0,this));const y=this.records.get(um);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:te(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Mu,c=lt.Default){this.assertNotDestroyed();const h=bo(this),p=Bn(void 0);try{if(!(c&lt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const w=("function"==typeof(s=o)||"object"==typeof s&&s instanceof Kn)&&jn(o);b=w&&this.injectableDefInScope(w)?df(zT(o),cm):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&lt.Self?kx():this.parent).get(o,a=c&lt.Optional&&a===Mu?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[xs]=y[xs]||[]).unshift(te(o)),h)throw y;return gv(y,o,"R3InjectorError",this.source)}throw y}finally{Bn(p),bo(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(te(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,a,c){if(!(o=Ie(o)))return!1;let h=hr(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,b=-1!==c.indexOf(y);if(void 0!==p&&(h=hr(p)),null==h)return!1;if(null!=h.imports&&!b){let A;c.push(y);try{Ys(h.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===A&&(A=[]),A.push(P))})}finally{}if(void 0!==A)for(let P=0;P<A.length;P++){const{ngModule:N,providers:Q}=A[P];Ys(Q,ee=>this.processProvider(ee,N,Q||W))}}this.injectorDefTypes.add(y);const w=Ri(y)||(()=>new y);this.records.set(y,df(w,cm));const C=h.providers;if(null!=C&&!b){const A=o;Ys(C,P=>this.processProvider(P,A,C))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,c){let h=hf(o=Ie(o))?o:Ie(o&&o.provide);const p=(s=o,Fx(s)?df(void 0,s.useValue):df(function(s,o,a){let c;if(hf(s)){const h=Ie(s);return Ri(h)||zT(h)}if(Fx(s))c=()=>Ie(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...ta(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>Cr(Ie(s.useExisting));else{const h=Ie(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Ri(h)||zT(h);c=()=>new h(...ta(s.deps))}return c}(s),cm));var s;if(hf(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=df(void 0,cm,!0),y.factory=()=>ta(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===cm&&(a.value=FM,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(s=a.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Ie(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function zT(s){const o=jn(s),a=null!==o?o.factory:Ri(s);if(null!==a)return a;if(s instanceof Kn)throw new Error(`Token ${te(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=function(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}(o,"?");throw new Error(`Can't resolve all parameters for ${te(s)}: (${c.join(", ")}).`)}const a=function(s){const o=s&&(s[sn]||s[$n]);if(o){const a=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Error("unreachable")}function df(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Fx(s){return null!==s&&"object"==typeof s&&$l in s}function hf(s){return"function"==typeof s}const Lx=function(s,o,a){return function(s,o=null,a=null,c){const h=Nx(s,o,a,c);return h._resolveInjectorDefTypes(),h}({name:a},o,s,a)};let gr=(()=>{class s{static create(a,c){return Array.isArray(a)?Lx(a,c,""):Lx(a.providers,a.parent,a.name||"")}}return s.THROW_IF_NOT_FOUND=Mu,s.NULL=new Px,s.\u0275prov=Kt({token:s,providedIn:"any",factory:()=>Cr(lf)}),s.__NG_ELEMENT_ID__=-1,s})();function Yx(s,o){Ol(Rv(s)[1],lr())}let Ga=null;function $c(){if(!Ga){const s=K.Symbol;if(s&&s.iterator)Ga=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ga=c)}}}return Ga}class To{constructor(o){this.wrapped=o}static wrap(o){return new To(o)}static unwrap(o){return To.isWrapped(o)?o.wrapped:o}static isWrapped(o){return o instanceof To}}function gf(s){return!!pm(s)&&(Array.isArray(s)||!(s instanceof Map)&&$c()in s)}function pm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function so(s,o,a){return s[o]=a}function Si(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Hc(s,o,a,c){const h=Si(s,o,a);return Si(s,o+1,c)||h}function ks(s,o,a,c){const h=Ge();return Si(h,Wo(),o)&&(_n(),kt(fr(),h,s,o,a,c)),ks}function Zu(s,o,a,c){return Si(s,Wo(),a)?o+tt(a)+c:Qt}function od(s,o,a,c,h,p,y,b){const C=function(s,o,a,c,h){const p=Hc(s,o,a,c);return Si(s,o+2,h)||p}(s,ys(),a,h,y);return yo(3),C?o+tt(a)+c+tt(h)+p+tt(y)+b:Qt}function cI(s,o,a,c,h,p,y,b){const w=Ge(),C=_n(),A=s+20,P=C.firstCreatePass?function(s,o,a,c,h,p,y,b,w){const C=o.consts,A=nd(o,s,4,y||null,Pi(C,b));cb(o,a,A,Pi(C,w)),Ol(o,A);const P=A.tViews=rm(2,A,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C);return null!==o.queries&&(o.queries.template(o,A),P.queries=o.queries.embeddedTView(A)),A}(A,C,w,o,a,c,h,p,y):C.data[A];ms(P,!1);const N=w[11].createComment("");ef(C,w,N,P),ci(N,w),am(w,w[A]=qT(N,w,N,P)),Ti(P)&&cf(C,w,P),null!=y&&la(w,P,b)}function lI(s){return Ln(Lt.lFrame.contextLView,20+s)}function hd(s,o=lt.Default){const a=Ge();return null===a?Cr(s,o):es(lr(),a,Ie(s),o)}function Am(s,o,a){const c=Ge();return Si(c,Wo(),o)&&ei(_n(),fr(),c,s,o,c[11],a,!1),Am}function xm(s,o,a,c,h){const y=h?"class":"style";Ox(s,a,o.inputs[y],y,c)}function xb(s,o,a,c){const h=Ge(),p=_n(),y=20+s,b=h[11],w=h[y]=Yh(b,o,Lt.lFrame.currentNamespace),C=p.firstCreatePass?function(s,o,a,c,h,p,y){const b=o.consts,C=nd(o,s,2,h,Pi(b,p));return cb(o,a,C,Pi(b,y)),null!==C.attrs&&mb(C,C.attrs,!1),null!==C.mergedAttrs&&mb(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(y,p,h,0,o,a,c):p.data[y];ms(C,!0);const A=C.mergedAttrs;null!==A&&Iu(b,w,A);const P=C.classes;null!==P&&Wv(b,w,P);const N=C.styles;null!==N&&ET(b,w,N),64!=(64&C.flags)&&ef(p,h,w,C),0===Lt.lFrame.elementDepthCount&&ci(w,h),Lt.lFrame.elementDepthCount++,Ti(C)&&(cf(p,h,C),uf(p,C,h)),null!==c&&la(h,C)}function TI(){let s=lr();Eh()?Go():(s=s.parent,ms(s,!1));const o=s;Lt.lFrame.elementDepthCount--;const a=_n();a.firstCreatePass&&(Ol(a,s),Aa(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&xm(a,o,Ge(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&xm(a,o,Ge(),o.stylesWithoutHost,!1)}function _R(s,o,a,c){xb(s,o,a,c),TI()}function CI(s,o,a){(function(s,o,a){const c=Ge(),h=_n(),p=s+20,y=h.firstCreatePass?function(s,o,a,c,h){const p=o.consts,y=Pi(p,c),b=nd(o,s,8,"ng-container",y);return null!==y&&mb(b,y,!0),cb(o,a,b,Pi(p,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,h,c,o,a):h.data[p];ms(y,!0);const b=c[p]=c[11].createComment("");ef(h,c,b,y),ci(b,c),Ti(y)&&(cf(h,c,y),uf(h,y,c)),null!=a&&la(c,y)})(s,o,a),function(){let s=lr();const o=_n();Eh()?Go():(s=s.parent,ms(s,!1)),o.firstCreatePass&&(Ol(o,s),Aa(s)&&o.queries.elementEnd(s))}()}function Ob(){return Ge()}function vf(s){return!!s&&"function"==typeof s.then}function bf(s){return!!s&&"function"==typeof s.subscribe}const DI=bf;function Ef(s,o,a,c){const h=Ge(),p=_n(),y=lr();return function(s,o,a,c,h,p,y,b){const w=Ti(c),A=s.firstCreatePass&&Ax(s),P=o[8],N=Dx(o);let Q=!0;if(3&c.type||b){const ae=Ut(c,o),Je=b?b(ae):ae,Ue=N.length,Ot=b?$t=>b(fe($t[c.index])):c.index;if(Zn(a)){let $t=null;if(!b&&w&&($t=function(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===c){const b=o[7],w=h[p+2];return b.length>w?b[w]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,c.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=p,$t.__ngLastListenerFn__=p,Q=!1;else{p=Pb(c,o,P,p,!1);const vn=a.listen(Je,h,p);N.push(p,vn),A&&A.push(h,Ot,Ue,Ue+1)}}else p=Pb(c,o,P,p,!0),Je.addEventListener(h,p,y),N.push(p),A&&A.push(h,Ot,Ue,y)}else p=Pb(c,o,P,p,!1);const ee=c.outputs;let Se;if(Q&&null!==ee&&(Se=ee[h])){const ae=Se.length;if(ae)for(let Je=0;Je<ae;Je+=2){const ii=o[Se[Je]][Se[Je+1]].subscribe(p),js=N.length;N.push(p,ii),A&&A.push(h,c.index,js,-(js+1))}}}(p,h,h[11],y,s,o,!!a,c),Ef}function AI(s,o,a,c){try{return!1!==a(c)}catch(h){return Rx(s,h),!1}}function Pb(s,o,a,c,h){return function p(y){if(y===Function)return c;const b=2&s.flags?xt(s.index,o):o;0==(32&o[2])&&pb(b);let w=AI(o,0,c,y),C=p.__ngNextListenerFn__;for(;C;)w=AI(o,0,C,y)&&w,C=C.__ngNextListenerFn__;return h&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function wR(s=1){return function(s){return(Lt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,Lt.lFrame.contextLView))[8]}(s)}function kb(s,o,a,c,h){const p=Ge(),y=Zu(p,o,a,c);return y!==Qt&&ei(_n(),fr(),p,s,y,p[11],h,!1),kb}function Rm(s,o,a,c,h){const p=s[a+1],y=null===o;let b=c?io(p):$a(p),w=!1;for(;0!==b&&(!1===w||y);){const A=s[b+1];AR(s[b],o)&&(w=!0,s[b+1]=c?eb(A):Jv(A)),b=c?io(A):$a(A)}w&&(s[a+1]=c?Jv(p):eb(p))}function AR(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Xo(s,o)>=0}function qb(s,o,a){return function(s,o,a,c){const h=Ge(),p=_n(),y=yo(2);p.firstUpdatePass&&function(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[Ni()],y=function(s,o){return o>=s.expandoStartIndex}(s,a);(function(s,o){return 0!=(s.flags&(o?16:32))})(p,c)&&null===o&&!y&&(o=!1),o=function(s,o,a,c){const h=function(s){const o=Lt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Wa(a=zc(null,s,o,a,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=zc(h,s,o,a,c),null===p){let w=function(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==$a(c))return s[io(c)]}(s,o,c);void 0!==w&&Array.isArray(w)&&(w=zc(null,s,o,w[1],c),w=Wa(w,o.attrs,c),function(s,o,a,c){s[io(a?o.classBindings:o.styleBindings)]=c}(s,o,c,w))}else p=function(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Wa(c,s[p].hostAttrs,a);return Wa(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function(s,o,a,c,h,p){let y=p?o.classBindings:o.styleBindings,b=io(y),w=$a(y);s[c]=a;let A,C=!1;if(Array.isArray(a)){const P=a;A=P[1],(null===A||Xo(P,A)>0)&&(C=!0)}else A=a;if(h)if(0!==w){const N=io(s[b+1]);s[c+1]=Uc(N,b),0!==N&&(s[N+1]=Xv(s[N+1],c)),s[b+1]=function(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=Uc(b,0),0!==b&&(s[b+1]=Xv(s[b+1],c)),b=c;else s[c+1]=Uc(w,0),0===b?b=c:s[w+1]=Xv(s[w+1],c),w=c;C&&(s[c+1]=Jv(s[c+1])),Rm(s,A,c,!0),Rm(s,A,c,!1),function(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Xo(p,o)>=0&&(a[c+1]=eb(a[c+1]))}(o,A,s,c,p),y=Uc(b,w),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,c)}}(p,s,y,c),o!==Qt&&Si(h,y,o)&&function(s,o,a,c,h,p,y,b){if(!(3&o.type))return;const w=s.data,C=w[b+1];Pm(function(s){return 1==(1&s)}(C)?$I(w,o,a,h,$a(C),y):void 0)||(Pm(p)||function(s){return 2==(2&s)}(C)&&(p=$I(w,null,a,h,b,y)),function(s,o,a,c,h){const p=Zn(s);if(o)h?p?s.addClass(a,c):a.classList.add(c):p?s.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:aa.DashCase;if(null==h)p?s.removeStyle(a,c,y):a.style.removeProperty(c);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),y|=aa.Important),p?s.setStyle(a,c,h,y):a.style.setProperty(c,h,b?"important":"")}}}(c,y,wt(Ni(),a),h,p))}(p,p.data[Ni()],h,h[11],s,h[y+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=te(m(s)))),s}(o,a),c,y)}(s,o,a,!1),qb}function zc(s,o,a,c,h){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=o[b],c=Wa(c,p.hostAttrs,h),p!==s);)b++;return null!==s&&(a.directiveStylingLast=b),c}function Wa(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ui(s,y,!!a||o[++p]))}return void 0===s?null:s}function $I(s,o,a,c,h,p){const y=null===o;let b;for(;h>0;){const w=s[h],C=Array.isArray(w),A=C?w[1]:w,P=null===A;let N=a[h+1];N===Qt&&(N=P?W:void 0);let Q=P?ns(N,c):A===c?N:void 0;if(C&&!Pm(Q)&&(Q=ns(w,c)),Pm(Q)&&(b=Q,y))return b;const ee=s[h+1];h=y?io(ee):$a(ee)}if(null!==o){let w=p?o.residualClasses:o.residualStyles;null!=w&&(b=ns(w,c))}return b}function Pm(s){return void 0!==s}function Hb(s,o=""){const a=Ge(),c=_n(),h=s+20,p=c.firstCreatePass?nd(c,h,1,o,null):c.data[h],y=a[h]=function(s,o){return Zn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);ef(c,a,y,p),ms(p,!1)}function Tf(s){return gd("",s,""),Tf}function gd(s,o,a){const c=Ge(),h=Zu(c,s,o,a);return h!==Qt&&$u(c,Ni(),h),gd}function Co(s,o,a,c,h){const p=Ge(),y=function(s,o,a,c,h,p){const b=Hc(s,ys(),a,h);return yo(2),b?o+tt(a)+c+tt(h)+p:Qt}(p,s,o,a,c,h);return y!==Qt&&$u(p,Ni(),y),Co}function km(s,o,a,c,h,p,y){const b=Ge(),w=od(b,s,o,a,c,h,p,y);return w!==Qt&&$u(b,Ni(),w),km}function Kb(s,o,a){const c=Ge();return Si(c,Wo(),o)&&ei(_n(),fr(),c,s,o,c[11],a,!0),Kb}const Wc=void 0;var nS=["en",[["a","p"],["AM","PM"],Wc],[["AM","PM"],Wc,Wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wc,"{1} 'at' {0}",Wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),a=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Kc={};function Jb(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Cf(o);if(a)return a;const c=o.split("-")[0];if(a=Cf(c),a)return a;if("en"===c)return nS;throw new Error(`Missing locale data for the locale "${s}".`)}function Do(s){return Jb(s)[jt.PluralCase]}function Cf(s){return s in Kc||(Kc[s]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[s]),Kc[s]}var jt=(()=>((jt=jt||{})[jt.LocaleId=0]="LocaleId",jt[jt.DayPeriodsFormat=1]="DayPeriodsFormat",jt[jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",jt[jt.DaysFormat=3]="DaysFormat",jt[jt.DaysStandalone=4]="DaysStandalone",jt[jt.MonthsFormat=5]="MonthsFormat",jt[jt.MonthsStandalone=6]="MonthsStandalone",jt[jt.Eras=7]="Eras",jt[jt.FirstDayOfWeek=8]="FirstDayOfWeek",jt[jt.WeekendRange=9]="WeekendRange",jt[jt.DateFormat=10]="DateFormat",jt[jt.TimeFormat=11]="TimeFormat",jt[jt.DateTimeFormat=12]="DateTimeFormat",jt[jt.NumberSymbols=13]="NumberSymbols",jt[jt.NumberFormats=14]="NumberFormats",jt[jt.CurrencyCode=15]="CurrencyCode",jt[jt.CurrencySymbol=16]="CurrencySymbol",jt[jt.CurrencyName=17]="CurrencyName",jt[jt.Currencies=18]="Currencies",jt[jt.Directionality=19]="Directionality",jt[jt.PluralCase=20]="PluralCase",jt[jt.ExtraData=21]="ExtraData",jt))();const Nm="en-US";let Xb=Nm;function Lm(s){At(s,"Expected localeId to be defined"),"string"==typeof s&&(Xb=s.toLowerCase().replace(/_/g,"-"))}class lE{}const yO="ngComponent";class OF{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${te(s)}. Did you add it to @NgModule.entryComponents?`);return o[yO]=s,o}(o)}}let Nf=(()=>{class s{}return s.NULL=new OF,s})();function hE(...s){}function Jc(s,o){return new xo(Ut(s,o))}const fE=function(){return Jc(lr(),Ge())};let xo=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=fE,s})();function Hm(s){return s instanceof xo?s.nativeElement:s}class Mf{}let pE=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Ms(),s})();const Ms=function(){const s=Ge(),a=xt(lr().index,s);return function(s){return s[11]}(ai(a)?a:s)};let MS=(()=>{class s{}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>null}),s})();class Zm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const FS=new Zm("12.2.16");class yE{constructor(){}supports(o){return gf(o)}create(o){return new bO(o)}}const kF=(s,o)=>o;class bO{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||kF}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<US(c,h,p)?a:c,b=US(y,h,p),w=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const C=b-h,A=w-h;if(C!=A){for(let N=0;N<C;N++){const Q=N<p.length?p[N]:p[N]=0,ee=Q+N;A<=ee&&ee<C&&(p[N]=Q+1)}p[y.previousIndex]=A-C}}b!==w&&o(y,b,w)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!gf(o))throw new Error(`Error trying to diff '${te(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),c=!0),a=a._next}else h=0,function(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[$c()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,b=>{y=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,b,y,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new el(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Gm),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class el{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Gm{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new LS,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function US(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class zm{constructor(){}supports(o){return o instanceof Map||pm(o)}create(){return new _E}}class _E{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||pm(o)))throw new Error(`Error trying to diff '${te(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new vE(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class vE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bE(){return new Ff([new yE])}let Ff=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||bE()),deps:[[s,new Xs,new Eo]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(s){return s.name||typeof s}(a)}'`)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:bE}),s})();function VS(){return new Lf([new zm])}let Lf=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||VS()),deps:[[s,new Xs,new Eo]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:VS}),s})();function Wm(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(fe(p)),Cn(p))for(let b=10;b<p.length;b++){const w=p[b],C=w[1].firstChild;null!==C&&Wm(w[1],w,C,c)}const y=a.type;if(8&y)Wm(s,o,a.child,c);else if(32&y){const b=Uv(a,o);let w;for(;w=b();)c.push(w)}else if(16&y){const b=vT(o,a);if(Array.isArray(b))c.push(...b);else{const w=Mc(o[16]);Wm(w[1],w,b,c,!0)}}a=h?a.projectionNext:a.next}return c}class tl{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Wm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Cn(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(qv(o,c),ku(a,c))}this._attachedToViewContainer=!1}gT(this._lView[1],this._lView)}onDestroy(o){LT(this._lView[1],this._lView,null,o)}markForCheck(){pb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,a){zo(!0);try{gb(s,o,a)}finally{zo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,ro(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class Km extends tl{constructor(o){super(o),this._view=o}detectChanges(){Sx(this._view)}checkNoChanges(){!function(s){zo(!0);try{Sx(s)}finally{zo(!1)}}(this._view)}get context(){return null}}const Qm=function(s){return function(s,o,a){if(fu(s)&&!a){const c=xt(s.index,o);return new tl(c,c)}return 47&s.type?new tl(o[16],o):null}(lr(),Ge(),16==(16&s))};let Ym=(()=>{class s{}return s.__NG_ELEMENT_ID__=Qm,s})();const nl=[new zm],Jm=new Ff([new yE]),EO=new Lf(nl),Gu=function(){return zu(lr(),Ge())};let Ed=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gu,s})();const BS=Ed,pa=class extends BS{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=sf(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),af(a,c,o),new tl(c)}};function zu(s,o){return 4&s.type?new pa(o,s,Jc(s,o)):null}class il{}class Xm{}const ey=function(){return ny(lr(),Ge())};let ty=(()=>{class s{}return s.__NG_ELEMENT_ID__=ey,s})();const TO=ty,CE=class extends TO{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new Ru(this._hostTNode,this._hostLView)}get parentInjector(){const o=Du(this._hostTNode,this._hostLView);if(Nl(o)){const a=Su(o,this._hostLView),c=Tc(o);return new Ru(a[1].data[c+8],a)}return new Ru(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=DE(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const h=o.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(o,a,c,h,p){const y=c||this.parentInjector;if(!p&&null==o.ngModule&&y){const w=y.get(il,null);w&&(p=w)}const b=o.create(y,h,void 0,p);return this.insert(b.hostView,a),b}insert(o,a){const c=o._lView,h=c[1];if(Cn(c[3])){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const P=c[3],N=new CE(P,P[6],P[3]);N.detach(N.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],Pu(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,c,y,p);const b=Wg(p,y),w=c[11],C=Zg(w,y[7]);return null!==C&&function(s,o,a,c,h,p){c[0]=h,c[6]=o,ro(s,c,a,1,h,p)}(h,y[6],w,c,C,b),o.attachToViewContainerRef(),Pu(as(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=DE(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=qv(this._lContainer,a);c&&(ku(as(this._lContainer),a),gT(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=qv(this._lContainer,a);return c&&null!=ku(as(this._lContainer),a)?new tl(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function DE(s){return s[8]}function as(s){return s[8]||(s[8]=[])}function ny(s,o){let a;const c=o[s.index];if(Cn(c))a=c;else{let h;if(8&s.type)h=fe(c);else{const p=o[11];h=p.createComment("");const y=Ut(s,o);Lc(p,Zg(p,y),h,function(s,o){return Zn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=a=qT(c,o,h,s),am(o,a)}return new CE(a,s,o)}const al={};class dC extends Nf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=en(o);return new gC(a,this.ngModule)}}function hC(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const fy=new Kn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ug});class gC extends lE{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=o.selectors.map(rx).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return hC(this.componentDef.inputs)}get outputs(){return hC(this.componentDef.outputs)}create(o,a,c,h){const p=(h=h||this.ngModule)?function(s,o){return{get:(a,c,h)=>{const p=s.get(a,al,h);return p!==al||c===al?p:o.get(a,c,h)}}}(o,h.injector):o,y=p.get(Mf,U),b=p.get(MS,null),w=y.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",A=c?function(s,o,a){if(Zn(s))return s.selectRootElement(o,a===yn.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(w,c,this.componentDef.encapsulation):Yh(y.createRenderer(null,this.componentDef),C,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(C)),P=this.componentDef.onPush?576:528,N=function(s,o){return{components:[],scheduler:s||Ug,clean:kM,playerHandler:o||null,flags:0}}(),Q=rm(0,null,null,1,0,null,null,null,null,null),ee=sf(null,Q,N,P,null,null,y,w,b,p);let Se,ae;mc(ee);try{const Je=function(s,o,a,c,h,p){const y=a[1];a[20]=s;const w=nd(y,20,2,"#host",null),C=w.mergedAttrs=o.hostAttrs;null!==C&&(mb(w,C,!0),null!==s&&(Iu(h,s,C),null!==w.classes&&Wv(h,s,w.classes),null!==w.styles&&ET(h,s,w.styles)));const A=c.createRenderer(s,o),P=sf(a,qc(o),null,o.onPush?64:16,a[20],w,c,A,p||null,null);return y.firstCreatePass&&(Sc(Ds(w,a),y,o.type),jT(y,w),Tx(w,a.length,1)),am(a,P),a[20]=P}(A,this.componentDef,ee,y,w);if(A)if(c)Iu(w,A,["ng-version",FS.full]);else{const{attrs:Ue,classes:Ot}=function(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!Ar(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ue&&Iu(w,A,Ue),Ot&&Ot.length>0&&Wv(w,A,Ot.join(" "))}if(ae=cr(Q,20),void 0!==a){const Ue=ae.projection=[];for(let Ot=0;Ot<this.ngContentSelectors.length;Ot++){const $t=a[Ot];Ue.push(null!=$t?Array.from($t):null)}}Se=function(s,o,a,c,h){const p=a[1],y=function(s,o,a){const c=lr();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),db(s,c,o,Bc(s,o,1,null),a));const h=xu(o,s,c.directiveStart,c);ci(h,o);const p=Ut(c,o);return p&&ci(p,o),h}(p,a,o);if(c.components.push(y),s[8]=y,h&&h.forEach(w=>w(y,o)),o.contentQueries){const w=lr();o.contentQueries(1,y,w.directiveStart)}const b=lr();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(La(b.index),lb(a[1],b,0,b.directiveStart,b.directiveEnd,o),sm(o,y)),y}(Je,this.componentDef,ee,N,[Yx]),af(Q,ee,null)}finally{ag()}return new e1(this.componentType,Se,Jc(ae,ee),ee,ae)}}class e1 extends class{}{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Km(h),this.componentType=o}get injector(){return new Ru(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const xd=new Map;class _C extends il{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dC(this);const c=Er(o),h=o[hn]||null;h&&Lm(h),this._bootstrapComponents=oa(c.bootstrap),this._r3Injector=Nx(o,a,[{provide:il,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver}],te(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=gr.THROW_IF_NOT_FOUND,c=lt.Default){return o===gr||o===il||o===lf?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class py extends Xm{constructor(o){super(),this.moduleType=o,null!==Er(o)&&function(s){const o=new Set;!function a(c){const h=Er(c,!0),p=h.id;null!==p&&(function(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${te(o)} vs ${te(o.name)}`)}(p,xd.get(p),c),xd.set(p,c));const y=oa(h.imports);for(const b of y)o.has(b)||(o.add(b),a(b))}(s)}(o)}create(o){return new _C(this.moduleType,o)}}function vC(s,o,a){const c=ki()+s,h=Ge();return h[c]===Qt?so(h,c,a?o.call(a):o()):function(s,o){return s[o]}(h,c)}function s1(s,o,a,c){return Jt(Ge(),ki(),s,o,a,c)}function ul(s,o){const a=s[o];return a===Qt?void 0:a}function Jt(s,o,a,c,h,p){const y=o+a;return Si(s,y,h)?so(s,y+1,p?c.call(p,h):c(h)):ul(s,y+1)}function my(s,o){const a=_n();let c;const h=s+20;a.firstCreatePass?(c=function(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}throw new Me("302",`The pipe '${s}' could not be found!`)}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const p=c.factory||(c.factory=Ri(c.type)),y=Bn(hd);try{const b=Cu(!1),w=p();return Cu(b),function(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,Ge(),h,w),w}finally{Bn(y)}}function EC(s,o,a){const c=s+20,h=Ge(),p=Ln(h,c);return Qf(h,lo(h,c)?Jt(h,ki(),o,p.transform,a,p):p.transform(a))}function wC(s,o,a,c){const h=s+20,p=Ge(),y=Ln(p,h);return Qf(p,lo(p,h)?function(s,o,a,c,h,p,y){const b=o+a;return Hc(s,b,h,p)?so(s,b+2,y?c.call(y,h,p):c(h,p)):ul(s,b+2)}(p,ki(),o,y.transform,a,c,y):y.transform(a,c))}function lo(s,o){return s[1].data[o].pure}function Qf(s,o){return To.isWrapped(o)&&(o=To.unwrap(o),s[ys()]=Qt),o}function _y(s){return o=>{setTimeout(s,void 0,o)}}const Oo=class extends d.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var h,p,y;let b=o,w=a||(()=>null),C=c;if(o&&"object"==typeof o){const P=o;b=null===(h=P.next)||void 0===h?void 0:h.bind(P),w=null===(p=P.error)||void 0===p?void 0:p.bind(P),C=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(w=_y(w),b&&(b=_y(b)),C&&(C=_y(C)));const A=super.subscribe({next:b,error:w,complete:C});return o instanceof Z.w&&o.add(A),A}};function d1(){return this._results[$c()]()}class Yf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$c(),c=Yf.prototype;c[a]||(c[a]=d1)}get changes(){return this._changes||(this._changes=new Oo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=As(o);(this._changesDetected=!function(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ai{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ai(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Jf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Sy(o,a).matches&&this.queries[a].setDirty()}}class Bi{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class by{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new by(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ey{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Ey(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,WE(a,p)),this.matchTNodeWithReadOption(o,a,Au(a,o,p,!1,!1))}else c===Ed?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Au(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===xo||h===ty||h===Ed&&4&a.type)this.addMatch(a.index,-2);else{const p=Au(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function WE(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function IC(s,o,a,c){return-1===a?function(s,o){return 11&s.type?Jc(s,o):4&s.type?zu(s,o):null}(o,s):-2===a?function(s,o,a){return a===xo?Jc(o,s):a===Ed?zu(o,s):a===ty?ny(o,s):void 0}(s,o,c):xu(s,s[1],a,o)}function wy(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,y=a.matches,b=[];for(let w=0;w<y.length;w+=2){const C=y[w];b.push(C<0?null:IC(o,p[C],y[w+1],a.metadata.read))}h.matches=b}return h.matches}function KE(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=wy(s,o,h,a);for(let b=0;b<p.length;b+=2){const w=p[b];if(w>0)c.push(y[b/2]);else{const C=p[b+1],A=o[-w];for(let P=10;P<A.length;P++){const N=A[P];N[17]===N[3]&&KE(N[1],N,C,c)}if(null!==A[9]){const P=A[9];for(let N=0;N<P.length;N++){const Q=P[N];KE(Q[1],Q,C,c)}}}}}return c}function CC(s){const o=Ge(),a=_n(),c=Fa();Dh(c+1);const h=Sy(a,c);if(s.dirty&&Oi(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?KE(a,o,c,[]):wy(a,o,h,c);s.reset(p,Hm),s.notifyOnChanges()}return!0}return!1}function QE(s,o,a,c){const h=_n();if(h.firstCreatePass){const p=lr();(function(s,o,a){null===s.queries&&(s.queries=new by),s.queries.track(new Ey(o,a))})(h,new Bi(o,a,c),p.index),function(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function(s,o,a){const c=new Yf(4==(4&a));LT(s,o,c,c.destroy),null===o[19]&&(o[19]=new Jf),o[19].queries.push(new Ai(c))}(h,Ge(),a)}function Ty(){return s=Ge(),o=Fa(),s[19].queries[o].queryList;var s,o}function Sy(s,o){return s.queries.getByIndex(o)}function Cy(s,o){return zu(s,o)}const jy=new Kn("Application Initializer");let Ld=(()=>{class s{constructor(a){this.appInits=a,this.resolve=hE,this.reject=hE,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(vf(p))a.push(p);else if(DI(p)){const y=new Promise((b,w)=>{p.subscribe({complete:b,error:w})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Cr(jy,8))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();const By=new Kn("AppId"),h0={provide:By,useFactory:function(){return`${$y()}${$y()}${$y()}`},deps:[]};function $y(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const f0=new Kn("Platform Initializer"),p0=new Kn("Platform ID"),ZC=new Kn("appBootstrapListener");let g0=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();const ll=new Kn("LocaleId"),Ud=new Kn("DefaultCurrencyCode");class dl{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}const Xa=function(s){return new py(s)},eu=Xa,Zy=function(s){return Promise.resolve(Xa(s))},tr=function(s){const o=Xa(s),c=oa(Er(s).declarations).reduce((h,p)=>{const y=en(p);return y&&h.push(new gC(y)),h},[]);return new dl(o,c)},Gy=tr,ap=function(s){return Promise.resolve(tr(s))};let tu=(()=>{class s{constructor(){this.compileModuleSync=eu,this.compileModuleAsync=Zy,this.compileModuleAndAllComponentsSync=Gy,this.compileModuleAndAllComponentsAsync=ap}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();const R1=(()=>Promise.resolve(0))();function v0(s){"undefined"==typeof Zone?R1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Us{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oo(!1),this.onMicrotaskEmpty=new Oo(!1),this.onStable=new Oo(!1),this.onError=new Oo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=K.requestAnimationFrame,o=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(K,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,zy(s),s.isCheckStableRunning=!0,ma(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),zy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,y,b)=>{try{return hl(s),a.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),QC(s)}},onInvoke:(a,c,h,p,y,b,w)=>{try{return hl(s),a.invoke(h,p,y,b,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),QC(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,zy(s),ma(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,up,hE,hE);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const up={};function ma(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function zy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function hl(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function QC(s){s._nesting--,ma(s)}class P1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo,this.onMicrotaskEmpty=new Oo,this.onStable=new Oo,this.onError=new Oo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}let b0=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Us.assertNotInAngularZone(),v0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Cr(Us))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})(),YC=(()=>{class s{constructor(){this._applications=new Map,cp.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return cp.findTestabilityInTree(this,a,c)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();class JC{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function XC(s){cp=s}let cp=new JC,Wy=!0,E0=!1;function Ky(){return E0=!0,Wy}function w0(){if(E0)throw new Error("Cannot enable prod mode after platform setup.");Wy=!1}let Po;const tD=new Kn("AllowMultipleToken");class zr{constructor(o,a){this.name=o,this.token=a}}function rD(s,o,a=[]){const c=`Platform: ${o}`,h=new Kn(c);return(p=[])=>{let y=iD();if(!y||y.injector.get(tD,!1))if(s)s(a.concat(p).concat({provide:h,useValue:!0}));else{const b=a.concat(p).concat({provide:h,useValue:!0},{provide:um,useValue:"platform"});!function(s){if(Po&&!Po.destroyed&&!Po.injector.get(tD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Po=s.get(I0);const o=s.get(f0,null);o&&o.forEach(a=>a())}(gr.create({providers:b,name:c}))}return function(s){const o=iD();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(h)}}function iD(){return Po&&!Po.destroyed?Po:null}let I0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const b=function(s,o){let a;return a="noop"===s?new P1:("zone.js"===s?void 0:s)||new Us({enableLongStackTrace:Ky(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:Us,useValue:b}];return b.run(()=>{const C=gr.create({providers:w,parent:this.injector,name:a.moduleType.name}),A=a.create(C),P=A.injector.get(ln,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const N=b.onError.subscribe({next:Q=>{P.handleError(Q)}});A.onDestroy(()=>{ko(this._modules,A),N.unsubscribe()})}),function(s,o,a){try{const c=a();return vf(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(P,b,()=>{const N=A.injector.get(Ld);return N.runInitializers(),N.donePromise.then(()=>(Lm(A.injector.get(ll,Nm)||Nm),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,c=[]){const h=dp({},c);return function(s,o,a){const c=new py(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(Bd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${te(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Cr(gr))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();function dp(s,o){return Array.isArray(o)?o.reduce(dp,s):Object.assign(Object.assign({},s),o)}let Bd=(()=>{class s{constructor(a,c,h,p,y){this._zone=a,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new F.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Us.assertNotInAngularZone(),v0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ue.T)(b,w.pipe(s=>(0,we.x)()(function(s,o){return function(c){let h;h="function"==typeof s?s:function(){return s};const p=Object.create(c,De.N);return p.source=c,p.subjectFactory=h,p}}(le)(s))))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=a instanceof lE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(il),b=h.create(gr.NULL,[],c||h.selector,p),w=b.location.nativeElement,C=b.injector.get(b0,null),A=C&&b.injector.get(YC);return C&&A&&A.registerApplication(w,C),b.onDestroy(()=>{this.detachView(b.hostView),ko(this.components,b),A&&A.unregisterApplication(w)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;ko(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ZC,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Cr(Us),Cr(gr),Cr(ln),Cr(Nf),Cr(Ld))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();function ko(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}class C0{}class t_{}const L1={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let uD=(()=>{class s{constructor(a,c){this._compiler=a,this._config=c||L1}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,h]=a.split("#");return void 0===h&&(h="default"),k(8255)(c).then(p=>p[h]).then(p=>qd(p,c,h)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(a){let[c,h]=a.split("#"),p="NgFactory";return void 0===h&&(h="default",p=""),k(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(y=>y[h+p]).then(y=>qd(y,c,h))}}return s.\u0275fac=function(a){return new(a||s)(Cr(tu),Cr(t_,8))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();function qd(s,o,a){if(!s)throw new Error(`Cannot find '${a}' in '${o}'`);return s}const s_=function(s){return null},$1=rD(null,"core",[{provide:p0,useValue:"unknown"},{provide:I0,deps:[gr]},{provide:YC,deps:[]},{provide:g0,deps:[]}]),zt=[{provide:Bd,useClass:Bd,deps:[Us,gr,ln,Nf,Ld]},{provide:fy,deps:[Us],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:Ld,useClass:Ld,deps:[[new Eo,jy]]},{provide:tu,useClass:tu,deps:[]},h0,{provide:Ff,useFactory:function(){return Jm},deps:[]},{provide:Lf,useFactory:function(){return EO},deps:[]},{provide:ll,useFactory:function(s){return Lm(s=s||"undefined"!=typeof $localize&&$localize.locale||Nm),s},deps:[[new Ac(ll),new Eo,new Xs]]},{provide:Ud,useValue:"USD"}];let ut=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Cr(Bd))},s.\u0275mod=St({type:s}),s.\u0275inj=dr({providers:zt}),s})()},8939:(ct,ke,k)=>{"use strict";k.d(ke,{hO:()=>te,xv:()=>le,Dh:()=>we,GT:()=>_e,cc:()=>ge,on:()=>B,pX:()=>De});var d=k(3018),Z=k(7841),F=k(8370);ct=k.hmd(ct);const ue=["ngOnDestroy"],De=(qe,ze,Me,rt={})=>new Proxy(qe,{get:(mt,tt)=>Me.runOutsideAngular(()=>{var Mt;if(qe[tt])return(null===(Mt=null==rt?void 0:rt.spy)||void 0===Mt?void 0:Mt.get)&&rt.spy.get(tt,qe[tt]),qe[tt];if(ue.indexOf(tt)>-1)return()=>{};const Te=ze.toPromise().then($e=>{const Ze=$e&&$e[tt];return"function"==typeof Ze?Ze.bind($e):Ze&&Ze.then?Ze.then(re=>Me.run(()=>re)):Me.run(()=>Ze)});return new Proxy(()=>{},{get:($e,Ze)=>Te[Ze],apply:($e,Ze,re)=>Te.then(se=>{var me;const Ae=se&&se(...re);return(null===(me=null==rt?void 0:rt.spy)||void 0===me?void 0:me.apply)&&rt.spy.apply(tt,re,Ae),Ae})})})}),_e=(qe,ze)=>{ze.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(rt=>{Object.defineProperty(qe.prototype,rt,Object.getOwnPropertyDescriptor(Me.prototype||Me,rt))})})};class Pe{constructor(ze){return ze}}const we=new d.OlP("angularfire2.app.options"),le=new d.OlP("angularfire2.app.name");function B(qe,ze,Me){const mt="object"==typeof Me&&Me||{};mt.name=mt.name||"string"==typeof Me&&Me||"[DEFAULT]";const Mt=Z.Z.apps.filter(Te=>Te&&Te.name===mt.name)[0]||ze.runOutsideAngular(()=>Z.Z.initializeApp(qe,mt));try{JSON.stringify(qe)!==JSON.stringify(Mt.options)&&H("error",`${Mt.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Te){}return new Pe(Mt)}const H=(qe,...ze)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[qe](...ze)},oe={provide:Pe,useFactory:B,deps:[we,d.R0b,[new d.FiY,le]]};let te=(()=>{class qe{constructor(Me){Z.Z.registerVersion("angularfire",F.q4.full,"core"),Z.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Z.Z.registerVersion("angular",d.q4F.full,Me.toString())}static initializeApp(Me,rt){return{ngModule:qe,providers:[{provide:we,useValue:Me},{provide:le,useValue:rt}]}}}return qe.\u0275fac=function(Me){return new(Me||qe)(d.LFG(d.Lbi))},qe.\u0275mod=d.oAB({type:qe}),qe.\u0275inj=d.cJS({providers:[oe]}),qe})();function ge(qe,ze,Me,rt,mt){const[,tt,Mt]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===qe)||[];if(tt)return function(qe,ze){try{return qe.toString()===ze.toString()}catch(Me){return qe===ze}}(mt,Mt)||(Ie("error",`${ze} was already initialized on the ${Me} Firebase App with different settings.${Ce?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:mt,was:Mt})),tt;{const Te=rt();return globalThis.\u0275AngularfireInstanceCache.push([qe,Te,mt]),Te}}const Ce=!!ct.hot,Ie=(qe,...ze)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[qe](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8370:(ct,ke,k)=>{"use strict";k.d(ke,{q4:()=>Bo,iC:()=>Ss,fc:()=>bu,HU:()=>Pa,vb:()=>_h,JM:()=>Yi,nk:()=>Oa,u3:()=>Zn});var d=k(3018),Z=k(2329),F=k(8239),ue=k(8026),De=k(3854),_e=k(3910),Pe=k(5422);k(3328);const le="@firebase/remote-config",B="0.3.11",ge=new De.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bt{constructor(U,ne,fe,We){this.client=U,this.storage=ne,this.storageCache=fe,this.logger=We}isCachedDataFresh(U,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-ne,We=fe<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${We}.`),We}fetch(U){var ne=this;return(0,F.Z)(function*(){const[fe,We]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(We&&ne.isCachedDataFresh(U.cacheMaxAgeMillis,fe))return We;U.eTag=We&&We.eTag;const st=yield ne.client.fetch(U),wt=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&wt.push(ne.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(wt),st})()}}function an(L=navigator){return L.languages&&L.languages[0]||L.language}class bn{constructor(U,ne,fe,We,st,wt){this.firebaseInstallations=U,this.sdkVersion=ne,this.namespace=fe,this.projectId=We,this.apiKey=st,this.appId=wt}fetch(U){var ne=this;return(0,F.Z)(function*(){var fe,We,st;const[wt,Ut]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),cr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,Ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},xt={sdk_version:ne.sdkVersion,app_instance_id:wt,app_instance_id_token:Ut,app_id:ne.appId,language_code:an()},Oi={method:"POST",headers:Ln,body:JSON.stringify(xt)},zs=fetch(cr,Oi),Ws=new Promise((Ii,gs)=>{U.signal.addEventListener(()=>{const Zo=new Error("The operation was aborted.");Zo.name="AbortError",gs(Zo)})});let Pi;try{yield Promise.race([zs,Ws]),Pi=yield zs}catch(Ii){let gs="fetch-client-network";throw"AbortError"===(null===(fe=Ii)||void 0===fe?void 0:fe.name)&&(gs="fetch-timeout"),ge.create(gs,{originalErrorMessage:null===(We=Ii)||void 0===We?void 0:We.message})}let Cs=Pi.status;const fc=Pi.headers.get("ETag")||void 0;let Lt,wu;if(200===Pi.status){let Ii;try{Ii=yield Pi.json()}catch(gs){throw ge.create("fetch-client-parse",{originalErrorMessage:null===(st=gs)||void 0===st?void 0:st.message})}Lt=Ii.entries,wu=Ii.state}if("INSTANCE_STATE_UNSPECIFIED"===wu?Cs=500:"NO_CHANGE"===wu?Cs=304:("NO_TEMPLATE"===wu||"EMPTY_CONFIG"===wu)&&(Lt={}),304!==Cs&&200!==Cs)throw ge.create("fetch-status",{httpStatus:Cs});return{status:Cs,eTag:fc,config:Lt}})()}}class sr{constructor(U,ne){this.client=U,this.storage=ne}fetch(U){var ne=this;return(0,F.Z)(function*(){const fe=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch(U,fe)})()}attemptFetch(U,{throttleEndTimeMillis:ne,backoffCount:fe}){var We=this;return(0,F.Z)(function*(){yield function(L,U){return new Promise((ne,fe)=>{const We=Math.max(U-Date.now(),0),st=setTimeout(ne,We);L.addEventListener(()=>{clearTimeout(st),fe(ge.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,ne);try{const st=yield We.client.fetch(U);return yield We.storage.deleteThrottleMetadata(),st}catch(st){if(!function(L){if(!(L instanceof De.ZR&&L.customData))return!1;const U=Number(L.customData.httpStatus);return 429===U||500===U||503===U||504===U}(st))throw st;const wt={throttleEndTimeMillis:Date.now()+(0,De.$s)(fe),backoffCount:fe+1};return yield We.storage.setThrottleMetadata(wt),We.attemptFetch(U,wt)}})()}}class At{constructor(U,ne,fe,We,st){this.app=U,this._client=ne,this._storageCache=fe,this._storage=We,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pt(L,U){var ne;const fe=L.target.error||void 0;return ge.create(U,{originalErrorMessage:fe&&(null===(ne=fe)||void 0===ne?void 0:ne.message)})}const En="app_namespace_store";class vr{constructor(U,ne,fe,We=function(){return new Promise((L,U)=>{var ne;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=We=>{U(pt(We,"storage-open"))},fe.onsuccess=We=>{L(We.target.result)},fe.onupgradeneeded=We=>{0===We.oldVersion&&We.target.result.createObjectStore(En,{keyPath:"compositeKey"})}}catch(fe){U(ge.create("storage-open",{originalErrorMessage:null===(ne=fe)||void 0===ne?void 0:ne.message}))}})}()){this.appId=U,this.appName=ne,this.namespace=fe,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var ne=this;return(0,F.Z)(function*(){const fe=yield ne.openDbPromise;return new Promise((We,st)=>{var wt;const Nr=fe.transaction([En],"readonly").objectStore(En),cr=ne.createCompositeKey(U);try{const Ln=Nr.get(cr);Ln.onerror=xt=>{st(pt(xt,"storage-get"))},Ln.onsuccess=xt=>{const Oi=xt.target.result;We(Oi?Oi.value:void 0)}}catch(Ln){st(ge.create("storage-get",{originalErrorMessage:null===(wt=Ln)||void 0===wt?void 0:wt.message}))}})})()}set(U,ne){var fe=this;return(0,F.Z)(function*(){const We=yield fe.openDbPromise;return new Promise((st,wt)=>{var Ut;const cr=We.transaction([En],"readwrite").objectStore(En),Ln=fe.createCompositeKey(U);try{const xt=cr.put({compositeKey:Ln,value:ne});xt.onerror=Oi=>{wt(pt(Oi,"storage-set"))},xt.onsuccess=()=>{st()}}catch(xt){wt(ge.create("storage-set",{originalErrorMessage:null===(Ut=xt)||void 0===Ut?void 0:Ut.message}))}})})()}delete(U){var ne=this;return(0,F.Z)(function*(){const fe=yield ne.openDbPromise;return new Promise((We,st)=>{var wt;const Nr=fe.transaction([En],"readwrite").objectStore(En),cr=ne.createCompositeKey(U);try{const Ln=Nr.delete(cr);Ln.onerror=xt=>{st(pt(xt,"storage-delete"))},Ln.onsuccess=()=>{We()}}catch(Ln){st(ge.create("storage-delete",{originalErrorMessage:null===(wt=Ln)||void 0===wt?void 0:wt.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class dr{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,F.Z)(function*(){const ne=U.storage.getLastFetchStatus(),fe=U.storage.getLastSuccessfulFetchTimestampMillis(),We=U.storage.getActiveConfig(),st=yield ne;st&&(U.lastFetchStatus=st);const wt=yield fe;wt&&(U.lastSuccessfulFetchTimestampMillis=wt);const Ut=yield We;Ut&&(U.activeConfig=Ut)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Br(){return hr.apply(this,arguments)}function hr(){return(hr=(0,F.Z)(function*(){if(!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch(L){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new _e.wA("remote-config",function(U,{instanceIdentifier:ne}){const fe=U.getProvider("app").getImmediate(),We=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ge.create("registration-window");if(!(0,De.hl)())throw ge.create("indexed-db-unavailable");const{projectId:st,apiKey:wt,appId:Ut}=fe.options;if(!st)throw ge.create("registration-project-id");if(!wt)throw ge.create("registration-api-key");if(!Ut)throw ge.create("registration-app-id");const Nr=new vr(Ut,fe.name,ne=ne||"firebase"),cr=new dr(Nr),Ln=new Pe.Yd(le);Ln.logLevel=Pe.in.ERROR;const xt=new bn(We,ue.SDK_VERSION,ne,st,wt,Ut),Oi=new sr(xt,Nr),zs=new bt(Oi,Nr,cr,Ln),Ws=new At(fe,zs,cr,Nr,Ln);return function(L){const U=(0,De.m9)(L);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(Ws),Ws},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(le,B),(0,ue.registerVersion)(le,B,"esm2017");var sn=k(300);const An="/firebase-messaging-sw.js",$n="/firebase-cloud-messaging-push-scope",br="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ar="google.c.a.c_id",er="google.c.a.c_l",Bn="google.c.a.ts",mn="google.c.a.e";var nt=(()=>{return(L=nt||(nt={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",nt;var L})();function un(L){const U=new Uint8Array(L);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bi(L){const ne=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(ne),We=new Uint8Array(fe.length);for(let st=0;st<fe.length;++st)We[st]=fe.charCodeAt(st);return We}const ur="fcm_token_details_db",Fn="fcm_token_object_Store";function kn(L){return dn.apply(this,arguments)}function dn(){return dn=(0,F.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(ur))return null;let U=null;return(yield(0,sn.X3)(ur,5,{upgrade:(fe=(0,F.Z)(function*(We,st,wt,Ut){var Nr;if(st<2||!We.objectStoreNames.contains(Fn))return;const cr=Ut.objectStore(Fn),Ln=yield cr.index("fcmSenderId").get(L);if(yield cr.clear(),Ln)if(2===st){const xt=Ln;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;U={token:xt.fcmToken,createTime:null!==(Nr=xt.createTime)&&void 0!==Nr?Nr:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:un(xt.vapidKey)}}}else if(3===st){const xt=Ln;U={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:un(xt.auth),p256dh:un(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:un(xt.vapidKey)}}}else if(4===st){const xt=Ln;U={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:un(xt.auth),p256dh:un(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:un(xt.vapidKey)}}}}),function(st,wt,Ut,Nr){return fe.apply(this,arguments)})})).close(),yield(0,sn.Lj)(ur),yield(0,sn.Lj)("fcm_vapid_details_db"),yield(0,sn.Lj)("undefined"),qr(U)?U:null;var fe}),dn.apply(this,arguments)}function qr(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:U}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const G="firebase-messaging-store";let J=null;function W(){return J||(J=(0,sn.X3)("firebase-messaging-database",1,{upgrade:(L,U)=>{0===U&&L.createObjectStore(G)}})),J}function Fe(L){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(L){const U=q(L),fe=yield(yield W()).transaction(G).objectStore(G).get(U);if(fe)return fe;{const We=yield kn(L.appConfig.senderId);if(We)return yield Ct(L,We),We}})).apply(this,arguments)}function Ct(L,U){return on.apply(this,arguments)}function on(){return(on=(0,F.Z)(function*(L,U){const ne=q(L),We=(yield W()).transaction(G,"readwrite");return yield We.objectStore(G).put(U,ne),yield We.done,U})).apply(this,arguments)}function hn(L){return he.apply(this,arguments)}function he(){return(he=(0,F.Z)(function*(L){const U=q(L),fe=(yield W()).transaction(G,"readwrite");yield fe.objectStore(G).delete(U),yield fe.done})).apply(this,arguments)}function q({appConfig:L}){return L.appId}const V=new De.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ie(L,U){return Le.apply(this,arguments)}function Le(){return(Le=(0,F.Z)(function*(L,U){var ne;const fe=yield Hn(L),We=en(U),st={method:"POST",headers:fe,body:JSON.stringify(We)};let wt;try{wt=yield(yield fetch(fn(L.appConfig),st)).json()}catch(Ut){throw V.create("token-subscribe-failed",{errorInfo:null===(ne=Ut)||void 0===ne?void 0:ne.toString()})}if(wt.error)throw V.create("token-subscribe-failed",{errorInfo:wt.error.message});if(!wt.token)throw V.create("token-subscribe-no-token");return wt.token})).apply(this,arguments)}function it(L,U){return dt.apply(this,arguments)}function dt(){return(dt=(0,F.Z)(function*(L,U){var ne;const fe=yield Hn(L),We=en(U.subscriptionOptions),st={method:"PATCH",headers:fe,body:JSON.stringify(We)};let wt;try{wt=yield(yield fetch(`${fn(L.appConfig)}/${U.token}`,st)).json()}catch(Ut){throw V.create("token-update-failed",{errorInfo:null===(ne=Ut)||void 0===ne?void 0:ne.toString()})}if(wt.error)throw V.create("token-update-failed",{errorInfo:wt.error.message});if(!wt.token)throw V.create("token-update-no-token");return wt.token})).apply(this,arguments)}function St(L,U){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,F.Z)(function*(L,U){var ne;const We={method:"DELETE",headers:yield Hn(L)};try{const wt=yield(yield fetch(`${fn(L.appConfig)}/${U}`,We)).json();if(wt.error)throw V.create("token-unsubscribe-failed",{errorInfo:wt.error.message})}catch(st){throw V.create("token-unsubscribe-failed",{errorInfo:null===(ne=st)||void 0===ne?void 0:ne.toString()})}})).apply(this,arguments)}function fn({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function Hn(L){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,F.Z)(function*({appConfig:L,installations:U}){const ne=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function en({p256dh:L,auth:U,endpoint:ne,vapidKey:fe}){const We={web:{endpoint:ne,auth:U,p256dh:L}};return fe!==br&&(We.web.applicationPubKey=fe),We}const Yr=6048e5;function fs(L){return Er.apply(this,arguments)}function Er(){return(Er=(0,F.Z)(function*(L){const U=yield Sn(L.swRegistration,L.vapidKey),ne={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:U.endpoint,auth:un(U.getKey("auth")),p256dh:un(U.getKey("p256dh"))},fe=yield Fe(L.firebaseDependencies);if(fe){if(xn(fe.subscriptionOptions,ne))return Date.now()>=fe.createTime+Yr?z(L,{token:fe.token,createTime:Date.now(),subscriptionOptions:ne}):fe.token;try{yield St(L.firebaseDependencies,fe.token)}catch(We){console.warn(We)}return Ve(L.firebaseDependencies,ne)}return Ve(L.firebaseDependencies,ne)})).apply(this,arguments)}function hu(L){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,F.Z)(function*(L){const U=yield Fe(L.firebaseDependencies);U&&(yield St(L.firebaseDependencies,U.token),yield hn(L.firebaseDependencies));const ne=yield L.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()})).apply(this,arguments)}function z(L,U){return de.apply(this,arguments)}function de(){return(de=(0,F.Z)(function*(L,U){try{const ne=yield it(L.firebaseDependencies,U),fe=Object.assign(Object.assign({},U),{token:ne,createTime:Date.now()});return yield Ct(L.firebaseDependencies,fe),ne}catch(ne){throw yield hu(L),ne}})).apply(this,arguments)}function Ve(L,U){return ht.apply(this,arguments)}function ht(){return(ht=(0,F.Z)(function*(L,U){const fe={token:yield ie(L,U),createTime:Date.now(),subscriptionOptions:U};return yield Ct(L,fe),fe.token})).apply(this,arguments)}function Sn(L,U){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,F.Z)(function*(L,U){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bi(U)})})).apply(this,arguments)}function xn(L,U){return U.vapidKey===L.vapidKey&&U.endpoint===L.endpoint&&U.auth===L.auth&&U.p256dh===L.p256dh}function cn(L){const U={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function(L,U){if(!U.notification)return;L.notification={};const ne=U.notification.title;ne&&(L.notification.title=ne);const fe=U.notification.body;fe&&(L.notification.body=fe);const We=U.notification.image;We&&(L.notification.image=We)}(U,L),function(L,U){!U.data||(L.data=U.data)}(U,L),function(L,U){var ne,fe,We,st,wt;if(!U.fcmOptions&&!(null===(ne=U.notification)||void 0===ne?void 0:ne.click_action))return;L.fcmOptions={};const Ut=null!==(We=null===(fe=U.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==We?We:null===(st=U.notification)||void 0===st?void 0:st.click_action;Ut&&(L.fcmOptions.link=Ut);const Nr=null===(wt=U.fcmOptions)||void 0===wt?void 0:wt.analytics_label;Nr&&(L.fcmOptions.analyticsLabel=Nr)}(U,L),U}function Fo(L){return"object"==typeof L&&!!L&&ar in L}function Ts(L,U){const ne=[];for(let fe=0;fe<L.length;fe++)ne.push(L.charAt(fe)),fe<U.length&&ne.push(U.charAt(fe));return ne.join("")}function Xr(L){return V.create("missing-app-config-values",{valueName:L})}Ts("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ts("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tr{constructor(U,ne,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function(L){if(!L||!L.options)throw Xr("App Configuration Object");if(!L.name)throw Xr("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=L;for(const fe of U)if(!ne[fe])throw Xr(fe);return{appName:L.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:We,installations:ne,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Hs(L){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,F.Z)(function*(L){var U;try{L.swRegistration=yield navigator.serviceWorker.register(An,{scope:$n}),L.swRegistration.update().catch(()=>{})}catch(ne){throw V.create("failed-service-worker-registration",{browserErrorMessage:null===(U=ne)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function wi(L,U){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,F.Z)(function*(L,U){if(!U&&!L.swRegistration&&(yield Hs(L)),U||!L.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw V.create("invalid-sw-registration");L.swRegistration=U}})).apply(this,arguments)}function Sa(L,U){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,F.Z)(function*(L,U){U?L.vapidKey=U:L.vapidKey||(L.vapidKey=br)})).apply(this,arguments)}function Da(){return(Da=(0,F.Z)(function*(L,U){if(!navigator)throw V.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw V.create("permission-blocked");return yield Sa(L,null==U?void 0:U.vapidKey),yield wi(L,null==U?void 0:U.serviceWorkerRegistration),fs(L)})).apply(this,arguments)}function Lo(L,U,ne){return mo.apply(this,arguments)}function mo(){return(mo=(0,F.Z)(function*(L,U,ne){const fe=Is(U);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:ne[ar],message_name:ne[er],message_time:ne[Bn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Is(L){switch(L){case nt.NOTIFICATION_CLICKED:return"notification_open";case nt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Uo(){return(Uo=(0,F.Z)(function*(L,U){const ne=U.data;if(!ne.isFirebaseMessaging)return;L.onMessageHandler&&ne.messageType===nt.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(cn(ne)):L.onMessageHandler.next(cn(ne)));const fe=ne.data;Fo(fe)&&"1"===fe[mn]&&(yield Lo(L,ne.messageType,fe))})).apply(this,arguments)}const ai="@firebase/messaging";function xi(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,F.Z)(function*(){try{yield(0,De.eu)()}catch(L){return!1}return"undefined"!=typeof window&&(0,De.hl)()&&(0,De.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new _e.wA("messaging",L=>{const U=new Tr(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function(L,U){return Uo.apply(this,arguments)}(U,ne)),U},"PUBLIC")),(0,ue._registerComponent)(new _e.wA("messaging-internal",L=>{const U=L.getProvider("messaging").getImmediate();return{getToken:fe=>function(L,U){return Da.apply(this,arguments)}(U,fe)}},"PRIVATE")),(0,ue.registerVersion)(ai,"0.9.16"),(0,ue.registerVersion)(ai,"0.9.16","esm2017");var Jp=k(5106),Xp=k(7771),gu=k(3637),mh=k(7574),Dl=k(3342),ps=k(309),jo=k(3101);const Bo=new d.GfV("7.4.1"),mu="__angularfire_symbol__analyticsIsSupportedValue",yu="__angularfire_symbol__analyticsIsSupported",_u="__angularfire_symbol__remoteConfigIsSupportedValue",Al="__angularfire_symbol__remoteConfigIsSupported",Zs="__angularfire_symbol__messagingIsSupportedValue",xl="__angularfire_symbol__messagingIsSupported";globalThis[yu]||(globalThis[yu]=(0,Jp.Gb)().then(L=>globalThis[mu]=L).catch(()=>globalThis[mu]=!1)),globalThis[xl]||(globalThis[xl]=xi().then(L=>globalThis[Zs]=L).catch(()=>globalThis[Zs]=!1)),globalThis[Al]||(globalThis[Al]=Br().then(L=>globalThis[_u]=L).catch(()=>globalThis[_u]=!1));const Oa={async:()=>globalThis[yu],sync:()=>{const L=globalThis[mu];if(void 0===L)throw new Error((L=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${L} in the constructor, first ensure that ${L} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${L})\`.`)("Analytics"));return L}};function Yi(L,U,ne){if(U){if(1===U.length)return U[0];const st=U.filter(wt=>wt.app===ne);if(1===st.length)return st[0]}return ne.container.getProvider(L).getImmediate({optional:!0})}const _h=(L,U)=>{const ne=U?[U]:(0,Z.C6)(),fe=[];return ne.forEach(We=>{We.container.getProvider(L).instances.forEach(wt=>{fe.includes(wt)||fe.push(wt)})}),fe};function qo(){}class $o{constructor(U,ne=Xp.N){this.zone=U,this.delegate=ne}now(){return this.delegate.now()}schedule(U,ne,fe){const We=this.zone;return this.delegate.schedule(function(wt){We.runGuarded(()=>{U.apply(this,[wt])})},ne,fe)}}class vu{constructor(U){this.zone=U,this.task=null}call(U,ne){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)),ne.pipe((0,Dl.b)({next:fe,complete:fe,error:fe})).subscribe(U).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pa=(()=>{class L{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new $o(Zone.current)),this.insideAngular=ne.run(()=>new $o(Zone.current,gu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(ne){return new(ne||L)(d.LFG(d.R0b))},L.\u0275prov=d.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Gs(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function Ji(L){return Gs().ngZone.runOutsideAngular(()=>L())}function Xi(L){return Gs().ngZone.run(()=>L())}function bu(L){return L.pipe((0,ps.QV)(Gs().outsideAngular))}function Ss(L){return Gs(),function(L){return function(ne){return(ne=ne.lift(new vu(L.ngZone))).pipe((0,jo.R)(L.outsideAngular),(0,ps.QV)(L.insideAngular))}}(Gs())(L)}const Eu=(L,U)=>function(){const fe=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),Xi(()=>L.apply(void 0,fe))},Zn=(L,U)=>function(){let ne;const fe=arguments;for(let st=0;st<arguments.length;st++)"function"==typeof fe[st]&&(U&&(ne||(ne=Xi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)))),fe[st]=Eu(fe[st],ne));const We=Ji(()=>L.apply(this,fe));if(!U){if(We instanceof mh.y){const st=Gs();return We.pipe((0,jo.R)(st.outsideAngular),(0,ps.QV)(st.insideAngular))}return Xi(()=>We)}return We instanceof mh.y?We.pipe(Ss):We instanceof Promise?Xi(()=>new Promise((st,wt)=>We.then(Ut=>Xi(()=>st(Ut)),Ut=>Xi(()=>wt(Ut))))):"function"==typeof We&&ne?function(){return setTimeout(()=>{ne&&"scheduled"===ne.state&&ne.invoke()},10),We.apply(this,arguments)}:Xi(()=>We)}},708:(ct,ke,k)=>{"use strict";k.d(ke,{$:()=>Ln,A:()=>H,B:()=>ge,G:()=>de,H:()=>xn,J:()=>Ti,L:()=>on,M:()=>Dl,N:()=>mu,P:()=>uv,Q:()=>yu,R:()=>rv,T:()=>_u,U:()=>Bo,V:()=>Ri,W:()=>yh,X:()=>qo,Y:()=>ne,Z:()=>We,_:()=>wt,a:()=>Pl,a0:()=>Pi,a1:()=>fc,a2:()=>wu,a3:()=>gs,a4:()=>vh,a5:()=>eg,a6:()=>_n,a7:()=>bh,a8:()=>tg,a9:()=>pc,aA:()=>bo,aB:()=>Fu,aC:()=>Tg,aD:()=>wg,aE:()=>Tn,aI:()=>kl,aL:()=>Zs,aa:()=>Z_,ab:()=>Ma,ac:()=>ki,af:()=>yo,ag:()=>rg,ah:()=>Ih,ak:()=>Ji,al:()=>sg,an:()=>W_,ao:()=>ug,ap:()=>fn,aq:()=>Ze,ar:()=>Ft,as:()=>it,at:()=>Me,au:()=>na,av:()=>pv,aw:()=>rt,ax:()=>Te,ay:()=>se,az:()=>hn,b:()=>Ec,c:()=>Ys,d:()=>wn,e:()=>ku,f:()=>Sg,g:()=>Mu,h:()=>Nu,i:()=>es,j:()=>dv,k:()=>Zl,l:()=>xA,m:()=>Pg,o:()=>we,r:()=>RA,s:()=>iv,u:()=>qw,v:()=>Uw});var d=k(8239),Z=k(3854),F=k(8026),ue=k(4762),De=k(5422),_e=k(3910);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ge=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ce=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new De.Yd("@firebase/auth");function ze(E,...m){qe.logLevel<=De.in.ERROR&&qe.error(`Auth (${F.SDK_VERSION}): ${E}`,...m)}function Me(E,...m){throw Mt(E,...m)}function rt(E,...m){return Mt(E,...m)}function mt(E,m,v){const I=Object.assign(Object.assign({},je()),{[m]:v});return new Z.LL("auth","Firebase",I).create(m,{appName:E.name})}function tt(E,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&Me(E,"argument-error"),mt(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(E,...m){if("string"!=typeof E){const v=m[0],I=[...m.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(v,...I)}return Ce.create(E,...m)}function Te(E,m,...v){if(!E)throw Mt(m,...v)}function $e(E){const m="INTERNAL ASSERTION FAILED: "+E;throw ze(m),new Error(m)}function Ze(E,m){E||$e(m)}const re=new Map;function se(E){Ze(E instanceof Function,"Expected a class definition");let m=re.get(E);return m?(Ze(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,re.set(E,m),m)}function be(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function He(){return"http:"===bt()||"https:"===bt()}function bt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Et{constructor(m,v){this.shortDelay=m,this.longDelay=v,Ze(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,Z.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function gn(E,m){Ze(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class sr{static initialize(m,v,I){this.fetchImpl=m,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},or=new Et(3e4,6e4);function At(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function pt(E,m,v,I){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(E,m,v,I,R={}){return vi(E,R,(0,d.Z)(function*(){let M={},ce={};I&&("GET"===m?ce=I:M={body:JSON.stringify(I)});const Be=(0,Z.xO)(Object.assign({key:E.config.apiKey},ce)).slice(1),ft=yield E._getAdditionalHeaders();return ft["Content-Type"]="application/json",E.languageCode&&(ft["X-Firebase-Locale"]=E.languageCode),sr.fetch()(dr(E,E.config.apiHost,v,Be),Object.assign({method:m,headers:ft,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function vi(E,m,v){return oi.apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(E,m,v){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},Dn),m);try{const R=new jn(E),M=yield Promise.race([v(),R.promise]);R.clearNetworkTimeout();const ce=yield M.json();if("needConfirmation"in ce)throw Wn(E,"account-exists-with-different-credential",ce);if(M.ok&&!("errorMessage"in ce))return ce;{const Be=M.ok?ce.errorMessage:ce.error.message,[ft,Pt]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw Wn(E,"credential-already-in-use",ce);if("EMAIL_EXISTS"===ft)throw Wn(E,"email-already-in-use",ce);if("USER_DISABLED"===ft)throw Wn(E,"user-disabled",ce);const rn=I[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(Pt)throw mt(E,rn,Pt);Me(E,rn)}}catch(R){if(R instanceof Z.ZR)throw R;Me(E,"network-request-failed")}})).apply(this,arguments)}function Kt(E,m,v,I){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(E,m,v,I,R={}){const M=yield pt(E,m,v,I,R);return"mfaPendingCredential"in M&&Me(E,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function dr(E,m,v,I){const R=`${m}${v}?${I}`;return E.config.emulator?gn(E.config,R):`${E.config.apiScheme}://${R}`}class jn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(rt(this.auth,"network-request-failed")),or.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(E,m,v){const I={appName:E.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const R=rt(E,m,I);return R.customData._tokenResponse=v,R}function Br(){return(Br=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function hr(E,m){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function An(E,m){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function br(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function er(){return(er=(0,d.Z)(function*(E,m=!1){const v=(0,Z.m9)(E),I=yield v.getIdToken(m),R=mn(I);Te(R&&R.exp&&R.auth_time&&R.iat,v.auth,"internal-error");const M="object"==typeof R.firebase?R.firebase:void 0,ce=null==M?void 0:M.sign_in_provider;return{claims:R,token:I,authTime:br(Bn(R.auth_time)),issuedAtTime:br(Bn(R.iat)),expirationTime:br(Bn(R.exp)),signInProvider:ce||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Bn(E){return 1e3*Number(E)}function mn(E){var m;const[v,I,R]=E.split(".");if(void 0===v||void 0===I||void 0===R)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,Z.tV)(I);return M?JSON.parse(M):(ze("Failed to decode base64 JWT payload"),null)}catch(M){return ze("Caught error parsing JWT payload as JSON",null===(m=M)||void 0===m?void 0:m.toString()),null}}function nt(E,m){return un.apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(E,m,v=!1){if(v)return m;try{return yield m}catch(I){throw I instanceof Z.ZR&&bi(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}function bi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class ur{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const R=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(m);this.timerId=setTimeout((0,d.Z)(function*(){yield v.iteration()}),I)}iteration(){var m=this;return(0,d.Z)(function*(){var v;try{yield m.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(v=I)||void 0===v?void 0:v.code)&&m.schedule(!0))}m.schedule()})()}}class yn{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(E){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(E){var m;const v=E.auth,I=yield E.getIdToken(),R=yield nt(E,An(v,{idToken:I}));Te(null==R?void 0:R.users.length,v,"internal-error");const M=R.users[0];E._notifyReloadListener(M);const ce=(null===(m=M.providerUserInfo)||void 0===m?void 0:m.length)?X(M.providerUserInfo):[],Be=K(E.providerData,ce),rn=!!E.isAnonymous&&!(E.email&&M.passwordHash||(null==Be?void 0:Be.length)),Xn={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Be,metadata:new yn(M.createdAt,M.lastLoginAt),isAnonymous:rn};Object.assign(E,Xn)})).apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(E){const m=(0,Z.m9)(E);yield Fn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function K(E,m){return[...E.filter(I=>!m.some(R=>R.providerId===I.providerId)),...m]}function X(E){return E.map(m=>{var{providerId:v}=m,I=(0,ue._T)(m,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function J(){return(J=(0,d.Z)(function*(E,m){const v=yield vi(E,{},(0,d.Z)(function*(){const I=(0,Z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:R,apiKey:M}=E.config,ce=dr(E,R,"/v1/token",`key=${M}`),Be=yield E._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",sr.fetch()(ce,{method:"POST",headers:Be,body:I})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Te(m.idToken,"internal-error"),Te(void 0!==m.idToken,"internal-error"),Te(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(E){const m=mn(E);return Te(m,"internal-error"),Te(void 0!==m.exp,"internal-error"),Te(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var I=this;return(0,d.Z)(function*(){return Te(!I.accessToken||I.refreshToken,m,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(m,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var I=this;return(0,d.Z)(function*(){const{accessToken:R,refreshToken:M,expiresIn:ce}=yield function(E,m){return J.apply(this,arguments)}(m,v);I.updateTokensAndExpiration(R,M,Number(ce))})()}updateTokensAndExpiration(m,v,I){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(m,v){const{refreshToken:I,accessToken:R,expirationTime:M}=v,ce=new W;return I&&(Te("string"==typeof I,"internal-error",{appName:m}),ce.refreshToken=I),R&&(Te("string"==typeof R,"internal-error",{appName:m}),ce.accessToken=R),M&&(Te("number"==typeof M,"internal-error",{appName:m}),ce.expirationTime=M),ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return $e("not implemented")}}function Fe(E,m){Te("string"==typeof E||void 0===E,"internal-error",{appName:m})}class et{constructor(m){var{uid:v,auth:I,stsTokenManager:R}=m,M=(0,ue._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new yn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,d.Z)(function*(){const I=yield nt(v,v.stsTokenManager.getToken(v.auth,m));return Te(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(m){return function(E){return er.apply(this,arguments)}(this,m)}reload(){return function(E){return qr.apply(this,arguments)}(this)}_assign(m){this!==m&&(Te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new et(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var I=this;return(0,d.Z)(function*(){let R=!1;m.idToken&&m.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(m),R=!0),v&&(yield Fn(I)),yield I.auth._persistUserIfCurrent(I),R&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var m=this;return(0,d.Z)(function*(){const v=yield m.getIdToken();return yield nt(m,function(E,m){return Br.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var I,R,M,ce,Be,ft,Pt,rn;const Xn=null!==(I=v.displayName)&&void 0!==I?I:void 0,eo=null!==(R=v.email)&&void 0!==R?R:void 0,_s=null!==(M=v.phoneNumber)&&void 0!==M?M:void 0,Vh=null!==(ce=v.photoURL)&&void 0!==ce?ce:void 0,kg=null!==(Be=v.tenantId)&&void 0!==Be?Be:void 0,rs=null!==(ft=v._redirectEventId)&&void 0!==ft?ft:void 0,jh=null!==(Pt=v.createdAt)&&void 0!==Pt?Pt:void 0,Rs=null!==(rn=v.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:wo,emailVerified:Bh,isAnonymous:qh,providerData:Rc,stsTokenManager:Iv}=v;Te(wo&&Iv,m,"internal-error");const Qw=W.fromJSON(this.name,Iv);Te("string"==typeof wo,m,"internal-error"),Fe(Xn,m.name),Fe(eo,m.name),Te("boolean"==typeof Bh,m,"internal-error"),Te("boolean"==typeof qh,m,"internal-error"),Fe(_s,m.name),Fe(Vh,m.name),Fe(kg,m.name),Fe(rs,m.name),Fe(jh,m.name),Fe(Rs,m.name);const Ng=new et({uid:wo,auth:m,email:eo,emailVerified:Bh,displayName:Xn,isAnonymous:qh,photoURL:Vh,phoneNumber:_s,tenantId:kg,stsTokenManager:Qw,createdAt:jh,lastLoginAt:Rs});return Rc&&Array.isArray(Rc)&&(Ng.providerData=Rc.map(zl=>Object.assign({},zl))),rs&&(Ng._redirectEventId=rs),Ng}static _fromIdTokenResponse(m,v,I=!1){return(0,d.Z)(function*(){const R=new W;R.updateFromServerResponse(v);const M=new et({uid:v.localId,auth:m,stsTokenManager:R,isAnonymous:I});return yield Fn(M),M})()}}const on=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(v,I){var R=this;return(0,d.Z)(function*(){R.storage[v]=I})()}_get(v){var I=this;return(0,d.Z)(function*(){const R=I.storage[v];return void 0===R?null:R})()}_remove(v){var I=this;return(0,d.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return E.type="NONE",E})();function hn(E,m,v){return`firebase:${E}:${m}:${v}`}class he{constructor(m,v,I){this.persistence=m,this.auth=v,this.userKey=I;const{config:R,name:M}=this.auth;this.fullUserKey=hn(this.userKey,R.apiKey,M),this.fullPersistenceKey=hn("persistence",R.apiKey,M),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,d.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?et._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,d.Z)(function*(){if(v.persistence===m)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,I="authUser"){return(0,d.Z)(function*(){if(!v.length)return new he(se(on),m,I);const R=(yield Promise.all(v.map(function(){var Pt=(0,d.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return Pt.apply(this,arguments)}}()))).filter(Pt=>Pt);let M=R[0]||se(on);const ce=hn(I,m.config.apiKey,m.name);let Be=null;for(const Pt of v)try{const rn=yield Pt._get(ce);if(rn){const Xn=et._fromJSON(m,rn);Pt!==M&&(Be=Xn),M=Pt;break}}catch(rn){}const ft=R.filter(Pt=>Pt._shouldAllowMigration);return M._shouldAllowMigration&&ft.length?(M=ft[0],Be&&(yield M._set(ce,Be.toJSON())),yield Promise.all(v.map(function(){var Pt=(0,d.Z)(function*(rn){if(rn!==M)try{yield rn._remove(ce)}catch(Xn){}});return function(rn){return Pt.apply(this,arguments)}}())),new he(M,m,I)):new he(M,m,I)})()}}function q(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Le(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(j(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(dt(m))return"Blackberry";if(St(m))return"Webos";if(V(m))return"Safari";if((m.includes("chrome/")||ie(m))&&!m.includes("edge/"))return"Chrome";if(it(m))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function j(E=(0,Z.z$)()){return/firefox\//i.test(E)}function V(E=(0,Z.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ie(E=(0,Z.z$)()){return/crios\//i.test(E)}function Le(E=(0,Z.z$)()){return/iemobile/i.test(E)}function it(E=(0,Z.z$)()){return/android/i.test(E)}function dt(E=(0,Z.z$)()){return/blackberry/i.test(E)}function St(E=(0,Z.z$)()){return/webos/i.test(E)}function Ft(E=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function fn(E=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function en(E=(0,Z.z$)()){return Ft(E)||it(E)||St(E)||dt(E)||/windows phone/i.test(E)||Le(E)}function fs(E,m=[]){let v;switch(E){case"Browser":v=q((0,Z.z$)());break;case"Worker":v=`${q((0,Z.z$)())}-${E}`;break;default:v=E}const I=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${F.SDK_VERSION}/${I}`}class Er{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const I=M=>new Promise((ce,Be)=>{try{ce(m(M))}catch(ft){Be(ft)}});I.onAbort=v,this.queue.push(I);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,d.Z)(function*(){var I;if(v.auth.currentUser===m)return;const R=[];try{for(const M of v.queue)yield M(m),M.onAbort&&R.push(M.onAbort)}catch(M){R.reverse();for(const ce of R)try{ce()}catch(Be){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=M)||void 0===I?void 0:I.message})}})()}}class hu{constructor(m,v,I){this.app=m,this.heartbeatServiceProvider=v,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z(this),this.idTokenSubscription=new z(this),this.beforeStateQueue=new Er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(m,v){var I=this;return v&&(this._popupRedirectResolver=se(v)),this._initializationPromise=this.queue((0,d.Z)(function*(){var R,M;if(!I._deleted&&(I.persistenceManager=yield he.create(I,m),!I._deleted)){if(null===(R=I._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(ce){}yield I.initializeCurrentUser(v),I.lastNotifiedUid=(null===(M=I.currentUser)||void 0===M?void 0:M.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,d.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,d.Z)(function*(){var I;const R=yield v.assertedPersistence.getCurrentUser();let M=R,ce=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Be=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,ft=null==M?void 0:M._redirectEventId,Pt=yield v.tryRedirectSignIn(m);(!Be||Be===ft)&&(null==Pt?void 0:Pt.user)&&(M=Pt.user,ce=!0)}if(!M)return v.directlySetCurrentUser(null);if(!M._redirectEventId){if(ce)try{yield v.beforeStateQueue.runMiddleware(M)}catch(Be){M=R,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Be))}return M?v.reloadAndSetCurrentUserOrClear(M):v.directlySetCurrentUser(null)}return Te(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===M._redirectEventId?v.directlySetCurrentUser(M):v.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(m){var v=this;return(0,d.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(R){yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,d.Z)(function*(){var I;try{yield Fn(m)}catch(R){if("auth/network-request-failed"!==(null===(I=R)||void 0===I?void 0:I.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,d.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,d.Z)(function*(){const I=m?(0,Z.m9)(m):null;return I&&Te(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(m,v=!1){var I=this;return(0,d.Z)(function*(){if(!I._deleted)return m&&Te(I.tenantId===m.tenantId,I,"tenant-id-mismatch"),v||(yield I.beforeStateQueue.runMiddleware(m)),I.queue((0,d.Z)(function*(){yield I.directlySetCurrentUser(m),I.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,d.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,d.Z)(function*(){yield v.assertedPersistence.setPersistence(se(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new Z.LL("auth","Firebase",m())}onAuthStateChanged(m,v,I){return this.registerStateListener(this.authStateSubscription,m,v,I)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,I){return this.registerStateListener(this.idTokenSubscription,m,v,I)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var I=this;return(0,d.Z)(function*(){const R=yield I.getOrInitRedirectPersistenceManager(v);return null===m?R.removeCurrentUser():R.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,d.Z)(function*(){if(!v.redirectPersistenceManager){const I=m&&se(m)||v._popupRedirectResolver;Te(I,v,"argument-error"),v.redirectPersistenceManager=yield he.create(v,[se(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,d.Z)(function*(){var I,R;return v._isInitialized&&(yield v.queue((0,d.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===m?v._currentUser:(null===(R=v.redirectUser)||void 0===R?void 0:R._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,d.Z)(function*(){if(m===v.currentUser)return v.queue((0,d.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,I,R){if(this._deleted)return()=>{};const M="function"==typeof v?v:v.next.bind(v),ce=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(ce,this,"internal-error"),ce.then(()=>M(this.currentUser)),"function"==typeof v?m.addObserver(v,I,R):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,d.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,d.Z)(function*(){var v;const I={"X-Client-Version":m.clientVersion};m.app.options.appId&&(I["X-Firebase-gmpid"]=m.app.options.appId);const R=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return R&&(I["X-Firebase-Client"]=R),I})()}}function Tn(E){return(0,Z.m9)(E)}class z{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,Z.ne)(v=>this.observer=v)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function de(E,m,v){const I=Tn(E);Te(I._canInitEmulator,I,"emulator-config-failed"),Te(/^https?:\/\//.test(m),I,"invalid-emulator-scheme");const R=!!(null==v?void 0:v.disableWarnings),M=Ve(m),{host:ce,port:Be}=function(E){const m=Ve(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(I);if(R){const M=R[1];return{host:M,port:Sn(I.substr(M.length+1))}}{const[M,ce]=I.split(":");return{host:M,port:Sn(ce)}}}(m);I.config.emulator={url:`${M}//${ce}${null===Be?"":`:${Be}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:ce,port:Be,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function(){function E(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Ve(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function Sn(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class xn{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return $e("not implemented")}_getIdTokenResponse(m){return $e("not implemented")}_linkToIdToken(m,v){return $e("not implemented")}_getReauthenticationResolver(m){return $e("not implemented")}}function cn(E,m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:resetPassword",At(E,m))})).apply(this,arguments)}function wr(E,m){return qt.apply(this,arguments)}function qt(){return(qt=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Fo(E,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:update",At(E,m))})).apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signInWithPassword",At(E,m))})).apply(this,arguments)}function Tr(E,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:sendOobCode",At(E,m))})).apply(this,arguments)}function Ei(E,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(E,m){return Tr(E,m)})).apply(this,arguments)}function Rn(E,m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(E,m){return Tr(E,m)})).apply(this,arguments)}function Ca(E,m){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(E,m){return Tr(E,m)})).apply(this,arguments)}function Da(E,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,d.Z)(function*(E,m){return Tr(E,m)})).apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signInWithEmailLink",At(E,m))})).apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signInWithEmailLink",At(E,m))})).apply(this,arguments)}class ai extends xn{constructor(m,v,I,R=null){super("password",I),this._email=m,this._password=v,this._tenantId=R}static _fromEmailAndPassword(m,v){return new ai(m,v,"password")}static _fromEmailAndCode(m,v,I=null){return new ai(m,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return function(E,m){return Xr.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(E,m){return Is.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:Me(m,"internal-error")}})()}_linkToIdToken(m,v){var I=this;return(0,d.Z)(function*(){switch(I.signInMethod){case"password":return wr(m,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(E,m){return Uo.apply(this,arguments)}(m,{idToken:v,email:I._email,oobCode:I._password});default:Me(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Cn(E,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signInWithIdp",At(E,m))})).apply(this,arguments)}class Ti extends xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ti(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):Me("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:R}=v,M=(0,ue._T)(v,["providerId","signInMethod"]);if(!I||!R)return null;const ce=new Ti(I,R);return ce.idToken=M.idToken||void 0,ce.accessToken=M.accessToken||void 0,ce.secret=M.secret,ce.nonce=M.nonce,ce.pendingToken=M.pendingToken||null,ce}_getIdTokenResponse(m){return Cn(m,this.buildRequest())}_linkToIdToken(m,v){const I=this.buildRequest();return I.idToken=v,Cn(m,I)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Cn(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,Z.xO)(v)}return m}}function xi(E,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:sendVerificationCode",At(E,m))})).apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signInWithPhoneNumber",At(E,m))})).apply(this,arguments)}function ph(){return(ph=(0,d.Z)(function*(E,m){const v=yield Kt(E,"POST","/v1/accounts:signInWithPhoneNumber",At(E,m));if(v.temporaryProof)throw Wn(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const pu={USER_NOT_FOUND:"user-not-found"};function gh(){return(gh=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signInWithPhoneNumber",At(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),pu)})).apply(this,arguments)}class Ra extends xn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ra({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ra({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(E,m){return xa.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(E,m){return ph.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(E,m){return gh.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:I,verificationCode:R}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:I,code:R}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:I,phoneNumber:R,temporaryProof:M}=m;return I||v||R||M?new Ra({verificationId:v,verificationCode:I,phoneNumber:R,temporaryProof:M}):null}}class gu{constructor(m){var v,I,R,M,ce,Be;const ft=(0,Z.zd)((0,Z.pd)(m)),Pt=null!==(v=ft.apiKey)&&void 0!==v?v:null,rn=null!==(I=ft.oobCode)&&void 0!==I?I:null,Xn=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=ft.mode)&&void 0!==R?R:null);Te(Pt&&rn&&Xn,"argument-error"),this.apiKey=Pt,this.operation=Xn,this.code=rn,this.continueUrl=null!==(M=ft.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(ce=ft.languageCode)&&void 0!==ce?ce:null,this.tenantId=null!==(Be=ft.tenantId)&&void 0!==Be?Be:null}static parseLink(m){const v=function(E){const m=(0,Z.zd)((0,Z.pd)(E)).link,v=m?(0,Z.zd)((0,Z.pd)(m)).deep_link_id:null,I=(0,Z.zd)((0,Z.pd)(E)).deep_link_id;return(I?(0,Z.zd)((0,Z.pd)(I)).link:null)||I||v||m||E}(m);try{return new gu(v)}catch(I){return null}}}let Dl=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,I){return ai._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const R=gu.parseLink(I);return Te(R,"argument-error"),ai._fromEmailAndCode(v,R.code,R.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ps{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class jo extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Bo extends jo{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Te("providerId"in v&&"signInMethod"in v,"argument-error"),Ti._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Te(m.idToken||m.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Bo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Bo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:R,pendingToken:M,nonce:ce,providerId:Be}=m;if(!I&&!R&&!v&&!M||!Be)return null;try{return new Bo(Be)._credential({idToken:v,accessToken:I,nonce:ce,pendingToken:M})}catch(ft){return null}}}let mu=(()=>{class E extends jo{constructor(){super("facebook.com")}static credential(v){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(I){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),yu=(()=>{class E extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:R}=v;if(!I&&!R)return null;try{return E.credential(I,R)}catch(M){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),_u=(()=>{class E extends jo{constructor(){super("github.com")}static credential(v){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(I){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Zs extends xn{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Cn(m,this.buildRequest())}_linkToIdToken(m,v){const I=this.buildRequest();return I.idToken=v,Cn(m,I)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Cn(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:R,pendingToken:M}=v;return I&&R&&M&&I===R?new Zs(I,M):null}static _create(m,v){return new Zs(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ri extends ps{constructor(m){Te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ri.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ri.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Zs.fromJSON(m);return Te(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:I}=m;if(!v||!I)return null;try{return Zs._create(I,v)}catch(R){return null}}}let yh=(()=>{class E extends jo{constructor(){super("twitter.com")}static credential(v,I){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:R}=v;if(!I||!R)return null;try{return E.credential(I,R)}catch(M){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Rl(E,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signUp",At(E,m))})).apply(this,arguments)}class Yi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,I,R=!1){return(0,d.Z)(function*(){const M=yield et._fromIdTokenResponse(m,I,R),ce=_h(I);return new Yi({user:M,providerId:ce,_tokenResponse:I,operationType:v})})()}static _forOperation(m,v,I){return(0,d.Z)(function*(){yield m._updateTokensIfNecessary(I,!0);const R=_h(I);return new Yi({user:m,providerId:R,_tokenResponse:I,operationType:v})})()}}function _h(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function qo(E){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(E){var m;const v=Tn(E);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new Yi({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield Rl(v,{returnSecureToken:!0}),R=yield Yi._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}class vu extends Z.ZR{constructor(m,v,I,R){var M;super(v.code,v.message),this.operationType=I,this.user=R,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:m.name,tenantId:null!==(M=m.tenantId)&&void 0!==M?M:void 0,_serverResponse:v.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(m,v,I,R){return new vu(m,v,I,R)}}function Pa(E,m,v,I){return("reauthenticate"===m?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?vu._fromErrorAndOperation(E,M,m,I):M})}function Gs(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function Ji(E,m){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(E,m){const v=(0,Z.m9)(E);yield Ss(!0,v,m);const{providerUserInfo:I}=yield hr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),R=Gs(I||[]);return v.providerData=v.providerData.filter(M=>R.has(M.providerId)),R.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function bu(E,m){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(E,m,v=!1){const I=yield nt(E,m._linkToIdToken(E.auth,yield E.getIdToken()),v);return Yi._forOperation(E,"link",I)})).apply(this,arguments)}function Ss(E,m,v){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(E,m,v){yield Fn(m);const R=!1===E?"provider-already-linked":"no-such-provider";Te(Gs(m.providerData).has(v)===E,m.auth,R)})).apply(this,arguments)}function Eu(E,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(E,m,v=!1){var I;const{auth:R}=E,M="reauthenticate";try{const ce=yield nt(E,Pa(R,M,m,E),v);Te(ce.idToken,R,"internal-error");const Be=mn(ce.idToken);Te(Be,R,"internal-error");const{sub:ft}=Be;return Te(E.uid===ft,R,"user-mismatch"),Yi._forOperation(E,M,ce)}catch(ce){throw"auth/user-not-found"===(null===(I=ce)||void 0===I?void 0:I.code)&&Me(R,"user-mismatch"),ce}})).apply(this,arguments)}function L(E,m){return U.apply(this,arguments)}function U(){return(U=(0,d.Z)(function*(E,m,v=!1){const I="signIn",R=yield Pa(E,I,m),M=yield Yi._fromIdTokenResponse(E,I,R);return v||(yield E._updateCurrentUser(M.user)),M})).apply(this,arguments)}function ne(E,m){return fe.apply(this,arguments)}function fe(){return(fe=(0,d.Z)(function*(E,m){return L(Tn(E),m)})).apply(this,arguments)}function We(E,m){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(E,m){const v=(0,Z.m9)(E);return yield Ss(!1,v,m.providerId),bu(v,m)})).apply(this,arguments)}function wt(E,m){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(E,m){return Eu((0,Z.m9)(E),m)})).apply(this,arguments)}function Nr(E,m){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(E,m){return Kt(E,"POST","/v1/accounts:signInWithCustomToken",At(E,m))})).apply(this,arguments)}function Ln(E,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(E,m){const v=Tn(E),I=yield Nr(v,{token:m,returnSecureToken:!0}),R=yield Yi._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(R.user),R})).apply(this,arguments)}class Oi{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?zs._fromServerResponse(m,v):Me(m,"internal-error")}}class zs extends Oi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new zs(v)}}function Ws(E,m,v){var I;Te((null===(I=v.url)||void 0===I?void 0:I.length)>0,E,"invalid-continue-uri"),Te(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Te(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Te(v.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Pi(E,m,v){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E),R={requestType:"PASSWORD_RESET",email:m};v&&Ws(I,R,v),yield Rn(I,R)})).apply(this,arguments)}function fc(E,m,v){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(E,m,v){yield cn((0,Z.m9)(E),{oobCode:m,newPassword:v})})).apply(this,arguments)}function wu(E,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(E,m){yield Fo((0,Z.m9)(E),{oobCode:m})})).apply(this,arguments)}function gs(E,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(E,m){const v=(0,Z.m9)(E),I=yield cn(v,{oobCode:m}),R=I.requestType;switch(Te(R,v,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(I.mfaInfo,v,"internal-error");default:Te(I.email,v,"internal-error")}let M=null;return I.mfaInfo&&(M=Oi._fromServerResponse(Tn(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:M},operation:R}})).apply(this,arguments)}function vh(E,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(E,m){const{data:v}=yield gs((0,Z.m9)(E),m);return v.email})).apply(this,arguments)}function eg(E,m,v){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(E,m,v){const I=Tn(E),R=yield Rl(I,{returnSecureToken:!0,email:m,password:v}),M=yield Yi._fromIdTokenResponse(I,"signIn",R);return yield I._updateCurrentUser(M.user),M})).apply(this,arguments)}function _n(E,m,v){return ne((0,Z.m9)(E),Dl.credential(m,v))}function bh(E,m,v){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E),R={requestType:"EMAIL_SIGNIN",email:m};Te(v.handleCodeInApp,I,"argument-error"),v&&Ws(I,R,v),yield Ca(I,R)})).apply(this,arguments)}function tg(E,m){const v=gu.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function pc(E,m,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E),R=Dl.credentialWithLink(m,v||be());return Te(R._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),ne(I,R)})).apply(this,arguments)}function Eh(E,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:createAuthUri",At(E,m))})).apply(this,arguments)}function Z_(E,m){return ng.apply(this,arguments)}function ng(){return(ng=(0,d.Z)(function*(E,m){const I={identifier:m,continueUri:He()?be():"http://localhost"},{signinMethods:R}=yield Eh((0,Z.m9)(E),I);return R||[]})).apply(this,arguments)}function Ma(E,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(E,m){const v=(0,Z.m9)(E),R={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&Ws(v.auth,R,m);const{email:M}=yield Ei(v.auth,R);M!==E.email&&(yield E.reload())})).apply(this,arguments)}function ki(E,m,v){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};v&&Ws(I.auth,M,v);const{email:ce}=yield Da(I.auth,M);ce!==E.email&&(yield E.reload())})).apply(this,arguments)}function wh(E,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(E,m){return pt(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function yo(E,m){return Th.apply(this,arguments)}function Th(){return(Th=(0,d.Z)(function*(E,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const I=(0,Z.m9)(E),M={idToken:yield I.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},ce=yield nt(I,wh(I.auth,M));I.displayName=ce.displayName||null,I.photoURL=ce.photoUrl||null;const Be=I.providerData.find(({providerId:ft})=>"password"===ft);Be&&(Be.displayName=I.displayName,Be.photoURL=I.photoURL),yield I._updateTokensIfNecessary(ce)})).apply(this,arguments)}function rg(E,m){return Sh((0,Z.m9)(E),m,null)}function Ih(E,m){return Sh((0,Z.m9)(E),null,m)}function Sh(E,m,v){return gc.apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(E,m,v){const{auth:I}=E,M={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(M.email=m),v&&(M.password=v);const ce=yield nt(E,wr(I,M));yield E._updateTokensIfNecessary(ce,!0)})).apply(this,arguments)}class Fa{constructor(m,v,I={}){this.isNewUser=m,this.providerId=v,this.profile=I}}class Dh extends Fa{constructor(m,v,I,R){super(m,v,I),this.username=R}}class G_ extends Fa{constructor(m,v){super(m,"facebook.com",v)}}class z_ extends Dh{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class mc extends Fa{constructor(m,v){super(m,"google.com",v)}}class ig extends Dh{constructor(m,v,I){super(m,"twitter.com",v,I)}}function sg(E){const{user:m,_tokenResponse:v}=E;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(E){var m,v;if(!E)return null;const{providerId:I}=E,R=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},M=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!I&&(null==E?void 0:E.idToken)){const ce=null===(v=null===(m=mn(E.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(ce)return new Fa(M,"anonymous"!==ce&&"custom"!==ce?ce:null)}if(!I)return null;switch(I){case"facebook.com":return new G_(M,R);case"github.com":return new z_(M,R);case"google.com":return new mc(M,R);case"twitter.com":return new ig(M,R,E.screenName||null);case"custom":case"anonymous":return new Fa(M,null);default:return new Fa(M,I,R)}}(v)}function Uw(E,m,v,I){return(0,Z.m9)(E).onAuthStateChanged(m,v,I)}class Ua{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new Ua("enroll",m)}static _fromMfaPendingCredential(m){return new Ua("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,I;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Ua._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(I=m.multiFactorSession)||void 0===I?void 0:I.idToken)return Ua._fromIdtoken(m.multiFactorSession.idToken)}return null}}class _c{constructor(m,v,I){this.session=m,this.hints=v,this.signInResolver=I}static _fromError(m,v){const I=Tn(m),R=v.customData._serverResponse,M=(R.mfaInfo||[]).map(Be=>Oi._fromServerResponse(I,Be));Te(R.mfaPendingCredential,I,"internal-error");const ce=Ua._fromMfaPendingCredential(R.mfaPendingCredential);return new _c(ce,M,function(){var Be=(0,d.Z)(function*(ft){const Pt=yield ft._process(I,ce);delete R.mfaInfo,delete R.mfaPendingCredential;const rn=Object.assign(Object.assign({},R),{idToken:Pt.idToken,refreshToken:Pt.refreshToken});switch(v.operationType){case"signIn":const Xn=yield Yi._fromIdTokenResponse(I,v.operationType,rn);return yield I._updateCurrentUser(Xn.user),Xn;case"reauthenticate":return Te(v.user,I,"internal-error"),Yi._forOperation(v.user,v.operationType,rn);default:Me(I,"internal-error")}});return function(ft){return Be.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,d.Z)(function*(){return v.signInResolver(m)})()}}function W_(E,m){var v;const I=(0,Z.m9)(E),R=m;return Te(m.customData.operationType,I,"argument-error"),Te(null===(v=R.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),_c._fromError(I,R)}function K_(E,m){return pt(E,"POST","/v2/accounts/mfaEnrollment:start",At(E,m))}class Tu{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>Oi._fromServerResponse(m.auth,I)))})}static _fromUser(m){return new Tu(m)}getSession(){var m=this;return(0,d.Z)(function*(){return Ua._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var I=this;return(0,d.Z)(function*(){const R=m,M=yield I.getSession(),ce=yield nt(I.user,R._process(I.user.auth,M,v));return yield I.user._updateTokensIfNecessary(ce),I.user.reload()})()}unenroll(m){var v=this;return(0,d.Z)(function*(){var I;const R="string"==typeof m?m:m.uid,M=yield v.user.getIdToken(),ce=yield nt(v.user,function(E,m){return pt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",At(E,m))}(v.user.auth,{idToken:M,mfaEnrollmentId:R}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Be})=>Be!==R),yield v.user._updateTokensIfNecessary(ce);try{yield v.user.reload()}catch(Be){if("auth/user-token-expired"!==(null===(I=Be)||void 0===I?void 0:I.code))throw Be}})()}}const vc=new WeakMap;function ug(E){const m=(0,Z.m9)(E);return vc.has(m)||vc.set(m,Tu._fromUser(m)),vc.get(m)}const bc="__sak";class cg{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ec=(()=>{class E extends cg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,I)=>this.onStorageEvent(v,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,Z.z$)();return V(E)||Ft(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const R=this.storage.getItem(I),M=this.localCache[I];R!==M&&v(I,M,R)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((Be,ft,Pt)=>{this.notifyListeners(Be,Pt)});const R=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(R);if(v.newValue!==Be)null!==v.newValue?this.storage.setItem(R,v.newValue):this.storage.removeItem(R);else if(this.localCache[R]===v.newValue&&!I)return}const M=()=>{const Be=this.storage.getItem(R);!I&&this.localCache[R]===Be||this.notifyListeners(R,Be)},ce=this.storage.getItem(R);(0,Z.w1)()&&10===document.documentMode&&ce!==v.newValue&&v.newValue!==v.oldValue?setTimeout(M,10):M()}notifyListeners(v,I){this.localCache[v]=I;const R=this.listeners[v];if(R)for(const M of Array.from(R))M(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var R=()=>super._set,M=this;return(0,d.Z)(function*(){yield R().call(M,v,I),M.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,R=this;return(0,d.Z)(function*(){const M=yield I().call(R,v);return R.localCache[v]=JSON.stringify(M),M})()}_remove(v){var I=()=>super._remove,R=this;return(0,d.Z)(function*(){yield I().call(R,v),delete R.localCache[v]})()}}return E.type="LOCAL",E})(),Pl=(()=>{class E extends cg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return E.type="SESSION",E})();let Bw=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(M=>M.isListeningto(v));if(I)return I;const R=new E(v);return this.receivers.push(R),R}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,d.Z)(function*(){const R=v,{eventId:M,eventType:ce,data:Be}=R.data,ft=I.handlersMap[ce];if(!(null==ft?void 0:ft.size))return;R.ports[0].postMessage({status:"ack",eventId:M,eventType:ce});const Pt=Array.from(ft).map(function(){var Xn=(0,d.Z)(function*(eo){return eo(R.origin,Be)});return function(eo){return Xn.apply(this,arguments)}}()),rn=yield function(E){return Promise.all(E.map(function(){var m=(0,d.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return m.apply(this,arguments)}}()))}(Pt);R.ports[0].postMessage({status:"done",eventId:M,eventType:ce,response:rn})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function kl(E="",m=10){let v="";for(let I=0;I<m;I++)v+=Math.floor(10*Math.random());return E+v}class Iu{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,I=50){var R=this;return(0,d.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let ce,Be;return new Promise((ft,Pt)=>{const rn=kl("",20);M.port1.start();const Xn=setTimeout(()=>{Pt(new Error("unsupported_event"))},I);Be={messageChannel:M,onMessage(eo){const _s=eo;if(_s.data.eventId===rn)switch(_s.data.status){case"ack":clearTimeout(Xn),ce=setTimeout(()=>{Pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ce),ft(_s.data.response);break;default:clearTimeout(Xn),clearTimeout(ce),Pt(new Error("invalid_response"))}}},R.handlers.add(Be),M.port1.addEventListener("message",Be.onMessage),R.target.postMessage({eventType:m,eventId:rn,data:v},[M.port2])}).finally(()=>{Be&&R.removeMessageHandler(Be)})})()}}function pr(){return window}function wc(){return void 0!==pr().WorkerGlobalScope&&"function"==typeof pr().importScripts}function Nl(){return(Nl=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const Su="firebaseLocalStorageDb",Cu="firebaseLocalStorage",X_="fbase_key";class Ic{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Rt(E,m){return E.transaction([Cu],m?"readwrite":"readonly").objectStore(Cu)}function Hr(){const E=indexedDB.open(Su,1);return new Promise((m,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const I=E.result;try{I.createObjectStore(Cu,{keyPath:X_})}catch(R){v(R)}}),E.addEventListener("success",(0,d.Z)(function*(){const I=E.result;I.objectStoreNames.contains(Cu)?m(I):(I.close(),yield function(){const E=indexedDB.deleteDatabase(Su);return new Ic(E).toPromise()}(),m(yield Hr()))}))})}function Ds(E,m,v){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(E,m,v){const I=Rt(E,!0).put({[X_]:m,value:v});return new Ic(I).toPromise()})).apply(this,arguments)}function Du(){return(Du=(0,d.Z)(function*(E,m){const v=Rt(E,!1).get(m),I=yield new Ic(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Sc(E,m){const v=Rt(E,!0).delete(m);return new Ic(v).toPromise()}const es=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,d.Z)(function*(){return v.db||(v.db=yield Hr()),v.db})()}_withRetries(v){var I=this;return(0,d.Z)(function*(){let R=0;for(;;)try{const M=yield I._openDb();return yield v(M)}catch(M){if(R++>3)throw M;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,d.Z)(function*(){return wc()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,d.Z)(function*(){v.receiver=Bw._getInstance(wc()?self:null),v.receiver._subscribe("keyChanged",function(){var I=(0,d.Z)(function*(R,M){return{keyProcessed:(yield v._poll()).includes(M.key)}});return function(R,M){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,d.Z)(function*(R,M){return["keyChanged"]});return function(R,M){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,d.Z)(function*(){var I,R;if(v.activeServiceWorker=yield function(){return Nl.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Iu(v.activeServiceWorker);const M=yield v.sender._send("ping",{},800);!M||(null===(I=M[0])||void 0===I?void 0:I.fulfilled)&&(null===(R=M[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,d.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Hr();return yield Ds(v,bc,"1"),yield Sc(v,bc),!0}catch(v){}return!1})()}_withPendingWrite(v){var I=this;return(0,d.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var R=this;return(0,d.Z)(function*(){return R._withPendingWrite((0,d.Z)(function*(){return yield R._withRetries(M=>Ds(M,v,I)),R.localCache[v]=I,R.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,d.Z)(function*(){const R=yield I._withRetries(M=>function(E,m){return Du.apply(this,arguments)}(M,v));return I.localCache[v]=R,R})()}_remove(v){var I=this;return(0,d.Z)(function*(){return I._withPendingWrite((0,d.Z)(function*(){return yield I._withRetries(R=>Sc(R,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,d.Z)(function*(){const I=yield v._withRetries(ce=>{const Be=Rt(ce,!1).getAll();return new Ic(Be).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const R=[],M=new Set;for(const{fbase_key:ce,value:Be}of I)M.add(ce),JSON.stringify(v.localCache[ce])!==JSON.stringify(Be)&&(v.notifyListeners(ce,Be),R.push(ce));for(const ce of Object.keys(v.localCache))v.localCache[ce]&&!M.has(ce)&&(v.notifyListeners(ce,null),R.push(ce));return R})()}notifyListeners(v,I){this.localCache[v]=I;const R=this.listeners[v];if(R)for(const M of Array.from(R))M(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function pg(E,m){return pt(E,"POST","/v2/accounts/mfaSignIn:start",At(E,m))}function Au(){return(Au=(0,d.Z)(function*(E){return(yield pt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xh(E){return new Promise((m,v)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=m,I.onerror=R=>{const M=rt("internal-error");M.customData=R,v(M)},I.type="text/javascript",I.charset="UTF-8",function(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(I)})}function Ks(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Ml=1e12;class Fl{constructor(m){this.auth=m,this.counter=Ml,this._widgets=new Map}render(m,v){const I=this.counter;return this._widgets.set(I,new Ll(m,this.auth.name,v||{})),this.counter++,I}reset(m){var v;const I=m||Ml;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(m){var v;return(null===(v=this._widgets.get(m||Ml))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,d.Z)(function*(){var I;return null===(I=v._widgets.get(m||Ml))||void 0===I||I.execute(),""})()}}class Ll{constructor(m,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof m?document.getElementById(m):m;Te(R,"argument-error",{appName:v}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yo=Ks("rcb"),Qs=new Et(3e4,6e4);class Cc{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(m=pr().grecaptcha)||void 0===m?void 0:m.render)}load(m,v=""){return Te((E=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(pr().grecaptcha):new Promise((I,R)=>{const M=pr().setTimeout(()=>{R(rt(m,"network-request-failed"))},Qs.get());pr()[Yo]=()=>{pr().clearTimeout(M),delete pr()[Yo];const Be=pr().grecaptcha;if(!Be)return void R(rt(m,"internal-error"));const ft=Be.render;Be.render=(Pt,rn)=>{const Xn=ft(Pt,rn);return this.counter++,Xn},this.hostLanguage=v,I(Be)},xh(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:Yo,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(M),R(rt(m,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!!(null===(v=pr().grecaptcha)||void 0===v?void 0:v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rh{load(m){return(0,d.Z)(function*(){return new Fl(m)})()}clearedOneInstance(){}}const gg="recaptcha",Oh={theme:"light",type:"image"};class rv{constructor(m,v=Object.assign({},Oh),I){this.parameters=v,this.type=gg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(I),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof m?document.getElementById(m):m;Te(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rh:new Cc,this.validateStartingState()}verify(){var m=this;return(0,d.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),I=m.getAssertedRecaptcha();return I.getResponse(v)||new Promise(M=>{const ce=Be=>{!Be||(m.tokenChangeListeners.delete(ce),M(Be))};m.tokenChangeListeners.add(ce),m.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof m)m(v);else if("string"==typeof m){const I=pr()[m];"function"==typeof I&&I(v)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,d.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,d.Z)(function*(){Te(He()&&!wc(),m.auth,"internal-error"),yield function(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(E){return Au.apply(this,arguments)}(m.auth);Te(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Kn{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ra._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function iv(E,m,v){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,d.Z)(function*(E,m,v){const I=Tn(E),R=yield yg(I,m,(0,Z.m9)(v));return new Kn(R,M=>ne(I,M))})).apply(this,arguments)}function xA(E,m,v){return sv.apply(this,arguments)}function sv(){return(sv=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E);yield Ss(!1,I,"phone");const R=yield yg(I.auth,m,(0,Z.m9)(v));return new Kn(R,M=>We(I,M))})).apply(this,arguments)}function RA(E,m,v){return ov.apply(this,arguments)}function ov(){return(ov=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E),R=yield yg(I.auth,m,(0,Z.m9)(v));return new Kn(R,M=>wt(I,M))})).apply(this,arguments)}function yg(E,m,v){return av.apply(this,arguments)}function av(){return(av=(0,d.Z)(function*(E,m,v){var I;const R=yield v.verify();try{let M;if(Te("string"==typeof R,E,"argument-error"),Te(v.type===gg,E,"argument-error"),M="string"==typeof m?{phoneNumber:m}:m,"session"in M){const ce=M.session;if("phoneNumber"in M)return Te("enroll"===ce.type,E,"internal-error"),(yield K_(E,{idToken:ce.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Te("signin"===ce.type,E,"internal-error");const Be=(null===(I=M.multiFactorHint)||void 0===I?void 0:I.uid)||M.multiFactorUid;return Te(Be,E,"missing-multi-factor-info"),(yield pg(E,{mfaPendingCredential:ce.credential,mfaEnrollmentId:Be,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ce}=yield xi(E,{phoneNumber:M.phoneNumber,recaptchaToken:R});return ce}}finally{v._reset()}})).apply(this,arguments)}function qw(E,m){return _g.apply(this,arguments)}function _g(){return(_g=(0,d.Z)(function*(E,m){yield bu((0,Z.m9)(E),m)})).apply(this,arguments)}let uv=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=Tn(v)}verifyPhoneNumber(v,I){return yg(this.auth,v,(0,Z.m9)(I))}static credential(v,I){return Ra._fromVerification(v,I)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:R}=v;return I&&R?Ra._fromTokenResponse(I,R):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function ts(E,m){return m?se(m):(Te(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Ul extends xn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Cn(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Cn(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Cn(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Sr(E){return L(E.auth,new Ul(E),E.bypassAuthState)}function Vl(E){const{auth:m,user:v}=E;return Te(v,m,"internal-error"),Eu(v,new Ul(E),E.bypassAuthState)}function Ou(E){return vg.apply(this,arguments)}function vg(){return(vg=(0,d.Z)(function*(E){const{auth:m,user:v}=E;return Te(v,m,"internal-error"),bu(v,new Ul(E),E.bypassAuthState)})).apply(this,arguments)}class cv{constructor(m,v,I,R,M=!1){this.auth=m,this.resolver=I,this.user=R,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,d.Z)(function*(I,R){m.pendingPromise={resolve:I,reject:R};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(M){m.reject(M)}});return function(I,R){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,d.Z)(function*(){const{urlResponse:I,sessionId:R,postBody:M,tenantId:ce,error:Be,type:ft}=m;if(Be)return void v.reject(Be);const Pt={auth:v.auth,requestUri:I,sessionId:R,tenantId:ce||void 0,postBody:M||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(ft)(Pt))}catch(rn){v.reject(rn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Sr;case"linkViaPopup":case"linkViaRedirect":return Ou;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:Me(this.auth,"internal-error")}}resolve(m){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const As=new Et(2e3,1e4);function Ys(E,m,v){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,d.Z)(function*(E,m,v){const I=Tn(E);tt(E,m,ps);const R=ts(I,v);return new Jo(I,"signInViaPopup",m,R).executeNotNull()})).apply(this,arguments)}function ku(E,m,v){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E);tt(I.auth,m,ps);const R=ts(I.auth,v);return new Jo(I.auth,"reauthViaPopup",m,R,I).executeNotNull()})).apply(this,arguments)}function wn(E,m,v){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E);tt(I.auth,m,ps);const R=ts(I.auth,v);return new Jo(I.auth,"linkViaPopup",m,R,I).executeNotNull()})).apply(this,arguments)}let Jo=(()=>{class E extends cv{constructor(v,I,R,M,ce){super(v,I,M,ce),this.provider=R,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,d.Z)(function*(){const I=yield v.execute();return Te(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,d.Z)(function*(){Ze(1===v.filter.length,"Popup operations only handle one event");const I=kl();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(R=>{v.reject(R)}),v.resolver._isIframeWebStorageSupported(v.auth,R=>{R||v.reject(rt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,R;this.pollId=(null===(R=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,As.get())};v()}}return E.currentPopupAction=null,E})();const jl=new Map;class bg extends cv{constructor(m,v,I=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,d.Z)(function*(){let I=jl.get(v.auth._key());if(!I){try{const M=(yield function(E,m){return ns.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;I=()=>Promise.resolve(M)}catch(R){I=()=>Promise.reject(R)}jl.set(v.auth._key(),I)}return v.bypassAuthState||jl.set(v.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,I=this;return(0,d.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(I,m);if("unknown"!==m.type){if(m.eventId){const R=yield I.auth._redirectUserForId(m.eventId);if(R)return I.user=R,v().call(I,m);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ns(){return(ns=(0,d.Z)(function*(E,m){const v=Ig(m),I=kh(E);if(!(yield I._isAvailable()))return!1;const R="true"===(yield I._get(v));return yield I._remove(v),R})).apply(this,arguments)}function Xo(E,m){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,d.Z)(function*(E,m){return kh(E)._set(Ig(m),"true")})).apply(this,arguments)}function wg(){jl.clear()}function Tg(E,m){jl.set(E._key(),m)}function kh(E){return se(E._redirectPersistence)}function Ig(E){return hn("pendingRedirect",E.config.apiKey,E.name)}function Sg(E,m,v){return function(E,m,v){return Ba.apply(this,arguments)}(E,m,v)}function Ba(){return(Ba=(0,d.Z)(function*(E,m,v){const I=Tn(E);tt(E,m,ps);const R=ts(I,v);return yield Xo(R,I),R._openRedirect(I,m,"signInViaRedirect")})).apply(this,arguments)}function Nu(E,m,v){return function(E,m,v){return ql.apply(this,arguments)}(E,m,v)}function ql(){return(ql=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E);tt(I.auth,m,ps);const R=ts(I.auth,v);yield Xo(R,I.auth);const M=yield hv(I);return R._openRedirect(I.auth,m,"reauthViaRedirect",M)})).apply(this,arguments)}function Mu(E,m,v){return function(E,m,v){return xs.apply(this,arguments)}(E,m,v)}function xs(){return(xs=(0,d.Z)(function*(E,m,v){const I=(0,Z.m9)(E);tt(I.auth,m,ps);const R=ts(I.auth,v);yield Ss(!1,I,m.providerId),yield Xo(R,I.auth);const M=yield hv(I);return R._openRedirect(I.auth,m,"linkViaRedirect",M)})).apply(this,arguments)}function dv(E,m){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,d.Z)(function*(E,m){return yield Tn(E)._initializationPromise,Fu(E,m,!1)})).apply(this,arguments)}function Fu(E,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(E,m,v=!1){const I=Tn(E),R=ts(I,m),ce=yield new bg(I,R,v).execute();return ce&&!v&&(delete ce.user._redirectEventId,yield I._persistUserIfCurrent(ce.user),yield I._setRedirectUser(null,m)),ce})).apply(this,arguments)}function hv(E){return $l.apply(this,arguments)}function $l(){return($l=(0,d.Z)(function*(E){const m=kl(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class bo{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(m,I)&&(v=!0,this.sendToConsumer(m,I),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cr(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var I;if(m.error&&!Cr(m)){const R=(null===(I=m.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(rt(this.auth,R))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const I=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&I}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(m))}saveEventToCache(m){this.cachedEventUids.add(fv(m)),this.lastProcessedEventTime=Date.now()}}function fv(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function Cr({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===(null==m?void 0:m.code)}function pv(E){return ta.apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(E,m={}){return pt(E,"GET","/v1/projects",m)})).apply(this,arguments)}const Hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$w=/^https?/;function Mh(){return(Mh=(0,d.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield pv(E);for(const v of m)try{if(OA(v))return}catch(I){}Me(E,"unauthorized-domain")})).apply(this,arguments)}function OA(E){const m=be(),{protocol:v,hostname:I}=new URL(m);if(E.startsWith("chrome-extension://")){const ce=new URL(E);return""===ce.hostname&&""===I?"chrome-extension:"===v&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&ce.hostname===I}if(!$w.test(v))return!1;if(Hl.test(E))return I===E;const R=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(I)}const Ac=new Et(3e4,6e4);function Eo(){const E=pr().___jsl;if(null==E?void 0:E.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let Xs=null;function Dg(E){return Xs=Xs||function(E){return new Promise((m,v)=>{var I,R,M;function ce(){Eo(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Eo(),v(rt(E,"network-request-failed"))},timeout:Ac.get()})}if(null===(R=null===(I=pr().gapi)||void 0===I?void 0:I.iframes)||void 0===R?void 0:R.Iframe)m(gapi.iframes.getContext());else{if(!(null===(M=pr().gapi)||void 0===M?void 0:M.load)){const Be=Ks("iframefcb");return pr()[Be]=()=>{gapi.load?ce():v(rt(E,"network-request-failed"))},xh(`https://apis.google.com/js/api.js?onload=${Be}`).catch(ft=>v(ft))}ce()}}).catch(m=>{throw Xs=null,m})}(E),Xs}const mv=new Et(5e3,15e3),yv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_v=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hw(E){const m=E.config;Te(m.authDomain,E,"auth-domain-config-required");const v=m.emulator?gn(m,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,I={apiKey:m.apiKey,appName:E.name,v:F.SDK_VERSION},R=_v.get(E.config.apiHost);R&&(I.eid=R);const M=E._getFrameworks();return M.length&&(I.fw=M.join(",")),`${v}?${(0,Z.xO)(I).slice(1)}`}function Uu(){return Uu=(0,d.Z)(function*(E){const m=yield Dg(E),v=pr().gapi;return Te(v,E,"internal-error"),m.open({where:document.body,url:Hw(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yv,dontclear:!0},I=>new Promise(function(){var R=(0,d.Z)(function*(M,ce){yield I.restyle({setHideOnLeave:!1});const Be=rt(E,"network-request-failed"),ft=pr().setTimeout(()=>{ce(Be)},mv.get());function Pt(){pr().clearTimeout(ft),M(I)}I.ping(Pt).then(Pt,()=>{ce(Be)})});return function(M,ce){return R.apply(this,arguments)}}()))}),Uu.apply(this,arguments)}const xg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function na(E,m,v,I,R,M){Te(E.config.authDomain,E,"auth-domain-config-required"),Te(E.config.apiKey,E,"invalid-api-key");const ce={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:I,v:F.SDK_VERSION,eventId:R};if(m instanceof ps){m.setDefaultLanguage(E.languageCode),ce.providerId=m.providerId||"",(0,Z.xb)(m.getCustomParameters())||(ce.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ft,Pt]of Object.entries(M||{}))ce[ft]=Pt}if(m instanceof jo){const ft=m.getScopes().filter(Pt=>""!==Pt);ft.length>0&&(ce.scopes=ft.join(","))}E.tenantId&&(ce.tid=E.tenantId);const Be=ce;for(const ft of Object.keys(Be))void 0===Be[ft]&&delete Be[ft];return`${function({config:E}){return E.emulator?gn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,Z.xO)(Be).slice(1)}`}const Og="webStorageSupport",Zl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pl,this._completeRedirectFn=Fu,this._overrideRedirectResult=Tg}_openPopup(m,v,I,R){var M=this;return(0,d.Z)(function*(){var ce;Ze(null===(ce=M.eventManagers[m._key()])||void 0===ce?void 0:ce.manager,"_initialize() not called before _openPopup()");const Be=na(m,v,I,be(),R);return function(E,m,v,I=500,R=600){const M=Math.max((window.screen.availHeight-R)/2,0).toString(),ce=Math.max((window.screen.availWidth-I)/2,0).toString();let Be="";const ft=Object.assign(Object.assign({},xg),{width:I.toString(),height:R.toString(),top:M,left:ce}),Pt=(0,Z.z$)().toLowerCase();v&&(Be=ie(Pt)?"_blank":v),j(Pt)&&(m=m||"http://localhost",ft.scrollbars="yes");const rn=Object.entries(ft).reduce((eo,[_s,Vh])=>`${eo}${_s}=${Vh},`,"");if(function(E=(0,Z.z$)()){var m;return Ft(E)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Pt)&&"_self"!==Be)return function(E,m){const v=document.createElement("a");v.href=E,v.target=m;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(m||"",Be),new xc(null);const Xn=window.open(m||"",Be,rn);Te(Xn,E,"popup-blocked");try{Xn.focus()}catch(eo){}return new xc(Xn)}(m,Be,kl())})()}_openRedirect(m,v,I,R){var M=this;return(0,d.Z)(function*(){return yield M._originValidation(m),E=na(m,v,I,be(),R),pr().location.href=E,new Promise(()=>{});var E})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:R,promise:M}=this.eventManagers[v];return R?Promise.resolve(R):(Ze(M,"If manager is not set, promise should be"),M)}const I=this.initAndGetManager(m);return this.eventManagers[v]={promise:I},I.catch(()=>{delete this.eventManagers[v]}),I}initAndGetManager(m){var v=this;return(0,d.Z)(function*(){const I=yield function(E){return Uu.apply(this,arguments)}(m),R=new bo(m);return I.register("authEvent",M=>(Te(null==M?void 0:M.authEvent,m,"invalid-auth-event"),{status:R.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:R},v.iframes[m._key()]=I,R})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Og,{type:Og},R=>{var M;const ce=null===(M=null==R?void 0:R[0])||void 0===M?void 0:M[Og];void 0!==ce&&v(!!ce),Me(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return Mh.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return en()||V()||Ft()}};class Fi extends class{constructor(m){this.factorId=m}_process(m,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,I);case"signin":return this._finalizeSignIn(m,v.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Fi(m)}_finalizeEnroll(m,v,I){return function(E,m){return pt(E,"POST","/v2/accounts/mfaEnrollment:finalize",At(E,m))}(m,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(E,m){return pt(E,"POST","/v2/accounts/mfaSignIn:finalize",At(E,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pg=(()=>{class E{constructor(){}static assertion(v){return Fi._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var E,Uh="@firebase/auth";class bv{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,d.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(I=>{var R;m((null===(R=I)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}E="Browser",(0,F._registerComponent)(new _e.wA("auth",(m,{options:v})=>{const I=m.getProvider("app").getImmediate(),R=m.getProvider("heartbeat"),{apiKey:M,authDomain:ce}=I.options;return((Be,ft)=>{Te(M&&!M.includes(":"),"invalid-api-key",{appName:Be.name}),Te(!(null==ce?void 0:ce.includes(":")),"argument-error",{appName:Be.name});const Pt={apiKey:M,authDomain:ce,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fs(E)},rn=new hu(Be,ft,Pt);return function(E,m){const v=(null==m?void 0:m.persistence)||[],I=(Array.isArray(v)?v:[v]).map(se);(null==m?void 0:m.errorMap)&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(I,null==m?void 0:m.popupRedirectResolver)}(rn,v),rn})(I,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,I)=>{m.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new _e.wA("auth-internal",m=>{const v=Tn(m.getProvider("auth").getImmediate());return new bv(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Uh,"0.20.6",void 0),(0,F.registerVersion)(Uh,"0.20.6","esm2017")},3854:(ct,ke,k)=>{"use strict";k.d(ke,{BH:()=>te,LL:()=>be,ZR:()=>Ae,zI:()=>re,US:()=>_e,tV:()=>le,L:()=>we,$s:()=>Fn,r3:()=>At,Sg:()=>ge,ne:()=>Br,vZ:()=>oi,ZB:()=>H,pd:()=>Wn,m9:()=>qr,z$:()=>je,jU:()=>qe,ru:()=>ze,d:()=>rt,xb:()=>En,w1:()=>mt,hl:()=>$e,uI:()=>Ce,UG:()=>Ie,b$:()=>Me,G6:()=>Te,Mn:()=>tt,xO:()=>dr,zd:()=>jn,eu:()=>Ze});const ue=function(K){const X=[];let G=0;for(let J=0;J<K.length;J++){let W=K.charCodeAt(J);W<128?X[G++]=W:W<2048?(X[G++]=W>>6|192,X[G++]=63&W|128):55296==(64512&W)&&J+1<K.length&&56320==(64512&K.charCodeAt(J+1))?(W=65536+((1023&W)<<10)+(1023&K.charCodeAt(++J)),X[G++]=W>>18|240,X[G++]=W>>12&63|128,X[G++]=W>>6&63|128,X[G++]=63&W|128):(X[G++]=W>>12|224,X[G++]=W>>6&63|128,X[G++]=63&W|128)}return X},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,X){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let W=0;W<K.length;W+=3){const Fe=K[W],et=W+1<K.length,Ct=et?K[W+1]:0,on=W+2<K.length,hn=on?K[W+2]:0;let j=(15&Ct)<<2|hn>>6,V=63&hn;on||(V=64,et||(j=64)),J.push(G[Fe>>2],G[(3&Fe)<<4|Ct>>4],G[j],G[V])}return J.join("")},encodeString(K,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(K):this.encodeByteArray(ue(K),X)},decodeString(K,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(K):function(K){const X=[];let G=0,J=0;for(;G<K.length;){const W=K[G++];if(W<128)X[J++]=String.fromCharCode(W);else if(W>191&&W<224){const Fe=K[G++];X[J++]=String.fromCharCode((31&W)<<6|63&Fe)}else if(W>239&&W<365){const on=((7&W)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;X[J++]=String.fromCharCode(55296+(on>>10)),X[J++]=String.fromCharCode(56320+(1023&on))}else{const Fe=K[G++],et=K[G++];X[J++]=String.fromCharCode((15&W)<<12|(63&Fe)<<6|63&et)}}return X.join("")}(this.decodeStringToByteArray(K,X))},decodeStringToByteArray(K,X){this.init_();const G=X?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let W=0;W<K.length;){const Fe=G[K.charAt(W++)],Ct=W<K.length?G[K.charAt(W)]:0;++W;const hn=W<K.length?G[K.charAt(W)]:64;++W;const q=W<K.length?G[K.charAt(W)]:64;if(++W,null==Fe||null==Ct||null==hn||null==q)throw Error();J.push(Fe<<2|Ct>>4),64!==hn&&(J.push(Ct<<4&240|hn>>2),64!==q&&J.push(hn<<6&192|q))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},we=function(K){return function(K){const X=ue(K);return _e.encodeByteArray(X,!0)}(K).replace(/\./g,"")},le=function(K){try{return _e.decodeString(K,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function H(K,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return X}for(const G in X)!X.hasOwnProperty(G)||!oe(G)||(K[G]=H(K[G],X[G]));return K}function oe(K){return"__proto__"!==K}class te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,G)=>{this.resolve=X,this.reject=G})}wrapCallback(X){return(G,J)=>{G?this.reject(G):this.resolve(J),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(G):X(G,J))}}}function ge(K,X){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=X||"demo-project",W=K.iat||0,Fe=K.sub||K.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:W,exp:W+3600,auth_time:W,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},K);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(et)),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function qe(){return"object"==typeof self&&self.self===self}function ze(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){return je().indexOf("Electron/")>=0}function mt(){const K=je();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function tt(){return je().indexOf("MSAppHost/")>=0}function Te(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $e(){return"object"==typeof indexedDB}function Ze(){return new Promise((K,X)=>{try{let G=!0;const J="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(J);W.onsuccess=()=>{W.result.close(),G||self.indexedDB.deleteDatabase(J),K(!0)},W.onupgradeneeded=()=>{G=!1},W.onerror=()=>{var Fe;X((null===(Fe=W.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(G){X(G)}})}function re(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ae extends Error{constructor(X,G,J){super(G),this.code=X,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(X,G,J){this.service=X,this.serviceName=G,this.errors=J}create(X,...G){const J=G[0]||{},W=`${this.service}/${X}`,Fe=this.errors[X],et=Fe?function(K,X){return K.replace(bt,(G,J)=>{const W=X[J];return null!=W?String(W):`<${J}?>`})}(Fe,J):"Error";return new Ae(W,`${this.serviceName}: ${et} (${W}).`,J)}}const bt=/\{\$([^}]+)}/g;function At(K,X){return Object.prototype.hasOwnProperty.call(K,X)}function En(K){for(const X in K)if(Object.prototype.hasOwnProperty.call(K,X))return!1;return!0}function oi(K,X){if(K===X)return!0;const G=Object.keys(K),J=Object.keys(X);for(const W of G){if(!J.includes(W))return!1;const Fe=K[W],et=X[W];if(Kt(Fe)&&Kt(et)){if(!oi(Fe,et))return!1}else if(Fe!==et)return!1}for(const W of J)if(!G.includes(W))return!1;return!0}function Kt(K){return null!==K&&"object"==typeof K}function dr(K){const X=[];for(const[G,J]of Object.entries(K))Array.isArray(J)?J.forEach(W=>{X.push(encodeURIComponent(G)+"="+encodeURIComponent(W))}):X.push(encodeURIComponent(G)+"="+encodeURIComponent(J));return X.length?"&"+X.join("&"):""}function jn(K){const X={};return K.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[W,Fe]=J.split("=");X[decodeURIComponent(W)]=decodeURIComponent(Fe)}}),X}function Wn(K){const X=K.indexOf("?");if(!X)return"";const G=K.indexOf("#",X);return K.substring(X,G>0?G:void 0)}function Br(K,X){const G=new hr(K,X);return G.subscribe.bind(G)}class hr{constructor(X,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{X(this)}).catch(J=>{this.error(J)})}next(X){this.forEachObserver(G=>{G.next(X)})}error(X){this.forEachObserver(G=>{G.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,G,J){let W;if(void 0===X&&void 0===G&&void 0===J)throw new Error("Missing Observer.");W=function(K,X){if("object"!=typeof K||null===K)return!1;for(const G of["next","error","complete"])if(G in K&&"function"==typeof K[G])return!0;return!1}(X)?X:{next:X,error:G,complete:J},void 0===W.next&&(W.next=$n),void 0===W.error&&(W.error=$n),void 0===W.complete&&(W.complete=$n);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(et){}}),this.observers.push(W),Fe}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,X)}sendOne(X,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{G(this.observers[X])}catch(J){"undefined"!=typeof console&&console.error&&console.error(J)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $n(){}function Fn(K,X=1e3,G=2){const J=X*Math.pow(G,K),W=Math.round(.5*J*(Math.random()-.5)*2);return Math.min(144e5,J+W)}function qr(K){return K&&K._delegate?K._delegate:K}},5106:(ct,ke,k)=>{"use strict";k.d(ke,{Gb:()=>dn,Kz:()=>Fe,Iv:()=>X});var d=k(8239),Z=k(8026),F=k(5422),ue=k(3854),De=k(3910);k(3328);const Pe="analytics",we="firebase_id",H="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oe="https://www.googletagmanager.com/gtag/js",te=new F.Yd("@firebase/analytics");function ge(he){return Promise.all(he.map(q=>q.catch(j=>j)))}function je(he,q){const j=document.createElement("script");j.src=`${oe}?l=${he}&id=${q}`,j.async=!0,document.head.appendChild(j)}function Ie(he,q,j,V,ie,Le){return qe.apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(he,q,j,V,ie,Le){const it=V[ie];try{if(it)yield q[it];else{const St=(yield ge(j)).find(Ft=>Ft.measurementId===ie);St&&(yield q[St.appId])}}catch(dt){te.error(dt)}he("config",ie,Le)})).apply(this,arguments)}function ze(he,q,j,V,ie){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(he,q,j,V,ie){try{let Le=[];if(ie&&ie.send_to){let it=ie.send_to;Array.isArray(it)||(it=[it]);const dt=yield ge(j);for(const St of it){const Ft=dt.find(Hn=>Hn.measurementId===St),fn=Ft&&q[Ft.appId];if(!fn){Le=[];break}Le.push(fn)}}0===Le.length&&(Le=Object.values(q)),yield Promise.all(Le),he("event",V,ie||{})}catch(Le){te.error(Le)}})).apply(this,arguments)}function tt(){const he=window.document.getElementsByTagName("script");for(const q of Object.values(he))if(q.src&&q.src.includes(oe))return q;return null}const Te=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),se=new class{constructor(q={},j=1e3){this.throttleMetadata=q,this.intervalMillis=j}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,j){this.throttleMetadata[q]=j}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function me(he){return new Headers({Accept:"application/json","x-goog-api-key":he})}function Ae(he){return be.apply(this,arguments)}function be(){return(be=(0,d.Z)(function*(he){var q;const{appId:j,apiKey:V}=he,ie={method:"GET",headers:me(V)},Le=H.replace("{app-id}",j),it=yield fetch(Le,ie);if(200!==it.status&&304!==it.status){let dt="";try{const St=yield it.json();(null===(q=St.error)||void 0===q?void 0:q.message)&&(dt=St.error.message)}catch(St){}throw Te.create("config-fetch-failed",{httpStatus:it.status,responseMessage:dt})}return it.json()})).apply(this,arguments)}function He(he){return bt.apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(he,q=se,j){const{appId:V,apiKey:ie,measurementId:Le}=he.options;if(!V)throw Te.create("no-app-id");if(!ie){if(Le)return{measurementId:Le,appId:V};throw Te.create("no-api-key")}const it=q.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new sr;return setTimeout((0,d.Z)(function*(){dt.abort()}),void 0!==j?j:6e4),an({appId:V,apiKey:ie,measurementId:Le},it,dt,q)})).apply(this,arguments)}function an(he,q,j){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(he,{throttleEndTimeMillis:q,backoffCount:j},V,ie=se){var Le,it;const{appId:dt,measurementId:St}=he;try{yield Et(V,q)}catch(Ft){if(St)return te.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${null===(Le=Ft)||void 0===Le?void 0:Le.message}]`),{appId:dt,measurementId:St};throw Ft}try{const Ft=yield Ae(he);return ie.deleteThrottleMetadata(dt),Ft}catch(Ft){const fn=Ft;if(!gn(fn)){if(ie.deleteThrottleMetadata(dt),St)return te.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${null==fn?void 0:fn.message}]`),{appId:dt,measurementId:St};throw Ft}const Hn=503===Number(null===(it=null==fn?void 0:fn.customData)||void 0===it?void 0:it.httpStatus)?(0,ue.$s)(j,ie.intervalMillis,30):(0,ue.$s)(j,ie.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+Hn,backoffCount:j+1};return ie.setThrottleMetadata(dt,Ht),te.debug(`Calling attemptFetch again in ${Hn} millis`),an(he,Ht,V,ie)}})).apply(this,arguments)}function Et(he,q){return new Promise((j,V)=>{const ie=Math.max(q-Date.now(),0),Le=setTimeout(j,ie);he.addEventListener(()=>{clearTimeout(Le),V(Te.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function gn(he){if(!(he instanceof ue.ZR&&he.customData))return!1;const q=Number(he.customData.httpStatus);return 429===q||500===q||503===q||504===q}class sr{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let Dn,Wn;function At(){return(At=(0,d.Z)(function*(he,q,j,V,ie){if(ie&&ie.global)he("event",j,V);else{const Le=yield q;he("event",j,Object.assign(Object.assign({},V),{send_to:Le}))}})).apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(he,q,j,V){if(V&&V.global)return he("set",{user_id:j}),Promise.resolve();he("config",yield q,{update:!0,user_id:j})})).apply(this,arguments)}function jr(he){Wn=he}function Br(he){Dn=he}function hr(){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(){var he;if(!(0,ue.hl)())return te.warn(Te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(q){return te.warn(Te.create("indexeddb-unavailable",{errorInfo:null===(he=q)||void 0===he?void 0:he.toString()}).message),!1}return!0})).apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(he,q,j,V,ie,Le,it){var dt;const St=He(he);St.then(en=>{j[en.measurementId]=en.appId,he.options.measurementId&&en.measurementId!==he.options.measurementId&&te.warn(`The measurement ID in the local Firebase config (${he.options.measurementId}) does not match the measurement ID fetched from the server (${en.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(en=>te.error(en)),q.push(St);const Ft=hr().then(en=>{if(en)return V.getId()}),[fn,Hn]=yield Promise.all([St,Ft]);tt()||je(Le,fn.measurementId),Wn&&(ie("consent","default",Wn),jr(void 0)),ie("js",new Date);const Ht=null!==(dt=null==it?void 0:it.config)&&void 0!==dt?dt:{};return Ht.origin="firebase",Ht.update=!0,null!=Hn&&(Ht[we]=Hn),ie("config",fn.measurementId,Ht),Dn&&(ie("set",Dn),Br(void 0)),fn.measurementId})).apply(this,arguments)}class br{constructor(q){this.app=q}_delete(){return delete lt[this.app.options.appId],Promise.resolve()}}let lt={},ar=[];const er={};let _t,nt,Bn="dataLayer",un=!1;function yn(he,q,j){!function(){const he=[];if((0,ue.ru)()&&he.push("This is a browser extension environment."),(0,ue.zI)()||he.push("Cookies are not available."),he.length>0){const q=he.map((V,ie)=>`(${ie+1}) ${V}`).join(" "),j=Te.create("invalid-analytics-context",{errorInfo:q});te.warn(j.message)}}();const V=he.options.appId;if(!V)throw Te.create("no-app-id");if(!he.options.apiKey){if(!he.options.measurementId)throw Te.create("no-api-key");te.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${he.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lt[V])throw Te.create("already-exists",{id:V});if(!un){!function(he){let q=[];Array.isArray(window[he])?q=window[he]:window[he]=q}(Bn);const{wrappedGtag:Le,gtagCore:it}=function(he,q,j,V,ie){let Le=function(...it){window[V].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(Le=window[ie]),window[ie]=function(he,q,j,V){function Le(){return(Le=(0,d.Z)(function*(it,dt,St){try{"event"===it?yield ze(he,q,j,dt,St):"config"===it?yield Ie(he,q,j,V,dt,St):"consent"===it?he("consent","update",St):he("set",dt)}catch(Ft){te.error(Ft)}})).apply(this,arguments)}return function(it,dt,St){return Le.apply(this,arguments)}}(Le,he,q,j),{gtagCore:Le,wrappedGtag:window[ie]}}(lt,ar,er,Bn,"gtag");nt=Le,_t=it,un=!0}return lt[V]=function(he,q,j,V,ie,Le,it){return $n.apply(this,arguments)}(he,ar,er,q,_t,Bn,j),new br(he)}function dn(){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(he){return!1}})).apply(this,arguments)}function X(he,q,j){he=(0,ue.m9)(he),function(he,q,j,V){return oi.apply(this,arguments)}(nt,lt[he.app.options.appId],q,j).catch(V=>te.error(V))}function Fe(he,q,j,V){he=(0,ue.m9)(he),function(he,q,j,V,ie){return At.apply(this,arguments)}(nt,lt[he.app.options.appId],q,j,V).catch(ie=>te.error(ie))}const Ct="@firebase/analytics";(0,Z._registerComponent)(new De.wA(Pe,(q,{options:j})=>yn(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,Z._registerComponent)(new De.wA("analytics-internal",function(q){try{const j=q.getProvider(Pe).getImmediate();return{logEvent:(V,ie,Le)=>Fe(j,V,ie,Le)}}catch(j){throw Te.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,Z.registerVersion)(Ct,"0.8.0"),(0,Z.registerVersion)(Ct,"0.8.0","esm2017")},2329:(ct,ke,k)=>{"use strict";k.d(ke,{Mq:()=>d.getApp,C6:()=>d.getApps,KN:()=>d.registerVersion});var d=k(8026);(0,d.registerVersion)("firebase","9.9.4","app")},7841:(ct,ke,k)=>{"use strict";k.d(ke,{Z:()=>d.Z});var d=k(3394);d.Z.registerVersion("firebase","9.9.4","app-compat")},4828:(ct,ke,k)=>{"use strict";k.r(ke);var d=k(8239),Z=k(3394),F=k(708),ue=k(3854),Pe=(k(8026),k(5422),k(3910));function we(){return window}function H(){return(H=(0,d.Z)(function*(q,j,V){var ie;const{BuildInfo:Le}=we();(0,F.aq)(j.sessionId,"AuthEvent did not contain a session ID");const it=yield qe(j.sessionId),dt={};return(0,F.ar)()?dt.ibi=Le.packageName:(0,F.as)()?dt.apn=Le.packageName:(0,F.at)(q,"operation-not-supported-in-this-environment"),Le.displayName&&(dt.appDisplayName=Le.displayName),dt.sessionId=it,(0,F.au)(q,V,j.type,void 0,null!==(ie=j.eventId)&&void 0!==ie?ie:void 0,dt)})).apply(this,arguments)}function te(){return(te=(0,d.Z)(function*(q){const{BuildInfo:j}=we(),V={};(0,F.ar)()?V.iosBundleId=j.packageName:(0,F.as)()?V.androidPackageName=j.packageName:(0,F.at)(q,"operation-not-supported-in-this-environment"),yield(0,F.av)(q,V)})).apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(q,j,V){const{cordova:ie}=we();let Le=()=>{};try{yield new Promise((it,dt)=>{let St=null;function Ft(){var Ht;it();const en=null===(Ht=ie.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof en&&en(),"function"==typeof(null==V?void 0:V.close)&&V.close()}function fn(){St||(St=window.setTimeout(()=>{dt((0,F.aw)(q,"redirect-cancelled-by-user"))},2e3))}function Hn(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}j.addPassiveListener(Ft),document.addEventListener("resume",fn,!1),(0,F.as)()&&document.addEventListener("visibilitychange",Hn,!1),Le=()=>{j.removePassiveListener(Ft),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",Hn,!1),St&&window.clearTimeout(St)}})}finally{Le()}})).apply(this,arguments)}function qe(q){return ze.apply(this,arguments)}function ze(){return(ze=(0,d.Z)(function*(q){const j=Me(q),V=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(V)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Me(q){if((0,F.aq)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(q);const j=new ArrayBuffer(q.length),V=new Uint8Array(j);for(let ie=0;ie<q.length;ie++)V[ie]=q.charCodeAt(ie);return V}class mt extends F.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(j)),super.onEvent(j)}initialized(){var j=this;return(0,d.Z)(function*(){yield j.initPromise})()}}function Te(q){return $e.apply(this,arguments)}function $e(){return($e=(0,d.Z)(function*(q){const j=yield se()._get(me(q));return j&&(yield se()._remove(me(q))),j})).apply(this,arguments)}function re(){const q=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const ie=Math.floor(Math.random()*j.length);q.push(j.charAt(ie))}return q.join("")}function se(){return(0,F.ay)(F.b)}function me(q){return(0,F.az)("authEvent",q.config.apiKey,q.name)}function He(q){if(!(null==q?void 0:q.includes("?")))return{};const[j,...V]=q.split("?");return(0,ue.zd)(V.join("?"))}function Et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}function At(){var q;return(null===(q=null==self?void 0:self.location)||void 0===q?void 0:q.protocol)||null}function En(q=(0,ue.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function dr(){try{const q=self.localStorage,j=F.aI();if(q)return q.setItem(j,"1"),q.removeItem(j),!function(q=(0,ue.z$)()){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(q=(0,ue.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,ue.hl)()}catch(q){return jn()&&(0,ue.hl)()}return!1}function jn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return("http:"===At()||"https:"===At()||(0,ue.ru)()||En())&&!((0,ue.b$)()||(0,ue.UG)())&&dr()&&!jn()}function jr(){return En()&&"undefined"!=typeof document}function hr(){return(hr=(0,d.Z)(function*(){return!!jr()&&new Promise(q=>{const j=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),q(!0)})})})).apply(this,arguments)}const An={LOCAL:"local",NONE:"none",SESSION:"session"},$n=F.ax,br="persistence";function ar(q){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(q){yield q._initializationPromise;const j=mn(),V=F.az(br,q.config.apiKey,q.name);j&&j.setItem(V,q._getPersistence())})).apply(this,arguments)}function mn(){var q;try{return(null===(q="undefined"!=typeof window?window:null)||void 0===q?void 0:q.sessionStorage)||null}catch(j){return null}}const _t=F.ax;class nt{constructor(){this.browserResolver=F.ay(F.k),this.cordovaResolver=F.ay(class{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(j){var V=this;return(0,d.Z)(function*(){const ie=j._key();let Le=V.eventManagers.get(ie);return Le||(Le=new mt(j),V.eventManagers.set(ie,Le),V.attachCallbackListeners(j,Le)),Le})()}_openPopup(j){(0,F.at)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,V,ie,Le){var it=this;return(0,d.Z)(function*(){!function(q){var j,V,ie,Le,it,dt,St,Ft,fn,Hn;const Ht=we();(0,F.ax)("function"==typeof(null===(j=null==Ht?void 0:Ht.universalLinks)||void 0===j?void 0:j.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(void 0!==(null===(V=null==Ht?void 0:Ht.BuildInfo)||void 0===V?void 0:V.packageName),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(it=null===(Le=null===(ie=null==Ht?void 0:Ht.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===it?void 0:it.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Ft=null===(St=null===(dt=null==Ht?void 0:Ht.cordova)||void 0===dt?void 0:dt.plugins)||void 0===St?void 0:St.browsertab)||void 0===Ft?void 0:Ft.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Hn=null===(fn=null==Ht?void 0:Ht.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===Hn?void 0:Hn.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const dt=yield it._initialize(j);yield dt.initialized(),dt.resetRedirect(),(0,F.aD)(),yield it._originValidation(j);const St=function(q,j,V=null){return{type:j,eventId:V,urlResponse:null,sessionId:re(),postBody:null,tenantId:q.tenantId,error:(0,F.aw)(q,"no-auth-event")}}(j,ie,Le);yield function(q,j){return se()._set(me(q),j)}(j,St);const Ft=yield function(q,j,V){return H.apply(this,arguments)}(j,St,V),fn=yield function(q){const{cordova:j}=we();return new Promise(V=>{j.plugins.browsertab.isAvailable(ie=>{let Le=null;ie?j.plugins.browsertab.openUrl(q):Le=j.InAppBrowser.open(q,(0,F.ap)()?"_blank":"_system","location=yes"),V(Le)})})}(Ft);return function(q,j,V){return Ce.apply(this,arguments)}(j,dt,fn)})()}_isIframeWebStorageSupported(j,V){throw new Error("Method not implemented.")}_originValidation(j){const V=j._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function(q){return te.apply(this,arguments)}(j)),this.originValidationPromises[V]}attachCallbackListeners(j,V){const{universalLinks:ie,handleOpenURL:Le,BuildInfo:it}=we(),dt=setTimeout((0,d.Z)(function*(){yield Te(j),V.onEvent(Et())}),500),St=function(){var Hn=(0,d.Z)(function*(Ht){clearTimeout(dt);const en=yield Te(j);let Yr=null;en&&(null==Ht?void 0:Ht.url)&&(Yr=function(q,j){var V,ie;const Le=function(q){const j=He(q),V=j.link?decodeURIComponent(j.link):void 0,ie=He(V).link,Le=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return He(Le).link||Le||ie||V||q}(j);if(Le.includes("/__/auth/callback")){const it=He(Le),dt=it.firebaseError?function(q){try{return JSON.parse(q)}catch(j){return null}}(decodeURIComponent(it.firebaseError)):null,St=null===(ie=null===(V=null==dt?void 0:dt.code)||void 0===V?void 0:V.split("auth/"))||void 0===ie?void 0:ie[1],Ft=St?(0,F.aw)(St):null;return Ft?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:Le,postBody:null}}return null}(en,Ht.url)),V.onEvent(Yr||Et())});return function(en){return Hn.apply(this,arguments)}}();void 0!==ie&&"function"==typeof ie.subscribe&&ie.subscribe(null,St);const Ft=Le,fn=`${it.packageName.toLowerCase()}://`;we().handleOpenURL=function(){var Hn=(0,d.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(fn)&&St({url:Ht}),"function"==typeof Ft)try{Ft(Ht)}catch(en){console.error(en)}});return function(Ht){return Hn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(j){var V=this;return(0,d.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,V,ie,Le){var it=this;return(0,d.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openPopup(j,V,ie,Le)})()}_openRedirect(j,V,ie,Le){var it=this;return(0,d.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openRedirect(j,V,ie,Le)})()}_isIframeWebStorageSupported(j,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,V)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return jr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,d.Z)(function*(){if(j.underlyingResolver)return;const V=yield function(){return hr.apply(this,arguments)}();j.underlyingResolver=V?j.cordovaResolver:j.browserResolver})()}}function un(q){return q.unwrap()}function ur(q){return Fn(q)}function Fn(q){const{_tokenResponse:j}=q instanceof ue.ZR?q.customData:q;if(!j)return null;if(!(q instanceof ue.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return F.P.credentialFromResult(q);const V=j.providerId;if(!V||V===F.o.PASSWORD)return null;let ie;switch(V){case F.o.GOOGLE:ie=F.Q;break;case F.o.FACEBOOK:ie=F.N;break;case F.o.GITHUB:ie=F.T;break;case F.o.TWITTER:ie=F.W;break;default:const{oauthIdToken:Le,oauthAccessToken:it,oauthTokenSecret:dt,pendingToken:St,nonce:Ft}=j;return it||dt||Le||St?St?V.startsWith("saml.")?F.aL._create(V,St):F.J._fromParams({providerId:V,signInMethod:V,pendingToken:St,idToken:Le,accessToken:it}):new F.U(V).credential({idToken:Le,accessToken:it,rawNonce:Ft}):null}return q instanceof ue.ZR?ie.credentialFromError(q):ie.credentialFromResult(q)}function kn(q,j){return j.catch(V=>{throw V instanceof ue.ZR&&function(q,j){var V,ie;const Le=null===(V=j.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ie=j)||void 0===ie?void 0:ie.code))j.resolver=new K(q,F.an(q,j));else if(Le){const it=Fn(j),dt=j;it&&(dt.credential=it,dt.tenantId=Le.tenantId||void 0,dt.email=Le.email||void 0,dt.phoneNumber=Le.phoneNumber||void 0)}}(q,V),V}).then(V=>{const Le=V.user;return{operationType:V.operationType,credential:ur(V),additionalUserInfo:F.al(V),user:X.getOrCreate(Le)}})}function dn(q,j){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(q,j){const V=yield j;return{verificationId:V.verificationId,confirm:ie=>kn(q,V.confirm(ie))}})).apply(this,arguments)}class K{constructor(j,V){this.resolver=V,this.auth=j.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return kn(un(this.auth),this.resolver.resolveSignIn(j))}}class X{constructor(j){this._delegate=j,this.multiFactor=F.ao(j)}static getOrCreate(j){return X.USER_MAP.has(j)||X.USER_MAP.set(j,new X(j)),X.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var V=this;return(0,d.Z)(function*(){return kn(V.auth,F.Z(V._delegate,j))})()}linkWithPhoneNumber(j,V){var ie=this;return(0,d.Z)(function*(){return dn(ie.auth,F.l(ie._delegate,j,V))})()}linkWithPopup(j){var V=this;return(0,d.Z)(function*(){return kn(V.auth,F.d(V._delegate,j,nt))})()}linkWithRedirect(j){var V=this;return(0,d.Z)(function*(){return yield ar(F.aE(V.auth)),F.g(V._delegate,j,nt)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var V=this;return(0,d.Z)(function*(){return kn(V.auth,F._(V._delegate,j))})()}reauthenticateWithPhoneNumber(j,V){return dn(this.auth,F.r(this._delegate,j,V))}reauthenticateWithPopup(j){return kn(this.auth,F.e(this._delegate,j,nt))}reauthenticateWithRedirect(j){var V=this;return(0,d.Z)(function*(){return yield ar(F.aE(V.auth)),F.h(V._delegate,j,nt)})()}sendEmailVerification(j){return F.ab(this._delegate,j)}unlink(j){var V=this;return(0,d.Z)(function*(){return yield F.ak(V._delegate,j),V})()}updateEmail(j){return F.ag(this._delegate,j)}updatePassword(j){return F.ah(this._delegate,j)}updatePhoneNumber(j){return F.u(this._delegate,j)}updateProfile(j){return F.af(this._delegate,j)}verifyBeforeUpdateEmail(j,V){return F.ac(this._delegate,j,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}X.USER_MAP=new WeakMap;const G=F.ax;let J=(()=>{class q{constructor(V,ie){if(this.app=V,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=V.options;G(Le,"invalid-api-key",{appName:V.name}),G(Le,"invalid-api-key",{appName:V.name});const it="undefined"!=typeof window?nt:void 0;this._delegate=ie.initialize({options:{persistence:Fe(Le,V.name),popupRedirectResolver:it}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?X.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,ie){F.G(this._delegate,V,ie)}applyActionCode(V){return F.a2(this._delegate,V)}checkActionCode(V){return F.a3(this._delegate,V)}confirmPasswordReset(V,ie){return F.a1(this._delegate,V,ie)}createUserWithEmailAndPassword(V,ie){var Le=this;return(0,d.Z)(function*(){return kn(Le._delegate,F.a5(Le._delegate,V,ie))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return F.aa(this._delegate,V)}isSignInWithEmailLink(V){return F.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,d.Z)(function*(){G(Wn(),V._delegate,"operation-not-supported-in-this-environment");const ie=yield F.j(V._delegate,nt);return ie?kn(V._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function(q,j){(0,F.aE)(q)._logFramework(j)}(this._delegate,V)}onAuthStateChanged(V,ie,Le){const{next:it,error:dt,complete:St}=W(V,ie,Le);return this._delegate.onAuthStateChanged(it,dt,St)}onIdTokenChanged(V,ie,Le){const{next:it,error:dt,complete:St}=W(V,ie,Le);return this._delegate.onIdTokenChanged(it,dt,St)}sendSignInLinkToEmail(V,ie){return F.a7(this._delegate,V,ie)}sendPasswordResetEmail(V,ie){return F.a0(this._delegate,V,ie||void 0)}setPersistence(V){var ie=this;return(0,d.Z)(function*(){let Le;switch(function(q,j){$n(Object.values(An).includes(j),q,"invalid-persistence-type"),(0,ue.b$)()?$n(j!==An.SESSION,q,"unsupported-persistence-type"):(0,ue.UG)()?$n(j===An.NONE,q,"unsupported-persistence-type"):jn()?$n(j===An.NONE||j===An.LOCAL&&(0,ue.hl)(),q,"unsupported-persistence-type"):$n(j===An.NONE||dr(),q,"unsupported-persistence-type")}(ie._delegate,V),V){case An.SESSION:Le=F.a;break;case An.LOCAL:Le=(yield F.ay(F.i)._isAvailable())?F.i:F.b;break;case An.NONE:Le=F.L;break;default:return F.at("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return kn(this._delegate,F.X(this._delegate))}signInWithCredential(V){return kn(this._delegate,F.Y(this._delegate,V))}signInWithCustomToken(V){return kn(this._delegate,F.$(this._delegate,V))}signInWithEmailAndPassword(V,ie){return kn(this._delegate,F.a6(this._delegate,V,ie))}signInWithEmailLink(V,ie){return kn(this._delegate,F.a9(this._delegate,V,ie))}signInWithPhoneNumber(V,ie){return dn(this._delegate,F.s(this._delegate,V,ie))}signInWithPopup(V){var ie=this;return(0,d.Z)(function*(){return G(Wn(),ie._delegate,"operation-not-supported-in-this-environment"),kn(ie._delegate,F.c(ie._delegate,V,nt))})()}signInWithRedirect(V){var ie=this;return(0,d.Z)(function*(){return G(Wn(),ie._delegate,"operation-not-supported-in-this-environment"),yield ar(ie._delegate),F.f(ie._delegate,V,nt)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return F.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=An,q})();function W(q,j,V){let ie=q;"function"!=typeof q&&({next:ie,error:j,complete:V}=q);const Le=ie;return{next:dt=>Le(dt&&X.getOrCreate(dt)),error:j,complete:V}}function Fe(q,j){const V=function(q,j){const V=mn();if(!V)return[];const ie=F.az(br,q,j);switch(V.getItem(ie)){case An.NONE:return[F.L];case An.LOCAL:return[F.i,F.a];case An.SESSION:return[F.a];default:return[]}}(q,j);if("undefined"!=typeof self&&!V.includes(F.i)&&V.push(F.i),"undefined"!=typeof window)for(const ie of[F.b,F.a])V.includes(ie)||V.push(ie);return V.includes(F.L)||V.push(F.L),V}class et{constructor(){this.providerId="phone",this._delegate=new F.P(un(Z.Z.auth()))}static credential(j,V){return F.P.credential(j,V)}verifyPhoneNumber(j,V){return this._delegate.verifyPhoneNumber(j,V)}unwrap(){return this._delegate}}et.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,et.PROVIDER_ID=F.P.PROVIDER_ID;const Ct=F.ax;var q;(q=Z.Z).INTERNAL.registerComponent(new Pe.wA("auth-compat",j=>{const V=j.getProvider("app-compat").getImmediate(),ie=j.getProvider("auth");return new J(V,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:et,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:class{constructor(j,V,ie=Z.Z.app()){var Le;Ct(null===(Le=ie.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new F.R(j,V,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:F.W,Auth:J,AuthCredential:F.H,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.19")},7574:(ct,ke,k)=>{"use strict";k.d(ke,{y:()=>H});var d=k(7393),F=k(9181),ue=k(6490),_e=k(6554),Pe=k(4487);var B=k(2494);let H=(()=>{class te{constructor(je){this._isScalar=!1,je&&(this._subscribe=je)}lift(je){const Ce=new te;return Ce.source=this,Ce.operator=je,Ce}subscribe(je,Ce,Ie){const{operator:qe}=this,ze=function(te,ge,je){if(te){if(te instanceof d.L)return te;if(te[F.b])return te[F.b]()}return te||ge||je?new d.L(te,ge,je):new d.L(ue.c)}(je,Ce,Ie);if(ze.add(qe?qe.call(ze,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!ze.syncErrorThrowable?this._subscribe(ze):this._trySubscribe(ze)),B.v.useDeprecatedSynchronousErrorHandling&&ze.syncErrorThrowable&&(ze.syncErrorThrowable=!1,ze.syncErrorThrown))throw ze.syncErrorValue;return ze}_trySubscribe(je){try{return this._subscribe(je)}catch(Ce){B.v.useDeprecatedSynchronousErrorHandling&&(je.syncErrorThrown=!0,je.syncErrorValue=Ce),function(te){for(;te;){const{closed:ge,destination:je,isStopped:Ce}=te;if(ge||Ce)return!1;te=je&&je instanceof d.L?je:null}return!0}(je)?je.error(Ce):console.warn(Ce)}}forEach(je,Ce){return new(Ce=oe(Ce))((Ie,qe)=>{let ze;ze=this.subscribe(Me=>{try{je(Me)}catch(rt){qe(rt),ze&&ze.unsubscribe()}},qe,Ie)})}_subscribe(je){const{source:Ce}=this;return Ce&&Ce.subscribe(je)}[_e.L](){return this}pipe(...je){return 0===je.length?this:function(te){return 0===te.length?Pe.y:1===te.length?te[0]:function(je){return te.reduce((Ce,Ie)=>Ie(Ce),je)}}(je)(this)}toPromise(je){return new(je=oe(je))((Ce,Ie)=>{let qe;this.subscribe(ze=>qe=ze,ze=>Ie(ze),()=>Ce(qe))})}}return te.create=ge=>new te(ge),te})();function oe(te){if(te||(te=B.v.Promise||Promise),!te)throw new Error("no Promise impl found");return te}},6490:(ct,ke,k)=>{"use strict";k.d(ke,{c:()=>F});var d=k(2494),Z=k(4449);const F={closed:!0,next(ue){},error(ue){if(d.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,Z.z)(ue)},complete(){}}},9765:(ct,ke,k)=>{"use strict";k.d(ke,{Yc:()=>Pe,xQ:()=>we});var d=k(7574),Z=k(7393),F=k(5319),ue=k(7971),De=k(8858),_e=k(9181);class Pe extends Z.L{constructor(H){super(H),this.destination=H}}let we=(()=>{class B extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[_e.b](){return new Pe(this)}lift(oe){const te=new le(this,this);return te.operator=oe,te}next(oe){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:te}=this,ge=te.length,je=te.slice();for(let Ce=0;Ce<ge;Ce++)je[Ce].next(oe)}}error(oe){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=oe,this.isStopped=!0;const{observers:te}=this,ge=te.length,je=te.slice();for(let Ce=0;Ce<ge;Ce++)je[Ce].error(oe);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:oe}=this,te=oe.length,ge=oe.slice();for(let je=0;je<te;je++)ge[je].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(oe){if(this.closed)throw new ue.N;return super._trySubscribe(oe)}_subscribe(oe){if(this.closed)throw new ue.N;return this.hasError?(oe.error(this.thrownError),F.w.EMPTY):this.isStopped?(oe.complete(),F.w.EMPTY):(this.observers.push(oe),new De.W(this,oe))}asObservable(){const oe=new d.y;return oe.source=this,oe}}return B.create=(H,oe)=>new le(H,oe),B})();class le extends we{constructor(H,oe){super(),this.destination=H,this.source=oe}next(H){const{destination:oe}=this;oe&&oe.next&&oe.next(H)}error(H){const{destination:oe}=this;oe&&oe.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:oe}=this;return oe?this.source.subscribe(H):F.w.EMPTY}}},8858:(ct,ke,k)=>{"use strict";k.d(ke,{W:()=>Z});var d=k(5319);class Z extends d.w{constructor(ue,De){super(),this.subject=ue,this.subscriber=De,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,De=ue.observers;if(this.subject=null,!De||0===De.length||ue.isStopped||ue.closed)return;const _e=De.indexOf(this.subscriber);-1!==_e&&De.splice(_e,1)}}},7393:(ct,ke,k)=>{"use strict";k.d(ke,{L:()=>Pe});var d=k(9105),Z=k(6490),F=k(5319),ue=k(9181),De=k(2494),_e=k(4449);class Pe extends F.w{constructor(B,H,oe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Z.c;break;case 1:if(!B){this.destination=Z.c;break}if("object"==typeof B){B instanceof Pe?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new we(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new we(this,B,H,oe)}}[ue.b](){return this}static create(B,H,oe){const te=new Pe(B,H,oe);return te.syncErrorThrowable=!1,te}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class we extends Pe{constructor(B,H,oe,te){super(),this._parentSubscriber=B;let ge,je=this;(0,d.m)(H)?ge=H:H&&(ge=H.next,oe=H.error,te=H.complete,H!==Z.c&&(je=Object.create(H),(0,d.m)(je.unsubscribe)&&this.add(je.unsubscribe.bind(je)),je.unsubscribe=this.unsubscribe.bind(this))),this._context=je,this._next=ge,this._error=oe,this._complete=te}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;De.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:oe}=De.v;if(this._error)oe&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if(H.syncErrorThrowable)oe?(H.syncErrorValue=B,H.syncErrorThrown=!0):(0,_e.z)(B),this.unsubscribe();else{if(this.unsubscribe(),oe)throw B;(0,_e.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const H=()=>this._complete.call(this._context);De.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,H){try{B.call(this._context,H)}catch(oe){if(this.unsubscribe(),De.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,_e.z)(oe)}}__tryOrSetError(B,H,oe){if(!De.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,oe)}catch(te){return De.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=te,B.syncErrorThrown=!0,!0):((0,_e.z)(te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(ct,ke,k)=>{"use strict";k.d(ke,{w:()=>_e});var d=k(9796),Z=k(1555),F=k(9105);const De=(()=>{function we(le){return Error.call(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((B,H)=>`${H+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le,this}return we.prototype=Object.create(Error.prototype),we})();class _e{constructor(le){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,le&&(this._ctorUnsubscribe=!0,this._unsubscribe=le)}unsubscribe(){let le;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:H,_unsubscribe:oe,_subscriptions:te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof _e)B.remove(this);else if(null!==B)for(let ge=0;ge<B.length;++ge)B[ge].remove(this);if((0,F.m)(oe)){H&&(this._unsubscribe=void 0);try{oe.call(this)}catch(ge){le=ge instanceof De?Pe(ge.errors):[ge]}}if((0,d.k)(te)){let ge=-1,je=te.length;for(;++ge<je;){const Ce=te[ge];if((0,Z.K)(Ce))try{Ce.unsubscribe()}catch(Ie){le=le||[],Ie instanceof De?le=le.concat(Pe(Ie.errors)):le.push(Ie)}}}if(le)throw new De(le)}add(le){let B=le;if(!le)return _e.EMPTY;switch(typeof le){case"function":B=new _e(le);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof _e)){const te=B;B=new _e,B._subscriptions=[te]}break;default:throw new Error("unrecognized teardown "+le+" added to Subscription.")}let{_parentOrParents:H}=B;if(null===H)B._parentOrParents=this;else if(H instanceof _e){if(H===this)return B;B._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return B;H.push(this)}const oe=this._subscriptions;return null===oe?this._subscriptions=[B]:oe.push(B),B}remove(le){const B=this._subscriptions;if(B){const H=B.indexOf(le);-1!==H&&B.splice(H,1)}}}var we;function Pe(we){return we.reduce((le,B)=>le.concat(B instanceof De?B.errors:B),[])}_e.EMPTY=((we=new _e).closed=!0,we)},2494:(ct,ke,k)=>{"use strict";k.d(ke,{v:()=>Z});let d=!1;const Z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=F},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(ct,ke,k)=>{"use strict";k.d(ke,{IY:()=>ue,Ds:()=>_e,ft:()=>we});var d=k(7393),Z=k(7574),F=k(7444);class ue extends d.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class _e extends d.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function we(le,B){if(B.closed)return;if(le instanceof Z.y)return le.subscribe(B);let H;try{H=(0,F.s)(le)(B)}catch(oe){B.error(oe)}return H}},2441:(ct,ke,k)=>{"use strict";k.d(ke,{c:()=>De,N:()=>_e});var d=k(9765),Z=k(7574),F=k(5319),ue=k(1307);class De extends Z.y{constructor(H,oe){super(),this.source=H,this.subjectFactory=oe,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new F.w,H.add(this.source.subscribe(new Pe(this.getSubject(),this))),H.closed&&(this._connection=null,H=F.w.EMPTY)),H}refCount(){return(0,ue.x)()(this)}}const _e=(()=>{const B=De.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class Pe extends d.Yc{constructor(H,oe){super(H),this.connectable=oe}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const oe=H._connection;H._refCount=0,H._subject=null,H._connection=null,oe&&oe.unsubscribe()}}}},9193:(ct,ke,k)=>{"use strict";k.d(ke,{E:()=>Z,c:()=>F});var d=k(7574);const Z=new d.y(De=>De.complete());function F(De){return De?function(De){return new d.y(_e=>De.schedule(()=>_e.complete()))}(De):Z}},4402:(ct,ke,k)=>{"use strict";k.d(ke,{D:()=>je});var d=k(7574),Z=k(7444),F=k(5319),ue=k(6554),Pe=k(4087),we=k(377),H=k(4072),oe=k(9489);function je(Ce,Ie){return Ie?function(Ce,Ie){if(null!=Ce){if(function(Ce){return Ce&&"function"==typeof Ce[ue.L]}(Ce))return function(Ce,Ie){return new d.y(qe=>{const ze=new F.w;return ze.add(Ie.schedule(()=>{const Me=Ce[ue.L]();ze.add(Me.subscribe({next(rt){ze.add(Ie.schedule(()=>qe.next(rt)))},error(rt){ze.add(Ie.schedule(()=>qe.error(rt)))},complete(){ze.add(Ie.schedule(()=>qe.complete()))}}))})),ze})}(Ce,Ie);if((0,H.t)(Ce))return function(Ce,Ie){return new d.y(qe=>{const ze=new F.w;return ze.add(Ie.schedule(()=>Ce.then(Me=>{ze.add(Ie.schedule(()=>{qe.next(Me),ze.add(Ie.schedule(()=>qe.complete()))}))},Me=>{ze.add(Ie.schedule(()=>qe.error(Me)))}))),ze})}(Ce,Ie);if((0,oe.z)(Ce))return(0,Pe.r)(Ce,Ie);if(function(Ce){return Ce&&"function"==typeof Ce[we.hZ]}(Ce)||"string"==typeof Ce)return function(Ce,Ie){if(!Ce)throw new Error("Iterable cannot be null");return new d.y(qe=>{const ze=new F.w;let Me;return ze.add(()=>{Me&&"function"==typeof Me.return&&Me.return()}),ze.add(Ie.schedule(()=>{Me=Ce[we.hZ](),ze.add(Ie.schedule(function(){if(qe.closed)return;let rt,mt;try{const tt=Me.next();rt=tt.value,mt=tt.done}catch(tt){return void qe.error(tt)}mt?qe.complete():(qe.next(rt),this.schedule())}))})),ze})}(Ce,Ie)}throw new TypeError((null!==Ce&&typeof Ce||Ce)+" is not observable")}(Ce,Ie):Ce instanceof d.y?Ce:new d.y((0,Z.s)(Ce))}},6693:(ct,ke,k)=>{"use strict";k.d(ke,{n:()=>ue});var d=k(7574),Z=k(5015),F=k(4087);function ue(De,_e){return _e?(0,F.r)(De,_e):new d.y((0,Z.V)(De))}},6682:(ct,ke,k)=>{"use strict";k.d(ke,{T:()=>De});var d=k(7574),Z=k(4869),F=k(3282),ue=k(6693);function De(..._e){let Pe=Number.POSITIVE_INFINITY,we=null,le=_e[_e.length-1];return(0,Z.K)(le)?(we=_e.pop(),_e.length>1&&"number"==typeof _e[_e.length-1]&&(Pe=_e.pop())):"number"==typeof le&&(Pe=_e.pop()),null===we&&1===_e.length&&_e[0]instanceof d.y?_e[0]:(0,F.J)(Pe)((0,ue.n)(_e,we))}},5917:(ct,ke,k)=>{"use strict";k.d(ke,{of:()=>ue});var d=k(4869),Z=k(6693),F=k(4087);function ue(...De){let _e=De[De.length-1];return(0,d.K)(_e)?(De.pop(),(0,F.r)(De,_e)):(0,Z.n)(De)}},8002:(ct,ke,k)=>{"use strict";k.d(ke,{U:()=>Z});var d=k(7393);function Z(De,_e){return function(we){if("function"!=typeof De)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return we.lift(new F(De,_e))}}class F{constructor(_e,Pe){this.project=_e,this.thisArg=Pe}call(_e,Pe){return Pe.subscribe(new ue(_e,this.project,this.thisArg))}}class ue extends d.L{constructor(_e,Pe,we){super(_e),this.project=Pe,this.count=0,this.thisArg=we||this}_next(_e){let Pe;try{Pe=this.project.call(this.thisArg,_e,this.count++)}catch(we){return void this.destination.error(we)}this.destination.next(Pe)}}},3282:(ct,ke,k)=>{"use strict";k.d(ke,{J:()=>F});var d=k(9773),Z=k(4487);function F(ue=Number.POSITIVE_INFINITY){return(0,d.zg)(Z.y,ue)}},9773:(ct,ke,k)=>{"use strict";k.d(ke,{zg:()=>ue});var d=k(8002),Z=k(4402),F=k(5345);function ue(we,le,B=Number.POSITIVE_INFINITY){return"function"==typeof le?H=>H.pipe(ue((oe,te)=>(0,Z.D)(we(oe,te)).pipe((0,d.U)((ge,je)=>le(oe,ge,te,je))),B)):("number"==typeof le&&(B=le),H=>H.lift(new De(we,B)))}class De{constructor(le,B=Number.POSITIVE_INFINITY){this.project=le,this.concurrent=B}call(le,B){return B.subscribe(new _e(le,this.project,this.concurrent))}}class _e extends F.Ds{constructor(le,B,H=Number.POSITIVE_INFINITY){super(le),this.project=B,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(le){this.active<this.concurrent?this._tryNext(le):this.buffer.push(le)}_tryNext(le){let B;const H=this.index++;try{B=this.project(le,H)}catch(oe){return void this.destination.error(oe)}this.active++,this._innerSub(B)}_innerSub(le){const B=new F.IY(this),H=this.destination;H.add(B);const oe=(0,F.ft)(le,B);oe!==B&&H.add(oe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(le){this.destination.next(le)}notifyComplete(){const le=this.buffer;this.active--,le.length>0?this._next(le.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ct,ke,k)=>{"use strict";k.d(ke,{ht:()=>H,QV:()=>le});var d=k(7393),Z=k(9193),F=k(5917),ue=k(7574);class we{constructor(ge,je,Ce){this.kind=ge,this.value=je,this.error=Ce,this.hasValue="N"===ge}observe(ge){switch(this.kind){case"N":return ge.next&&ge.next(this.value);case"E":return ge.error&&ge.error(this.error);case"C":return ge.complete&&ge.complete()}}do(ge,je,Ce){switch(this.kind){case"N":return ge&&ge(this.value);case"E":return je&&je(this.error);case"C":return Ce&&Ce()}}accept(ge,je,Ce){return ge&&"function"==typeof ge.next?this.observe(ge):this.do(ge,je,Ce)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return te=this.error,new ue.y(je=>je.error(te));case"C":return(0,Z.c)()}var te;throw new Error("unexpected notification kind value")}static createNext(ge){return void 0!==ge?new we("N",ge):we.undefinedValueNotification}static createError(ge){return new we("E",void 0,ge)}static createComplete(){return we.completeNotification}}function le(te,ge=0){return function(Ce){return Ce.lift(new B(te,ge))}}we.completeNotification=new we("C"),we.undefinedValueNotification=new we("N",void 0);class B{constructor(ge,je=0){this.scheduler=ge,this.delay=je}call(ge,je){return je.subscribe(new H(ge,this.scheduler,this.delay))}}class H extends d.L{constructor(ge,je,Ce=0){super(ge),this.scheduler=je,this.delay=Ce}static dispatch(ge){const{notification:je,destination:Ce}=ge;je.observe(Ce),this.unsubscribe()}scheduleMessage(ge){this.destination.add(this.scheduler.schedule(H.dispatch,this.delay,new oe(ge,this.destination)))}_next(ge){this.scheduleMessage(we.createNext(ge))}_error(ge){this.scheduleMessage(we.createError(ge)),this.unsubscribe()}_complete(){this.scheduleMessage(we.createComplete()),this.unsubscribe()}}class oe{constructor(ge,je){this.notification=ge,this.destination=je}}},1307:(ct,ke,k)=>{"use strict";k.d(ke,{x:()=>Z});var d=k(7393);function Z(){return function(_e){return _e.lift(new F(_e))}}class F{constructor(_e){this.connectable=_e}call(_e,Pe){const{connectable:we}=this;we._refCount++;const le=new ue(_e,we),B=Pe.subscribe(le);return le.closed||(le.connection=we.connect()),B}}class ue extends d.L{constructor(_e,Pe){super(_e),this.connectable=Pe}_unsubscribe(){const{connectable:_e}=this;if(!_e)return void(this.connection=null);this.connectable=null;const Pe=_e._refCount;if(Pe<=0)return void(this.connection=null);if(_e._refCount=Pe-1,Pe>1)return void(this.connection=null);const{connection:we}=this,le=_e._connection;this.connection=null,le&&(!we||le===we)&&le.unsubscribe()}}},3101:(ct,ke,k)=>{"use strict";k.d(ke,{R:()=>Ie});var d=k(7574);let Z=1;const F=Promise.resolve(),ue={};function De(ze){return ze in ue&&(delete ue[ze],!0)}const _e={setImmediate(ze){const Me=Z++;return ue[Me]=!0,F.then(()=>De(Me)&&ze()),Me},clearImmediate(ze){De(ze)}};var we=k(6465),B=k(6102);const te=new class extends B.v{flush(Me){this.active=!0,this.scheduled=void 0;const{actions:rt}=this;let mt,tt=-1,Mt=rt.length;Me=Me||rt.shift();do{if(mt=Me.execute(Me.state,Me.delay))break}while(++tt<Mt&&(Me=rt.shift()));if(this.active=!1,mt){for(;++tt<Mt&&(Me=rt.shift());)Me.unsubscribe();throw mt}}}(class extends we.o{constructor(Me,rt){super(Me,rt),this.scheduler=Me,this.work=rt}requestAsyncId(Me,rt,mt=0){return null!==mt&&mt>0?super.requestAsyncId(Me,rt,mt):(Me.actions.push(this),Me.scheduled||(Me.scheduled=_e.setImmediate(Me.flush.bind(Me,null))))}recycleAsyncId(Me,rt,mt=0){if(null!==mt&&mt>0||null===mt&&this.delay>0)return super.recycleAsyncId(Me,rt,mt);0===Me.actions.length&&(_e.clearImmediate(rt),Me.scheduled=void 0)}});var ge=k(9796);class Ce extends d.y{constructor(Me,rt=0,mt=te){var ze;super(),this.source=Me,this.delayTime=rt,this.scheduler=mt,(!(!(0,ge.k)(ze=rt)&&ze-parseFloat(ze)+1>=0)||rt<0)&&(this.delayTime=0),(!mt||"function"!=typeof mt.schedule)&&(this.scheduler=te)}static create(Me,rt=0,mt=te){return new Ce(Me,rt,mt)}static dispatch(Me){const{source:rt,subscriber:mt}=Me;return this.add(rt.subscribe(mt))}_subscribe(Me){return this.scheduler.schedule(Ce.dispatch,this.delayTime,{source:this.source,subscriber:Me})}}function Ie(ze,Me=0){return function(mt){return mt.lift(new qe(ze,Me))}}class qe{constructor(Me,rt){this.scheduler=Me,this.delay=rt}call(Me,rt){return new Ce(rt,this.delay,this.scheduler).subscribe(Me)}}},3342:(ct,ke,k)=>{"use strict";k.d(ke,{b:()=>ue});var d=k(7393);function Z(){}var F=k(9105);function ue(Pe,we,le){return function(H){return H.lift(new De(Pe,we,le))}}class De{constructor(we,le,B){this.nextOrObserver=we,this.error=le,this.complete=B}call(we,le){return le.subscribe(new _e(we,this.nextOrObserver,this.error,this.complete))}}class _e extends d.L{constructor(we,le,B,H){super(we),this._tapNext=Z,this._tapError=Z,this._tapComplete=Z,this._tapError=B||Z,this._tapComplete=H||Z,(0,F.m)(le)?(this._context=this,this._tapNext=le):le&&(this._context=le,this._tapNext=le.next||Z,this._tapError=le.error||Z,this._tapComplete=le.complete||Z)}_next(we){try{this._tapNext.call(this._context,we)}catch(le){return void this.destination.error(le)}this.destination.next(we)}_error(we){try{this._tapError.call(this._context,we)}catch(le){return void this.destination.error(le)}this.destination.error(we)}_complete(){try{this._tapComplete.call(this._context)}catch(we){return void this.destination.error(we)}return this.destination.complete()}}},4087:(ct,ke,k)=>{"use strict";k.d(ke,{r:()=>F});var d=k(7574),Z=k(5319);function F(ue,De){return new d.y(_e=>{const Pe=new Z.w;let we=0;return Pe.add(De.schedule(function(){we!==ue.length?(_e.next(ue[we++]),_e.closed||Pe.add(this.schedule())):_e.complete()})),Pe})}},6465:(ct,ke,k)=>{"use strict";k.d(ke,{o:()=>F});var d=k(5319);class Z extends d.w{constructor(De,_e){super()}schedule(De,_e=0){return this}}class F extends Z{constructor(De,_e){super(De,_e),this.scheduler=De,this.work=_e,this.pending=!1}schedule(De,_e=0){if(this.closed)return this;this.state=De;const Pe=this.id,we=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(we,Pe,_e)),this.pending=!0,this.delay=_e,this.id=this.id||this.requestAsyncId(we,this.id,_e),this}requestAsyncId(De,_e,Pe=0){return setInterval(De.flush.bind(De,this),Pe)}recycleAsyncId(De,_e,Pe=0){if(null!==Pe&&this.delay===Pe&&!1===this.pending)return _e;clearInterval(_e)}execute(De,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(De,_e);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,_e){let we,Pe=!1;try{this.work(De)}catch(le){Pe=!0,we=!!le&&le||new Error(le)}if(Pe)return this.unsubscribe(),we}_unsubscribe(){const De=this.id,_e=this.scheduler,Pe=_e.actions,we=Pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==we&&Pe.splice(we,1),null!=De&&(this.id=this.recycleAsyncId(_e,De,null)),this.delay=null}}},6102:(ct,ke,k)=>{"use strict";k.d(ke,{v:()=>Z});let d=(()=>{class F{constructor(De,_e=F.now){this.SchedulerAction=De,this.now=_e}schedule(De,_e=0,Pe){return new this.SchedulerAction(this,De).schedule(Pe,_e)}}return F.now=()=>Date.now(),F})();class Z extends d{constructor(ue,De=d.now){super(ue,()=>Z.delegate&&Z.delegate!==this?Z.delegate.now():De()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,De=0,_e){return Z.delegate&&Z.delegate!==this?Z.delegate.schedule(ue,De,_e):super.schedule(ue,De,_e)}flush(ue){const{actions:De}=this;if(this.active)return void De.push(ue);let _e;this.active=!0;do{if(_e=ue.execute(ue.state,ue.delay))break}while(ue=De.shift());if(this.active=!1,_e){for(;ue=De.shift();)ue.unsubscribe();throw _e}}}},3637:(ct,ke,k)=>{"use strict";k.d(ke,{z:()=>F,P:()=>ue});var d=k(6465);const F=new(k(6102).v)(d.o),ue=F},7771:(ct,ke,k)=>{"use strict";k.d(ke,{c:()=>_e,N:()=>De});var d=k(6465),F=k(6102);const De=new class extends F.v{}(class extends d.o{constructor(we,le){super(we,le),this.scheduler=we,this.work=le}schedule(we,le=0){return le>0?super.schedule(we,le):(this.delay=le,this.state=we,this.scheduler.flush(this),this)}execute(we,le){return le>0||this.closed?super.execute(we,le):this._execute(we,le)}requestAsyncId(we,le,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(we,le,B):we.flush(this)}}),_e=De},377:(ct,ke,k)=>{"use strict";k.d(ke,{hZ:()=>Z});const Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ct,ke,k)=>{"use strict";k.d(ke,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ct,ke,k)=>{"use strict";k.d(ke,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ct,ke,k)=>{"use strict";k.d(ke,{N:()=>Z});const Z=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(ct,ke,k)=>{"use strict";function d(Z){setTimeout(()=>{throw Z},0)}k.d(ke,{z:()=>d})},4487:(ct,ke,k)=>{"use strict";function d(Z){return Z}k.d(ke,{y:()=>d})},9796:(ct,ke,k)=>{"use strict";k.d(ke,{k:()=>d});const d=Array.isArray||(Z=>Z&&"number"==typeof Z.length)},9489:(ct,ke,k)=>{"use strict";k.d(ke,{z:()=>d});const d=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},9105:(ct,ke,k)=>{"use strict";function d(Z){return"function"==typeof Z}k.d(ke,{m:()=>d})},1555:(ct,ke,k)=>{"use strict";function d(Z){return null!==Z&&"object"==typeof Z}k.d(ke,{K:()=>d})},4072:(ct,ke,k)=>{"use strict";function d(Z){return!!Z&&"function"!=typeof Z.subscribe&&"function"==typeof Z.then}k.d(ke,{t:()=>d})},4869:(ct,ke,k)=>{"use strict";function d(Z){return Z&&"function"==typeof Z.schedule}k.d(ke,{K:()=>d})},7444:(ct,ke,k)=>{"use strict";k.d(ke,{s:()=>H});var d=k(5015),Z=k(4449),ue=k(377),_e=k(6554),we=k(9489),le=k(4072),B=k(1555);const H=oe=>{if(oe&&"function"==typeof oe[_e.L])return(oe=>te=>{const ge=oe[_e.L]();if("function"!=typeof ge.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ge.subscribe(te)})(oe);if((0,we.z)(oe))return(0,d.V)(oe);if((0,le.t)(oe))return(oe=>te=>(oe.then(ge=>{te.closed||(te.next(ge),te.complete())},ge=>te.error(ge)).then(null,Z.z),te))(oe);if(oe&&"function"==typeof oe[ue.hZ])return(oe=>te=>{const ge=oe[ue.hZ]();for(;;){let je;try{je=ge.next()}catch(Ce){return te.error(Ce),te}if(je.done){te.complete();break}if(te.next(je.value),te.closed)break}return"function"==typeof ge.return&&te.add(()=>{ge.return&&ge.return()}),te})(oe);{const ge=`You provided ${(0,B.K)(oe)?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ge)}}},5015:(ct,ke,k)=>{"use strict";k.d(ke,{V:()=>d});const d=Z=>F=>{for(let ue=0,De=Z.length;ue<De&&!F.closed;ue++)F.next(Z[ue]);F.complete()}},1098:(ct,ke,k)=>{"use strict";var d=k(3018);let Z=null;function F(){return Z}const Pe=new d.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:le,token:n,providedIn:"platform"}),n})();function le(){return(0,d.LFG)(H)}const B=new d.OlP("Location Initialized");let H=(()=>{class n extends we{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){oe()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){oe()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe))},n.\u0275prov=(0,d.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function te(){return new H((0,d.LFG)(Pe))}function ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function je(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ce(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:qe,token:n,providedIn:"root"}),n})();function qe(n){const e=(0,d.LFG)(Pe).location;return new Me((0,d.LFG)(we),e&&e.origin||"")}const ze=new d.OlP("appBaseHref");let Me=(()=>{class n extends Ie{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ce(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+Ce(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+Ce(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we),d.LFG(ze,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),rt=(()=>{class n extends Ie{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+Ce(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+Ce(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(we),d.LFG(ze,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),mt=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=je(Te(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ce(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ce(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ce(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ie),d.LFG(we))},n.normalizeQueryParams=Ce,n.joinWithSlash=ge,n.stripTrailingSlash=je,n.\u0275prov=(0,d.Yz7)({factory:tt,token:n,providedIn:"root"}),n})();function tt(){return new mt((0,d.LFG)(Ie),(0,d.LFG)(we))}function Te(n){return n.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))(),se=(()=>((se=se||{})[se.Format=0]="Format",se[se.Standalone=1]="Standalone",se))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),Ae=(()=>((Ae=Ae||{})[Ae.Short=0]="Short",Ae[Ae.Medium=1]="Medium",Ae[Ae.Long=2]="Long",Ae[Ae.Full=3]="Full",Ae))(),be=(()=>((be=be||{})[be.Decimal=0]="Decimal",be[be.Group=1]="Group",be[be.List=2]="List",be[be.PercentSign=3]="PercentSign",be[be.PlusSign=4]="PlusSign",be[be.MinusSign=5]="MinusSign",be[be.Exponential=6]="Exponential",be[be.SuperscriptingExponent=7]="SuperscriptingExponent",be[be.PerMille=8]="PerMille",be[be.Infinity=9]="Infinity",be[be.NaN=10]="NaN",be[be.TimeSeparator=11]="TimeSeparator",be[be.CurrencyDecimal=12]="CurrencyDecimal",be[be.CurrencyGroup=13]="CurrencyGroup",be))();function or(n,e){return sn((0,d.cg1)(n)[d.wAp.DateFormat],e)}function At(n,e){return sn((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function pt(n,e){return sn((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function En(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(void 0===r){if(e===be.CurrencyDecimal)return t[d.wAp.NumberSymbols][be.Decimal];if(e===be.CurrencyGroup)return t[d.wAp.NumberSymbols][be.Group]}return r}const jn=d.kL8;function Wn(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function An(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ar=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,er={},Bn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mn=(()=>((mn=mn||{})[mn.Short=0]="Short",mn[mn.ShortGMT=1]="ShortGMT",mn[mn.Long=2]="Long",mn[mn.Extended=3]="Extended",mn))(),_t=(()=>((_t=_t||{})[_t.FullYear=0]="FullYear",_t[_t.Month=1]="Month",_t[_t.Date=2]="Date",_t[_t.Hours=3]="Hours",_t[_t.Minutes=4]="Minutes",_t[_t.Seconds=5]="Seconds",_t[_t.FractionalSeconds=6]="FractionalSeconds",_t[_t.Day=7]="Day",_t))(),nt=(()=>((nt=nt||{})[nt.DayPeriods=0]="DayPeriods",nt[nt.Days=1]="Days",nt[nt.Months=2]="Months",nt[nt.Eras=3]="Eras",nt))();function un(n,e,t,r){let i=function(n){if(it(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,l=1]=n.split("-").map(f=>+f);return bi(i,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ar))return function(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,g=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,f,g,_),e}(r)}const e=new Date(n);if(!it(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ur(t,e)||e;let f,l=[];for(;e;){if(f=Bn.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const T=l.pop();if(!T)break;e=T}}let g=i.getTimezoneOffset();r&&(g=q(r,g),i=function(n,e,t){const i=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(q(e,i)-i))}(i,r));let _="";return l.forEach(T=>{const S=function(n){if(hn[n])return hn[n];let e;switch(n){case"G":case"GG":case"GGG":e=K(nt.Eras,me.Abbreviated);break;case"GGGG":e=K(nt.Eras,me.Wide);break;case"GGGGG":e=K(nt.Eras,me.Narrow);break;case"y":e=dn(_t.FullYear,1,0,!1,!0);break;case"yy":e=dn(_t.FullYear,2,0,!0,!0);break;case"yyy":e=dn(_t.FullYear,3,0,!1,!0);break;case"yyyy":e=dn(_t.FullYear,4,0,!1,!0);break;case"Y":e=on(1);break;case"YY":e=on(2,!0);break;case"YYY":e=on(3);break;case"YYYY":e=on(4);break;case"M":case"L":e=dn(_t.Month,1,1);break;case"MM":case"LL":e=dn(_t.Month,2,1);break;case"MMM":e=K(nt.Months,me.Abbreviated);break;case"MMMM":e=K(nt.Months,me.Wide);break;case"MMMMM":e=K(nt.Months,me.Narrow);break;case"LLL":e=K(nt.Months,me.Abbreviated,se.Standalone);break;case"LLLL":e=K(nt.Months,me.Wide,se.Standalone);break;case"LLLLL":e=K(nt.Months,me.Narrow,se.Standalone);break;case"w":e=Ct(1);break;case"ww":e=Ct(2);break;case"W":e=Ct(1,!0);break;case"d":e=dn(_t.Date,1);break;case"dd":e=dn(_t.Date,2);break;case"c":case"cc":e=dn(_t.Day,1);break;case"ccc":e=K(nt.Days,me.Abbreviated,se.Standalone);break;case"cccc":e=K(nt.Days,me.Wide,se.Standalone);break;case"ccccc":e=K(nt.Days,me.Narrow,se.Standalone);break;case"cccccc":e=K(nt.Days,me.Short,se.Standalone);break;case"E":case"EE":case"EEE":e=K(nt.Days,me.Abbreviated);break;case"EEEE":e=K(nt.Days,me.Wide);break;case"EEEEE":e=K(nt.Days,me.Narrow);break;case"EEEEEE":e=K(nt.Days,me.Short);break;case"a":case"aa":case"aaa":e=K(nt.DayPeriods,me.Abbreviated);break;case"aaaa":e=K(nt.DayPeriods,me.Wide);break;case"aaaaa":e=K(nt.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=K(nt.DayPeriods,me.Abbreviated,se.Standalone,!0);break;case"bbbb":e=K(nt.DayPeriods,me.Wide,se.Standalone,!0);break;case"bbbbb":e=K(nt.DayPeriods,me.Narrow,se.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(nt.DayPeriods,me.Abbreviated,se.Format,!0);break;case"BBBB":e=K(nt.DayPeriods,me.Wide,se.Format,!0);break;case"BBBBB":e=K(nt.DayPeriods,me.Narrow,se.Format,!0);break;case"h":e=dn(_t.Hours,1,-12);break;case"hh":e=dn(_t.Hours,2,-12);break;case"H":e=dn(_t.Hours,1);break;case"HH":e=dn(_t.Hours,2);break;case"m":e=dn(_t.Minutes,1);break;case"mm":e=dn(_t.Minutes,2);break;case"s":e=dn(_t.Seconds,1);break;case"ss":e=dn(_t.Seconds,2);break;case"S":e=dn(_t.FractionalSeconds,1);break;case"SS":e=dn(_t.FractionalSeconds,2);break;case"SSS":e=dn(_t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=G(mn.Short);break;case"ZZZZZ":e=G(mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=G(mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=G(mn.Long);break;default:return null}return hn[n]=e,e}(T);_+=S?S(i,t,g):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function bi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ur(n,e){const t=function(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(er[t]=er[t]||{},er[t][e])return er[t][e];let r="";switch(e){case"shortDate":r=or(n,Ae.Short);break;case"mediumDate":r=or(n,Ae.Medium);break;case"longDate":r=or(n,Ae.Long);break;case"fullDate":r=or(n,Ae.Full);break;case"shortTime":r=At(n,Ae.Short);break;case"mediumTime":r=At(n,Ae.Medium);break;case"longTime":r=At(n,Ae.Long);break;case"fullTime":r=At(n,Ae.Full);break;case"short":const i=ur(n,"shortTime"),u=ur(n,"shortDate");r=yn(pt(n,Ae.Short),[i,u]);break;case"medium":const l=ur(n,"mediumTime"),f=ur(n,"mediumDate");r=yn(pt(n,Ae.Medium),[l,f]);break;case"long":const g=ur(n,"longTime"),_=ur(n,"longDate");r=yn(pt(n,Ae.Long),[g,_]);break;case"full":const T=ur(n,"fullTime"),S=ur(n,"fullDate");r=yn(pt(n,Ae.Full),[T,S])}return r&&(er[t][e]=r),r}function yn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Fn(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.substr(l.length-e)),u+l}function dn(n,e,t=0,r=!1,i=!1){return function(u,l){let f=function(n,e){switch(n){case _t.FullYear:return e.getFullYear();case _t.Month:return e.getMonth();case _t.Date:return e.getDate();case _t.Hours:return e.getHours();case _t.Minutes:return e.getMinutes();case _t.Seconds:return e.getSeconds();case _t.FractionalSeconds:return e.getMilliseconds();case _t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===_t.Hours)0===f&&-12===t&&(f=12);else if(n===_t.FractionalSeconds)return function(n,e){return Fn(n,3).substr(0,e)}(f,e);const g=En(l,be.MinusSign);return Fn(f,e,g,r,i)}}function K(n,e,t=se.Format,r=!1){return function(i,u){return function(n,e,t,r,i,u){switch(t){case nt.Months:return function(n,e,t){const r=(0,d.cg1)(n),u=sn([r[d.wAp.MonthsFormat],r[d.wAp.MonthsStandalone]],e);return sn(u,t)}(e,i,r)[n.getMonth()];case nt.Days:return function(n,e,t){const r=(0,d.cg1)(n),u=sn([r[d.wAp.DaysFormat],r[d.wAp.DaysStandalone]],e);return sn(u,t)}(e,i,r)[n.getDay()];case nt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(u){const _=function(n){const e=(0,d.cg1)(n);return Wn(e),(e[d.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?An(r):[An(r[0]),An(r[1])])}(e),T=function(n,e,t){const r=(0,d.cg1)(n);Wn(r);const u=sn([r[d.wAp.ExtraData][0],r[d.wAp.ExtraData][1]],e)||[];return sn(u,t)||[]}(e,i,r),S=_.findIndex(D=>{if(Array.isArray(D)){const[x,O]=D,$=l>=x.hours&&f>=x.minutes,Y=l<O.hours||l===O.hours&&f<O.minutes;if(x.hours<O.hours){if($&&Y)return!0}else if($||Y)return!0}else if(D.hours===l&&D.minutes===f)return!0;return!1});if(-1!==S)return T[S]}return function(n,e,t){const r=(0,d.cg1)(n),u=sn([r[d.wAp.DayPeriodsFormat],r[d.wAp.DayPeriodsStandalone]],e);return sn(u,t)}(e,i,r)[l<12?0:1];case nt.Eras:return function(n,e){return sn((0,d.cg1)(n)[d.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function G(n){return function(e,t,r){const i=-1*r,u=En(t,be.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case mn.Short:return(i>=0?"+":"")+Fn(l,2,u)+Fn(Math.abs(i%60),2,u);case mn.ShortGMT:return"GMT"+(i>=0?"+":"")+Fn(l,1,u);case mn.Long:return"GMT"+(i>=0?"+":"")+Fn(l,2,u)+":"+Fn(Math.abs(i%60),2,u);case mn.Extended:return 0===r?"Z":(i>=0?"+":"")+Fn(l,2,u)+":"+Fn(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function et(n){return bi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ct(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+u)/7)}else{const u=et(t),l=function(n){const e=bi(n,0,1).getDay();return bi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),f=u.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Fn(i,n,En(r,be.MinusSign))}}function on(n,e=!1){return function(t,r){return Fn(et(t).getFullYear(),n,En(r,be.MinusSign),e)}}const hn={};function q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function it(n){return n instanceof Date&&!isNaN(n.valueOf())}class xn{}let Jr=(()=>{class n extends xn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(jn(r||this.locale)(t)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function qt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}let Fo=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class hc{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,u,l)=>{if(null==i.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new hc(null,this._ngForOf,-1,-1),null===l?void 0:l),g=new Tr(i,f);r.push(g)}else if(null==l)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const f=this._viewContainer.get(u);this._viewContainer.move(f,l);const g=new Tr(i,f);r.push(g)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,u=this._viewContainer.length;i<u;i++){const l=this._viewContainer.get(i);l.context.index=i,l.context.count=u,l.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Tr{constructor(e,t){this.record=e,this.view=t}}let Ei=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Rn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Rn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wi{constructor(){this.$implicit=null,this.ngIf=null}}function Rn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let Uo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[d.TTD]}),n})();function Cn(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,d.AaK)(n)}'`)}class Aa{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class fu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Ti=new fu,xi=new Aa;let Vo=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return Ti;if((0,d.F4k)(t))return xi;throw Cn(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),pu=(()=>{class n{constructor(t){this.locale=t}transform(t,r="mediumDate",i,u){if(null==t||""===t||t!=t)return null;try{return un(t,r,u||this.locale,i)}catch(l){throw Cn(n,l.message)}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0}),n})(),Al=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:xn,useClass:Jr}]}),n})();function Oa(n){return"server"===n}let $o=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new vu((0,d.LFG)(Pe),window)}),n})();class vu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pa(this.window.history)||Pa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Pa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xi{}class Ho extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ho,Z||(Z=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ss=Ss||document.querySelector("base"),Ss?Ss.getAttribute("href"):null);return null==t?null:function(n){Eu=Eu||document.createElement("a"),Eu.setAttribute("href",n);const e=Eu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qt(document.cookie,e)}}let Eu,Ss=null;const L=new d.OlP("TRANSITION_ID"),ne=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=F(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[L,Pe,d.zs3],multi:!0}];class fe{static init(){(0,d.VLi)(new fe)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const f=function(g){l=l||g,u--,0==u&&r(l)};i.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let We=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ii=new d.OlP("EventManagerPlugins");let gs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const l=i[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Zo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=F().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vh=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Na=(()=>{class n extends vh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(eg),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eg))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function eg(n){F().remove(n)}const Ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_n=/%COMP%/g;function Go(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Go(n,i,t):(i=i.replace(_n,n),t.push(i))}return t}function Z_(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ma=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Wo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new yo(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Go(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gs),d.LFG(Na),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ge[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Ge[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ge[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Z_(r)):this.eventManager.addEventListener(e,t,Z_(r))}}class Wo extends zo{constructor(e,t,r,i){super(e),this.component=r;const u=Go(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(_n,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(_n,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yo extends zo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Go(i.id,i.styles,[]);for(let l=0;l<u.length;l++){const f=document.createElement("style");f.textContent=u[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Th=(()=>{class n extends Zo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const mc=["alt","control","meta","shift"],sg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},og={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ni={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let La=(()=>{class n extends Zo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="";if(mc.forEach(g=>{const _=r.indexOf(g);_>-1&&(r.splice(_,1),l+=g+".")}),l+=u,0!=r.length||0===u.length)return null;const f={};return f.domEventName=i,f.fullKey=l,f}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&og.hasOwnProperty(e)&&(e=og[e]))}return sg[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mc.forEach(u=>{u!=i&&Ni[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cg=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){Ho.makeCurrent(),fe.init()},multi:!0},{provide:Pe,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Ko=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:Ii,useClass:Th,multi:!0,deps:[Pe,d.R0b,d.Lbi]},{provide:Ii,useClass:La,multi:!0,deps:[Pe]},[],{provide:Ma,useClass:Ma,deps:[gs,Na,d.AFp]},{provide:d.FYo,useExisting:Ma},{provide:vh,useExisting:Na},{provide:Na,useClass:Na,deps:[Pe]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:gs,useClass:gs,deps:[Ii,d.R0b]},{provide:Xi,useClass:We,deps:[]},[]];let Va=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:L,useExisting:d.AFp},ne]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Ko,imports:[Al,d.hGG]}),n})();function lg(){return new Pl((0,d.LFG)(Pe))}let Pl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe))},n.\u0275prov=(0,d.Yz7)({factory:lg,token:n,providedIn:"root"}),n})();"undefined"!=typeof window&&window;var Rt=k(5917),Ir=k(7574),Hr=k(9773);function Ds(n,e){return(0,Hr.zg)(n,e,1)}var Zr=k(7393);function Mi(n,e){return function(r){return r.lift(new Du(n,e))}}class Du{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Sc(e,this.predicate,this.thisArg))}}class Sc extends Zr.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}var Gt=k(8002);class Ah{}class fg{}class es{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof es?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new es;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof es?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===u.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pg{encodeKey(e){return xu(e)}encodeValue(e){return xu(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const tv=/%(\d[a-f0-9])/gi,Au={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xu(n){return encodeURIComponent(n).replace(tv,(e,t)=>{var r;return null!==(r=Au[t])&&void 0!==r?r:e})}function xh(n){return`${n}`}class Ks{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],g=t.get(l)||[];g.push(f),t.set(l,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ks({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(xh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(xh(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ru{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Fl(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Ll(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ja(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Qs{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new es),this.context||(this.context=new Ru),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new Ks,this.urlWithParams=t}serializeBody(){return null===this.body?null:Fl(this.body)||Ll(this.body)||ja(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ks?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ja(this.body)?null:Ll(this.body)?this.body.type||null:Fl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ks?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,u=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,T=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((D,x)=>D.set(x,e.setHeaders[x]),_)),e.setParams&&(T=Object.keys(e.setParams).reduce((D,x)=>D.set(x,e.setParams[x]),T)),new Qs(r,i,l,{params:T,headers:_,context:S,reportProgress:g,responseType:u,withCredentials:f})}}var Jn=(()=>((Jn=Jn||{})[Jn.Sent=0]="Sent",Jn[Jn.UploadProgress=1]="UploadProgress",Jn[Jn.ResponseHeader=2]="ResponseHeader",Jn[Jn.DownloadProgress=3]="DownloadProgress",Jn[Jn.Response=4]="Response",Jn[Jn.User=5]="User",Jn))();class Cc{constructor(e,t=200,r="OK"){this.headers=e.headers||new es,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _o extends Cc{constructor(e={}){super(e),this.type=Jn.ResponseHeader}clone(e={}){return new _o({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Rh extends Cc{constructor(e={}){super(e),this.type=Jn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Rh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gg extends Cc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Oh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Qs)u=t;else{let g,_;g=i.headers instanceof es?i.headers:new es(i.headers),i.params&&(_=i.params instanceof Ks?i.params:new Ks({fromObject:i.params})),u=new Qs(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,Rt.of)(u).pipe(Ds(g=>this.handler.handle(g)));if(t instanceof Qs||"events"===i.observe)return l;const f=l.pipe(Mi(g=>g instanceof Rh));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,Gt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,Gt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,Gt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,Gt.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ks).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Oh(i,r))}post(t,r,i={}){return this.request("POST",t,Oh(i,r))}put(t,r,i={}){return this.request("PUT",t,Oh(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ah))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class mg{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Kn=new d.OlP("HTTP_INTERCEPTORS");let iv=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const qw=/^\)\]\}',?\n/;let uv=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ir.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((x,O)=>i.setRequestHeader(x,O.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&i.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();i.responseType="json"!==x?x:"text"}const u=t.serializeBody();let l=null;const f=()=>{if(null!==l)return l;const x=1223===i.status?204:i.status,O=i.statusText||"OK",$=new es(i.getAllResponseHeaders()),Y=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new _o({headers:$,status:x,statusText:O,url:Y}),l},g=()=>{let{headers:x,status:O,statusText:$,url:Y}=f(),pe=null;204!==O&&(pe=void 0===i.response?i.responseText:i.response),0===O&&(O=pe?200:0);let Re=O>=200&&O<300;if("json"===t.responseType&&"string"==typeof pe){const ve=pe;pe=pe.replace(qw,"");try{pe=""!==pe?JSON.parse(pe):null}catch(Oe){pe=ve,Re&&(Re=!1,pe={error:Oe,text:pe})}}Re?(r.next(new Rh({body:pe,headers:x,status:O,statusText:$,url:Y||void 0})),r.complete()):r.error(new gg({error:pe,headers:x,status:O,statusText:$,url:Y||void 0}))},_=x=>{const{url:O}=f(),$=new gg({error:x,status:i.status||0,statusText:i.statusText||"Unknown Error",url:O||void 0});r.error($)};let T=!1;const S=x=>{T||(r.next(f()),T=!0);let O={type:Jn.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(O.total=x.total),"text"===t.responseType&&!!i.responseText&&(O.partialText=i.responseText),r.next(O)},D=x=>{let O={type:Jn.UploadProgress,loaded:x.loaded};x.lengthComputable&&(O.total=x.total),r.next(O)};return i.addEventListener("load",g),i.addEventListener("error",_),i.addEventListener("timeout",_),i.addEventListener("abort",_),t.reportProgress&&(i.addEventListener("progress",S),null!==u&&i.upload&&i.upload.addEventListener("progress",D)),i.send(u),r.next({type:Jn.Sent}),()=>{i.removeEventListener("error",_),i.removeEventListener("abort",_),i.removeEventListener("load",g),i.removeEventListener("timeout",_),t.reportProgress&&(i.removeEventListener("progress",S),null!==u&&i.upload&&i.upload.removeEventListener("progress",D)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ts=new d.OlP("XSRF_COOKIE_NAME"),Ul=new d.OlP("XSRF_HEADER_NAME");class Sr{}let Vl=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=qt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe),d.LFG(d.Lbi),d.LFG(ts))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ou=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sr),d.LFG(Ul))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),vg=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Kn,[]);this.chain=r.reduceRight((i,u)=>new mg(i,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fg),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ys=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ou,useClass:iv}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ts,useValue:t.cookieName}:[],t.headerName?{provide:Ul,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Ou,{provide:Kn,useExisting:Ou,multi:!0},{provide:Sr,useClass:Vl},{provide:ts,useValue:"XSRF-TOKEN"},{provide:Ul,useValue:"X-XSRF-TOKEN"}]}),n})(),Pu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rv,{provide:Ah,useClass:vg},uv,{provide:fg,useExisting:uv}],imports:[[Ys.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var wn=k(8370),Un=k(4402),Jo=k(5345);function Mr(n,e){return"function"==typeof e?t=>t.pipe(Mr((r,i)=>(0,Un.D)(n(r,i)).pipe((0,Gt.U)((u,l)=>e(r,u,i,l))))):t=>t.lift(new jl(n))}class jl{constructor(e){this.project=e}call(e,t){return t.subscribe(new bg(e,this.project))}}class bg extends Jo.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Jo.IY(this),i=this.destination;i.add(r),this.innerSubscription=(0,Jo.ft)(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var ui=k(5319),ns=k(9765);class Eg{constructor(e,t,r,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=i}call(e,t){return t.subscribe(new wg(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class wg extends Zr.L{constructor(e,t,r,i,u){super(e),this.keySelector=t,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=u,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)}_group(e,t){let r=this.groups;r||(r=this.groups=new Map);let u,i=r.get(t);if(this.elementSelector)try{u=this.elementSelector(e)}catch(l){this.error(l)}else u=e;if(!i){i=this.subjectSelector?this.subjectSelector():new ns.xQ,r.set(t,i);const l=new kh(t,i,this);if(this.destination.next(l),this.durationSelector){let f;try{f=this.durationSelector(new kh(t,i))}catch(g){return void this.error(g)}this.add(f.subscribe(new Tg(t,i,this)))}}i.closed||i.next(u)}_error(e){const t=this.groups;t&&(t.forEach((r,i)=>{r.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,r)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Tg extends Zr.L{constructor(e,t,r){super(t),this.key=e,this.group=t,this.parent=r}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class kh extends Ir.y{constructor(e,t,r){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=r}_subscribe(e){const t=new ui.w,{refCountSubscription:r,groupSubject:i}=this;return r&&!r.closed&&t.add(new Ig(r)),t.add(i.subscribe(e)),t}}class Ig extends ui.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}function Sg(n,e){return t=>t.lift(new lv(n,e))}class lv{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ba(e,this.compare,this.keySelector))}}class Ba extends Zr.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var Nu=k(3282);function ql(...n){return(0,Nu.J)(1)((0,Rt.of)(...n))}var Mu=k(4869);function ea(...n){const e=n[n.length-1];return(0,Mu.K)(e)?(n.pop(),t=>ql(n,t,e)):t=>ql(n,t)}function xs(){return n=>n.lift(new dv)}class dv{call(e,t){return t.subscribe(new Nh(e))}}class Nh extends Zr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Fu=k(2329);var Gl=k(7971);class Fi extends ns.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gl.N;return this._value}next(e){super.next(this._value=e)}}var Pg=k(9796);class Uh extends Zr.L{notifyNext(e,t,r,i,u){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class ra extends Zr.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var bv=k(7444);function Ev(n,e,t,r,i=new ra(n,t,r)){if(!i.closed)return e instanceof Ir.y?e.subscribe(i):(0,bv.s)(e)(i)}var wv=k(6693);const Tv={};class m{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new v(e,this.resultSelector))}}class v extends Uh{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Tv),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Ev(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,l=this.toRespond?i[r]===Tv?--this.toRespond:this.toRespond:0;i[r]=t,0===l&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const R=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var M=k(9193);function ce(n){return new Ir.y(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?(0,Un.D)(t):(0,M.c)()).subscribe(e)})}var Be=k(2441);const Pt=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function rn(n){return e=>0===n?(0,M.c)():e.lift(new Xn(n))}class Xn{constructor(e){if(this.total=e,this.total<0)throw new Pt}call(e,t){return t.subscribe(new eo(e,this.total))}}class eo extends Zr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function _s(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Vh(n,e,t))}}class Vh{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new kg(e,this.accumulator,this.seed,this.hasSeed))}}class kg extends Zr.L{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function rs(n){return function(t){const r=new jh(n),i=t.lift(r);return r.caught=i}}class jh{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Rs(e,this.selector,this.caught))}}class Rs extends Jo.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const r=new Jo.IY(this);this.add(r);const i=(0,Jo.ft)(t,r);i!==r&&this.add(i)}}}function wo(n){return function(t){return 0===n?(0,M.c)():t.lift(new Bh(n))}}class Bh{constructor(e){if(this.total=e,this.total<0)throw new Pt}call(e,t){return t.subscribe(new qh(e,this.total))}}class qh extends Zr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let u=0;u<r;u++){const l=t++%r;e.next(i[l])}}e.complete()}}function Rc(n=Ng){return e=>e.lift(new Iv(n))}class Iv{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Qw(e,this.errorFactory))}}class Qw extends Zr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ng(){return new R}function zl(n=null){return e=>e.lift(new Sv(n))}class Sv{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Cv(e,this.defaultValue))}}class Cv extends Zr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var NA=k(4487);function Vu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mi((i,u)=>n(i,u,r)):NA.y,rn(1),t?zl(e):Rc(()=>new R))}var Os=k(3342),MA=k(1307);class LA{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Yw(e,this.callback))}}class Yw extends Zr.L{constructor(e,t){super(e),this.add(new ui.w(t))}}class to{constructor(e,t){this.id=e,this.url=t}}class Mg extends to{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends to{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jw extends to{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dr extends to{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UA extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VA extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dv extends to{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xw extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jA extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BA{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sM{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $A{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class Av{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pc(n){return new Av(n)}const xv="ngNavigationCancelingError";function ci(n){const e=Error("NavigationCancelingError: "+n);return e[xv]=!0,e}function Rv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ia(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Ov(n[i],e[i]))return!1;return!0}function Ov(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function nT(n){return Array.prototype.concat.apply([],n)}function Pv(n){return n.length>0?n[n.length-1]:null}function li(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function sa(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Un.D)(Promise.resolve(n)):(0,Rt.of)(n)}const GA={exact:function iT(n,e,t){if(!Nc(n.segments,e.segments)||!Lg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!iT(n.children[r],e.children[r],t))return!1;return!0},subset:Nv},kv={exact:function(n,e){return ia(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ov(n[t],e[t]))},ignored:()=>!0};function Fg(n,e,t){return GA[t.paths](n.root,e.root,t.matrixParams)&&kv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Nv(n,e,t){return Hh(n,e,e.segments,t)}function Hh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Nc(i,t)||e.hasChildren()||!Lg(i,t,r))}if(n.segments.length===t.length){if(!Nc(n.segments,t)||!Lg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Nv(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Nc(n.segments,i)&&Lg(n.segments,i,r)&&n.children[Vt])&&Hh(n.children[Vt],e,u,r)}}function Lg(n,e,t){return e.every((r,i)=>kv[t](n[i].parameters,r.parameters))}class kc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}toString(){return no.serialize(this)}}class ln{constructor(e,t){this.segments=e,this.children=t,this.parent=null,li(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zh(this)}}class Zh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pc(this.parameters)),this._parameterMap}toString(){return aT(this)}}function Nc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Mv{}class Gh{parse(e){const t=new Uv(e);return new kc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wh(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Kh(t)}=${Kh(i)}`).join("&"):`${Kh(t)}=${Kh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const no=new Gh;function zh(n){return n.segments.map(e=>aT(e)).join("/")}function Wh(n,e){if(!n.hasChildren())return zh(n);if(e){const t=n.children[Vt]?Wh(n.children[Vt],!1):"",r=[];return li(n.children,(i,u)=>{u!==Vt&&r.push(`${u}:${Wh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return li(n.children,(r,i)=>{i===Vt&&(t=t.concat(e(r,i)))}),li(n.children,(r,i)=>{i!==Vt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Vt?[Wh(n.children[Vt],!1)]:[`${i}:${Wh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${zh(n)}/${t[0]}`:`${zh(n)}/(${t.join("//")})`}}function sT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kh(n){return sT(n).replace(/%3B/gi,";")}function Ug(n){return sT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vg(n){return decodeURIComponent(n)}function oT(n){return Vg(n.replace(/\+/g,"%20"))}function aT(n){return`${Ug(n.path)}${function(n){return Object.keys(n).map(e=>`;${Ug(e)}=${Ug(n[e])}`).join("")}(n.parameters)}`}const cM=/^[^\/()?;=#]+/;function Fv(n){const e=n.match(cM);return e?e[0]:""}const uT=/^[^=?&#]+/,aa=/^[^?&#]+/;class Uv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new ln(e,t)),r}parseSegment(){const e=Fv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zh(Vg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Fv(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Fv(this.remaining);i&&(r=i,this.capture(r))}e[Vg(t)]=Vg(r)}parseQueryParam(e){const t=function(n){const e=n.match(uT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function(n){const e=n.match(aa);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=oT(t),u=oT(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Vt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Vt]:new ln([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class cT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=jg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mc(e,this._root).map(t=>t.value)}}function jg(n,e){if(n===e.value)return e;for(const t of e.children){const r=jg(n,t);if(r)return r}return null}function Mc(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Mc(n,t);if(r.length)return r.unshift(e),r}return[]}class ua{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ql(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bg extends cT{constructor(e,t){super(e),this.snapshot=t,Yh(this,e)}toString(){return this.snapshot.toString()}}function qg(n,e){const t=function(n,e){const l=new Qh([],{},{},"",{},Vt,e,null,n.root,-1,{});return new dT("",new ua(l,[]))}(n,e),r=new Fi([new Zh("",{})]),i=new Fi({}),u=new Fi({}),l=new Fi({}),f=new Fi(""),g=new ju(r,i,l,f,u,Vt,e,t.root);return g.snapshot=t.root,new Bg(new ua(g,[]),t)}class ju{constructor(e,t,r,i,u,l,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(e=>Pc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(e=>Pc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Qh{constructor(e,t,r,i,u,l,f,g,_,T,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=f,this.routeConfig=g,this._urlSegment=_,this._lastPathIndex=T,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dT extends cT{constructor(e,t){super(t),this.url=e,Yh(this,t)}toString(){return hT(this._root)}}function Yh(n,e){e.value._routerState=n,e.children.forEach(t=>Yh(n,t))}function hT(n){const e=n.children.length>0?` { ${n.children.map(hT).join(", ")} } `:"";return`${n.value}${e}`}function jv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ia(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ia(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ia(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ia(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bv(n,e){const t=ia(n.params,e.params)&&function(n,e){return Nc(n,e)&&n.every((t,r)=>ia(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bv(n.parent,e.parent))}function $g(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $g(n,r,i);return $g(n,r)})}(n,e,t);return new ua(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return fT(e,l),l}}const r=function(n){return new ju(new Fi(n.url),new Fi(n.params),new Fi(n.queryParams),new Fi(n.fragment),new Fi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>$g(n,u));return new ua(r,i)}}function fT(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)fT(n.children[t],e.children[t])}function Yl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jh(n){return"object"==typeof n&&null!=n&&n.outlets}function $v(n,e,t,r,i){let u={};return r&&li(r,(l,f)=>{u[f]=Array.isArray(l)?l.map(g=>`${g}`):`${l}`}),new kc(t.root===n?e:Hv(t.root,n,e),u,i)}function Hv(n,e,t){const r={};return li(n.children,(i,u)=>{r[u]=i===e?t:Hv(i,e,t)}),new ln(n.segments,r)}class Zv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Yl(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Jh);if(i&&i!==Pv(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yT(n,e,t){if(n||(n=new ln([],{})),0===n.segments.length&&n.hasChildren())return Xh(n,e,t);const r=function(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],f=t[r];if(Jh(f))break;const g=`${f}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&_&&"object"==typeof _&&void 0===_.outlets){if(!ef(g,_,l))return u;r+=2}else{if(!ef(g,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new ln(n.segments.slice(0,r.pathIndex),{});return u.children[Vt]=new ln(n.segments.slice(r.pathIndex),n.children),Xh(u,0,i)}return r.match&&0===i.length?new ln(n.segments,{}):r.match&&!n.hasChildren()?Gg(n,e,t):r.match?Xh(n,0,i):Gg(n,e,t)}function Xh(n,e,t){if(0===t.length)return new ln(n.segments,{});{const r=function(n){return Jh(n[0])?n[0].outlets:{[Vt]:n}}(t),i={};return li(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[l]=yT(n.children[l],e,u))}),li(n.children,(u,l)=>{void 0===r[l]&&(i[l]=u)}),new ln(n.segments,i)}}function Gg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Jh(u)){const g=Gv(u.outlets);return new ln(r,g)}if(0===i&&Yl(t[0])){r.push(new Zh(n.segments[e].path,zv(t[0]))),i++;continue}const l=Jh(u)?u.outlets[Vt]:`${u}`,f=i<t.length-1?t[i+1]:null;l&&f&&Yl(f)?(r.push(new Zh(l,zv(f))),i+=2):(r.push(new Zh(l,{})),i++)}return new ln(r,{})}function Gv(n){const e={};return li(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Gg(new ln([],{}),0,t))}),e}function zv(n){const e={};return li(n,(t,r)=>e[r]=`${t}`),e}function ef(n,e,t){return n==t.path&&ia(e,t.parameters)}class vT{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ql(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),li(i,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ql(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ql(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new $A(u.value.snapshot))}),e.children.length&&this.forwardEvent(new qA(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(jv(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Wg(f.route)}else{const f=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),g=f?f.module.componentFactoryResolver:null;l.attachRef=null,l.route=i,l.resolver=g,l.outlet&&l.outlet.activateWith(i,g),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}function Wg(n){jv(n.value),n.children.forEach(Wg)}class tf{constructor(e,t){this.routes=e,this.module=t}}function ro(n){return"function"==typeof n}function Bu(n){return n instanceof kc}const Jl=Symbol("INITIAL_VALUE");function Kg(){return Mr(n=>function(...n){let e,t;return(0,Mu.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Pg.k)(n[0])&&(n=n[0]),(0,wv.n)(n,t).lift(new m(e))}(n.map(e=>e.pipe(rn(1),ea(Jl)))).pipe(_s((e,t)=>{let r=!1;return t.reduce((i,u,l)=>i!==Jl?i:(u===Jl&&(r=!0),r||!1!==u&&l!==t.length-1&&!Bu(u)?i:u),e)},Jl),Mi(e=>e!==Jl),(0,Gt.U)(e=>Bu(e)?e:!0===e),rn(1)))}let Qg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:function(){return[im]},encapsulation:2}),n})();function wT(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];TT(r,ex(e,r))}}function TT(n,e){n.children&&wT(n.children,e)}function ex(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Kv(n){const e=n.children&&n.children.map(Kv),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=Qg),t}function Ar(n){return n.outlet||Vt}function IT(n,e){const t=n.filter(r=>Ar(r)===e);return t.push(...n.filter(r=>Ar(r)!==e)),t}const Qv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Qv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Rv)(t,n,e);if(!u)return Object.assign({},Qv);const l={};li(u.posParams,(g,_)=>{l[_]=g.path});const f=u.consumed.length>0?Object.assign(Object.assign({},l),u.consumed[u.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:f,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Jg(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Xg(n,e,r)&&Ar(r)!==Vt)}(n,t,r)){const l=new ln(e,function(n,e,t,r){const i={};i[Vt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ar(u)!==Vt){const l=new ln([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Ar(u)]=l}return i}(n,e,r,new ln(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Xg(n,e,r))}(n,t,r)){const l=new ln(n.segments,function(n,e,t,r,i,u){const l={};for(const f of r)if(Xg(n,t,f)&&!i[Ar(f)]){const g=new ln([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===u?n.segments.length:e.length,l[Ar(f)]=g}return Object.assign(Object.assign({},i),l)}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const u=new ln(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Xg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function CT(n,e,t,r){return!!(Ar(n)===r||r!==Vt&&Xg(e,t,n))&&("**"===n.path||Yg(e,n,t).matched)}function Qt(n,e,t){return 0===e.length&&!n.children[t]}class Xl{constructor(e){this.segmentGroup=e||null}}class Yv{constructor(e){this.urlTree=e}}function Uc(n){return new Ir.y(e=>e.error(new Xl(n)))}function io(n){return new Ir.y(e=>e.error(new Yv(n)))}function DT(n){return new Ir.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class $a{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=Jg(this.urlTree.root,[],[],this.config).segmentGroup,t=new ln(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Vt).pipe((0,Gt.U)(u=>this.createUrlTree(em(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rs(u=>{if(u instanceof Yv)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xl?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Vt).pipe((0,Gt.U)(i=>this.createUrlTree(em(i),e.queryParams,e.fragment))).pipe(rs(i=>{throw i instanceof Xl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ln([],{[Vt]:e}):e;return new kc(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Gt.U)(u=>new ln([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Un.D)(i).pipe(Ds(u=>{const l=r.children[u],f=IT(t,u);return this.expandSegmentGroup(e,f,l,u).pipe((0,Gt.U)(g=>({segment:g,outlet:u})))}),_s((u,l)=>(u[l.outlet]=l.segment,u),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mi((i,u)=>n(i,u,r)):NA.y,wo(1),t?zl(e):Rc(()=>new R))}())}expandSegment(e,t,r,i,u,l){return(0,Un.D)(r).pipe(Ds(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,l).pipe(rs(_=>{if(_ instanceof Xl)return(0,Rt.of)(null);throw _}))),Vu(f=>!!f),rs((f,g)=>{if(f instanceof R||"EmptyError"===f.name){if(Qt(t,i,u))return(0,Rt.of)(new ln([],{}));throw new Xl(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,l,f){return CT(i,t,u,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l):Uc(t):Uc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?io(u):this.lineralizeSegments(r,u).pipe((0,Hr.zg)(l=>{const f=new ln(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:f,consumedSegments:g,lastChild:_,positionalParamSegments:T}=Yg(t,i,u);if(!f)return Uc(t);const S=this.applyRedirectCommands(g,i.redirectTo,T);return i.redirectTo.startsWith("/")?io(S):this.lineralizeSegments(i,S).pipe((0,Hr.zg)(D=>this.expandSegment(e,t,r,D.concat(u.slice(_)),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Rt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Gt.U)(D=>(r._loadedConfig=D,new ln(i,{})))):(0,Rt.of)(new ln(i,{}));const{matched:l,consumedSegments:f,lastChild:g}=Yg(t,r,i);if(!l)return Uc(t);const _=i.slice(g);return this.getChildConfig(e,r,i).pipe((0,Hr.zg)(S=>{const D=S.module,x=S.routes,{segmentGroup:O,slicedSegments:$}=Jg(t,f,_,x),Y=new ln(O.segments,O.children);if(0===$.length&&Y.hasChildren())return this.expandChildren(D,x,Y).pipe((0,Gt.U)(Oe=>new ln(f,Oe)));if(0===x.length&&0===$.length)return(0,Rt.of)(new ln(f,{}));const pe=Ar(r)===u;return this.expandSegment(D,Y,x,$,pe?Vt:u,!0).pipe((0,Gt.U)(ve=>new ln(f.concat(ve.segments),ve.children)))}))}getChildConfig(e,t,r){return t.children?(0,Rt.of)(new tf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Rt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Hr.zg)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,Gt.U)(u=>(t._loadedConfig=u,u))):(n=t,new Ir.y(e=>e.error(ci(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Rt.of)(new tf([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return(0,Rt.of)(!0);const u=i.map(l=>{const f=e.get(l);let g;if((n=f)&&ro(n.canLoad))g=f.canLoad(t,r);else{if(!ro(f))throw new Error("Invalid CanLoad guard");g=f(t,r)}var n;return sa(g)});return(0,Rt.of)(u).pipe(Kg(),(0,Os.b)(l=>{if(!Bu(l))return;const f=ci(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw f.url=l,f}),(0,Gt.U)(l=>!0===l))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Rt.of)(r);if(i.numberOfChildren>1||!i.children[Vt])return DT(e.redirectTo);i=i.children[Vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new kc(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return li(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return li(t.children,(f,g)=>{l[g]=this.createSegmentGroup(e,f,r,i)}),new ln(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function em(n){const e={};for(const r of Object.keys(n.children)){const u=em(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new ln(n.segments.concat(e.segments),e.children)}return n}(new ln(n.segments,e))}class sx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nf{constructor(e,t){this.component=e,this.route=t}}function dM(n,e,t){const r=n._root;return jc(r,e?e._root:null,t,[r.value])}function Vc(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function jc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ql(e);return n.children.forEach(l=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const g=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Nc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Nc(n.url,e.url)||!ia(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bv(n,e)||!ia(n.queryParams,e.queryParams);default:return!Bv(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new sx(r)):(u.data=l.data,u._resolvedData=l._resolvedData),jc(n,e,u.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new nf(f.outlet.component,l))}else l&&ed(e,f,i),i.canActivateChecks.push(new sx(r)),jc(n,null,u.component?f?f.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),li(u,(l,f)=>ed(l,t.getContext(f),i)),i}function ed(n,e,t){const r=Ql(n),i=n.value;li(r,(u,l)=>{ed(u,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new nf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class mM{}function cx(n){return new Ir.y(e=>e.error(n))}class _M{constructor(e,t,r,i,u,l){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=l}recognize(){const e=Jg(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Vt);if(null===t)return null;const r=new Qh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ua(r,t),u=new dT(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Fc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const l=t.children[u],f=IT(e,u),g=this.processSegmentGroup(f,l,u);if(null===g)return null;r.push(...g)}const i=lx(r);return i.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const u of e){const l=this.processSegmentAgainstRoute(u,t,r,i);if(null!==l)return l}return Qt(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!CT(e,t,r,i))return null;let u,l=[],f=[];if("**"===e.path){const x=r.length>0?Pv(r).parameters:{};u=new Qh(r,x,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nm(e),Ar(e),e.component,e,dx(t),Za(t)+r.length,RT(e))}else{const x=Yg(t,e,r);if(!x.matched)return null;l=x.consumedSegments,f=r.slice(x.lastChild),u=new Qh(l,x.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nm(e),Ar(e),e.component,e,dx(t),Za(t)+l.length,RT(e))}const g=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:_,slicedSegments:T}=Jg(t,l,f,g.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&_.hasChildren()){const x=this.processChildren(g,_);return null===x?null:[new ua(u,x)]}if(0===g.length&&0===T.length)return[new ua(u,[])];const S=Ar(e)===i,D=this.processSegment(g,_,T,S?Vt:i);return null===D?null:[new ua(u,D)]}}function EM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function lx(n){const e=[],t=new Set;for(const r of n){if(!EM(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=lx(r.children);e.push(new ua(r.value,i))}return e.filter(r=>!t.has(r))}function dx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Za(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function nm(n){return n.data||{}}function RT(n){return n.resolve||{}}function ca(n){return Mr(e=>{const t=n(e);return t?(0,Un.D)(t).pipe((0,Gt.U)(()=>e)):(0,Rt.of)(e)})}class wM extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const rf=new d.OlP("ROUTES");class NT{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Gt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=u.create(e);return new tf(nT(l.injector.get(rf,void 0,d.XFs.Self|d.XFs.Optional)).map(Kv),l)}),rs(u=>{throw t._loader$=void 0,u}));return t._loader$=new Be.c(i,()=>new ns.xQ).pipe((0,MA.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Un.D)(this.loader.load(e)):sa(e()).pipe((0,Hr.zg)(t=>t instanceof d.YKP?(0,Rt.of)(t):(0,Un.D)(this.compiler.compileModuleAsync(t))))}}class MT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new td,this.attachRef=null}}class td{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new MT,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class sf{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nd(n){throw n}function ib(n,e,t){return e.parse("/")}function Bc(n,e){return(0,Rt.of)(null)}const af={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Li=(()=>{class n{constructor(t,r,i,u,l,f,g,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ns.xQ,this.errorHandler=nd,this.malformedUriErrorHandler=ib,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Bc,afterPreactivation:Bc},this.urlHandlingStrategy=new sf,this.routeReuseStrategy=new wM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(d.h0i),this.console=l.get(d.c2e);const D=l.get(d.R0b);this.isNgZoneEnabled=D instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=new kc(new ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new NT(f,g,x=>this.triggerEvent(new eT(x)),x=>this.triggerEvent(new tT(x))),this.routerState=qg(this.currentUrlTree,this.rootComponentType),this.transitions=new Fi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Mi(i=>0!==i.id),(0,Gt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Mr(i=>{let u=!1,l=!1;return(0,Rt.of)(i).pipe((0,Os.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mr(f=>{const g=this.browserUrlTree.toString(),_=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return uf(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Rt.of)(f).pipe(Mr(S=>{const D=this.transitions.getValue();return r.next(new Mg(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),D!==this.transitions.getValue()?M.E:Promise.resolve(S)}),function(n,e,t,r){return Mr(i=>function(n,e,t,r,i){return new $a(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Gt.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Os.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(n,e,t,r,i){return(0,Hr.zg)(u=>function(n,e,t,r,i="emptyOnly",u="legacy"){try{const l=new _M(n,e,t,r,i,u).recognize();return null===l?cx(new mM):(0,Rt.of)(l)}catch(l){return cx(l)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Gt.U)(l=>Object.assign(Object.assign({},u),{targetSnapshot:l}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Os.b)(S=>{"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(S.urlAfterRedirects,S),this.browserUrlTree=S.urlAfterRedirects);const D=new UA(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(D)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:x,source:O,restoredState:$,extras:Y}=f,pe=new Mg(D,this.serializeUrl(x),O,$);r.next(pe);const Re=qg(x,this.rootComponentType).snapshot;return(0,Rt.of)(Object.assign(Object.assign({},f),{targetSnapshot:Re,urlAfterRedirects:x,extras:Object.assign(Object.assign({},Y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),M.E}),ca(f=>{const{targetSnapshot:g,id:_,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:D,replaceUrl:x}}=f;return this.hooks.beforePreactivation(g,{navigationId:_,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!D,replaceUrl:!!x})}),(0,Os.b)(f=>{const g=new VA(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,Gt.U)(f=>Object.assign(Object.assign({},f),{guards:dM(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Hr.zg)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,Rt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Un.D)(n).pipe((0,Hr.zg)(i=>function(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Rt.of)(!0);const l=u.map(f=>{const g=Vc(f,e,i);let _;if(function(n){return n&&ro(n.canDeactivate)}(g))_=sa(g.canDeactivate(n,e,t,r));else{if(!ro(g))throw new Error("Invalid CanDeactivate guard");_=sa(g(n,e,t,r))}return _.pipe(Vu())});return(0,Rt.of)(l).pipe(Kg())}(i.component,i.route,t,e,r)),Vu(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Hr.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,e,t,r){return(0,Un.D)(e).pipe(Ds(i=>ql(function(n,e){return null!==n&&e&&e(new BA(n)),(0,Rt.of)(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new sM(n)),(0,Rt.of)(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ce(()=>{const f=l.guards.map(g=>{const _=Vc(g,l.node,t);let T;if(function(n){return n&&ro(n.canActivateChild)}(_))T=sa(_.canActivateChild(r,n));else{if(!ro(_))throw new Error("Invalid CanActivateChild guard");T=sa(_(r,n))}return T.pipe(Vu())});return(0,Rt.of)(f).pipe(Kg())}));return(0,Rt.of)(u).pipe(Kg())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Rt.of)(!0);const i=r.map(u=>ce(()=>{const l=Vc(u,e,t);let f;if(function(n){return n&&ro(n.canActivate)}(l))f=sa(l.canActivate(e,n));else{if(!ro(l))throw new Error("Invalid CanActivate guard");f=sa(l(e,n))}return f.pipe(Vu())}));return(0,Rt.of)(i).pipe(Kg())}(n,i.route,t))),Vu(i=>!0!==i,!0))}(r,u,n,e):(0,Rt.of)(f)),(0,Gt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Os.b)(f=>{if(Bu(f.guardsResult)){const _=ci(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw _.url=f.guardsResult,_}const g=new Dv(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),Mi(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),ca(f=>{if(f.guards.canActivateChecks.length)return(0,Rt.of)(f).pipe((0,Os.b)(g=>{const _=new Xw(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),Mr(g=>{let _=!1;return(0,Rt.of)(g).pipe(function(n,e){return(0,Hr.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Rt.of)(t);let u=0;return(0,Un.D)(i).pipe(Ds(l=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return(0,Rt.of)({});const u={};return(0,Un.D)(i).pipe((0,Hr.zg)(l=>function(n,e,t,r){const i=Vc(n,e,r);return sa(i.resolve?i.resolve(e,t):i(e,t))}(n[l],e,t,r).pipe((0,Os.b)(f=>{u[l]=f}))),wo(1),(0,Hr.zg)(()=>Object.keys(u).length===i.length?(0,Rt.of)(u):M.E))}(n._resolve,n,e,r).pipe((0,Gt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Fc(n,t).resolve),null)))}(l.route,r,n,e)),(0,Os.b)(()=>u++),wo(1),(0,Hr.zg)(l=>u===i.length?(0,Rt.of)(t):M.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Os.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Os.b)(g=>{const _=new jA(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}))}),ca(f=>{const{targetSnapshot:g,id:_,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:D,replaceUrl:x}}=f;return this.hooks.afterPreactivation(g,{navigationId:_,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!D,replaceUrl:!!x})}),(0,Gt.U)(f=>{const g=function(n,e,t){const r=$g(n,e._root,t?t._root:void 0);return new Bg(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,Os.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Gt.U)(r=>(new vT(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Os.b)({next(){u=!0},complete(){u=!0}}),function(n){return e=>e.lift(new LA(n))}(()=>{var f;if(!u&&!l){const g=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,g)):this.cancelNavigationTransition(i,g)}(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),rs(f=>{if(l=!0,function(n){return n&&n[xv]}(f)){const g=Bu(f.url);g||(this.navigated=!0,this.restoreHistory(i,!0));const _=new Jw(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(_),g?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uf(i.source)};this.scheduleNavigation(T,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new Dr(i.id,this.serializeUrl(i.extractedUrl),f);r.next(g);try{i.resolve(this.errorHandler(f))}catch(_){i.reject(_)}}return M.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:u,urlTree:l}=r,f={replaceUrl:!0};if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(f.state=g)}this.scheduleNavigation(l,i,u,f)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wT(t),this.config=t.map(Kv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:g}=r,_=i||this.routerState.root,T=g?this.currentUrlTree.fragment:l;let S=null;switch(f){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),function(n,e,t,r,i){if(0===t.length)return $v(e.root,e.root,e,r,i);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Zv(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return li(u.outlets,(g,_)=>{f[_]="string"==typeof g?g.split("/"):g}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new Zv(t,e,r)}(t);if(u.toRoot())return $v(e.root,new ln([],{}),e,r,i);const l=function(n,e,t){if(n.isAbsolute)return new Hg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Hg(u,u===e.root,0)}const r=Yl(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Hg(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),f=l.processChildren?Xh(l.segmentGroup,l.index,u.commands):yT(l.segmentGroup,l.index,u.commands);return $v(l.segmentGroup,f,e,r,i)}(_,this.currentUrlTree,t,S,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},af):!1===r?Object.assign({},rd):r,Bu(t))return Fg(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Fg(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Oc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,l){var f,g;if(this.disposed)return Promise.resolve(!1);const _=this.getTransition(),T=uf(r)&&_&&!uf(_.source),x=(this.lastSuccessfulId===_.id||this.currentNavigation?_.rawUrl:_.urlAfterRedirects).toString()===t.toString();if(T&&x)return Promise.resolve(!0);let O,$,Y;l?(O=l.resolve,$=l.reject,Y=l.promise):Y=new Promise((ve,Oe)=>{O=ve,$=Oe});const pe=++this.navigationId;let Re;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Re=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):Re=0,this.setTransition({id:pe,targetPageId:Re,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:O,reject:$,promise:Y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Y.catch(ve=>Promise.reject(ve))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===l?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Jw(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.DyG),d.LFG(Mv),d.LFG(td),d.LFG(mt),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function uf(n){return"imperative"!==n}let la=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=[],this.onChanges=new ns.xQ,this.subscription=t.events.subscribe(u=>{u instanceof Oc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,l){if(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target)return!0;const f={skipLocationChange:qc(this.skipLocationChange),replaceUrl:qc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Li),d.Y36(ju),d.Y36(Ie))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&(d.Ikx("href",r.href,d.LSH),d.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),n})();function qc(n){return""===n||!!n}let im=(()=>{class n{constructor(t,r,i,u,l){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=u||Vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const l=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new TM(t,f,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(td),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class TM{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ju?this.route:e===td?this.childContexts:this.parent.get(e,t)}}class sb{}class UT{preload(e,t){return(0,Rt.of)(null)}}let ob=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=u,this.preloadingStrategy=l,this.loader=new NT(r,i,_=>t.triggerEvent(new eT(_)),_=>t.triggerEvent(new tT(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mi(t=>t instanceof Oc),Ds(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const l=u._loadedConfig;i.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Un.D)(i).pipe((0,Nu.J)(),(0,Gt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Rt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Hr.zg)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Li),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(sb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ab=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Mg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Wl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Li),d.LFG($o),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ei=new d.OlP("ROUTER_CONFIGURATION"),VT=new d.OlP("ROUTER_FORROOT_GUARD"),SM=[mt,{provide:Mv,useClass:Gh},{provide:Li,useFactory:function(n,e,t,r,i,u,l,f={},g,_){const T=new Li(null,n,e,t,r,i,u,nT(l));return g&&(T.urlHandlingStrategy=g),_&&(T.routeReuseStrategy=_),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(f,T),f.enableTracing&&T.events.subscribe(S=>{var D,x;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(x=console.groupEnd)||void 0===x||x.call(console)}),T},deps:[Mv,td,mt,d.zs3,d.v3s,d.Sil,rf,ei,[class{},new d.FiY],[class{},new d.FiY]]},td,{provide:ju,useFactory:function(n){return n.routerState.root},deps:[Li]},{provide:d.v3s,useClass:d.EAV},ob,UT,class{preload(e,t){return t().pipe(rs(()=>(0,Rt.of)(null)))}},{provide:ei,useValue:{enableTracing:!1}}];function CM(){return new d.PXZ("Router",Li)}let ub=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[SM,lb(t),{provide:VT,useFactory:cb,deps:[[Li,new d.FiY,new d.tp0]]},{provide:ei,useValue:r||{}},{provide:Ie,useFactory:yx,deps:[we,[new d.tBr(ze),new d.FiY],ei]},{provide:ab,useFactory:DM,deps:[Li,$o,ei]},{provide:sb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:UT},{provide:d.PXZ,multi:!0,useFactory:CM},[sm,{provide:d.ip1,multi:!0,useFactory:Ex,deps:[sm]},{provide:BT,useFactory:jT,deps:[sm]},{provide:d.tb,multi:!0,useExisting:BT}]]}}static forChild(t){return{ngModule:n,providers:[lb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(VT,8),d.LFG(Li,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function DM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ab(n,e,t)}function yx(n,e,t={}){return t.useHash?new rt(n,e):new Me(n,e)}function cb(n){return"guarded"}function lb(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:rf,multi:!0,useValue:n}]}let sm=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ns.xQ}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),u=this.injector.get(Li),l=this.injector.get(ei);return"disabled"===l.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,Rt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ei),i=this.injector.get(ob),u=this.injector.get(ab),l=this.injector.get(Li),f=this.injector.get(d.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),i.setUpPreloading(),u.init(),l.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Ex(n){return n.appInitializer.bind(n)}function jT(n){return n.bootstrapListener.bind(n)}const BT=new d.OlP("Router Initializer");var db=k(5106),Ix=k(708),kt=k(3854),Ps=k(8026),qu=k(5422),id=k(3910);function AM(n){return new Ir.y(function(e){return{unsubscribe:(0,Ix.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class om{constructor(e){return e}}const Cx=(0,wn.u3)(AM,!0);class ff{constructor(e){return e}}const yb=wn.nk.async,XT=(0,wn.u3)(db.Kz,!0),Hx=(0,wn.u3)(db.Iv,!0);let Gx=(()=>{class n{constructor(t,r,i){let u;this.disposables=[],(0,Fu.KN)("angularfire",wn.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(l=>{u=l})),yb().then(()=>{const l=i.get(ff);l?this.disposables=[Cx(t).subscribe(f=>{Hx(l,null==f?void 0:f.uid),u()})]:u()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(om),d.LFG(d.R0b),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const lm="firebase_screen_id",dm="outlet",is="screen_class",Qx="screen_name";let rI=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const hm={},Yx=n=>{const e=[n[is],n[dm]].join("#");if(hm.hasOwnProperty(e))return hm[e];{const t=rI++;return hm[e]=t,t}};let iI=(()=>{class n{constructor(t,r,i,u,l,f){(0,Fu.KN)("angularfire",wn.q4.full,"screen-tracking"),yb().then(()=>{const g=f.get(ff);!t||!g||u.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Mi(i=>i instanceof $A)).pipe(Mr(i=>{var u;const f=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,x=>x.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===u?void 0:u.toString())||"",g=n.routerState.root.children.map(x=>x).find(x=>x.outlet===i.snapshot.outlet);if(!g)return(0,Rt.of)(null);let _=g;for(;_.firstChild;)_=_.firstChild;const T=_.pathFromRoot.map(x=>{var O;return null===(O=x.routeConfig)||void 0===O?void 0:O.path}).filter(x=>x).join("/")||"/",S={[Qx]:T,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:T,[dm]:i.snapshot.outlet};e&&(S.page_title=e.getTitle());let D=g.component;if(D){if(D===Qg){let x=i.snapshot;for(;x.firstChild;)x=x.firstChild;D=x.component}}else D=i.snapshot.component;if("string"==typeof D)return(0,Rt.of)(Object.assign(Object.assign({},S),{[is]:D}));if(D){const x=t.resolveComponentFactory(D);return(0,Rt.of)(Object.assign(Object.assign({},S),{[is]:x.selector}))}return(0,Rt.of)(null)}),Mi(i=>!!i),(0,Gt.U)(i=>Object.assign({firebase_screen_class:i[is],[lm]:Yx(i)},i)),function(n,e,t,r){return i=>i.lift(new Eg(n,void 0,void 0,void 0))}(i=>i[dm]),(0,Hr.zg)(i=>i.pipe(Sg((u,l)=>JSON.stringify(u)===JSON.stringify(l)),ea(void 0),xs(),(0,Gt.U)(([u,l])=>u?Object.assign({firebase_previous_class:u[is],firebase_previous_screen:u[Qx],firebase_previous_id:u[lm]},l):l)))))(t,r,i).pipe(Mr(_=>function(n,e,t,r){return new(t||(t=Promise))(function(u,l){function f(T){try{_(r.next(T))}catch(S){l(S)}}function g(T){try{_(r.throw(T))}catch(S){l(S)}}function _(T){T.done?u(T.value):function(u){return u instanceof t?u:new t(function(l){l(u)})}(T.value).then(f,g)}_((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return l&&(yield l.initialized),XT(g,"screen_view",_)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Li,8),d.LFG(Pl,8),d.LFG(d._Vd),d.LFG(d.R0b),d.LFG(Gx,8),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var ss=k(8939),eR=k(6682),Ga=k(309),$c=k(7771),sI=k(8858);class To extends ns.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new gf(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,u=r.length;let l;if(this.closed)throw new Gl.N;if(this.isStopped||this.hasError?l=ui.w.EMPTY:(this.observers.push(e),l=new sI.W(this,e)),i&&e.add(e=new Ga.ht(e,i)),t)for(let f=0;f<u&&!e.closed;f++)e.next(r[f]);else for(let f=0;f<u&&!e.closed;f++)e.next(r[f].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||$c.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,u=i.length;let l=0;for(;l<u&&!(e-i[l].time<r);)l++;return u>t&&(l=Math.max(l,u-t)),l>0&&i.splice(0,l),i}}class gf{constructor(e,t){this.time=e,this.value=t}}function oI(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},i=>i.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let i,l,u=0,f=!1,g=!1;return function(T){let S;u++,!i||f?(f=!1,i=new To(n,e,r),S=i.subscribe(this),l=T.subscribe({next(D){i.next(D)},error(D){f=!0,i.error(D)},complete(){g=!0,l=void 0,i.complete()}}),g&&(l=void 0)):S=i.subscribe(this),this.add(()=>{u--,S.unsubscribe(),S=void 0,l&&!g&&t&&0===u&&(l.unsubscribe(),l=void 0,i=void 0)})}}(r))}function pm(n,e){return e?Mr(()=>n,e):Mr(()=>n)}var so=k(3101),Ne=k(8239);const Si=new Map,Hc={activated:!1,tokenObservers:[]},gm={initialized:!1,enabled:!1};function qn(n){return Si.get(n)||Hc}function ks(n,e){Si.set(n,e)}function za(){return gm}class cd{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new kt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ui=new kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vb(n){if(!qn(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function ym(n,e){return _m.apply(this,arguments)}function _m(){return(_m=(0,Ne.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const x=yield l.getHeartbeatsHeader();x&&(u["X-Firebase-Client"]=x)}const f={method:"POST",body:JSON.stringify(e),headers:u};let g,_;try{g=yield fetch(n,f)}catch(x){throw Ui.create("fetch-network-error",{originalErrorMessage:null===(r=x)||void 0===r?void 0:r.message})}if(200!==g.status)throw Ui.create("fetch-status-error",{httpStatus:g.status});try{_=yield g.json()}catch(x){throw Ui.create("fetch-parse-error",{originalErrorMessage:null===(i=x)||void 0===i?void 0:i.message})}const T=_.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const S=1e3*Number(T[1]),D=Date.now();return{token:_.token,expireTimeMillis:D+S,issuedAtTimeMillis:D}})).apply(this,arguments)}function cI(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const dd="firebase-app-check-store";let bb=null;function hI(){return bb||(bb=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(Ui.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(dd,{keyPath:"compositeKey"})}}catch(r){e(Ui.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),bb)}function mI(){return(mI=(0,Ne.Z)(function*(n,e){const r=(yield hI()).transaction(dd,"readwrite"),u=r.objectStore(dd).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=g=>{l()},r.onerror=g=>{var _;f(Ui.create("storage-set",{originalErrorMessage:null===(_=g.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const bm=new qu.Yd("@firebase/app-check");function aR(n,e){return(0,kt.hl)()?function(n,e){return function(n,e){return mI.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Em(){return za().enabled}function wm(){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,Ne.Z)(function*(){const n=za();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const lF={error:"UNKNOWN_ERROR"};function dF(n){return kt.US.encodeString(JSON.stringify(n),!1)}function Tm(n){return Im.apply(this,arguments)}function Im(){return(Im=(0,Ne.Z)(function*(n,e=!1){const t=n.app;vb(t);const r=qn(t);let u,i=r.token;if(!i){const g=yield r.cachedTokenPromise;g&&Sm(g)&&(i=g)}if(!e&&i&&Sm(i))return{token:i.token};let f,l=!1;if(Em()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ym(cI(t,yield wm()),n.heartbeatServiceProvider).then(_=>(r.exchangeTokenPromise=void 0,_)),l=!0);const g=yield r.exchangeTokenPromise;return yield aR(t,g),ks(t,Object.assign(Object.assign({},r),{token:g})),{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(g=>(r.exchangeTokenPromise=void 0,g)),l=!0),i=yield r.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?bm.warn(g.message):bm.error(g),u=g}return i?(f={token:i.token},ks(t,Object.assign(Object.assign({},r),{token:i})),yield aR(t,i)):f=vI(u),l&&Sb(t,f),f})).apply(this,arguments)}function Ib(n,e){const t=qn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ks(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Gc(n){const{app:e}=n,t=qn(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new cd((0,Ne.Z)(function*(){let r;if(r=qn(e).token?yield Tm(n,!0):yield Tm(n),r.error)throw r.error}),()=>!0,()=>{const t=qn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ks(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Sb(n,e){const t=qn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Sm(n){return n.expireTimeMillis-Date.now()>0}function vI(n){return{token:dF(lF),error:n}}class Cm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qn(this.app);for(const t of e)Ib(this.app,t.next);return Promise.resolve()}}const Rb="app-check-internal";(0,Ps._registerComponent)(new id.wA("app-check",n=>function(n,e){return new Cm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Rb).initialize()})),(0,Ps._registerComponent)(new id.wA(Rb,n=>function(n){return{getToken:e=>Tm(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,u=qn(i),l={next:t,error:r,type:e};if(ks(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,l]})),u.token&&Sm(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),Gc(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Gc(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ib(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ps.registerVersion)("@firebase/app-check","0.5.12");class bf{constructor(){return(0,wn.vb)("app-check")}}"undefined"!=typeof window&&window;var Nb=k(7841);const Mb=new d.OlP("angularfire2.auth.use-emulator"),Fb=new d.OlP("angularfire2.auth.settings"),Lb=new d.OlP("angularfire2.auth.tenant-id"),Ub=new d.OlP("angularfire2.auth.langugage-code"),DR=new d.OlP("angularfire2.auth.use-device-language"),RI=new d.OlP("angularfire.auth.persistence"),OI=(n,e,t,r,i,u,l,f)=>(0,ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,u&&g.useDeviceLanguage(),l)for(const[_,T]of Object.entries(l))g.settings[_]=T;return f&&g.setPersistence(f),g},[t,r,i,u,l,f]);let Rm=(()=>{class n{constructor(t,r,i,u,l,f,g,_,T,S,D,x){const O=new ns.xQ,$=(0,Rt.of)(void 0).pipe((0,Ga.QV)(l.outsideAngular),Mr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4828)))),(0,Gt.U)(()=>(0,ss.on)(t,u,r)),(0,Gt.U)(Y=>OI(Y,u,f,_,T,S,g,D)),oI({bufferSize:1,refCount:!1}));if(Oa(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Rt.of)(null);else{$.pipe(Vu()).subscribe();const pe=$.pipe(Mr(Oe=>Oe.getRedirectResult().then(Qe=>Qe,()=>null)),wn.iC,oI({bufferSize:1,refCount:!1})),Re=$.pipe(Mr(Oe=>new Ir.y(Qe=>({unsubscribe:u.runOutsideAngular(()=>Oe.onAuthStateChanged(Ye=>Qe.next(Ye),Ye=>Qe.error(Ye),()=>Qe.complete()))})))),ve=$.pipe(Mr(Oe=>new Ir.y(Qe=>({unsubscribe:u.runOutsideAngular(()=>Oe.onIdTokenChanged(Ye=>Qe.next(Ye),Ye=>Qe.error(Ye),()=>Qe.complete()))}))));this.authState=pe.pipe(pm(Re),(0,so.R)(l.outsideAngular),(0,Ga.QV)(l.insideAngular)),this.user=pe.pipe(pm(ve),(0,so.R)(l.outsideAngular),(0,Ga.QV)(l.insideAngular)),this.idToken=this.user.pipe(Mr(Oe=>Oe?(0,Un.D)(Oe.getIdToken()):(0,Rt.of)(null))),this.idTokenResult=this.user.pipe(Mr(Oe=>Oe?(0,Un.D)(Oe.getIdTokenResult()):(0,Rt.of)(null))),this.credential=(0,eR.T)(pe,O,this.authState.pipe(Mi(Oe=>!Oe))).pipe((0,Gt.U)(Oe=>(null==Oe?void 0:Oe.user)?Oe:null),(0,so.R)(l.outsideAngular),(0,Ga.QV)(l.insideAngular))}return(0,ss.pX)(this,$,u,{spy:{apply:(Y,pe,Re)=>{(Y.startsWith("signIn")||Y.startsWith("createUser"))&&Re.then(ve=>O.next(ve))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss.Dh),d.LFG(ss.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(wn.HU),d.LFG(Mb,8),d.LFG(Fb,8),d.LFG(Lb,8),d.LFG(Ub,8),d.LFG(DR,8),d.LFG(RI,8),d.LFG(bf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AR=(()=>{class n{constructor(){Nb.Z.registerVersion("angularfire",wn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Rm]}),n})();var Gr=k(3637);class xR{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new RR(e,this.dueTime,this.scheduler))}}class RR extends Zr.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(kI,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function kI(n){n.debouncedNext()}var NI=k(3394);const Vb="firebasestorage.googleapis.com",jb="storageBucket";class xr extends kt.ZR{constructor(e,t){super(Om(e),`Firebase Storage: ${t} (${Om(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Om(n){return"storage/"+n}function Bb(){return new xr("unknown","An unknown error occurred, please check the error payload for server response.")}function LI(){return new xr("canceled","User canceled the upload/download.")}function $b(){return new xr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pd(n){return new xr("invalid-argument",n)}function VI(){return new xr("app-deleted","The Firebase app was deleted.")}function jI(n){return new xr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zc(n,e){return new xr("invalid-format","String does not match format '"+n+"': "+e)}function Wa(n){throw new xr("internal-error","Internal error: "+n)}class Vi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Vi.makeFromUrl(e,t)}catch(i){return new Vi(e,"")}if(""===r.path)return r;throw new xr("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(Oe){Oe.path_=decodeURIComponent(Oe.path)}const S=t.replace(/[.]/g,"\\."),ve=[{regex:f,indices:{bucket:1,path:3},postModify:function(Oe){"/"===Oe.path.charAt(Oe.path.length-1)&&(Oe.path_=Oe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===Vb?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Oe=0;Oe<ve.length;Oe++){const Qe=ve[Oe],Ye=Qe.regex.exec(e);if(Ye){let Nt=Ye[Qe.indices.path];Nt||(Nt=""),r=new Vi(Ye[Qe.indices.bucket],Nt),Qe.postModify(r);break}}if(null==r)throw new xr("invalid-url","Invalid URL '"+e+"'.");return r}}class BI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function wf(n){return"string"==typeof n||n instanceof String}function Hb(n){return Tf()&&n instanceof Blob}function Tf(){return"undefined"!=typeof Blob}function gd(n,e,t,r){if(r<e)throw pd(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw pd(`Invalid value for '${n}'. Expected ${t} or less.`)}function Co(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function km(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ka=(()=>{return(n=Ka||(Ka={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Ka;var n})();class HI{constructor(e,t,r,i,u,l,f,g,_,T,S){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=T,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,x)=>{this.resolve_=D,this.reject_=x,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());void 0!==g?u(g):u()}catch(g){l(g)}else if(null!==f){const g=Bb();g.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,g):g)}else l(i.canceled?this.appDelete_?VI():LI():new xr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new If(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,i=null,u=null,l=!1,f=0;function g(){return 2===f}let _=!1;function T(...Y){_||(_=!0,e.apply(null,Y))}function S(Y){i=setTimeout(()=>{i=null,n(x,g())},Y)}function D(){u&&clearTimeout(u)}function x(Y,...pe){if(_)return void D();if(Y)return D(),void T.call(null,Y,...pe);if(g()||l)return D(),void T.call(null,Y,...pe);let ve;r<64&&(r*=2),1===f?(f=2,ve=0):ve=1e3*(r+Math.random()),S(ve)}let O=!1;function $(Y){O||(O=!0,D(),!_&&(null!==i?(Y||(f=2),clearTimeout(i),S(0)):Y||(f=1)))}return S(0),u=setTimeout(()=>{l=!0,$(!0)},t),$}((r,i)=>{if(i)return void r(!1,new If(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const f=u.getErrorCode()===Ka.NO_ERROR,g=u.getStatus();if(!f||this.isRetryStatusCode_(g)){const T=u.getErrorCode()===Ka.ABORT;return void r(!1,new If(!1,null,T))}const _=-1!==this.successCodes_.indexOf(g);r(!0,new If(_,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||u}}class If{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function VR(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Tf())return new Blob(n);throw new xr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zb{constructor(e,t){this.data=e,this.contentType=t||null}}function Gb(n,e){switch(n){case Ns.RAW:return new Zb(WI(e));case Ns.BASE64:case Ns.BASE64URL:return new Zb(KI(n,e));case Ns.DATA_URL:return new Zb(function(n){const e=new QI(n);return e.base64?KI(Ns.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw zc(Ns.DATA_URL,"Malformed data URL.")}return WI(e)}(e.rest)}(e),function(n){return new QI(n).contentType}(e))}throw Bb()}function WI(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function KI(n,e){switch(n){case Ns.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw zc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ns.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw zc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(i){throw zc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class QI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zc(Ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class fa{constructor(e,t){let r=0,i="";Hb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Hb(this.data_)){const i=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new fa(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new fa(r,!0)}}static getBlob(...e){if(Tf()){const t=e.map(r=>r instanceof fa?r.data_:r);return new fa(VR.apply(null,t))}{const t=e.map(l=>wf(l)?Gb(Ns.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)i[u++]=l[f]}),new fa(i,!0)}}uploadData(){return this.data_}}function zb(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Wb(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function XI(n,e){return e}class ji{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||XI}}let Sf=null;function md(){if(Sf)return Sf;const n=[];n.push(new ji("bucket")),n.push(new ji("generation")),n.push(new ji("metageneration")),n.push(new ji("name","fullPath",!0));const t=new ji("name");t.xform=function(u,l){return function(n){return!wf(n)||n.length<2?n:Wb(n)}(l)},n.push(t);const i=new ji("size");return i.xform=function(u,l){return void 0!==l?Number(l):l},n.push(i),n.push(new ji("timeCreated")),n.push(new ji("updated")),n.push(new ji("md5Hash",null,!0)),n.push(new ji("cacheControl",null,!0)),n.push(new ji("contentDisposition",null,!0)),n.push(new ji("contentEncoding",null,!0)),n.push(new ji("contentLanguage",null,!0)),n.push(new ji("contentType",null,!0)),n.push(new ji("metadata","customMetadata",!0)),Sf=n,Sf}function Qb(n,e,t){const r=zb(e);return null===r?null:function(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const l=t[u];r[l.local]=l.xform(r,e[l.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const u=new Vi(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function Yb(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const nS="prefixes";class Qa{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Do(n){if(!n)throw Bb()}function Cf(n,e){return function(r,i){const u=Qb(n,i,e);return Do(null!==u),u}}function yd(n){return function(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new xr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new xr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new xr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new xr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Df(n){const e=yd(n);return function(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function(n){return new xr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function rS(n,e,t){const i=Co(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Qa(i,"GET",Cf(n,t),l);return f.errorHandler=Df(e),f}function Nm(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const f=Co(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,T=new Qa(f,"GET",function(n,e){return function(r,i){const u=function(n,e,t){const r=zb(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[nS])for(const i of t[nS]){const u=i.replace(/\/$/,""),l=n._makeStorageReference(new Vi(e,u));r.prefixes.push(l)}if(t.items)for(const i of t.items){const u=n._makeStorageReference(new Vi(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return Do(null!==u),u}}(n,e.bucket),_);return T.urlParams=u,T.errorHandler=yd(e),T}function Xb(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class Um{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Vm(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){Do(!1)}return Do(!!t&&-1!==(e||["active"]).indexOf(t)),t}const zR={STATE_CHANGED:"state_changed"},os={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qc(n){switch(n){case"running":case"pausing":case"canceling":return os.RUNNING;case"paused":return os.PAUSED;case"success":return os.SUCCESS;case"canceled":return os.CANCELED;default:return os.ERROR}}class WR{constructor(e,t,r){if("function"==typeof e||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function _d(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class uS extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Wa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wa("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Wa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function oo(){return new uS}class lS{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=md(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),l=Xb(e,r,i),f={name:l.fullPath},g=Co(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},S=Yb(l,t),O=new Qa(g,"POST",function($){let Y;Vm($);try{Y=$.getResponseHeader("X-Goog-Upload-URL")}catch(pe){Do(!1)}return Do(wf(Y)),Y},n.maxUploadRetryTime);return O.urlParams=f,O.headers=T,O.body=S,O.errorHandler=yd(e),O}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,oo,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function(n,e,t,r){const g=new Qa(t,"POST",function(_){const T=Vm(_,["active","final"]);let S=null;try{S=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(x){Do(!1)}S||Do(!1);const D=Number(S);return Do(!isNaN(D)),new Um(D,r.size(),"final"===T)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=yd(e),g}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,oo,t,r);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Um(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let l;try{l=function(n,e,t,r,i,u,l,f){const g=new Um(0,0);if(l?(g.current=l.current,g.total=l.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw new xr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const _=g.total-g.current;let T=_;i>0&&(T=Math.min(T,i));const S=g.current,O={"X-Goog-Upload-Command":T===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},$=r.slice(S,S+T);if(null===$)throw $b();const ve=new Qa(t,"POST",function(Oe,Qe){const Ye=Vm(Oe,["active","final"]),ot=g.current+T,Nt=r.size();let zn;return zn="final"===Ye?Cf(e,u)(Oe,Qe):null,new Um(ot,Nt,"final"===Ye,zn)},e.maxUploadRetryTime);return ve.headers=O,ve.body=$.uploadData(),ve.progressCallback=f||null,ve.errorHandler=yd(n),ve}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(l,oo,i,u);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=rS(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,oo,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},g=function(){let ve="";for(let Oe=0;Oe<2;Oe++)ve+=Math.random().toString().slice(2);return ve}();l["Content-Type"]="multipart/related; boundary="+g;const _=Xb(e,r,i),T=Yb(_,t),x=fa.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+g+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===x)throw $b();const O={name:_.fullPath},$=Co(u,n.host,n._protocol),pe=n.maxUploadRetryTime,Re=new Qa($,"POST",Cf(n,t),pe);return Re.urlParams=O,Re.headers=l,Re.body=x.uploadData(),Re.errorHandler=yd(e),Re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,oo,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=LI(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Qc(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new WR(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Qc(this._state)){case os.SUCCESS:_d(this._resolve.bind(null,this.snapshot))();break;case os.CANCELED:case os.ERROR:_d(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qc(this._state)){case os.RUNNING:case os.PAUSED:e.next&&_d(e.next.bind(e,this.snapshot))();break;case os.SUCCESS:e.complete&&_d(e.complete.bind(e))();break;default:e.error&&_d(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Yc{constructor(e,t){this._service=e,this._location=t instanceof Vi?t:Vi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Yc(e,t)}get root(){const e=new Vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wb(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Vi(this._location.bucket,e);return new Yc(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw jI(e)}}function pS(n,e,t){return nE.apply(this,arguments)}function nE(){return(nE=(0,Ne.Z)(function*(n,e,t){const i=yield JR(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield pS(n,e,i.nextPageToken))})).apply(this,arguments)}function JR(n,e){null!=e&&"number"==typeof e.maxResults&&gd("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Nm(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,oo)}function TF(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const i=Co(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Qa(i,"GET",function(n,e){return function(r,i){const u=Qb(n,i,e);return Do(null!==u),function(n,e,t,r){const i=zb(e);if(null===i||!wf(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const l=encodeURIComponent;return u.split(",").map(_=>{const S=n.fullPath;return Co("/b/"+l(n.bucket)+"/o/"+l(S),t,r)+km({alt:"media",token:_})})[0]}(u,i,n.host,n._protocol)}}(n,t),l);return f.errorHandler=Df(e),f}(n.storage,n._location,md());return n.storage.makeRequestWithTokens(e,oo).then(t=>{if(null===t)throw new xr("no-download-url","The given file does not have any download URLs.");return t})}function Rf(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Vi(n._location.bucket,t);return new Yc(n.storage,r)}function rE(n,e){if(n instanceof iE){const t=n;if(null==t._bucket)throw new xr("no-default-bucket","No default bucket found. Did you set the '"+jb+"' property when initializing the app?");const r=new Yc(t,t._bucket);return null!=e?rE(r,e):r}return void 0!==e?Rf(n,e):n}function Of(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof iE)return function(n,e){return new Yc(n,e)}(n,e);throw pd("To use ref(service, url), the first argument must be a Storage instance.")}return rE(n,e)}function mS(n,e){const t=null==e?void 0:e[jb];return null==t?null:Vi.makeFromBucketSpec(t,n)}class iE{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=Vb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Vi.makeFromBucketSpec(i,this._host):mS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Vi.makeFromBucketSpec(this._url,e):mS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gd("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gd("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ne.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ne.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yc(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new BI(VI());{const u=function(n,e,t,r,i,u){const l=km(n.urlParams),f=n.url+l,g=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(g,u),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,r),new HI(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Ne.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const yS="@firebase/storage";function Bm(n,e){return Of(n=(0,kt.m9)(n),e)}(0,Ps._registerComponent)(new id.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new iE(t,r,i,e,Ps.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ps.registerVersion)(yS,"0.9.9",""),(0,Ps.registerVersion)(yS,"0.9.9","esm2017");class qm{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class aE{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qm(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new qm(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?l=>t(new qm(l,this,this._ref)):{next:t.next?l=>t.next(new qm(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class TS{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ya(e,this._service))}get items(){return this._delegate.items.map(e=>new Ya(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ya{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return Rf(n,e)}(this._delegate,e);return new Ya(t,this.storage)}get root(){return new Ya(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ya(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new aE(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new lS(n,new fa(e),t)}(n=(0,kt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ns.RAW,r){this._throwIfRoot("putString");const i=Gb(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new aE(new lS(this._delegate,new fa(i.data,!0),u),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return pS(n,e).then(()=>e)}(n=(0,kt.m9)(n))}(this._delegate).then(e=>new TS(e,this.storage))}list(e){return function(n,e){return JR(n=(0,kt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new TS(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=rS(n.storage,n._location,md());return n.storage.makeRequestWithTokens(e,oo)}(n=(0,kt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const u=Co(e.fullServerUrl(),n.host,n._protocol),f=Yb(t,r),_=n.maxOperationRetryTime,T=new Qa(u,"PATCH",Cf(n,r),_);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=Df(e),T}(n.storage,n._location,e,md());return n.storage.makeRequestWithTokens(t,oo)}(n=(0,kt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return TF((0,kt.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=Co(e.fullServerUrl(),n.host,n._protocol),f=new Qa(r,"DELETE",function(g,_){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Df(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,oo)}((0,kt.m9)(this._delegate))}_throwIfRoot(e){if(""===this._delegate._location.path)throw jI(e)}}class IS{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(SS(e))throw pd("ref() expected a child path but got a URL, use refFromURL instead.");return new Ya(Bm(this._delegate,e),this)}refFromURL(e){if(!SS(e))throw pd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vi.makeFromUrl(e,this._delegate.host)}catch(t){throw pd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ya(Bm(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,kt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function SS(n){return/^[A-Za-z]+:\/\//.test(n)}function hO(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new IS(t,r)}function AS(n){const e=function(n){return new Ir.y(e=>{const t=l=>e.next(l);t(n.snapshot);const u=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){u()}}).pipe(function(n,e=Gr.P){return t=>t.lift(new xR(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Gt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function $m(n){return{getDownloadURL:()=>(0,Rt.of)(void 0).pipe(wn.fc,Mr(()=>n.getDownloadURL()),wn.iC),getMetadata:()=>(0,Rt.of)(void 0).pipe(wn.fc,Mr(()=>n.getMetadata()),wn.iC),delete:()=>(0,Un.D)(n.delete()),child:e=>$m(n.child(e)),updateMetadata:e=>(0,Un.D)(n.updateMetadata(e)),put:(e,t)=>AS(n.put(e,t)),putString:(e,t,r)=>AS(n.putString(e,t,r)),list:e=>(0,Un.D)(n.list(e)),listAll:()=>(0,Un.D)(n.listAll())}}!function(n){const e={TaskState:os,TaskEvent:zR,StringFormat:Ns,Storage:IS,Reference:Ya};n.INTERNAL.registerComponent(new id.wA("storage-compat",hO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(NI.Z);const uE=new d.OlP("angularfire2.storageBucket"),fO=new d.OlP("angularfire2.storage.maxUploadRetryTime"),pO=new d.OlP("angularfire2.storage.maxOperationRetryTime"),gO=new d.OlP("angularfire2.storage.use-emulator");let kf=(()=>{class n{constructor(t,r,i,u,l,f,g,_,T,S){const D=(0,ss.on)(t,l,r);this.storage=(0,ss.cc)(`${D.name}.storage.${i}`,"AngularFireStorage",D.name,()=>{const x=l.runOutsideAngular(()=>D.storage(i||void 0)),O=T;return O&&x.useEmulator(...O),g&&x.setMaxUploadRetryTime(g),_&&x.setMaxOperationRetryTime(_),x},[g,_])}ref(t){return $m(this.storage.ref(t))}refFromURL(t){return $m(this.storage.refFromURL(t))}upload(t,r,i){return $m(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss.Dh),d.LFG(ss.xv,8),d.LFG(uE,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(wn.HU),d.LFG(fO,8),d.LFG(pO,8),d.LFG(gO,8),d.LFG(bf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),RS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),cE=(()=>{class n{constructor(){Nb.Z.registerVersion("angularfire",wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[kf],imports:[RS]}),n})();class OS{}const Ao="*";function lE(n,e=null){return{type:2,steps:n,options:e}}function dE(n){return{type:6,styles:n,offset:null}}function Jc(n){Promise.resolve(null).then(n)}class vd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Jc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _O{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?Jc(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function xo(){return"undefined"!=typeof window&&void 0!==window.document}function Hm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xc(n){switch(n.length){case 0:return new vd;case 1:return n[0];default:return new _O(n)}}function Mf(n,e,t,r,i={},u={}){const l=[],f=[];let g=-1,_=null;if(r.forEach(T=>{const S=T.offset,D=S==g,x=D&&_||{};Object.keys(T).forEach(O=>{let $=O,Y=T[O];if("offset"!==O)switch($=e.normalizePropertyName($,l),Y){case"!":Y=i[O];break;case Ao:Y=u[O];break;default:Y=e.normalizeStyleValue(O,$,Y,l)}x[$]=Y}),D||f.push(x),_=x,g=S}),l.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${l.join(T)}`)}return f}function pE(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&gE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&gE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&gE(t,"destroy",n)))}}function gE(n,e,t){const r=t.totalTime,u=kS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function kS(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function Ms(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function NS(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let mE=(n,e)=>!1,Zm=(n,e)=>!1,yE=(n,e,t)=>[];const vO=Hm();(vO||"undefined"!=typeof Element)&&(mE=xo()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Zm=(()=>{if(vO||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):Zm}})(),yE=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let u=0;u<i.length;u++)r.push(i[u])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let el=null,LS=!1;function Gm(n){el||(el=("undefined"!=typeof document?document.body:null)||{},LS=!!el.style&&"WebkitAppearance"in el.style);let e=!0;return el.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in el.style,!e&&LS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in el.style)),e}const zm=Zm,_E=mE,vE=yE;function bE(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Ff=(()=>{class n{validateStyleProperty(t){return Gm(t)}matchesElement(t,r){return zm(t,r)}containsElement(t,r){return _E(t,r)}query(t,r,i){return vE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,f=[],g){return new vd(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),EE=(()=>{class n{}return n.NOOP=new Ff,n})();const tl="ng-enter",Km="ng-leave",Qm="ng-trigger",Ym=".ng-trigger",jS="ng-animating",wE=".ng-animating";function nl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TE(parseFloat(e[1]),e[2])}function TE(n,e){return"s"===e?1e3*n:n}function Jm(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=TE(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(u=TE(parseFloat(g),f[4]));const _=f[5];_&&(l=_)}else i=n;if(!t){let f=!1,g=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(g,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:u,easing:l}}(n,e,t)}function bd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Gu(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else bd(n,t);return t}function Ed(n,e,t){return t?e+":"+t+";":""}function BS(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Ed(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ed(0,TO(t),n.style[t]));n.setAttribute("style",e)}function pa(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=SE(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Hm()&&BS(n))}function rl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=SE(t);n.style[r]=""}),Hm()&&BS(n))}function zu(n){return Array.isArray(n)?1==n.length?n[0]:lE(n):n}const Xm=new RegExp("{{\\s*(.+?)\\s*}}","g");function qS(n){let e=[];if("string"==typeof n){let t;for(;t=Xm.exec(n);)e.push(t[1]);Xm.lastIndex=0}return e}function IE(n,e,t){const r=n.toString(),i=r.replace(Xm,(u,l)=>{let f=e[l];return e.hasOwnProperty(l)||(t.push(`Please provide a value for the animation param ${l}`),f=""),f.toString()});return i==r?n:i}function ey(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ty=/-+([a-z0-9])/g;function SE(n){return n.replace(ty,(...e)=>e[1].toUpperCase())}function TO(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function CE(n,e){return 0===n||0===e}function DE(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],l=[];if(r.forEach(f=>{u.hasOwnProperty(f)||l.push(f),u[f]=t[f]}),l.length)for(var i=1;i<e.length;i++){let f=e[i];l.forEach(function(g){f[g]=ny(n,g)})}}return e}function as(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function ny(n,e){return window.getComputedStyle(n)[e]}function IO(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const g=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],u=r[2],l=r[3];e.push(jf(i,l));"<"==u[0]&&!("*"==i&&"*"==l)&&e.push(jf(l,i))}(r,t,e)):t.push(n),t}const ry=new Set(["true","1"]),Vf=new Set(["false","0"]);function jf(n,e){const t=ry.has(n)||Vf.has(n),r=ry.has(e)||Vf.has(e);return(i,u)=>{let l="*"==n||n==i,f="*"==e||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?ry.has(n):Vf.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?ry.has(e):Vf.has(e)),l&&f}}const MF=new RegExp("s*:selfs*,?","g");function sl(n,e,t){return new Wu(n).build(e,t)}class Wu{constructor(e){this._driver=e}build(e,t){const r=new FF(t);return this._resetContextStyleTimingState(r),as(this,zu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,_=g.name;_.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,u.push(this.visitState(g,t))}),g.name=_}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,i+=g.depCount,l.push(g)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};if(r.styles.forEach(f=>{if(us(f)){const g=f;Object.keys(g).forEach(_=>{qS(g[_]).forEach(T=>{l.hasOwnProperty(T)||u.add(T)})})}}),u.size){const f=ey(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=as(this,zu(e.animation),t);return{type:1,matchers:IO(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Fs(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>as(this,r,t)),options:Fs(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const f=as(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Fs(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return HS(Jm(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=HS(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||Jm(r,e),HS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:dE({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const _={};r.easing&&(_.easing=r.easing),l=dE(_)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(l,t);g.isEmptyStep=f,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(l=>{"string"==typeof l?l==Ao?r.push(l):t.errors.push(`The provided style string value ${l} is not allowed.`):r.push(l)}):r.push(e.styles);let i=!1,u=null;return r.forEach(l=>{if(us(l)){const f=l,g=f.easing;if(g&&(u=g,delete f.easing),!i)for(let _ in f)if(f[_].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const g=t.collectedStyles[t.currentQuerySelector],_=g[f];let T=!0;_&&(u!=i&&u>=_.startTime&&i<=_.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${_.startTime}ms" and "${_.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${i}ms"`),T=!1),u=_.startTime),T&&(g[f]={startTime:u,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=qS(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(l[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let u=0;const l=[];let f=!1,g=!1,_=0;const T=e.steps.map(pe=>{const Re=this._makeStyleAst(pe,t);let ve=null!=Re.offset?Re.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(us(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(us(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Re.styles),Oe=0;return null!=ve&&(u++,Oe=Re.offset=ve),g=g||Oe<0||Oe>1,f=f||Oe<_,_=Oe,l.push(Oe),Re});g&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const S=e.steps.length;let D=0;u>0&&u<S?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(D=1/(S-1));const x=S-1,O=t.currentTime,$=t.currentAnimateTimings,Y=$.duration;return T.forEach((pe,Re)=>{const ve=D>0?Re==x?1:D*Re:l[Re],Oe=ve*Y;t.currentTime=O+$.delay+Oe,$.duration=Oe,this._validateStyleAst(pe,t),pe.offset=ve,r.styles.push(pe)}),r}visitReference(e,t){return{type:8,animation:as(this,zu(e.animation),t),options:Fs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fs(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fs(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(MF,"")),n=n.replace(/@\*/g,Ym).replace(/@\w+/g,t=>Ym+"-"+t.substr(1)).replace(/:animating/g,wE),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Ms(t.collectedStyles,t.currentQuerySelector,{});const f=as(this,zu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Fs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jm(e.timings,t.errors,!0);return{type:12,animation:as(this,zu(e.animation),t),timings:r,options:null}}}class FF{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function us(n){return!Array.isArray(n)&&"object"==typeof n}function Fs(n){return n?(n=bd(n)).params&&(n.params=function(n){return n?bd(n):null}(n.params)):n={},n}function HS(n,e,t){return{duration:n,delay:e,easing:t}}function iy(n,e,t,r,i,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:f}}class $f{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const DO=new RegExp(":enter","g"),mr=new RegExp(":leave","g");function Ls(n,e,t,r,i,u={},l={},f,g,_=[]){return(new ZS).buildKeyframes(n,e,t,r,i,u,l,f,g,_)}class ZS{buildKeyframes(e,t,r,i,u,l,f,g,_,T=[]){_=_||new $f;const S=new oy(e,t,_,i,u,T,[]);S.options=g,S.currentTimeline.setStyles([l],null,S.errors,g),as(this,r,S);const D=S.timelines.filter(x=>x.containsAnimation());if(D.length&&Object.keys(f).length){const x=D[D.length-1];x.allowOnlyTimelineStyles()||x.setStyles([f],null,S.errors,g)}return D.length?D.map(x=>x.buildKeyframes()):[iy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?nl(r.duration):null,f=null!=r.delay?nl(r.delay):null;return 0!==l&&e.forEach(g=>{const _=t.appendInstructionToTimeline(g,l,f);u=Math.max(u,_.duration+_.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),as(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=sy);const l=nl(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>as(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?nl(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),as(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Jm(t.params?IE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*u),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?nl(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=sy);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((_,T)=>{t.currentQueryIndex=T;const S=t.createSubContext(e.options,_);u&&S.delayNextStep(u),_===t.element&&(g=S.currentTimeline),as(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const T=t.currentTimeline;g&&T.delayNextStep(g);const S=T.currentTime;as(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const sy={};class oy{constructor(e,t,r,i,u,l,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Td(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=nl(r.duration)),null!=r.delay&&(i.delay=nl(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=IE(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new oy(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=sy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new Id(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(DO,"."+this._enterClassName)).replace(mr,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=r);0!==r&&(_=r<0?_.slice(_.length+r,_.length):_.slice(0,r)),f.push(..._)}return!u&&0==f.length&&l.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class Td{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Td(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ao,this._currentKeyframe[t]=Ao}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},l=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=Ao})):Gu(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(l).forEach(f=>{const g=IE(l[f],u,r);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ao),this._updateStyle(f,g)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,g)=>{const _=Gu(f,!0);Object.keys(_).forEach(T=>{const S=_[T];"!"==S?e.add(T):S==Ao&&t.add(T)}),r||(_.offset=g/this.duration),i.push(_)});const u=e.size?ey(e.values()):[],l=t.size?ey(t.values()):[];if(r){const f=i[0],g=bd(f);f.offset=0,g.offset=1,i=[f,g]}return iy(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class Id extends Td{constructor(e,t,r,i,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,g=Gu(e[0],!1);g.offset=0,u.push(g);const _=Gu(e[0],!1);_.offset=Sd(f),u.push(_);const T=e.length-1;for(let S=1;S<=T;S++){let D=Gu(e[S],!1);D.offset=Sd((t+D.offset*r)/l),u.push(D)}r=l,t=0,i="",e=u}return iy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Sd(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class xE{}class RE extends xE{normalizePropertyName(e,t){return SE(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(OE[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return l+u}}const OE=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ol(n,e,t,r,i,u,l,f,g,_,T,S,D){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:g,preStyleProps:_,postStyleProps:T,totalTime:S,errors:D}}const PE={};class Hf{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],l=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):l}build(e,t,r,i,u,l,f,g,_,T){const S=[],D=this.ast.options&&this.ast.options.params||PE,O=this.buildStyles(r,f&&f.params||PE,S),$=g&&g.params||PE,Y=this.buildStyles(i,$,S),pe=new Set,Re=new Map,ve=new Map,Oe="void"===i,Qe={params:Object.assign(Object.assign({},D),$)},Ye=T?[]:Ls(e,t,this.ast.animation,u,l,O,Y,Qe,_,S);let ot=0;if(Ye.forEach(zn=>{ot=Math.max(zn.duration+zn.delay,ot)}),S.length)return ol(t,this._triggerName,r,i,Oe,O,Y,[],[],Re,ve,ot,S);Ye.forEach(zn=>{const In=zn.element,Ia=Ms(Re,In,{});zn.preStyleProps.forEach(Sl=>Ia[Sl]=!0);const cc=Ms(ve,In,{});zn.postStyleProps.forEach(Sl=>cc[Sl]=!0),In!==t&&pe.add(In)});const Nt=ey(pe.values());return ol(t,this._triggerName,r,i,Oe,O,Y,Ye,Nt,Re,ve,ot)}}class WS{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=bd(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!=l&&(i[u]=l)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const l=u;Object.keys(l).forEach(f=>{let g=l[f];g.length>1&&(g=IE(g,i,t));const _=this.normalizer.normalizePropertyName(f,t);g=this.normalizer.normalizeStyleValue(f,_,g,t),r[_]=g})}}),r}}class uy{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new WS(i.style,i.options&&i.options.params||{},r)}),cy(this.states,"true","1"),cy(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Hf(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new Hf(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function cy(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const kE=new $f;class UF{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=sl(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,u=Mf(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let l;const f=new Map;if(u?(l=Ls(this._driver,t,u,tl,Km,{},{},r,kE,i),l.forEach(T=>{const S=Ms(f,T.element,{});T.postStyleProps.forEach(D=>S[D]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),l=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);f.forEach((T,S)=>{Object.keys(T).forEach(D=>{T[D]=this._driver.computeStyle(S,D,Ao)})});const _=Xc(l.map(T=>{const S=f.get(T.element);return this._buildPlayer(T,{},S)}));return this._playersById[e]=_,_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const u=kS(t,"","","");return pE(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const OO="ng-animate-queued",PO="ng-animate-disabled",Dd=".ng-animate-disabled",MO=[],FO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uo="__ng_removed";class di{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const u=bd(e);delete u.value,this.options=u}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Zf="void",NE=new di(Zf);class ME{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,co(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const u=Ms(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const f=Ms(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(co(e,Qm),co(e,Qm+"-"+t),f[t]=NE),()=>{this._engine.afterFlush(()=>{const g=u.indexOf(l);g>=0&&u.splice(g,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new FE(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(co(e,Qm),co(e,Qm+"-"+t),this._engine.statesByElement.set(e,f={}));let g=f[t];const _=new di(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&_.absorbOptions(g.options),f[t]=_,g||(g=NE),_.value!==Zf&&g.value===_.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(g.params,_.params)){const $=[],Y=u.matchStyles(g.value,g.params,$),pe=u.matchStyles(_.value,_.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{rl(e,Y),pa(e,pe)})}return}const D=Ms(this._engine.playersByElement,e,[]);D.forEach($=>{$.namespaceId==this.id&&$.triggerName==t&&$.queued&&$.destroy()});let x=u.matchTransition(g.value,_.value,e,_.params),O=!1;if(!x){if(!i)return;x=u.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:g,toState:_,player:l,isFallbackTransition:O}),O||(co(e,OO),l.onStart(()=>{zf(e,OO)})),l.onDone(()=>{let $=this.players.indexOf(l);$>=0&&this.players.splice($,1);const Y=this._engine.playersByElement.get(e);if(Y){let pe=Y.indexOf(l);pe>=0&&Y.splice(pe,1)}}),this.players.push(l),D.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ym,!0);r.forEach(i=>{if(i[uo])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e);if(u){const l=[];if(Object.keys(u).forEach(f=>{if(this._triggers[f]){const g=this.trigger(e,f,Zf,i);g&&l.push(g)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Xc(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const g=this._triggers[l].fallbackTransition,_=r[l]||NE,T=new di(Zf),S=new FE(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:_,toState:T,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[uo];(!u||u===FO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){co(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const g=kS(u,r.triggerName,r.fromState.value,r.toState.value);g._data=e,pE(r.player,f.phase,g,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class LO{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ME(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const l=r[i[u]].namespaceId;if(l){const f=this._fetchNamespace(l);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(ly(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ly(t))return;const u=t[uo];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),co(e,PO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zf(e,PO))}removeNode(e,t,r,i){if(ly(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[uo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,u){return ly(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Ym,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wE,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[uo];if(t&&t.setForRemoval){if(e[uo]=FO,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Dd)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Dd,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)co(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Xc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new $f,i=[],u=new Map,l=[],f=new Map,g=new Map,_=new Map,T=new Set;this.disabledNodes.forEach(It=>{T.add(It);const vt=this.driver.query(It,".ng-animate-queued",!0);for(let Xt=0;Xt<vt.length;Xt++)T.add(vt[Xt])});const S=this.bodyNode,D=Array.from(this.statesByElement.keys()),x=YS(D,this.collectedEnterElements),O=new Map;let $=0;x.forEach((It,vt)=>{const Xt=tl+$++;O.set(vt,Xt),It.forEach(Wt=>co(Wt,Xt))});const Y=[],pe=new Set,Re=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const vt=this.collectedLeaveElements[It],Xt=vt[uo];Xt&&Xt.setForRemoval&&(Y.push(vt),pe.add(vt),Xt.hasAnimation?this.driver.query(vt,".ng-star-inserted",!0).forEach(Wt=>pe.add(Wt)):Re.add(vt))}const ve=new Map,Oe=YS(D,Array.from(pe));Oe.forEach((It,vt)=>{const Xt=Km+$++;ve.set(vt,Xt),It.forEach(Wt=>co(Wt,Xt))}),e.push(()=>{x.forEach((It,vt)=>{const Xt=O.get(vt);It.forEach(Wt=>zf(Wt,Xt))}),Oe.forEach((It,vt)=>{const Xt=ve.get(vt);It.forEach(Wt=>zf(Wt,Xt))}),Y.forEach(It=>{this.processLeaveNode(It)})});const Qe=[],Ye=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(t).forEach(Xt=>{const Wt=Xt.player,Qi=Xt.element;if(Qe.push(Wt),this.collectedEnterElements.length){const dc=Qi[uo];if(dc&&dc.setForMove)return void Wt.destroy()}const lc=!S||!this.driver.containsElement(S,Qi),Mo=ve.get(Qi),hh=O.get(Qi),Qr=this._buildInstruction(Xt,r,hh,Mo,lc);if(Qr.errors&&Qr.errors.length)Ye.push(Qr);else{if(lc)return Wt.onStart(()=>rl(Qi,Qr.fromStyles)),Wt.onDestroy(()=>pa(Qi,Qr.toStyles)),void i.push(Wt);if(Xt.isFallbackTransition)return Wt.onStart(()=>rl(Qi,Qr.fromStyles)),Wt.onDestroy(()=>pa(Qi,Qr.toStyles)),void i.push(Wt);Qr.timelines.forEach(dc=>dc.stretchStartingKeyframe=!0),r.append(Qi,Qr.timelines),l.push({instruction:Qr,player:Wt,element:Qi}),Qr.queriedElements.forEach(dc=>Ms(f,dc,[]).push(Wt)),Qr.preStyleProps.forEach((dc,Fw)=>{const DA=Object.keys(dc);if(DA.length){let Qp=g.get(Fw);Qp||g.set(Fw,Qp=new Set),DA.forEach(rM=>Qp.add(rM))}}),Qr.postStyleProps.forEach((dc,Fw)=>{const DA=Object.keys(dc);let Qp=_.get(Fw);Qp||_.set(Fw,Qp=new Set),DA.forEach(rM=>Qp.add(rM))})}});if(Ye.length){const It=[];Ye.forEach(vt=>{It.push(`@${vt.triggerName} has failed due to:\n`),vt.errors.forEach(Xt=>It.push(`- ${Xt}\n`))}),Qe.forEach(vt=>vt.destroy()),this.reportError(It)}const ot=new Map,Nt=new Map;l.forEach(It=>{const vt=It.element;r.has(vt)&&(Nt.set(vt,vt),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,ot))}),i.forEach(It=>{const vt=It.element;this._getPreviousPlayers(vt,!1,It.namespaceId,It.triggerName,null).forEach(Wt=>{Ms(ot,vt,[]).push(Wt),Wt.destroy()})});const zn=Y.filter(It=>eC(It,g,_)),In=new Map;QS(In,this.driver,Re,_,Ao).forEach(It=>{eC(It,g,_)&&zn.push(It)});const cc=new Map;x.forEach((It,vt)=>{QS(cc,this.driver,new Set(It),g,"!")}),zn.forEach(It=>{const vt=In.get(It),Xt=cc.get(It);In.set(It,Object.assign(Object.assign({},vt),Xt))});const Sl=[],Mw=[],CA={};l.forEach(It=>{const{element:vt,player:Xt,instruction:Wt}=It;if(r.has(vt)){if(T.has(vt))return Xt.onDestroy(()=>pa(vt,Wt.toStyles)),Xt.disabled=!0,Xt.overrideTotalTime(Wt.totalTime),void i.push(Xt);let Qi=CA;if(Nt.size>1){let Mo=vt;const hh=[];for(;Mo=Mo.parentNode;){const Qr=Nt.get(Mo);if(Qr){Qi=Qr;break}hh.push(Mo)}hh.forEach(Qr=>Nt.set(Qr,Qi))}const lc=this._buildAnimation(Xt.namespaceId,Wt,ot,u,cc,In);if(Xt.setRealPlayer(lc),Qi===CA)Sl.push(Xt);else{const Mo=this.playersByElement.get(Qi);Mo&&Mo.length&&(Xt.parentPlayer=Xc(Mo)),i.push(Xt)}}else rl(vt,Wt.fromStyles),Xt.onDestroy(()=>pa(vt,Wt.toStyles)),Mw.push(Xt),T.has(vt)&&i.push(Xt)}),Mw.forEach(It=>{const vt=u.get(It.element);if(vt&&vt.length){const Xt=Xc(vt);It.setRealPlayer(Xt)}}),i.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<Y.length;It++){const vt=Y[It],Xt=vt[uo];if(zf(vt,Km),Xt&&Xt.hasAnimation)continue;let Wt=[];if(f.size){let lc=f.get(vt);lc&&lc.length&&Wt.push(...lc);let Mo=this.driver.query(vt,wE,!0);for(let hh=0;hh<Mo.length;hh++){let Qr=f.get(Mo[hh]);Qr&&Qr.length&&Wt.push(...Qr)}}const Qi=Wt.filter(lc=>!lc.destroyed);Qi.length?BO(this,vt,Qi):this.processLeaveNode(vt)}return Y.length=0,Sl.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const vt=this.players.indexOf(It);this.players.splice(vt,1)}),It.play()}),Sl}elementContainsData(e,t){let r=!1;const i=t[uo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const g=!u||u==Zf;f.forEach(_=>{_.queued||!g&&_.triggerName!=i||l.push(_)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const _=g.element,T=_!==u,S=Ms(r,_,[]);this._getPreviousPlayers(_,T,l,f,t.toState).forEach(x=>{const O=x.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),x.destroy(),S.push(x)})}rl(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const f=t.triggerName,g=t.element,_=[],T=new Set,S=new Set,D=t.timelines.map(O=>{const $=O.element;T.add($);const Y=$[uo];if(Y&&Y.removedBeforeQueried)return new vd(O.duration,O.delay);const pe=$!==g,Re=function(n){const e=[];return XS(n,e),e}((r.get($)||MO).map(ot=>ot.getRealPlayer())).filter(ot=>!!ot.element&&ot.element===$),ve=u.get($),Oe=l.get($),Qe=Mf(0,this._normalizer,0,O.keyframes,ve,Oe),Ye=this._buildPlayer(O,Qe,Re);if(O.subTimeline&&i&&S.add($),pe){const ot=new FE(e,f,$);ot.setRealPlayer(Ye),_.push(ot)}return Ye});_.forEach(O=>{Ms(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,O.element,O))}),T.forEach(O=>co(O,jS));const x=Xc(D);return x.onDestroy(()=>{T.forEach(O=>zf(O,jS)),pa(g,t.toStyles)}),S.forEach(O=>{Ms(i,O,[]).push(x)}),x}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new vd(e.duration,e.delay)}}class FE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new vd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>pE(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ms(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ly(n){return n&&1===n.nodeType}function dy(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function QS(n,e,t,r,i){const u=[];t.forEach(g=>u.push(dy(g)));const l=[];r.forEach((g,_)=>{const T={};g.forEach(S=>{const D=T[S]=e.computeStyle(_,S,i);(!D||0==D.length)&&(_[uo]=VF,l.push(_))}),n.set(_,T)});let f=0;return t.forEach(g=>dy(g,u[f++])),l}function YS(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function l(f){if(!f)return 1;let g=u.get(f);if(g)return g;const _=f.parentNode;return g=t.has(_)?_:i.has(_)?1:l(_),u.set(f,g),g}return e.forEach(f=>{const g=l(f);1!==g&&t.get(g).push(f)}),t}const Gf="$$classes";function co(n,e){if(n.classList)n.classList.add(e);else{let t=n[Gf];t||(t=n[Gf]={}),t[e]=!0}}function zf(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Gf];t&&delete t[e]}}function BO(n,e,t){Xc(t).onDone(()=>n.processLeaveNode(e))}function XS(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof _O?XS(r.players,e):e.push(r)}}function eC(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class hy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new LO(e,t,r),this._timelineEngine=new UF(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const g=[],_=sl(this._driver,u,g);if(g.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${g.join("\n - ")}`);f=function(n,e,t){return new uy(n,e,t)}(i,_,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=NS(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,f]=NS(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ad(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=LE(e[0]),e.length>1&&(r=LE(e[e.length-1]))):e&&(t=LE(e)),t||r?new HO(n,t,r):null}let HO=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&pa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pa(this._element,this._initialStyles),this._endStyles&&(pa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),pa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function LE(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];tC(i)&&(e=e||{},e[i]=n[i])}return e}function tC(n){return"display"===n||"position"===n}const ZO="animation",UE="animationend";class zO{constructor(e,t,r,i,u,l,f){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=u,this._fillMode=l,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=g=>this._handleCallback(g)}apply(){(function(n,e){const t=iC(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),BE(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),rC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){nC(this._element,this._name,"paused")}resume(){nC(this._element,this._name,"running")}setPosition(e){const t=VE(this._element,this._name);this._position=e*this._duration,BE(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),rC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=iC(n,"").split(","),i=jE(r,e);i>=0&&(r.splice(i,1),BE(n,"",r.join(",")))}(this._element,this._name))}}function nC(n,e,t){BE(n,"PlayState",t,VE(n,e))}function VE(n,e){const t=iC(n,"");return t.indexOf(",")>0?jE(t.split(","),e):jE([t],e)}function jE(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function rC(n,e,t){t?n.removeEventListener(UE,e):n.addEventListener(UE,e)}function BE(n,e,t,r){const i=ZO+e;if(null!=r){const u=n.style[i];if(u.length){const l=u.split(",");l[r]=t,t=l.join(",")}}n.style[i]=t}function iC(n,e){return n.style[ZO+e]||""}class sC{constructor(e,t,r,i,u,l,f,g){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=u,this._finalStyles=f,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=i+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new zO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:ny(this.element,r))})}this.currentSnapshot=e}}class YO extends vd{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=bE(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class aC{constructor(){this._count=0}validateStyleProperty(e){return Gm(e)}matchesElement(e,t){return zm(e,t)}containsElement(e,t){return _E(e,t)}query(e,t,r){return vE(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>bE(f));let i=`@keyframes ${t} {\n`,u="";r.forEach(f=>{u=" ";const g=parseFloat(f.offset);i+=`${u}${100*g}% {\n`,u+=" ",Object.keys(f).forEach(_=>{const T=f[_];switch(_){case"offset":return;case"easing":return void(T&&(i+=`${u}animation-timing-function: ${T};\n`));default:return void(i+=`${u}${_}: ${T};\n`)}}),i+=`${u}}\n`}),i+="}\n";const l=document.createElement("style");return l.textContent=i,l}animate(e,t,r,i,u,l=[],f){const g=l.filter(Y=>Y instanceof sC),_={};CE(r,i)&&g.forEach(Y=>{let pe=Y.currentSnapshot;Object.keys(pe).forEach(Re=>_[Re]=pe[Re])});const T=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=DE(e,t,_));if(0==r)return new YO(e,T);const S="gen_css_kf_"+this._count++,D=this.buildKeyframeElement(e,S,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(D);const O=Ad(e,t),$=new sC(e,t,S,r,i,u,T,O);return $.onDestroy(()=>{var n;(n=D).parentNode.removeChild(n)}),$}}class HE{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:ny(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ro{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(cC().toString()),this._cssKeyframesDriver=new aC}validateStyleProperty(e){return Gm(e)}matchesElement(e,t){return zm(e,t)}containsElement(e,t){return _E(e,t)}query(e,t,r){return vE(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,u,l=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,u,l);const T={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(T.easing=u);const S={},D=l.filter(O=>O instanceof HE);CE(r,i)&&D.forEach(O=>{let $=O.currentSnapshot;Object.keys($).forEach(Y=>S[Y]=$[Y])});const x=Ad(e,t=DE(e,t=t.map(O=>Gu(O,!1)),S));return new HE(e,t,T,x)}}function cC(){return xo()&&Element.prototype.animate||{}}let lC=(()=>{class n extends OS{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?lE(t):t;return fC(this._renderer,null,r,"register",[i]),new dC(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(Pe))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class dC extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new hC(this._id,e,t||{},this._renderer)}}class hC{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return fC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function fC(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const pC="@.disabled";let gC=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,l)=>{l&&l.parentNode(u)&&l.removeChild(u.parentNode,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new mC("",u,this.engine),this._rendererCache.set(u,T)),T}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(l,f,t,T.name,T)};return r.data.animation.forEach(g),new BF(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(hy),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class mC{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==pC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class BF extends mC{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==pC?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),l="";return"@"!=u.charAt(0)&&([u,l]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let xd=(()=>{class n extends hy{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pe),d.LFG(EE),d.LFG(xE))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const r1=new d.OlP("AnimationModuleType"),GE=[{provide:OS,useClass:lC},{provide:xE,useFactory:function(){return new RE}},{provide:hy,useClass:xd},{provide:d.FYo,useFactory:function(n,e,t){return new gC(n,e,t)},deps:[Ma,hy,d.R0b]}],_C=[{provide:EE,useFactory:function(){return"function"==typeof cC()?new Ro:new aC}},{provide:r1,useValue:"BrowserAnimations"},...GE],py=[{provide:EE,useClass:Ff},{provide:r1,useValue:"NoopAnimations"},...GE];let vC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?py:_C}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:_C,imports:[Va]}),n})();const ga_firebase={projectId:"wiregrasshockey",appId:"1:363929730770:web:1b4af1a4ba5e2d0633370b",databaseURL:"https://wiregrasshockey-default-rtdb.firebaseio.com",storageBucket:"wiregrasshockey.appspot.com",locationId:"us-east1",apiKey:"AIzaSyAou3P1tl2h2PgbtKQQub9A4Z2zIVAEkIg",authDomain:"wiregrasshockey.firebaseapp.com",messagingSenderId:"363929730770",measurementId:"G-F25DPB485K"};let o1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:24,vars:0,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"section-title","text-uppercase"],[1,"row"],[1,"col-md-3"],["src","../../assets/img/KFP_logo.jpg"],[1,"text-center"],["href","https://www.kristinefreed.com/"],[1,"col-md-9"],[1,"bold",2,"color","#7b0512"],[1,"mt-20",2,"color","#7b0512"],["href","https://www.facebook.com/kristinefreedphotography/","target","_blank",1,"mr-20"],[1,"fa","fa-facebook","fa-2x"],["href","https://www.instagram.com/kristinefreedphotography/","target","_blank"],[1,"fa","fa-instagram","fa-2x"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h2",3),d._uU(4,"Photography Information"),d.qZA(),d.qZA(),d.TgZ(5,"div",4),d.TgZ(6,"div",5),d._UZ(7,"img",6),d.TgZ(8,"div",7),d.TgZ(9,"a",8),d._uU(10,"kristinefreed.com"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"div",9),d._uU(12," Many of the photos on this site have been provided by "),d.TgZ(13,"span",10),d._uU(14,"Kristine Freed Photography"),d.qZA(),d._UZ(15,"br"),d._uU(16," Specializing In: Maternity | Birth | Newborn | Family | Senior"),d._UZ(17,"br"),d._uU(18," Thank you for all your support Kristine! "),d.TgZ(19,"div",11),d.TgZ(20,"a",12),d._UZ(21,"i",13),d.qZA(),d.TgZ(22,"a",14),d._UZ(23,"i",15),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA())},styles:[""]}),n})();class a1{}k(4828);var yt,u1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ja={},ul=ul||{},Jt=u1||self;function Kf(){}function gy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var my="closure_uid_"+(1e9*Math.random()>>>0),c1=0;function EC(n,e,t){return n.call.apply(n.bind,arguments)}function wC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ci(n,e,t){return(Ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EC:wC).apply(null,arguments)}function yy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Di(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function lo(){this.s=this.s,this.o=this.o}var l1={};lo.prototype.s=!1,lo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,my)&&n[my]||(n[my]=++c1)}(this);delete l1[n]}},lo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _y=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Oo=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function Yf(n){return Array.prototype.concat.apply([],arguments)}function zE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vy(n){return/^[\s\xa0]*$/.test(n)}var Bi,h1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ai(n,e){return-1!=n.indexOf(e)}function Jf(n,e){return n<e?-1:n>e?1:0}e:{var by=Jt.navigator;if(by){var Ey=by.userAgent;if(Ey){Bi=Ey;break e}}Bi=""}function WE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function TC(n){const e={};for(const t in n)e[t]=n[t];return e}var IC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SC(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<IC.length;u++)t=IC[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wy(n){return wy[" "](n),n}wy[" "]=Kf;var Iy,n,CC=Ai(Bi,"Opera"),Od=Ai(Bi,"Trident")||Ai(Bi,"MSIE"),QE=Ai(Bi,"Edge"),Ty=QE||Od,DC=Ai(Bi,"Gecko")&&!(Ai(Bi.toLowerCase(),"webkit")&&!Ai(Bi,"Edge"))&&!(Ai(Bi,"Trident")||Ai(Bi,"MSIE"))&&!Ai(Bi,"Edge"),AC=Ai(Bi.toLowerCase(),"webkit")&&!Ai(Bi,"Edge");function YE(){var n=Jt.document;return n?n.documentMode:void 0}e:{var Sy="",Cy=(n=Bi,DC?/rv:([^\);]+)(\)|;)/.exec(n):QE?/Edge\/([\d\.]+)/.exec(n):Od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):AC?/WebKit\/(\S+)/.exec(n):CC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cy&&(Sy=Cy?Cy[1]:""),Od){var xC=YE();if(null!=xC&&xC>parseFloat(Sy)){Iy=String(xC);break e}}Iy=Sy}var ls={};function Pd(){return e=ls,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=h1(String(Iy)).split("."),t=h1("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",u=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Jf(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Jf(0==i[2].length,0==u[2].length)||Jf(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n}();var e}var ZF=Jt.document&&Od&&(YE()||parseInt(Iy,10))||void 0,Xf=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",Kf,e),Jt.removeEventListener("test",Kf,e)}catch(t){}return n}();function qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function cl(n,e){if(qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(DC){e:{try{wy(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:f1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&cl.Z.h.call(this)}}qi.prototype.h=function(){this.defaultPrevented=!0},Di(cl,qi);var f1={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kd="closure_listenable_"+(1e6*Math.random()|0),p1=0;function g1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++p1,this.ca=this.fa=!1}function Nd(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ep(n){this.src=n,this.g={},this.h=0}function Dy(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=_y(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Nd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Md(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}ep.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Md(n,e,r,i);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new g1(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var tp="closure_lm_"+(1e6*Math.random()|0),OC={};function XE(n,e,t,r,i){if(r&&r.once)return np(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)XE(n,e[u],t,r,i);return null}return t=xy(t),n&&n[kd]?n.N(e,t,Rd(r)?!!r.capture:!!r,i):PC(n,e,t,!1,r,i)}function PC(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=Rd(i)?!!i.capture:!!i,f=r0(n);if(f||(n[tp]=f=new ep(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function(){var e=n0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Xf||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ay(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function np(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)np(n,e[u],t,r,i);return null}return t=xy(t),n&&n[kd]?n.O(e,t,Rd(r)?!!r.capture:!!r,i):PC(n,e,t,!0,r,i)}function e0(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)e0(n,e[u],t,r,i);else r=Rd(r)?!!r.capture:!!r,t=xy(t),n&&n[kd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Md(u=n.g[e],t,r,i))&&(Nd(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=r0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Md(e,t,r,i)),(t=-1<n?e[n]:null)&&t0(t))}function t0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kd])Dy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ay(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=r0(e))?(Dy(t,n),0==t.h&&(t.src=null,e[tp]=null)):Nd(n)}}}function Ay(n){return n in OC?OC[n]:OC[n]="on"+n}function n0(n,e){if(n.ca)n=!0;else{e=new cl(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&t0(n),n=t.call(r,e)}return n}function r0(n){return(n=n[tp])instanceof ep?n:null}var s0="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(n){return"function"==typeof n?n:(n[s0]||(n[s0]=function(e){return n.handleEvent(e)}),n[s0])}function ti(){lo.call(this),this.i=new ep(this),this.P=this,this.I=null}function hi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new qi(e,n);else if(e instanceof qi)e.target=e.target||n;else{var i=e;SC(e=new qi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=Ry(l,r,!0,e)&&i}if(i=Ry(l=e.g=n,r,!0,e)&&i,i=Ry(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Ry(l=e.g=t[u],r,!1,e)&&i}function Ry(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ca&&l.capture==t){var f=l.listener,g=l.ia||l.src;l.fa&&Dy(n.i,l),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}Di(ti,lo),ti.prototype[kd]=!0,ti.prototype.removeEventListener=function(n,e,t,r){e0(this,n,e,t,r)},ti.prototype.M=function(){if(ti.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Nd(t[r]);delete n.g[e],n.h--}}this.I=null},ti.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ti.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Oy=Jt.JSON.stringify;function NC(){var n=UC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ky,MC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new FC,n=>n.reset());class FC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function y1(n){Jt.setTimeout(()=>{throw n},0)}function Py(n,e){ky||function(){var n=Jt.Promise.resolve(void 0);ky=function(){n.then(_1)}}(),Ny||(ky(),Ny=!0),UC.add(n,e)}var Ny=!1,UC=new class{constructor(){this.h=this.g=null}add(e,t){const r=MC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function _1(){for(var n;n=NC();){try{n.h.call(n.g)}catch(t){y1(t)}var e=MC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ny=!1}function My(n,e){ti.call(this),this.h=n||1,this.g=e||Jt,this.j=Ci(this.kb,this),this.l=Date.now()}function Fy(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function VC(n,e,t){if("function"==typeof n)t&&(n=Ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Jt.setTimeout(n,e||0)}function v1(n){n.g=VC(()=>{n.g=null,n.i&&(n.i=!1,v1(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Di(My,ti),(yt=My.prototype).da=!1,yt.S=null,yt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hi(this,"tick"),this.da&&(Fy(this),this.start()))}},yt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){My.Z.M.call(this),Fy(this),delete this.g};class GF extends lo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:v1(this)}M(){super.M(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ly(n){lo.call(this),this.h=n,this.g={}}Di(Ly,lo);var b1=[];function E1(n,e,t,r){Array.isArray(t)||(t&&(b1[0]=t.toString()),t=b1);for(var i=0;i<t.length;i++){var u=XE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function w1(n){WE(n.g,function(e,t){this.g.hasOwnProperty(t)&&t0(e)},n),n.g={}}function o0(){this.g=!0}function rp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return Oy(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Ly.prototype.M=function(){Ly.Z.M.call(this),w1(this)},Ly.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},o0.prototype.Aa=function(){this.g=!1},o0.prototype.info=function(){};var Fd={},T1=null;function a0(){return T1=T1||new ti}function I1(n){qi.call(this,Fd.Ma,n)}function ip(n){const e=a0();hi(e,new I1(e,n))}function jC(n,e){qi.call(this,Fd.STAT_EVENT,n),this.stat=e}function ds(n){const e=a0();hi(e,new jC(e,n))}function S1(n,e){qi.call(this,Fd.Na,n),this.size=e}function Uy(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},e)}Fd.Ma="serverreachability",Di(I1,qi),Fd.STAT_EVENT="statevent",Di(jC,qi),Fd.Na="timingevent",Di(S1,qi);var u0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},BC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function c0(){}function C1(){}c0.prototype.h=null;var l0,Vy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $C(){qi.call(this,"d")}function HC(){qi.call(this,"c")}function d0(){}function sp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ly(this),this.P=Ld,this.W=new My(n=Ty?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jy}function jy(){this.i=null,this.g="",this.h=!1}Di($C,qi),Di(HC,qi),Di(d0,c0),d0.prototype.g=function(){return new XMLHttpRequest},d0.prototype.i=function(){return{}},l0=new d0;var Ld=45e3,By={},qy={};function h0(n,e,t){n.K=1,n.v=Gy(eu(e)),n.s=t,n.U=!0,$y(n,null)}function $y(n,e){n.F=Date.now(),Hy(n),n.A=eu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),zy(t.h,"t",r),n.C=0,t=n.l.H,n.h=new jy,n.g=lD(n.l,t?e:null,!n.s),0<n.O&&(n.L=new GF(Ci(n.Ia,n,n.g),n.O)),E1(n.V,n.g,"readystatechange",n.gb),e=n.H?TC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ip(1),function(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),g=0;g<f.length;g++){var _=f[g].split("=");if(1<_.length){var T=_[0];_=_[1];var S=T.split("_");l=2<=S.length&&"type"==S[1]?l+(T+"=")+_+"&":l+(T+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function f0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function p0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ZC(n,t),i==qy){4==e&&(n.o=4,ds(14),r=!1),rp(n.j,n.m,null,"[Incomplete Response]");break}if(i==By){n.o=4,ds(15),rp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rp(n.j,n.m,i,null),GC(n,i)}f0(n)&&i!=qy&&i!=By&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ds(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),fp(e),e.L=!0,ds(11))):(rp(n.j,n.m,t,"[Invalid Chunked Response]"),Vd(n),Ud(n))}function ZC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?qy:(t=Number(e.substring(t,r)),isNaN(t)?By:(r+=1)+t>e.length?qy:(e=e.substr(r,t),n.C=r+t,e))}function Hy(n){n.Y=Date.now()+n.P,g0(n,n.P)}function g0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uy(Ci(n.eb,n),e)}function ll(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function Ud(n){0==n.l.G||n.I||O0(n.l,n)}function Vd(n){ll(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Fy(n.W),w1(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function GC(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cp(t.i,n)))if(t.I=n.N,!n.J&&cp(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Uy(Ci(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;R0(t),hp(t)}x0(t),ds(18)}if(1>=XC(t.i)&&t.ka){try{t.ka()}catch(_){}t.ka=void 0}}else fl(t,11)}else if((n.J||t.g==n)&&R0(t),!vy(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.U=_[0],_=_[1],2==t.G)if("c"==_[0]){t.J=_[1],t.la=_[2];const T=_[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const S=_[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const D=_[5];null!=D&&"number"==typeof D&&0<D&&(t.K=r=1.5*D,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const O=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var u=r.i;!u.g&&(Ai(O,"spdy")||Ai(O,"quic")||Ai(O,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Wy(u,u.h),u.h=null))}if(r.D){const $=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;$&&(r.sa=$,tr(r.F,r.D,$))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((r=t).oa=cD(r,r.H?r.la:null,r.W),l.J){E0(r.i,l);var f=l,g=r.K;g&&f.setTimeout(g),f.B&&(ll(f),Hy(f)),r.g=l}else V1(r);0<t.l.length&&t_(t)}else"stop"!=_[0]&&"close"!=_[0]||fl(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?fl(t,7):aD(t):"noop"!=_[0]&&t.j&&t.j.wa(_),t.A=0)}ip(4)}catch(_){}}function m0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gy(n)||"string"==typeof n)Oo(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(gy(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(gy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function op(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof op)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function jd(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];dl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)dl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function dl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(yt=sp.prototype).setTimeout=function(n){this.P=n},yt.gb=function(n){n=n.target;const e=this.L;e&&3==ko(n)?e.l():this.Ia(n)},yt.Ia=function(n){try{if(n==this.g)e:{const T=ko(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>T)&&(3!=T||Ty||this.g&&(this.h.h||this.g.ga()||S0(this.g)))){this.I||4!=T||7==e||ip(8==e||0>=S?3:2),ll(this);var t=this.g.ba();this.N=t;t:if(f0(this)){var r=S0(this.g);n="";var i=r.length,u=4==ko(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vd(this),Ud(this);var l="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vy(f)){var _=f;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,ds(12),Vd(this),Ud(this);break e}rp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GC(this,t)}this.U?(p0(this,T,l),Ty&&this.i&&3==T&&(E1(this.V,this.W,"tick",this.fb),this.W.start())):(rp(this.j,this.m,l,null),GC(this,l)),4==T&&Vd(this),this.i&&!this.I&&(4==T?O0(this.l,this):(this.i=!1,Hy(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ds(12)):(this.o=0,ds(13)),Vd(this),Ud(this)}}}catch(T){}},yt.fb=function(){if(this.g){var n=ko(this.g),e=this.g.ga();this.C<e.length&&(ll(this),p0(this,n,e),this.i&&4!=n&&Hy(this))}},yt.cancel=function(){this.I=!0,Vd(this)},yt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ip(3),ds(17)),Vd(this),this.o=2,Ud(this)):g0(this,this.Y-n)},(yt=op.prototype).R=function(){jd(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},yt.T=function(){return jd(this),this.g.concat()},yt.get=function(n,e){return dl(this.h,n)?this.h[n]:e},yt.set=function(n,e){dl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},yt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var D1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xa(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Xa){this.g=void 0!==e?e:n.g,y0(this,n.j),this.s=n.s,_0(this,n.i),Zy(this,n.m),this.l=n.l,e=n.h;var t=new up;t.i=e.i,e.g&&(t.g=new op(e.g),t.h=e.h),A1(this,t),this.o=n.o}else n&&(t=String(n).match(D1))?(this.g=!!e,y0(this,t[1]||"",!0),this.s=ap(t[2]||""),_0(this,t[3]||"",!0),Zy(this,t[4]),this.l=ap(t[5]||"",!0),A1(this,t[6]||"",!0),this.o=ap(t[7]||"")):(this.g=!!e,this.h=new up(null,this.g))}function eu(n){return new Xa(n)}function y0(n,e,t){n.j=t?ap(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _0(n,e,t){n.i=t?ap(e,!0):e}function Zy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function A1(n,e,t){e instanceof up?(n.h=e,function(n,e){e&&!n.j&&(ma(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(WC(this,r),zy(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=tu(e,O1)),n.h=new up(e,n.g))}function tr(n,e,t){n.h.set(e,t)}function Gy(n){return tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ap(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,x1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function x1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tu(e,zC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tu(e,zC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(tu(t,"/"==t.charAt(0)?v0:R1,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tu(t,Us)),n.join("")};var zC=/[#\/\?@]/g,R1=/[#\?:]/g,v0=/[#\?]/g,O1=/[#\?@]/g,Us=/#/g;function up(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ma(n){n.g||(n.g=new op,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function WC(n,e){ma(n),e=hl(n,e),dl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,dl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&jd(n)))}function KC(n,e){return ma(n),e=hl(n,e),dl(n.g.h,e)}function zy(n,e,t){WC(n,e),0<t.length&&(n.i=null,n.g.set(hl(n,e),zE(t)),n.h+=t.length)}function hl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function b0(n){this.l=n||YC,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ea&&Jt.g.Ea()&&Jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=up.prototype).add=function(n,e){ma(this),this.i=null,n=hl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){ma(this),this.g.forEach(function(t,r){Oo(t,function(i){n.call(e,i,r,this)},this)},this)},yt.T=function(){ma(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},yt.R=function(n){ma(this);var e=[];if("string"==typeof n)KC(this,n)&&(e=Yf(e,this.g.get(hl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Yf(e,n[t])}return e},yt.set=function(n,e){return ma(this),this.i=null,KC(this,n=hl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var l=i;""!==r[u]&&(l+="="+encodeURIComponent(String(r[u]))),n.push(l)}}return this.i=n.join("&")};var YC=10;function JC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XC(n){return n.h?1:n.g?n.g.size:0}function cp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Wy(n,e){n.g?n.g.add(e):n.h=e}function E0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ky(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return zE(n.i)}function w0(){}function Po(){this.g=new w0}function k1(n,e,t){const r=t||"";try{m0(n,function(i,u){let l=i;Rd(i)&&(l=Oy(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function Yy(n){this.l=n.$b||null,this.j=n.ib||!1}function Jy(n,e){ti.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=T0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b0.prototype.cancel=function(){if(this.i=Ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},w0.prototype.stringify=function(n){return Jt.JSON.stringify(n,void 0)},w0.prototype.parse=function(n){return Jt.JSON.parse(n,void 0)},Di(Yy,c0),Yy.prototype.g=function(){return new Jy(this.l,this.j)},Yy.prototype.i=function(n){return function(){return n}}({}),Di(Jy,ti);var T0=0;function eD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lp(n)}function lp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=Jy.prototype).open=function(n,e){if(this.readyState!=T0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lp(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Jt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xy(this)),this.readyState=T0},yt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lp(this)),this.g&&(this.readyState=3,lp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eD(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},yt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xy(this):lp(this),3==this.readyState&&eD(this)}},yt.Ua=function(n){this.g&&(this.response=this.responseText=n,Xy(this))},yt.Ta=function(n){this.g&&(this.response=n,Xy(this))},yt.ha=function(){this.g&&Xy(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Jy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var tD=Jt.JSON.parse;function zr(n){ti.call(this),this.headers=new op,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nD,this.K=this.L=!1}Di(zr,ti);var nD="",rD=/^https?$/i,N1=["POST","PUT"];function iD(n){return"content-type"==n.toLowerCase()}function I0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,sD(n),dp(n)}function sD(n){n.D||(n.D=!0,hi(n,"complete"),hi(n,"error"))}function oD(n){if(n.h&&void 0!==ul&&(!n.C[1]||4!=ko(n)||2!=n.ba()))if(n.v&&4==ko(n))VC(n.Fa,0,n);else if(hi(n,"readystatechange"),4==ko(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(D1)[1]||null;if(!i&&Jt.self&&Jt.self.location){var u=Jt.self.location.protocol;i=u.substr(0,u.length-1)}r=!rD.test(i?i.toLowerCase():"")}t=r}if(t)hi(n,"complete"),hi(n,"success");else{n.m=6;try{var l=2<ko(n)?n.g.statusText:""}catch(g){l=""}n.j=l+" ["+n.ba()+"]",sD(n)}}finally{dp(n)}}}function dp(n,e){if(n.g){Bd(n);const t=n.g,r=n.C[0]?Kf:null;n.g=null,n.C=null,e||hi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Bd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function ko(n){return n.g?n.g.readyState:0}function S0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case nD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function C0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return WE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tr(n,e,t))}function e_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function F1(n){this.za=0,this.l=[],this.h=new o0,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=e_("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=e_("baseRetryDelayMs",5e3,n),this.$a=e_("retryDelaySeedMs",1e4,n),this.Ya=e_("forwardChannelMaxRetries",2,n),this.ra=e_("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new b0(n&&n.concurrentRequestLimit),this.Ca=new Po,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function aD(n){if(D0(n),3==n.G){var e=n.V++,t=eu(n.F);tr(t,"SID",n.J),tr(t,"RID",e),tr(t,"TYPE","terminate"),qd(n,t),(e=new sp(n,n.h,e,void 0)).K=2,e.v=Gy(eu(t)),t=!1,Jt.navigator&&Jt.navigator.sendBeacon&&(t=Jt.navigator.sendBeacon(e.v.toString(),"")),!t&&Jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=lD(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Hy(e)}pp(n)}function hp(n){n.g&&(fp(n),n.g.cancel(),n.g=null)}function D0(n){hp(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),R0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function A0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&t_(n)}function t_(n){JC(n.i)||n.m||(n.m=!0,Py(n.Ha,n),n.C=0)}function uD(n,e){var t;t=e?e.m:n.V++;const r=eu(n.F);tr(r,"SID",n.J),tr(r,"RID",t),tr(r,"AID",n.U),qd(n,r),n.o&&n.s&&C0(r,n.o,n.s),t=new sp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=U1(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Wy(n.i,t),h0(t,r,e)}function qd(n,e){n.j&&m0({},function(t,r){tr(e,r,t)})}function U1(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ci(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let g=0;g<t;g++){let _=i[g].h;const T=i[g].g;if(_-=u,0>_)u=Math.max(0,i[g].h-100),f=!1;else try{k1(T,l,"req"+_+"_")}catch(S){r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function V1(n){n.g||n.u||(n.Y=1,Py(n.Ga,n),n.A=0)}function x0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Uy(Ci(n.Ga,n),P0(n,n.A)),n.A++,0))}function fp(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function ni(n){n.g=new sp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=eu(n.oa);tr(e,"RID","rpc"),tr(e,"SID",n.J),tr(e,"CI",n.N?"0":"1"),tr(e,"AID",n.U),qd(n,e),tr(e,"TYPE","xmlhttp"),n.o&&n.s&&C0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Gy(eu(e)),t.s=null,t.U=!0,$y(t,n)}function R0(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function O0(n,e){var t=null;if(n.g==e){R0(n),fp(n),n.g=null;var r=2}else{if(!cp(n.i,e))return;t=e.D,E0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;hi(r=a0(),new S1(r,t,e,i)),t_(n)}else V1(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(XC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Uy(Ci(n.Ha,n,e),P0(n,n.C)),n.C++,0)))}(n,e)||2==r&&x0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:fl(n,5);break;case 4:fl(n,10);break;case 3:fl(n,6);break;default:fl(n,2)}}function P0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function fl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ci(n.jb,n);t||(t=new Xa("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||y0(t,"https"),Gy(t)),function(n,e){const t=new o0;if(Jt.Image){const r=new Image;r.onload=yy(Qy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yy(Qy,t,r,"TestLoadImage: error",!1,e),r.onabort=yy(Qy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yy(Qy,t,r,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ds(2);n.G=0,n.j&&n.j.va(e),pp(n),D0(n)}function pp(n){n.G=0,n.I=-1,n.j&&((0!=Ky(n.i).length||0!=n.l.length)&&(n.i.i.length=0,zE(n.l),n.l.length=0),n.j.ua())}function cD(n,e,t){let r=function(n){return n instanceof Xa?eu(n):new Xa(n,void 0)}(t);if(""!=r.i)e&&_0(r,e+"."+r.i),Zy(r,r.m);else{const i=Jt.location;r=function(n,e,t,r){var i=new Xa(null,void 0);return n&&y0(i,n),e&&_0(i,e),t&&Zy(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&WE(n.aa,function(i,u){tr(r,u,i)}),t=n.sa,(e=n.D)&&t&&tr(r,e,t),tr(r,"VER",n.ma),qd(n,r),r}function lD(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zr(t&&n.Ba&&!n.qa?new Yy({ib:!0}):n.qa)).L=n.H,e}function k0(){}function ya(){if(Od&&!(10<=Number(ZF)))throw Error("Environmental error: no available transport.")}function vs(n,e){ti.call(this),this.g=new F1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!vy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $d(this)}function n_(n){$C.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function r_(){HC.call(this),this.status=1}function $d(n){this.g=n}(yt=zr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():l0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:l0),this.g.onreadystatechange=Ci(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void I0(this,u)}n=t||"";const i=new op(this.headers);r&&m0(r,function(u,l){i.set(l,u)}),r=function(n){e:{var e=iD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Jt.FormData&&n instanceof Jt.FormData,!(0<=_y(N1,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,l){this.g.setRequestHeader(l,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bd(this),0<this.B&&((this.K=function(n){return Od&&Pd()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ci(this.pa,this)):this.A=VC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){I0(this,u)}},yt.pa=function(){void 0!==ul&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hi(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hi(this,"complete"),hi(this,"abort"),dp(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dp(this,!0)),zr.Z.M.call(this)},yt.Fa=function(){this.s||(this.F||this.v||this.l?oD(this):this.cb())},yt.cb=function(){oD(this)},yt.ba=function(){try{return 2<ko(this)?this.g.status:-1}catch(n){return-1}},yt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},yt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),tD(e)}},yt.Da=function(){return this.m},yt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=F1.prototype).ma=8,yt.G=1,yt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},yt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new sp(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=TC(u),SC(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=U1(this,i,e),tr(t=eu(this.F),"RID",n),tr(t,"CVER",22),this.D&&tr(t,"X-HTTP-Session-Id",this.D),qd(this,t),this.o&&u&&C0(t,this.o,u),Wy(this.i,i),this.Ra&&tr(t,"TYPE","init"),this.ja?(tr(t,"$req",e),tr(t,"SID","null"),i.$=!0,h0(i,t,null)):h0(i,t,e),this.G=2}}else 3==this.G&&(n?uD(this,n):0==this.l.length||JC(this.i)||uD(this))},yt.Ga=function(){if(this.u=null,ni(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Uy(Ci(this.bb,this),n)}},yt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ds(10),hp(this),ni(this))},yt.ab=function(){null!=this.v&&(this.v=null,hp(this),x0(this),ds(19))},yt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ds(2)):(this.h.info("Failed to ping google.com"),ds(1))},(yt=k0.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Oa=function(){},ya.prototype.g=function(n,e){return new vs(n,e)},Di(vs,ti),vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Py(Ci(n.hb,n,e))),ds(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=cD(n,null,n.W),t_(n)},vs.prototype.close=function(){aD(this.g)},vs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,A0(this.g,e)}else this.v?((e={}).__data__=Oy(n),A0(this.g,e)):A0(this.g,n)},vs.prototype.M=function(){this.g.j=null,delete this.j,aD(this.g),delete this.g,vs.Z.M.call(this)},Di(n_,$C),Di(r_,HC),Di($d,k0),$d.prototype.xa=function(){hi(this.g,"a")},$d.prototype.wa=function(n){hi(this.g,new n_(n))},$d.prototype.va=function(n){hi(this.g,new r_(n))},$d.prototype.ua=function(){hi(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,vs.prototype.send=vs.prototype.u,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,u0.NO_ERROR=0,u0.TIMEOUT=8,u0.HTTP_ERROR=6,BC.COMPLETE="complete",C1.EventType=Vy,Vy.OPEN="a",Vy.CLOSE="b",Vy.ERROR="c",Vy.MESSAGE="d",ti.prototype.listen=ti.prototype.N,zr.prototype.listenOnce=zr.prototype.O,zr.prototype.getLastError=zr.prototype.La,zr.prototype.getLastErrorCode=zr.prototype.Da,zr.prototype.getStatus=zr.prototype.ba,zr.prototype.getResponseJson=zr.prototype.Qa,zr.prototype.getResponseText=zr.prototype.ga,zr.prototype.send=zr.prototype.ea;var i_=Ja.createWebChannelTransport=function(){return new ya},j1=Ja.getStatEventTarget=function(){return a0()},gp=Ja.ErrorCode=u0,dD=Ja.EventType=BC,fi=Ja.Event=Fd,B1=Ja.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},q1=Ja.FetchXmlHttpFactory=Yy,s_=Ja.WebChannel=C1,rL=Ja.XhrIo=zr;const mp="@firebase/firestore";class pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");let yp="9.9.4";const pl=new qu.Yd("@firebase/firestore");function hD(){return pl.logLevel}function Xe(n,...e){if(pl.logLevel<=qu.in.DEBUG){const t=e.map(N0);pl.debug(`Firestore (${yp}): ${n}`,...t)}}function Fr(n,...e){if(pl.logLevel<=qu.in.ERROR){const t=e.map(N0);pl.error(`Firestore (${yp}): ${n}`,...t)}}function gl(n,...e){if(pl.logLevel<=qu.in.WARN){const t=e.map(N0);pl.warn(`Firestore (${yp}): ${n}`,...t)}}function N0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Tt(n="Unexpected state"){const e=`FIRESTORE (${yp}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function zt(n,e){n||Tt()}function ut(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pi.UNAUTHENTICATED))}shutdown(){}}class G1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class z1{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let l=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gi,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const _=l;e.enqueueRetryable((0,Ne.Z)(function*(){yield _.promise,yield u(r.currentUser)}))},g=_=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zt("string"==typeof r.accessToken),new fD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zt(null===e||"string"==typeof e),new pi(e)}}class No{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=pi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(zt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class W1{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new No(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K1{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.A;return this.A=u.token,Xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(zt("string"==typeof t.token),this.A=t.token,new pD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sL(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class gD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sL(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function nn(n,e){return n<e?-1:n>e?1:0}function Hd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Zd(n){return n+"\0"}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new nr(0,0))}static max(){return new Zt(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _p{constructor(e,t,r){void 0===t?t=0:t>e.length&&Tt(),void 0===r?r=e.length-t:r>e.length-t&&Tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_p.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _p?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends _p{construct(e,t,r){return new On(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new On(t)}static emptyPath(){return new On([])}}const oL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends _p{construct(e,t,r){return new Lr(e,t,r)}static isValidIdentifier(e){return oL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ke(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ke(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ke(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(u(),i++)}if(u(),l)throw new Ke(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(t)}static emptyPath(){return new Lr([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(On.fromString(e))}static fromName(e){return new at(On.fromString(e).popFirst(5))}static empty(){return new at(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===On.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new On(e.slice()))}}class o_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function M0(n){return n.fields.find(e=>2===e.kind)}function ml(n){return n.fields.filter(e=>2!==e.kind)}o_.UNKNOWN_ID=-1;class a_{constructor(e,t){this.fieldPath=e,this.kind=t}}class vp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vp(0,bs.min())}}function ho(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Zt.fromTimestamp(1e9===r?new nr(t+1,0):new nr(t,r));return new bs(i,at.empty(),e)}function Y1(n){return new bs(n.readTime,n.key,-1)}class bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bs(Zt.min(),at.empty(),-1)}static max(){return new bs(Zt.max(),at.empty(),-1)}}function F0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:nn(n.largestBatchId,e.largestBatchId))}const L0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function nu(n){return bp.apply(this,arguments)}function bp(){return bp=(0,Ne.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==L0)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}),bp.apply(this,arguments)}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,r)=>{t(e)})}static reject(e){return new Ee((t,r)=>{r(e)})}static waitFor(e){return new Ee((t,r)=>{let i=0,u=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++u,l&&u===i&&t()},g=>r(g))}),l=!0,u===i&&t()})}static or(e){let t=Ee.resolve(!1);for(const r of e)t=t.next(i=>i?Ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new Ee((r,i)=>{const u=e.length,l=new Array(u);let f=0;for(let g=0;g<u;g++){const _=g;t(e[_]).next(T=>{l[_]=T,++f,f===u&&r(l)},T=>i(T))}})}static doWhile(e,t){return new Ee((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class Gd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new gi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new zd(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=j0(r.target.error);this.P.reject(new zd(e,i))}}static open(e,t,r,i){try{return new Gd(t,e.transaction(i,r))}catch(u){throw new zd(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new J1(t)}}class Es{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Es.D((0,kt.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xe("SimpleDb","Removing database:",e),yl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,kt.hl)())return!1;if(Es.N())return!0;const e=(0,kt.z$)(),t=Es.D(e),r=0<t&&t<10,i=Es.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(Xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{i(new zd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Ke(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ke(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new zd(e,f))},u.onupgradeneeded=l=>{Xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Ne.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.F(e);const g=Gd.open(u.db,e,l?"readonly":"readwrite",r),_=i(g).next(T=>(g.V(),T)).catch(T=>(g.abort(T),Ee.reject(T))).toPromise();return _.catch(()=>{}),yield g.v,_}catch(g){const _=g,T="FirebaseError"!==_.name&&f<3;if(Xe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),u.close(),!T)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class u_{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return yl(this.U.delete())}}class zd extends Ke{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ru(n){return"IndexedDbTransactionError"===n.name}class J1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Xe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yl(r)}add(e){return Xe("SimpleDb","ADD",this.store.name,e,e),yl(this.store.add(e))}get(e){return yl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xe("SimpleDb","DELETE",this.store.name,e),yl(this.store.delete(e))}count(){return Xe("SimpleDb","COUNT",this.store.name),yl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(l,f)=>{u.push(f)}).next(()=>u)}{const i=this.store.getAll(r.range);return new Ee((u,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{u(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ee((i,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Y(e,t){Xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,l,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new Ee((r,i)=>{t.onerror=u=>{const l=j0(u.target.error);i(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}H(e,t){const r=[];return new Ee((i,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const g=new u_(f),_=t(f.primaryKey,f.value,g);if(_ instanceof Ee){const T=_.catch(S=>(g.done(),Ee.reject(S)));r.push(T)}g.isDone?i():null===g.G?f.continue():f.continue(g.G)}}).next(()=>Ee.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yl(n){return new Ee((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=j0(r.target.error);t(i)}})}let V0=!1;function j0(n){const e=Es.D((0,kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V0||(V0=!0,setTimeout(()=>{throw r},0)),r}}return n}class X1{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.Z)(function*(){t.task=null;try{Xe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ru(r)?Xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield nu(r)}yield t.nt(1)}))}}class eP{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return Ee.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Xe("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,i).next(f=>{i-=f,r.add(l)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(i,u)).next(f=>(Xe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const l=Y1(u);F0(l,r)>0&&(r=l)}),new bs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $i{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function mD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ur(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Wd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}$i.at=-1;class rr{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ep(this.root,e,this.comparator,!0)}}class Ep{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:Wr.RED,this.left=null!=i?i:Wr.EMPTY,this.right=null!=u?u:Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Wr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(e){return new B0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class B0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function iu(n){return n.hasNext()?n.getNext():void 0}class Vs{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new Vs([])}unionWith(e){let t=new Vn(Lr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ri(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const nP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function su(n){if(zt(!!n),"string"==typeof n){let e=0;const t=nP.exec(n);if(zt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Or(n.seconds),nanos:Or(n.nanos)}}function Or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _l(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function q0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ou(n){const e=n.mapValue.fields.__previous_value__;return q0(e)?ou(e):e}function au(n){const e=su(n.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}class $0{constructor(e,t,r,i,u,l,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function wp(n){return null==n}function Tp(n){return 0===n&&1/n==-1/0}function c_(n){return"number"==typeof n&&Number.isInteger(n)&&!Tp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ip={nullValue:"NULL_VALUE"};function Yu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?q0(n)?4:H0(n)?9007199254740991:10:Tt()}function _a(n,e){if(n===e)return!0;const t=Yu(n);if(t!==Yu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return au(n).isEqual(au(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=su(r.timestampValue),l=su(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_l(n.bytesValue).isEqual(_l(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Or(r.geoPointValue.latitude)===Or(i.geoPointValue.latitude)&&Or(r.geoPointValue.longitude)===Or(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Or(r.integerValue)===Or(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Or(r.doubleValue),l=Or(i.doubleValue);return u===l?Tp(u)===Tp(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Hd(n.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(mD(u)!==mD(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!_a(u[f],l[f])))return!1;return!0}(n,e);default:return Tt()}var i}function Sp(n,e){return void 0!==(n.values||[]).find(t=>_a(t,e))}function Ju(n,e){if(n===e)return 0;const t=Yu(n),r=Yu(e);if(t!==r)return nn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=Or(i.integerValue||i.doubleValue),f=Or(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return va(n.timestampValue,e.timestampValue);case 4:return va(au(n),au(e));case 5:return nn(n.stringValue,e.stringValue);case 6:return function(i,u){const l=_l(i),f=_l(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),f=u.split("/");for(let g=0;g<l.length&&g<f.length;g++){const _=nn(l[g],f[g]);if(0!==_)return _}return nn(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=nn(Or(i.latitude),Or(u.latitude));return 0!==l?l:nn(Or(i.longitude),Or(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],f=u.values||[];for(let g=0;g<l.length&&g<f.length;++g){const _=Ju(l[g],f[g]);if(_)return _}return nn(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Qu.mapValue&&u===Qu.mapValue)return 0;if(i===Qu.mapValue)return 1;if(u===Qu.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),g=u.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let T=0;T<f.length&&T<_.length;++T){const S=nn(f[T],_[T]);if(0!==S)return S;const D=Ju(l[f[T]],g[_[T]]);if(0!==D)return D}return nn(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Tt()}}function va(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return nn(n,e);const t=su(n),r=su(e),i=nn(t.seconds,r.seconds);return 0!==i?i:nn(t.nanos,r.nanos)}function ba(n){return Xu(n)}function Xu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=su(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_l(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=Xu(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of i)l?l=!1:u+=",",u+=`${f}:${Xu(r.fields[f])}`;return u+"}"}(n.mapValue):Tt();var e}function Ea(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ec(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function yD(n){return!!n&&"nullValue"in n}function _D(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dp(n){return!!n&&"mapValue"in n}function Kd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ur(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function H0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vD(n){return"nullValue"in n?Ip:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ea(Ku.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Tt()}function Z0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ea(Ku.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qu:Tt()}function bD(n,e){const t=Ju(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ED(n,e){const t=Ju(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kd(t)}setAll(e){let t=Lr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=Kd(l):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Dp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ur(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new mi(Kd(this.value))}}function tc(n){const e=[];return Ur(n.fields,(t,r)=>{const i=new Lr([t]);if(Dp(r)){const u=tc(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new Vs(e)}class Gn{constructor(e,t,r,i,u,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=l}static newInvalidDocument(e){return new Gn(e,0,Zt.min(),Zt.min(),mi.empty(),0)}static newFoundDocument(e,t,r){return new Gn(e,1,t,Zt.min(),r,0)}static newNoDocument(e,t){return new Gn(e,2,t,Zt.min(),mi.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,Zt.min(),mi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rP{constructor(e,t=null,r=[],i=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=f,this.ht=null}}function wD(n,e=null,t=[],r=[],i=null,u=null,l=null){return new rP(n,e,t,r,i,u,l)}function Qd(n){const e=ut(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ba(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ba(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ba(r)).join(",")),e.ht=t}return e.ht}function l_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!c(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!_a(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!p(n.startAt,e.startAt)&&p(n.endAt,e.endAt)}function G0(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function d_(n,e){return n.filters.filter(t=>t instanceof Hi&&t.field.isEqual(e))}function TD(n,e,t){let r=Ip,i=!0;for(const u of d_(n,e)){let l=Ip,f=!0;switch(u.op){case"<":case"<=":l=vD(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,f=!1;break;case"!=":case"not-in":l=Ip}bD({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];bD({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function iP(n,e,t){let r=Qu,i=!0;for(const u of d_(n,e)){let l=Qu,f=!0;switch(u.op){case">=":case">":l=Z0(u.value),f=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,f=!1;break;case"!=":case"not-in":l=Qu}ED({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];ED({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Hi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new cL(e,t,r):"array-contains"===t?new dL(e,r):"in"===t?new hL(e,r):"not-in"===t?new fL(e,r):"array-contains-any"===t?new s(e,r):new Hi(e,t,r)}static lt(e,t,r){return"in"===t?new lL(e,r):new sP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ju(t,this.value)):null!==t&&Yu(this.value)===Yu(t)&&this.ft(Ju(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cL extends Hi{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.ft(t)}}class lL extends Hi{constructor(e,t){super(e,"in",t),this.keys=oP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sP extends Hi{constructor(e,t){super(e,"not-in",t),this.keys=oP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>at.fromName(r.referenceValue))}class dL extends Hi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&Sp(t.arrayValue,this.value)}}class hL extends Hi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sp(this.value.arrayValue,t)}}class fL extends Hi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sp(this.value.arrayValue,t)}}class s extends Hi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sp(this.value.arrayValue,r))}}class o{constructor(e,t){this.position=e,this.inclusive=t}}class a{constructor(e,t="asc"){this.field=e,this.dir=t}}function c(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function h(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?at.comparator(at.fromName(l.referenceValue),t.key):Ju(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function p(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_a(n.position[t],e.position[t]))return!1;return!0}class y{constructor(e,t=null,r=[],i=[],u=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=g,this._t=null,this.wt=null}}function b(n,e,t,r,i,u,l,f){return new y(n,e,t,r,i,u,l,f)}function w(n){return new y(n)}function C(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function A(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function P(n){for(const e of n.filters)if(e.dt())return e.field;return null}function N(n){return null!==n.collectionGroup}function Q(n){const e=ut(n);if(null===e._t){e._t=[];const t=P(e),r=A(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new a(t)),e._t.push(new a(Lr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new a(Lr.keyField(),u))}}}return e._t}function ee(n){const e=ut(n);if(!e.wt)if("F"===e.limitType)e.wt=wD(e.path,e.collectionGroup,Q(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Q(e))t.push(new a(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new o(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new o(e.startAt.position,e.startAt.inclusive):null;e.wt=wD(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function Se(n,e,t){return new y(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ae(n,e){return l_(ee(n),ee(e))&&n.limitType===e.limitType}function Je(n){return`${Qd(ee(n))}|lt:${n.limitType}`}function Ue(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ba(r.value)}`;var r}).join(", ")}]`),wp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ba(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ba(t)).join(",")),`Target(${e})`}(ee(n))}; limitType=${n.limitType})`}function Ot(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):at.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const f=h(i,u,l);return i.inclusive?f<=0:f<0}(t.startAt,Q(t),r)||t.endAt&&!function(i,u,l){const f=h(i,u,l);return i.inclusive?f>=0:f>0}(t.endAt,Q(t),r)));var t,r}function $t(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vn(n){return(e,t)=>{let r=!1;for(const i of Q(n)){const u=ii(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function ii(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):function(i,u,l){const f=u.data.field(i),g=l.data.field(i);return null!==f&&null!==g?Ju(f,g):Tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Tt()}}function js(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tp(e)?"-0":e}}function Yd(n){return{integerValue:""+n}}function vl(n,e){return c_(e)?Yd(e):js(n,e)}class uu{constructor(){this._=void 0}}function Jd(n,e,t){return n instanceof nc?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof cu?f_(n,e):n instanceof Ap?pL(n,e):function(r,i){const u=h_(r,i),l=gL(u)+gL(r.yt);return ec(u)&&ec(r.yt)?Yd(l):js(r.It,l)}(n,e)}function z0(n,e,t){return n instanceof cu?f_(n,e):n instanceof Ap?pL(n,e):t}function h_(n,e){return n instanceof p_?ec(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class nc extends uu{}class cu extends uu{constructor(e){super(),this.elements=e}}function f_(n,e){const t=mL(e);for(const r of n.elements)t.some(i=>_a(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ap extends uu{constructor(e){super(),this.elements=e}}function pL(n,e){let t=mL(e);for(const r of n.elements)t=t.filter(i=>!_a(i,r));return{arrayValue:{values:t}}}class p_ extends uu{constructor(e,t){super(),this.It=e,this.yt=t}}function gL(n){return Or(n.integerValue||n.doubleValue)}function mL(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class W0{constructor(e,t){this.field=e,this.transform=t}}class uB{constructor(e,t){this.version=e,this.transformResults=t}}class Pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ID(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class SD{}function yL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new m_(n.key,Pr.none()):new g_(n.key,n.data,Pr.none());{const t=n.data,r=mi.empty();let i=new Vn(Lr.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new bl(n.key,r,new Vs(i.toArray()),Pr.none())}}function cB(n,e,t){n instanceof g_?function(r,i,u){const l=r.value.clone(),f=bL(r.fieldTransforms,i,u.transformResults);l.setAll(f),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof bl?function(r,i,u){if(!ID(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=bL(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(vL(r)),f.setAll(l),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function K0(n,e,t,r){return n instanceof g_?function(i,u,l,f){if(!ID(i.precondition,u))return l;const g=i.value.clone(),_=EL(i.fieldTransforms,f,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof bl?function(i,u,l,f){if(!ID(i.precondition,u))return l;const g=EL(i.fieldTransforms,f,u),_=u.data;return _.setAll(vL(i)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,ID(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function lB(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=h_(r.transform,i||null);null!=u&&(null===t&&(t=mi.empty()),t.set(r.field,u))}return t||null}function _L(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Hd(t,r,(i,u)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cu&&r instanceof cu||t instanceof Ap&&r instanceof Ap?Hd(t.elements,r.elements,_a):t instanceof p_&&r instanceof p_?_a(t.yt,r.yt):t instanceof nc&&r instanceof nc);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class g_ extends SD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bl extends SD{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bL(n,e,t){const r=new Map;zt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,f=e.data.field(u.field);r.set(u.field,z0(l,f,t[i]))}return r}function EL(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,Jd(u,l,e))}return r}class m_ extends SD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aP extends SD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dB{constructor(e){this.count=e}}var yi,Nn;function wL(n){switch(n){default:return Tt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function TL(n){if(void 0===n)return Fr("GRPC error has no .code"),xe.UNKNOWN;switch(n){case yi.OK:return xe.OK;case yi.CANCELLED:return xe.CANCELLED;case yi.UNKNOWN:return xe.UNKNOWN;case yi.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case yi.INTERNAL:return xe.INTERNAL;case yi.UNAVAILABLE:return xe.UNAVAILABLE;case yi.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case yi.NOT_FOUND:return xe.NOT_FOUND;case yi.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case yi.ABORTED:return xe.ABORTED;case yi.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case yi.DATA_LOSS:return xe.DATA_LOSS;default:return Tt()}}(Nn=yi||(yi={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";class Xd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return Wd(this.inner)}size(){return this.innerSize}}const hB=new rr(at.comparator);function fo(){return hB}const IL=new rr(at.comparator);function Q0(...n){let e=IL;for(const t of n)e=e.insert(t.key,t);return e}function SL(n){let e=IL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function rc(){return Y0()}function CL(){return Y0()}function Y0(){return new Xd(n=>n.toString(),(n,e)=>n.isEqual(e))}const fB=new rr(at.comparator),pB=new Vn(at.comparator);function pn(...n){let e=pB;for(const t of n)e=e.add(t);return e}const gB=new Vn(nn);function CD(){return gB}class J0{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,X0.createSynthesizedTargetChangeForCurrentChange(e,t)),new J0(Zt.min(),r,CD(),fo(),pn())}}class X0{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new X0(ri.EMPTY_BYTE_STRING,t,pn(),pn(),pn())}}class DD{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class DL{constructor(e,t){this.targetId=e,this.At=t}}class AL{constructor(e,t,r=ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xL{constructor(){this.Rt=0,this.bt=OL(),this.Pt=ri.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=pn(),t=pn(),r=pn();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Tt()}}),new X0(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=OL()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class mB{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=fo(),this.qt=RL(),this.Kt=new Vn(nn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(G0(u))if(0===r){const l=new at(u.path);this.jt(t,l,Gn.newNoDocument(l,Zt.min()))}else zt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,l)=>{const f=this.Xt(l);if(f){if(u.current&&G0(f.target)){const g=new at(f.target.path);null!==this.Ut.get(g)||this.ee(l,g)||this.jt(l,g,Gn.newNoDocument(g,e))}u.Dt&&(t.set(l,u.xt()),u.Nt())}});let r=pn();this.qt.forEach((u,l)=>{let f=!0;l.forEachWhile(g=>{const _=this.Xt(g);return!_||2===_.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Ut.forEach((u,l)=>l.setReadTime(e));const i=new J0(e,t,this.Kt,this.Ut,r);return this.Ut=fo(),this.qt=RL(),this.Kt=new Vn(nn),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new xL,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Vn(nn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new xL),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function RL(){return new rr(at.comparator)}function OL(){return new rr(at.comparator)}const yB={asc:"ASCENDING",desc:"DESCENDING"},_B={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vB{constructor(e,t){this.databaseId=e,this.gt=t}}function ew(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PL(n,e){return n.gt?e.toBase64():e.toUint8Array()}function bB(n,e){return ew(n,e.toTimestamp())}function Zi(n){return zt(!!n),Zt.fromTimestamp(function(e){const t=su(e);return new nr(t.seconds,t.nanos)}(n))}function uP(n,e){return(t=n,new On(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kL(n){const e=On.fromString(n);return zt(qL(e)),e}function tw(n,e){return uP(n.databaseId,e.path)}function ic(n,e){const t=kL(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(ML(t))}function cP(n,e){return uP(n.databaseId,e)}function NL(n){const e=kL(n);return 4===e.length?On.emptyPath():ML(e)}function nw(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ML(n){return zt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FL(n,e,t){return{name:tw(n,e),fields:t.value.mapValue.fields}}function LL(n,e,t){const r=ic(n,e.name),i=Zi(e.updateTime),u=new mi({mapValue:{fields:e.fields}}),l=Gn.newFoundDocument(r,i,u);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function rw(n,e){let t;if(e instanceof g_)t={update:FL(n,e.key,e.value)};else if(e instanceof m_)t={delete:tw(n,e.key)};else if(e instanceof bl)t={update:FL(n,e.key,e.data),updateMask:xB(e.fieldMask)};else{if(!(e instanceof aP))return Tt();t={verify:tw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof nc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ap)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof p_)return{fieldPath:u.field.canonicalString(),increment:l.yt};throw Tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bB(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Tt()),t;var i}function lP(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Pr.updateTime(Zi(i.updateTime)):void 0!==i.exists?Pr.exists(i.exists):Pr.none():Pr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,l){let f=null;"setToServerValue"in l?(zt("REQUEST_TIME"===l.setToServerValue),f=new nc):"appendMissingElements"in l?f=new cu(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Ap(l.removeAllFromArray.values||[]):"increment"in l?f=new p_(u,l.increment):Tt();const g=Lr.fromServerFormat(l.fieldPath);return new W0(g,f)}(n,i)):[];var i;if(e.update){const i=ic(n,e.update.name),u=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Vs((e.updateMask.fieldPaths||[]).map(_=>Lr.fromServerFormat(_)));return new bl(i,u,l,t,r)}return new g_(i,u,t,r)}if(e.delete){const i=ic(n,e.delete);return new m_(i,t)}if(e.verify){const i=ic(n,e.verify);return new aP(i,t)}return Tt()}function UL(n,e){return{documents:[cP(n,e.path)]}}function VL(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=cP(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cP(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const _=g.map(T=>function(S){if("=="===S.op){if(_D(S.value))return{unaryFilter:{field:y_(S.field),op:"IS_NAN"}};if(yD(S.value))return{unaryFilter:{field:y_(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(_D(S.value))return{unaryFilter:{field:y_(S.field),op:"IS_NOT_NAN"}};if(yD(S.value))return{unaryFilter:{field:y_(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:y_(S.field),op:CB(S.op),value:S.value}}}(T));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(g){if(0!==g.length)return g.map(_=>{return{field:y_((T=_).field),direction:SB(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(_=e.limit,n.gt||wp(_)?_:{value:_});var _,f,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function jL(n){let e=NL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){zt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=BL(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new a(__((S=T).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(T){let S;return S="object"==typeof T?T.value:T,wp(S)?null:S}(t.limit));let g=null;var T;t.startAt&&(g=new o((T=t.startAt).values||[],!!T.before));let _=null;return t.endAt&&(_=function(T){return new o(T.values||[],!T.before)}(t.endAt)),b(e,i,l,u,f,"F",g,_)}function BL(n){return n?void 0!==n.unaryFilter?[AB(n)]:void 0!==n.fieldFilter?[DB(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>BL(e)).reduce((e,t)=>e.concat(t)):Tt():[]}function SB(n){return yB[n]}function CB(n){return _B[n]}function y_(n){return{fieldPath:n.canonicalString()}}function __(n){return Lr.fromServerFormat(n.fieldPath)}function DB(n){return Hi.create(__(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function AB(n){switch(n.unaryFilter.op){case"IS_NAN":const e=__(n.unaryFilter.field);return Hi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=__(n.unaryFilter.field);return Hi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=__(n.unaryFilter.field);return Hi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=__(n.unaryFilter.field);return Hi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}function xB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Bs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$L(e)),e=RB(n.get(t),e);return $L(e)}function RB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function $L(n){return n+"\x01\x01"}function sc(n){const e=n.length;if(zt(e>=2),2===e)return zt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&Tt(),n.charAt(l+1)){case"\x01":const f=n.substring(u,l);let g;0===i.length?g=f:(i+=f,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(u,l),i+="\0";break;case"\x11":i+=n.substring(u,l+1);break;default:Tt()}u=l+2}return new On(r)}const HL=["userId","batchId"];function AD(n,e){return[n,Bs(e)]}function ZL(n,e,t){return[n,Bs(e),t]}const OB={},PB=["prefixPath","collectionGroup","readTime","documentId"],kB=["prefixPath","collectionGroup","documentId"],NB=["collectionGroup","readTime","prefixPath","documentId"],MB=["canonicalId","targetId"],FB=["targetId","path"],LB=["path","targetId"],UB=["collectionId","parent"],VB=["indexId","uid"],jB=["uid","sequenceNumber"],BB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qB=["indexId","uid","orderedDocumentKey"],$B=["userId","collectionPath","documentId"],HB=["userId","collectionPath","largestBatchId"],ZB=["userId","collectionGroup","largestBatchId"],GL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GB=[...GL,"documentOverlays"],zL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WL=zL,zB=[...WL,"indexConfiguration","indexState","indexEntries"];class dP extends U0{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Gi(n,e){const t=ut(n);return Es.O(t.ie,e)}class hP{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&cB(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=K0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=K0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=CL();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(i.key)?null:f;const g=yL(l,f);null!==g&&r.set(i.key,g),l.isValidDocument()||l.convertToNoDocument(Zt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&Hd(this.mutations,e.mutations,(t,r)=>_L(t,r))&&Hd(this.baseMutations,e.baseMutations,(t,r)=>_L(t,r))}}class fP{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){zt(e.mutations.length===r.length);let i=fB;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new fP(e,t,r,i)}}class pP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eh{constructor(e,t,r,i,u=Zt.min(),l=Zt.min(),f=ri.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f}withSequenceNumber(e){return new eh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new eh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KL{constructor(e){this.re=e}}function QL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:tw(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ew(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:xp(e.version)};else{if(!e.isUnknownDocument())return Tt();r.unknownDocument={path:t.path.toArray(),version:xp(e.version)}}var i,u;return r}function xD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rp(n){const e=new nr(n.seconds,n.nanoseconds);return Zt.fromTimestamp(e)}function Op(n,e){const t=(e.baseMutations||[]).map(u=>lP(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const l=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(l.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>lP(n.re,u)),i=nr.fromMillis(e.localWriteTimeMs);return new hP(e.batchId,i,t,r)}function iw(n){const e=Rp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Rp(n.lastLimboFreeSnapshotVersion):Zt.min();let r;var i;return void 0!==n.query.documents?(zt(1===(i=n.query).documents.length),r=ee(w(NL(i.documents[0])))):r=ee(jL(n.query)),new eh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ri.fromBase64String(n.resumeToken))}function YL(n,e){const t=xp(e.snapshotVersion),r=xp(e.lastLimboFreeSnapshotVersion);let i;i=G0(e.target)?UL(n.re,e.target):VL(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qd(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function gP(n){const e=jL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Se(e,e.limit,"L"):e}function mP(n,e){return new pP(e.largestBatchId,lP(n.re,e.overlayMutation))}function JL(n,e){const t=e.path.lastSegment();return[n,Bs(e.path.popLast()),t]}function XL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:xp(r.readTime),documentKey:Bs(r.documentKey.path),largestBatchId:r.largestBatchId}}class KB{getBundleMetadata(e,t){return eU(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Rp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return eU(e).put({bundleId:(r=t).id,createTime:xp(Zi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return tU(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:gP(i.bundledQuery),readTime:Rp(i.readTime)};var i})}saveNamedQuery(e,t){return tU(e).put({name:(r=t).name,readTime:xp(Zi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function eU(n){return Gi(n,"bundles")}function tU(n){return Gi(n,"namedQueries")}class RD{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new RD(e,t.uid||"")}getOverlay(e,t){return sw(e).get(JL(this.userId,t)).next(r=>r?mP(this.It,r):null)}getOverlays(e,t){const r=rc();return Ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,l)=>{const f=new pP(t,l);i.push(this.ue(e,f))}),Ee.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Bs(l.getCollectionPath())));const u=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(sw(e).Y("collectionPathOverlayIndex",f))}),Ee.waitFor(u)}getOverlaysForCollection(e,t,r){const i=rc(),u=Bs(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return sw(e).W("collectionPathOverlayIndex",l).next(f=>{for(const g of f){const _=mP(this.It,g);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=rc();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sw(e).Z({index:"collectionGroupOverlayIndex",range:f},(g,_,T)=>{const S=mP(this.It,_);u.size()<i||S.largestBatchId===l?(u.set(S.getKey(),S),l=S.largestBatchId):T.done()}).next(()=>u)}ue(e,t){return sw(e).put(function(r,i,u){const[l,f,g]=JL(i,u.mutation.key);return{userId:i,collectionPath:f,documentId:g,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:rw(r.re,u.mutation)}}(this.It,this.userId,t))}}function sw(n){return Gi(n,"documentOverlays")}class Pp{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Or(e.integerValue));else if("doubleValue"in e){const r=Or(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Tp(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(_l(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?H0(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Tt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),at.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function QB(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function nU(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=QB(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Pp.Te=new Pp;class YB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=nU(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=nU(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class JB{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class XB{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class ow{constructor(){this.Be=new YB,this.Le=new JB(this.Be),this.Ue=new XB(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class kp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new kp(this.indexId,this.documentKey,this.arrayValue,r)}}function Np(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rU(n.arrayValue,e.arrayValue),0!==t?t:(t=rU(n.directionalValue,e.directionalValue),0!==t?t:at.comparator(n.documentKey,e.documentKey)))}function rU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class eq{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=M0(e);if(void 0!==t&&!this.ze(t))return!1;const r=ml(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const l=r[i];if(!this.He(this.je,l)||!this.Je(this.Ge[u++],l))return!1;++i}for(;i<r.length;++i){const l=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],l))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tq{constructor(){this.Ye=new yP}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(bs.min())}updateCollectionGroup(e,t,r){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class yP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vn(On.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(On.comparator)).toArray()}}const OD=new Uint8Array(0);class nq{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new yP,this.Ze=new Xd(r=>Qd(r),(r,i)=>l_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Bs(i)};return iU(e).put(u)}return Ee.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Zd(t),""],!1,!0);return iU(e).W(i).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(sc(l.parent))}return r})}addFieldIndex(e,t){const r=PD(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const u=r.add(i);if(t.indexState){const l=uw(e);return u.next(f=>{l.put(XL(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=PD(e),i=uw(e),u=aw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=aw(e);let i=!0;const u=new Map;return Ee.forEach(this.tn(t),l=>this.en(e,l).next(f=>{i&&(i=!!f),u.set(l,f)})).next(()=>{if(i){let l=pn();const f=[];return Ee.forEach(u,(g,_)=>{var T;Xe("IndexedDbIndexManager",`Using index ${T=g,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ve=>`${ve.fieldPath}:${ve.kind}`).join(",")}`} to execute ${Qd(t)}`);const S=function(ve,Oe){const Qe=M0(Oe);if(void 0===Qe)return null;for(const Ye of d_(ve,Qe.fieldPath))switch(Ye.op){case"array-contains-any":return Ye.value.arrayValue.values||[];case"array-contains":return[Ye.value]}return null}(_,g),D=function(ve,Oe){const Qe=new Map;for(const Ye of ml(Oe))for(const ot of d_(ve,Ye.fieldPath))switch(ot.op){case"==":case"in":Qe.set(Ye.fieldPath.canonicalString(),ot.value);break;case"not-in":case"!=":return Qe.set(Ye.fieldPath.canonicalString(),ot.value),Array.from(Qe.values())}return null}(_,g),x=function(ve,Oe){const Qe=[];let Ye=!0;for(const ot of ml(Oe)){const Nt=0===ot.kind?TD(ve,ot.fieldPath,ve.startAt):iP(ve,ot.fieldPath,ve.startAt);Qe.push(Nt.value),Ye&&(Ye=Nt.inclusive)}return new o(Qe,Ye)}(_,g),O=function(ve,Oe){const Qe=[];let Ye=!0;for(const ot of ml(Oe)){const Nt=0===ot.kind?iP(ve,ot.fieldPath,ve.endAt):TD(ve,ot.fieldPath,ve.endAt);Qe.push(Nt.value),Ye&&(Ye=Nt.inclusive)}return new o(Qe,Ye)}(_,g),$=this.nn(g,_,x),Y=this.nn(g,_,O),pe=this.sn(g,_,D),Re=this.rn(g.indexId,S,$,x.inclusive,Y,O.inclusive,pe);return Ee.forEach(Re,ve=>r.J(ve,t.limit).next(Oe=>{Oe.forEach(Qe=>{const Ye=at.fromSegments(Qe.documentKey);l.has(Ye)||(l=l.add(Ye),f.push(Ye))})}))}).next(()=>f)}return Ee.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,l,f){const g=(null!=t?t.length:1)*Math.max(r.length,u.length),_=g/(null!=t?t.length:1),T=[];for(let S=0;S<g;++S){const D=t?this.on(t[S/_]):OD,x=this.un(e,D,r[S%_],i),O=this.cn(e,D,u[S%_],l),$=f.map(Y=>this.un(e,D,Y,!0));T.push(...this.createRange(x,O,$))}return T}un(e,t,r,i){const u=new kp(e,at.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new kp(e,at.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new eq(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let l=null;for(const f of u)r.We(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;return Ee.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(l){let f=new Vn(Lr.comparator),g=!1;for(const _ of l.filters){const T=_;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?g=!0:f=f.add(T.field))}for(const _ of l.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new ow;for(const i of ml(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const l=r.qe(i.kind);Pp.Te.ce(u,l)}return r.$e()}on(e){const t=new ow;return Pp.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new ow;return Pp.Te.ce(Ea(this.databaseId,t),r.qe(function(i){const u=ml(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new ow);let u=0;for(const l of ml(e)){const f=r[u++];for(const g of i)if(this.ln(t,l.fieldPath)&&Cp(f))i=this.fn(i,l,f);else{const _=g.qe(l.kind);Pp.Te.ce(f,_)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const l of r.arrayValue.values||[])for(const f of i){const g=new ow;g.seed(f.$e()),Pp.Te.ce(l,g.qe(t.kind)),u.push(g)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Hi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=PD(e),i=uw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const l=[];return Ee.forEach(u,f=>i.get([f.indexId,this.uid]).next(g=>{l.push(function(_,T){const S=T?new vp(T.sequenceNumber,new bs(Rp(T.readTime),new at(sc(T.documentKey)),T.largestBatchId)):vp.empty(),D=_.fields.map(([x,O])=>new a_(Lr.fromServerFormat(x),O));return new o_(_.indexId,_.collectionGroup,D,S)}(f,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:nn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=PD(e),u=uw(e);return this._n(e).next(l=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>Ee.forEach(f,g=>u.put(XL(g.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return Ee.forEach(t,(i,u)=>{const l=r.get(i.collectionGroup);return(l?Ee.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),Ee.forEach(f,g=>this.wn(e,i,g).next(_=>{const T=this.mn(u,g);return _.isEqual(T)?Ee.resolve():this.gn(e,u,g,_,T)}))))})}yn(e,t,r,i){return aw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return aw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=aw(e);let u=new Vn(Np);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(l,f)=>{u=u.add(new kp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}mn(e,t){let r=new Vn(Np);const i=this.an(t,e);if(null==i)return r;const u=M0(t);if(null!=u){const l=e.data.field(u.fieldPath);if(Cp(l))for(const f of l.arrayValue.values||[])r=r.add(new kp(t.indexId,e.key,this.on(f),i))}else r=r.add(new kp(t.indexId,e.key,OD,i));return r}gn(e,t,r,i,u){Xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,g,_,T,S){const D=f.getIterator(),x=g.getIterator();let O=iu(D),$=iu(x);for(;O||$;){let Y=!1,pe=!1;if(O&&$){const Re=_(O,$);Re<0?pe=!0:Re>0&&(Y=!0)}else null!=O?pe=!0:Y=!0;Y?(T($),$=iu(x)):pe?(S(O),O=iu(D)):(O=iu(D),$=iu(x))}}(i,u,Np,f=>{l.push(this.yn(e,t,r,f))},f=>{l.push(this.pn(e,t,r,f))}),Ee.waitFor(l)}_n(e){let t=1;return uw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>Np(l,f)).filter((l,f,g)=>!f||0!==Np(l,g[f-1]));const i=[];i.push(e);for(const l of r){const f=Np(l,e),g=Np(l,t);if(0===f)i[0]=e.Ke();else if(f>0&&g<0)i.push(l),i.push(l.Ke());else if(g>0)break}i.push(t);const u=[];for(let l=0;l<i.length;l+=2)u.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,OD,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,OD,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sU)}getMinOffset(e,t){return Ee.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Tt())).next(sU)}}function iU(n){return Gi(n,"collectionParents")}function aw(n){return Gi(n,"indexEntries")}function PD(n){return Gi(n,"indexConfiguration")}function uw(n){return Gi(n,"indexState")}function sU(n){zt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;F0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new bs(e.readTime,e.documentKey,t)}const oU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class po{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aU(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let f=0;const g=r.Z({range:l},(T,S,D)=>(f++,D.delete()));u.push(g.next(()=>{zt(1===f)}));const _=[];for(const T of t.mutations){const S=ZL(e,T.key.path,t.batchId);u.push(i.delete(S)),_.push(T.key)}return Ee.waitFor(u).next(()=>_)}function kD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Tt();e=n.noDocument}return JSON.stringify(e).length}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class ND{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){zt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new ND(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return th(e).Z({index:"userMutationsIndex",range:r},(i,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=v_(e),l=th(e);return l.add({}).next(f=>{zt("number"==typeof f);const g=new hP(f,t,r,i),_=function(D,x,O){const $=O.baseMutations.map(pe=>rw(D.re,pe)),Y=O.mutations.map(pe=>rw(D.re,pe));return{userId:x,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:$,mutations:Y}}(this.It,this.userId,g),T=[];let S=new Vn((D,x)=>nn(D.canonicalString(),x.canonicalString()));for(const D of i){const x=ZL(this.userId,D.key.path,f);S=S.add(D.key.path.popLast()),T.push(l.put(_)),T.push(u.put(x,OB))}return S.forEach(D=>{T.push(this.indexManager.addToCollectionParentIndex(e,D))}),e.addOnCommittedListener(()=>{this.In[f]=g.keys()}),Ee.waitFor(T).next(()=>g)})}lookupMutationBatch(e,t){return th(e).get(t).next(r=>r?(zt(r.userId===this.userId),Op(this.It,r)):null)}Tn(e,t){return this.In[t]?Ee.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return th(e).Z({index:"userMutationsIndex",range:i},(l,f,g)=>{f.userId===this.userId&&(zt(f.batchId>=r),u=Op(this.It,f)),g.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return th(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return th(e).W("userMutationsIndex",t).next(r=>r.map(i=>Op(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=AD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return v_(e).Z({range:i},(l,f,g)=>{const[_,T,S]=l,D=sc(T);if(_===this.userId&&t.path.isEqual(D))return th(e).get(S).next(x=>{if(!x)throw Tt();zt(x.userId===this.userId),u.push(Op(this.It,x))});g.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(nn);const i=[];return t.forEach(u=>{const l=AD(this.userId,u.path),f=IDBKeyRange.lowerBound(l),g=v_(e).Z({range:f},(_,T,S)=>{const[D,x,O]=_,$=sc(x);D===this.userId&&u.path.isEqual($)?r=r.add(O):S.done()});i.push(g)}),Ee.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=AD(this.userId,r),l=IDBKeyRange.lowerBound(u);let f=new Vn(nn);return v_(e).Z({range:l},(g,_,T)=>{const[S,D,x]=g,O=sc(D);S===this.userId&&r.isPrefixOf(O)?O.length===i&&(f=f.add(x)):T.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(th(e).get(u).next(l=>{if(null===l)throw Tt();zt(l.userId===this.userId),r.push(Op(this.It,l))}))}),Ee.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return aU(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ee.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return v_(e).Z({range:r},(u,l,f)=>{if(u[0]===this.userId){const g=sc(u[1]);i.push(g)}else f.done()}).next(()=>{zt(0===i.length)})})}containsKey(e,t){return uU(e,this.userId,t)}Rn(e){return cU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uU(n,e,t){const r=AD(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return v_(n).Z({range:u,X:!0},(f,g,_)=>{const[T,S,D]=f;T===e&&S===i&&(l=!0),_.done()}).next(()=>l)}function th(n){return Gi(n,"mutations")}function v_(n){return Gi(n,"documentMutations")}function cU(n){return Gi(n,"mutationQueues")}class Mp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Mp(0)}static vn(){return new Mp(-1)}}class rq{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Mp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Zt.fromTimestamp(new nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>b_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(zt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return b_(e).Z((l,f)=>{const g=iw(f);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,u.push(this.removeTargetData(e,g)))}).next(()=>Ee.waitFor(u)).next(()=>i)}forEachTarget(e,t){return b_(e).Z((r,i)=>{const u=iw(i);t(u)})}Vn(e){return lU(e).get("targetGlobalKey").next(t=>(zt(null!==t),t))}Sn(e,t){return lU(e).put("targetGlobalKey",t)}Dn(e,t){return b_(e).put(YL(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Qd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return b_(e).Z({range:i,index:"queryTargetsIndex"},(l,f,g)=>{const _=iw(f);l_(t,_.target)&&(u=_,g.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=nh(e);return t.forEach(l=>{const f=Bs(l.path);i.push(u.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),Ee.waitFor(i)}removeMatchingKeys(e,t,r){const i=nh(e);return Ee.forEach(t,u=>{const l=Bs(u.path);return Ee.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=nh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=nh(e);let u=pn();return i.Z({range:r,X:!0},(l,f,g)=>{const _=sc(l[1]),T=new at(_);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Bs(t.path),i=IDBKeyRange.bound([r],[Zd(r)],!1,!0);let u=0;return nh(e).Z({index:"documentTargetsIndex",X:!0,range:i},([l,f],g,_)=>{0!==l&&(u++,_.done())}).next(()=>u>0)}se(e,t){return b_(e).get(t).next(r=>r?iw(r):null)}}function b_(n){return Gi(n,"targets")}function lU(n){return Gi(n,"targetGlobal")}function nh(n){return Gi(n,"targetDocuments")}function dU([n,e],[t,r]){const i=nn(n,t);return 0===i?nn(e,r):i}class iq{constructor(e){this.xn=e,this.buffer=new Vn(dU),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();dU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sq{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ru(r)?Xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield nu(r)}yield t.Fn(3e5)}))}}class oq{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ee.resolve($i.at);const r=new iq(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(oU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oU):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,l,f,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,l=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,f=Date.now(),this.removeTargets(e,r,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(_=Date.now(),hD()<=qu.in.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${u} targets in `+(g-f)+`ms\n\tRemoved ${S} documents in `+(_-g)+`ms\nTotal Duration: ${_-T}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:S})))}}class aq{constructor(e,t){this.db=e,this.garbageCollector=new oq(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return MD(e,r)}removeReference(e,t,r){return MD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return MD(e,t)}Gn(e,t){return function(r,i){let u=!1;return cU(r).tt(l=>uU(r,l,i).next(f=>(f&&(u=!0),Ee.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(l,f)=>{if(f<=t){const g=this.Gn(e,l).next(_=>{if(!_)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Zt.min()),nh(e).delete([0,Bs(l.path)])))});i.push(g)}}).next(()=>Ee.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return MD(e,t)}Kn(e,t){const r=nh(e);let i,u=$i.at;return r.Z({index:"documentTargetsIndex"},([l,f],{path:g,sequenceNumber:_})=>{0===l?(u!==$i.at&&t(new at(sc(i)),u),u=_,i=g):u=$i.at}).next(()=>{u!==$i.at&&t(new at(sc(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function MD(n,e){return nh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Bs(e.path),sequenceNumber:r}));var r}class hU{constructor(){this.changes=new Xd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uq{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Fp(e).put(r)}removeEntry(e,t,r){return Fp(e).delete(function(i,u){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],xD(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Gn.newInvalidDocument(t);return Fp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(cw(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Gn.newInvalidDocument(t)};return Fp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(cw(t))},(i,u)=>{r={document:this.jn(t,u),size:kD(u)}}).next(()=>r)}getEntries(e,t){let r=fo();return this.zn(e,t,(i,u)=>{const l=this.jn(i,u);r=r.insert(i,l)}).next(()=>r)}Hn(e,t){let r=fo(),i=new rr(at.comparator);return this.zn(e,t,(u,l)=>{const f=this.jn(u,l);r=r.insert(u,f),i=i.insert(u,kD(l))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return Ee.resolve();let i=new Vn(mU);t.forEach(g=>i=i.add(g));const u=IDBKeyRange.bound(cw(i.first()),cw(i.last())),l=i.getIterator();let f=l.getNext();return Fp(e).Z({index:"documentKeyIndex",range:u},(g,_,T)=>{const S=at.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;f&&mU(f,S)<0;)r(f,null),f=l.getNext();f&&f.isEqual(S)&&(r(f,_),f=l.hasNext()?l.getNext():null),f?T.j(cw(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),xD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fp(e).W(IDBKeyRange.bound(i,u,!0)).next(l=>{let f=fo();for(const g of l){const _=this.jn(at.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(_.key,_)}return f})}getAllFromCollectionGroup(e,t,r,i){let u=fo();const l=gU(t,r),f=gU(t,bs.max());return Fp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(g,_,T)=>{const S=this.jn(at.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);u=u.insert(S.key,S),u.size===i&&T.done()}).next(()=>u)}newChangeBuffer(e){return new cq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pU(e).get("remoteDocumentGlobalKey").next(t=>(zt(!!t),t))}Qn(e,t){return pU(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function(n,e){let t;if(e.document)t=LL(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=at.fromSegments(e.noDocument.path),i=Rp(e.noDocument.readTime);t=Gn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tt();{const r=at.fromSegments(e.unknownDocument.path),i=Rp(e.unknownDocument.version);t=Gn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new nr(r[0],r[1]);return Zt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Zt.min()))return r}return Gn.newInvalidDocument(e)}}function fU(n){return new uq(n)}class cq extends hU{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Vn((u,l)=>nn(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const f=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,f.readTime)),l.isValidDocument()){const g=QL(this.Yn.It,l);i=i.add(u.path.popLast()),r+=kD(g)-f.size,t.push(this.Yn.addEntry(e,u,g))}else if(r-=f.size,this.trackRemovals){const g=QL(this.Yn.It,l.convertToNoDocument(Zt.min()));t.push(this.Yn.addEntry(e,u,g))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),Ee.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,l)=>{this.Xn.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function pU(n){return Gi(n,"remoteDocumentGlobal")}function Fp(n){return Gi(n,"remoteDocumentsV14")}function cw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gU(n,e){const t=e.documentKey.path.toArray();return[n,xD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mU(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=nn(t[u],r[u]),i)return i;return i=nn(t.length,r.length),i||(i=nn(t[t.length-2],r[r.length-2]),i||nn(t[t.length-1],r[r.length-1]))}class lq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&K0(r.mutation,i,Vs.empty(),nr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pn()){const i=rc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=Q0();return u.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=rc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let u=fo();const l=Y0(),f=Y0();return t.forEach((g,_)=>{const T=r.get(_.key);i.has(_.key)&&(void 0===T||T.mutation instanceof bl)?u=u.insert(_.key,_):void 0!==T&&(l.set(_.key,T.mutation.getFieldMask()),K0(T.mutation,_,T.mutation.getFieldMask(),nr.now()))}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,T)=>l.set(_,T)),t.forEach((_,T)=>{var S;return f.set(_,new lq(T,null!==(S=l.get(_))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Y0();let i=new rr((l,f)=>l-f),u=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(g=>{const _=t.get(g);if(null===_)return;let T=r.get(g)||Vs.empty();T=f.applyToLocalView(_,T),r.set(g,T);const S=(i.get(f.batchId)||pn()).add(g);i=i.insert(f.batchId,S)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),_=g.key,T=g.value,S=CL();T.forEach(D=>{if(!u.has(D)){const x=yL(t.get(D),r.get(D));null!==x&&S.set(D,x),u=u.add(D)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return at.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):N(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):Ee.resolve(rc());let f=-1,g=u;return l.next(_=>Ee.forEach(_,(T,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(T)?Ee.resolve():this.getBaseDocument(e,T,S).next(D=>{g=g.insert(T,D)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,pn())).next(T=>({batchId:f,changes:SL(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(r=>{let i=Q0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Q0();return this.indexManager.getCollectionParents(e,i).next(l=>Ee.forEach(l,f=>{const g=(_=t,T=f.child(i),new y(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,T;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(_=>{_.forEach((T,S)=>{u=u.insert(T,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((f,g)=>{const _=g.getKey();null===i.get(_)&&(i=i.insert(_,Gn.newInvalidDocument(_)))});let l=Q0();return i.forEach((f,g)=>{const _=u.get(f);void 0!==_&&K0(_.mutation,g,Vs.empty(),nr.now()),Ot(t,g)&&(l=l.insert(f,g))}),l})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ee.resolve(Gn.newInvalidDocument(t))}}class dq{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ee.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Zi(r.createTime)}),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:gP(r.bundledQuery),readTime:Zi(r.readTime)}),Ee.resolve();var r}}class hq{constructor(){this.overlays=new rr(at.comparator),this.es=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=rc();return Ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),Ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),Ee.resolve()}getOverlaysForCollection(e,t,r){const i=rc(),u=t.length+1,l=new at(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&i.set(g.getKey(),g)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new rr((_,T)=>_-T);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let T=u.get(_.largestBatchId);null===T&&(T=rc(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const f=rc(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,T)=>f.set(_,T)),!(f.size()>=i)););return Ee.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new pP(t,r));let u=this.es.get(t);void 0===u&&(u=pn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class _P{constructor(){this.ns=new Vn(zi.ss),this.rs=new Vn(zi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new zi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new zi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new at(new On([])),r=new zi(t,e),i=new zi(t,e+1),u=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),u.push(l.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new at(new On([])),r=new zi(t,e),i=new zi(t,e+1);let u=pn();return this.rs.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new zi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return at.comparator(e.key,t.key)||nn(e._s,t._s)}static os(e,t){return nn(e._s,t._s)||at.comparator(e.key,t.key)}}class fq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Vn(zi.ss)}checkEmpty(e){return Ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const l=new hP(u,t,r,i);this.mutationQueue.push(l);for(const f of i)this.gs=this.gs.add(new zi(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Ee.resolve(l)}lookupMutationBatch(e,t){return Ee.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return Ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zi(t,0),i=new zi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],l=>{const f=this.ys(l._s);u.push(f)}),Ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(nn);return t.forEach(i=>{const u=new zi(i,0),l=new zi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,l],f=>{r=r.add(f._s)})}),Ee.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;at.isDocumentKey(u)||(u=u.child(""));const l=new zi(new at(u),0);let f=new Vn(nn);return this.gs.forEachWhile(g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(f=f.add(g._s)),!0)},l),Ee.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){zt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ee.forEach(t.mutations,i=>{const u=new zi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new zi(t,0),i=this.gs.firstAfterOrEqual(r);return Ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ee.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pq{constructor(e){this.Es=e,this.docs=new rr(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ee.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let r=fo();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Gn.newInvalidDocument(i))}),Ee.resolve(r)}getAllFromCollection(e,t,r){let i=fo();const u=new at(t.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:f,value:{document:g}}=l.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||F0(Y1(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return Ee.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Tt()}As(e,t){return Ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gq(this)}getSize(e){return Ee.resolve(this.size)}}class gq extends hU{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Ee.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class mq{constructor(e){this.persistence=e,this.Rs=new Xd(t=>Qd(t),l_),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _P,this.targetCount=0,this.vs=Mp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ee.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Mp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.Dn(t),Ee.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Ee.waitFor(u).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ee.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ee.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),Ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ee.resolve(r)}containsKey(e,t){return Ee.resolve(this.Ps.containsKey(t))}}class _U{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $i(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new mq(this),this.indexManager=new tq,this.remoteDocumentCache=new pq(r=>this.referenceDelegate.xs(r)),this.It=new KL(t),this.Ns=new dq(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new fq(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new yq(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Ms(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Os(e,t){return Ee.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class yq extends U0{constructor(e){super(),this.currentSequenceNumber=e}}class FD{constructor(e){this.persistence=e,this.Fs=new _P,this.$s=null}static Bs(e){return new FD(e)}get Ls(){if(this.$s)return this.$s;throw Tt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ee.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Ls,r=>{const i=at.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,Zt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ee.or([()=>Ee.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class _q{constructor(e){this.It=e}$(e,t,r,i){const u=new Gd("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HL,{unique:!0}),f.createObjectStore("documentMutations"),vU(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=Ee.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),vU(e)),l=l.next(()=>function(f){const g=f.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",_)}(u))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,g){return g.store("mutations").W().next(_=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HL,{unique:!0});const T=g.store("mutations"),S=_.map(D=>T.put(D));return Ee.waitFor(S)})}(e,u))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.qs(u))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(l=l.next(()=>this.Gs(u))),r<8&&i>=8&&(l=l.next(()=>this.Qs(e,u))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.js(u))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:$B});g.createIndex("collectionPathOverlayIndex",HB,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",ZB,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:PB});g.createIndex("documentKeyIndex",kB),g.createIndex("collectionGroupIndex",NB)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.zs(e,u))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:VB}).createIndex("sequenceNumberIndex",jB,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:BB}).createIndex("documentKeyIndex",qB,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=kD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Ee.forEach(i,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",l).next(f=>Ee.forEach(f,g=>{zt(g.userId===u.userId);const _=Op(this.It,g);return aU(e,u.userId,_).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((l,f)=>{const g=new On(l),_=[0,Bs(g)];u.push(t.get(_).next(T=>T?Ee.resolve():t.put({targetId:0,path:Bs(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ee.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:UB});const r=t.store("collectionParents"),i=new yP,u=l=>{if(i.add(l)){const f=l.lastSegment(),g=l.popLast();return r.put({collectionId:f,parent:Bs(g)})}};return t.store("remoteDocuments").Z({X:!0},(l,f)=>{const g=new On(l);return u(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,f,g],_)=>{const T=sc(f);return u(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=iw(i),l=YL(this.It,u);return t.put(l)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,l)=>{const f=t.store("remoteDocumentsV14"),g=(_=l,_.document?new at(On.fromString(_.document.name).popFirst(5)):_.noDocument?at.fromSegments(_.noDocument.path):_.unknownDocument?at.fromSegments(_.unknownDocument.path):Tt()).path.toArray();var _;const T={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(T))}).next(()=>Ee.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=fU(this.It),u=new _U(FD.Bs,this.It.re);return r.W().next(l=>{const f=new Map;return l.forEach(g=>{var _;let T=null!==(_=f.get(g.userId))&&void 0!==_?_:pn();Op(this.It,g).keys().forEach(S=>T=T.add(S)),f.set(g.userId,T)}),Ee.forEach(f,(g,_)=>{const T=new pi(_),S=RD.oe(this.It,T),D=u.getIndexManager(T),x=ND.oe(T,this.It,D,u.referenceDelegate);return new yU(i,x,S,D).recalculateAndSaveOverlaysForDocumentKeys(new dP(t,$i.at),g).next()})})}}function vU(n){n.createObjectStore("targetDocuments",{keyPath:FB}).createIndex("documentTargetsIndex",LB,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",MB,{unique:!0}),n.createObjectStore("targetGlobal")}const vP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bP{constructor(e,t,r,i,u,l,f,g,_,T,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=l,this.document=f,this.Js=_,this.Ys=T,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=D=>Promise.resolve(),!bP.C())throw new Ke(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aq(this,i),this.ii=t+"main",this.It=new KL(g),this.ri=new Es(this.ii,this.Xs,new _q(this.It)),this.Cs=new rq(this.referenceDelegate,this.It),this.remoteDocumentCache=fU(this.It),this.Ns=new KB,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(xe.FAILED_PRECONDITION,vP);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $i(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ne.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>LD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ru(e))return Xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lw(e).get("owner").next(t=>Ee.resolve(this.mi(t)))}gi(e){return LD(e).delete(this.clientId)}yi(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Gi(r,"clientMetadata");return i.W().next(u=>{const l=e.Ii(u,18e5),f=u.filter(g=>-1===l.indexOf(g));return Ee.forEach(f,g=>i.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ee.resolve(!0):lw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ke(xe.FAILED_PRECONDITION,vP);return!1}}return!(!this.networkEnabled||!this.inForeground)||LD(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new dP(t,$i.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>LD(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ND.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nq(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return RD.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Xe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(l=this.Xs)?zB:14===l?WL:13===l?zL:12===l?GB:11===l?GL:void Tt();var l;let f;return this.ri.runTransaction(e,i,u,g=>(f=new dP(g,this.Ss?this.Ss.next():$i.at),"readwrite-primary"===t?this.fi(f).next(_=>!!_||this.di(f)).next(_=>{if(!_)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ke(xe.FAILED_PRECONDITION,L0);return r(f)}).next(_=>this.wi(f).next(()=>_)):this.Vi(f).next(()=>r(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Vi(e){return lw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ke(xe.FAILED_PRECONDITION,vP)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lw(e).put("owner",t)}static C(){return Es.C()}_i(e){const t=lw(e);return t.get("owner").next(r=>this.mi(r)?(Xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ee.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lw(n){return Gi(n,"owner")}function LD(n){return Gi(n,"clientMetadata")}function EP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class wP{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=pn(),i=pn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new wP(e,t.fromCache,r,i)}}class bU{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Mi(e,t,i,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(C(t))return Ee.resolve(null);let r=ee(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Se(t,null,"F"),r=ee(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=pn(...u);return this.Ni.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const _=this.Fi(t,f);return this.$i(t,_,l,g.readTime)?this.ki(e,Se(t,null,"F")):this.Bi(e,_,t,g)}))})))}Mi(e,t,r,i){return C(t)||i.isEqual(Zt.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const l=this.Fi(t,u);return this.$i(t,l,r,i)?this.Oi(e,t):(hD()<=qu.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ue(t)),this.Bi(e,l,t,ho(i,-1)))})}Fi(e,t){let r=new Vn(vn(e));return t.forEach((i,u)=>{Ot(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Oi(e,t){return hD()<=qu.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Ue(t)),this.Ni.getDocumentsMatchingQuery(e,t,bs.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class vq{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new rr(nn),this.qi=new Xd(u=>Qd(u),l_),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function EU(n,e,t,r){return new vq(n,e,t,r)}function wU(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,Ne.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let g=pn();for(const _ of i){l.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of u){f.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return t.localDocuments.getDocuments(r,g).next(_=>({ji:_,removedBatchIds:l,addedBatchIds:f}))})})}),TP.apply(this,arguments)}function bq(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,f,g,_){const T=g.batch,S=T.keys();let D=Ee.resolve();return S.forEach(x=>{D=D.next(()=>_.getEntry(f,x)).next(O=>{const $=g.docVersions.get(x);zt(null!==$),O.version.compareTo($)<0&&(T.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),_.addEntry(O)))})}),D.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=pn();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(f=f.add(l.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function TU(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Eq(n,e){const t=ut(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((T,S)=>{const D=i.get(S);if(!D)return;f.push(t.Cs.removeMatchingKeys(u,T.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(u,T.addedDocuments,S)));let x=D.withSequenceNumber(u.currentSequenceNumber);var O,$,Y;e.targetMismatches.has(S)?x=x.withResumeToken(ri.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):T.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(T.resumeToken,r)),i=i.insert(S,x),$=x,Y=T,(0===(O=D).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(u,x))});let g=fo(),_=pn();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),f.push(IU(u,l,e.documentUpdates).next(T=>{g=T.Wi,_=T.zi})),!r.isEqual(Zt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(u).next(S=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(T)}return Ee.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(t.Ui=i,u))}function IU(n,e,t){let r=pn(),i=pn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=fo();return t.forEach((f,g)=>{const _=u.get(f);g.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(f)),g.isNoDocument()&&g.version.isEqual(Zt.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||0===g.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):Xe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",g.version)}),{Wi:l,zi:i}})}function wq(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E_(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,Ee.resolve(i)):t.Cs.allocateTargetId(r).next(l=>(i=new eh(e,l,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function w_(n,e,t){return IP.apply(this,arguments)}function IP(){return IP=(0,Ne.Z)(function*(n,e,t){const r=ut(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ru(l))throw l;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),IP.apply(this,arguments)}function UD(n,e,t){const r=ut(n);let i=Zt.min(),u=pn();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,g,_){const T=ut(f),S=T.qi.get(_);return void 0!==S?Ee.resolve(T.Ui.get(S)):T.Cs.getTargetData(g,_)}(r,l,ee(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,f.targetId).next(g=>{u=g})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,t?i:Zt.min(),t?u:pn())).next(f=>(DU(r,$t(e),f),{documents:f,Hi:u})))}function SU(n,e){const t=ut(n),r=ut(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(l=>l?l.target:null))}function CU(n,e){const t=ut(n),r=t.Ki.get(e)||Zt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,ho(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(DU(t,e,i),i))}function DU(n,e,t){let r=Zt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function SP(){return SP=(0,Ne.Z)(function*(n,e,t,r){const i=ut(n);let u=pn(),l=fo();for(const _ of t){const T=e.Ji(_.metadata.name);_.document&&(u=u.add(T));const S=e.Yi(_);S.setReadTime(e.Xi(_.metadata.readTime)),l=l.insert(T,S)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),g=yield E_(i,(_=r,ee(w(On.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>IU(_,f,l).next(T=>(f.apply(_),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(_,g.targetId).next(()=>i.Cs.addMatchingKeys(_,u,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,T.Wi,T.zi)).next(()=>T.Wi)))}),SP.apply(this,arguments)}function Iq(n,e){return CP.apply(this,arguments)}function CP(){return CP=(0,Ne.Z)(function*(n,e,t=pn()){const r=yield E_(n,ee(gP(e.bundledQuery))),i=ut(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const l=Zi(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ns.saveNamedQuery(u,e);const f=r.withResumeToken(ri.EMPTY_BYTE_STRING,l);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(u,f).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),CP.apply(this,arguments)}function AU(n,e){return`firestore_clients_${n}_${e}`}function xU(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DP(n,e){return`firestore_targets_${n}_${e}`}class VD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(u=new Ke(i.error.code,i.error.message))),l?new VD(e,t,i.state,u):(Fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Ke(r.error.code,r.error.message))),u?new dw(e,r.state,i):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=CD();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=c_(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return i?new jD(e,u):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AP{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AP(t.clientId,t.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xP{constructor(){this.activeTargetIds=CD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RP{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new rr(nn),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=AU(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new xP),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(AU(e.persistenceKey,i));if(u){const l=jD.Zi(i,u);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DP(this.persistenceKey,e));if(r){const i=dw.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DP(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xe("SharedClientState","READ",e,t),t}setItem(e,t){Xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let l=$i.at;if(null!=u)try{const f=JSON.parse(u);zt("number"==typeof f),l=f}catch(f){Fr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==$i.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new VD(this.currentUser,e,t,r),u=xU(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=xU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=DP(this.persistenceKey,e),u=new dw(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return jD.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return VD.Zi(new pi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return dw.Zi(i,t)}yr(e){return AP.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),l=[],f=[];return u.forEach(g=>{i.has(g)||l.push(g)}),i.forEach(g=>{u.has(g)||f.push(g)}),this.syncEngine.Br(l,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=CD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class RU{constructor(){this.Lr=new xP,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new xP,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sq{qr(e){}shutdown(){}}class OU{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Cq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Dq{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Aq extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,u){const l=this.ao(e,t);Xe("RestConnection","Sending: ",l,r);const f={};return this.ho(f,i,u),this.lo(e,l,f,r).then(g=>(Xe("RestConnection","Received: ",g),g),g=>{throw gl("RestConnection",`${e} failed with error: `,g,"url: ",l,"request:",r),g})}fo(e,t,r,i,u,l){return this.co(e,t,r,i,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ao(e,t){return`${this.oo}/v1/${t}:${Cq[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((u,l)=>{const f=new rL;f.listenOnce(dD.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case gp.NO_ERROR:const _=f.getResponseJson();Xe("Connection","XHR received:",JSON.stringify(_)),u(_);break;case gp.TIMEOUT:Xe("Connection",'RPC "'+e+'" timed out'),l(new Ke(xe.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const T=f.getStatus();if(Xe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const S=f.getResponseJson().error;if(S&&S.status&&S.message){const D=function(x){const O=x.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(O)>=0?O:xe.UNKNOWN}(S.status);l(new Ke(D,S.message))}else l(new Ke(xe.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Ke(xe.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{Xe("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);f.send(t,"POST",g,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=i_(),l=j1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new q1({})),this.ho(f.initMessageHeaders,t,r),(0,kt.uI)()||(0,kt.b$)()||(0,kt.d)()||(0,kt.w1)()||(0,kt.Mn)()||(0,kt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=i.join("");Xe("Connection","Creating WebChannel: "+g,f);const _=u.createWebChannel(g,f);let T=!1,S=!1;const D=new Dq({Hr:O=>{S?Xe("Connection","Not sending because WebChannel is closed:",O):(T||(Xe("Connection","Opening WebChannel transport."),_.open(),T=!0),Xe("Connection","WebChannel sending:",O),_.send(O))},Jr:()=>_.close()}),x=(O,$,Y)=>{O.listen($,pe=>{try{Y(pe)}catch(Re){setTimeout(()=>{throw Re},0)}})};return x(_,s_.EventType.OPEN,()=>{S||Xe("Connection","WebChannel transport opened.")}),x(_,s_.EventType.CLOSE,()=>{S||(S=!0,Xe("Connection","WebChannel transport closed"),D.io())}),x(_,s_.EventType.ERROR,O=>{S||(S=!0,gl("Connection","WebChannel transport errored:",O),D.io(new Ke(xe.UNAVAILABLE,"The operation could not be completed")))}),x(_,s_.EventType.MESSAGE,O=>{var $;if(!S){const Y=O.data[0];zt(!!Y);const pe=Y,Re=pe.error||(null===($=pe[0])||void 0===$?void 0:$.error);if(Re){Xe("Connection","WebChannel received error:",Re);const ve=Re.status;let Oe=function(Ye){const ot=yi[Ye];if(void 0!==ot)return TL(ot)}(ve),Qe=Re.message;void 0===Oe&&(Oe=xe.INTERNAL,Qe="Unknown error status: "+ve+" with message "+Re.message),S=!0,D.io(new Ke(Oe,Qe)),_.close()}else Xe("Connection","WebChannel received:",Y),D.ro(Y)}}),x(l,fi.STAT_EVENT,O=>{O.stat===B1.PROXY?Xe("Connection","Detected buffering proxy"):O.stat===B1.NOPROXY&&Xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{D.so()},0),D}}function PU(){return"undefined"!=typeof window?window:null}function BD(){return"undefined"!=typeof document?document:null}function hw(n){return new vB(n,!0)}class OP{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class kU{constructor(e,t,r,i,u,l,f,g){this.Hs=e,this.Po=r,this.vo=i,this.Vo=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new OP(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ne.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ke(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Ne.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xq extends kU{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Tt(),i=e.targetChange.targetIds||[],u=function(g,_){return g.gt?(zt(void 0===_||"string"==typeof _),ri.fromBase64String(_||"")):(zt(void 0===_||_ instanceof Uint8Array),ri.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(g){const _=void 0===g.code?xe.UNKNOWN:TL(g.code);return new Ke(_,g.message||"")}(l);t=new AL(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=ic(n,r.document.name),u=Zi(r.document.updateTime),l=new mi({mapValue:{fields:r.document.fields}}),f=Gn.newFoundDocument(i,u,l);t=new DD(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=ic(n,r.document),u=r.readTime?Zi(r.readTime):Zt.min(),l=Gn.newNoDocument(i,u);t=new DD([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=ic(n,r.document);t=new DD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Tt();{const r=e.filter,u=new dB(r.count||0);t=new DL(r.targetId,u)}}var g;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Zt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Zt.min():u.readTime?Zi(u.readTime):Zt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=nw(this.It),t.addTarget=function(i,u){let l;const f=u.target;return l=G0(f)?{documents:UL(i,f)}:{query:VL(i,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=PL(i,u.resumeToken):u.snapshotVersion.compareTo(Zt.min())>0&&(l.readTime=ew(i,u.snapshotVersion.toTimestamp())),l}(this.It,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=nw(this.It),t.removeTarget=e,this.Bo(t)}}class Rq extends kU{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(n,e){return n&&n.length>0?(zt(void 0!==e),n.map(t=>function(r,i){let u=Zi(r.updateTime?r.updateTime:i);return u.isEqual(Zt.min())&&(u=Zi(i)),new uB(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.Zo(r,t)}return zt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=nw(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rw(this.It,r))};this.Bo(t)}}class Oq extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Ke(xe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.Vo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ke(xe.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.Vo.fo(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ke(xe.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class Pq{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Fr(t),this.ou=!1):Xe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class kq{constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(f=>{r.enqueueAndForget((0,Ne.Z)(function*(){var g;rh(l)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ne.Z)(function*(_){const T=ut(_);T._u.add(4),yield T_(T),T.gu.set("Unknown"),T._u.delete(4),yield fw(T)}),function(_){return g.apply(this,arguments)})(l))}))}),this.gu=new Pq(r,i)}}function fw(n){return PP.apply(this,arguments)}function PP(){return PP=(0,Ne.Z)(function*(n){if(rh(n))for(const e of n.wu)yield e(!0)}),PP.apply(this,arguments)}function T_(n){return kP.apply(this,arguments)}function kP(){return kP=(0,Ne.Z)(function*(n){for(const e of n.wu)yield e(!1)}),kP.apply(this,arguments)}function qD(n,e){const t=ut(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),FP(t)?MP(t):S_(t).ko()&&NP(t,e))}function pw(n,e){const t=ut(n),r=S_(t);t.du.delete(e),r.ko()&&NU(t,e),0===t.du.size&&(r.ko()?r.Fo():rh(t)&&t.gu.set("Unknown"))}function NP(n,e){n.yu.Ot(e.targetId),S_(n).zo(e)}function NU(n,e){n.yu.Ot(e),S_(n).Ho(e)}function MP(n){n.yu=new mB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),S_(n).start(),n.gu.uu()}function FP(n){return rh(n)&&!S_(n).No()&&n.du.size>0}function rh(n){return 0===ut(n)._u.size}function MU(n){n.yu=void 0}function Nq(n){return LP.apply(this,arguments)}function LP(){return LP=(0,Ne.Z)(function*(n){n.du.forEach((e,t)=>{NP(n,e)})}),LP.apply(this,arguments)}function Mq(n,e){return UP.apply(this,arguments)}function UP(){return UP=(0,Ne.Z)(function*(n,e){MU(n),FP(n)?(n.gu.hu(e),MP(n)):n.gu.set("Unknown")}),UP.apply(this,arguments)}function Fq(n,e,t){return VP.apply(this,arguments)}function VP(){return VP=(0,Ne.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof AL&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(i,u){const l=u.cause;for(const f of u.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.du.delete(f),i.yu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $D(n,r)}else if(e instanceof DD?n.yu.Gt(e):e instanceof DL?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Zt.min()))try{const r=yield TU(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.yu.te(u);return l.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=i.du.get(g);_&&i.du.set(g,_.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach(f=>{const g=i.du.get(f);if(!g)return;i.du.set(f,g.withResumeToken(ri.EMPTY_BYTE_STRING,g.snapshotVersion)),NU(i,f);const _=new eh(g.target,f,1,g.sequenceNumber);NP(i,_)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),yield $D(n,r)}var r}),VP.apply(this,arguments)}function $D(n,e,t){return jP.apply(this,arguments)}function jP(){return jP=(0,Ne.Z)(function*(n,e,t){if(!ru(e))throw e;n._u.add(1),yield T_(n),n.gu.set("Offline"),t||(t=()=>TU(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield fw(n)}))}),jP.apply(this,arguments)}function FU(n,e){return e().catch(t=>$D(n,t,e))}function I_(n){return BP.apply(this,arguments)}function BP(){return BP=(0,Ne.Z)(function*(n){const e=ut(n),t=ih(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Lq(e);)try{const i=yield wq(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Uq(e,i)}catch(i){yield $D(e,i)}LU(e)&&UU(e)}),BP.apply(this,arguments)}function Lq(n){return rh(n)&&n.fu.length<10}function Uq(n,e){n.fu.push(e);const t=ih(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function LU(n){return rh(n)&&!ih(n).No()&&n.fu.length>0}function UU(n){ih(n).start()}function Vq(n){return qP.apply(this,arguments)}function qP(){return qP=(0,Ne.Z)(function*(n){ih(n).eu()}),qP.apply(this,arguments)}function jq(n){return $P.apply(this,arguments)}function $P(){return $P=(0,Ne.Z)(function*(n){const e=ih(n);for(const t of n.fu)e.Xo(t.mutations)}),$P.apply(this,arguments)}function Bq(n,e,t){return HP.apply(this,arguments)}function HP(){return HP=(0,Ne.Z)(function*(n,e,t){const r=n.fu.shift(),i=fP.from(r,e,t);yield FU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield I_(n)}),HP.apply(this,arguments)}function qq(n,e){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,Ne.Z)(function*(n,e){var t;e&&ih(n).Yo&&(yield(t=(0,Ne.Z)(function*(r,i){if(wL(u=i.code)&&u!==xe.ABORTED){const l=r.fu.shift();ih(r).Oo(),yield FU(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield I_(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),LU(n)&&UU(n)}),ZP.apply(this,arguments)}function VU(n,e){return GP.apply(this,arguments)}function GP(){return GP=(0,Ne.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=rh(t);t._u.add(3),yield T_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield fw(t)}),GP.apply(this,arguments)}function zP(n,e){return WP.apply(this,arguments)}function WP(){return WP=(0,Ne.Z)(function*(n,e){const t=ut(n);e?(t._u.delete(2),yield fw(t)):e||(t._u.add(2),yield T_(t),t.gu.set("Unknown"))}),WP.apply(this,arguments)}function S_(n){return n.pu||(n.pu=function(e,t,r){const i=ut(e);return i.su(),new xq(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Nq.bind(null,n),Zr:Mq.bind(null,n),Wo:Fq.bind(null,n)}),n.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.pu.Oo(),FP(n)?MP(n):n.gu.set("Unknown")):(yield n.pu.stop(),MU(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function ih(n){return n.Iu||(n.Iu=function(e,t,r){const i=ut(e);return i.su(),new Rq(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Vq.bind(null,n),Zr:qq.bind(null,n),tu:jq.bind(null,n),Zo:Bq.bind(null,n)}),n.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Iu.Oo(),yield I_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Xe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class KP{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,f=new KP(e,t,l,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),ru(n))return new Ke(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class D_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=Q0(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new D_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof D_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new D_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jU{constructor(){this.Tu=new rr(at.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Tt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class A_{constructor(e,t,r,i,u,l,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(l=>{u.push({type:0,doc:l})}),new A_(e,t,D_.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ae(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class $q{constructor(){this.Au=void 0,this.listeners=[]}}class Hq{constructor(){this.queries=new Xd(e=>Je(e),ae),this.onlineState="Unknown",this.Ru=new Set}}function QP(n,e){return YP.apply(this,arguments)}function YP(){return YP=(0,Ne.Z)(function*(n,e){const t=ut(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new $q),i)try{u.Au=yield t.onListen(r)}catch(l){const f=C_(l,`Initialization of query '${Ue(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&ek(t)}),YP.apply(this,arguments)}function JP(n,e){return XP.apply(this,arguments)}function XP(){return XP=(0,Ne.Z)(function*(n,e){const t=ut(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),XP.apply(this,arguments)}function Zq(n,e){const t=ut(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.Pu(i)&&(r=!0);l.Au=i}}r&&ek(t)}function Gq(n,e,t){const r=ut(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function ek(n){n.Ru.forEach(e=>{e.next()})}class tk{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new A_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=A_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class zq{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class BU{constructor(e){this.It=e}Ji(e){return ic(this.It,e)}Yi(e){return e.metadata.exists?LL(this.It,e.document,!1):Gn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Zi(e)}}class Wq{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qU(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=On.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new BU(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||pn()).add(u);t.set(l,f)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function(n,e,t,r){return SP.apply(this,arguments)}(e.localStore,new BU(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield Iq(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function qU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $U{constructor(e){this.key=e}}class HU{constructor(e){this.key=e}}class ZU{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=pn(),this.mutatedKeys=pn(),this.Ku=vn(e),this.Gu=new D_(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new jU,i=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,S)=>{const D=i.get(T),x=Ot(this.query,S)?S:null,O=!!D&&this.mutatedKeys.has(D.key),$=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let Y=!1;D&&x?D.data.isEqual(x.data)?O!==$&&(r.track({type:3,doc:x}),Y=!0):this.zu(D,x)||(r.track({type:2,doc:x}),Y=!0,(g&&this.Ku(x,g)>0||_&&this.Ku(x,_)<0)&&(f=!0)):!D&&x?(r.track({type:0,doc:x}),Y=!0):D&&!x&&(r.track({type:1,doc:D}),Y=!0,(g||_)&&(f=!0)),Y&&(x?(l=l.add(x),u=$?u.add(T):u.delete(T)):(l=l.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Gu:l,Wu:r,$i:f,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((_,T)=>function(S,D){const x=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return x(S)-x(D)}(_.type,T.type)||this.Ku(_.doc,T.doc)),this.Hu(r);const l=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,g=f!==this.Uu;return this.Uu=f,0!==u.length||g?{snapshot:new A_(this.query,e.Gu,i,u,e.mutatedKeys,0===f,g,!1),Yu:l}:{Yu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new jU,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=pn(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new HU(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new $U(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=pn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return A_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Kq{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Qq{constructor(e){this.key=e,this.ec=!1}}class Yq{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new Xd(f=>Je(f),ae),this.ic=new Map,this.rc=new Set,this.oc=new rr(at.comparator),this.uc=new Map,this.cc=new _P,this.ac={},this.hc=new Map,this.lc=Mp.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Jq(n,e){return nk.apply(this,arguments)}function nk(){return nk=(0,Ne.Z)(function*(n,e){const t=Sk(n);let r,i;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.tc();else{const l=yield E_(t.localStore,ee(e));t.isPrimaryClient&&qD(t.remoteStore,l);const f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield rk(t,e,r,"current"===f)}return i}),nk.apply(this,arguments)}function rk(n,e,t,r){return ik.apply(this,arguments)}function ik(){return ik=(0,Ne.Z)(function*(n,e,t,r){n.dc=(T,S,D)=>{return(x=(0,Ne.Z)(function*(O,$,Y,pe){let Re=$.view.ju(Y);Re.$i&&(Re=yield UD(O.localStore,$.query,!1).then(({documents:Qe})=>$.view.ju(Qe,Re)));const ve=pe&&pe.targetChanges.get($.targetId),Oe=$.view.applyChanges(Re,O.isPrimaryClient,ve);return pk(O,$.targetId,Oe.Yu),Oe.snapshot}),function(O,$,Y,pe){return x.apply(this,arguments)})(n,T,S,D);var x};const i=yield UD(n.localStore,e,!0),u=new ZU(e,i.Hi),l=u.ju(i.documents),f=X0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),g=u.applyChanges(l,n.isPrimaryClient,f);pk(n,t,g.Yu);const _=new Kq(e,t,u);return n.sc.set(e,_),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),g.snapshot}),ik.apply(this,arguments)}function Xq(n,e){return sk.apply(this,arguments)}function sk(){return sk=(0,Ne.Z)(function*(n,e){const t=ut(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(u=>!ae(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield w_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),pw(t.remoteStore,r.targetId),x_(t,r.targetId)}).catch(nu))):(x_(t,r.targetId),yield w_(t.localStore,r.targetId,!0))}),sk.apply(this,arguments)}function ok(){return ok=(0,Ne.Z)(function*(n,e,t){const r=Ck(n);try{const i=yield function(u,l){const f=ut(u),g=nr.now(),_=l.reduce((D,x)=>D.add(x.key),pn());let T,S;return f.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=fo(),O=pn();return f.Gi.getEntries(D,_).next($=>{x=$,x.forEach((Y,pe)=>{pe.isValidDocument()||(O=O.add(Y))})}).next(()=>f.localDocuments.getOverlayedDocuments(D,x)).next($=>{T=$;const Y=[];for(const pe of l){const Re=lB(pe,T.get(pe.key).overlayedDocument);null!=Re&&Y.push(new bl(pe.key,Re,tc(Re.value.mapValue),Pr.exists(!0)))}return f.mutationQueue.addMutationBatch(D,g,Y,l)}).next($=>{S=$;const Y=$.applyToLocalDocumentSet(T,O);return f.documentOverlayCache.saveOverlays(D,$.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:SL(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,f){let g=u.ac[u.currentUser.toKey()];g||(g=new rr(nn)),g=g.insert(l,f),u.ac[u.currentUser.toKey()]=g}(r,i.batchId,t),yield El(r,i.changes),yield I_(r.remoteStore)}catch(i){const u=C_(i,"Failed to persist write");t.reject(u)}}),ok.apply(this,arguments)}function GU(n,e){return ak.apply(this,arguments)}function ak(){return ak=(0,Ne.Z)(function*(n,e){const t=ut(n);try{const r=yield Eq(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.uc.get(u);l&&(zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ec=!0:i.modifiedDocuments.size>0?zt(l.ec):i.removedDocuments.size>0&&(zt(l.ec),l.ec=!1))}),yield El(t,r,e)}catch(r){yield nu(r)}}),ak.apply(this,arguments)}function zU(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((u,l)=>{const f=l.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(u,l){const f=ut(u);f.onlineState=l;let g=!1;f.queries.forEach((_,T)=>{for(const S of T.listeners)S.bu(l)&&(g=!0)}),g&&ek(f)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function t$(n,e,t){return uk.apply(this,arguments)}function uk(){return uk=(0,Ne.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),u=i&&i.key;if(u){let l=new rr(at.comparator);l=l.insert(u,Gn.newNoDocument(u,Zt.min()));const f=pn().add(u),g=new J0(Zt.min(),new Map,new Vn(nn),l,f);yield GU(r,g),r.oc=r.oc.remove(u),r.uc.delete(e),gk(r)}else yield w_(r.localStore,e,!1).then(()=>x_(r,e,t)).catch(nu)}),uk.apply(this,arguments)}function n$(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,Ne.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const i=yield bq(t.localStore,e);fk(t,r,null),hk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield El(t,i)}catch(i){yield nu(i)}}),ck.apply(this,arguments)}function r$(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=(0,Ne.Z)(function*(n,e,t){const r=ut(n);try{const i=yield function(u,l){const f=ut(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,l).next(T=>(zt(null!==T),_=T.keys(),f.mutationQueue.removeMutationBatch(g,T))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(r.localStore,e);fk(r,e,t),hk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield El(r,i)}catch(i){yield nu(i)}}),lk.apply(this,arguments)}function dk(){return dk=(0,Ne.Z)(function*(n,e){const t=ut(n);rh(t.remoteStore)||Xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=ut(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=C_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),dk.apply(this,arguments)}function hk(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function fk(n,e,t){const r=ut(n);let i=r.ac[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function x_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||WU(n,r)})}function WU(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(pw(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),gk(n))}function pk(n,e,t){for(const r of t)r instanceof $U?(n.cc.addReference(r.key,e),s$(n,r)):r instanceof HU?(Xe("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||WU(n,r.key)):Tt()}function s$(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Xe("SyncEngine","New document in limbo: "+t),n.rc.add(r),gk(n))}function gk(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new at(On.fromString(e)),r=n.lc.next();n.uc.set(r,new Qq(t)),n.oc=n.oc.insert(t,r),qD(n.remoteStore,new eh(ee(w(t.path)),r,2,$i.at))}}function El(n,e,t){return mk.apply(this,arguments)}function mk(){return mk=(0,Ne.Z)(function*(n,e,t){const r=ut(n),i=[],u=[],l=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,g)=>{l.push(r.dc(g,e,t).then(_=>{if(_){r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,_.fromCache?"not-current":"current"),i.push(_);const T=wP.Ci(g.targetId,_);u.push(T)}}))}),yield Promise.all(l),r.nc.Wo(i),yield(f=(0,Ne.Z)(function*(g,_){const T=ut(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Ee.forEach(_,D=>Ee.forEach(D.Si,x=>T.persistence.referenceDelegate.addReference(S,D.targetId,x)).next(()=>Ee.forEach(D.Di,x=>T.persistence.referenceDelegate.removeReference(S,D.targetId,x)))))}catch(S){if(!ru(S))throw S;Xe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const x=T.Ui.get(D),$=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);T.Ui=T.Ui.insert(D,$)}}}),function(g,_){return f.apply(this,arguments)})(r.localStore,u))}),mk.apply(this,arguments)}function o$(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,Ne.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=yield wU(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(l=>{l.forEach(f=>{f.reject(new Ke(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield El(t,r.ji)}var i}),yk.apply(this,arguments)}function a$(n,e){const t=ut(n),r=t.uc.get(e);if(r&&r.ec)return pn().add(r.key);{let i=pn();const u=t.ic.get(e);if(!u)return i;for(const l of u){const f=t.sc.get(l);i=i.unionWith(f.view.Qu)}return i}}function u$(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,Ne.Z)(function*(n,e){const t=ut(n),r=yield UD(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&pk(t,e.targetId,i.Yu),i}),_k.apply(this,arguments)}function c$(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,Ne.Z)(function*(n,e){const t=ut(n);return CU(t.localStore,e).then(r=>El(t,r))}),vk.apply(this,arguments)}function l$(n,e,t,r){return bk.apply(this,arguments)}function bk(){return bk=(0,Ne.Z)(function*(n,e,t,r){const i=ut(n),u=yield function(l,f){const g=ut(l),_=ut(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>_.Tn(T,f).next(S=>S?g.localDocuments.getDocuments(T,S):Ee.resolve(null)))}(i.localStore,e);var f;null!==u?("pending"===t?yield I_(i.remoteStore):"acknowledged"===t||"rejected"===t?(fk(i,e,r||null),hk(i,e),f=e,ut(ut(i.localStore).mutationQueue).An(f)):Tt(),yield El(i,u)):Xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),bk.apply(this,arguments)}function Ek(){return Ek=(0,Ne.Z)(function*(n,e){const t=ut(n);if(Sk(t),Ck(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield KU(t,r.toArray());t.fc=!0,yield zP(t.remoteStore,!0);for(const u of i)qD(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(x_(t,l),w_(t.localStore,l,!0))),pw(t.remoteStore,l)}),yield i,yield KU(t,r),function(u){const l=ut(u);l.uc.forEach((f,g)=>{pw(l.remoteStore,g)}),l.cc.fs(),l.uc=new Map,l.oc=new rr(at.comparator)}(t),t.fc=!1,yield zP(t.remoteStore,!1)}}),Ek.apply(this,arguments)}function KU(n,e,t){return wk.apply(this,arguments)}function wk(){return wk=(0,Ne.Z)(function*(n,e,t){const r=ut(n),i=[],u=[];for(const l of e){let f;const g=r.ic.get(l);if(g&&0!==g.length){f=yield E_(r.localStore,ee(g[0]));for(const _ of g){const T=r.sc.get(_),S=yield u$(r,T);S.snapshot&&u.push(S.snapshot)}}else{const _=yield SU(r.localStore,l);f=yield E_(r.localStore,_),yield rk(r,QU(_),l,!1)}i.push(f)}return r.nc.Wo(u),i}),wk.apply(this,arguments)}function QU(n){return b(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function h$(n){const e=ut(n);return ut(ut(e.localStore).persistence).vi()}function f$(n,e,t,r){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,Ne.Z)(function*(n,e,t,r){const i=ut(n);if(i.fc)return void Xe("SyncEngine","Ignoring unexpected query state notification.");const u=i.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield CU(i.localStore,$t(u[0])),f=J0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield El(i,l,f);break}case"rejected":yield w_(i.localStore,e,!0),x_(i,e,r);break;default:Tt()}}),Tk.apply(this,arguments)}function p$(n,e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Ne.Z)(function*(n,e,t){const r=Sk(n);if(r.fc){for(const i of e){if(r.ic.has(i)){Xe("SyncEngine","Adding an already active target "+i);continue}const u=yield SU(r.localStore,i),l=yield E_(r.localStore,u);yield rk(r,QU(u),l.targetId,!1),qD(r.remoteStore,l)}for(const i of t)r.ic.has(i)&&(yield w_(r.localStore,i,!1).then(()=>{pw(r.remoteStore,i),x_(r,i)}).catch(nu))}}),Ik.apply(this,arguments)}function Sk(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t$.bind(null,e),e.nc.Wo=Zq.bind(null,e.eventManager),e.nc._c=Gq.bind(null,e.eventManager),e}function Ck(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r$.bind(null,e),e}class YU{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.It=hw(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return EU(this.persistence,new bU,e.initialUser,this.It)}gc(e){return new _U(FD.Bs,this.It)}mc(e){return new RU}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JU extends YU{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield Ck(r.Ec.syncEngine),yield I_(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return EU(this.persistence,new bU,e.initialUser,this.It)}Ic(e,t){return new sq(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new eP(t,this.persistence);return new X1(e.asyncQueue,r)}gc(e){const t=EP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new bP(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,PU(),BD(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new RU}}class m$ extends JU{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof RP&&(r.sharedClientState.syncEngine={Fr:l$.bind(null,i),$r:f$.bind(null,i),Br:p$.bind(null,i),vi:h$.bind(null,i),Or:c$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Ne.Z)(function*(l){yield function(n,e){return Ek.apply(this,arguments)}(r.Ec.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}mc(e){const t=PU();if(!RP.C(t))throw new Ke(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=EP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RP(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Dk{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=o$.bind(null,r.syncEngine),yield zP(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hq}createDatastore(e){const t=hw(e.databaseInfo.databaseId),r=new Aq(e.databaseInfo);return new Oq(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>zU(this.syncEngine,f,0),l=OU.C()?new OU:new Sq,new kq(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,f,g,_){const T=new Yq(r,i,u,l,f,g);return _&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=ut(t);Xe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield T_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function XU(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class HD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class y${constructor(e,t){this.bc=e,this.It=t,this.metadata=new gi,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(i);return new zq(JSON.parse(u),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Ne.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class _${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ke(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ne.Z)(function*(u,l){const f=ut(u),g=nw(f.It)+"/documents",_={documents:l.map(x=>tw(f.It,x))},T=yield f.fo("BatchGetDocuments",g,_,l.length),S=new Map;T.forEach(x=>{const O=function(n,e){return"found"in e?function(t,r){zt(!!r.found);const i=ic(t,r.found.name),u=Zi(r.found.updateTime),l=new mi({mapValue:{fields:r.found.fields}});return Gn.newFoundDocument(i,u,l)}(n,e):"missing"in e?function(t,r){zt(!!r.missing),zt(!!r.readTime);const i=ic(t,r.missing),u=Zi(r.readTime);return Gn.newNoDocument(i,u)}(n,e):Tt()}(f.It,x);S.set(O.key.toString(),O)});const D=[];return l.forEach(x=>{const O=S.get(x.toString());zt(!!O),D.push(O)}),D}),function(u,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new m_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=at.fromPath(i);e.mutations.push(new aP(u,e.precondition(u)))}),yield(r=(0,Ne.Z)(function*(i,u){const l=ut(i),f=nw(l.It)+"/documents",g={writes:u.map(_=>rw(l.It,_))};yield l.co("Commit",f,g)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tt();t=Zt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ke(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zt.min())?Pr.exists(!1):Pr.updateTime(t):Pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zt.min()))throw new Ke(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pr.updateTime(t)}return Pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class v${constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new OP(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Ne.Z)(function*(){const t=new _$(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Oc(u)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!wp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wL(t)}return!1}}class b${constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pi.UNAUTHENTICATED,this.clientId=gD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ne.Z)(function*(f){Xe("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Xe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=C_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eV(n,e){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ne.Z)(function*(u){r.isEqual(u)||(yield wU(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ak.apply(this,arguments)}function tV(n,e){return xk.apply(this,arguments)}function xk(){return xk=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Rk(n);Xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>VU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>VU(e.remoteStore,u)),n.onlineComponents=e}),xk.apply(this,arguments)}function Rk(n){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,Ne.Z)(function*(n){return n.offlineComponents||(Xe("FirestoreClient","Using default OfflineComponentProvider"),yield eV(n,new YU)),n.offlineComponents}),Ok.apply(this,arguments)}function ZD(n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,Ne.Z)(function*(n){return n.onlineComponents||(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield tV(n,new Dk)),n.onlineComponents}),Pk.apply(this,arguments)}function nV(n){return Rk(n).then(e=>e.persistence)}function GD(n){return Rk(n).then(e=>e.localStore)}function rV(n){return ZD(n).then(e=>e.remoteStore)}function kk(n){return ZD(n).then(e=>e.syncEngine)}function R_(n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Ne.Z)(function*(n){const e=yield ZD(n),t=e.eventManager;return t.onListen=Jq.bind(null,e.syncEngine),t.onUnlisten=Xq.bind(null,e.syncEngine),t}),Nk.apply(this,arguments)}function iV(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,u,l,f,g){const _=new HD({next:S=>{u.enqueueAndForget(()=>JP(i,T));const D=S.docs.has(l);!D&&S.fromCache?g.reject(new Ke(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&f&&"server"===f.source?g.reject(new Ke(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new tk(w(l.path),_,{includeMetadataChanges:!0,Nu:!0});return QP(i,T)}(yield R_(n),n.asyncQueue,e,t,r)})),r.promise}function sV(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,u,l,f,g){const _=new HD({next:S=>{u.enqueueAndForget(()=>JP(i,T)),S.fromCache&&"server"===f.source?g.reject(new Ke(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new tk(l,_,{includeMetadataChanges:!0,Nu:!0});return QP(i,T)}(yield R_(n),n.asyncQueue,e,t,r)})),r.promise}const oV=new Map;function Mk(n,e,t){if(!t)throw new Ke(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aV(n,e,t,r){if(!0===e&&!0===r)throw new Ke(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uV(n){if(!at.isDocumentKey(n))throw new Ke(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cV(n){if(at.isDocumentKey(n))throw new Ke(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Tt()}function Pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zD(n);throw new Ke(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lV(n,e){if(e<=0)throw new Ke(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Z1;switch(t.type){case"gapi":return new W1(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ke(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oV.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),oV.delete(e),t.terminate())}(this),Promise.resolve()}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class ws{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class oc extends ws{constructor(e,t,r){super(e,t,w(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new at(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function hV(n,e,...t){if(n=(0,kt.m9)(n),Mk("collection","path",e),n instanceof gw){const r=On.fromString(e,...t);return cV(r),new oc(n,null,r)}{if(!(n instanceof yr||n instanceof oc))throw new Ke(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return cV(r),new oc(n.firestore,null,r)}}function WD(n,e,...t){if(n=(0,kt.m9)(n),1===arguments.length&&(e=gD.R()),Mk("doc","path",e),n instanceof gw){const r=On.fromString(e,...t);return uV(r),new yr(n,null,new at(r))}{if(!(n instanceof yr||n instanceof oc))throw new Ke(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return uV(r),new yr(n.firestore,n instanceof oc?n.converter:null,new at(r))}}function fV(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),(n instanceof yr||n instanceof oc)&&(e instanceof yr||e instanceof oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pV(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),n instanceof ws&&e instanceof ws&&n.firestore===e.firestore&&ae(n._query,e._query)&&n.converter===e.converter}class O${constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new OP(this,"async_queue_retry"),this.jc=()=>{const t=BD();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=BD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=BD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new gi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ru(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=KP.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(i),i}Wc(){this.qc&&Tt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Fk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class P${constructor(){this._progressObserver={},this._taskCompletionResolver=new gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kr extends gw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new O$,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gV(this),this._firestoreClient.terminate()}}function _i(n){return n._firestoreClient||gV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gV(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $0(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new b$(n._authCredentials,n._appCheckCredentials,n._queue,r)}function mV(n,e,t){const r=new gi;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield eV(n,t),yield tV(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(l=u).name?l.code===xe.FAILED_PRECONDITION||l.code===xe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw u;gl("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var l})).then(()=>r.promise)}function yV(n){if(n._initialized||n._terminated)throw new Ke(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ke(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(ri.fromBase64String(e))}catch(t){throw new Ke(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ac(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lp{constructor(e){this._methodName=e}}class KD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}const q$=/^__.*__$/;class $${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new g_(e,this.data,t,this.fieldTransforms)}}class _V{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class QD{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new QD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return XD(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(vV(this.na)&&q$.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class H${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||hw(e)}fa(e,t,r,i=!1){return new QD({na:e,methodName:t,la:r,path:Lr.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Up(n){const e=n._freezeSettings(),t=hw(n._databaseId);return new H$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YD(n,e,t,r,i,u={}){const l=n.fa(u.merge||u.mergeFields?2:0,e,t,i);jk("Data must be an object, but it was:",l,r);const f=wV(r,l);let g,_;if(u.merge)g=new Vs(l.fieldMask),_=l.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const D=Bk(e,S,t);if(!l.contains(D))throw new Ke(xe.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);IV(T,D)||T.push(D)}g=new Vs(T),_=l.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,_=l.fieldTransforms;return new $$(new mi(f),g,_)}class mw extends Lp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mw}}function bV(n,e,t){return new QD({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Lk extends Lp{_toFieldTransform(e){return new W0(e.path,new nc)}isEqual(e){return e instanceof Lk}}class Z$ extends Lp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=bV(this,e,!0),r=this.da.map(u=>Vp(u,t)),i=new cu(r);return new W0(e.path,i)}isEqual(e){return this===e}}class G$ extends Lp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=bV(this,e,!0),r=this.da.map(u=>Vp(u,t)),i=new Ap(r);return new W0(e.path,i)}isEqual(e){return this===e}}class z$ extends Lp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new p_(e.It,vl(e.It,this._a));return new W0(e.path,t)}isEqual(e){return this===e}}function Uk(n,e,t,r){const i=n.fa(1,e,t);jk("Data must be an object, but it was:",i,r);const u=[],l=mi.empty();Ur(r,(g,_)=>{const T=JD(e,g,t);_=(0,kt.m9)(_);const S=i.ua(T);if(_ instanceof mw)u.push(T);else{const D=Vp(_,S);null!=D&&(u.push(T),l.set(T,D))}});const f=new Vs(u);return new _V(l,f,i.fieldTransforms)}function Vk(n,e,t,r,i,u){const l=n.fa(1,e,t),f=[Bk(e,r,t)],g=[i];if(u.length%2!=0)throw new Ke(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)f.push(Bk(e,u[D])),g.push(u[D+1]);const _=[],T=mi.empty();for(let D=f.length-1;D>=0;--D)if(!IV(_,f[D])){const x=f[D];let O=g[D];O=(0,kt.m9)(O);const $=l.ua(x);if(O instanceof mw)_.push(x);else{const Y=Vp(O,$);null!=Y&&(_.push(x),T.set(x,Y))}}const S=new Vs(_);return new _V(T,S,l.fieldTransforms)}function EV(n,e,t,r=!1){return Vp(t,n.fa(r?4:3,e))}function Vp(n,e){if(TV(n=(0,kt.m9)(n)))return jk("Unsupported field value:",e,n),wV(n,e);if(n instanceof Lp)return function(t,r){if(!vV(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let f=Vp(l,r.ca(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vl(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=nr.fromDate(t);return{timestampValue:ew(r.It,i)}}if(t instanceof nr){const i=new nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ew(r.It,i)}}if(t instanceof KD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ac)return{bytesValue:PL(r.It,t._byteString)};if(t instanceof yr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uP(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${zD(t)}`)}(n,e)}function wV(n,e){const t={};return Wd(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(n,(r,i)=>{const u=Vp(i,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function TV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof KD||n instanceof ac||n instanceof yr||n instanceof Lp)}function jk(n,e,t){if(!TV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zD(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function Bk(n,e,t){if((e=(0,kt.m9)(e))instanceof wl)return e._internalPath;if("string"==typeof e)return JD(n,e);throw XD("Field path arguments must be of type string or ",n,!1,void 0,t)}const W$=new RegExp("[~\\*/\\[\\]]");function JD(n,e,t){if(e.search(W$)>=0)throw XD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wl(...e.split("."))._internalPath}catch(r){throw XD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function XD(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||l)&&(g+=" (found",u&&(g+=` in field ${r}`),l&&(g+=` in document ${i}`),g+=")"),new Ke(xe.INVALID_ARGUMENT,f+n+g)}function IV(n,e){return n.some(t=>t.isEqual(e))}class yw{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new K$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class K$ extends yw{data(){return super.data()}}function eA(n,e){return"string"==typeof e?JD(n,e):e instanceof wl?e._internalPath:e._delegate._internalPath}class jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tl extends yw{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eA("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _w extends Tl{data(e={}){return super.data(e)}}class sh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _w(this._firestore,this._userDataWriter,r.key,r,new jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new _w(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new _w(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return 0!==l.type&&(g=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),_=u.indexOf(l.doc.key)),{type:Q$(l.type),doc:f,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function SV(n,e){return n instanceof Tl&&e instanceof Tl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof sh&&e instanceof sh&&n._firestore===e._firestore&&pV(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function CV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ke(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vw{}function oh(n,...e){for(const t of e)n=t._apply(n);return n}class Y$ extends vw{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=Up(e.firestore),r=function(i,u,l,f,g,_,T){let S;if(g.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ke(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){PV(T,_);const x=[];for(const O of T)x.push(OV(f,i,O));S={arrayValue:{values:x}}}else S=OV(f,i,T)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||PV(T,_),S=EV(l,"where",T,"in"===_||"not-in"===_);const D=Hi.create(g,_,S);return function(x,O){if(O.dt()){const Y=P(x);if(null!==Y&&!Y.isEqual(O.field))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Y.toString()}' and '${O.field.toString()}'`);const pe=A(x);null!==pe&&kV(0,O.field,pe)}const $=function(Y,pe){for(const Re of Y.filters)if(pe.indexOf(Re.op)>=0)return Re.op;return null}(x,function(Y){switch(Y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(O.op));if(null!==$)throw new Ke(xe.INVALID_ARGUMENT,$===O.op?`Invalid query. You cannot use more than one '${O.op.toString()}' filter.`:`Invalid query. You cannot use '${O.op.toString()}' filters with '${$.toString()}' filters.`)}(i,D),D}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ws(e.firestore,e.converter,function(i,u){const l=i.filters.concat([u]);return new y(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class X$ extends vw{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Ke(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ke(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new a(i,u);return function(f,g){if(null===A(f)){const _=P(f);null!==_&&kV(0,_,g.field)}}(r,l),l}(e._query,this.wa,this.ya);return new ws(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new y(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class DV extends vw{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new ws(e.firestore,e.converter,Se(e._query,this.pa,this.Ia))}}class AV extends vw{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=RV(e,this.type,this.Ta,this.Ea);return new ws(e.firestore,e.converter,(i=t,new y((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class xV extends vw{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=RV(e,this.type,this.Ta,this.Ea);return new ws(e.firestore,e.converter,(i=t,new y((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function RV(n,e,t,r){if(t[0]=(0,kt.m9)(t[0]),t[0]instanceof yw)return function(i,u,l,f,g){if(!f)throw new Ke(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const T of Q(i))if(T.field.isKeyField())_.push(Ea(u,f.key));else{const S=f.data.field(T.field);if(q0(S))throw new Ke(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const D=T.field.canonicalString();throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(S)}return new o(_,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Up(n.firestore);return function(u,l,f,g,_,T){const S=u.explicitOrderBy;if(_.length>S.length)throw new Ke(xe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let x=0;x<_.length;x++){const O=_[x];if(S[x].field.isKeyField()){if("string"!=typeof O)throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof O}`);if(!N(u)&&-1!==O.indexOf("/"))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${O}' contains a slash.`);const $=u.path.child(On.fromString(O));if(!at.isDocumentKey($))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const Y=new at($);D.push(Ea(l,Y))}else{const $=EV(f,g,O);D.push($)}}return new o(D,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function OV(n,e,t){if("string"==typeof(t=(0,kt.m9)(t))){if(""===t)throw new Ke(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N(e)&&-1!==t.indexOf("/"))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(On.fromString(t));if(!at.isDocumentKey(r))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ea(n,new at(r))}if(t instanceof yr)return Ea(n,t._key);throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zD(t)}.`)}function PV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ke(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ke(xe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kV(n,e,t){if(!t.isEqual(e))throw new Ke(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const a3={maxAttempts:5};class qk{convertValue(e,t="none"){switch(Yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tt()}}convertObject(e,t){const r={};return Ur(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new KD(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ou(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const t=su(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=On.fromString(e);zt(qL(r));const i=new Ku(r.get(1),r.get(3)),u=new at(r.popFirst(5));return i.isEqual(t)||Fr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function tA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class u3 extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}class NV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Up(e)}set(e,t,r){this._verifyNotCommitted();const i=ah(e,this._firestore),u=tA(i.converter,t,r),l=YD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Pr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=ah(e,this._firestore);let l;return l="string"==typeof(t=(0,kt.m9)(t))||t instanceof wl?Vk(this._dataReader,"WriteBatch.update",u._key,t,r,i):Uk(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ah(e,this._firestore);return this._mutations=this._mutations.concat(new m_(t._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ah(n,e){if((n=(0,kt.m9)(n)).firestore!==e)throw new Ke(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bp extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function MV(n,e,t){n=Pn(n,yr);const r=Pn(n.firestore,kr),i=tA(n.converter,e,t);return O_(r,[YD(Up(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pr.none())])}function FV(n,e,t,...r){n=Pn(n,yr);const i=Pn(n.firestore,kr),u=Up(i);let l;return l="string"==typeof(e=(0,kt.m9)(e))||e instanceof wl?Vk(u,"updateDoc",n._key,e,t,r):Uk(u,"updateDoc",n._key,e),O_(i,[l.toMutation(n._key,Pr.exists(!0))])}function LV(n,...e){var t,r,i;n=(0,kt.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Fk(e[l])||(u=e[l],l++);const f={includeMetadataChanges:u.includeMetadataChanges};if(Fk(e[l])){const S=e[l];e[l]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[l+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[l+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let g,_,T;if(n instanceof yr)_=Pn(n.firestore,kr),T=w(n._key.path),g={next:S=>{e[l]&&e[l]($k(_,n,S))},error:e[l+1],complete:e[l+2]};else{const S=Pn(n,ws);_=Pn(S.firestore,kr),T=S._query;const D=new Bp(_);g={next:x=>{e[l]&&e[l](new sh(_,D,S,x))},error:e[l+1],complete:e[l+2]},CV(n._query)}return function(S,D,x,O){const $=new HD(O),Y=new tk(D,$,x);return S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return QP(yield R_(S),Y)})),()=>{$.Rc(),S.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return JP(yield R_(S),Y)}))}}(_i(_),T,f,g)}function O_(n,e){return function(t,r){const i=new gi;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e,t){return ok.apply(this,arguments)}(yield kk(t),r,i)})),i.promise}(_i(n),e)}function $k(n,e,t){const r=t.docs.get(e._key),i=new Bp(n);return new Tl(n,i,e._key,r,new jp(t.hasPendingWrites,t.fromCache),e.converter)}class _3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Up(e)}get(e){const t=ah(e,this._firestore),r=new u3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Tt();const u=i[0];if(u.isFoundDocument())return new yw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new yw(this._firestore,r,t._key,null,t.converter);throw Tt()})}set(e,t,r){const i=ah(e,this._firestore),u=tA(i.converter,t,r),l=YD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const u=ah(e,this._firestore);let l;return l="string"==typeof(t=(0,kt.m9)(t))||t instanceof wl?Vk(this._dataReader,"Transaction.update",u._key,t,r,i):Uk(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=ah(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ah(e,this._firestore),r=new Bp(this._firestore);return super.get(e).then(i=>new Tl(this._firestore,r,t._key,i._document,new jp(!1,!1),t.converter))}}function Hk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function VV(){if("undefined"==typeof Uint8Array)throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function jV(){if("undefined"==typeof atob)throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yp=Ps.SDK_VERSION,(0,Ps._registerComponent)(new id.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new kr(new z1(t.getProvider("auth-internal")),new K1(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ke(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(f.options.projectId,g)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Ps.registerVersion)(mp,"3.4.15",n),(0,Ps.registerVersion)(mp,"3.4.15","esm2017")}();class bw{constructor(e){this._delegate=e}static fromBase64String(e){return jV(),new bw(ac.fromBase64String(e))}static fromUint8Array(e){return VV(),new bw(ac.fromUint8Array(e))}toBase64(){return jV(),this._delegate.toBase64()}toUint8Array(){return VV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Zk(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class A3{enableIndexedDbPersistence(e,t){return function(n,e){yV(n=Pn(n,kr));const t=_i(n),r=n._freezeSettings(),i=new Dk;return mV(t,i,new JU(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){yV(n=Pn(n,kr));const e=_i(n),t=n._freezeSettings(),r=new Dk;return mV(e,r,new m$(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ke(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!Es.C())return Promise.resolve();const i=r+"main";yield Es.delete(i)}),function(r){return t.apply(this,arguments)})(EP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class BV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const u=(n=Pn(n,gw))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&gl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=pi.MOCK_USER;else{l=(0,kt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ke(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pi(g)}n._authCredentials=new G1(new fD(l,f))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield nV(n),t=yield rV(n);return e.setNetworkEnabled(!0),function(r){const i=ut(r);return i._u.delete(0),fw(i)}(t)}))}(_i(n=Pn(n,kr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield nV(n),t=yield rV(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(i){const u=ut(i);u._u.add(0),yield T_(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(_i(n=Pn(n,kr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aV("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new gi;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(n,e){return dk.apply(this,arguments)}(yield kk(e),t)})),t.promise}(_i(n=Pn(n,kr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new HD(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield R_(n),i=t,ut(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield R_(n),i=t,void ut(r).Ru.delete(i);var r,i}))}}(_i(n=Pn(n,kr)),Fk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new P_(this,hV(this._delegate,e))}catch(t){throw qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,WD(this._delegate,e))}catch(t){throw qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $s(this,function(n,e){if(n=Pn(n,gw),Mk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ws(n,null,(t=e,new y(On.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e,t){n=Pn(n,kr);const r=Object.assign(Object.assign({},a3),t);return function(i){if(i.maxAttempts<1)throw new Ke(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(n,e,t){const r=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const i=yield(u=n,ZD(u).then(l=>l.datastore));var u;new v$(n.asyncQueue,i,t,e,r).run()})),r.promise}(_i(n),i=>e(new _3(n,i)),r)}(this._delegate,t=>e(new qV(this,t)))}batch(){return _i(this._delegate),new $V(new NV(this._delegate,e=>O_(this._delegate,e)))}loadBundle(e){return function(n,e){const t=_i(n=Pn(n,kr)),r=new P$;return function(n,e,t,r){const i=function(u,l){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,g=function(g,_){if(g instanceof Uint8Array)return XU(g,_);if(g instanceof ArrayBuffer)return XU(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new y$(g,l);var g}(t,hw(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function(n,e,t){const r=ut(n);var i;(i=(0,Ne.Z)(function*(u,l,f){try{const g=yield l.getMetadata();if(yield function(D,x){const O=ut(D),$=Zi(x.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",Y=>O.Ns.getBundleMetadata(Y,x.id)).then(Y=>!!Y&&Y.createTime.compareTo($)>=0)}(u.localStore,g))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(D=g).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);f._updateProgress(qU(g));const _=new Wq(g,u.localStore,l.It);let T=yield l.wc();for(;T;){const D=yield _.Ou(T);D&&f._updateProgress(D),T=yield l.wc()}const S=yield _.complete();return yield El(u,S.Bu,void 0),yield function(D,x){const O=ut(D);return O.persistence.runTransaction("Save bundle","readwrite",$=>O.Ns.saveBundleMetadata($,x))}(u.localStore,g),f._completeWith(S.progress),Promise.resolve(S.$u)}catch(g){return gl("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var D}),function(u,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield kk(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const i=ut(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield GD(n),e)}))}(_i(n=Pn(n,kr)),e).then(t=>t?new ws(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $s(this,t):null)}}class nA extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new bw(new ac(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class qV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nA(e)}get(e){const t=$p(e);return this._delegate.get(t).then(r=>new Ew(this._firestore,new Tl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=$p(e);return r?(Hk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=$p(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=$p(e);return this._delegate.delete(t),this}}class $V{constructor(e){this._delegate=e}set(e,t,r){const i=$p(e);return r?(Hk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=$p(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=$p(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _w(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ww(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=qp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new qp(e,new nA(e),t),i.set(t,u)),u}}qp.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nA(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new yr(t._delegate,r,new at(e)))}static forKey(e,t,r){return new wa(t,new yr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new P_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new P_(this.firestore,hV(this._delegate,e))}catch(t){throw qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,kt.m9)(e))instanceof yr&&fV(this._delegate,e)}set(e,t){t=Hk("DocumentReference.set",t);try{return t?MV(this._delegate,e,t):MV(this._delegate,e)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?FV(this._delegate,e):FV(this._delegate,e,t,...r)}catch(i){throw qs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return O_(Pn(n.firestore,kr),[new m_(n._key,Pr.none())])}(this._delegate)}onSnapshot(...e){const t=HV(e),r=ZV(e,i=>new Ew(this.firestore,new Tl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return LV(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Pn(n,yr);const e=Pn(n.firestore,kr),t=_i(e),r=new Bp(e);return function(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,u,l){try{const f=yield function(g,_){const T=ut(g);return T.persistence.runTransaction("read document","readonly",S=>T.localDocuments.getDocument(S,_))}(i,u);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Ke(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=C_(f,`Failed to get document '${u} from cache`);l.reject(g)}}),function(i,u,l){return r.apply(this,arguments)})(yield GD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Tl(e,r,n._key,i,new jp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Pn(n,yr);const e=Pn(n.firestore,kr);return iV(_i(e),n._key,{source:"server"}).then(t=>$k(e,n,t))}(this._delegate):function(n){n=Pn(n,yr);const e=Pn(n.firestore,kr);return iV(_i(e),n._key).then(t=>$k(e,n,t))}(this._delegate),t.then(r=>new Ew(this.firestore,new Tl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?qp.getInstance(this.firestore,e):null))}}function qs(n,e,t){return n.message=n.message.replace(e,t),n}function HV(n){for(const e of n)if("object"==typeof e&&!Zk(e))return e;return{}}function ZV(n,e){var t,r;let i;return i=Zk(n[0])?n[0]:Zk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ew{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return SV(this._delegate,e._delegate)}}class ww extends Ew{data(e){const t=this._delegate.data(e);return function(n,e){n||Tt()}(void 0!==t),t}}class $s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nA(e)}where(e,t,r){try{return new $s(this.firestore,oh(this._delegate,function(n,e,t){const r=e,i=eA("where",n);return new Y$(i,r,t)}(e,t,r)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $s(this.firestore,oh(this._delegate,function(n,e="asc"){const t=e,r=eA("orderBy",n);return new X$(r,t)}(e,t)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $s(this.firestore,oh(this._delegate,function(n){return lV("limit",n),new DV("limit",n,"F")}(e)))}catch(t){throw qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $s(this.firestore,oh(this._delegate,function(n){return lV("limitToLast",n),new DV("limitToLast",n,"L")}(e)))}catch(t){throw qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $s(this.firestore,oh(this._delegate,function(...n){return new AV("startAt",n,!0)}(...e)))}catch(t){throw qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $s(this.firestore,oh(this._delegate,function(...n){return new AV("startAfter",n,!1)}(...e)))}catch(t){throw qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $s(this.firestore,oh(this._delegate,function(...n){return new xV("endBefore",n,!1)}(...e)))}catch(t){throw qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $s(this.firestore,oh(this._delegate,function(...n){return new xV("endAt",n,!0)}(...e)))}catch(t){throw qs(t,"endAt()","Query.endAt()")}}isEqual(e){return pV(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Pn(n,ws);const e=Pn(n.firestore,kr),t=_i(e),r=new Bp(e);return function(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,u,l){try{const f=yield UD(i,u,!0),g=new ZU(u,f.Hi),_=g.ju(f.documents),T=g.applyChanges(_,!1);l.resolve(T.snapshot)}catch(f){const g=C_(f,`Failed to execute query '${u} against cache`);l.reject(g)}}),function(i,u,l){return r.apply(this,arguments)})(yield GD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new sh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Pn(n,ws);const e=Pn(n.firestore,kr),t=_i(e),r=new Bp(e);return sV(t,n._query,{source:"server"}).then(i=>new sh(e,r,n,i))}(this._delegate):function(n){n=Pn(n,ws);const e=Pn(n.firestore,kr),t=_i(e),r=new Bp(e);return CV(n._query),sV(t,n._query).then(i=>new sh(e,r,n,i))}(this._delegate),t.then(r=>new Gk(this.firestore,new sh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HV(e),r=ZV(e,i=>new Gk(this.firestore,new sh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return LV(this._delegate,t,r)}withConverter(e){return new $s(this.firestore,this._delegate.withConverter(e?qp.getInstance(this.firestore,e):null))}}class R3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ww(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Gk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ww(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new R3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ww(this._firestore,r))})}isEqual(e){return SV(this._delegate,e._delegate)}}class P_ extends $s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?WD(this._delegate):WD(this._delegate,e))}catch(t){throw qs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Pn(n.firestore,kr),r=WD(n),i=tA(n.converter,e);return O_(t,[YD(Up(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return fV(this._delegate,e._delegate)}withConverter(e){return new P_(this.firestore,this._delegate.withConverter(e?qp.getInstance(this.firestore,e):null))}}function $p(n){return Pn(n,yr)}class zk{constructor(...e){this._delegate=new wl(...e)}static documentId(){return new zk(Lr.keyField().canonicalString())}isEqual(e){return(e=(0,kt.m9)(e))instanceof wl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Lk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=new mw("deleteField");return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function(...n){return new Z$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function(...n){return new G$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function(n){return new z$("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const O3={Firestore:BV,GeoPoint:KD,Timestamp:nr,Blob:bw,Transaction:qV,WriteBatch:$V,DocumentReference:wa,DocumentSnapshot:Ew,Query:$s,QueryDocumentSnapshot:ww,QuerySnapshot:Gk,CollectionReference:P_,FieldPath:zk,FieldValue:Hp,setLogLevel:function(n){!function(n){pl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function GV(n,e){return function(n,e=Gr.z){return new Ir.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Wk(n,e){return GV(n,e).pipe((0,Gt.U)(t=>({payload:t,type:"query"})))}function rA(n,e){return Wk(n,e).pipe(ea(void 0),xs(),(0,Gt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const g=i.find(T=>T.doc.ref.isEqual(l.ref)),_=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(l.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(l.metadata)||!g&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),u}))}function zV(n,e,t){return rA(n,t).pipe(_s((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Kk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Kk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Kk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),Sg(),(0,Gt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Kk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function WV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new id.wA("firestore-compat",t=>((e,t)=>new BV(e,t,new A3))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},O3)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.24")}(NI.Z);class KV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=rA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Gt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ea(void 0),xs(),Mi(([r,i])=>i.length>0||!r),(0,Gt.U)(([r,i])=>i),wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(_s((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WV(e);return zV(this.query,t,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return Wk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wn.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(wn.iC)}add(e){return this.ref.add(e)}doc(e){return new QV(this.ref.doc(e),this.afs)}}class QV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=YV(r,t);return new KV(i,u,this.afs)}snapshotChanges(){return function(n,e){return GV(n,e).pipe(ea(void 0),xs(),(0,Gt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Un.D)(this.ref.get(e)).pipe(wn.iC)}}class U3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Mi(t=>t.length>0),wn.iC):rA(this.query,this.afs.schedulers.outsideAngular).pipe(wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(_s((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WV(e);return zV(this.query,t,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return Wk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),wn.iC)}get(e){return(0,Un.D)(this.query.get(e)).pipe(wn.iC)}}const V3=new d.OlP("angularfire2.enableFirestorePersistence"),j3=new d.OlP("angularfire2.firestore.persistenceSettings"),B3=new d.OlP("angularfire2.firestore.settings"),q3=new d.OlP("angularfire2.firestore.use-emulator");function YV(n,e=(t=>t)){return{query:e(n),ref:n}}let k_=(()=>{class n{constructor(t,r,i,u,l,f,g,_,T,S,D,x,O,$,Y,pe,Re){this.schedulers=g;const ve=(0,ss.on)(t,f,r),Oe=T;S&&OI(ve,f,D,O,$,Y,x,pe),[this.firestore,this.persistenceEnabled$]=(0,ss.cc)(`${ve.name}.firestore`,"AngularFirestore",ve.name,()=>{const Qe=f.runOutsideAngular(()=>ve.firestore());if(u&&Qe.settings(u),Oe&&Qe.useEmulator(...Oe),i&&!Oa(l)){const Ye=()=>{try{return(0,Un.D)(Qe.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(ot){return"undefined"!=typeof console&&console.warn(ot),(0,Rt.of)(!1)}};return[Qe,f.runOutsideAngular(Ye)]}return[Qe,(0,Rt.of)(!1)]},[u,Oe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=YV(i,r),f=this.schedulers.ngZone.run(()=>u);return new KV(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),u=this.firestore.collectionGroup(t);return new U3(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new QV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss.Dh),d.LFG(ss.xv,8),d.LFG(V3,8),d.LFG(B3,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(wn.HU),d.LFG(j3,8),d.LFG(q3,8),d.LFG(Rm,8),d.LFG(Mb,8),d.LFG(Fb,8),d.LFG(Lb,8),d.LFG(Ub,8),d.LFG(DR,8),d.LFG(RI,8),d.LFG(bf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function $3(n,e){if(1&n&&(d._UZ(0,"img",21),d.ALo(1,"async")),2&n){const t=d.oxw(2);d.Q6J("src",d.lcZ(1,1,t.gameImageUrl),d.LSH)}}function H3(n,e){1&n&&d._UZ(0,"img",22)}function Z3(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.AsE("TIED ",t.game.goals_for,"-",t.game.goals_against,"")}}function G3(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.xp6(1),d.lnq("",t.game.goals_for>t.game.goals_against?"WON":"LOST"," ",t.game.goals_for,"-",t.game.goals_against,"")}}const z3=function(n){return["/players",n]};function W3(n,e){if(1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d.TgZ(14,"a",23),d._UZ(15,"i",24),d._uU(16," View Profile"),d.qZA(),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.jersey_number),d.xp6(2),d.Oqu(t.first_name),d.xp6(2),d.Oqu(t.last_name),d.xp6(2),d.Oqu(t.goals),d.xp6(2),d.Oqu(t.assists),d.xp6(2),d.Oqu(t.points),d.xp6(2),d.Q6J("routerLink",d.VKq(7,z3,t.playerId))}}function K3(n,e){1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"td",25),d._uU(2,"No Stats Available"),d.qZA(),d.qZA())}function Q3(n,e){if(1&n&&(d.TgZ(0,"section",1),d.TgZ(1,"div",2),d.TgZ(2,"div",3),d.TgZ(3,"h2",4),d._uU(4,"Game Details"),d.qZA(),d._uU(5),d.ALo(6,"date"),d._UZ(7,"br"),d._uU(8),d.qZA(),d.qZA(),d.TgZ(9,"div",5),d.TgZ(10,"div",6),d.TgZ(11,"div",7),d.TgZ(12,"div",8),d.TgZ(13,"div",9),d.TgZ(14,"figure",10),d.YNc(15,$3,2,3,"img",11),d.YNc(16,H3,1,0,"img",12),d.TgZ(17,"h2",13),d.YNc(18,Z3,2,2,"span",14),d.YNc(19,G3,2,3,"span",14),d.qZA(),d.TgZ(20,"h5",13),d._uU(21," Shots On Goal "),d.qZA(),d.TgZ(22,"h5",15),d.TgZ(23,"span",16),d._uU(24,"Wiregrass"),d.qZA(),d._uU(25),d.TgZ(26,"span",16),d._uU(27),d.qZA(),d._uU(28),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",17),d.TgZ(30,"div",8),d.TgZ(31,"div",18),d.TgZ(32,"h3"),d._uU(33,"GAME STATS"),d.qZA(),d.TgZ(34,"table",19),d.TgZ(35,"thead"),d.TgZ(36,"tr"),d.TgZ(37,"th"),d._uU(38,"#"),d.qZA(),d.TgZ(39,"th"),d._uU(40,"First Name"),d.qZA(),d.TgZ(41,"th"),d._uU(42,"Last Name"),d.qZA(),d.TgZ(43,"th"),d._uU(44,"Goals"),d.qZA(),d.TgZ(45,"th"),d._uU(46,"Assists"),d.qZA(),d.TgZ(47,"th"),d._uU(48,"Points"),d.qZA(),d._UZ(49,"th"),d.qZA(),d.qZA(),d.TgZ(50,"tbody"),d.YNc(51,W3,17,9,"tr",20),d.YNc(52,K3,3,0,"tr",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(5),d.AsE(" ",d.xi3(6,12,null==t.game.date?null:t.game.date.toDate(),"MM/dd/yyyy hh:mm a")," - ",t.game.location,""),d.xp6(3),d.hij(" ",t.game.varsity?"VARSITY":"JV"," "),d.xp6(7),d.Q6J("ngIf",t.game.image),d.xp6(1),d.Q6J("ngIf",!t.game.image),d.xp6(2),d.Q6J("ngIf",t.game.tie),d.xp6(1),d.Q6J("ngIf",!t.game.tie),d.xp6(6),d.hij(" ",t.game.shots_for," "),d.xp6(2),d.Oqu(t.game.opponent),d.xp6(1),d.hij(" ",t.game.shots_against," "),d.xp6(23),d.Q6J("ngForOf",t.gameStats),d.xp6(1),d.Q6J("ngIf",!(null!=t.gameStats&&t.gameStats.length))}}let Y3=(()=>{class n{constructor(t,r,i){this.route=t,this.firestore=r,this.storage=i}ngOnInit(){this.route.params.subscribe(t=>{this.selectedGame=t.gameId,this.firestore.doc(`games/${this.selectedGame}`).valueChanges({idField:"id"}).subscribe({next:r=>{if(this.game=r,this.game.image){const i=this.storage.ref(`games/${this.game.id}/${this.game.id}.jpg`);this.gameImageUrl=i.getDownloadURL()}}}),this.firestore.collection("players",r=>r.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:r=>{const i=[];r.forEach(u=>{let l=u.seasons.find(f=>"2022-2023"===f.year);l&&l.stats.forEach(f=>{var g;if(!0==(f.date.toDate().toLocaleDateString()===(null===(g=this.game.date)||void 0===g?void 0:g.toDate().toLocaleDateString()))&&!0==(f.varsity===this.game.varsity)){const S=new a1;S.playerId=u.id,S.first_name=u.first_name,S.last_name=u.last_name,S.jersey_number=u.jersey_number,S.goals=f.goals,S.assists=f.assists,S.points=f.points,i.push(S)}})}),this.gameStats=i}})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ju),d.Y36(k_),d.Y36(kf))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-40"],[1,"section-title","text-uppercase"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-3","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/wrhs_logo.png","class","img-responsive text-center","alt","Image",4,"ngIf"],[1,"text-center","bold"],[4,"ngIf"],[1,"text-center"],[1,"bold"],[1,"col-md-9","col-sm-9"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/wrhs_logo.png","alt","Image",1,"img-responsive","text-center"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-id-card"],["colspan","5",1,"text-center","text-bold"]],template:function(t,r){1&t&&d.YNc(0,Q3,53,15,"section",0),2&t&&d.Q6J("ngIf",r.game&&r.game.complete)},directives:[Ei,Xr,la],pipes:[pu,Vo],styles:[""]}),n})();function J3(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw(2).$implicit;d.xp6(1),d.AsE("TIED ",t.goals_for,"-",t.goals_against,"")}}function X3(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw(2).$implicit;d.xp6(1),d.lnq("",t.goals_for>t.goals_against?"W":"L"," ",t.goals_for,"-",t.goals_against,"")}}const eH=function(n){return["/games",n]};function tH(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,J3,2,2,"span",20),d.YNc(2,X3,2,3,"span",20),d.TgZ(3,"a",22),d._uU(4,"View Game Summary"),d.qZA(),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf",t.tie),d.xp6(1),d.Q6J("ngIf",!t.tie),d.xp6(1),d.Q6J("routerLink",d.VKq(3,eH,t.id))}}function nH(n,e){if(1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"th",21),d._uU(2),d.ALo(3,"date"),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.ALo(6,"date"),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d.YNc(12,tH,5,5,"div",20),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(d.xi3(3,5,null==t||null==t.date?null:t.date.toDate(),"MM/dd/yyyy")),d.xp6(3),d.Oqu(d.xi3(6,8,null==t||null==t.date?null:t.date.toDate(),"h:mm a")),d.xp6(3),d.Oqu(t.opponent),d.xp6(2),d.Oqu(t.location),d.xp6(2),d.Q6J("ngIf",t.complete)}}function rH(n,e){1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"td",23),d._uU(2,"No Schedule Available"),d.qZA(),d.qZA())}function iH(n,e){if(1&n&&(d.TgZ(0,"div",5),d.TgZ(1,"div",6),d.TgZ(2,"table",18),d.TgZ(3,"thead"),d.TgZ(4,"tr"),d.TgZ(5,"th"),d._uU(6,"Date"),d.qZA(),d.TgZ(7,"th"),d._uU(8,"Time"),d.qZA(),d.TgZ(9,"th"),d._uU(10,"Opponent"),d.qZA(),d.TgZ(11,"th"),d._uU(12,"Location"),d.qZA(),d._UZ(13,"th"),d.qZA(),d.qZA(),d.TgZ(14,"tbody"),d.YNc(15,nH,13,11,"tr",19),d.YNc(16,rH,3,0,"tr",20),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=e.team,r=d.oxw();d.xp6(15),d.Q6J("ngForOf","varsity"===t?r.varsityGames:r.jvGames),d.xp6(1),d.Q6J("ngIf","varsity"===t?!r.varsityGames.length:!r.jvGames.length)}}const JV=function(n){return{active:n}},XV=function(n){return{"in active":n}},sH=function(){return{team:"varsity"}},oH=function(){return{team:"jv"}};let aH=(()=>{class n{constructor(t,r){this.route=t,this.firestore=r,this.varsityGames=[],this.jvGames=[],this.showCompleted=!0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.selectedTeam=t.team,this.firestore.collection("games",r=>r.orderBy("date","asc")).valueChanges({idField:"id"}).subscribe({next:r=>{this.varsityGames=r.filter(i=>!0===i.varsity),this.jvGames=r.filter(i=>!1===i.varsity)}})})}test(){this.firestore.collection("games").valueChanges({idField:"id"}).subscribe({next:t=>{t.forEach(r=>{void 0===r.year&&(r.complete=!1,r.goals_against=0,r.goals_for=0,r.tie=!1,r.varsity=!0,r.win=!1,r.year="2022-2023",this.firestore.doc(`games/${r.id}`).update(r))})}})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ju),d.Y36(k_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-players"]],decls:25,vars:18,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-12"],[1,"border-bottom-tab"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",3,"ngClass"],["href","#varsity","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],["href","#jv","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","varsity",1,"tab-pane","fade",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel","id","jv",1,"tab-pane","fade",3,"ngClass"],["schedule",""],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["routerLink","games",1,"ml-10",3,"routerLink"],["colspan","5",1,"text-center","text-bold"]],template:function(t,r){if(1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h2",3),d._uU(4,"Game Schedules"),d.qZA(),d.TgZ(5,"p",4),d._uU(6,"Select the team to view the schedule"),d.qZA(),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d.TgZ(10,"ul",8),d.TgZ(11,"li",9),d.TgZ(12,"a",10),d._uU(13,"Varsity"),d.qZA(),d.qZA(),d.TgZ(14,"li",9),d.TgZ(15,"a",11),d._uU(16,"JV"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"div",12),d.TgZ(18,"div",13),d.TgZ(19,"div",14),d.GkF(20,15),d.qZA(),d.TgZ(21,"div",16),d.GkF(22,15),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(23,iH,17,2,"ng-template",null,17,d.W1O)),2&t){const i=d.MAs(24);d.xp6(11),d.Q6J("ngClass",d.VKq(8,JV,"varsity"===r.selectedTeam)),d.xp6(3),d.Q6J("ngClass",d.VKq(10,JV,"jv"===r.selectedTeam)),d.xp6(5),d.Q6J("ngClass",d.VKq(12,XV,"varsity"===r.selectedTeam)),d.xp6(1),d.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",d.DdM(14,sH)),d.xp6(1),d.Q6J("ngClass",d.VKq(15,XV,"jv"===r.selectedTeam)),d.xp6(1),d.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",d.DdM(17,oH))}},directives:[Fo,Uo,Xr,Ei,la],pipes:[pu],styles:[""]}),n})();function uH(n,e){if(1&n&&(d.TgZ(0,"p"),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.lnq("Season Record: ",t.varsityStats.wins,"-",t.varsityStats.losses,"-",t.varsityStats.ties,"")}}function cH(n,e){if(1&n&&(d.TgZ(0,"p"),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.lnq("Season Record: ",t.jvStats.wins,"-",t.jvStats.losses,"-",t.jvStats.ties,"")}}function lH(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",19),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d.TgZ(14,"a",20),d.NdJ("click",function(){const u=d.CHM(t).$implicit;return d.oxw().viewProfile(u.id)}),d._UZ(15,"i",21),d._uU(16," View Profile"),d.qZA(),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.jersey_number),d.xp6(2),d.Oqu(t.first_name),d.xp6(2),d.Oqu(t.last_name),d.xp6(2),d.Oqu(null==t||null==t.currentSeasonStats?null:t.currentSeasonStats.goals),d.xp6(2),d.Oqu(null==t||null==t.currentSeasonStats?null:t.currentSeasonStats.assists),d.xp6(2),d.Oqu(null==t||null==t.currentSeasonStats?null:t.currentSeasonStats.points)}}function dH(n,e){1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"td",22),d._uU(2,"Roster Information Coming Soon"),d.qZA(),d.qZA())}const e2=function(n){return{selected:n}};let hH=(()=>{class n{constructor(t,r){this.router=t,this.firestore=r,this.players=[]}ngOnInit(){this.getTeam("varsity"),this.getStats()}getStats(){this.firestore.collection("season_totals").valueChanges().subscribe({next:t=>{t.forEach(r=>{r.varsity?this.varsityStats=r:this.jvStats=r})}})}getTeam(t){this.selectedTeam=t,this.players=[],this.firestore.collection("players",r=>r.orderBy("jersey_number","asc")).valueChanges({idField:"id"}).subscribe({next:r=>{r=r.filter(i=>{const u=i.seasons.find(l=>"2022-2023"===l.year);return"varsity"===this.selectedTeam?!0===(null==u?void 0:u.varsity):!0===(null==u?void 0:u.jv)}),this.players=r}})}viewProfile(t){this.router.navigate([`players/${t}`])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Li),d.Y36(k_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-players"]],decls:54,vars:11,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper",3,"ngClass","click"],[1,"team-img"],["src","../../assets/img/varsity_placeholder.png","alt","Image",1,"img-responsive"],[1,"team-title"],[4,"ngIf"],["routerLink","../schedule/varsity"],["src","../../assets/img/jv_placeholder.png","alt","Image",1,"img-responsive"],[1,"row","mt-50"],[1,"col-md-8","col-md-offset-2"],[1,"mt-30"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["scope","row"],[3,"click"],["aria-hidden","true",1,"fa","fa-id-card"],["colspan","4",1,"text-center","text-bold"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h2",3),d._uU(4,"Our Teams"),d.qZA(),d.TgZ(5,"p",4),d._uU(6,"Select the team to view more details"),d.qZA(),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d.NdJ("click",function(){return r.getTeam("varsity")}),d.TgZ(10,"div",8),d._UZ(11,"img",9),d.qZA(),d.TgZ(12,"div",10),d.TgZ(13,"h3"),d._uU(14,"VARSITY"),d.qZA(),d.TgZ(15,"span"),d._uU(16,"Coach: John Scoby"),d.qZA(),d.YNc(17,uH,2,3,"p",11),d.TgZ(18,"a",12),d._uU(19,"View Varsity Schedule"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",6),d.TgZ(21,"div",7),d.NdJ("click",function(){return r.getTeam("jv")}),d.TgZ(22,"div",8),d._UZ(23,"img",13),d.qZA(),d.TgZ(24,"div",10),d.TgZ(25,"h3"),d._uU(26,"JV"),d.qZA(),d.TgZ(27,"span"),d._uU(28,"Coach: Bill Talbot"),d.qZA(),d.YNc(29,cH,2,3,"p",11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",14),d.TgZ(31,"div",15),d.TgZ(32,"h3"),d._uU(33),d.qZA(),d._UZ(34,"div",16),d.TgZ(35,"table",17),d.TgZ(36,"thead"),d.TgZ(37,"tr"),d.TgZ(38,"th"),d._uU(39,"#"),d.qZA(),d.TgZ(40,"th"),d._uU(41,"First Name"),d.qZA(),d.TgZ(42,"th"),d._uU(43,"Last Name"),d.qZA(),d.TgZ(44,"th"),d._uU(45,"Goals"),d.qZA(),d.TgZ(46,"th"),d._uU(47,"Assists"),d.qZA(),d.TgZ(48,"th"),d._uU(49,"Points"),d.qZA(),d._UZ(50,"th"),d.qZA(),d.qZA(),d.TgZ(51,"tbody"),d.YNc(52,lH,17,6,"tr",18),d.YNc(53,dH,3,0,"tr",11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(9),d.Q6J("ngClass",d.VKq(7,e2,"varsity"===r.selectedTeam)),d.xp6(8),d.Q6J("ngIf",r.varsityStats),d.xp6(4),d.Q6J("ngClass",d.VKq(9,e2,"jv"===r.selectedTeam)),d.xp6(8),d.Q6J("ngIf",r.jvStats),d.xp6(4),d.hij("","varsity"===r.selectedTeam?"VARSITY":"JV"," ROSTER"),d.xp6(19),d.Q6J("ngForOf",r.players),d.xp6(1),d.Q6J("ngIf",!r.players.length))},directives:[Fo,Ei,la,Xr],styles:[""]}),n})();class Qk{constructor(){this.goals_for=0,this.assists_for=0,this.points_for=0}static getGoalDiff(e,t){let r;return e&&t?(r=(e-t).toString(),r=e>t?"+ "+r:"- "+r):r="--",r}}const fH=function(n){return["/players",n]};function pH(n,e){if(1&n&&(d.TgZ(0,"section",33),d.TgZ(1,"div",9),d.TgZ(2,"div",13),d.TgZ(3,"div",34),d.TgZ(4,"h2",35),d._uU(5,"PLAYER OF THE WEEK"),d.qZA(),d._UZ(6,"img",36),d.qZA(),d.TgZ(7,"div",37),d.TgZ(8,"p"),d._uU(9),d.qZA(),d.TgZ(10,"a",38),d._UZ(11,"i",39),d._uU(12,"View Player Profile"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(6),d.MGl("src","../../assets/img/players/",t.potw.image,"",d.LSH),d.xp6(3),d.Oqu(t.potw.description),d.xp6(1),d.Q6J("routerLink",d.VKq(3,fH,t.potw.playerId))}}const t2=function(n){return{team:n}};function gH(n,e){if(1&n&&(d.TgZ(0,"div",42),d.TgZ(1,"div",43),d.TgZ(2,"div",44),d.TgZ(3,"span",45),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6),d.qZA(),d.TgZ(7,"p"),d._uU(8),d.ALo(9,"date"),d.qZA(),d.TgZ(10,"a",46),d._uU(11,"View full schedule"),d.qZA(),d.qZA(),d.TgZ(12,"div",47),d.TgZ(13,"span",48),d._uU(14),d.qZA(),d.TgZ(15,"p"),d._uU(16),d.qZA(),d.TgZ(17,"p"),d._uU(18),d.ALo(19,"date"),d.qZA(),d.TgZ(20,"a",46),d._uU(21,"View full schedule"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.uIk("data-groups",t.groups),d.xp6(4),d.AsE("",t.varsity?"Varsity":"JV"," vs ",t.opponent,""),d.xp6(2),d.Oqu(t.location),d.xp6(2),d.Oqu(d.xi3(9,11,null==t.date?null:t.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),d.xp6(2),d.Q6J("queryParams",d.VKq(17,t2,t.varsity?"varsity":"jv")),d.xp6(4),d.AsE("",t.varsity?"Varsity":"JV"," vs ",t.opponent,""),d.xp6(2),d.Oqu(t.location),d.xp6(2),d.Oqu(d.xi3(19,14,null==t.date?null:t.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),d.xp6(2),d.Q6J("queryParams",d.VKq(19,t2,t.varsity?"varsity":"jv"))}}function mH(n,e){if(1&n&&(d.TgZ(0,"div",40),d.YNc(1,gH,22,21,"div",41),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngForOf",t.upcomingGames)}}function yH(n,e){1&n&&(d.TgZ(0,"div",49),d._uU(1,"No Games Schedules"),d.qZA())}function _H(n,e){if(1&n&&(d.TgZ(0,"div",50),d.TgZ(1,"div",51),d._UZ(2,"i",52),d.TgZ(3,"span",53),d._uU(4),d.qZA(),d.TgZ(5,"span",54),d._uU(6,"Wins"),d.qZA(),d.qZA(),d.TgZ(7,"div",51),d._UZ(8,"i",55),d.TgZ(9,"span",53),d._uU(10),d.qZA(),d.TgZ(11,"span",54),d._uU(12,"Goals For"),d.qZA(),d.qZA(),d.TgZ(13,"div",51),d._UZ(14,"i",56),d.TgZ(15,"span",57),d._uU(16),d.qZA(),d.TgZ(17,"span",54),d._uU(18,"Goal Differential"),d.qZA(),d.qZA(),d.TgZ(19,"div",51),d._UZ(20,"i",58),d.TgZ(21,"span",53),d._uU(22),d.qZA(),d.TgZ(23,"span",54),d._uU(24,"Shots"),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(4),d.Oqu(t.seasonStats.wins),d.xp6(6),d.Oqu(t.seasonStats.goals_for),d.xp6(6),d.Oqu(t.seasonStats.goalDiff),d.xp6(6),d.Oqu(t.seasonStats.shots_for)}}let vH=(()=>{class n{constructor(t){this.allUpcomingGames=[],this.upcomingGames=[],this.gameGroup="all",t.collection("season_totals",r=>r.where("season","==","2022-2023").where("varsity","==",!0)).valueChanges().subscribe({next:r=>{const i=r[0],u=Qk.getGoalDiff(i.goals_for,i.goals_against);i.goalDiff=u,this.seasonStats=i}}),t.collection("games",r=>r.orderBy("date","asc")).valueChanges().subscribe({next:r=>{let i=r.filter(u=>!1===u.complete&&"2022-2023"===u.year);i.forEach(u=>{u.groups=u.varsity?"['all','varsity']":"['all','jv']"}),i=i.slice(0,6),this.allUpcomingGames=i,this.gameGroupChanged("all")}}),t.doc("potw/jomtax9WWuD6DyNCg2nr").valueChanges({idField:"id"}).subscribe({next:r=>{this.potw=r}})}ngOnInit(){}gameGroupChanged(t){this.gameGroup=t,this.upcomingGames=this.allUpcomingGames.filter(r=>"all"===this.gameGroup||("varsity"===this.gameGroup?!0===r.varsity:"jv"!==this.gameGroup||!1===r.varsity))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(k_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:73,vars:4,consts:[["data-stellar-background-ratio","0.5",1,"banner-7","parallax-bg","bg-fixed","overlay","fullscreen-banner","valign-wrapper"],[1,"valign-cell"],[1,"container","padding-top-160"],[1,"text-center"],[1,"tt-headline","loading-bar"],[1,"tt-words-wrapper",2,"color","#762741","-webkit-text-stroke-width","1px","-webkit-text-stroke-color","white"],[1,"is-visible"],[1,"sub-intro","lead","white-text"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper"],[1,"team-img"],["src","../../assets/img/players/scoby.png","alt","Image",1,"img-responsive"],[1,"team-title"],["src","../../assets/img/players/talbot.png","alt","Image",1,"img-responsive"],["class","content-promo-box banner padding-top-100 padding-bottom-120 gray-bg",4,"ngIf"],["id","works",1,"section-padding"],[1,"portfolio-container"],[1,"portfolio-filter","brand-filter","text-center"],["data-group","all",1,"active","waves-effect","waves-light",3,"click"],["data-group","varsity",1,"waves-effect","waves-light",3,"click"],["data-group","jv",1,"waves-effect","waves-light",3,"click"],["class","portfolio portfolio-with-title col-3 gutter mtb-50",4,"ngIf"],["class","text-center text-bold",4,"ngIf"],["data-stellar-background-ratio","0.5",1,"counter-section","facts-two","banner-10","parallax-bg","bg-fixed","overlay","light-9"],[1,"row","text-center","mt-30"],[1,"col-sm-12"],["class","row text-center",4,"ngIf"],[1,"content-promo-box","banner","padding-top-100","padding-bottom-120","gray-bg"],[1,"col-md-4"],[1,"font-30","text-extrabold","mb-30","text-uppercase"],["width","300px",3,"src"],[1,"col-md-8"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-id-card"],[1,"portfolio","portfolio-with-title","col-3","gutter","mtb-50"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"portfolio-item"],[1,"card"],[1,"card-content"],[1,"card-title","activator"],["routerLink","schedule",1,"readmore",3,"queryParams"],[1,"card-reveal"],[1,"card-title"],[1,"text-center","text-bold"],[1,"row","text-center"],[1,"col-sm-3","counter-wrap"],[1,"fa","fa-4x","fa-trophy","brand-color"],[1,"timer"],[1,"count-description"],[1,"fa","fa-4x","fa-bullhorn","brand-color"],[1,"fa","fa-4x","fa-plus","brand-color"],[1,"timer2"],[1,"fa","fa-4x","fa-crosshairs","brand-color"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"h1",4),d.TgZ(5,"span"),d._uU(6,"We're\xa0"),d.qZA(),d.TgZ(7,"span",5),d.TgZ(8,"b",6),d._uU(9,"Dedicated"),d.qZA(),d.TgZ(10,"b"),d._uU(11,"Passionate"),d.qZA(),d.TgZ(12,"b"),d._uU(13,"United"),d.qZA(),d.TgZ(14,"b"),d._uU(15,"WIREGRASS"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"p",7),d._uU(17,"Proud Member of the Lightning High School Hockey League"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(18,"section",8),d.TgZ(19,"div",9),d.TgZ(20,"div",10),d.TgZ(21,"h2",11),d._uU(22,"Our Coaches"),d.qZA(),d.TgZ(23,"p",12),d._uU(24,"Our coaches bring a wealth of experience & professionalism to our program. Dedicated to making our players better not only on the ice, but in their daily lives as well."),d.qZA(),d.qZA(),d.TgZ(25,"div",13),d.TgZ(26,"div",14),d.TgZ(27,"div",15),d.TgZ(28,"div",16),d._UZ(29,"img",17),d.qZA(),d.TgZ(30,"div",18),d.TgZ(31,"h3"),d._uU(32,"Jonn Scoby"),d.qZA(),d.TgZ(33,"span"),d._uU(34,"Varsity Head Coach"),d.qZA(),d.TgZ(35,"p"),d._uU(36," Joining Wiregrass as the Varsity Head Coach in the Summer of 2022, Coach Scoby has his sights set on taking the program to the next level and beyond. His experience has brought a whole new level of excitement to the program"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"div",14),d.TgZ(38,"div",15),d.TgZ(39,"div",16),d._UZ(40,"img",19),d.qZA(),d.TgZ(41,"div",18),d.TgZ(42,"h3"),d._uU(43,"Bill Talbot"),d.qZA(),d.TgZ(44,"span"),d._uU(45,"JV Head Coach"),d.qZA(),d.TgZ(46,"p"),d._uU(47,"Coach Talbot brings a wealth of coaching experience from the Travel level through High School. He is working closely with Coach Scoby to develop our JV players and prepare them for the next level."),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(48,pH,13,5,"section",20),d.TgZ(49,"section",21),d.TgZ(50,"div",9),d.TgZ(51,"div",10),d.TgZ(52,"h2",11),d._uU(53,"Upcoming Games"),d.qZA(),d.TgZ(54,"p",12),d._uU(55,"Come Support Wiregrass Hockey at the following upcoming games:"),d.qZA(),d.qZA(),d.TgZ(56,"div",22),d.TgZ(57,"ul",23),d.TgZ(58,"li",24),d.NdJ("click",function(){return r.gameGroupChanged("all")}),d._uU(59,"All"),d.qZA(),d.TgZ(60,"li",25),d.NdJ("click",function(){return r.gameGroupChanged("varsity")}),d._uU(61,"Varsity"),d.qZA(),d.TgZ(62,"li",26),d.NdJ("click",function(){return r.gameGroupChanged("jv")}),d._uU(63,"JV"),d.qZA(),d.qZA(),d.YNc(64,mH,2,1,"div",27),d.YNc(65,yH,2,0,"div",28),d.qZA(),d.qZA(),d.qZA(),d.TgZ(66,"section",29),d.TgZ(67,"div",9),d.TgZ(68,"div",30),d.TgZ(69,"div",31),d.TgZ(70,"h2",11),d._uU(71,"Varsity Season Stats"),d.qZA(),d.qZA(),d.qZA(),d.YNc(72,_H,25,4,"div",32),d.qZA(),d.qZA()),2&t&&(d.xp6(48),d.Q6J("ngIf",r.potw),d.xp6(16),d.Q6J("ngIf",r.upcomingGames&&r.upcomingGames.length),d.xp6(1),d.Q6J("ngIf",r.upcomingGames&&!r.upcomingGames.length),d.xp6(7),d.Q6J("ngIf",r.seasonStats))},directives:[Ei,la,Xr],pipes:[pu],styles:[""]}),n})();function bH(n,e){if(1&n&&d._UZ(0,"img",22),2&n){const t=d.oxw(2);d.Q6J("src",t.profileImageUrl,d.LSH)}}function EH(n,e){1&n&&d._UZ(0,"img",23)}function wH(n,e){1&n&&(d.TgZ(0,"div",24),d._uU(1,"Photo Coming Soon"),d.qZA())}function TH(n,e){if(1&n&&(d.TgZ(0,"div",25),d.TgZ(1,"div",9),d.TgZ(2,"div",26),d.TgZ(3,"h4"),d._uU(4,"Season Totals"),d.TgZ(5,"small"),d._uU(6," (Includes JV & Varsity)"),d.qZA(),d.qZA(),d.TgZ(7,"div",27),d.TgZ(8,"span",28),d._uU(9,"Goals"),d.qZA(),d.TgZ(10,"div",29),d.TgZ(11,"div",30),d._uU(12),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"div",27),d.TgZ(14,"span",28),d._uU(15,"Assists"),d.qZA(),d.TgZ(16,"div",29),d.TgZ(17,"div",30),d._uU(18),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",27),d.TgZ(20,"span",28),d._uU(21,"Points"),d.qZA(),d.TgZ(22,"div",29),d.TgZ(23,"div",30),d._uU(24),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"h6"),d._uU(26,"**NOTE** % Values are the precentage of the team total for that category"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw(2);d.xp6(11),d.Udp("height","20px")("width",t.getBarWidth(t.player.currentSeasonStats.goals,t.seasonStats.goals_for)),d.uIk("aria-valuenow",t.player.currentSeasonStats.goals)("aria-valuemax",t.seasonStats.goals_for),d.xp6(1),d.lnq(" ",t.player.currentSeasonStats.goals,"/",t.seasonStats.goals_for," (",t.getBarWidth(t.player.currentSeasonStats.goals,t.seasonStats.goals_for),") "),d.xp6(5),d.Udp("height","20px")("width",t.getBarWidth(t.player.currentSeasonStats.assists,t.seasonStats.assists_for)),d.uIk("aria-valuenow",t.player.currentSeasonStats.assists)("aria-valuemax",t.seasonStats.assists_for),d.xp6(1),d.lnq(" ",t.player.currentSeasonStats.assists,"/",t.seasonStats.assists_for," (",t.getBarWidth(t.player.currentSeasonStats.assists,t.seasonStats.assists_for),") "),d.xp6(5),d.Udp("height","20px")("width",t.getBarWidth(t.player.currentSeasonStats.points,t.seasonStats.points_for)),d.uIk("aria-valuenow",t.player.currentSeasonStats.points)("aria-valuemax",t.seasonStats.points_for),d.xp6(1),d.lnq(" ",t.player.currentSeasonStats.points,"/",t.seasonStats.points_for," (",t.getBarWidth(t.player.currentSeasonStats.points,t.seasonStats.points_for),") ")}}function IH(n,e){if(1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"th",31),d._uU(2),d.ALo(3,"date"),d.qZA(),d.TgZ(4,"td"),d._uU(5),d.qZA(),d.TgZ(6,"td"),d._uU(7),d.qZA(),d.TgZ(8,"td"),d._uU(9),d.qZA(),d.TgZ(10,"td"),d._uU(11),d.qZA(),d.qZA()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(d.xi3(3,5,null==t||null==t.date?null:t.date.toDate(),"MM/dd/yyyy")),d.xp6(3),d.Oqu(t.varsity?"VARSITY":"JV"),d.xp6(2),d.Oqu(t.goals),d.xp6(2),d.Oqu(t.assists),d.xp6(2),d.Oqu(t.points)}}function SH(n,e){1&n&&(d.TgZ(0,"tr"),d.TgZ(1,"td",32),d._uU(2,"No Stats Available"),d.qZA(),d.qZA())}function CH(n,e){if(1&n&&(d.TgZ(0,"section",1),d.TgZ(1,"div",2),d.TgZ(2,"div",3),d.TgZ(3,"h2",4),d._uU(4,"Player Profile"),d.qZA(),d._UZ(5,"p",5),d.qZA(),d.qZA(),d.TgZ(6,"div",6),d.TgZ(7,"div",7),d.TgZ(8,"div",8),d.TgZ(9,"div",9),d.TgZ(10,"div",10),d.TgZ(11,"figure",11),d.YNc(12,bH,1,1,"img",12),d.YNc(13,EH,1,0,"img",13),d.YNc(14,wH,2,0,"div",14),d.qZA(),d.qZA(),d.TgZ(15,"div",15),d.TgZ(16,"div",16),d.TgZ(17,"h3"),d._uU(18),d.TgZ(19,"small"),d._uU(20),d.qZA(),d.qZA(),d.qZA(),d.YNc(21,TH,27,27,"div",17),d.TgZ(22,"div",9),d.TgZ(23,"div",18),d.TgZ(24,"h3"),d._uU(25,"GAME STATS"),d.qZA(),d.TgZ(26,"table",19),d.TgZ(27,"thead"),d.TgZ(28,"tr"),d.TgZ(29,"th"),d._uU(30,"Date"),d.qZA(),d.TgZ(31,"th"),d._uU(32,"JV/Varsity"),d.qZA(),d.TgZ(33,"th"),d._uU(34,"Goals"),d.qZA(),d.TgZ(35,"th"),d._uU(36,"Assists"),d.qZA(),d.TgZ(37,"th"),d._uU(38,"Points"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(39,"tbody"),d.YNc(40,IH,12,8,"tr",20),d.YNc(41,SH,3,0,"tr",21),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const t=d.oxw();d.xp6(12),d.Q6J("ngIf",t.profileImageUrl),d.xp6(1),d.Q6J("ngIf",!t.profileImageUrl),d.xp6(1),d.Q6J("ngIf",!t.profileImageUrl),d.xp6(4),d.lnq("#",t.player.jersey_number," ",t.player.first_name," ",t.player.last_name," "),d.xp6(2),d.Oqu(t.getPlayerStatus()),d.xp6(1),d.Q6J("ngIf",t.player&&t.seasonStats),d.xp6(19),d.Q6J("ngForOf",t.playerStats),d.xp6(1),d.Q6J("ngIf",!(null!=t.playerStats&&t.playerStats.length))}}const DH=[{path:"",component:vH},{path:"teams",component:hH},{path:"schedule",component:aH},{path:"players/:playerId",component:(()=>{class n{constructor(t,r,i){this.route=t,this.firestore=r,this.storage=i}ngOnInit(){this.route.params.subscribe(t=>{this.playerId=t.playerId,this.firestore.doc(`players/${this.playerId}`).valueChanges({idField:"id"}).subscribe({next:r=>{var i;this.player=r,this.playerStats=null===(i=this.player.seasons.find(l=>l.year="2022-2023"))||void 0===i?void 0:i.stats,this.storage.ref(`players/${this.player.id}/${this.player.id}.jpg`).getDownloadURL().subscribe({next:l=>{this.profileImageUrl=l}})}}),this.firestore.collection("season_totals").valueChanges({idField:"id"}).subscribe({next:r=>{this.seasonStats=new Qk,r.forEach(i=>{this.seasonStats.goals_for+=i.goals_for,this.seasonStats.assists_for+=i.assists_for,this.seasonStats.points_for+=i.points_for})}})})}getPlayerStatus(){return this.player.seasons[0].varsity&&this.player.seasons[0].jv?"2 Way":this.player.seasons[0].jv&&!this.player.seasons[0].varsity?"JV":"Varsity"}getBarWidth(t,r){let u=(t/r*100).toPrecision(2);return console.log(u),u.toString()+"%"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ju),d.Y36(k_),d.Y36(kf))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-players"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-4","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/WR.png","class","img-responsive","alt","Image",4,"ngIf"],["class","text-left","style","margin-left: 59px;",4,"ngIf"],[1,"col-md-8","col-sm-9"],[1,"team-intro"],["class","team-skill",4,"ngIf"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/WR.png","alt","Image",1,"img-responsive"],[1,"text-left",2,"margin-left","59px"],[1,"team-skill"],[1,"col-sm-6"],[1,"progress-section"],[1,"progress-title"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["scope","row"],["colspan","5",1,"text-center","text-bold"]],template:function(t,r){1&t&&d.YNc(0,CH,42,10,"section",0),2&t&&d.Q6J("ngIf",r.player)},directives:[Ei,Xr],pipes:[pu],styles:[""]}),n})()},{path:"games/:gameId",component:Y3},{path:"photo-attribution",component:o1},{path:"**",redirectTo:"",pathMatch:"full"}];let AH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[ub.forRoot(DH)],ub]}),n})();const n2=function(){return{team:"varsity"}};let xH=(()=>{class n{constructor(t){this.today=new Date("2022-09-01"),t.collection("season_totals",r=>r.where("season","==","2022-2023").where("varsity","==",!0)).valueChanges().subscribe({next:r=>{const i=r[0],u=Qk.getGoalDiff(i.goals_for,i.goals_against);i.goalDiff=u,this.seasonStats=i}})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(k_))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:60,vars:8,consts:[["id","header",1,"tt-nav","transparent-header"],[1,"header-sticky","semi-transparent"],[1,"container"],["id","materialize-menu",1,"menuzord"],["href","index.html",1,"logo-brand"],["src","../assets/img/WR_Logo.png","alt",""],[1,"logo-brand-text"],[1,"menuzord-menu","pull-right","light"],[1,"active"],["routerLink","home"],["routerLink","teams"],["routerLink","schedule",3,"queryParams"],[1,"footer","footer-four"],[1,"primary-footer","brand-bg","text-center"],["href","#top","data-section","#top",1,"page-scroll","btn-floating","btn-large","pink","back-top","waves-effect","waves-light"],[1,"material-icons"],[1,"social-link","tt-animate","ltr","mt-20"],["href","https://www.facebook.com/groups/wiregrasshockeyclub","target","_blank"],[1,"fa","fa-facebook"],["href","https://www.instagram.com/wrhs.hockey","target","_blank"],[1,"fa","fa-instagram"],[1,"mt-15"],[1,"row"],[1,"col-md-12"],[1,"footer-logo"],["src","../assets/img/WR.png","alt",""],[1,"copy-text"],["href","#"],[1,"footer-intro"],["routerLink","photo-attribution"],[1,"secondary-footer","brand-bg","darken-2","text-center"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"a",4),d._UZ(5,"img",5),d.TgZ(6,"div",6),d._uU(7,"Wiregrass Hockey"),d.qZA(),d.qZA(),d.TgZ(8,"ul",7),d.TgZ(9,"li",8),d.TgZ(10,"a",9),d._uU(11,"Home"),d.qZA(),d.qZA(),d.TgZ(12,"li"),d.TgZ(13,"a",10),d._uU(14,"Teams"),d.qZA(),d.qZA(),d.TgZ(15,"li"),d.TgZ(16,"a",11),d._uU(17,"Schedule"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(18,"router-outlet"),d.TgZ(19,"footer",12),d.TgZ(20,"div",13),d.TgZ(21,"div",2),d.TgZ(22,"a",14),d.TgZ(23,"i",15),d._uU(24,"\ue316"),d.qZA(),d.qZA(),d.TgZ(25,"ul",16),d.TgZ(26,"li"),d.TgZ(27,"a",17),d._UZ(28,"i",18),d.qZA(),d.qZA(),d.TgZ(29,"li"),d.TgZ(30,"a",19),d._UZ(31,"i",20),d.qZA(),d.qZA(),d.qZA(),d._UZ(32,"hr",21),d.TgZ(33,"div",22),d.TgZ(34,"div",23),d.TgZ(35,"div",24),d._UZ(36,"img",25),d.qZA(),d.TgZ(37,"span",26),d._uU(38),d.ALo(39,"date"),d.TgZ(40,"a",27),d._uU(41,"Wiregrass Ranch Hockey Club"),d.qZA(),d._uU(42," \xa0 | \xa0 All Rights Reserved"),d.qZA(),d.TgZ(43,"div",28),d.TgZ(44,"p"),d._uU(45,"Many Photos Courtesy of Kristen Freed Photography. "),d.TgZ(46,"a",29),d._uU(47,"More Info"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(48,"div",30),d.TgZ(49,"div",2),d.TgZ(50,"ul"),d.TgZ(51,"li"),d.TgZ(52,"a",9),d._uU(53,"Home"),d.qZA(),d.qZA(),d.TgZ(54,"li"),d.TgZ(55,"a",10),d._uU(56,"Team"),d.qZA(),d.qZA(),d.TgZ(57,"li"),d.TgZ(58,"a",11),d._uU(59,"Schedule"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(16),d.Q6J("queryParams",d.DdM(6,n2)),d.xp6(22),d.hij("Copyright \xa9 ",d.xi3(39,3,r.today,"YYYY")," "),d.xp6(20),d.Q6J("queryParams",d.DdM(7,n2)))},directives:[la,im],pipes:[pu],styles:[".logo-brand-text[_ngcontent-%COMP%]{font-family:Raleway;font-weight:700;text-transform:uppercase;color:#fff;width:325px!important;margin-top:-30px}.sticky[_ngcontent-%COMP%]   .logo-brand-text[_ngcontent-%COMP%]{margin-top:-15px!important}@media screen and (max-width: 767px){.logo-brand-text[_ngcontent-%COMP%]{display:none!important}}"]}),n})();var Qn=(()=>(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error"}(Qn||(Qn={})),Qn))();function Tw(n){return!!n&&n<7}var ye=k(4762),Yk="Invariant Violation",r2=Object.setPrototypeOf,RH=void 0===r2?function(n,e){return n.__proto__=e,n}:r2,ir=function(n){function e(t){void 0===t&&(t=Yk);var r=n.call(this,"number"==typeof t?Yk+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return r.framesToPop=1,r.name=Yk,RH(r,e.prototype),r}return(0,ye.ZT)(e,n),e}(Error);function gt(n,e){if(!n)throw new ir(e)}var iA=["debug","log","warn","error","silent"],Jk=iA.indexOf("log");function sA(n){return function(){if(iA.indexOf(n)>=Jk){var e=console[n]||console.log;return e.apply(console,arguments)}}}function Ta(n){try{return n()}catch(e){}}!function(n){n.debug=sA("debug"),n.log=sA("log"),n.warn=sA("warn"),n.error=sA("error")}(gt||(gt={}));const i2=Ta(function(){return globalThis})||Ta(function(){return window})||Ta(function(){return self})||Ta(function(){return global})||Ta(function(){return Ta.constructor("return this")()});var s2="__",o2=[s2,s2].join("DEV");const Xk=function(){try{return Boolean(__DEV__)}catch(n){return Object.defineProperty(i2,o2,{value:"production"!==Ta(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),i2[o2]}}();function uh(n){try{return n()}catch(e){}}var eN=uh(function(){return globalThis})||uh(function(){return window})||uh(function(){return self})||uh(function(){return global})||uh(function(){return uh.constructor("return this")()}),tN=!1;eN&&!uh(function(){return"production"})&&!uh(function(){return process})&&(Object.defineProperty(eN,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),tN=!0),"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.toStringTag&&Symbol;const nN="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function oA(n){return(oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function c2(n){return aA(n,[])}function aA(n,e){switch(oA(n)){case"string":return JSON.stringify(n);case"function":return n.name?"[function ".concat(n.name,"]"):"[function]";case"object":return null===n?"null":function(n,e){if(-1!==e.indexOf(n))return"[Circular]";var t=[].concat(e,[n]),r=function(n){var e=n[String(nN)];return"function"==typeof e?e:"function"==typeof n.inspect?n.inspect:void 0}(n);if(void 0!==r){var i=r.call(n);if(i!==n)return"string"==typeof i?i:aA(i,t)}else if(Array.isArray(n))return function(n,e){if(0===n.length)return"[]";if(e.length>2)return"[Array]";for(var t=Math.min(10,n.length),r=n.length-t,i=[],u=0;u<t;++u)i.push(aA(n[u],e));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(n,t);return function(n,e){var t=Object.keys(n);if(0===t.length)return"{}";if(e.length>2)return"["+function(n){var e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof n.constructor){var t=n.constructor.name;if("string"==typeof t&&""!==t)return t}return e}(n)+"]";var r=t.map(function(i){return i+": "+aA(n[i],e)});return"{ "+r.join(", ")+" }"}(n,t)}(n,e);default:return String(n)}}function h2(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function f2(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function iN(n,e,t){return e&&f2(n.prototype,e),t&&f2(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}tN&&(delete eN.process,tN=!1),__DEV__?gt("boolean"==typeof Xk,Xk):gt("boolean"==typeof Xk,36);var sN=function(){return"function"==typeof Symbol},oN=function(n){return sN()&&Boolean(Symbol[n])},aN=function(n){return oN(n)?Symbol[n]:"@@"+n};sN()&&!oN("observable")&&(Symbol.observable=Symbol("observable"));var GH=aN("iterator"),uN=aN("observable"),p2=aN("species");function uA(n,e){var t=n[e];if(null!=t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}}function Iw(n){var e=n.constructor;return void 0!==e&&null===(e=e[p2])&&(e=void 0),void 0!==e?e:_r}function N_(n){N_.log?N_.log(n):setTimeout(function(){throw n})}function cA(n){Promise.resolve().then(function(){try{n()}catch(e){N_(e)}})}function g2(n){var e=n._cleanup;if(void 0!==e&&(n._cleanup=void 0,e))try{if("function"==typeof e)e();else{var t=uA(e,"unsubscribe");t&&t.call(e)}}catch(r){N_(r)}}function cN(n){n._observer=void 0,n._queue=void 0,n._state="closed"}function m2(n,e,t){n._state="running";var r=n._observer;try{var i=uA(r,e);switch(e){case"next":i&&i.call(r,t);break;case"error":if(cN(n),!i)throw t;i.call(r,t);break;case"complete":cN(n),i&&i.call(r)}}catch(u){N_(u)}"closed"===n._state?g2(n):"running"===n._state&&(n._state="ready")}function lN(n,e,t){if("closed"!==n._state){if("buffering"===n._state)return void n._queue.push({type:e,value:t});if("ready"!==n._state)return n._state="buffering",n._queue=[{type:e,value:t}],void cA(function(){return function(n){var e=n._queue;if(e){n._queue=void 0,n._state="ready";for(var t=0;t<e.length&&(m2(n,e[t].type,e[t].value),"closed"!==n._state);++t);}}(n)});m2(n,e,t)}}var KH=function(){function n(t,r){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new QH(this);try{this._cleanup=r.call(void 0,i)}catch(u){i.error(u)}"initializing"===this._state&&(this._state="ready")}return n.prototype.unsubscribe=function(){"closed"!==this._state&&(cN(this),g2(this))},iN(n,[{key:"closed",get:function(){return"closed"===this._state}}]),n}(),QH=function(){function n(t){this._subscription=t}var e=n.prototype;return e.next=function(r){lN(this._subscription,"next",r)},e.error=function(r){lN(this._subscription,"error",r)},e.complete=function(){lN(this._subscription,"complete")},iN(n,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),n}(),_r=function(){function n(t){if(!(this instanceof n))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var e=n.prototype;return e.subscribe=function(r){return("object"!=typeof r||null===r)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new KH(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(u,l){if("function"==typeof r)var g=i.subscribe({next:function(_){try{r(_,f)}catch(T){l(T),g.unsubscribe()}},error:l,complete:u});else l(new TypeError(r+" is not a function"));function f(){g.unsubscribe(),u()}})},e.map=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(Iw(this))(function(l){return i.subscribe({next:function(f){try{f=r(f)}catch(g){return l.error(g)}l.next(f)},error:function(f){l.error(f)},complete:function(){l.complete()}})})},e.filter=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(Iw(this))(function(l){return i.subscribe({next:function(f){try{if(!r(f))return}catch(g){return l.error(g)}l.next(f)},error:function(f){l.error(f)},complete:function(){l.complete()}})})},e.reduce=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var u=Iw(this),l=arguments.length>1,f=!1,g=arguments[1],_=g;return new u(function(T){return i.subscribe({next:function(S){var D=!f;if(f=!0,!D||l)try{_=r(_,S)}catch(x){return T.error(x)}else _=S},error:function(S){T.error(S)},complete:function(){if(!f&&!l)return T.error(new TypeError("Cannot reduce an empty sequence"));T.next(_),T.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];var f=Iw(this);return new f(function(g){var _,T=0;return function S(D){_=D.subscribe({next:function(x){g.next(x)},error:function(x){g.error(x)},complete:function(){T===u.length?(_=void 0,g.complete()):S(f.from(u[T++]))}})}(r),function(){_&&(_.unsubscribe(),_=void 0)}})},e.flatMap=function(r){var i=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var u=Iw(this);return new u(function(l){var f=[],g=i.subscribe({next:function(T){if(r)try{T=r(T)}catch(D){return l.error(D)}var S=u.from(T).subscribe({next:function(D){l.next(D)},error:function(D){l.error(D)},complete:function(){var D=f.indexOf(S);D>=0&&f.splice(D,1),_()}});f.push(S)},error:function(T){l.error(T)},complete:function(){_()}});function _(){g.closed&&0===f.length&&l.complete()}return function(){f.forEach(function(T){return T.unsubscribe()}),g.unsubscribe()}})},e[uN]=function(){return this},n.from=function(r){var i="function"==typeof this?this:n;if(null==r)throw new TypeError(r+" is not an object");var u=uA(r,uN);if(u){var l=u.call(r);if(Object(l)!==l)throw new TypeError(l+" is not an object");return function(n){return n instanceof _r}(l)&&l.constructor===i?l:new i(function(f){return l.subscribe(f)})}if(oN("iterator")&&(u=uA(r,GH)))return new i(function(f){cA(function(){if(!f.closed){for(var _,g=function(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return h2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h2(n,e)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u.call(r));!(_=g()).done;)if(f.next(_.value),f.closed)return;f.complete()}})});if(Array.isArray(r))return new i(function(f){cA(function(){if(!f.closed){for(var g=0;g<r.length;++g)if(f.next(r[g]),f.closed)return;f.complete()}})});throw new TypeError(r+" is not observable")},n.of=function(){for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];var l="function"==typeof this?this:n;return new l(function(f){cA(function(){if(!f.closed){for(var g=0;g<i.length;++g)if(f.next(i[g]),f.closed)return;f.complete()}})})},iN(n,null,[{key:p2,get:function(){return this}}]),n}();function Kr(n){return null!==n&&"object"==typeof n}function JH(n,e){var t=e,r=[];return n.definitions.forEach(function(u){if("OperationDefinition"===u.kind)throw __DEV__?new ir("Found a ".concat(u.operation," operation").concat(u.name?" named '".concat(u.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new ir(41);"FragmentDefinition"===u.kind&&r.push(u)}),void 0===t&&(__DEV__?gt(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):gt(1===r.length,42),t=r[0].name.value),(0,ye.pi)((0,ye.pi)({},n),{definitions:(0,ye.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions,!0)})}function lA(n){void 0===n&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function dN(n,e){switch(n.kind){case"InlineFragment":return n;case"FragmentSpread":var t=e&&e[n.name.value];return __DEV__?gt(t,"No fragment named ".concat(n.name.value,".")):gt(t,43),t;default:return null}}function M_(n){return{__ref:String(n)}}function Yn(n){return Boolean(n&&"object"==typeof n&&"string"==typeof n.__ref)}function F_(n,e,t,r){if(function(n){return"IntValue"===n.kind}(t)||function(n){return"FloatValue"===n.kind}(t))n[e.value]=Number(t.value);else if(function(n){return"BooleanValue"===n.kind}(t)||function(n){return"StringValue"===n.kind}(t))n[e.value]=t.value;else if(function(n){return"ObjectValue"===n.kind}(t)){var i={};t.fields.map(function(l){return F_(i,l.name,l.value,r)}),n[e.value]=i}else if(function(n){return"Variable"===n.kind}(t))n[e.value]=(r||{})[t.name.value];else if(function(n){return"ListValue"===n.kind}(t))n[e.value]=t.values.map(function(l){var f={};return F_(f,e,l,r),f[e.value]});else if(function(n){return"EnumValue"===n.kind}(t))n[e.value]=t.value;else{if(!function(n){return"NullValue"===n.kind}(t))throw __DEV__?new ir('The inline argument "'.concat(e.value,'" of kind "').concat(t.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new ir(52);n[e.value]=null}}sN()&&Object.defineProperty(_r,Symbol("extensions"),{value:{symbol:uN,hostReportError:N_},configurable:!0});var lZ=["connection","include","skip","client","rest","export"],hN=Object.assign(function(n,e,t){if(e&&t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){var r=t.connection.filter?t.connection.filter:[];r.sort();var i={};return r.forEach(function(f){i[f]=e[f]}),"".concat(t.connection.key,"(").concat(Sw(i),")")}return t.connection.key}var u=n;if(e){var l=Sw(e);u+="(".concat(l,")")}return t&&Object.keys(t).forEach(function(f){-1===lZ.indexOf(f)&&(t[f]&&Object.keys(t[f]).length?u+="@".concat(f,"(").concat(Sw(t[f]),")"):u+="@".concat(f))}),u},{setStringify:function(n){var e=Sw;return Sw=n,e}}),Sw=function(e){return JSON.stringify(e,dZ)};function dZ(n,e){return Kr(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(t,r){return t[r]=e[r],t},{})),e}function dA(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(r){return F_(t,r.name,r.value,e)}),t}return null}function Zp(n){return n.alias?n.alias.value:n.name.value}function fN(n,e,t){if("string"==typeof n.__typename)return n.__typename;for(var r=0,i=e.selections;r<i.length;r++){var u=i[r];if(Il(u)){if("__typename"===u.name.value)return n[Zp(u)]}else{var l=fN(n,dN(u,t).selectionSet,t);if("string"==typeof l)return l}}}function Il(n){return"Field"===n.kind}function y2(n){return"InlineFragment"===n.kind}function hA(n){__DEV__?gt(n&&"Document"===n.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):gt(n&&"Document"===n.kind,44);var e=n.definitions.filter(function(t){return"FragmentDefinition"!==t.kind}).map(function(t){if("OperationDefinition"!==t.kind)throw __DEV__?new ir('Schema type definitions not allowed in queries. Found: "'.concat(t.kind,'"')):new ir(45);return t});return __DEV__?gt(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):gt(e.length<=1,46),n}function Cw(n){return hA(n),n.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function pN(n){return n.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function fA(n){return n.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function _2(n){var e=Cw(n);return __DEV__?gt(e&&"query"===e.operation,"Must contain a query definition."):gt(e&&"query"===e.operation,47),e}function gN(n){hA(n);for(var e,t=0,r=n.definitions;t<r.length;t++){var i=r[t];if("OperationDefinition"===i.kind){var u=i.operation;if("query"===u||"mutation"===u||"subscription"===u)return i}"FragmentDefinition"===i.kind&&!e&&(e=i)}if(e)return e;throw __DEV__?new ir("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new ir(51)}function mN(n){var e=Object.create(null),t=n&&n.variableDefinitions;return t&&t.length&&t.forEach(function(r){r.defaultValue&&F_(e,r.variable.name,r.defaultValue)}),e}function v2(n,e){return e?e(n):_r.of()}function Dw(n){return"function"==typeof n?new L_(n):n}function pA(n){return n.request.length<=1}var gZ=function(n){function e(t,r){var i=n.call(this,t)||this;return i.link=r,i}return(0,ye.ZT)(e,n),e}(Error),L_=function(){function n(e){e&&(this.request=e)}return n.empty=function(){return new n(function(){return _r.of()})},n.from=function(e){return 0===e.length?n.empty():e.map(Dw).reduce(function(t,r){return t.concat(r)})},n.split=function(e,t,r){var i=Dw(t),u=Dw(r||new n(v2));return pA(i)&&pA(u)?new n(function(l){return e(l)?i.request(l)||_r.of():u.request(l)||_r.of()}):new n(function(l,f){return e(l)?i.request(l,f)||_r.of():u.request(l,f)||_r.of()})},n.execute=function(e,t){return e.request(function(n,e){var t=(0,ye.pi)({},n);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(u){t=(0,ye.pi)((0,ye.pi)({},t),"function"==typeof u?u(t):u)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return(0,ye.pi)({},t)}}),e}(t.context,function(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName="string"!=typeof e.query?pN(e.query)||void 0:""),e}(function(n){for(var e=["query","operationName","variables","extensions","context"],t=0,r=Object.keys(n);t<r.length;t++){var i=r[t];if(e.indexOf(i)<0)throw __DEV__?new ir("illegal argument: ".concat(i)):new ir(24)}return n}(t))))||_r.of()},n.concat=function(e,t){var r=Dw(e);if(pA(r))return __DEV__&&gt.warn(new gZ("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Dw(t);return pA(i)?new n(function(u){return r.request(u,function(l){return i.request(l)||_r.of()})||_r.of()}):new n(function(u,l){return r.request(u,function(f){return i.request(f,l)||_r.of()})||_r.of()})},n.prototype.split=function(e,t,r){return this.concat(n.split(e,t,r||new n(v2)))},n.prototype.concat=function(e){return n.concat(this,e)},n.prototype.request=function(e,t){throw __DEV__?new ir("request is not implemented"):new ir(19)},n.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},n.prototype.setOnError=function(e){return this.onError=e,this},n}(),yN=L_.execute;function b2(n){var e=n.prototype.toJSON;"function"==typeof e||function(n,e){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),n.prototype.inspect=e,nN&&(n.prototype[nN]=e)}var _Z=function(){function n(t,r,i){this.start=t.start,this.end=r.end,this.startToken=t,this.endToken=r,this.source=i}return n.prototype.toJSON=function(){return{start:this.start,end:this.end}},n}();b2(_Z);var vZ=function(){function n(t,r,i,u,l,f,g){this.kind=t,this.start=r,this.end=i,this.line=u,this.column=l,this.value=g,this.prev=f,this.next=null}return n.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},n}();function E2(n){return null!=n&&"string"==typeof n.kind}b2(vZ);var bZ={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},U_=Object.freeze({});function uc(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bZ,r=void 0,i=Array.isArray(n),u=[n],l=-1,f=[],g=void 0,_=void 0,T=void 0,S=[],D=[],x=n;do{var O=++l===u.length,$=O&&0!==f.length;if(O){if(_=0===D.length?void 0:S[S.length-1],g=T,T=D.pop(),$){if(i)g=g.slice();else{for(var Y={},pe=0,Re=Object.keys(g);pe<Re.length;pe++){var ve=Re[pe];Y[ve]=g[ve]}g=Y}for(var Oe=0,Qe=0;Qe<f.length;Qe++){var Ye=f[Qe][0],ot=f[Qe][1];i&&(Ye-=Oe),i&&null===ot?(g.splice(Ye,1),Oe++):g[Ye]=ot}}l=r.index,u=r.keys,f=r.edits,i=r.inArray,r=r.prev}else{if(_=T?i?l:u[l]:void 0,null==(g=T?T[_]:x))continue;T&&S.push(_)}var In,Nt=void 0;if(!Array.isArray(g)){if(!E2(g))throw new Error("Invalid AST Node: ".concat(c2(g),"."));var zn=_N(e,g.kind,O);if(zn){if((Nt=zn.call(e,g,_,T,S,D))===U_)break;if(!1===Nt){if(!O){S.pop();continue}}else if(void 0!==Nt&&(f.push([_,Nt]),!O)){if(!E2(Nt)){S.pop();continue}g=Nt}}}void 0===Nt&&$&&f.push([_,g]),O?S.pop():(r={inArray:i,index:l,keys:u,edits:f,prev:r},u=(i=Array.isArray(g))?g:null!==(In=t[g.kind])&&void 0!==In?In:[],l=-1,f=[],T&&D.push(T),T=g)}while(void 0!==r);return 0!==f.length&&(x=f[f.length-1][1]),x}function _N(n,e,t){var r=n[e];if(r){if(!t&&"function"==typeof r)return r;var i=t?r.leave:r.enter;if("function"==typeof i)return i}else{var u=t?n.leave:n.enter;if(u){if("function"==typeof u)return u;var l=u[e];if("function"==typeof l)return l}}}var vN=function(n,e){var t;try{t=JSON.stringify(n)}catch(i){var r=__DEV__?new ir("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new ir(21);throw r.parseError=i,r}return t},w2=function(n,e,t){var r=new Error(t);throw r.name="ServerError",r.response=n,r.statusCode=n.status,r.result=e,r},T2=Object.prototype.hasOwnProperty;function S2(n){return uc(n,{leave:DZ})}var DZ={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Dt(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,i=Vr("(",Dt(e.variableDefinitions,", "),")"),u=Dt(e.directives," "),l=e.selectionSet;return r||u||i||"query"!==t?Dt([t,Dt([r,i]),u,l]," "):l},VariableDefinition:function(e){var u=e.directives;return e.variable+": "+e.type+Vr(" = ",e.defaultValue)+Vr(" ",Dt(u," "))},SelectionSet:function(e){return du(e.selections)},Field:function(e){var r=e.name,i=e.arguments,u=e.directives,l=e.selectionSet,f=Vr("",e.alias,": ")+r,g=f+Vr("(",Dt(i,", "),")");return g.length>80&&(g=f+Vr("(\n",gA(Dt(i,"\n")),"\n)")),Dt([g,Dt(u," "),l]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+Vr(" ",Dt(e.directives," "))},InlineFragment:function(e){var r=e.directives,i=e.selectionSet;return Dt(["...",Vr("on ",e.typeCondition),Dt(r," "),i]," ")},FragmentDefinition:function(e){var r=e.typeCondition,i=e.variableDefinitions,u=e.directives,l=e.selectionSet;return"fragment ".concat(e.name).concat(Vr("(",Dt(i,", "),")")," ")+"on ".concat(r," ").concat(Vr("",Dt(u," ")," "))+l},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===n.indexOf("\n"),i=" "===n[0]||"\t"===n[0],u='"'===n[n.length-1],l="\\"===n[n.length-1],f=!r||u||l||t,g="";return f&&!(r&&i)&&(g+="\n"+e),g+=e?n.replace(/\n/g,"\n"+e):n,f&&(g+="\n"),'"""'+g.replace(/"""/g,'\\"""')+'"""'}(r,"description"===t?"":"  "):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Dt(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Dt(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+Vr("(",Dt(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:lu(function(n){var t=n.operationTypes;return Dt(["schema",Dt(n.directives," "),du(t)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:lu(function(n){return Dt(["scalar",n.name,Dt(n.directives," ")]," ")}),ObjectTypeDefinition:lu(function(n){var r=n.directives,i=n.fields;return Dt(["type",n.name,Vr("implements ",Dt(n.interfaces," & ")),Dt(r," "),du(i)]," ")}),FieldDefinition:lu(function(n){var t=n.arguments,r=n.type,i=n.directives;return n.name+(C2(t)?Vr("(\n",gA(Dt(t,"\n")),"\n)"):Vr("(",Dt(t,", "),")"))+": "+r+Vr(" ",Dt(i," "))}),InputValueDefinition:lu(function(n){var i=n.directives;return Dt([n.name+": "+n.type,Vr("= ",n.defaultValue),Dt(i," ")]," ")}),InterfaceTypeDefinition:lu(function(n){var r=n.directives,i=n.fields;return Dt(["interface",n.name,Vr("implements ",Dt(n.interfaces," & ")),Dt(r," "),du(i)]," ")}),UnionTypeDefinition:lu(function(n){var r=n.types;return Dt(["union",n.name,Dt(n.directives," "),r&&0!==r.length?"= "+Dt(r," | "):""]," ")}),EnumTypeDefinition:lu(function(n){var r=n.values;return Dt(["enum",n.name,Dt(n.directives," "),du(r)]," ")}),EnumValueDefinition:lu(function(n){return Dt([n.name,Dt(n.directives," ")]," ")}),InputObjectTypeDefinition:lu(function(n){var r=n.fields;return Dt(["input",n.name,Dt(n.directives," "),du(r)]," ")}),DirectiveDefinition:lu(function(n){var t=n.arguments,r=n.repeatable,i=n.locations;return"directive @"+n.name+(C2(t)?Vr("(\n",gA(Dt(t,"\n")),"\n)"):Vr("(",Dt(t,", "),")"))+(r?" repeatable":"")+" on "+Dt(i," | ")}),SchemaExtension:function(e){var r=e.operationTypes;return Dt(["extend schema",Dt(e.directives," "),du(r)]," ")},ScalarTypeExtension:function(e){return Dt(["extend scalar",e.name,Dt(e.directives," ")]," ")},ObjectTypeExtension:function(e){var i=e.directives,u=e.fields;return Dt(["extend type",e.name,Vr("implements ",Dt(e.interfaces," & ")),Dt(i," "),du(u)]," ")},InterfaceTypeExtension:function(e){var i=e.directives,u=e.fields;return Dt(["extend interface",e.name,Vr("implements ",Dt(e.interfaces," & ")),Dt(i," "),du(u)]," ")},UnionTypeExtension:function(e){var i=e.types;return Dt(["extend union",e.name,Dt(e.directives," "),i&&0!==i.length?"= "+Dt(i," | "):""]," ")},EnumTypeExtension:function(e){var i=e.values;return Dt(["extend enum",e.name,Dt(e.directives," "),du(i)]," ")},InputObjectTypeExtension:function(e){var i=e.fields;return Dt(["extend input",e.name,Dt(e.directives," "),du(i)]," ")}};function lu(n){return function(e){return Dt([e.description,n(e)],"\n")}}function Dt(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null==n?void 0:n.filter(function(r){return r}).join(t))&&void 0!==e?e:""}function du(n){return Vr("{\n",gA(Dt(n,"\n")),"\n}")}function Vr(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=e&&""!==e?n+e+t:""}function gA(n){return Vr("  ",n.replace(/\n/g,"\n  "))}function AZ(n){return-1!==n.indexOf("\n")}function C2(n){return null!=n&&n.some(AZ)}var PZ={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},D2=function(n,e){return e(n)};function kZ(n){if(n){var e=Object.create(null);return Object.keys(Object(n)).forEach(function(t){e[t.toLowerCase()]=n[t]}),e}return n}function x2(n){return new _r(function(e){e.error(n)})}var R2=Ta(function(){return fetch}),FZ=function(n){void 0===n&&(n={});var e=n.uri,t=void 0===e?"/graphql":e,r=n.fetch,i=n.print,u=void 0===i?D2:i,l=n.includeExtensions,f=n.useGETForQueries,g=n.includeUnusedVariables,_=void 0!==g&&g,T=(0,ye._T)(n,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(n){if(!n&&"undefined"==typeof fetch)throw __DEV__?new ir("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new ir(20)}(r||R2);var S={http:{includeExtensions:l},options:T.fetchOptions,credentials:T.credentials,headers:T.headers};return new L_(function(D){var x=function(n,e){return n.getContext().uri||("function"==typeof e?e(n):e||"/graphql")}(D,t),O=D.getContext(),$={};if(O.clientAwareness){var Y=O.clientAwareness,pe=Y.name,Re=Y.version;pe&&($["apollographql-client-name"]=pe),Re&&($["apollographql-client-version"]=Re)}var zn,ve=(0,ye.pi)((0,ye.pi)({},$),O.headers),Qe=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i={},u={};t.forEach(function(S){i=(0,ye.pi)((0,ye.pi)((0,ye.pi)({},i),S.options),{headers:(0,ye.pi)((0,ye.pi)({},i.headers),kZ(S.headers))}),S.credentials&&(i.credentials=S.credentials),u=(0,ye.pi)((0,ye.pi)({},u),S.http)});var f=n.extensions,_=n.query,T={operationName:n.operationName,variables:n.variables};return u.includeExtensions&&(T.extensions=f),u.includeQuery&&(T.query=e(_,S2)),{options:i,body:T}}(D,u,PZ,S,{http:O.http,options:O.fetchOptions,credentials:O.credentials,headers:ve}),Ye=Qe.options,ot=Qe.body;if(ot.variables&&!_){var Nt=new Set(Object.keys(ot.variables));uc(D.query,{Variable:function(vt,Xt,Wt){Wt&&"VariableDefinition"!==Wt.kind&&Nt.delete(vt.name.value)}}),Nt.size&&(ot.variables=(0,ye.pi)({},ot.variables),Nt.forEach(function(vt){delete ot.variables[vt]}))}if(!Ye.signal){var In=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var n=new AbortController;return{controller:n,signal:n.signal}}();(zn=In.controller)&&(Ye.signal=In.signal)}if(f&&!D.query.definitions.some(function(vt){return"OperationDefinition"===vt.kind&&"mutation"===vt.operation})&&(Ye.method="GET"),"GET"===Ye.method){var Mw=function(n,e){var t=[],r=function(S,D){t.push("".concat(S,"=").concat(encodeURIComponent(D)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=vN(e.variables,"Variables map")}catch(S){return{parseError:S}}r("variables",i)}if(e.extensions){var u=void 0;try{u=vN(e.extensions,"Extensions map")}catch(S){return{parseError:S}}r("extensions",u)}var l="",f=n,g=n.indexOf("#");-1!==g&&(l=n.substr(g),f=n.substr(0,g));var _=-1===f.indexOf("?")?"?":"&";return{newURI:f+_+t.join("&")+l}}(x,ot),CA=Mw.newURI,It=Mw.parseError;if(It)return x2(It);x=CA}else try{Ye.body=vN(ot,"Payload")}catch(vt){return x2(vt)}return new _r(function(vt){return(r||Ta(function(){return fetch})||R2)(x,Ye).then(function(Wt){return D.setContext({response:Wt}),Wt}).then(function(n){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(i){var r=i;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}).then(function(t){return e.status>=300&&w2(e,t,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(t)&&!T2.call(t,"data")&&!T2.call(t,"errors")&&w2(e,t,"Server response was missing for query '".concat(Array.isArray(n)?n.map(function(r){return r.operationName}):n.operationName,"'.")),t})}}(D)).then(function(Wt){return vt.next(Wt),vt.complete(),Wt}).catch(function(Wt){"AbortError"!==Wt.name&&(Wt.result&&Wt.result.errors&&Wt.result.data&&vt.next(Wt.result),vt.error(Wt))}),function(){zn&&zn.abort()}})})},LZ=function(n){function e(t){void 0===t&&(t={});var r=n.call(this,FZ(t).request)||this;return r.options=t,r}return(0,ye.ZT)(e,n),e}(L_),O2=Object.prototype,P2=O2.toString,UZ=O2.hasOwnProperty,k2=Function.prototype.toString,bN=new Map;function Wi(n,e){try{return EN(n,e)}finally{bN.clear()}}function EN(n,e){if(n===e)return!0;var t=P2.call(n);if(t!==P2.call(e))return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":if(M2(n,e))return!0;var i=N2(n),u=N2(e),l=i.length;if(l!==u.length)return!1;for(var f=0;f<l;++f)if(!UZ.call(e,i[f]))return!1;for(f=0;f<l;++f){var g=i[f];if(!EN(n[g],e[g]))return!1}return!0;case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!=n)return e!=e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n=="".concat(e);case"[object Map]":case"[object Set]":if(n.size!==e.size)return!1;if(M2(n,e))return!0;for(var _=n.entries(),T="[object Map]"===t;;){var S=_.next();if(S.done)break;var D=S.value,x=D[0],O=D[1];if(!e.has(x)||T&&!EN(O,e.get(x)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":n=new Uint8Array(n),e=new Uint8Array(e);case"[object DataView]":var $=n.byteLength;if($===e.byteLength)for(;$--&&n[$]===e[$];);return-1===$;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var Y=k2.call(n);return Y===k2.call(e)&&!function(n,e){var t=n.length-e.length;return t>=0&&n.indexOf(e,t)===t}(Y,jZ)}return!1}function N2(n){return Object.keys(n).filter(VZ,n)}function VZ(n){return void 0!==this[n]}var jZ="{ [native code] }";function M2(n,e){var t=bN.get(n);if(t){if(t.has(e))return!0}else bN.set(n,t=new Set);return t.add(e),!1}var qZ=function(){return Object.create(null)},F2=Array.prototype,$Z=F2.forEach,HZ=F2.slice,Aw=function(){function n(e,t){void 0===e&&(e=!0),void 0===t&&(t=qZ),this.weakness=e,this.makeData=t}return n.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},n.prototype.lookupArray=function(e){var t=this;return $Z.call(e,function(r){return t=t.getChildTrie(r)}),t.data||(t.data=this.makeData(HZ.call(e)))},n.prototype.getChildTrie=function(e){var t=this.weakness&&function(n){switch(typeof n){case"object":if(null===n)break;case"function":return!0}return!1}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=t.get(e);return r||t.set(e,r=new n(this.weakness,this.makeData)),r},n}(),Gp="function"==typeof WeakMap&&"ReactNative"!==Ta(function(){return navigator.product}),GZ="function"==typeof WeakSet,zZ="function"==typeof Symbol&&"function"==typeof Symbol.for;function mA(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Object.create(null);return n.forEach(function(r){!r||Object.keys(r).forEach(function(i){var u=r[i];void 0!==u&&(t[i]=u)})}),t}function yA(n,e){var t=n.directives;return!t||!t.length||function(n){var e=[];return n&&n.length&&n.forEach(function(t){if(function(n){var e=n.name.value;return"skip"===e||"include"===e}(t)){var r=t.arguments,i=t.name.value;__DEV__?gt(r&&1===r.length,"Incorrect number of arguments for the @".concat(i," directive.")):gt(r&&1===r.length,38);var u=r[0];__DEV__?gt(u.name&&"if"===u.name.value,"Invalid argument for the @".concat(i," directive.")):gt(u.name&&"if"===u.name.value,39);var l=u.value;__DEV__?gt(l&&("Variable"===l.kind||"BooleanValue"===l.kind),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):gt(l&&("Variable"===l.kind||"BooleanValue"===l.kind),40),e.push({directive:t,ifArgument:u})}}),e}(t).every(function(r){var i=r.directive,u=r.ifArgument,l=!1;return"Variable"===u.value.kind?(l=e&&e[u.value.name.value],__DEV__?gt(void 0!==l,"Invalid variable referenced in @".concat(i.name.value," directive.")):gt(void 0!==l,37)):l=u.value.value,"skip"===i.name.value?!l:l})}function wN(n,e){return function(n){var e=[];return uc(n,{Directive:function(t){e.push(t.name.value)}}),e}(e).some(function(t){return n.indexOf(t)>-1})}function YZ(n){return n&&wN(["client"],n)&&wN(["export"],n)}Ta(function(){return window.document.createElement}),Ta(function(){return navigator.userAgent.indexOf("jsdom")>=0});var eG=Object.prototype.hasOwnProperty;function L2(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return TN(n)}function TN(n){var e=n[0]||{},t=n.length;if(t>1)for(var r=new V_,i=1;i<t;++i)e=r.merge(e,n[i]);return e}var tG=function(n,e,t){return this.merge(n[t],e[t])},V_=function(){function n(e){void 0===e&&(e=tG),this.reconciler=e,this.isObject=Kr,this.pastCopies=new Set}return n.prototype.merge=function(e,t){for(var r=this,i=[],u=2;u<arguments.length;u++)i[u-2]=arguments[u];return Kr(t)&&Kr(e)?(Object.keys(t).forEach(function(l){if(eG.call(e,l)){var f=e[l];if(t[l]!==f){var g=r.reconciler.apply(r,(0,ye.ev)([e,t,l],i,!1));g!==f&&((e=r.shallowCopyForMerge(e))[l]=g)}}else(e=r.shallowCopyForMerge(e))[l]=t[l]}),e):t},n.prototype.shallowCopyForMerge=function(e){return Kr(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):(0,ye.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},n}(),Ki=Object.prototype.hasOwnProperty;function U2(n,e){var t=n.__typename,r=n.id,i=n._id;if("string"==typeof t&&(e&&(e.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return"".concat(t,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var V2={dataIdFromObject:U2,addTypename:!0,resultCaching:!0,canonizeResults:!1};function j2(n){var e=n.canonizeResults;return void 0===e?V2.canonizeResults:e}var B2=/^[_a-z][_0-9a-z]*/i;function ch(n){var e=n.match(B2);return e?e[0]:n}function IN(n,e,t){return!!Kr(e)&&(si(e)?e.every(function(r){return IN(n,r,t)}):n.selections.every(function(r){if(Il(r)&&yA(r,t)){var i=Zp(r);return Ki.call(e,i)&&(!r.selectionSet||IN(r.selectionSet,e[i],t))}return!0}))}function j_(n){return Kr(n)&&!Yn(n)&&!si(n)}var CN,DN,si=function(n){return Array.isArray(n)},SN=function(){function n(){this.known=new(GZ?WeakSet:Set),this.pool=new Aw(Gp),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return n.prototype.isKnown=function(e){return Kr(e)&&this.known.has(e)},n.prototype.pass=function(e){if(Kr(e)){var t=function(n){return Kr(n)?si(n)?n.slice(0):(0,ye.pi)({__proto__:Object.getPrototypeOf(n)},n):n}(e);return this.passes.set(t,e),t}return e},n.prototype.admit=function(e){var t=this;if(Kr(e)){var r=this.passes.get(e);if(r)return r;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var u=e.map(this.admit,this);return(l=this.pool.lookupArray(u)).array||(this.known.add(l.array=u),__DEV__&&Object.freeze(u)),l.array;case null:case Object.prototype:if(this.known.has(e))return e;var f=Object.getPrototypeOf(e),g=[f],_=this.sortedKeys(e);g.push(_.json);var l,T=g.length;if(_.sorted.forEach(function(x){g.push(t.admit(e[x]))}),!(l=this.pool.lookupArray(g)).object){var S=l.object=Object.create(f);this.known.add(S),_.sorted.forEach(function(x,O){S[x]=g[T+O]}),__DEV__&&Object.freeze(S)}return l.object}}return e},n.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var i=JSON.stringify(t);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:t,json:i})}return r.keys},n}(),zp=Object.assign(function(n){if(Kr(n)){void 0===CN&&q2();var e=CN.admit(n),t=DN.get(e);return void 0===t&&DN.set(e,t=JSON.stringify(e)),t}return JSON.stringify(n)},{reset:q2});function q2(){CN=new SN,DN=new(Gp?WeakMap:Map)}function AN(n,e,t){return new _r(function(r){var i=r.next,u=r.error,l=r.complete,f=0,g=!1,_={then:function(x){return new Promise(function(O){return O(x())})}};function T(x,O){return x?function($){++f;var Y=function(){return x($)};_=_.then(Y,Y).then(function(pe){--f,i&&i.call(r,pe),g&&S.complete()},function(pe){throw--f,pe}).catch(function(pe){u&&u.call(r,pe)})}:function($){return O&&O.call(r,$)}}var S={next:T(e,i),error:T(t,u),complete:function(){g=!0,f||l&&l.call(r)}},D=n.subscribe(S);return function(){return D.unsubscribe()}})}function _A(n){return n.errors&&n.errors.length>0||!1}function $2(n,e,t){var r=0;return n.forEach(function(i,u){e.call(this,i,u,n)&&(n[r++]=i)},t),n.length=r,n}var H2={kind:"Field",name:{kind:"Name",value:"__typename"}};function Z2(n,e){return n.selectionSet.selections.every(function(t){return"FragmentSpread"===t.kind&&Z2(e[t.name.value],e)})}function xN(n){return Z2(Cw(n)||function(n){__DEV__?gt("Document"===n.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):gt("Document"===n.kind,48),__DEV__?gt(n.definitions.length<=1,"Fragment must have exactly one definition."):gt(n.definitions.length<=1,49);var e=n.definitions[0];return __DEV__?gt("FragmentDefinition"===e.kind,"Must be a fragment definition."):gt("FragmentDefinition"===e.kind,50),e}(n),lA(fA(n)))?null:n}function RN(n){return function(t){return n.some(function(r){return r.name&&r.name===t.name.value||r.test&&r.test(t)})}}function G2(n,e){var t=Object.create(null),r=[],i=Object.create(null),u=[],l=xN(uc(e,{Variable:{enter:function(f,g,_){"VariableDefinition"!==_.kind&&(t[f.name.value]=!0)}},Field:{enter:function(f){if(n&&f.directives&&n.some(function(_){return _.remove})&&f.directives&&f.directives.some(RN(n)))return f.arguments&&f.arguments.forEach(function(_){"Variable"===_.value.kind&&r.push({name:_.value.name.value})}),f.selectionSet&&z2(f.selectionSet).forEach(function(_){u.push({name:_.name.value})}),null}},FragmentSpread:{enter:function(f){i[f.name.value]=!0}},Directive:{enter:function(f){if(RN(n)(f))return null}}}));return l&&$2(r,function(f){return!!f.name&&!t[f.name]}).length&&(l=function(n,e){var t=function(n){return function(t){return n.some(function(r){return t.value&&"Variable"===t.value.kind&&t.value.name&&(r.name===t.value.name.value||r.test&&r.test(t))})}}(n);return xN(uc(e,{OperationDefinition:{enter:function(r){return(0,ye.pi)((0,ye.pi)({},r),{variableDefinitions:r.variableDefinitions?r.variableDefinitions.filter(function(i){return!n.some(function(u){return u.name===i.variable.name.value})}):[]})}},Field:{enter:function(r){var i=n.some(function(l){return l.remove});if(i){var u=0;if(r.arguments&&r.arguments.forEach(function(l){t(l)&&(u+=1)}),1===u)return null}}},Argument:{enter:function(r){if(t(r))return null}}}))}(r,l)),l&&$2(u,function(f){return!!f.name&&!i[f.name]}).length&&(l=function(n,e){function t(r){if(n.some(function(i){return i.name===r.name.value}))return null}return xN(uc(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}(u,l)),l}var ON=Object.assign(function(n){return uc(n,{SelectionSet:{enter:function(e,t,r){if(!r||"OperationDefinition"!==r.kind){var i=e.selections;if(i&&!i.some(function(f){return Il(f)&&("__typename"===f.name.value||0===f.name.value.lastIndexOf("__",0))})){var l=r;if(!(Il(l)&&l.directives&&l.directives.some(function(f){return"export"===f.name.value})))return(0,ye.pi)((0,ye.pi)({},e),{selections:(0,ye.ev)((0,ye.ev)([],i,!0),[H2],!1)})}}}}})},{added:function(n){return n===H2}}),oG={test:function(n){var e="connection"===n.name.value;return e&&(!n.arguments||!n.arguments.some(function(t){return"key"===t.name.value}))&&__DEV__&&gt.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function z2(n){var e=[];return n.selections.forEach(function(t){(Il(t)||y2(t))&&t.selectionSet?z2(t.selectionSet).forEach(function(r){return e.push(r)}):"FragmentSpread"===t.kind&&e.push(t)}),e}function fG(n){return"query"===gN(n).operation?n:uc(n,{OperationDefinition:{enter:function(i){return(0,ye.pi)((0,ye.pi)({},i),{operation:"query"})}}})}var W2=new Map;function PN(n){var e=W2.get(n)||1;return W2.set(n,e+1),"".concat(n,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function xw(n,e,t){var r=[];n.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](t)})}function K2(n){function e(t){Object.defineProperty(n,t,{value:_r})}return zZ&&Symbol.species&&e(Symbol.species),e("@@species"),n}function Q2(n){return n&&"function"==typeof n.then}var Rw=function(n){function e(t){var r=n.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.addCount=0,r.promise=new Promise(function(i,u){r.resolve=i,r.reject=u}),r.handlers={next:function(i){null!==r.sub&&(r.latest=["next",i],xw(r.observers,"next",i))},error:function(i){var u=r.sub;null!==u&&(u&&setTimeout(function(){return u.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),xw(r.observers,"error",i))},complete:function(){var i=r.sub;if(null!==i){var u=r.sources.shift();u?Q2(u)?u.then(function(l){return r.sub=l.subscribe(r.handlers)}):r.sub=u.subscribe(r.handlers):(i&&setTimeout(function(){return i.unsubscribe()}),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),xw(r.observers,"complete"))}}},r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),"function"==typeof t&&(t=[new _r(t)]),Q2(t)?t.then(function(i){return r.start(i)},r.handlers.error):r.start(t),r}return(0,ye.ZT)(e,n),e.prototype.start=function(t){void 0===this.sub&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var r=this.latest[0],i=t[r];i&&i.call(t,this.latest[1]),null===this.sub&&"next"===r&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t),++this.addCount)},e.prototype.removeObserver=function(t,r){this.observers.delete(t)&&--this.addCount<1&&!r&&this.handlers.complete()},e.prototype.cleanup=function(t){var r=this,i=!1,u=function(){i||(i=!0,r.observers.delete(l),t())},l={next:u,error:u,complete:u},f=this.addCount;this.addObserver(l),this.addCount=f},e}(_r);function Wp(n){return Array.isArray(n)&&n.length>0}K2(Rw);var B_=function(n){function e(t){var r=t.graphQLErrors,i=t.clientErrors,u=t.networkError,l=t.errorMessage,f=t.extraInfo,g=n.call(this,l)||this;return g.graphQLErrors=r||[],g.clientErrors=i||[],g.networkError=u||null,g.message=l||function(n){var e="";return(Wp(n.graphQLErrors)||Wp(n.clientErrors))&&(n.graphQLErrors||[]).concat(n.clientErrors||[]).forEach(function(r){e+="".concat(r?r.message:"Error message not found.","\n")}),n.networkError&&(e+="".concat(n.networkError.message,"\n")),e=e.replace(/\n$/,"")}(g),g.extraInfo=f,g.__proto__=e.prototype,g}return(0,ye.ZT)(e,n),e}(Error),yG=Object.prototype.toString;function Y2(n){return kN(n)}function kN(n,e){switch(yG.call(n)){case"[object Array]":if((e=e||new Map).has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(i,u){t[u]=kN(i,e)}),t;case"[object Object]":if((e=e||new Map).has(n))return e.get(n);var r=Object.create(Object.getPrototypeOf(n));return e.set(n,r),Object.keys(n).forEach(function(i){r[i]=kN(n[i],e)}),r;default:return n}}var _G=Object.assign,vG=Object.hasOwnProperty,NN=function(n){function e(t){var r=t.queryManager,i=t.queryInfo,u=t.options,l=n.call(this,function(Y){try{var pe=Y._subscription._observer;pe&&!pe.error&&(pe.error=bG)}catch(Oe){}var Re=!l.observers.size;l.observers.add(Y);var ve=l.last;return ve&&ve.error?Y.error&&Y.error(ve.error):ve&&ve.result&&Y.next&&Y.next(ve.result),Re&&l.reobserve().catch(function(){}),function(){l.observers.delete(Y)&&!l.observers.size&&l.tearDownQuery()}})||this;l.observers=new Set,l.subscriptions=new Set,l.queryInfo=i,l.queryManager=r,l.isTornDown=!1;var f=r.defaultOptions.watchQuery,_=(void 0===f?{}:f).fetchPolicy,T=void 0===_?"cache-first":_,S=u.fetchPolicy,D=void 0===S?T:S,x=u.initialFetchPolicy,O=void 0===x?"standby"===D?T:D:x;l.options=(0,ye.pi)((0,ye.pi)({},u),{initialFetchPolicy:O,fetchPolicy:D}),l.queryId=i.queryId||r.generateQueryId();var $=Cw(l.query);return l.queryName=$&&$.name&&$.name.value,l}return(0,ye.ZT)(e,n),Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise(function(r,i){var u={next:function(f){r(f),t.observers.delete(u),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){l.unsubscribe()},0)},error:i},l=t.subscribe(u)})},e.prototype.getCurrentResult=function(t){void 0===t&&(t=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||Qn.ready,u=(0,ye.pi)((0,ye.pi)({},r),{loading:Tw(i),networkStatus:i}),l=this.options.fetchPolicy,f=void 0===l?"cache-first":l;if("network-only"!==f&&"no-cache"!==f&&"standby"!==f&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var g=this.queryInfo.getDiff();(g.complete||this.options.returnPartialData)&&(u.data=g.result),Wi(u.data,{})&&(u.data=void 0),g.complete?(delete u.partial,g.complete&&u.networkStatus===Qn.loading&&("cache-first"===f||"cache-only"===f)&&(u.networkStatus=Qn.ready,u.loading=!1)):u.partial=!0,__DEV__&&!g.complete&&!this.options.partialRefetch&&!u.loading&&!u.data&&!u.error&&X2(g.missing)}return t&&this.updateLastResult(u),u},e.prototype.isDifferentFromLastResult=function(t){return!this.last||!Wi(this.last.result,t)},e.prototype.getLast=function(t,r){var i=this.last;if(i&&i[t]&&(!r||Wi(i.variables,this.variables)))return i[t]},e.prototype.getLastResult=function(t){return this.getLast("result",t)},e.prototype.getLastError=function(t){return this.getLast("error",t)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var r,i={pollInterval:0},u=this.options.fetchPolicy;if(i.fetchPolicy="cache-and-network"===u?u:"no-cache"===u?"no-cache":"network-only",__DEV__&&t&&vG.call(t,"variables")){var l=_2(this.query),f=l.variableDefinitions;(!f||!f.some(function(g){return"variables"===g.variable.name.value}))&&__DEV__&&gt.warn("Called refetch(".concat(JSON.stringify(t),") for query ").concat((null===(r=l.name)||void 0===r?void 0:r.value)||JSON.stringify(l),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return t&&!Wi(this.options.variables,t)&&(i.variables=this.options.variables=(0,ye.pi)((0,ye.pi)({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(i,Qn.refetch)},e.prototype.fetchMore=function(t){var r=this,i=(0,ye.pi)((0,ye.pi)({},t.query?t:(0,ye.pi)((0,ye.pi)((0,ye.pi)((0,ye.pi)({},this.options),{query:this.query}),t),{variables:(0,ye.pi)((0,ye.pi)({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"}),u=this.queryManager.generateQueryId(),l=this.queryInfo,f=l.networkStatus;l.networkStatus=Qn.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var g=new Set;return this.queryManager.fetchQuery(u,i,Qn.fetchMore).then(function(_){return r.queryManager.removeQuery(u),l.networkStatus===Qn.fetchMore&&(l.networkStatus=f),r.queryManager.cache.batch({update:function(T){var S=t.updateQuery;S?T.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(D){return S(D,{fetchMoreResult:_.data,variables:i.variables})}):T.writeQuery({query:i.query,variables:i.variables,data:_.data})},onWatchUpdated:function(T){g.add(T.query)}}),_}).finally(function(){g.has(r.query)||J2(r)})},e.prototype.subscribeToMore=function(t){var r=this,i=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(u){var l=t.updateQuery;l&&r.updateQuery(function(f,g){return l(f,{subscriptionData:u,variables:g.variables})})},error:function(u){t.onError?t.onError(u):__DEV__&&gt.error("Unhandled GraphQL subscription error",u)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.setVariables=function(t){return Wi(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},Qn.setVariables):Promise.resolve())},e.prototype.updateQuery=function(t){var r=this.queryManager,u=t(r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});u&&(r.cache.writeQuery({query:this.options.query,data:u,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(t,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,u=void 0===i?"cache-first":i,l=r.initialFetchPolicy,f=void 0===l?u:l;"standby"===u||(r.fetchPolicy="function"==typeof r.nextFetchPolicy?r.nextFetchPolicy(u,{reason:t,options:r,observable:this,initialFetchPolicy:f}):"variables-changed"===t?f:r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(t,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,t,r)},e.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var i=this.pollingInfo,u=this.options.pollInterval;if(!u)return void(i&&(clearTimeout(i.timeout),delete this.pollingInfo));if(!i||i.interval!==u){__DEV__?gt(u,"Attempted to start a polling query without a polling interval."):gt(u,10),(i||(this.pollingInfo={})).interval=u;var f=function(){t.pollingInfo&&(Tw(t.queryInfo.networkStatus)?g():t.reobserve({fetchPolicy:"network-only"},Qn.poll).then(g,g))},g=function(){var _=t.pollingInfo;_&&(clearTimeout(_.timeout),_.timeout=setTimeout(f,_.interval))};g()}}},e.prototype.updateLastResult=function(t,r){return void 0===r&&(r=this.variables),this.last=(0,ye.pi)((0,ye.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?t:Y2(t),variables:r}),Wp(t.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(t,r){var i=this;this.isTornDown=!1;var u=r===Qn.refetch||r===Qn.fetchMore||r===Qn.poll,l=this.options.variables,f=this.options.fetchPolicy,g=mA(this.options,t||{}),_=u?g:_G(this.options,g);u||(this.updatePolling(),t&&t.variables&&!Wi(t.variables,l)&&"standby"!==_.fetchPolicy&&_.fetchPolicy===f&&(this.applyNextFetchPolicy("variables-changed",_),void 0===r&&(r=Qn.setVariables)));var T=_.variables&&(0,ye.pi)({},_.variables),S=this.fetch(_,r),D={next:function(x){i.reportResult(x,T)},error:function(x){i.reportError(x,T)}};return u||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=S,this.observer=D),S.addObserver(D),S.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(t,r){var i=this.getLastError();(i||this.isDifferentFromLastResult(t))&&((i||!t.partial||this.options.returnPartialData)&&this.updateLastResult(t,r),xw(this.observers,"next",t))},e.prototype.reportError=function(t,r){var i=(0,ye.pi)((0,ye.pi)({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:Qn.error,loading:!1});this.updateLastResult(i,r),xw(this.observers,"error",this.last.error=t)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(_r);function J2(n){var e=n.options,t=e.fetchPolicy,r=e.nextFetchPolicy;return"cache-and-network"===t||"network-only"===t?n.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,"function"==typeof r?r.apply(this,arguments):t}}):n.reobserve()}function bG(n){__DEV__&&gt.error("Unhandled error",n.message,n.stack)}function X2(n){__DEV__&&n&&__DEV__&&gt.debug("Missing cache result fields: ".concat(JSON.stringify(n)),n)}K2(NN);var hs=null,ej={},EG=1,MN="@wry/context:Slot",FN=Array,vA=FN[MN]||function(){var n=function(){function n(){this.id=["slot",EG++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return n.prototype.hasValue=function(){for(var e=hs;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===ej)break;return e!==hs&&(hs.slots[this.id]=t),!0}return hs&&(hs.slots[this.id]=ej),!1},n.prototype.getValue=function(){if(this.hasValue())return hs.slots[this.id]},n.prototype.withValue=function(e,t,r,i){var u,l=((u={__proto__:null})[this.id]=e,u),f=hs;hs={parent:f,slots:l};try{return t.apply(i,r)}finally{hs=f}},n.bind=function(e){var t=hs;return function(){var r=hs;try{return hs=t,e.apply(this,arguments)}finally{hs=r}}},n.noContext=function(e,t,r){if(!hs)return e.apply(r,t);var i=hs;try{return hs=null,e.apply(r,t)}finally{hs=i}},n}();try{Object.defineProperty(FN,MN,{value:FN[MN]=n,enumerable:!1,writable:!1,configurable:!1})}finally{return n}}();function SG(){}var UN,CG=function(){function n(e,t){void 0===e&&(e=1/0),void 0===t&&(t=SG),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},n.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,i=t.newer;i&&(i.older=r),r&&(r.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t},n.prototype.set=function(e,t){var r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},n.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},n.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},n}(),bA=new vA,DG=Object.prototype.hasOwnProperty,VN=void 0===(UN=Array.from)?function(n){var e=[];return n.forEach(function(t){return e.push(t)}),e}:UN;function EA(n){var e=n.unsubscribe;"function"==typeof e&&(n.unsubscribe=void 0,e())}var Ow=[];function q_(n,e){if(!n)throw new Error(e||"assertion failure")}function nj(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}var OG=function(){function n(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++n.count}return n.prototype.peek=function(){if(1===this.value.length&&!lh(this))return rj(this),this.value[0]},n.prototype.recompute=function(e){return q_(!this.recomputing,"already recomputing"),rj(this),lh(this)?function(n,e){return cj(n),bA.withValue(n,kG,[n,e]),function(n,e){if("function"==typeof n.subscribe)try{EA(n),n.unsubscribe=n.subscribe.apply(null,e)}catch(t){return n.setDirty(),!1}return!0}(n,e)&&function(n){n.dirty=!1,!lh(n)&&sj(n)}(n),nj(n.value)}(this,e):nj(this.value)},n.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ij(this),EA(this))},n.prototype.dispose=function(){var e=this;this.setDirty(),cj(this),jN(this,function(t,r){t.setDirty(),lj(t,e)})},n.prototype.forget=function(){this.dispose()},n.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=Ow.pop()||new Set),this.deps.add(e)},n.prototype.forgetDeps=function(){var e=this;this.deps&&(VN(this.deps).forEach(function(t){return t.delete(e)}),this.deps.clear(),Ow.push(this.deps),this.deps=null)},n.count=0,n}();function rj(n){var e=bA.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),lh(n)?oj(e,n):aj(e,n),e}function kG(n,e){n.recomputing=!0,n.value.length=0;try{n.value[0]=n.fn.apply(null,e)}catch(t){n.value[1]=t}n.recomputing=!1}function lh(n){return n.dirty||!(!n.dirtyChildren||!n.dirtyChildren.size)}function ij(n){jN(n,oj)}function sj(n){jN(n,aj)}function jN(n,e){var t=n.parents.size;if(t)for(var r=VN(n.parents),i=0;i<t;++i)e(r[i],n)}function oj(n,e){q_(n.childValues.has(e)),q_(lh(e));var t=!lh(n);if(n.dirtyChildren){if(n.dirtyChildren.has(e))return}else n.dirtyChildren=Ow.pop()||new Set;n.dirtyChildren.add(e),t&&ij(n)}function aj(n,e){q_(n.childValues.has(e)),q_(!lh(e));var t=n.childValues.get(e);0===t.length?n.childValues.set(e,function(n){return n.slice(0)}(e.value)):function(n,e){var t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}(t,e.value)||n.setDirty(),uj(n,e),!lh(n)&&sj(n)}function uj(n,e){var t=n.dirtyChildren;t&&(t.delete(e),0===t.size&&(Ow.length<100&&Ow.push(t),n.dirtyChildren=null))}function cj(n){n.childValues.size>0&&n.childValues.forEach(function(e,t){lj(n,t)}),n.forgetDeps(),q_(null===n.dirtyChildren)}function lj(n,e){e.parents.delete(n),n.childValues.delete(e),uj(n,e)}var FG={setDirty:!0,dispose:!0,forget:!0};function dj(n){var e=new Map,t=n&&n.subscribe;function r(i){var u=bA.getValue();if(u){var l=e.get(i);l||e.set(i,l=new Set),u.dependOn(l),"function"==typeof t&&(EA(l),l.unsubscribe=t(i))}}return r.dirty=function(u,l){var f=e.get(u);if(f){var g=l&&DG.call(FG,l)?l:"setDirty";VN(f).forEach(function(_){return _[g]()}),e.delete(u),EA(f)}},r}function hj(){var n=new Aw("function"==typeof WeakMap);return function(){return n.lookupArray(arguments)}}hj();var BN=new Set;function wA(n,e){void 0===e&&(e=Object.create(null));var t=new CG(e.max||Math.pow(2,16),function(_){return _.dispose()}),r=e.keyArgs,i=e.makeCacheKey||hj(),u=function(){var _=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===_)return n.apply(null,arguments);var T=t.get(_);T||(t.set(_,T=new OG(n)),T.subscribe=e.subscribe,T.forget=function(){return t.delete(_)});var S=T.recompute(Array.prototype.slice.call(arguments));return t.set(_,T),BN.add(t),bA.hasValue()||(BN.forEach(function(D){return D.clean()}),BN.clear()),S};function l(_){var T=t.get(_);T&&T.setDirty()}function f(_){var T=t.get(_);if(T)return T.peek()}function g(_){return t.delete(_)}return Object.defineProperty(u,"size",{get:function(){return t.map.size},configurable:!1,enumerable:!1}),u.dirtyKey=l,u.dirty=function(){l(i.apply(null,arguments))},u.peekKey=f,u.peek=function(){return f(i.apply(null,arguments))},u.forgetKey=g,u.forget=function(){return g(i.apply(null,arguments))},u.makeCacheKey=i,u.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(u)}var qN=new vA,fj=new WeakMap;function Pw(n){var e=fj.get(n);return e||fj.set(n,e={vars:new Set,dep:dj()}),e}function pj(n){Pw(n).vars.forEach(function(e){return e.forgetCache(n)})}function UG(n){var e=new Set,t=new Set,r=function(u){if(arguments.length>0){if(n!==u){n=u,e.forEach(function(g){Pw(g).dep.dirty(r),VG(g)});var l=Array.from(t);t.clear(),l.forEach(function(g){return g(n)})}}else{var f=qN.getValue();f&&(i(f),Pw(f).dep(r))}return n};r.onNextChange=function(u){return t.add(u),function(){t.delete(u)}};var i=r.attachCache=function(u){return e.add(u),Pw(u).vars.add(r),r};return r.forgetCache=function(u){return e.delete(u)},r}function VG(n){n.broadcastWatches&&n.broadcastWatches()}var gj=function(){function n(e){var r=e.client,i=e.resolvers,u=e.fragmentMatcher;this.cache=e.cache,r&&(this.client=r),i&&this.addResolvers(i),u&&this.setFragmentMatcher(u)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){t.resolvers=L2(t.resolvers,r)}):this.resolvers=L2(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,i=e.context,u=e.variables,l=e.onlyRunForcedResolvers,f=void 0!==l&&l;return(0,ye.mG)(this,void 0,void 0,function(){return(0,ye.Jh)(this,function(g){return t?[2,this.resolveDocument(t,r.data,i,u,this.fragmentMatcher,f).then(function(_){return(0,ye.pi)((0,ye.pi)({},r),{data:_.result})})]:[2,r]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return wN(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return function(n){hA(n);var e=G2([{test:function(t){return"client"===t.name.value},remove:!0}],n);return e&&(e=uc(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet&&t.selectionSet.selections.every(function(i){return Il(i)&&"__typename"===i.name.value}))return null}}})),e}(e)},n.prototype.prepareContext=function(e){var t=this.cache;return(0,ye.pi)((0,ye.pi)({},e),{cache:t,getCacheKey:function(r){return t.identify(r)}})},n.prototype.addExportedVariables=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),(0,ye.mG)(this,void 0,void 0,function(){return(0,ye.Jh)(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(u){return(0,ye.pi)((0,ye.pi)({},t),u.exportedVariables)})]:[2,(0,ye.pi)({},t)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return uc(e,{Directive:{enter:function(r){if("client"===r.name.value&&r.arguments&&(t=r.arguments.some(function(i){return"always"===i.name.value&&"BooleanValue"===i.value.kind&&!0===i.value.value})))return U_}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:fG(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t,r,i,u,l){return void 0===r&&(r={}),void 0===i&&(i={}),void 0===u&&(u=function(){return!0}),void 0===l&&(l=!1),(0,ye.mG)(this,void 0,void 0,function(){var f,g,_,T,S,D,x,O,$;return(0,ye.Jh)(this,function(Y){return f=gN(e),g=fA(e),_=lA(g),S=(T=f.operation)?T.charAt(0).toUpperCase()+T.slice(1):"Query",x=(D=this).cache,O=D.client,$={fragmentMap:_,context:(0,ye.pi)((0,ye.pi)({},r),{cache:x,client:O}),variables:i,fragmentMatcher:u,defaultOperationType:S,exportedVariables:{},onlyRunForcedResolvers:l},[2,this.resolveSelectionSet(f.selectionSet,t,$).then(function(pe){return{result:pe,exportedVariables:$.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,r){return(0,ye.mG)(this,void 0,void 0,function(){var i,u,l,f,_=this;return(0,ye.Jh)(this,function(T){return i=r.fragmentMap,u=r.context,l=r.variables,f=[t],[2,Promise.all(e.selections.map(function(S){return(0,ye.mG)(_,void 0,void 0,function(){var D;return(0,ye.Jh)(this,function(O){return yA(S,l)?Il(S)?[2,this.resolveField(S,t,r).then(function($){var Y;void 0!==$&&f.push(((Y={})[Zp(S)]=$,Y))})]:(y2(S)?D=S:(D=i[S.name.value],__DEV__?gt(D,"No fragment named ".concat(S.name.value)):gt(D,9)),D&&D.typeCondition&&r.fragmentMatcher(t,D.typeCondition.name.value,u)?[2,this.resolveSelectionSet(D.selectionSet,t,r).then(function($){f.push($)})]:[2]):[2]})})})).then(function(){return TN(f)})]})})},n.prototype.resolveField=function(e,t,r){return(0,ye.mG)(this,void 0,void 0,function(){var i,u,l,f,g,_,T,S,D,x=this;return(0,ye.Jh)(this,function(O){return i=r.variables,u=e.name.value,l=Zp(e),f=u!==l,g=t[l]||t[u],_=Promise.resolve(g),(!r.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(T=t.__typename||r.defaultOperationType,(S=this.resolvers&&this.resolvers[T])&&(D=S[f?u:l])&&(_=Promise.resolve(qN.withValue(this.cache,D,[t,dA(e,i),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,_.then(function($){return void 0===$&&($=g),e.directives&&e.directives.forEach(function(Y){"export"===Y.name.value&&Y.arguments&&Y.arguments.forEach(function(pe){"as"===pe.name.value&&"StringValue"===pe.value.kind&&(r.exportedVariables[pe.value.value]=$)})}),e.selectionSet&&null!=$?Array.isArray($)?x.resolveSubSelectedArray(e,$,r):e.selectionSet?x.resolveSelectionSet(e.selectionSet,$,r):void 0:$})]})})},n.prototype.resolveSubSelectedArray=function(e,t,r){var i=this;return Promise.all(t.map(function(u){return null===u?null:Array.isArray(u)?i.resolveSubSelectedArray(e,u,r):e.selectionSet?i.resolveSelectionSet(e.selectionSet,u,r):void 0}))},n}(),$_=new(Gp?WeakMap:Map);function $N(n,e){var t=n[e];"function"==typeof t&&(n[e]=function(){return $_.set(n,($_.get(n)+1)%1e15),t.apply(this,arguments)})}function mj(n){n.notifyTimeout&&(clearTimeout(n.notifyTimeout),n.notifyTimeout=void 0)}var HN=function(){function n(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;$_.has(r)||($_.set(r,0),$N(r,"evict"),$N(r,"modify"),$N(r,"reset"))}return n.prototype.init=function(e){var t=e.networkStatus||Qn.loading;return this.variables&&this.networkStatus!==Qn.loading&&!Wi(this.variables,e.variables)&&(t=Qn.setVariables),Wi(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},n.prototype.reset=function(){mj(this),this.lastDiff=void 0,this.dirty=!1},n.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Wi(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&"no-cache"===r.options.fetchPolicy)return{complete:!1};var i=this.cache.diff(t);return this.updateLastDiff(i,t),i},n.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},n.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},n.prototype.setDiff=function(e){var t=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Wi(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0)))},n.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():J2(e)})):delete this.oqListener)},n.prototype.notify=function(){var e=this;mj(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},n.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Tw(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},n.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=n.prototype.cancel,this.subscriptions.forEach(function(t){return t.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},n.prototype.cancel=function(){},n.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var i=(0,ye.pi)((0,ye.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(u){return t.setDiff(u)}});(!this.lastWatch||!Wi(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},n.prototype.resetLastWrite=function(){this.lastWrite=void 0},n.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===$_.get(this.cache)&&Wi(t,r.variables)&&Wi(e.data,r.result.data))},n.prototype.markResult=function(e,t,r){var i=this;this.graphQLErrors=Wp(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==r&&(ZN(e,t.errorPolicy)?this.cache.performTransaction(function(u){if(i.shouldWrite(e,t.variables))u.writeQuery({query:i.document,data:e.data,variables:t.variables,overwrite:1===r}),i.lastWrite={result:e,variables:t.variables,dmCount:$_.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var l=i.getDiffOptions(t.variables),f=u.diff(l);i.stopped||i.updateWatch(t.variables),i.updateLastDiff(f,l),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},n.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Qn.ready},n.prototype.markError=function(e){return this.networkStatus=Qn.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},n}();function ZN(n,e){void 0===e&&(e="none");var t="ignore"===e||"all"===e,r=!_A(n);return!r&&t&&n.data&&(r=!0),r}var jG=Object.prototype.hasOwnProperty,BG=function(){function n(e){var t=e.cache,r=e.link,i=e.defaultOptions,u=e.queryDeduplication,l=void 0!==u&&u,f=e.onBroadcast,g=e.ssrMode,_=void 0!==g&&g,T=e.clientAwareness,S=void 0===T?{}:T,D=e.localState,x=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Gp?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=l,this.clientAwareness=S,this.localState=D||new gj({cache:t}),this.ssrMode=_,this.assumeImmutableResults=!!x,(this.onBroadcast=f)&&(this.mutationStore=Object.create(null))}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new ir("QueryManager stopped while query was in flight"):new ir(11))},n.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},n.prototype.mutate=function(e){var t,r,i=e.mutation,u=e.variables,l=e.optimisticResponse,f=e.updateQueries,g=e.refetchQueries,_=void 0===g?[]:g,T=e.awaitRefetchQueries,S=void 0!==T&&T,D=e.update,x=e.onQueryUpdated,O=e.fetchPolicy,$=void 0===O?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":O,Y=e.errorPolicy,pe=void 0===Y?(null===(r=this.defaultOptions.mutate)||void 0===r?void 0:r.errorPolicy)||"none":Y,Re=e.keepRootFields,ve=e.context;return(0,ye.mG)(this,void 0,void 0,function(){var Oe,Qe,Ye;return(0,ye.Jh)(this,function(ot){switch(ot.label){case 0:return __DEV__?gt(i,"mutation option is required. You must specify your GraphQL document in the mutation option."):gt(i,12),__DEV__?gt("network-only"===$||"no-cache"===$,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):gt("network-only"===$||"no-cache"===$,13),Oe=this.generateMutationId(),i=this.transform(i).document,u=this.getVariables(i,u),this.transform(i).hasClientExports?[4,this.localState.addExportedVariables(i,u,ve)]:[3,2];case 1:u=ot.sent(),ot.label=2;case 2:return Qe=this.mutationStore&&(this.mutationStore[Oe]={mutation:i,variables:u,loading:!0,error:null}),l&&this.markMutationOptimistic(l,{mutationId:Oe,document:i,variables:u,fetchPolicy:$,errorPolicy:pe,context:ve,updateQueries:f,update:D,keepRootFields:Re}),this.broadcastQueries(),Ye=this,[2,new Promise(function(Nt,zn){return AN(Ye.getObservableFromLink(i,(0,ye.pi)((0,ye.pi)({},ve),{optimisticResponse:l}),u,!1),function(In){if(_A(In)&&"none"===pe)throw new B_({graphQLErrors:In.errors});Qe&&(Qe.loading=!1,Qe.error=null);var Ia=(0,ye.pi)({},In);return"function"==typeof _&&(_=_(Ia)),"ignore"===pe&&_A(Ia)&&delete Ia.errors,Ye.markMutationResult({mutationId:Oe,result:Ia,document:i,variables:u,fetchPolicy:$,errorPolicy:pe,context:ve,update:D,updateQueries:f,awaitRefetchQueries:S,refetchQueries:_,removeOptimistic:l?Oe:void 0,onQueryUpdated:x,keepRootFields:Re})}).subscribe({next:function(In){Ye.broadcastQueries(),Nt(In)},error:function(In){Qe&&(Qe.loading=!1,Qe.error=In),l&&Ye.cache.removeOptimistic(Oe),Ye.broadcastQueries(),zn(In instanceof B_?In:new B_({networkError:In}))}})})]}})})},n.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var i=e.result,u=[],l="no-cache"===e.fetchPolicy;if(!l&&ZN(i,e.errorPolicy)){u.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var f=e.updateQueries;f&&this.queries.forEach(function(_,T){var S=_.observableQuery,D=S&&S.queryName;if(D&&jG.call(f,D)){var x=f[D],O=r.queries.get(T),$=O.document,Y=O.variables,pe=t.diff({query:$,variables:Y,returnPartialData:!0,optimistic:!1}),Re=pe.result;if(pe.complete&&Re){var Oe=x(Re,{mutationResult:i,queryName:$&&pN($)||void 0,queryVariables:Y});Oe&&u.push({result:Oe,dataId:"ROOT_QUERY",query:$,variables:Y})}}})}if(u.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var g=[];if(this.refetchQueries({updateCache:function(_){l||u.forEach(function(D){return _.write(D)});var T=e.update;if(T){if(!l){var S=_.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});S.complete&&(i=(0,ye.pi)((0,ye.pi)({},i),{data:S.result}))}T(_,i,{context:e.context,variables:e.variables})}!l&&!e.keepRootFields&&_.modify({id:"ROOT_MUTATION",fields:function(D,x){return"__typename"===x.fieldName?D:x.DELETE}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(_){return g.push(_)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(g).then(function(){return i})}return Promise.resolve(i)},n.prototype.markMutationOptimistic=function(e,t){var r=this,i="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction(function(u){try{r.markMutationResult((0,ye.pi)((0,ye.pi)({},t),{result:{data:i}}),u)}catch(l){__DEV__&&gt.error(l)}},t.mutationId)},n.prototype.fetchQuery=function(e,t,r){return this.fetchQueryObservable(e,t,r).promise},n.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},n.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},n.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var r=this.cache.transformDocument(e),i=function(n){return G2([oG],hA(n))}(this.cache.transformForLink(r)),u=this.localState.clientQuery(r),l=i&&this.localState.serverQuery(i),f={document:r,hasClientExports:YZ(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:u,serverQuery:l,defaultVars:mN(Cw(r)),asQuery:(0,ye.pi)((0,ye.pi)({},r),{definitions:r.definitions.map(function(_){return"OperationDefinition"===_.kind&&"query"!==_.operation?(0,ye.pi)((0,ye.pi)({},_),{operation:"query"}):_})})},g=function(_){_&&!t.has(_)&&t.set(_,f)};g(e),g(r),g(u),g(l)}return t.get(e)},n.prototype.getVariables=function(e,t){return(0,ye.pi)((0,ye.pi)({},this.transform(e).defaultVars),t)},n.prototype.watchQuery=function(e){void 0===(e=(0,ye.pi)((0,ye.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new HN(this),r=new NN({queryManager:this,queryInfo:t,options:e});return this.queries.set(r.queryId,t),t.init({document:r.query,observableQuery:r,variables:r.variables}),r},n.prototype.query=function(e,t){var r=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?gt(e.query,"query option is required. You must specify your GraphQL document in the query option."):gt(e.query,14),__DEV__?gt("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):gt("Document"===e.query.kind,15),__DEV__?gt(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):gt(!e.returnPartialData,16),__DEV__?gt(!e.pollInterval,"pollInterval option only supported on watchQuery."):gt(!e.pollInterval,17),this.fetchQuery(t,e).finally(function(){return r.stopQuery(t)})},n.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},n.prototype.generateRequestId=function(){return this.requestIdCounter++},n.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},n.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new ir("Store reset while query was in flight (not completed in link chain)"):new ir(18)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=Qn.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},n.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,i=new Map,u=new Set;return Array.isArray(e)&&e.forEach(function(l){"string"==typeof l?i.set(l,!1):function(n){return Kr(n)&&"Document"===n.kind&&Array.isArray(n.definitions)}(l)?i.set(t.transform(l).document,!1):Kr(l)&&l.query&&u.add(l)}),this.queries.forEach(function(l,f){var g=l.observableQuery,_=l.document;if(g){if("all"===e)return void r.set(f,g);var T=g.queryName;if("standby"===g.options.fetchPolicy||"active"===e&&!g.hasObservers())return;("active"===e||T&&i.has(T)||_&&i.has(_))&&(r.set(f,g),T&&i.set(T,!0),_&&i.set(_,!0))}}),u.size&&u.forEach(function(l){var f=PN("legacyOneTimeQuery"),g=t.getQuery(f).init({document:l.query,variables:l.variables}),_=new NN({queryManager:t,queryInfo:g,options:(0,ye.pi)((0,ye.pi)({},l),{fetchPolicy:"network-only"})});gt(_.queryId===f),g.setObservableQuery(_),r.set(f,_)}),__DEV__&&i.size&&i.forEach(function(l,f){l||__DEV__&&gt.warn("Unknown query ".concat("string"==typeof f?"named ":"").concat(JSON.stringify(f,null,2)," requested in refetchQueries options.include array"))}),r},n.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,u){var l=i.options.fetchPolicy;i.resetLastResults(),(e||"standby"!==l&&"cache-only"!==l)&&r.push(i.refetch()),t.getQuery(u).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},n.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},n.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,i=e.fetchPolicy,u=e.errorPolicy,l=e.variables,f=e.context,g=void 0===f?{}:f;r=this.transform(r).document,l=this.getVariables(r,l);var _=function(S){return t.getObservableFromLink(r,g,S).map(function(D){if("no-cache"!==i&&(ZN(D,u)&&t.cache.write({query:r,result:D.data,dataId:"ROOT_SUBSCRIPTION",variables:S}),t.broadcastQueries()),_A(D))throw new B_({graphQLErrors:D.errors});return D})};if(this.transform(r).hasClientExports){var T=this.localState.addExportedVariables(r,l,g).then(_);return new _r(function(S){var D=null;return T.then(function(x){return D=x.subscribe(S)},S.error),function(){return D&&D.unsubscribe()}})}return _(l)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},n.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,r,i){var l,u=this;void 0===i&&(i=null!==(l=null==t?void 0:t.queryDeduplication)&&void 0!==l?l:this.queryDeduplication);var f,g=this.transform(e).serverQuery;if(g){var T=this.inFlightLinkObservables,S=this.link,D={query:g,variables:r,operationName:pN(g)||void 0,context:this.prepareContext((0,ye.pi)((0,ye.pi)({},t),{forceFetch:!i}))};if(t=D.context,i){var x=T.get(g)||new Map;T.set(g,x);var O=zp(r);if(!(f=x.get(O))){var $=new Rw([yN(S,D)]);x.set(O,f=$),$.cleanup(function(){x.delete(O)&&x.size<1&&T.delete(g)})}}else f=new Rw([yN(S,D)])}else f=new Rw([_r.of({data:{}})]),t=this.prepareContext(t);var Y=this.transform(e).clientQuery;return Y&&(f=AN(f,function(pe){return u.localState.runResolvers({document:Y,remoteResult:pe,context:t,variables:r})})),f},n.prototype.getResultsFromLink=function(e,t,r){var i=e.lastRequestId=this.generateRequestId();return AN(this.getObservableFromLink(e.document,r.context,r.variables),function(u){var l=Wp(u.errors);if(i>=e.lastRequestId){if(l&&"none"===r.errorPolicy)throw e.markError(new B_({graphQLErrors:u.errors}));e.markResult(u,r,t),e.markReady()}var f={data:u.data,loading:!1,networkStatus:Qn.ready};return l&&"ignore"!==r.errorPolicy&&(f.errors=u.errors,f.networkStatus=Qn.error),f},function(u){var l=function(n){return n.hasOwnProperty("graphQLErrors")}(u)?u:new B_({networkError:u});throw i>=e.lastRequestId&&e.markError(l),l})},n.prototype.fetchQueryObservable=function(e,t,r){var i=this;void 0===r&&(r=Qn.loading);var u=this.transform(t.query).document,l=this.getVariables(u,t.variables),f=this.getQuery(e),g=this.defaultOptions.watchQuery,_=t.fetchPolicy,S=t.errorPolicy,x=t.returnPartialData,$=t.notifyOnNetworkStatusChange,pe=t.context,ve=Object.assign({},t,{query:u,variables:l,fetchPolicy:void 0===_?g&&g.fetchPolicy||"cache-first":_,errorPolicy:void 0===S?g&&g.errorPolicy||"none":S,returnPartialData:void 0!==x&&x,notifyOnNetworkStatusChange:void 0!==$&&$,context:void 0===pe?{}:pe}),Oe=function(ot){ve.variables=ot;var Nt=i.fetchQueryByPolicy(f,ve,r);return"standby"!==ve.fetchPolicy&&Nt.length>0&&f.observableQuery&&f.observableQuery.applyNextFetchPolicy("after-fetch",t),Nt},Qe=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(ot){Qe(),setTimeout(function(){return Ye.cancel(ot)})});var Ye=new Rw(this.transform(ve.query).hasClientExports?this.localState.addExportedVariables(ve.query,ve.variables,ve.context).then(Oe):Oe(ve.variables));return Ye.promise.then(Qe,Qe),Ye},n.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,i=e.include,u=e.optimistic,l=void 0!==u&&u,f=e.removeOptimistic,g=void 0===f?l?PN("refetchQueries"):void 0:f,_=e.onQueryUpdated,T=new Map;i&&this.getObservableQueries(i).forEach(function(D,x){T.set(x,{oq:D,lastDiff:t.getQuery(x).getDiff()})});var S=new Map;return r&&this.cache.batch({update:r,optimistic:l&&g||!1,removeOptimistic:g,onWatchUpdated:function(D,x,O){var $=D.watcher instanceof HN&&D.watcher.observableQuery;if($){if(_){T.delete($.queryId);var Y=_($,x,O);return!0===Y&&(Y=$.refetch()),!1!==Y&&S.set($,Y),Y}null!==_&&T.set($.queryId,{oq:$,lastDiff:O,diff:x})}}}),T.size&&T.forEach(function(D,x){var pe,O=D.oq,$=D.lastDiff,Y=D.diff;if(_){if(!Y){var Re=O.queryInfo;Re.reset(),Y=Re.getDiff()}pe=_(O,Y,$)}(!_||!0===pe)&&(pe=O.refetch()),!1!==pe&&S.set(O,pe),x.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(x)}),g&&this.cache.removeOptimistic(g),S},n.prototype.fetchQueryByPolicy=function(e,t,r){var i=this,u=t.query,l=t.variables,f=t.fetchPolicy,g=t.refetchWritePolicy,_=t.errorPolicy,T=t.returnPartialData,S=t.context,D=t.notifyOnNetworkStatusChange,x=e.networkStatus;e.init({document:this.transform(u).document,variables:l,networkStatus:r});var O=function(){return e.getDiff(l)},$=function(Oe,Qe){void 0===Qe&&(Qe=e.networkStatus||Qn.loading);var Ye=Oe.result;__DEV__&&!T&&!Wi(Ye,{})&&X2(Oe.missing);var ot=function(Nt){return _r.of((0,ye.pi)({data:Nt,loading:Tw(Qe),networkStatus:Qe},Oe.complete?null:{partial:!0}))};return Ye&&i.transform(u).hasForcedResolvers?i.localState.runResolvers({document:u,remoteResult:{data:Ye},context:S,variables:l,onlyRunForcedResolvers:!0}).then(function(Nt){return ot(Nt.data||void 0)}):ot(Ye)},Y="no-cache"===f?0:r===Qn.refetch&&"merge"!==g?1:2,pe=function(){return i.getResultsFromLink(e,Y,{variables:l,context:S,fetchPolicy:f,errorPolicy:_})},Re=D&&"number"==typeof x&&x!==r&&Tw(r);switch(f){default:case"cache-first":return(ve=O()).complete?[$(ve,e.markReady())]:T||Re?[$(ve),pe()]:[pe()];case"cache-and-network":var ve;return(ve=O()).complete||T||Re?[$(ve),pe()]:[pe()];case"cache-only":return[$(O(),e.markReady())];case"network-only":return Re?[$(O()),pe()]:[pe()];case"no-cache":return Re?[$(e.getDiff()),pe()]:[pe()];case"standby":return[]}},n.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new HN(this,e)),this.queries.get(e)},n.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,ye.pi)((0,ye.pi)({},t),{clientAwareness:this.clientAwareness})},n}();function GN(n,e){return mA(n,e,e.variables&&{variables:(0,ye.pi)((0,ye.pi)({},n&&n.variables),e.variables)})}var yj=!1,_j=function(){function n(e){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,l=e.cache,f=e.ssrMode,g=void 0!==f&&f,_=e.ssrForceFetchDelay,T=void 0===_?0:_,S=e.connectToDevTools,D=void 0===S?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:S,x=e.queryDeduplication,O=void 0===x||x,$=e.defaultOptions,Y=e.assumeImmutableResults,pe=void 0!==Y&&Y,Re=e.resolvers,ve=e.typeDefs,Oe=e.fragmentMatcher,Qe=e.name,Ye=e.version,ot=e.link;if(ot||(ot=r?new LZ({uri:r,credentials:e.credentials,headers:e.headers}):L_.empty()),!l)throw __DEV__?new ir("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new ir(7);if(this.link=ot,this.cache=l,this.disableNetworkFetches=g||T>0,this.queryDeduplication=O,this.defaultOptions=$||Object.create(null),this.typeDefs=ve,T&&setTimeout(function(){return t.disableNetworkFetches=!1},T),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),D&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!yj&&__DEV__&&(yj=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var Nt=window.navigator,zn=Nt&&Nt.userAgent,In=void 0;"string"==typeof zn&&(zn.indexOf("Chrome/")>-1?In="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":zn.indexOf("Firefox/")>-1&&(In="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),In&&__DEV__&&gt.log("Download the Apollo DevTools for a better development experience: "+In)}this.version="3.6.9",this.localState=new gj({cache:l,client:this,resolvers:Re,fragmentMatcher:Oe}),this.queryManager=new BG({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:O,ssrMode:g,clientAwareness:{name:Qe,version:Ye},localState:this.localState,assumeImmutableResults:pe,onBroadcast:D?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=GN(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&("network-only"===e.fetchPolicy||"cache-and-network"===e.fetchPolicy)&&(e=(0,ye.pi)((0,ye.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=GN(this.defaultOptions.query,e)),__DEV__?gt("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):gt("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,ye.pi)((0,ye.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=GN(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},n.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},n.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},n.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return yN(this.link,e)},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],i=[];t.forEach(function(l,f){r.push(f),i.push(l)});var u=Promise.all(i);return u.queries=r,u.results=i,u.catch(function(l){__DEV__&&gt.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(l))}),u},n.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n.prototype.setLink=function(e){this.link=this.queryManager.link=e},n}(),qG=k(6554);function vj(n){return new Ir.y(e=>(n().then(t=>{e.closed||(e.next(t),e.complete())},t=>{e.closed||e.error(t)}),()=>e.unsubscribe()))}class HG{constructor(e){this.zone=e,this.now=Date.now?Date.now:()=>+new Date}schedule(e,t=0,r){return this.zone.run(()=>$c.N.schedule(e,t,r))}}function bj(n){return n[qG.L]=()=>n,n}function Ej(n,e){return n.pipe((0,Ga.QV)(new HG(e)))}function wj(n,e,t){return n&&void 0!==n[e]?n[e]:t}class GG{constructor(e,t,r){this.obsQuery=e;const i=Ej((0,Un.D)(bj(this.obsQuery)),t);this.valueChanges=r.useInitialLoading?i.pipe(function(n){return function(t){return new Ir.y(function(i){const u=n.getCurrentResult(),{loading:l,errors:f,error:g,partial:_,data:T}=u,{partialRefetch:S,fetchPolicy:D}=n.options,x=f||g;return S&&_&&(!T||0===Object.keys(T).length)&&"cache-only"!==D&&!l&&!x&&i.next(Object.assign(Object.assign({},u),{loading:!0,networkStatus:Qn.loading})),t.subscribe(i)})}}(this.obsQuery)):i,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(e){return this.obsQuery.refetch(e)}fetchMore(e){return this.obsQuery.fetchMore(e)}subscribeToMore(e){return this.obsQuery.subscribeToMore(e)}updateQuery(e){return this.obsQuery.updateQuery(e)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(e){return this.obsQuery.startPolling(e)}setOptions(e){return this.obsQuery.setOptions(e)}setVariables(e){return this.obsQuery.setVariables(e)}}const zG=new d.OlP("APOLLO_FLAGS"),Tj=new d.OlP("APOLLO_OPTIONS"),WG=new d.OlP("APOLLO_NAMED_OPTIONS");class Ij{constructor(e,t,r){this.ngZone=e,this.flags=t,this._client=r,this.useInitialLoading=wj(t,"useInitialLoading",!1),this.useMutationLoading=wj(t,"useMutationLoading",!1)}watchQuery(e){return new GG(this.ensureClient().watchQuery(Object.assign({},e)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},e))}query(e){return vj(()=>this.ensureClient().query(Object.assign({},e)))}mutate(e){var t;return function(n,e){return e?n.pipe(ea({loading:!0}),(0,Gt.U)(t=>Object.assign(Object.assign({},t),{loading:!!t.loading}))):n.pipe((0,Gt.U)(t=>Object.assign(Object.assign({},t),{loading:!1})))}(vj(()=>this.ensureClient().mutate(Object.assign({},e))),null!==(t=e.useMutationLoading)&&void 0!==t?t:this.useMutationLoading)}subscribe(e,t){const r=(0,Un.D)(bj(this.ensureClient().subscribe(Object.assign({},e))));return t&&!0!==t.useZone?r:Ej(r,this.ngZone)}getClient(){return this.client}setClient(e){this.client=e}get client(){return this._client}set client(e){if(this._client)throw new Error("Client has been already defined");this._client=e}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let KG=(()=>{class n extends Ij{constructor(t,r,i,u){if(super(t,u),this._ngZone=t,this.map=new Map,r&&this.createDefault(r),i&&"object"==typeof i)for(let l in i)i.hasOwnProperty(l)&&this.createNamed(l,i[l])}create(t,r){zN(r)?this.createDefault(t):this.createNamed(r,t)}default(){return this}use(t){return zN(t)?this.default():this.map.get(t)}createDefault(t){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new _j(t))}createNamed(t,r){if(this.map.has(t))throw new Error(`Client ${t} has been already created`);this.map.set(t,new Ij(this._ngZone,this.flags,new _j(r)))}removeClient(t){zN(t)?this._client=void 0:this.map.delete(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Tj,8),d.LFG(WG,8),d.LFG(zG,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function zN(n){return!n||"default"===n}const QG=[KG];let YG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:QG}),n})();var JG=function(){function n(){this.getFragmentDoc=wA(JH)}return n.prototype.batch=function(e){var i,t=this;return this.performTransaction(function(){return i=e.update(t)},"string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0),i},n.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},n.prototype.transformDocument=function(e){return e},n.prototype.identify=function(e){},n.prototype.gc=function(){return[]},n.prototype.modify=function(e){return!1},n.prototype.transformForLink=function(e){return e},n.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,ye.pi)((0,ye.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},n.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,ye.pi)((0,ye.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},n.prototype.writeQuery=function(e){var t=e.id,r=e.data,i=(0,ye._T)(e,["id","data"]);return this.write(Object.assign(i,{dataId:t||"ROOT_QUERY",result:r}))},n.prototype.writeFragment=function(e){var t=e.id,r=e.data,i=e.fragment,u=e.fragmentName,l=(0,ye._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(l,{query:this.getFragmentDoc(i,u),dataId:t,result:r}))},n.prototype.updateQuery=function(e,t){return this.batch({update:function(r){var i=r.readQuery(e),u=t(i);return null==u?i:(r.writeQuery((0,ye.pi)((0,ye.pi)({},e),{data:u})),u)}})},n.prototype.updateFragment=function(e,t){return this.batch({update:function(r){var i=r.readFragment(e),u=t(i);return null==u?i:(r.writeFragment((0,ye.pi)((0,ye.pi)({},e),{data:u})),u)}})},n}(),Sj=function(e,t,r,i){this.message=e,this.path=t,this.query=r,this.variables=i};function WN(n){return __DEV__&&function(n){var e=new Set([n]);e.forEach(function(t){Kr(t)&&function(n){if(__DEV__&&!Object.isFrozen(n))try{Object.freeze(n)}catch(e){if(e instanceof TypeError)return null;throw e}return n}(t)===t&&Object.getOwnPropertyNames(t).forEach(function(r){Kr(t[r])&&e.add(t[r])})})}(n),n}var TA=Object.create(null),KN=function(){return TA},Cj=Object.create(null),kw=function(){function n(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,u){return WN(Yn(i)?r.get(i.__ref,u):i&&i[u])},this.canRead=function(i){return Yn(i)?r.has(i.__ref):"object"==typeof i},this.toReference=function(i,u){if("string"==typeof i)return M_(i);if(Yn(i))return i;var l=r.policies.identify(i)[0];if(l){var f=M_(l);return u&&r.merge(l,i),f}}}return n.prototype.toObject=function(){return(0,ye.pi)({},this.data)},n.prototype.has=function(e){return void 0!==this.lookup(e,!0)},n.prototype.get=function(e,t){if(this.group.depend(e,t),Ki.call(this.data,e)){var r=this.data[e];if(r&&Ki.call(r,t))return r[t]}return"__typename"===t&&Ki.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof dh?this.parent.get(e,t):void 0},n.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Ki.call(this.data,e)?this.data[e]:this instanceof dh?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},n.prototype.merge=function(e,t){var i,r=this;Yn(e)&&(e=e.__ref),Yn(t)&&(t=t.__ref);var u="string"==typeof e?this.lookup(i=e):e,l="string"==typeof t?this.lookup(i=t):t;if(l){__DEV__?gt("string"==typeof i,"store.merge expects a string ID"):gt("string"==typeof i,1);var f=new V_(n6).merge(u,l);if(this.data[i]=f,f!==u&&(delete this.refs[i],this.group.caching)){var g=Object.create(null);u||(g.__exists=1),Object.keys(l).forEach(function(_){if(!u||u[_]!==f[_]){g[_]=1;var T=ch(_);T!==_&&!r.policies.hasKeyArgs(f.__typename,T)&&(g[T]=1),void 0===f[_]&&!(r instanceof dh)&&delete f[_]}}),g.__typename&&!(u&&u.__typename)&&this.policies.rootTypenamesById[i]===f.__typename&&delete g.__typename,Object.keys(g).forEach(function(_){return r.group.dirty(i,_)})}}},n.prototype.modify=function(e,t){var r=this,i=this.lookup(e);if(i){var u=Object.create(null),l=!1,f=!0,g={DELETE:TA,INVALIDATE:Cj,isReference:Yn,toReference:this.toReference,canRead:this.canRead,readField:function(_,T){return r.policies.readField("string"==typeof _?{fieldName:_,from:T||M_(e)}:_,{store:r})}};if(Object.keys(i).forEach(function(_){var T=ch(_),S=i[_];if(void 0!==S){var D="function"==typeof t?t:t[_]||t[T];if(D){var x=D===KN?TA:D(WN(S),(0,ye.pi)((0,ye.pi)({},g),{fieldName:T,storeFieldName:_,storage:r.getStorage(e,_)}));x===Cj?r.group.dirty(e,_):(x===TA&&(x=void 0),x!==S&&(u[_]=x,l=!0,S=x))}void 0!==S&&(f=!1)}}),l)return this.merge(e,u),f&&(this instanceof dh?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},n.prototype.delete=function(e,t,r){var i,u=this.lookup(e);if(u){var l=this.getFieldValue(u,"__typename"),f=t&&r?this.policies.getStoreFieldName({typename:l,fieldName:t,args:r}):t;return this.modify(e,f?((i={})[f]=KN,i):KN)}return!1},n.prototype.evict=function(e,t){var r=!1;return e.id&&(Ki.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof dh&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},n.prototype.clear=function(){this.replace(null)},n.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){Ki.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(t.__META={extraRootIds:r.sort()}),t},n.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(u){e&&Ki.call(e,u)||t.delete(u)}),e){var r=e.__META,i=(0,ye._T)(e,["__META"]);Object.keys(i).forEach(function(u){t.merge(u,i[u])}),r&&r.extraRootIds.forEach(this.retain,this)}},n.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},n.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},n.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof dh?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},n.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach(function(l){Ki.call(r,l)&&(Object.keys(e.findChildRefIds(l)).forEach(t.add,t),delete r[l])});var i=Object.keys(r);if(i.length){for(var u=this;u instanceof dh;)u=u.parent;i.forEach(function(l){return u.delete(l)})}return i},n.prototype.findChildRefIds=function(e){if(!Ki.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var i=new Set([r]);i.forEach(function(u){Yn(u)&&(t[u.__ref]=!0),Kr(u)&&Object.keys(u).forEach(function(l){var f=u[l];Kr(f)&&i.add(f)})})}return this.refs[e]},n.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},n}(),Dj=function(){function n(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return n.prototype.resetCaching=function(){this.d=this.caching?dj():null,this.keyMaker=new Aw(Gp)},n.prototype.depend=function(e,t){if(this.d){this.d(QN(e,t));var r=ch(t);r!==t&&this.d(QN(e,r)),this.parent&&this.parent.depend(e,t)}},n.prototype.dirty=function(e,t){this.d&&this.d.dirty(QN(e,t),"__exists"===t?"forget":"setDirty")},n}();function QN(n,e){return e+"#"+n}function Aj(n,e){Nw(n)&&n.group.depend(e,"__exists")}!function(n){var e=function(t){function r(i){var l=i.resultCaching,g=i.seed,_=t.call(this,i.policies,new Dj(void 0===l||l))||this;return _.stump=new t6(_),_.storageTrie=new Aw(Gp),g&&_.replace(g),_}return(0,ye.ZT)(r,t),r.prototype.addLayer=function(i,u){return this.stump.addLayer(i,u)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(n);n.Root=e}(kw||(kw={}));var dh=function(n){function e(t,r,i,u){var l=n.call(this,r.policies,u)||this;return l.id=t,l.parent=r,l.replay=i,l.group=u,i(l),l}return(0,ye.ZT)(e,n),e.prototype.addLayer=function(t,r){return new e(t,this,r,this.group)},e.prototype.removeLayer=function(t){var r=this,i=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(u){var l=r.data[u],f=i.lookup(u);f?l?l!==f&&Object.keys(l).forEach(function(g){Wi(l[g],f[g])||r.group.dirty(u,g)}):(r.group.dirty(u,"__exists"),Object.keys(f).forEach(function(g){r.group.dirty(u,g)})):r.delete(u)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return(0,ye.pi)((0,ye.pi)({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return Ki.call(this.data,t)?(0,ye.pi)((0,ye.pi)({},r),n.prototype.findChildRefIds.call(this,t)):r},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(kw),t6=function(n){function e(t){return n.call(this,"EntityStore.Stump",t,function(){},new Dj(t.group.caching,t.group))||this}return(0,ye.ZT)(e,n),e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(dh);function n6(n,e,t){var r=n[t],i=e[t];return Wi(r,i)?r:i}function Nw(n){return!!(n instanceof kw&&n.group.caching)}function xj(n){return[n.selectionSet,n.objectOrReference,n.context,n.context.canonizeResults]}var r6=function(){function n(e){var t=this;this.knownResults=new(Gp?WeakMap:Map),this.config=mA(e,{addTypename:!1!==e.addTypename,canonizeResults:j2(e)}),this.canon=e.canon||new SN,this.executeSelectionSet=wA(function(r){var i,u=r.context.canonizeResults,l=xj(r);l[3]=!u;var f=(i=t.executeSelectionSet).peek.apply(i,l);return f?u?(0,ye.pi)((0,ye.pi)({},f),{result:t.canon.admit(f.result)}):f:(Aj(r.context.store,r.enclosingRef.__ref),t.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:xj,makeCacheKey:function(r,i,u,l){if(Nw(u.store))return u.store.makeCacheKey(r,Yn(i)?i.__ref:i,u.varString,l)}}),this.executeSubSelectedArray=wA(function(r){return Aj(r.context.store,r.enclosingRef.__ref),t.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var i=r.field,u=r.array,l=r.context;if(Nw(l.store))return l.store.makeCacheKey(i,u,l.varString)}})}return n.prototype.resetCanon=function(){this.canon=new SN},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,i=e.rootId,u=void 0===i?"ROOT_QUERY":i,l=e.variables,f=e.returnPartialData,g=void 0===f||f,_=e.canonizeResults,T=void 0===_?this.config.canonizeResults:_,S=this.config.cache.policies;l=(0,ye.pi)((0,ye.pi)({},mN(_2(r))),l);var O,D=M_(u),x=this.executeSelectionSet({selectionSet:gN(r).selectionSet,objectOrReference:D,enclosingRef:D,context:{store:t,query:r,policies:S,variables:l,varString:zp(l),canonizeResults:T,fragmentMap:lA(fA(r))}});if(x.missing&&(O=[new Sj(i6(x.missing),x.missing,r,l)],!g))throw O[0];return{result:x.result,complete:!O,missing:O}},n.prototype.isFresh=function(e,t,r,i){if(Nw(i.store)&&this.knownResults.get(e)===r){var u=this.executeSelectionSet.peek(r,t,i,this.canon.isKnown(e));if(u&&e===u.result)return!0}return!1},n.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,i=e.objectOrReference,u=e.enclosingRef,l=e.context;if(Yn(i)&&!l.policies.rootTypenamesById[i.__ref]&&!l.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var D,f=l.variables,g=l.policies,T=l.store.getFieldValue(i,"__typename"),S=[],x=new V_;function O(ve,Oe){var Qe;return ve.missing&&(D=x.merge(D,((Qe={})[Oe]=ve.missing,Qe))),ve.result}this.config.addTypename&&"string"==typeof T&&!g.rootIdsByTypename[T]&&S.push({__typename:T});var $=new Set(r.selections);$.forEach(function(ve){var Oe,Qe;if(yA(ve,f))if(Il(ve)){var Ye=g.readField({fieldName:ve.name.value,field:ve,variables:l.variables,from:i},l),ot=Zp(ve);void 0===Ye?ON.added(ve)||(D=x.merge(D,((Oe={})[ot]="Can't find field '".concat(ve.name.value,"' on ").concat(Yn(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),Oe))):si(Ye)?Ye=O(t.executeSubSelectedArray({field:ve,array:Ye,enclosingRef:u,context:l}),ot):ve.selectionSet?null!=Ye&&(Ye=O(t.executeSelectionSet({selectionSet:ve.selectionSet,objectOrReference:Ye,enclosingRef:Yn(Ye)?Ye:u,context:l}),ot)):l.canonizeResults&&(Ye=t.canon.pass(Ye)),void 0!==Ye&&S.push(((Qe={})[ot]=Ye,Qe))}else{var Nt=dN(ve,l.fragmentMap);Nt&&g.fragmentMatches(Nt,T)&&Nt.selectionSet.selections.forEach($.add,$)}});var pe={result:TN(S),missing:D},Re=l.canonizeResults?this.canon.admit(pe):WN(pe);return Re.result&&this.knownResults.set(Re.result,r),Re},n.prototype.execSubSelectedArrayImpl=function(e){var f,t=this,r=e.field,i=e.array,u=e.enclosingRef,l=e.context,g=new V_;function _(T,S){var D;return T.missing&&(f=g.merge(f,((D={})[S]=T.missing,D))),T.result}return r.selectionSet&&(i=i.filter(l.store.canRead)),i=i.map(function(T,S){return null===T?null:si(T)?_(t.executeSubSelectedArray({field:r,array:T,enclosingRef:u,context:l}),S):r.selectionSet?_(t.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:T,enclosingRef:Yn(T)?T:u,context:l}),S):(__DEV__&&function(n,e,t){if(!e.selectionSet){var r=new Set([t]);r.forEach(function(i){Kr(i)&&(__DEV__?gt(!Yn(i),"Missing selection set for object of type ".concat(function(n,e){return Yn(e)?n.get(e.__ref,"__typename"):e&&e.__typename}(n,i)," returned for query field ").concat(e.name.value)):gt(!Yn(i),5),Object.values(i).forEach(r.add,r))})}}(l.store,r,T),T)}),{result:l.canonizeResults?this.canon.admit(i):i,missing:f}},n}();function i6(n){try{JSON.stringify(n,function(e,t){if("string"==typeof t)throw t;return t})}catch(e){return e}}var Rj=Object.create(null);function YN(n){var e=JSON.stringify(n);return Rj[e]||(Rj[e]=Object.create(null))}function Oj(n){var e=YN(n);return e.keyFieldsFn||(e.keyFieldsFn=function(t,r){var i=function(l,f){return r.readField(f,l)},u=r.keyObject=JN(n,function(l){var f=H_(r.storeObject,l,i);return void 0===f&&t!==r.storeObject&&Ki.call(t,l[0])&&(f=H_(t,l,Nj)),__DEV__?gt(void 0!==f,"Missing field '".concat(l.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):gt(void 0!==f,2),f});return"".concat(r.typename,":").concat(JSON.stringify(u))})}function Pj(n){var e=YN(n);return e.keyArgsFn||(e.keyArgsFn=function(t,r){var i=r.field,u=r.variables,l=r.fieldName,f=JN(n,function(_){var T=_[0],S=T.charAt(0);if("@"!==S)if("$"!==S){if(t)return H_(t,_)}else{var $=T.slice(1);if(u&&Ki.call(u,$)){var Y=_.slice(0);return Y[0]=$,H_(u,Y)}}else if(i&&Wp(i.directives)){var D=T.slice(1),x=i.directives.find(function(pe){return pe.name.value===D}),O=x&&dA(x,u);return O&&H_(O,_.slice(1))}}),g=JSON.stringify(f);return(t||"{}"!==g)&&(l+=":"+g),l})}function JN(n,e){var t=new V_;return kj(n).reduce(function(r,i){var u,l=e(i);if(void 0!==l){for(var f=i.length-1;f>=0;--f)(u={})[i[f]]=l,l=u;r=t.merge(r,l)}return r},Object.create(null))}function kj(n){var e=YN(n);if(!e.paths){var t=e.paths=[],r=[];n.forEach(function(i,u){si(i)?(kj(i).forEach(function(l){return t.push(r.concat(l))}),r.length=0):(r.push(i),si(n[u+1])||(t.push(r.slice(0)),r.length=0))})}return e.paths}function Nj(n,e){return n[e]}function H_(n,e,t){return t=t||Nj,Mj(e.reduce(function r(i,u){return si(i)?i.map(function(l){return r(l,u)}):i&&t(i,u)},n))}function Mj(n){return Kr(n)?si(n)?n.map(Mj):JN(Object.keys(n).sort(),function(e){return H_(n,e)}):n}function XN(n){return void 0!==n.args?n.args:n.field?dA(n.field,n.variables):null}hN.setStringify(zp);var a6=function(){},Fj=function(n,e){return e.fieldName},Lj=function(n,e,t){return(0,t.mergeObjects)(n,e)},Uj=function(n,e){return e},u6=function(){function n(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,ye.pi)({dataIdFromObject:U2},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return n.prototype.identify=function(e,t){var r,i=this,u=t&&(t.typename||(null===(r=t.storeObject)||void 0===r?void 0:r.__typename))||e.__typename;if(u===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var g,l=t&&t.storeObject||e,f=(0,ye.pi)((0,ye.pi)({},t),{typename:u,storeObject:l,readField:t&&t.readField||function(){var D=eM(arguments,l);return i.readField(D,{store:i.cache.data,variables:D.variables})}}),_=u&&this.getTypePolicy(u),T=_&&_.keyFn||this.config.dataIdFromObject;T;){var S=T(e,f);if(!si(S)){g=S;break}T=Oj(S)}return g=g?String(g):void 0,f.keyObject?[g,f.keyObject]:[g]},n.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(r){var i=e[r],u=i.queryType,l=i.mutationType,f=i.subscriptionType,g=(0,ye._T)(i,["queryType","mutationType","subscriptionType"]);u&&t.setRootTypename("Query",r),l&&t.setRootTypename("Mutation",r),f&&t.setRootTypename("Subscription",r),Ki.call(t.toBeAdded,r)?t.toBeAdded[r].push(g):t.toBeAdded[r]=[g]})},n.prototype.updateTypePolicy=function(e,t){var r=this,i=this.getTypePolicy(e),u=t.keyFields,l=t.fields;function f(g,_){g.merge="function"==typeof _?_:!0===_?Lj:!1===_?Uj:g.merge}f(i,t.merge),i.keyFn=!1===u?a6:si(u)?Oj(u):"function"==typeof u?u:i.keyFn,l&&Object.keys(l).forEach(function(g){var _=r.getFieldPolicy(e,g,!0),T=l[g];if("function"==typeof T)_.read=T;else{var S=T.keyArgs,D=T.read,x=T.merge;_.keyFn=!1===S?Fj:si(S)?Pj(S):"function"==typeof S?S:_.keyFn,"function"==typeof D&&(_.read=D),f(_,x)}_.read&&_.merge&&(_.keyFn=_.keyFn||Fj)})},n.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];t!==i&&(__DEV__?gt(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):gt(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},n.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){t.getSupertypeSet(r,!0),e[r].forEach(function(i){t.getSupertypeSet(i,!0).add(r);var u=i.match(B2);(!u||u[0]!==i)&&t.fuzzySubtypes.set(i,new RegExp(i))})})},n.prototype.getTypePolicy=function(e){var t=this;if(!Ki.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(l){var f=t.getTypePolicy(l),g=f.fields,_=(0,ye._T)(f,["fields"]);Object.assign(r,_),Object.assign(r.fields,g)})}var u=this.toBeAdded[e];return u&&u.length&&u.splice(0).forEach(function(l){t.updateTypePolicy(e,l)}),this.typePolicies[e]},n.prototype.getFieldPolicy=function(e,t,r){if(e){var i=this.getTypePolicy(e).fields;return i[t]||r&&(i[t]=Object.create(null))}},n.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},n.prototype.fragmentMatches=function(e,t,r,i){var u=this;if(!e.typeCondition)return!0;if(!t)return!1;var l=e.typeCondition.name.value;if(t===l)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(l))for(var f=this.getSupertypeSet(t,!0),g=[f],_=function(O){var $=u.getSupertypeSet(O,!1);$&&$.size&&g.indexOf($)<0&&g.push($)},T=!(!r||!this.fuzzySubtypes.size),S=!1,D=0;D<g.length;++D){var x=g[D];if(x.has(l))return f.has(l)||(S&&__DEV__&&gt.warn("Inferring subtype ".concat(t," of supertype ").concat(l)),f.add(l)),!0;x.forEach(_),T&&D===g.length-1&&IN(e.selectionSet,r,i)&&(T=!1,S=!0,this.fuzzySubtypes.forEach(function(O,$){var Y=t.match(O);Y&&Y[0]===t&&_($)}))}return!1},n.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!(!r||!r.keyFn)},n.prototype.getStoreFieldName=function(e){var u,t=e.typename,r=e.fieldName,i=this.getFieldPolicy(t,r,!1),l=i&&i.keyFn;if(l&&t)for(var f={typename:t,fieldName:r,field:e.field||null,variables:e.variables},g=XN(e);l;){var _=l(g,f);if(!si(_)){u=_||r;break}l=Pj(_)}return void 0===u&&(u=e.field?function(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(i){t[i.name.value]={},i.arguments&&i.arguments.forEach(function(u){return F_(t[i.name.value],u.name,u.value,e)})}));var r=null;return n.arguments&&n.arguments.length&&(r={},n.arguments.forEach(function(i){return F_(r,i.name,i.value,e)})),hN(n.name.value,r,t)}(e.field,e.variables):hN(r,XN(e))),!1===u?r:r===ch(u)?u:r+":"+u},n.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var u=t.store.getFieldValue(r,"__typename");u&&(e.typename=u)}var l=this.getStoreFieldName(e),f=ch(l),g=t.store.getFieldValue(r,l),_=this.getFieldPolicy(e.typename,f,!1),T=_&&_.read;if(T){var S=Vj(this,r,e,t,t.store.getStorage(Yn(r)?r.__ref:r,l));return qN.withValue(this.cache,T,[g,S])}return g}},n.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return r&&r.read},n.prototype.getMergeFunction=function(e,t,r){var i=this.getFieldPolicy(e,t,!1),u=i&&i.merge;return!u&&r&&(u=(i=this.getTypePolicy(r))&&i.merge),u},n.prototype.runMergeFunction=function(e,t,r,i,u){var l=r.field,f=r.typename,g=r.merge;return g===Lj?jj(i.store)(e,t):g===Uj?t:(i.overwrite&&(e=void 0),g(e,t,Vj(this,void 0,{typename:f,fieldName:l.name.value,field:l,variables:i.variables},i,u||Object.create(null))))},n}();function Vj(n,e,t,r,i){var u=n.getStoreFieldName(t),l=ch(u),f=t.variables||r.variables,g=r.store,_=g.toReference,T=g.canRead;return{args:XN(t),field:t.field||null,fieldName:l,storeFieldName:u,variables:f,isReference:Yn,toReference:_,storage:i,cache:n.cache,canRead:T,readField:function(){return n.readField(eM(arguments,e,f),r)},mergeObjects:jj(r.store)}}function eM(n,e,t){var l,r=n[0];return"string"==typeof r?l={fieldName:r,from:n.length>1?n[1]:e}:(l=(0,ye.pi)({},r),Ki.call(l,"from")||(l.from=e)),__DEV__&&void 0===l.from&&__DEV__&&gt.warn("Undefined 'from' passed to readField with arguments ".concat(function(n){var e=PN("stringifyForDisplay");return JSON.stringify(n,function(t,r){return void 0===r?e:r}).split(JSON.stringify(e)).join("<undefined>")}(Array.from(n)))),void 0===l.variables&&(l.variables=t),l}function jj(n){return function(t,r){if(si(t)||si(r))throw __DEV__?new ir("Cannot automatically merge arrays"):new ir(4);if(Kr(t)&&Kr(r)){var i=n.getFieldValue(t,"__typename"),u=n.getFieldValue(r,"__typename");if(i&&u&&i!==u)return r;if(Yn(t)&&j_(r))return n.merge(t.__ref,r),t;if(j_(t)&&Yn(r))return n.merge(t,r.__ref),r;if(j_(t)&&j_(r))return(0,ye.pi)((0,ye.pi)({},t),r)}return r}}function tM(n,e,t){var r="".concat(e).concat(t),i=n.flavors.get(r);return i||n.flavors.set(r,i=n.clientOnly===e&&n.deferred===t?n:(0,ye.pi)((0,ye.pi)({},n),{clientOnly:e,deferred:t})),i}var c6=function(){function n(e,t){this.cache=e,this.reader=t}return n.prototype.writeToStore=function(e,t){var r=this,i=t.query,u=t.result,l=t.dataId,f=t.variables,g=t.overwrite,_=Cw(i),T=new V_;f=(0,ye.pi)((0,ye.pi)({},mN(_)),f);var S={store:e,written:Object.create(null),merge:function(x,O){return T.merge(x,O)},variables:f,varString:zp(f),fragmentMap:lA(fA(i)),overwrite:!!g,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},D=this.processSelectionSet({result:u||Object.create(null),dataId:l,selectionSet:_.selectionSet,mergeTree:{map:new Map},context:S});if(!Yn(D))throw __DEV__?new ir("Could not identify object ".concat(JSON.stringify(u))):new ir(6);return S.incomingById.forEach(function(x,O){var $=x.storeObject,Y=x.mergeTree,pe=x.fieldNodeSet,Re=M_(O);if(Y&&Y.map.size){var ve=r.applyMerges(Y,Re,$,S);if(Yn(ve))return;$=ve}if(__DEV__&&!S.overwrite){var Oe=Object.create(null);pe.forEach(function(ot){ot.selectionSet&&(Oe[ot.name.value]=!0)}),Object.keys($).forEach(function(ot){(function(ot){return!0===Oe[ch(ot)]})(ot)&&!function(ot){var Nt=Y&&Y.map.get(ot);return Boolean(Nt&&Nt.info&&Nt.info.merge)}(ot)&&function(n,e,t,r){var i=function(S){var D=r.getFieldValue(S,t);return"object"==typeof D&&D},u=i(n);if(u){var l=i(e);if(l&&!Yn(u)&&!Wi(u,l)&&!Object.keys(u).every(function(S){return void 0!==r.getFieldValue(l,S)})){var f=r.getFieldValue(n,"__typename")||r.getFieldValue(e,"__typename"),g=ch(t),_="".concat(f,".").concat(g);if(!Hj.has(_)){Hj.add(_);var T=[];!si(u)&&!si(l)&&[u,l].forEach(function(S){var D=r.getFieldValue(S,"__typename");"string"==typeof D&&!T.includes(D)&&T.push(D)}),__DEV__&&gt.warn("Cache data may be lost when replacing the ".concat(g," field of a ").concat(f," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(T.length?"either ensure all objects of type "+T.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(_," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(u).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(l).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(Re,$,ot,S.store)})}e.merge(O,$)}),e.retain(D.__ref),D},n.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,i=e.result,u=e.selectionSet,l=e.context,f=e.mergeTree,g=this.cache.policies,_=Object.create(null),T=r&&g.rootTypenamesById[r]||fN(i,u,l.fragmentMap)||r&&l.store.get(r,"__typename");"string"==typeof T&&(_.__typename=T);var S=function(){var ve=eM(arguments,_,l.variables);if(Yn(ve.from)){var Oe=l.incomingById.get(ve.from.__ref);if(Oe){var Qe=g.readField((0,ye.pi)((0,ye.pi)({},ve),{from:Oe.storeObject}),l);if(void 0!==Qe)return Qe}}return g.readField(ve,l)},D=new Set;this.flattenFields(u,i,l,T).forEach(function(ve,Oe){var Qe,Ye=Zp(Oe),ot=i[Ye];if(D.add(Oe),void 0!==ot){var Nt=g.getStoreFieldName({typename:T,fieldName:Oe.name.value,field:Oe,variables:ve.variables}),zn=qj(f,Nt),In=t.processFieldValue(ot,Oe,Oe.selectionSet?tM(ve,!1,!1):ve,zn),Ia=void 0;Oe.selectionSet&&(Yn(In)||j_(In))&&(Ia=S("__typename",In));var cc=g.getMergeFunction(T,Oe.name.value,Ia);cc?zn.info={field:Oe,typename:T,merge:cc}:$j(f,Nt),_=ve.merge(_,((Qe={})[Nt]=In,Qe))}else __DEV__&&!ve.clientOnly&&!ve.deferred&&!ON.added(Oe)&&!g.getReadFunction(T,Oe.name.value)&&__DEV__&&gt.error("Missing field '".concat(Zp(Oe),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var x=g.identify(i,{typename:T,selectionSet:u,fragmentMap:l.fragmentMap,storeObject:_,readField:S}),$=x[1];r=r||x[0],$&&(_=l.merge(_,$))}catch(ve){if(!r)throw ve}if("string"==typeof r){var Y=M_(r),pe=l.written[r]||(l.written[r]=[]);if(pe.indexOf(u)>=0||(pe.push(u),this.reader&&this.reader.isFresh(i,Y,u,l)))return Y;var Re=l.incomingById.get(r);return Re?(Re.storeObject=l.merge(Re.storeObject,_),Re.mergeTree=nM(Re.mergeTree,f),D.forEach(function(ve){return Re.fieldNodeSet.add(ve)})):l.incomingById.set(r,{storeObject:_,mergeTree:IA(f)?void 0:f,fieldNodeSet:D}),Y}return _},n.prototype.processFieldValue=function(e,t,r,i){var u=this;return t.selectionSet&&null!==e?si(e)?e.map(function(l,f){var g=u.processFieldValue(l,t,r,qj(i,f));return $j(i,f),g}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:i}):__DEV__?Y2(e):e},n.prototype.flattenFields=function(e,t,r,i){void 0===i&&(i=fN(t,e,r.fragmentMap));var u=new Map,l=this.cache.policies,f=new Aw(!1);return function g(_,T){var S=f.lookup(_,T.clientOnly,T.deferred);S.visited||(S.visited=!0,_.selections.forEach(function(D){if(yA(D,r.variables)){var x=T.clientOnly,O=T.deferred;if(!(x&&O)&&Wp(D.directives)&&D.directives.forEach(function(pe){var Re=pe.name.value;if("client"===Re&&(x=!0),"defer"===Re){var ve=dA(pe,r.variables);(!ve||!1!==ve.if)&&(O=!0)}}),Il(D)){var $=u.get(D);$&&(x=x&&$.clientOnly,O=O&&$.deferred),u.set(D,tM(r,x,O))}else{var Y=dN(D,r.fragmentMap);Y&&l.fragmentMatches(Y,i,t,r.variables)&&g(Y.selectionSet,tM(r,x,O))}}}))}(e,r),u},n.prototype.applyMerges=function(e,t,r,i,u){var l,f=this;if(e.map.size&&!Yn(r)){var g=si(r)||!Yn(t)&&!j_(t)?void 0:t,_=r;g&&!u&&(u=[Yn(g)?g.__ref:g]);var T,S=function(D,x){return si(D)?"number"==typeof x?D[x]:void 0:i.store.getFieldValue(D,String(x))};e.map.forEach(function(D,x){var O=S(g,x),$=S(_,x);if(void 0!==$){u&&u.push(x);var Y=f.applyMerges(D,O,$,i,u);Y!==$&&(T=T||new Map).set(x,Y),u&&gt(u.pop()===x)}}),T&&(r=si(_)?_.slice(0):(0,ye.pi)({},_),T.forEach(function(D,x){r[x]=D}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,i,u&&(l=i.store).getStorage.apply(l,u)):r},n}(),Bj=[];function qj(n,e){var t=n.map;return t.has(e)||t.set(e,Bj.pop()||{map:new Map}),t.get(e)}function nM(n,e){if(n===e||!e||IA(e))return n;if(!n||IA(n))return e;var t=n.info&&e.info?(0,ye.pi)((0,ye.pi)({},n.info),e.info):n.info||e.info,r=n.map.size&&e.map.size,u={info:t,map:r?new Map:n.map.size?n.map:e.map};if(r){var l=new Set(e.map.keys());n.map.forEach(function(f,g){u.map.set(g,nM(f,e.map.get(g))),l.delete(g)}),l.forEach(function(f){u.map.set(f,nM(e.map.get(f),n.map.get(f)))})}return u}function IA(n){return!n||!(n.info||n.map.size)}function $j(n,e){var t=n.map,r=t.get(e);r&&IA(r)&&(Bj.push(r),t.delete(e))}var Hj=new Set,d6=function(n){function e(t){void 0===t&&(t={});var r=n.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=UG,r.txCount=0,r.config=function(n){return mA(V2,n)}(t),r.addTypename=!!r.config.addTypename,r.policies=new u6({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return(0,ye.ZT)(e,n),e.prototype.init=function(){var t=this.data=new kw.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},e.prototype.resetResultCache=function(t){var r=this,i=this.storeReader;this.storeWriter=new c6(this,this.storeReader=new r6({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:j2(this.config),canon:t?void 0:i&&i.canon})),this.maybeBroadcastWatch=wA(function(u,l){return r.broadcastWatch(u,l)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(u){var l=u.optimistic?r.optimisticData:r.data;if(Nw(l))return l.makeCacheKey(u.query,u.callback,zp({optimistic:u.optimistic,rootId:u.rootId,variables:u.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(u){return u.resetCaching()})},e.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},e.prototype.extract=function(t){return void 0===t&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var r=t.returnPartialData,i=void 0!==r&&r;try{return this.storeReader.diffQueryAgainstStore((0,ye.pi)((0,ye.pi)({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(u){if(u instanceof Sj)return null;throw u}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},e.prototype.modify=function(t){if(Ki.call(t,"id")&&!t.id)return!1;var r=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(t.id||"ROOT_QUERY",t.fields)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore((0,ye.pi)((0,ye.pi)({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(t){var r=this;return this.watches.size||function(n){Pw(n).vars.forEach(function(e){return e.attachCache(n)})}(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){r.watches.delete(t)&&!r.watches.size&&pj(r),r.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(t){zp.reset();var r=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(t,r){return(r?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,r){return(r?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){if(Yn(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(r){__DEV__&&gt.warn(r)}},e.prototype.evict=function(t){if(!t.id){if(Ki.call(t,"id"))return!1;t=(0,ye.pi)((0,ye.pi)({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},e.prototype.reset=function(t){var r=this;return this.init(),zp.reset(),t&&t.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),pj(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var r=this.optimisticData.removeLayer(t);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(t){var _,r=this,i=t.update,u=t.optimistic,l=void 0===u||u,f=t.removeOptimistic,g=t.onWatchUpdated,T=function(D){var O=r.data,$=r.optimisticData;++r.txCount,D&&(r.data=r.optimisticData=D);try{return _=i(r)}finally{--r.txCount,r.data=O,r.optimisticData=$}},S=new Set;return g&&!this.txCount&&this.broadcastWatches((0,ye.pi)((0,ye.pi)({},t),{onWatchUpdated:function(D){return S.add(D),!1}})),"string"==typeof l?this.optimisticData=this.optimisticData.addLayer(l,T):!1===l?T(this.data):T(),"string"==typeof f&&(this.optimisticData=this.optimisticData.removeLayer(f)),g&&S.size?(this.broadcastWatches((0,ye.pi)((0,ye.pi)({},t),{onWatchUpdated:function(D,x){var O=g.call(this,D,x);return!1!==O&&S.delete(D),O}})),S.size&&S.forEach(function(D){return r.maybeBroadcastWatch.dirty(D)})):this.broadcastWatches(t),_},e.prototype.performTransaction=function(t,r){return this.batch({update:t,optimistic:r||null!==r})},e.prototype.transformDocument=function(t){if(this.addTypename){var r=this.typenameDocumentCache.get(t);return r||(r=ON(t),this.typenameDocumentCache.set(t,r),this.typenameDocumentCache.set(r,r)),r}return t},e.prototype.broadcastWatches=function(t){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,t)})},e.prototype.broadcastWatch=function(t,r){var i=t.lastDiff,u=this.diff(t);r&&(t.optimistic&&"string"==typeof r.optimistic&&(u.fromOptimisticTransaction=!0),r.onWatchUpdated&&!1===r.onWatchUpdated.call(this,t,u,i))||(!i||!Wi(i.result,u.result))&&t.callback(t.lastDiff=u,i)},e}(JG);class h6 extends L_{constructor(e,t){super(),this.httpClient=e,this.options=t,this.print=S2,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new _r(i=>{const u=r.getContext(),l=(Re,ve)=>function(...n){const e=n.find(t=>void 0!==t);return void 0===e?n[n.length-1]:e}(u[Re],this.options[Re],ve);let f=l("method","POST");const g=l("includeQuery",!0),_=l("includeExtensions",!1),T=l("uri","graphql"),S=l("withCredentials"),D=l("useMultipart"),x=!0===this.options.useGETForQueries,O=r.query.definitions.some(Re=>"OperationDefinition"===Re.kind&&"query"===Re.operation);x&&O&&(f="GET");const $={method:f,url:"function"==typeof T?T(r):T,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:S,useMultipart:D,headers:this.options.headers}};_&&($.body.extensions=r.extensions),g&&($.body.query=this.print(r.query));const Y=function(n){let e=n.headers&&n.headers instanceof es?n.headers:new es(n.headers);if(n.clientAwareness){const{name:t,version:r}=n.clientAwareness;t&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",t)),r&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",r))}return e}(u);$.options.headers=((n,e)=>n&&e?e.keys().reduce((r,i)=>r.set(i,e.getAll(i)),n):e||n)($.options.headers,Y);const pe=((n,e,t)=>{const r=-1!==["POST","PUT","PATCH"].indexOf(n.method.toUpperCase()),u=n.body.length;let f,l=n.options&&n.options.useMultipart;if(l){if(u)return new Ir.y(_=>_.error(new Error("File upload is not available when combined with Batching")));if(!r)return new Ir.y(_=>_.error(new Error("File upload is not available when GET is used")));if(!t)return new Ir.y(_=>_.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));f=t(n.body),l=!!f.files.size}let g={};if(u){if(!r)return new Ir.y(_=>_.error(new Error("Batching is not available for GET requests")));g={body:n.body}}else{const _=l?f.clone:n.body;g=r?{body:_}:{params:Object.keys(n.body).reduce((S,D)=>{const x=n.body[D];return S[D]=(_=>-1!==["variables","extensions"].indexOf(_.toLowerCase()))(D)?JSON.stringify(x):x,S},{})}}if(l&&r){const _=new FormData;_.append("operations",JSON.stringify(g.body));const T={},S=f.files;let D=0;S.forEach(x=>{T[++D]=x}),_.append("map",JSON.stringify(T)),D=0,S.forEach((x,O)=>{_.append(++D+"",O,O.name)}),g.body=_}return e.request(n.method,n.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},g),n.options))})($,this.httpClient,this.options.extractFiles).subscribe({next:Re=>{r.setContext({response:Re}),i.next(Re.body)},error:Re=>i.error(Re),complete:()=>i.complete()});return()=>{pe.closed||pe.unsubscribe()}})}request(e){return this.requester(e)}}let f6=(()=>{class n{constructor(t){this.httpClient=t}create(t){return new h6(this.httpClient,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g6(n){return{link:n.create({uri:"http://localhost:4201/graphql"}),cache:new d6}}let m6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:Tj,useFactory:g6,deps:[f6]}],imports:[YG]}),n})(),y6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[xH]}),n.\u0275inj=d.cJS({providers:[iI,Gx,{provide:uE,useValue:ga_firebase.storageBucket}],imports:[[Va,AH,m6,Pu,vC,ss.hO.initializeApp(ga_firebase),AR,cE]]}),n})();(0,d.G48)(),cg().bootstrapModule(y6).catch(n=>console.error(n))},4762:(ct,ke,k)=>{"use strict";k.d(ke,{ZT:()=>Z,pi:()=>F,_T:()=>ue,mG:()=>we,Jh:()=>le,ev:()=>Ce});var d=function(re,se){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,Ae){me.__proto__=Ae}||function(me,Ae){for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&(me[be]=Ae[be])})(re,se)};function Z(re,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function me(){this.constructor=re}d(re,se),re.prototype=null===se?Object.create(se):(me.prototype=se.prototype,new me)}var F=function(){return F=Object.assign||function(se){for(var me,Ae=1,be=arguments.length;Ae<be;Ae++)for(var He in me=arguments[Ae])Object.prototype.hasOwnProperty.call(me,He)&&(se[He]=me[He]);return se},F.apply(this,arguments)};function ue(re,se){var me={};for(var Ae in re)Object.prototype.hasOwnProperty.call(re,Ae)&&se.indexOf(Ae)<0&&(me[Ae]=re[Ae]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(Ae=Object.getOwnPropertySymbols(re);be<Ae.length;be++)se.indexOf(Ae[be])<0&&Object.prototype.propertyIsEnumerable.call(re,Ae[be])&&(me[Ae[be]]=re[Ae[be]])}return me}function we(re,se,me,Ae){return new(me||(me=Promise))(function(He,bt){function an(gn){try{Et(Ae.next(gn))}catch(sr){bt(sr)}}function bn(gn){try{Et(Ae.throw(gn))}catch(sr){bt(sr)}}function Et(gn){gn.done?He(gn.value):function(He){return He instanceof me?He:new me(function(bt){bt(He)})}(gn.value).then(an,bn)}Et((Ae=Ae.apply(re,se||[])).next())})}function le(re,se){var Ae,be,He,bt,me={label:0,sent:function(){if(1&He[0])throw He[1];return He[1]},trys:[],ops:[]};return bt={next:an(0),throw:an(1),return:an(2)},"function"==typeof Symbol&&(bt[Symbol.iterator]=function(){return this}),bt;function an(Et){return function(gn){return function(Et){if(Ae)throw new TypeError("Generator is already executing.");for(;me;)try{if(Ae=1,be&&(He=2&Et[0]?be.return:Et[0]?be.throw||((He=be.return)&&He.call(be),0):be.next)&&!(He=He.call(be,Et[1])).done)return He;switch(be=0,He&&(Et=[2&Et[0],He.value]),Et[0]){case 0:case 1:He=Et;break;case 4:return me.label++,{value:Et[1],done:!1};case 5:me.label++,be=Et[1],Et=[0];continue;case 7:Et=me.ops.pop(),me.trys.pop();continue;default:if(!(He=(He=me.trys).length>0&&He[He.length-1])&&(6===Et[0]||2===Et[0])){me=0;continue}if(3===Et[0]&&(!He||Et[1]>He[0]&&Et[1]<He[3])){me.label=Et[1];break}if(6===Et[0]&&me.label<He[1]){me.label=He[1],He=Et;break}if(He&&me.label<He[2]){me.label=He[2],me.ops.push(Et);break}He[2]&&me.ops.pop(),me.trys.pop();continue}Et=se.call(re,me)}catch(gn){Et=[6,gn],be=0}finally{Ae=He=0}if(5&Et[0])throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}([Et,gn])}}}function Ce(re,se,me){if(me||2===arguments.length)for(var He,Ae=0,be=se.length;Ae<be;Ae++)(He||!(Ae in se))&&(He||(He=Array.prototype.slice.call(se,0,Ae)),He[Ae]=se[Ae]);return re.concat(He||Array.prototype.slice.call(se))}},3394:(ct,ke,k)=>{"use strict";k.d(ke,{Z:()=>je});var d=k(3854),Z=k(3910),F=k(8026),ue=k(5422);class De{constructor(Ie,qe){this._delegate=Ie,this.firebase=qe,(0,F._addComponent)(Ie,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Ie,qe=F._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(Ie);return!Me.isInitialized()&&"EXPLICIT"===(null===(ze=Me.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:qe})}_removeServiceInstance(Ie,qe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(qe)}_addComponent(Ie){(0,F._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,F._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function le(){const Ce=function(Ce){const Ie={},qe={__esModule:!0,initializeApp:function(Te,$e={}){const Ze=F.initializeApp(Te,$e);if((0,d.r3)(Ie,Ze.name))return Ie[Ze.name];const re=new Ce(Ze,qe);return Ie[Ze.name]=re,re},app:Me,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(Te){const $e=Te.name,Ze=$e.replace("-compat","");if(F._registerComponent(Te)&&"PUBLIC"===Te.type){const re=(se=Me())=>{if("function"!=typeof se[Ze])throw Pe.create("invalid-app-argument",{appName:$e});return se[Ze]()};void 0!==Te.serviceProps&&(0,d.ZB)(re,Te.serviceProps),qe[Ze]=re,Ce.prototype[Ze]=function(...se){return this._getService.bind(this,$e).apply(this,Te.multipleInstances?se:[])}}return"PUBLIC"===Te.type?qe[Ze]:null},removeApp:function(Te){delete Ie[Te]},useAsService:function(Te,$e){return"serverAuth"===$e?null:$e},modularAPIs:F}};function Me(Te){if(!(0,d.r3)(Ie,Te=Te||F._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:Te});return Ie[Te]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function(){return Object.keys(Ie).map(Te=>Ie[Te])}}),Me.App=Ce,qe}(De);return Ce.INTERNAL=Object.assign(Object.assign({},Ce.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function(qe){(0,d.ZB)(Ce,qe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ce}(),H=new ue.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=B;(0,F.registerVersion)("@firebase/app-compat","0.1.33",undefined)},8026:(ct,ke,k)=>{"use strict";k.r(ke),k.d(ke,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>dr,_DEFAULT_ENTRY_NAME:()=>bn,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>or,_apps:()=>gn,_clearComponents:()=>vi,_components:()=>sr,_getProvider:()=>pt,_registerComponent:()=>At,_removeServiceInstance:()=>En,deleteApp:()=>Br,getApp:()=>Wn,getApps:()=>jr,initializeApp:()=>jn,onLog:()=>An,registerVersion:()=>sn,setLogLevel:()=>$n});var d=k(8239),Z=k(3910),F=k(5422),ue=k(3854),De=k(300);class _e{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function(G){const J=G.getComponent();return"VERSION"===(null==J?void 0:J.type)}(W)){const Fe=W.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(W=>W).join(" ")}}const we="@firebase/app",B=new F.Yd("@firebase/app"),bn="[DEFAULT]",Et={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,sr=new Map;function Dn(G,J){try{G.container.addComponent(J)}catch(W){B.debug(`Component ${J.name} failed to register with FirebaseApp ${G.name}`,W)}}function or(G,J){G.container.addOrOverwriteComponent(J)}function At(G){const J=G.name;if(sr.has(J))return B.debug(`There were multiple attempts to register component ${J}.`),!1;sr.set(J,G);for(const W of gn.values())Dn(W,G);return!0}function pt(G,J){const W=G.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),G.container.getProvider(J)}function En(G,J,W=bn){pt(G,J).clearInstance(W)}function vi(){sr.clear()}const Kt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vr{constructor(J,W,Fe){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const dr="9.9.4";function jn(G,J={}){"object"!=typeof J&&(J={name:J});const W=Object.assign({name:bn,automaticDataCollectionEnabled:!1},J),Fe=W.name;if("string"!=typeof Fe||!Fe)throw Kt.create("bad-app-name",{appName:String(Fe)});const et=gn.get(Fe);if(et){if((0,ue.vZ)(G,et.options)&&(0,ue.vZ)(W,et.config))return et;throw Kt.create("duplicate-app",{appName:Fe})}const Ct=new Z.H0(Fe);for(const hn of sr.values())Ct.addComponent(hn);const on=new vr(G,W,Ct);return gn.set(Fe,on),on}function Wn(G=bn){const J=gn.get(G);if(!J)throw Kt.create("no-app",{appName:G});return J}function jr(){return Array.from(gn.values())}function Br(G){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(G){const J=G.name;gn.has(J)&&(gn.delete(J),yield Promise.all(G.container.getProviders().map(W=>W.delete())),G.isDeleted=!0)})).apply(this,arguments)}function sn(G,J,W){var Fe;let et=null!==(Fe=Et[G])&&void 0!==Fe?Fe:G;W&&(et+=`-${W}`);const Ct=et.match(/\s|\//),on=J.match(/\s|\//);if(Ct||on){const hn=[`Unable to register library "${et}" with version "${J}":`];return Ct&&hn.push(`library name "${et}" contains illegal characters (whitespace or "/")`),Ct&&on&&hn.push("and"),on&&hn.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void B.warn(hn.join(" "))}At(new Z.wA(`${et}-version`,()=>({library:et,version:J}),"VERSION"))}function An(G,J){if(null!==G&&"function"!=typeof G)throw Kt.create("invalid-log-argument");(0,F.Am)(G,J)}function $n(G){(0,F.Ub)(G)}const ar="firebase-heartbeat-store";let er=null;function Bn(){return er||(er=(0,De.X3)("firebase-heartbeat-database",1,{upgrade:(G,J)=>{0===J&&G.createObjectStore(ar)}}).catch(G=>{throw Kt.create("idb-open",{originalErrorMessage:G.message})})),er}function _t(){return(_t=(0,d.Z)(function*(G){var J;try{return(yield Bn()).transaction(ar).objectStore(ar).get(bi(G))}catch(W){if(W instanceof ue.ZR)B.warn(W.message);else{const Fe=Kt.create("idb-get",{originalErrorMessage:null===(J=W)||void 0===J?void 0:J.message});B.warn(Fe.message)}}})).apply(this,arguments)}function nt(G,J){return un.apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(G,J){var W;try{const et=(yield Bn()).transaction(ar,"readwrite");return yield et.objectStore(ar).put(J,bi(G)),et.done}catch(Fe){if(Fe instanceof ue.ZR)B.warn(Fe.message);else{const et=Kt.create("idb-set",{originalErrorMessage:null===(W=Fe)||void 0===W?void 0:W.message});B.warn(et.message)}}})).apply(this,arguments)}function bi(G){return`${G.name}!${G.options.appId}`}class Fn{constructor(J){this.container=J,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new qr(W),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var J=this;return(0,d.Z)(function*(){const Fe=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=kn();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==et&&!J._heartbeatsCache.heartbeats.some(Ct=>Ct.date===et))return J._heartbeatsCache.heartbeats.push({date:et,agent:Fe}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Ct=>{const on=new Date(Ct.date).valueOf();return Date.now()-on<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,d.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const W=kn(),{heartbeatsToSend:Fe,unsentEntries:et}=function(G,J=1024){const W=[];let Fe=G.slice();for(const et of G){const Ct=W.find(on=>on.agent===et.agent);if(Ct){if(Ct.dates.push(et.date),K(W)>J){Ct.dates.pop();break}}else if(W.push({agent:et.agent,dates:[et.date]}),K(W)>J){W.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:W,unsentEntries:Fe}}(J._heartbeatsCache.heartbeats),Ct=(0,ue.L)(JSON.stringify({version:2,heartbeats:Fe}));return J._heartbeatsCache.lastSentHeartbeatDate=W,et.length>0?(J._heartbeatsCache.heartbeats=et,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Ct})()}}function kn(){return(new Date).toISOString().substring(0,10)}class qr{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,d.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function(G){return _t.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var W=this;return(0,d.Z)(function*(){var Fe;if(yield W._canUseIndexedDBPromise){const Ct=yield W.read();return nt(W.app,{lastSentHeartbeatDate:null!==(Fe=J.lastSentHeartbeatDate)&&void 0!==Fe?Fe:Ct.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var W=this;return(0,d.Z)(function*(){var Fe;if(yield W._canUseIndexedDBPromise){const Ct=yield W.read();return nt(W.app,{lastSentHeartbeatDate:null!==(Fe=J.lastSentHeartbeatDate)&&void 0!==Fe?Fe:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...J.heartbeats]})}})()}}function K(G){return(0,ue.L)(JSON.stringify({version:2,heartbeats:G})).length}At(new Z.wA("platform-logger",J=>new _e(J),"PRIVATE")),At(new Z.wA("heartbeat",J=>new Fn(J),"PRIVATE")),sn(we,"0.7.32",""),sn(we,"0.7.32","esm2017"),sn("fire-js","")},3910:(ct,ke,k)=>{"use strict";k.d(ke,{wA:()=>F,H0:()=>we});var d=k(8239),Z=k(3854);class F{constructor(B,H,oe){this.name=B,this.instanceFactory=H,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ue="[DEFAULT]";class De{constructor(B,H){this.name=B,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const H=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(H)){const oe=new Z.BH;if(this.instancesDeferred.set(H,oe),this.isInitialized(H)||this.shouldAutoInitialize())try{const te=this.getOrInitializeService({instanceIdentifier:H});te&&oe.resolve(te)}catch(te){}}return this.instancesDeferred.get(H).promise}getImmediate(B){var H;const oe=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),te=null!==(H=null==B?void 0:B.optional)&&void 0!==H&&H;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(ge){if(te)return null;throw ge}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if("EAGER"===B.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(H){}for(const[H,oe]of this.instancesDeferred.entries()){const te=this.normalizeInstanceIdentifier(H);try{const ge=this.getOrInitializeService({instanceIdentifier:te});oe.resolve(ge)}catch(ge){}}}}clearInstance(B=ue){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,d.Z)(function*(){const H=Array.from(B.instances.values());yield Promise.all([...H.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...H.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ue){return this.instances.has(B)}getOptions(B=ue){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:H={}}=B,oe=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const te=this.getOrInitializeService({instanceIdentifier:oe,options:H});for(const[ge,je]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(ge)&&je.resolve(te);return te}onInit(B,H){var oe;const te=this.normalizeInstanceIdentifier(H),ge=null!==(oe=this.onInitCallbacks.get(te))&&void 0!==oe?oe:new Set;ge.add(B),this.onInitCallbacks.set(te,ge);const je=this.instances.get(te);return je&&B(je,te),()=>{ge.delete(B)}}invokeOnInitCallbacks(B,H){const oe=this.onInitCallbacks.get(H);if(oe)for(const te of oe)try{te(B,H)}catch(ge){}}getOrInitializeService({instanceIdentifier:B,options:H={}}){let oe=this.instances.get(B);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(le=B,le===ue?void 0:le),options:H}),this.instances.set(B,oe),this.instancesOptions.set(B,H),this.invokeOnInitCallbacks(oe,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,oe)}catch(te){}var le;return oe||null}normalizeInstanceIdentifier(B=ue){return this.component?this.component.multipleInstances?B:ue:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const H=this.getProvider(B.name);if(H.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);H.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const H=new De(B,this);return this.providers.set(B,H),H}getProviders(){return Array.from(this.providers.values())}}},3328:(ct,ke,k)=>{"use strict";var d=k(8239),Z=k(8026),F=k(3910),ue=k(3854),De=k(300);const _e="@firebase/installations",Pe="0.5.12",le=`w:${Pe}`,B="FIS_v2",Ce=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(z){return z instanceof ue.ZR&&z.code.includes("request-failed")}function qe({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function ze(z){return{token:z.token,requestStatus:2,expiresIn:$e(z.expiresIn),creationTime:Date.now()}}function Me(z,de){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(z,de){const ht=(yield de.json()).error;return Ce.create("request-failed",{requestName:z,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function mt({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function tt(z,{refreshToken:de}){const Ve=mt(z);return Ve.append("Authorization",function(z){return`${B} ${z}`}(de)),Ve}function Mt(z){return Te.apply(this,arguments)}function Te(){return(Te=(0,d.Z)(function*(z){const de=yield z();return de.status>=500&&de.status<600?z():de})).apply(this,arguments)}function $e(z){return Number(z.replace("s","000"))}function re(z,de){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*({appConfig:z,heartbeatServiceProvider:de},{fid:Ve}){const ht=qe(z),Sn=mt(z),Bt=de.getImmediate({optional:!0});if(Bt){const wr=yield Bt.getHeartbeatsHeader();wr&&Sn.append("x-firebase-client",wr)}const cn={method:"POST",headers:Sn,body:JSON.stringify({fid:Ve,authVersion:B,appId:z.appId,sdkVersion:le})},Jr=yield Mt(()=>fetch(ht,cn));if(Jr.ok){const wr=yield Jr.json();return{fid:wr.fid||Ve,registrationStatus:2,refreshToken:wr.refreshToken,authToken:ze(wr.authToken)}}throw yield Me("Create Installation",Jr)})).apply(this,arguments)}function me(z){return new Promise(de=>{setTimeout(de,z)})}const be=/^[cdef][\w-]{21}$/;function bt(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const Ve=function(z){return function(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return be.test(Ve)?Ve:""}catch(z){return""}}function bn(z){return`${z.appName}!${z.appId}`}const Et=new Map;function gn(z,de){const Ve=bn(z);or(Ve,de),function(z,de){const Ve=(!pt&&"BroadcastChannel"in self&&(pt=new BroadcastChannel("[Firebase] FID Change"),pt.onmessage=z=>{or(z.data.key,z.data.fid)}),pt);Ve&&Ve.postMessage({key:z,fid:de}),0===Et.size&&pt&&(pt.close(),pt=null)}(Ve,de)}function or(z,de){const Ve=Et.get(z);if(Ve)for(const ht of Ve)ht(de)}let pt=null;const vr="firebase-installations-store";let dr=null;function jn(){return dr||(dr=(0,De.X3)("firebase-installations-database",1,{upgrade:(z,de)=>{0===de&&z.createObjectStore(vr)}})),dr}function Wn(z,de){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(z,de){const Ve=bn(z),Sn=(yield jn()).transaction(vr,"readwrite"),Bt=Sn.objectStore(vr),xn=yield Bt.get(Ve);return yield Bt.put(de,Ve),yield Sn.done,(!xn||xn.fid!==de.fid)&&gn(z,de.fid),de})).apply(this,arguments)}function Br(z){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(z){const de=bn(z),ht=(yield jn()).transaction(vr,"readwrite");yield ht.objectStore(vr).delete(de),yield ht.done})).apply(this,arguments)}function sn(z,de){return An.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(z,de){const Ve=bn(z),Sn=(yield jn()).transaction(vr,"readwrite"),Bt=Sn.objectStore(vr),xn=yield Bt.get(Ve),cn=de(xn);return void 0===cn?yield Bt.delete(Ve):yield Bt.put(cn,Ve),yield Sn.done,cn&&(!xn||xn.fid!==cn.fid)&&gn(z,cn.fid),cn})).apply(this,arguments)}function $n(z){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(z){let de;const Ve=yield sn(z.appConfig,ht=>{const Sn=lt(ht),Bt=ar(z,Sn);return de=Bt.registrationPromise,Bt.installationEntry});return""===Ve.fid?{installationEntry:yield de}:{installationEntry:Ve,registrationPromise:de}})).apply(this,arguments)}function lt(z){return un(z||{fid:bt(),registrationStatus:0})}function ar(z,de){if(0===de.registrationStatus){if(!navigator.onLine)return{installationEntry:de,registrationPromise:Promise.reject(Ce.create("app-offline"))};const Ve={fid:de.fid,registrationStatus:1,registrationTime:Date.now()},ht=function(z,de){return Bn.apply(this,arguments)}(z,Ve);return{installationEntry:Ve,registrationPromise:ht}}return 1===de.registrationStatus?{installationEntry:de,registrationPromise:mn(z)}:{installationEntry:de}}function Bn(){return(Bn=(0,d.Z)(function*(z,de){try{const Ve=yield re(z,de);return Wn(z.appConfig,Ve)}catch(Ve){throw Ie(Ve)&&409===Ve.customData.serverCode?yield Br(z.appConfig):yield Wn(z.appConfig,{fid:de.fid,registrationStatus:0}),Ve}})).apply(this,arguments)}function mn(z){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(z){let de=yield nt(z.appConfig);for(;1===de.registrationStatus;)yield me(100),de=yield nt(z.appConfig);if(0===de.registrationStatus){const{installationEntry:Ve,registrationPromise:ht}=yield $n(z);return ht||Ve}return de})).apply(this,arguments)}function nt(z){return sn(z,de=>{if(!de)throw Ce.create("installation-not-found");return un(de)})}function un(z){return function(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function ur(z,de){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*({appConfig:z,heartbeatServiceProvider:de},Ve){const ht=Fn(z,Ve),Sn=tt(z,Ve),Bt=de.getImmediate({optional:!0});if(Bt){const wr=yield Bt.getHeartbeatsHeader();wr&&Sn.append("x-firebase-client",wr)}const cn={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:le,appId:z.appId}})},Jr=yield Mt(()=>fetch(ht,cn));if(Jr.ok)return ze(yield Jr.json());throw yield Me("Generate Auth Token",Jr)})).apply(this,arguments)}function Fn(z,{fid:de}){return`${qe(z)}/${de}/authTokens:generate`}function kn(z){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(z,de=!1){let Ve;const ht=yield sn(z.appConfig,Bt=>{if(!W(Bt))throw Ce.create("not-registered");const xn=Bt.authToken;if(!de&&Fe(xn))return Bt;if(1===xn.requestStatus)return Ve=qr(z,de),Bt;{if(!navigator.onLine)throw Ce.create("app-offline");const cn=Ct(Bt);return Ve=G(z,cn),cn}});return Ve?yield Ve:ht.authToken})).apply(this,arguments)}function qr(z,de){return K.apply(this,arguments)}function K(){return(K=(0,d.Z)(function*(z,de){let Ve=yield X(z.appConfig);for(;1===Ve.authToken.requestStatus;)yield me(100),Ve=yield X(z.appConfig);const ht=Ve.authToken;return 0===ht.requestStatus?kn(z,de):ht})).apply(this,arguments)}function X(z){return sn(z,de=>{if(!W(de))throw Ce.create("not-registered");return function(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(de.authToken)?Object.assign(Object.assign({},de),{authToken:{requestStatus:0}}):de})}function G(z,de){return J.apply(this,arguments)}function J(){return(J=(0,d.Z)(function*(z,de){try{const Ve=yield ur(z,de),ht=Object.assign(Object.assign({},de),{authToken:Ve});return yield Wn(z.appConfig,ht),Ve}catch(Ve){if(!Ie(Ve)||401!==Ve.customData.serverCode&&404!==Ve.customData.serverCode){const ht=Object.assign(Object.assign({},de),{authToken:{requestStatus:0}});yield Wn(z.appConfig,ht)}else yield Br(z.appConfig);throw Ve}})).apply(this,arguments)}function W(z){return void 0!==z&&2===z.registrationStatus}function Fe(z){return 2===z.requestStatus&&!function(z){const de=Date.now();return de<z.creationTime||z.creationTime+z.expiresIn<de+36e5}(z)}function Ct(z){const de={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:de})}function he(){return(he=(0,d.Z)(function*(z){const de=z,{installationEntry:Ve,registrationPromise:ht}=yield $n(de);return ht?ht.catch(console.error):kn(de).catch(console.error),Ve.fid})).apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(z,de=!1){const Ve=z;return yield V(Ve),(yield kn(Ve,de)).token})).apply(this,arguments)}function V(z){return ie.apply(this,arguments)}function ie(){return(ie=(0,d.Z)(function*(z){const{registrationPromise:de}=yield $n(z);de&&(yield de)})).apply(this,arguments)}function en(z){return Ce.create("missing-app-config-values",{valueName:z})}const Yr="installations";(0,Z._registerComponent)(new F.wA(Yr,z=>{const de=z.getProvider("app").getImmediate(),Ve=function(z){if(!z||!z.options)throw en("App Configuration");if(!z.name)throw en("App Name");const de=["projectId","apiKey","appId"];for(const Ve of de)if(!z.options[Ve])throw en(Ve);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(de);return{app:de,appConfig:Ve,heartbeatServiceProvider:(0,Z._getProvider)(de,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Z._registerComponent)(new F.wA("installations-internal",z=>{const de=z.getProvider("app").getImmediate(),Ve=(0,Z._getProvider)(de,Yr).getImmediate();return{getId:()=>function(z){return he.apply(this,arguments)}(Ve),getToken:Sn=>function(z){return j.apply(this,arguments)}(Ve,Sn)}},"PRIVATE")),(0,Z.registerVersion)(_e,Pe),(0,Z.registerVersion)(_e,Pe,"esm2017")},5422:(ct,ke,k)=>{"use strict";k.d(ke,{in:()=>Z,Yd:()=>Pe,Ub:()=>we,Am:()=>le});const d=[];var Z=(()=>{return(B=Z||(Z={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",Z;var B})();const F={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ue=Z.INFO,De={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},_e=(B,H,...oe)=>{if(H<B.logLevel)return;const te=(new Date).toISOString(),ge=De[H];if(!ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ge](`[${te}]  ${B.name}:`,...oe)};class Pe{constructor(H){this.name=H,this._logLevel=ue,this._logHandler=_e,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Z))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?F[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...H),this._logHandler(this,Z.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...H),this._logHandler(this,Z.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...H),this._logHandler(this,Z.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...H),this._logHandler(this,Z.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...H),this._logHandler(this,Z.ERROR,...H)}}function we(B){d.forEach(H=>{H.setLogLevel(B)})}function le(B,H){for(const oe of d){let te=null;H&&H.level&&(te=F[H.level]),oe.userLogHandler=null===B?null:(ge,je,...Ce)=>{const Ie=Ce.map(qe=>{if(null==qe)return null;if("string"==typeof qe)return qe;if("number"==typeof qe||"boolean"==typeof qe)return qe.toString();if(qe instanceof Error)return qe.message;try{return JSON.stringify(qe)}catch(ze){return null}}).filter(qe=>qe).join(" ");je>=(null!=te?te:ge.logLevel)&&B({level:Z[je].toLowerCase(),message:Ie,args:Ce,type:ge.name})}}}},300:(ct,ke,k)=>{"use strict";k.d(ke,{Lj:()=>rt,X3:()=>Me});var d=k(8239);let F,ue;const Pe=new WeakMap,we=new WeakMap,le=new WeakMap,B=new WeakMap,H=new WeakMap;let ge={get($e,Ze,re){if($e instanceof IDBTransaction){if("done"===Ze)return we.get($e);if("objectStoreNames"===Ze)return $e.objectStoreNames||le.get($e);if("store"===Ze)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return qe($e[Ze])},set:($e,Ze,re)=>($e[Ze]=re,!0),has:($e,Ze)=>$e instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in $e};function Ie($e){return"function"==typeof $e?function($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes($e)?function(...Ze){return $e.apply(ze(this),Ze),qe(Pe.get(this))}:function(...Ze){return qe($e.apply(ze(this),Ze))}:function(Ze,...re){const se=$e.call(ze(this),Ze,...re);return le.set(se,Ze.sort?Ze.sort():[Ze]),qe(se)}}($e):($e instanceof IDBTransaction&&function($e){if(we.has($e))return;const Ze=new Promise((re,se)=>{const me=()=>{$e.removeEventListener("complete",Ae),$e.removeEventListener("error",be),$e.removeEventListener("abort",be)},Ae=()=>{re(),me()},be=()=>{se($e.error||new DOMException("AbortError","AbortError")),me()};$e.addEventListener("complete",Ae),$e.addEventListener("error",be),$e.addEventListener("abort",be)});we.set($e,Ze)}($e),(($e,Ze)=>Ze.some(re=>$e instanceof re))($e,F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy($e,ge):$e)}function qe($e){if($e instanceof IDBRequest)return function($e){const Ze=new Promise((re,se)=>{const me=()=>{$e.removeEventListener("success",Ae),$e.removeEventListener("error",be)},Ae=()=>{re(qe($e.result)),me()},be=()=>{se($e.error),me()};$e.addEventListener("success",Ae),$e.addEventListener("error",be)});return Ze.then(re=>{re instanceof IDBCursor&&Pe.set(re,$e)}).catch(()=>{}),H.set(Ze,$e),Ze}($e);if(B.has($e))return B.get($e);const Ze=Ie($e);return Ze!==$e&&(B.set($e,Ze),H.set(Ze,$e)),Ze}const ze=$e=>H.get($e);function Me($e,Ze,{blocked:re,upgrade:se,blocking:me,terminated:Ae}={}){const be=indexedDB.open($e,Ze),He=qe(be);return se&&be.addEventListener("upgradeneeded",bt=>{se(qe(be.result),bt.oldVersion,bt.newVersion,qe(be.transaction))}),re&&be.addEventListener("blocked",()=>re()),He.then(bt=>{Ae&&bt.addEventListener("close",()=>Ae()),me&&bt.addEventListener("versionchange",()=>me())}).catch(()=>{}),He}function rt($e,{blocked:Ze}={}){const re=indexedDB.deleteDatabase($e);return Ze&&re.addEventListener("blocked",()=>Ze()),qe(re).then(()=>{})}const mt=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],Mt=new Map;function Te($e,Ze){if(!($e instanceof IDBDatabase)||Ze in $e||"string"!=typeof Ze)return;if(Mt.get(Ze))return Mt.get(Ze);const re=Ze.replace(/FromIndex$/,""),se=Ze!==re,me=tt.includes(re);if(!(re in(se?IDBIndex:IDBObjectStore).prototype)||!me&&!mt.includes(re))return;const Ae=function(){var be=(0,d.Z)(function*(He,...bt){const an=this.transaction(He,me?"readwrite":"readonly");let bn=an.store;return se&&(bn=bn.index(bt.shift())),(yield Promise.all([bn[re](...bt),me&&an.done]))[0]});return function(bt){return be.apply(this,arguments)}}();return Mt.set(Ze,Ae),Ae}var $e;ge=Yj(Qj({},$e=ge),{get:(Ze,re,se)=>Te(Ze,re)||$e.get(Ze,re,se),has:(Ze,re)=>!!Te(Ze,re)||$e.has(Ze,re)})},8239:(ct,ke,k)=>{"use strict";function d(F,ue,De,_e,Pe,we,le){try{var B=F[we](le),H=B.value}catch(oe){return void De(oe)}B.done?ue(H):Promise.resolve(H).then(_e,Pe)}function Z(F){return function(){var ue=this,De=arguments;return new Promise(function(_e,Pe){var we=F.apply(ue,De);function le(H){d(we,_e,Pe,le,B,"next",H)}function B(H){d(we,_e,Pe,le,B,"throw",H)}le(void 0)})}}k.d(ke,{Z:()=>Z})}},ct=>{ct(ct.s=1098)}]);