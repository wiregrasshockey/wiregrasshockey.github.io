var W3=Object.defineProperty,K3=Object.defineProperties,Q3=Object.getOwnPropertyDescriptors,RU=Object.getOwnPropertySymbols,Y3=Object.prototype.hasOwnProperty,J3=Object.prototype.propertyIsEnumerable,OU=(ct,Oe,M)=>Oe in ct?W3(ct,Oe,{enumerable:!0,configurable:!0,writable:!0,value:M}):ct[Oe]=M,NU=(ct,Oe)=>{for(var M in Oe||(Oe={}))Y3.call(Oe,M)&&OU(ct,M,Oe[M]);if(RU)for(var M of RU(Oe))J3.call(Oe,M)&&OU(ct,M,Oe[M]);return ct},PU=(ct,Oe)=>K3(ct,Q3(Oe));(self.webpackChunkstat_trak=self.webpackChunkstat_trak||[]).push([[179],{8255:ct=>{function Oe(M){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+M+"'");throw h.code="MODULE_NOT_FOUND",h})}Oe.keys=()=>[],Oe.resolve=Oe,Oe.id=8255,ct.exports=Oe},3018:(ct,Oe,M)=>{"use strict";M.d(Oe,{deG:()=>Kv,tb:()=>s0,AFp:()=>qu,ip1:()=>zi,CZH:()=>rl,hGG:()=>aa,z2F:()=>pl,sBO:()=>DR,Sil:()=>ll,_Vd:()=>Bf,EJc:()=>Kr,SBq:()=>Vs,qLn:()=>dn,vpe:()=>To,gxx:()=>yf,tBr:()=>wc,XFs:()=>lt,OlP:()=>Gn,zs3:()=>vr,ZZ4:()=>gt,aQg:()=>Gc,soG:()=>Uy,YKP:()=>Hi,v3s:()=>wp,h0i:()=>Ba,PXZ:()=>Jd,R0b:()=>Wi,FiY:()=>vo,Lbi:()=>Bn,g9A:()=>yi,Qsj:()=>yR,FYo:()=>qf,JOm:()=>Xo,Tiy:()=>fE,q3G:()=>xr,tp0:()=>Qs,EAV:()=>aS,Rgc:()=>wd,dDg:()=>zn,DyG:()=>Bl,q4F:()=>ly,GfV:()=>pE,s_b:()=>$f,ifc:()=>yn,eFA:()=>c0,G48:()=>XC,X6Q:()=>Yd,_c5:()=>pS,VLi:()=>hl,c2e:()=>bs,zSh:()=>fm,wAp:()=>Lt,vHH:()=>Ne,EiD:()=>Ug,mCW:()=>os,qzn:()=>_,JVY:()=>R,pB0:()=>ft,eBb:()=>ce,L6k:()=>k,LAX:()=>Be,cg1:()=>Qb,Tjo:()=>fS,kL8:()=>Mf,yhl:()=>T,dqk:()=>K,sIi:()=>wf,CqO:()=>qI,QGY:()=>Sf,F4k:()=>km,RDi:()=>Ds,AaK:()=>te,z3N:()=>y,TTD:()=>Nl,xp6:()=>td,uIk:()=>Ms,Suo:()=>zE,Xpm:()=>U,lG2:()=>$n,Yz7:()=>Yt,cJS:()=>pr,oAB:()=>Ct,Yjl:()=>Ht,Y36:()=>fd,_UZ:()=>Ix,GkF:()=>BI,qZA:()=>VI,TgZ:()=>bb,EpF:()=>wb,Ikx:()=>zb,LFG:()=>Ar,$8M:()=>Ul,NdJ:()=>Df,CRH:()=>cp,oxw:()=>Dx,ALo:()=>wC,xi3:()=>TC,Q6J:()=>Pm,MGl:()=>Tb,DdM:()=>jE,VKq:()=>Dy,iGM:()=>ky,MAs:()=>CI,CHM:()=>Dh,LSH:()=>v_,kYT:()=>kt,Udp:()=>KI,YNc:()=>TI,W1O:()=>QE,_uU:()=>jm,Oqu:()=>Ub,hij:()=>pd,AsE:()=>Rf,lnq:()=>Of});var h=M(9765),Z=M(5319),F=M(7574),ue=M(6682),Se=M(2441);var be=M(1307);function le(){return new h.xQ}function $(i){for(let s in i)if(i[s]===$)return s;throw Error("Could not find renamed property on target object.")}function te(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(te).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ue=$({__forward_ref__:$});function Te(i){return i.__forward_ref__=Te,i.toString=function(){return te(this())},i}function we(i){return function(i){return"function"==typeof i&&i.hasOwnProperty(Ue)&&i.__forward_ref__===Te}(i)?i():i}class Ne extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function tt(i){return"string"==typeof i?i:null==i?"":String(i)}function Mt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():tt(i)}function re(i,s){const a=s?` in ${s}`:"";throw new Ne("201",`No provider for ${Mt(i)} found${a}`)}function At(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Yt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function pr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vn(i){return Zn(i,sn)||Zn(i,qn)}function Zn(i,s){return i.hasOwnProperty(s)?i[s]:null}function gr(i){return i&&(i.hasOwnProperty(Dn)||i.hasOwnProperty(Ir))?i[Dn]:null}const sn=$({\u0275prov:$}),Dn=$({\u0275inj:$}),qn=$({ngInjectableDef:$}),Ir=$({ngInjectorDef:$});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let ar;function Un(i){const s=ar;return ar=i,s}function mn(i,s,a){const c=Vn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==s?s:void re(te(i),"Injector")}function nt(i){return{toString:i}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),yn=(()=>((yn=yn||{})[yn.Emulated=0]="Emulated",yn[yn.None=2]="None",yn[yn.ShadowDom=3]="ShadowDom",yn))();const kn="undefined"!=typeof globalThis&&globalThis,Pn="undefined"!=typeof window&&window,hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,K=kn||"undefined"!=typeof global&&global||Pn||hn,Y={},W=[],ke=$({\u0275cmp:$}),et=$({\u0275dir:$}),St=$({\u0275pipe:$}),on=$({\u0275mod:$}),fn=$({\u0275loc:$}),he=$({\u0275fac:$}),q=$({__NG_ELEMENT_ID__:$});let j=0;function U(i){return nt(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||W,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||yn.Emulated,id:"c",styles:i.styles||W,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,p=i.features,m=i.pipes;return c.id+=j++,c.inputs=pn(i.inputs,a),c.outputs=pn(i.outputs),p&&p.forEach(b=>b(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Fe):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(it):null,c})}function Fe(i){return tn(i)||function(i){return i[et]||null}(i)}function it(i){return function(i){return i[St]||null}(i)}const dt={};function Ct(i){return nt(()=>{const s={type:i.type,bootstrap:i.bootstrap||W,declarations:i.declarations||W,imports:i.imports||W,exports:i.exports||W,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(dt[i.id]=i.type),s})}function kt(i,s){return nt(()=>{const a=Tr(i,!0);a.declarations=s.declarations||W,a.imports=s.imports||W,a.exports=s.exports||W})}function pn(i,s){if(null==i)return Y;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}const $n=U;function Ht(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function tn(i){return i[ke]||null}function Tr(i,s){const a=i[on]||null;if(!a&&!0===s)throw new Error(`Type ${te(i)} does not have '\u0275mod' property.`);return a}function ci(i){return Array.isArray(i)&&"object"==typeof i[1]}function Cn(i){return Array.isArray(i)&&!0===i[1]}function ga(i){return 0!=(8&i.flags)}function Ja(i){return 2==(2&i.flags)}function Ci(i){return 1==(1&i.flags)}function Mi(i){return null!==i.template}function ma(i){return 0!=(512&i[2])}function ki(i,s){return i.hasOwnProperty(he)?i[he]:null}class Th{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Nl(){return _a}function _a(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ch),es}function es(){const i=ko(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Y)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Ch(i,s,a,c){const d=ko(i)||function(i,s){return i[Mo]=s}(i,{previous:Y,current:null}),p=d.current||(d.current={}),m=d.previous,b=this.declaredInputs[a],w=m[b];p[b]=new Th(w&&w.currentValue,s,m===Y),i[c]=s}Nl.ngInherit=!0;const Mo="__ngSimpleChanges__";function ko(i){return i[Mo]||null}let Fo;function Ds(i){Fo=i}function Hn(i){return!!i.listen}const V={createRenderer:(i,s)=>void 0!==Fo?Fo:"undefined"!=typeof document?document:void 0};function fe(i){for(;Array.isArray(i);)i=i[0];return i}function It(i,s){return fe(s[i])}function Vt(i,s){return fe(s[i.index])}function cr(i,s){return i.data[s]}function Fn(i,s){return i[s]}function xt(i,s){const a=s[i];return ci(a)?a:a[0]}function Fi(i){return 4==(4&i[2])}function Hs(i){return 128==(128&i[2])}function Li(i,s){return null==s?null:i[s]}function As(i){i[18]=0}function ac(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const Ft={lFrame:cg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sh(){return Ft.bindingsEnabled}function Ge(){return Ft.lFrame.lView}function vn(){return Ft.lFrame.tView}function Dh(i){return Ft.lFrame.contextLView=i,i[8]}function lr(){let i=sg();for(;null!==i&&64===i.type;)i=i.parent;return i}function sg(){return Ft.lFrame.currentTNode}function gs(i,s){const a=Ft.lFrame;a.currentTNode=i,a.isParent=s}function Ah(){return Ft.lFrame.isParent}function Vo(){Ft.lFrame.isParent=!1}function Ia(){return Ft.isInCheckNoChangesMode}function Uo(i){Ft.isInCheckNoChangesMode=i}function Vi(){const i=Ft.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ms(){return Ft.lFrame.bindingIndex}function jo(){return Ft.lFrame.bindingIndex++}function po(i){const s=Ft.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Oh(i,s){const a=Ft.lFrame;a.bindingIndex=a.bindingRootIndex=i,cc(s)}function cc(i){Ft.lFrame.currentDirectiveIndex=i}function Ta(){return Ft.lFrame.currentQueryIndex}function Mh(i){Ft.lFrame.currentQueryIndex=i}function Lv(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Vv(i,s,a){if(a&lt.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=Lv(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const c=Ft.lFrame=ug();return c.currentTNode=s,c.lView=i,!0}function lc(i){const s=ug(),a=i[1];Ft.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ug(){const i=Ft.lFrame,s=null===i?null:i.child;return null===s?cg(i):s}function cg(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function lg(){const i=Ft.lFrame;return Ft.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const J0=lg;function dg(){const i=lg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ui(){return Ft.lFrame.selectedIndex}function Ca(i){Ft.lFrame.selectedIndex=i}function mr(){const i=Ft.lFrame;return cr(i.tView,i.selectedIndex)}function Pl(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:A}=p;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function au(i,s,a){pc(i,s,3,a)}function fc(i,s,a,c){(3&i[2])===a&&pc(i,s,a,c)}function hg(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function pc(i,s,a,c){const p=null!=c?c:-1,m=s.length-1;let b=0;for(let w=void 0!==c?65535&i[18]:0;w<m;w++)if("number"==typeof s[w+1]){if(b=s[w],null!=c&&b>=c)break}else s[w]<0&&(i[18]+=65536),(b<p||-1==p)&&(fg(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function fg(i,s,a,c){const d=a[c]<0,p=a[c+1],b=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Da{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function uu(i,s,a){const c=Hn(i);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const m=a[d++],b=a[d++],w=a[d++];c?i.setAttribute(s,b,w,m):s.setAttributeNS(m,b,w)}else{const m=p,b=a[++d];gg(m)?c&&i.setProperty(s,m,b):c?i.setAttribute(s,m,b):s.setAttribute(m,b),d++}}return d}function yr(i){return 3===i||4===i||6===i}function gg(i){return 64===i.charCodeAt(0)}function mc(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||qv(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function qv(i,s,a,c,d){let p=0,m=i.length;if(-1===s)m=-1;else for(;p<i.length;){const b=i[p++];if("number"==typeof b){if(b===s){m=-1;break}if(b>s){m=p-1;break}}}for(;p<i.length;){const b=i[p];if("number"==typeof b)break;if(b===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==m&&(i.splice(m,0,s),p=m+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function Fl(i){return-1!==i}function yc(i){return 32767&i}function cu(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let mg=!0;function lu(i){const s=mg;return mg=i,s}let kr=0;function xs(i,s){const a=ji(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,ti(c.data,i),ti(s,null),ti(c.blueprint,null));const d=du(i,s),p=i.injectorIndex;if(Fl(d)){const m=yc(d),b=cu(d,s),w=b[1].data;for(let S=0;S<8;S++)s[p+S]=b[m+S]|w[m+S]}return s[p+8]=d,p}function ti(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ji(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function du(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const p=d[1],m=p.type;if(c=2===m?p.declTNode:1===m?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function _c(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(q)&&(c=a[q]),null==c&&(c=a[q]=kr++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function kh(i,s,a){if(a&lt.Optional)return i;re(s,"NodeInjector")}function yg(i,s,a,c){if(a&lt.Optional&&void 0===c&&(c=null),0==(a&(lt.Self|lt.Host))){const d=i[9],p=Un(void 0);try{return d?d.get(s,c,a&lt.Optional):mn(s,c,a&lt.Optional)}finally{Un(p)}}return kh(c,s,a)}function rs(i,s,a,c=lt.Default,d){if(null!==i){const p=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(q)?i[q]:void 0;return"number"==typeof s?s>=0?255&s:Zv:s}(a);if("function"==typeof p){if(!Vv(s,i,c))return c&lt.Host?kh(d,a,c):yg(s,a,c,d);try{const m=p(c);if(null!=m||c&lt.Optional)return m;re(a)}finally{J0()}}else if("number"==typeof p){let m=null,b=ji(i,s),w=-1,S=c&lt.Host?s[16][6]:null;for((-1===b||c&lt.SkipSelf)&&(w=-1===b?du(i,s):s[b+8],-1!==w&&zv(c,!1)?(m=s[1],b=yc(w),s=cu(w,s)):b=-1);-1!==b;){const A=s[1];if(Gs(p,b,A.data)){const O=Gv(b,s,a,m,c,S);if(O!==vg)return O}w=s[b+8],-1!==w&&zv(c,s[1].data[b+8]===S)&&Gs(p,b,s)?(m=A,b=yc(w),s=cu(w,s)):b=-1}}}return yg(s,a,c,d)}const vg={};function Zv(){return new pu(lr(),Ge())}function Gv(i,s,a,c,d,p){const m=s[1],b=m.data[i+8],A=hu(b,m,a,null==c?Ja(b)&&mg:c!=m&&0!=(3&b.type),d&lt.Host&&p===b);return null!==A?fu(s,m,A,b):vg}function hu(i,s,a,c,d){const p=i.providerIndexes,m=s.data,b=1048575&p,w=i.directiveStart,A=p>>20,P=d?b+A:i.directiveEnd;for(let Q=c?b:b+A;Q<P;Q++){const ee=m[Q];if(Q<w&&a===ee||Q>=w&&ee.type===a)return Q}if(d){const Q=m[w];if(Q&&Mi(Q)&&Q.type===a)return w}return null}function fu(i,s,a,c){let d=i[a];const p=s.data;if(function(i){return i instanceof Da}(d)){const m=d;m.resolving&&function(i,s){throw new Ne("200",`Circular dependency in DI detected for ${i}`)}(Mt(p[a]));const b=lu(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?Un(m.injectImpl):null;Vv(i,c,lt.Default);try{d=i[a]=m.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const m=_a(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==w&&Un(w),lu(b),m.resolving=!1,J0()}}return d}function Gs(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function zv(i,s){return!(i&lt.Self||i&lt.Host&&s)}class pu{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return rs(this._tNode,this._lView,s,c,a)}}function Ul(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(yr(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(lr(),i)}const $o="__parameters__";function go(i,s,a){return nt(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const m=new d(...p);return b.annotation=m,b;function b(w,S,A){const O=w.hasOwnProperty($o)?w[$o]:Object.defineProperty(w,$o,{value:[]})[$o];for(;O.length<=A;)O.push(null);return(O[A]=O[A]||[]).push(m),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Gn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kv=new Gn("AnalyzeForEntryComponents"),Bl=Function;function Rs(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Rs(c,s)):s!==i&&s.push(c)}return s}function Ws(i,s){i.forEach(a=>Array.isArray(a)?Ws(a,s):s(a))}function mu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function yu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function li(i,s,a){let c=Zo(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function ss(i,s){const a=Zo(i,s);if(a>=0)return i[1|a]}function Zo(i,s){return function(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),m=i[p<<a];if(s===m)return p<<a;m>s?d=p:c=p+1}return~(d<<a)}(i,s,1)}const _u={},Go="__NG_DI_FLAG__",Os="ngTempTokenPath",Bh=/\n/gm,Ks="__source",Zl=$({provide:String,useValue:$});let Ec;function yo(i){const s=Ec;return Ec=i,s}function i_(i,s=lt.Default){if(void 0===Ec)throw new Error("inject() must be called from an injection context");return null===Ec?mn(i,void 0,s):Ec.get(i,s&lt.Optional?null:void 0,s)}function Ar(i,s=lt.Default){return(ar||i_)(we(i),s)}function zo(i){const s=[];for(let a=0;a<i.length;a++){const c=we(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,p=lt.Default;for(let m=0;m<c.length;m++){const b=c[m],w=iw(b);"number"==typeof w?-1===w?d=b.token:p|=w:d=b}s.push(Ar(d,p))}else s.push(Ar(c))}return s}function Gl(i,s){return i[Go]=s,i.prototype[Go]=s,i}function iw(i){return i[Go]}function o_(i,s,a,c){const d=i[Os];throw s[Ks]&&d.unshift(s[Ks]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=te(s);if(Array.isArray(s))d=s.map(te).join(" -> ");else if("object"==typeof s){let p=[];for(let m in s)if(s.hasOwnProperty(m)){let b=s[m];p.push(m+":"+("string"==typeof b?JSON.stringify(b):te(b)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Bh,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Os]=null,i}const wc=Gl(go("Inject",i=>({token:i})),-1),vo=Gl(go("Optional"),8),Qs=Gl(go("SkipSelf"),4);let Hh;function Wo(i){var s;return(null===(s=function(){if(void 0===Hh&&(Hh=null,K.trustedTypes))try{Hh=K.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Hh}())||void 0===s?void 0:s.createHTML(i))||i}class Ko{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class d_ extends Ko{getTypeName(){return"HTML"}}class h_ extends Ko{getTypeName(){return"Style"}}class f_ extends Ko{getTypeName(){return"Script"}}class p_ extends Ko{getTypeName(){return"URL"}}class E extends Ko{getTypeName(){return"ResourceURL"}}function y(i){return i instanceof Ko?i.changingThisBreaksApplicationSecurity:i}function _(i,s){const a=T(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function T(i){return i instanceof Ko&&i.getTypeName()||null}function R(i){return new d_(i)}function k(i){return new h_(i)}function ce(i){return new f_(i)}function Be(i){return new p_(i)}function ft(i){return new E(i)}class rn{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Wo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Jn{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Wo(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Wo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const ys=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function os(i){return(i=String(i)).match(ys)||i.match(Lg)?i:"unsafe:"+i}function Ns(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function _o(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const Wh=Ns("area,br,col,hr,img,wbr"),Kh=Ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tc=Ns("rp,rt"),Kl=_o(Wh,_o(Kh,Ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_o(Tc,Ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_o(Tc,Kh)),m_=Ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),y_=Ns("srcset"),Iu=_o(m_,y_,Ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ps=Ns("script,style,template");class jD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Kl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Ps.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),m=p.name,b=m.toLowerCase();if(!Iu.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let w=p.value;m_[b]&&(w=os(w)),y_[b]&&(i=w,w=(i=String(i)).split(",").map(s=>os(s.trim())).join(", ")),this.buf.push(" ",m,'="',hw(w),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Kl.hasOwnProperty(a)&&!Wh.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(hw(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const BD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qD=/([^\#-~ |!])/g;function hw(i){return i.replace(/&/g,"&amp;").replace(BD,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(qD,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Js;function Ug(i,s){let a=null;try{Js=Js||function(i){const s=new Jn(i);return function(){try{return!!(new window.DOMParser).parseFromString(Wo(""),"text/html")}catch(i){return!1}}()?new rn(s):s}(i);let c=s?String(s):"";a=Js.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=a.innerHTML,a=Js.getInertBodyElement(c)}while(c!==p);return Wo((new jD).sanitizeChildren(Cc(a)||a))}finally{if(a){const c=Cc(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Cc(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var xr=(()=>((xr=xr||{})[xr.NONE=0]="NONE",xr[xr.HTML=1]="HTML",xr[xr.STYLE=2]="STYLE",xr[xr.SCRIPT=3]="SCRIPT",xr[xr.URL=4]="URL",xr[xr.RESOURCE_URL=5]="RESOURCE_URL",xr))();function v_(i){const s=function(){const i=Ge();return i&&i[12]}();return s?s.sanitize(xr.URL,i)||"":_(i,"URL")?y(i):os(tt(i))}const b_="__ngContext__";function di(i,s){i[b_]=s}function E_(i){const s=function(i){return i[b_]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Yh(i){return i.ngOriginalError}function Dc(i,...s){i.error(...s)}class dn{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),d=(i=s)&&i.ngErrorLogger||Dc;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(Yh(s)):null}_findOriginalError(s){let a=s&&Yh(s);for(;a&&Yh(a);)a=Yh(a);return a||null}}const qg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K))();function Jo(i){return i instanceof Function?i():i}var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();function x_(i,s){return undefined(i,s)}function xc(i){const s=i[3];return Cn(s)?s[3]:s}function Zg(i){return Cw(i[13])}function Gg(i){return Cw(i[4])}function Cw(i){for(;null!==i&&!Cn(i);)i=i[4];return i}function Rc(i,s,a,c,d){if(null!=c){let p,m=!1;Cn(c)?p=c:ci(c)&&(m=!0,c=c[0]);const b=fe(c);0===i&&null!==a?null==d?Wg(s,a,b):Oc(s,a,b,d||null,!0):1===i&&null!==a?Oc(s,a,b,d||null,!0):2===i?function(i,s,a){const c=Kg(i,s);c&&function(i,s,a,c){Hn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,b,m):3===i&&s.destroyNode(b),null!=p&&function(i,s,a,c,d){const p=a[7];p!==fe(a)&&Rc(s,i,c,p,d);for(let b=10;b<a.length;b++){const w=a[b];eo(w[1],w,i,s,c,p)}}(s,i,p,a,d)}}function sf(i,s,a){return Hn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function xw(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ac(d,-1)),a.splice(c,1)}function P_(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&xw(d,c),s>0&&(i[a-1][4]=c[4]);const p=yu(i,10+s);!function(i,s){eo(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const m=p[19];null!==m&&m.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Rw(i,s){if(!(256&s[2])){const a=s[11];Hn(a)&&a.destroyNode&&eo(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Xl(i[1],i);for(;s;){let a=null;if(ci(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)ci(s)&&Xl(s[1],s),s=s[3];null===s&&(s=i),ci(s)&&Xl(s[1],s),a=s&&s[4]}s=a}}(s)}}function Xl(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Da)){const p=a[c+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const b=d[p[m]],w=p[m+1];try{w.call(b)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const m=a[p+1],b="function"==typeof m?m(s):fe(s[m]),w=c[d=a[p+2]],S=a[p+3];"boolean"==typeof S?b.removeEventListener(a[p],w,S):S>=0?c[d=S]():c[d=-S].unsubscribe(),p+=2}else{const m=c[d=a[p+1]];a[p].call(m)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();s[7]=null}}(i,s),1===s[1].type&&Hn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Cn(s[3])){a!==s[3]&&xw(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function k_(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===yn.None||d===yn.Emulated)return null}return Vt(c,a)}(i,s.parent,a)}function Oc(i,s,a,c,d){Hn(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function Wg(i,s,a){Hn(i)?i.appendChild(s,a):s.appendChild(a)}function Ow(i,s,a,c,d){null!==c?Oc(i,s,a,c,d):Wg(i,s,a)}function Kg(i,s){return Hn(i)?i.parentNode(s):s.parentNode}let Qg=function(i,s,a){return 40&i.type?Vt(i,a):null};function cf(i,s,a,c){const d=k_(i,c,s),p=s[11],b=function(i,s,a){return Qg(i,s,a)}(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)Ow(p,d,a[w],b,!1);else Ow(p,d,a,b,!1)}function Yg(i,s){if(null!==s){const a=s.type;if(3&a)return Vt(s,i);if(4&a)return Jg(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Yg(i,c);{const d=i[s.index];return Cn(d)?Jg(-1,d):fe(d)}}if(32&a)return x_(s,i)()||fe(i[s.index]);{const c=Mw(i,s);return null!==c?Array.isArray(c)?c[0]:Yg(xc(i[16]),c):Yg(i,s.next)}}return null}function Mw(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Jg(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Yg(c,d)}return s[7]}function lf(i,s,a,c,d,p,m){for(;null!=a;){const b=c[a.index],w=a.type;if(m&&0===s&&(b&&di(fe(b),c),a.flags|=4),64!=(64&a.flags))if(8&w)lf(i,s,a.child,c,d,p,!1),Rc(s,i,d,b,p);else if(32&w){const S=x_(a,c);let A;for(;A=S();)Rc(s,i,d,A,p);Rc(s,i,d,b,p)}else 16&w?Cu(i,s,c,a,d,p):Rc(s,i,d,b,p);a=m?a.projectionNext:a.next}}function eo(i,s,a,c,d,p){lf(a,c,i.firstChild,s,d,p,!1)}function Cu(i,s,a,c,d,p){const m=a[16],w=m[6].projection[c.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)Rc(s,i,d,w[S],p);else lf(i,s,w,m[3],d,p,!0)}function Fw(i,s,a){Hn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function U_(i,s,a){Hn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function ed(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const em="ng-template";function Lw(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==ed(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Vw(i){return 4===i.type&&i.value!==em}function sA(i,s,a){return s===(4!==i.type||a?i.value:em)}function j_(i,s,a){let c=4;const d=i.attrs||[],p=function(i){for(let s=0;s<i.length;s++)if(yr(i[s]))return s;return i.length}(d);let m=!1;for(let b=0;b<s.length;b++){const w=s[b];if("number"!=typeof w){if(!m)if(4&c){if(c=2|1&c,""!==w&&!sA(i,w,a)||""===w&&1===s.length){if(Rr(c))return!1;m=!0}}else{const S=8&c?w:s[++b];if(8&c&&null!==i.attrs){if(!Lw(i.attrs,S,a)){if(Rr(c))return!1;m=!0}continue}const O=Uw(8&c?"class":w,d,Vw(i),a);if(-1===O){if(Rr(c))return!1;m=!0;continue}if(""!==S){let P;P=O>p?"":d[O+1].toLowerCase();const Q=8&c?P:null;if(Q&&-1!==ed(Q,S,0)||2&c&&S!==P){if(Rr(c))return!1;m=!0}}}}else{if(!m&&!Rr(c)&&!Rr(w))return!1;if(m&&Rr(w))continue;m=!1,c=w|1&c}}return Rr(c)||m}function Rr(i){return 0==(1&i)}function Uw(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)p=!0;else{if(1===m||2===m){let b=s[++d];for(;"string"==typeof b;)b=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=p?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function B_(i,s,a=!1){for(let c=0;c<s.length;c++)if(j_(i,s[c],a))return!0;return!1}function jw(i,s){return i?":not("+s.trim()+")":s}function uA(i){let s=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&c){const b=i[++a];d+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!Rr(m)&&(s+=jw(p,d),d=""),c=m,p=p||!Rr(c);a++}return""!==d&&(s+=jw(p,d)),s}const Jt={};function td(i){q_(vn(),Ge(),Ui()+i,Ia())}function q_(i,s,a,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&au(s,p,a)}else{const p=i.preOrderHooks;null!==p&&fc(s,p,0,a)}Ca(a)}function Nc(i,s){return i<<17|s<<2}function to(i){return i>>17&32767}function $_(i){return 2|i}function Oa(i){return(131068&i)>>2}function H_(i,s){return-131069&i|s<<2}function Z_(i){return 1|i}function Qw(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const m=i.data[p];Mh(d),m.contentQueries(2,s[p],p)}}}function ff(i,s,a,c,d,p,m,b,w,S){const A=s.blueprint.slice();return A[0]=d,A[2]=140|c,As(A),A[3]=A[15]=i,A[8]=a,A[10]=m||i&&i[10],A[11]=b||i&&i[11],A[12]=w||i&&i[12]||null,A[9]=S||i&&i[9]||null,A[6]=p,A[16]=2==s.type?i[16]:A,A}function id(i,s,a,c,d){let p=i.data[s];if(null===p)p=function(i,s,a,c,d){const p=sg(),m=Ah(),w=i.data[s]=function(i,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==p&&(m?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(i,s,a,c,d),Ft.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const m=function(){const i=Ft.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===m?-1:m.injectorIndex}return gs(p,!0),p}function kc(i,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function pf(i,s,a){lc(s);try{const c=i.viewQuery;null!==c&&oI(1,c,a);const d=i.template;null!==d&&Yw(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Qw(i,s),i.staticViewQueries&&oI(2,i.viewQuery,a);const p=i.components;null!==p&&function(i,s){for(let a=0;a<s.length;a++)_M(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,dg()}}function sd(i,s,a,c){const d=s[2];if(256==(256&d))return;lc(s);const p=Ia();try{As(s),function(i){Ft.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Yw(i,s,a,2,c);const m=3==(3&d);if(!p)if(m){const S=i.preOrderCheckHooks;null!==S&&au(s,S,null)}else{const S=i.preOrderHooks;null!==S&&fc(s,S,0,null),hg(s,0)}if(function(i){for(let s=Zg(i);null!==s;s=Gg(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(1024&d[2])&&ac(p,1),d[2]|=1024}}}(s),function(i){for(let s=Zg(i);null!==s;s=Gg(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];Hs(c)&&sd(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&Qw(i,s),!p)if(m){const S=i.contentCheckHooks;null!==S&&au(s,S)}else{const S=i.contentHooks;null!==S&&fc(s,S,1),hg(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Ca(~d);else{const p=d,m=a[++c],b=a[++c];Oh(m,p),b(2,s[p])}}}finally{Ca(-1)}}(i,s);const b=i.components;null!==b&&function(i,s){for(let a=0;a<s.length;a++)dm(i,s[a])}(s,b);const w=i.viewQuery;if(null!==w&&oI(2,w,c),!p)if(m){const S=i.viewCheckHooks;null!==S&&au(s,S)}else{const S=i.viewHooks;null!==S&&fc(s,S,2),hg(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ac(s[3],-1))}finally{dg()}}function qi(i,s,a,c){const d=s[10],p=!Ia(),m=Fi(s);try{p&&!m&&d.begin&&d.begin(),m&&pf(i,s,c),sd(i,s,a,c)}finally{p&&!m&&d.end&&d.end()}}function Yw(i,s,a,c,d){const p=Ui(),m=2&c;try{Ca(-1),m&&s.length>20&&q_(i,s,20,Ia()),a(c,d)}finally{Ca(p)}}function gf(i,s,a){if(ga(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const m=i.data[p];m.contentQueries&&m.contentQueries(1,a[p],p)}}}function mf(i,s,a){!Sh()||(function(i,s,a,c){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||xs(a,s),di(c,s);const m=a.initialInputs;for(let b=d;b<p;b++){const w=i.data[b],S=Mi(w);S&&xA(s,a,w);const A=fu(s,i,b,a);di(A,s),null!==m&&Su(0,b-d,A,w,0,m),S&&(xt(a.index,s)[8]=A)}}(i,s,a,Vt(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,d=a.directiveEnd,m=a.index,b=Ft.lFrame.currentDirectiveIndex;try{Ca(m);for(let w=c;w<d;w++){const S=i.data[w],A=s[w];cc(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&cm(S,A)}}finally{Ca(-1),cc(b)}}(i,s,a))}function na(i,s,a=Vt){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const m=c[p+1],b=-1===m?a(s,i):i[m];i[d++]=b}}}function Fc(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=am(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function am(i,s,a,c,d,p,m,b,w,S){const A=20+c,O=A+d,P=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Jt);return a}(A,O),Q="function"==typeof S?S():S;return P[1]={type:i,blueprint:P,template:a,queries:null,viewQuery:b,declTNode:s,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:Q,incompleteFirstPass:!1}}function Jw(i,s,a,c){const d=NA(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&PA(i).push(c,d.length-1))}function Y_(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function ri(i,s,a,c,d,p,m,b){const w=Vt(s,a);let A,S=s.inputs;!b&&null!=S&&(A=S[c])?(FA(i,a,A,c,d),Ja(s)&&function(i,s){const a=xt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=m?m(d,s.value||"",c):d,Hn(p)?p.setProperty(w,c,d):gg(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function eb(i,s,a,c){let d=!1;if(Sh()){const p=function(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const m=c[p];B_(a,m.selectors,!1)&&(d||(d=[]),_c(xs(a,s),i,m.type),Mi(m)?(tI(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===c?null:{"":-1};if(null!==p){d=!0,AA(a,i.data.length,p.length);for(let A=0;A<p.length;A++){const O=p[A];O.providersResolver&&O.providersResolver(O)}let b=!1,w=!1,S=kc(i,s,p.length,null);for(let A=0;A<p.length;A++){const O=p[A];a.mergedAttrs=mc(a.mergedAttrs,O.hostAttrs),nb(i,a,s,S,O),DA(S,O,m),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const P=O.type.prototype;!b&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),S++}!function(i,s){const c=s.directiveEnd,d=i.data,p=s.attrs,m=[];let b=null,w=null;for(let S=s.directiveStart;S<c;S++){const A=d[S],O=A.inputs,P=null===p||Vw(s)?null:lm(O,p);m.push(P),b=Y_(O,S,b),w=Y_(A.outputs,S,w)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=b,s.outputs=w}(i,a)}m&&function(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new Ne("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],p)}}}(a,c,m)}return a.mergedAttrs=mc(a.mergedAttrs,a.attrs),d}function tb(i,s,a,c,d,p){const m=p.hostBindings;if(m){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=w&&b.push(w),b.push(c,d,m)}}function cm(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function tI(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function DA(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Mi(s)&&(a[""]=i)}}function AA(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function nb(i,s,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=ki(d.type)),m=new Da(p,Mi(d),null);i.blueprint[c]=m,a[c]=m,tb(i,s,0,c,kc(i,a,d.hostVars,Jt),d)}function xA(i,s,a){const c=Vt(s,i),d=Fc(a),p=i[10],m=hm(i,ff(i,d,null,a.onPush?64:16,c,s,p,p.createRenderer(c,a),null,null));i[s.index]=m}function Kt(i,s,a,c,d,p){const m=Vt(i,s);!function(i,s,a,c,d,p,m){if(null==p)Hn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const b=null==m?tt(p):m(p,c||"",d);Hn(i)?i.setAttribute(s,d,b,a):a?s.setAttributeNS(a,d,b):s.setAttribute(d,b)}}(s[11],m,p,i.value,a,c,d)}function Su(i,s,a,c,d,p){const m=p[s];if(null!==m){const b=c.setInput;for(let w=0;w<m.length;){const S=m[w++],A=m[w++],O=m[w++];null!==b?c.setInput(a,O,S,A):a[A]=O}}}function lm(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function rI(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function dm(i,s){const a=xt(s,i);if(Hs(a)){const c=a[1];80&a[2]?sd(c,a,c.template,a[8]):a[5]>0&&rb(a)}}function rb(i){for(let c=Zg(i);null!==c;c=Gg(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const m=p[1];sd(m,p,m.template,p[8])}else p[5]>0&&rb(p)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=xt(a[c],i);Hs(d)&&d[5]>0&&rb(d)}}function _M(i,s){const a=xt(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),pf(c,a,a[8])}function hm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function sb(i){for(;i;){i[2]|=64;const s=xc(i);if(ma(i)&&!s)return i;i=s}return null}function ob(i,s,a){const c=s[10];c.begin&&c.begin();try{sd(i,s,i.template,a)}catch(d){throw kA(s,d),d}finally{c.end&&c.end()}}function RA(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=E_(a),d=c[1];qi(d,c,d.template,a)}}(i[8])}function oI(i,s,a){Mh(0),s(i,a)}const wM=(()=>Promise.resolve(null))();function NA(i){return i[7]||(i[7]=[])}function PA(i){return i.cleanup||(i.cleanup=[])}function kA(i,s){const a=i[9],c=a?a.get(dn,null):null;c&&c.handleError(s)}function FA(i,s,a,c,d){for(let p=0;p<a.length;){const m=a[p++],b=a[p++],w=s[m],S=i.data[m];null!==S.setInput?S.setInput(w,d,c,b):w[b]=d}}function Du(i,s,a){const c=It(s,i);!function(i,s,a){Hn(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function ab(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b?p=b:1==p?d=pe(d,b):2==p&&(c=pe(c,b+": "+s[++m]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const yf=new Gn("INJECTOR",-1);class LA{get(s,a=_u){if(a===_u){const c=new Error(`NullInjectorError: No provider for ${te(s)}!`);throw c.name="NullInjectorError",c}return a}}const fm=new Gn("Set Injector scope."),pm={},CM={};let aI;function VA(){return void 0===aI&&(aI=new LA),aI}function UA(i,s=null,a=null,c){return new DM(i,a,s||VA(),c)}class DM{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Ws(a,b=>this.processProvider(b,s,a)),Ws([s],b=>this.processInjectorType(b,[],p)),this.records.set(yf,vf(void 0,this));const m=this.records.get(fm);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:te(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=_u,c=lt.Default){this.assertNotDestroyed();const d=yo(this),p=Un(void 0);try{if(!(c&lt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Gn)&&Vn(s);b=w&&this.injectableDefInScope(w)?vf(uI(s),pm):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(c&lt.Self?VA():this.parent).get(s,a=c&lt.Optional&&a===_u?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[Os]=m[Os]||[]).unshift(te(s)),d)throw m;return o_(m,s,"R3InjectorError",this.source)}throw m}finally{Un(p),yo(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(te(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=we(s)))return!1;let d=gr(s);const p=null==d&&s.ngModule||void 0,m=void 0===p?s:p,b=-1!==c.indexOf(m);if(void 0!==p&&(d=gr(p)),null==d)return!1;if(null!=d.imports&&!b){let A;c.push(m);try{Ws(d.imports,O=>{this.processInjectorType(O,a,c)&&(void 0===A&&(A=[]),A.push(O))})}finally{}if(void 0!==A)for(let O=0;O<A.length;O++){const{ngModule:P,providers:Q}=A[O];Ws(Q,ee=>this.processProvider(ee,P,Q||W))}}this.injectorDefTypes.add(m);const w=ki(m)||(()=>new m);this.records.set(m,vf(w,pm));const S=d.providers;if(null!=S&&!b){const A=s;Ws(S,O=>this.processProvider(O,A,S))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,c){let d=_f(s=we(s))?s:we(s&&s.provide);const p=(i=s,BA(i)?vf(void 0,i.useValue):vf(function(i,s,a){let c;if(_f(i)){const d=we(i);return ki(d)||uI(d)}if(BA(i))c=()=>we(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...zo(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Ar(we(i.useExisting));else{const d=we(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return ki(d)||uI(d);c=()=>new d(...zo(i.deps))}return c}(i),pm));var i;if(_f(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=vf(void 0,pm,!0),m.factory=()=>zo(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===pm&&(a.value=CM,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=we(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function uI(i){const s=Vn(i),a=null!==s?s.factory:ki(i);if(null!==a)return a;if(i instanceof Gn)throw new Error(`Token ${te(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=function(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?");throw new Error(`Can't resolve all parameters for ${te(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[sn]||i[qn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function vf(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function BA(i){return null!==i&&"object"==typeof i&&Zl in i}function _f(i){return"function"==typeof i}const qA=function(i,s,a){return function(i,s=null,a=null,c){const d=UA(i,s,a,c);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let vr=(()=>{class i{static create(a,c){return Array.isArray(a)?qA(a,c,""):qA(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=_u,i.NULL=new LA,i.\u0275prov=Yt({token:i,providedIn:"any",factory:()=>Ar(yf)}),i.__NG_ELEMENT_ID__=-1,i})();function nx(i,s){Pl(E_(i)[1],lr())}let ka=null;function Lc(){if(!ka){const i=K.Symbol;if(i&&i.iterator)ka=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ka=c)}}}return ka}class Eo{constructor(s){this.wrapped=s}static wrap(s){return new Eo(s)}static unwrap(s){return Eo.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Eo}}function wf(i){return!!_m(i)&&(Array.isArray(i)||!(i instanceof Map)&&Lc()in i)}function _m(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function no(i,s,a){return i[s]=a}function Di(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Vc(i,s,a,c){const d=Di(i,s,a);return Di(i,s+1,c)||d}function Ms(i,s,a,c){const d=Ge();return Di(d,jo(),s)&&(vn(),Kt(mr(),d,i,s,a,c)),Ms}function xu(i,s,a,c){return Di(i,jo(),a)?s+tt(a)+c:Jt}function ad(i,s,a,c,d,p,m,b){const S=function(i,s,a,c,d){const p=Vc(i,s,a,c);return Di(i,s+2,d)||p}(i,ms(),a,d,m);return po(3),S?s+tt(a)+c+tt(d)+p+tt(m)+b:Jt}function TI(i,s,a,c,d,p,m,b){const w=Ge(),S=vn(),A=i+20,O=S.firstCreatePass?function(i,s,a,c,d,p,m,b,w){const S=s.consts,A=id(s,i,4,m||null,Li(S,b));eb(s,a,A,Li(S,w)),Pl(s,A);const O=A.tViews=am(2,A,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,A),O.queries=s.queries.embeddedTView(A)),A}(A,S,w,s,a,c,d,p,m):S.data[A];gs(O,!1);const P=w[11].createComment("");cf(S,w,P,O),di(P,w),hm(w,w[A]=rI(P,w,P,O)),Ci(O)&&mf(S,w,O),null!=m&&na(w,O,b)}function CI(i){return Fn(Ft.lFrame.contextLView,20+i)}function fd(i,s=lt.Default){const a=Ge();return null===a?Ar(i,s):rs(lr(),a,we(i),s)}function Pm(i,s,a){const c=Ge();return Di(c,jo(),s)&&ri(vn(),mr(),c,i,s,c[11],a,!1),Pm}function Mm(i,s,a,c,d){const m=d?"class":"style";FA(i,a,s.inputs[m],m,c)}function bb(i,s,a,c){const d=Ge(),p=vn(),m=20+i,b=d[11],w=d[m]=sf(b,s,Ft.lFrame.currentNamespace),S=p.firstCreatePass?function(i,s,a,c,d,p,m){const b=s.consts,S=id(s,i,2,d,Li(b,p));return eb(s,a,S,Li(b,m)),null!==S.attrs&&ab(S,S.attrs,!1),null!==S.mergedAttrs&&ab(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(m,p,d,0,s,a,c):p.data[m];gs(S,!0);const A=S.mergedAttrs;null!==A&&uu(b,w,A);const O=S.classes;null!==O&&U_(b,w,O);const P=S.styles;null!==P&&Fw(b,w,P),64!=(64&S.flags)&&cf(p,d,w,S),0===Ft.lFrame.elementDepthCount&&di(w,d),Ft.lFrame.elementDepthCount++,Ci(S)&&(mf(p,d,S),gf(p,S,d)),null!==c&&na(d,S)}function VI(){let i=lr();Ah()?Vo():(i=i.parent,gs(i,!1));const s=i;Ft.lFrame.elementDepthCount--;const a=vn();a.firstCreatePass&&(Pl(a,i),ga(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Mm(a,s,Ge(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Mm(a,s,Ge(),s.stylesWithoutHost,!1)}function Ix(i,s,a,c){bb(i,s,a,c),VI()}function BI(i,s,a){(function(i,s,a){const c=Ge(),d=vn(),p=i+20,m=d.firstCreatePass?function(i,s,a,c,d){const p=s.consts,m=Li(p,c),b=id(s,i,8,"ng-container",m);return null!==m&&ab(b,m,!0),eb(s,a,b,Li(p,d)),null!==s.queries&&s.queries.elementStart(s,b),b}(p,d,c,s,a):d.data[p];gs(m,!0);const b=c[p]=c[11].createComment("");cf(d,c,b,m),di(b,c),Ci(m)&&(mf(d,c,m),gf(d,m,c)),null!=a&&na(c,m)})(i,s,a),function(){let i=lr();const s=vn();Ah()?Vo():(i=i.parent,gs(i,!1)),s.firstCreatePass&&(Pl(s,i),ga(i)&&s.queries.elementEnd(i))}()}function wb(){return Ge()}function Sf(i){return!!i&&"function"==typeof i.then}function km(i){return!!i&&"function"==typeof i.subscribe}const qI=km;function Df(i,s,a,c){const d=Ge(),p=vn(),m=lr();return function(i,s,a,c,d,p,m,b){const w=Ci(c),A=i.firstCreatePass&&PA(i),O=s[8],P=NA(s);let Q=!0;if(3&c.type||b){const ae=Vt(c,s),Ye=b?b(ae):ae,Me=P.length,Nt=b?Gt=>b(fe(Gt[c.index])):c.index;if(Hn(a)){let Gt=null;if(!b&&w&&(Gt=function(i,s,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const m=d[p];if(m===a&&d[p+1]===c){const b=s[7],w=d[p+2];return b.length>w?b[w]:null}"string"==typeof m&&(p+=2)}return null}(i,s,d,c.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=p,Gt.__ngLastListenerFn__=p,Q=!1;else{p=Ib(c,s,O,p,!1);const En=a.listen(Ye,d,p);P.push(p,En),A&&A.push(d,Nt,Me,Me+1)}}else p=Ib(c,s,O,p,!0),Ye.addEventListener(d,p,m),P.push(p),A&&A.push(d,Nt,Me,m)}else p=Ib(c,s,O,p,!1);const ee=c.outputs;let Ce;if(Q&&null!==ee&&(Ce=ee[d])){const ae=Ce.length;if(ae)for(let Ye=0;Ye<ae;Ye+=2){const oi=s[Ce[Ye]][Ce[Ye+1]].subscribe(p),lo=P.length;P.push(p,oi),A&&A.push(d,c.index,lo,-(lo+1))}}}(p,d,d[11],m,i,s,!!a,c),Df}function $I(i,s,a,c){try{return!1!==a(c)}catch(d){return kA(i,d),!1}}function Ib(i,s,a,c,d){return function p(m){if(m===Function)return c;const b=2&i.flags?xt(i.index,s):s;0==(32&s[2])&&sb(b);let w=$I(s,0,c,m),S=p.__ngNextListenerFn__;for(;S;)w=$I(s,0,S,m)&&w,S=S.__ngNextListenerFn__;return d&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Dx(i=1){return function(i){return(Ft.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,Ft.lFrame.contextLView))[8]}(i)}function Tb(i,s,a,c,d){const p=Ge(),m=xu(p,s,a,c);return m!==Jt&&ri(vn(),mr(),p,i,m,p[11],d,!1),Tb}function Fm(i,s,a,c,d){const p=i[a+1],m=null===s;let b=c?to(p):Oa(p),w=!1;for(;0!==b&&(!1===w||m);){const A=i[b+1];Px(i[b],s)&&(w=!0,i[b+1]=c?Z_(A):$_(A)),b=c?to(A):Oa(A)}w&&(i[a+1]=c?$_(p):Z_(p))}function Px(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Zo(i,s)>=0}function KI(i,s,a){return function(i,s,a,c){const d=Ge(),p=vn(),m=po(2);p.firstUpdatePass&&function(i,s,a,c){const d=i.data;if(null===d[a+1]){const p=d[Ui()],m=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(p,c)&&null===s&&!m&&(s=!1),s=function(i,s,a,c){const d=function(i){const s=Ft.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Vm(a=xf(null,i,s,a,c),s.attrs,c),p=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=xf(d,i,s,a,c),null===p){let w=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Oa(c))return i[to(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=xf(null,i,s,w[1],c),w=Vm(w,s.attrs,c),function(i,s,a,c){i[to(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else p=function(i,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=Vm(c,i[p].hostAttrs,a);return Vm(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function(i,s,a,c,d,p){let m=p?s.classBindings:s.styleBindings,b=to(m),w=Oa(m);i[c]=a;let A,S=!1;if(Array.isArray(a)){const O=a;A=O[1],(null===A||Zo(O,A)>0)&&(S=!0)}else A=a;if(d)if(0!==w){const P=to(i[b+1]);i[c+1]=Nc(P,b),0!==P&&(i[P+1]=H_(i[P+1],c)),i[b+1]=function(i,s){return 131071&i|s<<17}(i[b+1],c)}else i[c+1]=Nc(b,0),0!==b&&(i[b+1]=H_(i[b+1],c)),b=c;else i[c+1]=Nc(w,0),0===b?b=c:i[w+1]=H_(i[w+1],c),w=c;S&&(i[c+1]=$_(i[c+1])),Fm(i,A,c,!0),Fm(i,A,c,!1),function(i,s,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Zo(p,s)>=0&&(a[c+1]=Z_(a[c+1]))}(s,A,i,c,p),m=Nc(b,w),p?s.classBindings=m:s.styleBindings=m}(d,p,s,a,m,c)}}(p,i,m,c),s!==Jt&&Di(d,m,s)&&function(i,s,a,c,d,p,m,b){if(!(3&s.type))return;const w=i.data,S=w[b+1];Um(function(i){return 1==(1&i)}(S)?Lb(w,s,a,d,Oa(S),m):void 0)||(Um(p)||function(i){return 2==(2&i)}(S)&&(p=Lb(w,null,a,d,b,m)),function(i,s,a,c,d){const p=Hn(i);if(s)d?p?i.addClass(a,c):a.classList.add(c):p?i.removeClass(a,c):a.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:Xo.DashCase;if(null==d)p?i.removeStyle(a,c,m):a.style.removeProperty(c);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),m|=Xo.Important),p?i.setStyle(a,c,d,m):a.style.setProperty(c,d,b?"important":"")}}}(c,m,It(Ui(),a),d,p))}(p,p.data[Ui()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=te(y(i)))),i}(s,a),c,m)}(i,s,a,!1),KI}function xf(i,s,a,c,d){let p=null;const m=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<m&&(p=s[b],c=Vm(c,p.hostAttrs,d),p!==i);)b++;return null!==i&&(a.directiveStylingLast=b),c}function Vm(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?d=m:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),li(i,m,!!a||s[++p]))}return void 0===i?null:i}function Lb(i,s,a,c,d,p){const m=null===s;let b;for(;d>0;){const w=i[d],S=Array.isArray(w),A=S?w[1]:w,O=null===A;let P=a[d+1];P===Jt&&(P=O?W:void 0);let Q=O?ss(P,c):A===c?P:void 0;if(S&&!Um(Q)&&(Q=ss(w,c)),Um(Q)&&(b=Q,m))return b;const ee=i[d+1];d=m?to(ee):Oa(ee)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(b=ss(w,c))}return b}function Um(i){return void 0!==i}function jm(i,s=""){const a=Ge(),c=vn(),d=i+20,p=c.firstCreatePass?id(c,d,1,s,null):c.data[d],m=a[d]=function(i,s){return Hn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);cf(c,a,m,p),gs(p,!1)}function Ub(i){return pd("",i,""),Ub}function pd(i,s,a){const c=Ge(),d=xu(c,i,s,a);return d!==Jt&&Du(c,Ui(),d),pd}function Rf(i,s,a,c,d){const p=Ge(),m=function(i,s,a,c,d,p){const b=Vc(i,ms(),a,d);return po(2),b?s+tt(a)+c+tt(d)+p:Jt}(p,i,s,a,c,d);return m!==Jt&&Du(p,Ui(),m),Rf}function Of(i,s,a,c,d,p,m){const b=Ge(),w=ad(b,i,s,a,c,d,p,m);return w!==Jt&&Du(b,Ui(),w),Of}function zb(i,s,a){const c=Ge();return Di(c,jo(),s)&&ri(vn(),mr(),c,i,s,c[11],a,!0),zb}const Nu=void 0;var Kb=["en",[["a","p"],["AM","PM"],Nu],[["AM","PM"],Nu,Nu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nu,"{1} 'at' {0}",Nu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Va={};function Qb(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=kf(s);if(a)return a;const c=s.split("-")[0];if(a=kf(c),a)return a;if("en"===c)return Kb;throw new Error(`Missing locale data for the locale "${i}".`)}function Mf(i){return Qb(i)[Lt.PluralCase]}function kf(i){return i in Va||(Va[i]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[i]),Va[i]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const Wm="en-US";let uT=Wm;function Ua(i){At(i,"Expected localeId to be defined"),"string"==typeof i&&(uT=i.toLowerCase().replace(/_/g,"-"))}class lE{}const MT="ngComponent";class kT{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${te(i)}. Did you add it to @NgModule.entryComponents?`);return s[MT]=i,s}(s)}}let Bf=(()=>{class i{}return i.NULL=new kT,i})();function cy(...i){}function bd(i,s){return new Vs(Vt(i,s))}const LT=function(){return bd(lr(),Ge())};let Vs=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=LT,i})();function hE(i){return i instanceof Vs?i.nativeElement:i}class qf{}let yR=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>_R(),i})();const _R=function(){const i=Ge(),a=xt(lr().index,i);return function(i){return i[11]}(ci(a)?a:i)};let fE=(()=>{class i{}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:()=>null}),i})();class pE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ly=new pE("12.2.16");class gE{constructor(){}supports(s){return wf(s)}create(s){return new Ck(s)}}const VT=(i,s)=>s;class Ck{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||VT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const m=!c||a&&a.currentIndex<jT(c,d,p)?a:c,b=jT(m,d,p),w=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{p||(p=[]);const S=b-d,A=w-d;if(S!=A){for(let P=0;P<S;P++){const Q=P<p.length?p[P]:p[P]=0,ee=Q+P;A<=ee&&ee<S&&(p[P]=Q+1)}p[m.previousIndex]=A-S}}b!==w&&s(m,b,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!wf(s))throw new Error(`Error trying to diff '${te(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,m,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)p=s[b],m=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,p,m,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,m,b),c=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Lc()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,b=>{m=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,b,m,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,m,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new Pu(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new UT),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Pu{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sk{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class UT{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new Sk,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jT(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class wR{constructor(){}supports(s){return s instanceof Map||_m(s)}create(){return new IR}}class IR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||_m(s)))throw new Error(`Error trying to diff '${te(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,m=d._next;return p&&(p._next=m),m&&(m._prev=p),d._next=null,d._prev=null,d}const c=new TR(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class TR{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ia(){return new gt([new gE])}let gt=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||ia()),deps:[[i,new Qs,new vo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:ia}),i})();function Xt(){return new Gc([new wR])}let Gc=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Xt()),deps:[[i,new Qs,new vo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:Xt}),i})();function Ed(i,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(fe(p)),Cn(p))for(let b=10;b<p.length;b++){const w=p[b],S=w[1].firstChild;null!==S&&Ed(w[1],w,S,c)}const m=a.type;if(8&m)Ed(i,s,a.child,c);else if(32&m){const b=x_(a,s);let w;for(;w=b();)c.push(w)}else if(16&m){const b=Mw(s,a);if(Array.isArray(b))c.push(...b);else{const w=xc(s[16]);Ed(w[1],w,b,c,!0)}}a=d?a.projectionNext:a.next}return c}class ja{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ed(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Cn(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(P_(s,c),yu(a,c))}this._attachedToViewContainer=!1}Rw(this._lView[1],this._lView)}onDestroy(s){Jw(this._lView[1],this._lView,null,s)}markForCheck(){sb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ob(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Uo(!0);try{ob(i,s,a)}finally{Uo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,eo(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class CR extends ja{constructor(s){super(s),this._view=s}detectChanges(){RA(this._view)}checkNoChanges(){!function(i){Uo(!0);try{RA(i)}finally{Uo(!1)}}(this._view)}get context(){return null}}const SR=function(i){return function(i,s,a){if(Ja(i)&&!a){const c=xt(i.index,s);return new ja(c,c)}return 47&i.type?new ja(s[16],s):null}(lr(),Ge(),16==(16&i))};let DR=(()=>{class i{}return i.__NG_ELEMENT_ID__=SR,i})();const xi=[new wR],AR=new gt([new gE]),xR=new Gc(xi),OR=function(){return pi(lr(),Ge())};let wd=(()=>{class i{}return i.__NG_ELEMENT_ID__=OR,i})();const vE=wd,hy=class extends vE{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=ff(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),pf(a,c,s),new ja(c)}};function pi(i,s){return 4&i.type?new hy(s,i,bd(i,s)):null}class Ba{}class Hi{}const _E=function(){return zc(lr(),Ge())};let $f=(()=>{class i{}return i.__NG_ELEMENT_ID__=_E,i})();const ZT=$f,fy=class extends ZT{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return bd(this._hostTNode,this._hostLView)}get injector(){return new pu(this._hostTNode,this._hostLView)}get parentInjector(){const s=du(this._hostTNode,this._hostLView);if(Fl(s)){const a=cu(s,this._hostLView),c=yc(s);return new pu(a[1].data[c+8],a)}return new pu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=GT(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,p){const m=c||this.parentInjector;if(!p&&null==s.ngModule&&m){const w=m.get(Ba,null);w&&(p=w)}const b=s.create(m,d,void 0,p);return this.insert(b.hostView,a),b}insert(s,a){const c=s._lView,d=c[1];if(Cn(c[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const O=c[3],P=new fy(O,O[6],O[3]);P.detach(P.indexOf(s))}}const p=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=s),c<p-10?(s[4]=a[d],mu(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const b=s[19];null!==b&&b.insertView(i),s[2]|=128}(d,c,m,p);const b=Jg(p,m),w=c[11],S=Kg(w,m[7]);return null!==S&&function(i,s,a,c,d,p){c[0]=d,c[6]=s,eo(i,c,a,1,d,p)}(d,m[6],w,c,S,b),s.attachToViewContainerRef(),mu(bE(m),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=GT(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=P_(this._lContainer,a);c&&(yu(bE(this._lContainer),a),Rw(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=P_(this._lContainer,a);return c&&null!=yu(bE(this._lContainer),a)?new ja(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function GT(i){return i[8]}function bE(i){return i[8]||(i[8]=[])}function zc(i,s){let a;const c=s[i.index];if(Cn(c))a=c;else{let d;if(8&i.type)d=fe(c);else{const p=s[11];d=p.createComment("");const m=Vt(i,s);Oc(p,Kg(p,m),d,function(i,s){return Hn(i)?i.nextSibling(s):s.nextSibling}(p,m),!1)}s[i.index]=a=rI(c,s,d,i),hm(s,a)}return new fy(a,i,s)}const $a={};class Ld extends Bf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=tn(s);return new vC(a,this.ngModule)}}function mC(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const ZR=new Gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qg});class vC extends lE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(uA).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return mC(this.componentDef.inputs)}get outputs(){return mC(this.componentDef.outputs)}create(s,a,c,d){const p=(d=d||this.ngModule)?function(i,s){return{get:(a,c,d)=>{const p=i.get(a,$a,d);return p!==$a||c===$a?p:s.get(a,c,d)}}}(s,d.injector):s,m=p.get(qf,V),b=p.get(fE,null),w=m.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",A=c?function(i,s,a){if(Hn(i))return i.selectRootElement(s,a===yn.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):sf(m.createRenderer(null,this.componentDef),S,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(S)),O=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||qg,clean:wM,playerHandler:s||null,flags:0}}(),Q=am(0,null,null,1,0,null,null,null,null,null),ee=ff(null,Q,P,O,null,null,m,w,b,p);let Ce,ae;lc(ee);try{const Ye=function(i,s,a,c,d,p){const m=a[1];a[20]=i;const w=id(m,20,2,"#host",null),S=w.mergedAttrs=s.hostAttrs;null!==S&&(ab(w,S,!0),null!==i&&(uu(d,i,S),null!==w.classes&&U_(d,i,w.classes),null!==w.styles&&Fw(d,i,w.styles)));const A=c.createRenderer(i,s),O=ff(a,Fc(s),null,s.onPush?64:16,a[20],w,c,A,p||null,null);return m.firstCreatePass&&(_c(xs(w,a),m,s.type),tI(m,w),AA(w,a.length,1)),hm(a,O),a[20]=O}(A,this.componentDef,ee,m,w);if(A)if(c)uu(w,A,["ng-version",ly.full]);else{const{attrs:Me,classes:Nt}=function(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&a.push(p);else{if(!Rr(d))break;d=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Me&&uu(w,A,Me),Nt&&Nt.length>0&&U_(w,A,Nt.join(" "))}if(ae=cr(Q,20),void 0!==a){const Me=ae.projection=[];for(let Nt=0;Nt<this.ngContentSelectors.length;Nt++){const Gt=a[Nt];Me.push(null!=Gt?Array.from(Gt):null)}}Ce=function(i,s,a,c,d){const p=a[1],m=function(i,s,a){const c=lr();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),nb(i,c,s,kc(i,s,1,null),a));const d=fu(s,i,c.directiveStart,c);di(d,s);const p=Vt(c,s);return p&&di(p,s),d}(p,a,s);if(c.components.push(m),i[8]=m,d&&d.forEach(w=>w(m,s)),s.contentQueries){const w=lr();s.contentQueries(1,m,w.directiveStart)}const b=lr();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ca(b.index),tb(a[1],b,0,b.directiveStart,b.directiveEnd,s),cm(s,m)),m}(Ye,this.componentDef,ee,P,[nx]),pf(Q,ee,null)}finally{dg()}return new Lu(this.componentType,Ce,bd(ae,ee),ee,ae)}}class Lu extends class{}{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new CR(d),this.componentType=s}get injector(){return new pu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Xc=new Map;class QR extends Ba{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ld(this);const c=Tr(s),d=s[fn]||null;d&&Ua(d),this._bootstrapComponents=Jo(c.bootstrap),this._r3Injector=UA(s,a,[{provide:Ba,useValue:this},{provide:Bf,useValue:this.componentFactoryResolver}],te(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=vr.THROW_IF_NOT_FOUND,c=lt.Default){return s===vr||s===Ba||s===yf?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Sy extends Hi{constructor(s){super(),this.moduleType=s,null!==Tr(s)&&function(i){const s=new Set;!function a(c){const d=Tr(c,!0),p=d.id;null!==p&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${te(s)} vs ${te(s.name)}`)}(p,Xc.get(p),c),Xc.set(p,c));const m=Jo(d.imports);for(const b of m)s.has(b)||(s.add(b),a(b))}(i)}(s)}create(s){return new QR(this.moduleType,s)}}function jE(i,s,a){const c=Vi()+i,d=Ge();return d[c]===Jt?no(d,c,a?s.call(a):s()):function(i,s){return i[s]}(d,c)}function Dy(i,s,a,c){return function(i,s,a,c,d,p){const m=s+a;return Di(i,m,d)?no(i,m+1,p?c.call(p,d):c(d)):Ha(i,m+1)}(Ge(),Vi(),i,s,a,c)}function Ha(i,s){const a=i[s];return a===Jt?void 0:a}function wC(i,s){const a=vn();let c;const d=i+20;a.firstCreatePass?(c=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}throw new Ne("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=ki(c.type)),m=Un(fd);try{const b=lu(!1),w=p();return lu(b),function(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,Ge(),d,w),w}finally{Un(m)}}function TC(i,s,a,c){const d=i+20,p=Ge(),m=Fn(p,d);return function(i,s){Eo.isWrapped(s)&&(s=Eo.unwrap(s),i[ms()]=Jt);return s}(p,function(i,s){return i[1].data[s].pure}(p,d)?function(i,s,a,c,d,p,m){const b=s+a;return Vc(i,b,d,p)?no(i,b+2,m?c.call(m,d,p):c(d,p)):Ha(i,b+2)}(p,Vi(),s,m.transform,a,c,m):m.transform(a,c))}function qd(i){return s=>{setTimeout(i,void 0,s)}}const To=class extends h.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,p,m;let b=s,w=a||(()=>null),S=c;if(s&&"object"==typeof s){const O=s;b=null===(d=O.next)||void 0===d?void 0:d.bind(O),w=null===(p=O.error)||void 0===p?void 0:p.bind(O),S=null===(m=O.complete)||void 0===m?void 0:m.bind(O)}this.__isAsync&&(w=qd(w),b&&(b=qd(b)),S&&(S=qd(S)));const A=super.subscribe({next:b,error:w,complete:S});return s instanceof Z.w&&s.add(A),A}};function Za(){return this._results[Lc()]()}class ip{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Lc(),c=ip.prototype;c[a]||(c[a]=Za)}get changes(){return this._changes||(this._changes=new To)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=Rs(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Oy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Oy(this.queryList)}setDirty(){this.queryList.setDirty()}}class sp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const m=a.getByIndex(p);d.push(this.queries[m.indexInDeclarationView].clone())}return new sp(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==KE(s,a).matches&&this.queries[a].setDirty()}}class op{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Ny{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Ny(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ap{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ap(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,Py(a,p)),this.matchTNodeWithReadOption(s,a,hu(a,s,p,!1,!1))}else c===wd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,hu(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Vs||d===$f||d===wd&&4&a.type)this.addMatch(a.index,-2);else{const p=hu(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Py(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function SC(i,s,a,c){return-1===a?function(i,s){return 11&i.type?bd(i,s):4&i.type?pi(i,s):null}(s,i):-2===a?function(i,s,a){return a===Vs?bd(s,i):a===wd?pi(s,i):a===$f?zc(s,i):void 0}(i,s,c):fu(i,i[1],a,s)}function ZE(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const p=i.data,m=a.matches,b=[];for(let w=0;w<m.length;w+=2){const S=m[w];b.push(S<0?null:SC(s,p[S],m[w+1],a.metadata.read))}d.matches=b}return d.matches}function My(i,s,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const m=ZE(i,s,d,a);for(let b=0;b<p.length;b+=2){const w=p[b];if(w>0)c.push(m[b/2]);else{const S=p[b+1],A=s[-w];for(let O=10;O<A.length;O++){const P=A[O];P[17]===P[3]&&My(P[1],P,S,c)}if(null!==A[9]){const O=A[9];for(let P=0;P<O.length;P++){const Q=O[P];My(Q[1],Q,S,c)}}}}}return c}function ky(i){const s=Ge(),a=vn(),c=Ta();Mh(c+1);const d=KE(a,c);if(i.dirty&&Fi(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?My(a,s,c,[]):ZE(a,s,d,c);i.reset(p,hE),i.notifyOnChanges()}return!0}return!1}function zE(i,s,a,c){const d=vn();if(d.firstCreatePass){const p=lr();(function(i,s,a){null===i.queries&&(i.queries=new Ny),i.queries.track(new ap(s,a))})(d,new op(s,a,c),p.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function(i,s,a){const c=new ip(4==(4&a));Jw(i,s,c,c.destroy),null===s[19]&&(s[19]=new sp),s[19].queries.push(new Oy(c))}(d,Ge(),a)}function cp(){return i=Ge(),s=Ta(),i[19].queries[s].queryList;var i,s}function KE(i,s){return i.queries.getByIndex(s)}function QE(i,s){return pi(i,s)}const zi=new Gn("Application Initializer");let rl=(()=>{class i{constructor(a){this.appInits=a,this.resolve=cy,this.reject=cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Sf(p))a.push(p);else if(qI(p)){const m=new Promise((b,w)=>{p.subscribe({complete:b,error:w})});a.push(m)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ar(zi,8))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})();const qu=new Gn("AppId"),Nr={provide:qu,useFactory:function(){return`${zd()}${zd()}${zd()}`},deps:[]};function zd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yi=new Gn("Platform Initializer"),Bn=new Gn("Platform ID"),s0=new Gn("appBootstrapListener");let bs=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})();const Uy=new Gn("LocaleId"),Kr=new Gn("DefaultCurrencyCode");class mp{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const al=function(i){return new Sy(i)},yp=al,jy=function(i){return Promise.resolve(al(i))},So=function(i){const s=al(i),c=Jo(Tr(i).declarations).reduce((d,p)=>{const m=tn(p);return m&&d.push(new vC(m)),d},[]);return new mp(s,c)},vp=So,Kd=function(i){return Promise.resolve(So(i))};let ll=(()=>{class i{constructor(){this.compileModuleSync=yp,this.compileModuleAsync=jy,this.compileModuleAndAllComponentsSync=vp,this.compileModuleAndAllComponentsAsync=Kd}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})();const _p=(()=>Promise.resolve(0))();function By(i){"undefined"==typeof Zone?_p.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Wi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=K.requestAnimationFrame,s=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(K,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,$y(i),i.isCheckStableRunning=!0,qy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),$y(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,m,b)=>{try{return a0(i),a.invokeTask(d,p,m,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),vi(i)}},onInvoke:(a,c,d,p,m,b,w)=>{try{return a0(i),a.invoke(d,p,m,b,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),vi(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,$y(i),qy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+d,s,bp,cy,cy);try{return p.runTask(m,a,c)}finally{p.cancelTask(m)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const bp={};function qy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function $y(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function a0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function vi(i){i._nesting--,qy(i)}class QC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let zn=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wi.assertNotInAngularZone(),By(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())By(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ar(Wi))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})(),YC=(()=>{class i{constructor(){this._applications=new Map,u0.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return u0.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})();class JC{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function hl(i){u0=i}let u0=new JC,Qd=!0,Ep=!1;function Yd(){return Ep=!0,Qd}function XC(){if(Ep)throw new Error("Cannot enable prod mode after platform setup.");Qd=!1}let ao;const Ga=new Gn("AllowMultipleToken");class Jd{constructor(s,a){this.name=s,this.token=a}}function c0(i,s,a=[]){const c=`Platform: ${s}`,d=new Gn(c);return(p=[])=>{let m=l0();if(!m||m.injector.get(Ga,!1))if(i)i(a.concat(p).concat({provide:d,useValue:!0}));else{const b=a.concat(p).concat({provide:d,useValue:!0},{provide:fm,useValue:"platform"});!function(i){if(ao&&!ao.destroyed&&!ao.injector.get(Ga,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ao=i.get(fl);const s=i.get(yi,null);s&&s.forEach(a=>a())}(vr.create({providers:b,name:c}))}return function(i){const s=l0();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function l0(){return ao&&!ao.destroyed?ao:null}let fl=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const b=function(i,s){let a;return a="noop"===i?new QC:("zone.js"===i?void 0:i)||new Wi({enableLongStackTrace:Yd(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:Wi,useValue:b}];return b.run(()=>{const S=vr.create({providers:w,parent:this.injector,name:a.moduleType.name}),A=a.create(S),O=A.injector.get(dn,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const P=b.onError.subscribe({next:Q=>{O.handleError(Q)}});A.onDestroy(()=>{Hu(this._modules,A),P.unsubscribe()})}),function(i,s,a){try{const c=a();return Sf(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(O,b,()=>{const P=A.injector.get(rl);return P.runInitializers(),P.donePromise.then(()=>(Ua(A.injector.get(Uy,Wm)||Wm),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,c=[]){const d=Hy({},c);return function(i,s,a){const c=new Sy(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(pl);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${te(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ar(vr))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})();function Hy(i,s){return Array.isArray(s)?s.reduce(Hy,i):Object.assign(Object.assign({},i),s)}let pl=(()=>{class i{constructor(a,c,d,p,m){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new F.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),w=new F.y(S=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Wi.assertNotInAngularZone(),By(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Wi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{A.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ue.T)(b,w.pipe(i=>(0,be.x)()(function(i,s){return function(c){let d;d="function"==typeof i?i:function(){return i};const p=Object.create(c,Se.N);return p.source=c,p.subjectFactory=d,p}}(le)(i))))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof lE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ba),b=d.create(vr.NULL,[],c||d.selector,p),w=b.location.nativeElement,S=b.injector.get(zn,null),A=S&&b.injector.get(YC);return S&&A&&A.registerApplication(w,S),b.onDestroy(()=>{this.detachView(b.hostView),Hu(this.components,b),A&&A.unregisterApplication(w)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Hu(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(s0,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ar(Wi),Ar(vr),Ar(dn),Ar(Bf),Ar(rl))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})();function Hu(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class wp{}class sS{}const oS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let aS=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||oS}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,d]=a.split("#");return void 0===d&&(d="default"),M(8255)(c).then(p=>p[d]).then(p=>Ip(p,c,d)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(a){let[c,d]=a.split("#"),p="NgFactory";return void 0===d&&(d="default",p=""),M(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(m=>m[d+p]).then(m=>Ip(m,c,d))}}return i.\u0275fac=function(a){return new(a||i)(Ar(ll),Ar(sS,8))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})();function Ip(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const fS=function(i){return null},pS=c0(null,"core",[{provide:Bn,useValue:"unknown"},{provide:fl,deps:[vr]},{provide:YC,deps:[]},{provide:bs,deps:[]}]),Dp=[{provide:pl,useClass:pl,deps:[Wi,vr,dn,Bf,rl]},{provide:ZR,deps:[Wi],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:rl,useClass:rl,deps:[[new vo,zi]]},{provide:ll,useClass:ll,deps:[]},Nr,{provide:gt,useFactory:function(){return AR},deps:[]},{provide:Gc,useFactory:function(){return xR},deps:[]},{provide:Uy,useFactory:function(i){return Ua(i=i||"undefined"!=typeof $localize&&$localize.locale||Wm),i},deps:[[new wc(Uy),new vo,new Qs]]},{provide:Kr,useValue:"USD"}];let aa=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ar(pl))},i.\u0275mod=Ct({type:i}),i.\u0275inj=pr({providers:Dp}),i})()},8939:(ct,Oe,M)=>{"use strict";M.d(Oe,{hO:()=>te,xv:()=>le,Dh:()=>be,GT:()=>ye,cc:()=>pe,on:()=>B,pX:()=>Se});var h=M(3018),Z=M(7841),F=M(8370);ct=M.hmd(ct);const ue=["ngOnDestroy"],Se=(qe,ze,Ne,rt={})=>new Proxy(qe,{get:(vt,tt)=>Ne.runOutsideAngular(()=>{var Mt;if(qe[tt])return(null===(Mt=null==rt?void 0:rt.spy)||void 0===Mt?void 0:Mt.get)&&rt.spy.get(tt,qe[tt]),qe[tt];if(ue.indexOf(tt)>-1)return()=>{};const Ee=ze.toPromise().then($e=>{const Ze=$e&&$e[tt];return"function"==typeof Ze?Ze.bind($e):Ze&&Ze.then?Ze.then(re=>Ne.run(()=>re)):Ne.run(()=>Ze)});return new Proxy(()=>{},{get:($e,Ze)=>Ee[Ze],apply:($e,Ze,re)=>Ee.then(se=>{var ge;const De=se&&se(...re);return(null===(ge=null==rt?void 0:rt.spy)||void 0===ge?void 0:ge.apply)&&rt.spy.apply(tt,re,De),De})})})}),ye=(qe,ze)=>{ze.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(rt=>{Object.defineProperty(qe.prototype,rt,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,rt))})})};class Re{constructor(ze){return ze}}const be=new h.OlP("angularfire2.app.options"),le=new h.OlP("angularfire2.app.name");function B(qe,ze,Ne){const vt="object"==typeof Ne&&Ne||{};vt.name=vt.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const Mt=Z.Z.apps.filter(Ee=>Ee&&Ee.name===vt.name)[0]||ze.runOutsideAngular(()=>Z.Z.initializeApp(qe,vt));try{JSON.stringify(qe)!==JSON.stringify(Mt.options)&&$("error",`${Mt.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ee){}return new Re(Mt)}const $=(qe,...ze)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[qe](...ze)},oe={provide:Re,useFactory:B,deps:[be,h.R0b,[new h.FiY,le]]};let te=(()=>{class qe{constructor(Ne){Z.Z.registerVersion("angularfire",F.q4.full,"core"),Z.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Z.Z.registerVersion("angular",h.q4F.full,Ne.toString())}static initializeApp(Ne,rt){return{ngModule:qe,providers:[{provide:be,useValue:Ne},{provide:le,useValue:rt}]}}}return qe.\u0275fac=function(Ne){return new(Ne||qe)(h.LFG(h.Lbi))},qe.\u0275mod=h.oAB({type:qe}),qe.\u0275inj=h.cJS({providers:[oe]}),qe})();function pe(qe,ze,Ne,rt,vt){const[,tt,Mt]=globalThis.\u0275AngularfireInstanceCache.find(Ee=>Ee[0]===qe)||[];if(tt)return function(qe,ze){try{return qe.toString()===ze.toString()}catch(Ne){return qe===ze}}(vt,Mt)||(we("error",`${ze} was already initialized on the ${Ne} Firebase App with different settings.${Te?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:vt,was:Mt})),tt;{const Ee=rt();return globalThis.\u0275AngularfireInstanceCache.push([qe,Ee,vt]),Ee}}const Te=!!ct.hot,we=(qe,...ze)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[qe](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8370:(ct,Oe,M)=>{"use strict";M.d(Oe,{q4:()=>Po,iC:()=>Ds,HU:()=>ba,vb:()=>Ch,JM:()=>es,nk:()=>_a,u3:()=>Hn});var h=M(3018),Z=M(2329),F=M(8239),ue=M(8026),Se=M(3854),ye=M(3910),Re=M(5422);M(3328);const le="@firebase/remote-config",B="0.3.11",pe=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Et{constructor(V,ne,fe,Ke){this.client=V,this.storage=ne,this.storageCache=fe,this.logger=Ke}isCachedDataFresh(V,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-ne,Ke=fe<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Ke}.`),Ke}fetch(V){var ne=this;return(0,F.Z)(function*(){const[fe,Ke]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ne.isCachedDataFresh(V.cacheMaxAgeMillis,fe))return Ke;V.eTag=Ke&&Ke.eTag;const st=yield ne.client.fetch(V),It=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&It.push(ne.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(It),st})()}}function an(L=navigator){return L.languages&&L.languages[0]||L.language}class _n{constructor(V,ne,fe,Ke,st,It){this.firebaseInstallations=V,this.sdkVersion=ne,this.namespace=fe,this.projectId=Ke,this.apiKey=st,this.appId=It}fetch(V){var ne=this;return(0,F.Z)(function*(){var fe,Ke,st;const[It,Vt]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),cr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,Fn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},xt={sdk_version:ne.sdkVersion,app_instance_id:It,app_instance_id_token:Vt,app_id:ne.appId,language_code:an()},Fi={method:"POST",headers:Fn,body:JSON.stringify(xt)},Hs=fetch(cr,Fi),Zs=new Promise((Si,ps)=>{V.signal.addEventListener(()=>{const Lo=new Error("The operation was aborted.");Lo.name="AbortError",ps(Lo)})});let Li;try{yield Promise.race([Hs,Zs]),Li=yield Hs}catch(Si){let ps="fetch-client-network";throw"AbortError"===(null===(fe=Si)||void 0===fe?void 0:fe.name)&&(ps="fetch-timeout"),pe.create(ps,{originalErrorMessage:null===(Ke=Si)||void 0===Ke?void 0:Ke.message})}let As=Li.status;const ac=Li.headers.get("ETag")||void 0;let Ft,ou;if(200===Li.status){let Si;try{Si=yield Li.json()}catch(ps){throw pe.create("fetch-client-parse",{originalErrorMessage:null===(st=ps)||void 0===st?void 0:st.message})}Ft=Si.entries,ou=Si.state}if("INSTANCE_STATE_UNSPECIFIED"===ou?As=500:"NO_CHANGE"===ou?As=304:("NO_TEMPLATE"===ou||"EMPTY_CONFIG"===ou)&&(Ft={}),304!==As&&200!==As)throw pe.create("fetch-status",{httpStatus:As});return{status:As,eTag:ac,config:Ft}})()}}class sr{constructor(V,ne){this.client=V,this.storage=ne}fetch(V){var ne=this;return(0,F.Z)(function*(){const fe=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch(V,fe)})()}attemptFetch(V,{throttleEndTimeMillis:ne,backoffCount:fe}){var Ke=this;return(0,F.Z)(function*(){yield function(L,V){return new Promise((ne,fe)=>{const Ke=Math.max(V-Date.now(),0),st=setTimeout(ne,Ke);L.addEventListener(()=>{clearTimeout(st),fe(pe.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ne);try{const st=yield Ke.client.fetch(V);return yield Ke.storage.deleteThrottleMetadata(),st}catch(st){if(!function(L){if(!(L instanceof Se.ZR&&L.customData))return!1;const V=Number(L.customData.httpStatus);return 429===V||500===V||503===V||504===V}(st))throw st;const It={throttleEndTimeMillis:Date.now()+(0,Se.$s)(fe),backoffCount:fe+1};return yield Ke.storage.setThrottleMetadata(It),Ke.attemptFetch(V,It)}})()}}class At{constructor(V,ne,fe,Ke,st){this.app=V,this._client=ne,this._storageCache=fe,this._storage=Ke,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pt(L,V){var ne;const fe=L.target.error||void 0;return pe.create(V,{originalErrorMessage:fe&&(null===(ne=fe)||void 0===ne?void 0:ne.message)})}const bn="app_namespace_store";class wr{constructor(V,ne,fe,Ke=function(){return new Promise((L,V)=>{var ne;try{const fe=indexedDB.open("firebase_remote_config",1);fe.onerror=Ke=>{V(pt(Ke,"storage-open"))},fe.onsuccess=Ke=>{L(Ke.target.result)},fe.onupgradeneeded=Ke=>{0===Ke.oldVersion&&Ke.target.result.createObjectStore(bn,{keyPath:"compositeKey"})}}catch(fe){V(pe.create("storage-open",{originalErrorMessage:null===(ne=fe)||void 0===ne?void 0:ne.message}))}})}()){this.appId=V,this.appName=ne,this.namespace=fe,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ne=this;return(0,F.Z)(function*(){const fe=yield ne.openDbPromise;return new Promise((Ke,st)=>{var It;const Mr=fe.transaction([bn],"readonly").objectStore(bn),cr=ne.createCompositeKey(V);try{const Fn=Mr.get(cr);Fn.onerror=xt=>{st(pt(xt,"storage-get"))},Fn.onsuccess=xt=>{const Fi=xt.target.result;Ke(Fi?Fi.value:void 0)}}catch(Fn){st(pe.create("storage-get",{originalErrorMessage:null===(It=Fn)||void 0===It?void 0:It.message}))}})})()}set(V,ne){var fe=this;return(0,F.Z)(function*(){const Ke=yield fe.openDbPromise;return new Promise((st,It)=>{var Vt;const cr=Ke.transaction([bn],"readwrite").objectStore(bn),Fn=fe.createCompositeKey(V);try{const xt=cr.put({compositeKey:Fn,value:ne});xt.onerror=Fi=>{It(pt(Fi,"storage-set"))},xt.onsuccess=()=>{st()}}catch(xt){It(pe.create("storage-set",{originalErrorMessage:null===(Vt=xt)||void 0===Vt?void 0:Vt.message}))}})})()}delete(V){var ne=this;return(0,F.Z)(function*(){const fe=yield ne.openDbPromise;return new Promise((Ke,st)=>{var It;const Mr=fe.transaction([bn],"readwrite").objectStore(bn),cr=ne.createCompositeKey(V);try{const Fn=Mr.delete(cr);Fn.onerror=xt=>{st(pt(xt,"storage-delete"))},Fn.onsuccess=()=>{Ke()}}catch(Fn){st(pe.create("storage-delete",{originalErrorMessage:null===(It=Fn)||void 0===It?void 0:It.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class pr{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,F.Z)(function*(){const ne=V.storage.getLastFetchStatus(),fe=V.storage.getLastSuccessfulFetchTimestampMillis(),Ke=V.storage.getActiveConfig(),st=yield ne;st&&(V.lastFetchStatus=st);const It=yield fe;It&&(V.lastSuccessfulFetchTimestampMillis=It);const Vt=yield Ke;Vt&&(V.activeConfig=Vt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function qr(){return gr.apply(this,arguments)}function gr(){return(gr=(0,F.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch(L){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new ye.wA("remote-config",function(V,{instanceIdentifier:ne}){const fe=V.getProvider("app").getImmediate(),Ke=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pe.create("registration-window");if(!(0,Se.hl)())throw pe.create("indexed-db-unavailable");const{projectId:st,apiKey:It,appId:Vt}=fe.options;if(!st)throw pe.create("registration-project-id");if(!It)throw pe.create("registration-api-key");if(!Vt)throw pe.create("registration-app-id");const Mr=new wr(Vt,fe.name,ne=ne||"firebase"),cr=new pr(Mr),Fn=new Re.Yd(le);Fn.logLevel=Re.in.ERROR;const xt=new _n(Ke,ue.SDK_VERSION,ne,st,It,Vt),Fi=new sr(xt,Mr),Hs=new Et(Fi,Mr,cr,Fn),Zs=new At(fe,Hs,cr,Mr,Fn);return function(L){const V=(0,Se.m9)(L);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(Zs),Zs},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(le,B),(0,ue.registerVersion)(le,B,"esm2017");var sn=M(300);const Dn="/firebase-messaging-sw.js",qn="/firebase-cloud-messaging-push-scope",Ir="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ar="google.c.a.c_id",Xn="google.c.a.c_l",Un="google.c.a.ts",mn="google.c.a.e";var nt=(()=>{return(L=nt||(nt={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",nt;var L})();function un(L){const V=new Uint8Array(L);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wi(L){const ne=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(ne),Ke=new Uint8Array(fe.length);for(let st=0;st<fe.length;++st)Ke[st]=fe.charCodeAt(st);return Ke}const ur="fcm_token_details_db",kn="fcm_token_object_Store";function Pn(L){return hn.apply(this,arguments)}function hn(){return hn=(0,F.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(ur))return null;let V=null;return(yield(0,sn.X3)(ur,5,{upgrade:(fe=(0,F.Z)(function*(Ke,st,It,Vt){var Mr;if(st<2||!Ke.objectStoreNames.contains(kn))return;const cr=Vt.objectStore(kn),Fn=yield cr.index("fcmSenderId").get(L);if(yield cr.clear(),Fn)if(2===st){const xt=Fn;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;V={token:xt.fcmToken,createTime:null!==(Mr=xt.createTime)&&void 0!==Mr?Mr:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:un(xt.vapidKey)}}}else if(3===st){const xt=Fn;V={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:un(xt.auth),p256dh:un(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:un(xt.vapidKey)}}}else if(4===st){const xt=Fn;V={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:un(xt.auth),p256dh:un(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:un(xt.vapidKey)}}}}),function(st,It,Vt,Mr){return fe.apply(this,arguments)})})).close(),yield(0,sn.Lj)(ur),yield(0,sn.Lj)("fcm_vapid_details_db"),yield(0,sn.Lj)("undefined"),$r(V)?V:null;var fe}),hn.apply(this,arguments)}function $r(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:V}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const G="firebase-messaging-store";let Y=null;function W(){return Y||(Y=(0,sn.X3)("firebase-messaging-database",1,{upgrade:(L,V)=>{0===V&&L.createObjectStore(G)}})),Y}function ke(L){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(L){const V=q(L),fe=yield(yield W()).transaction(G).objectStore(G).get(V);if(fe)return fe;{const Ke=yield Pn(L.appConfig.senderId);if(Ke)return yield St(L,Ke),Ke}})).apply(this,arguments)}function St(L,V){return on.apply(this,arguments)}function on(){return(on=(0,F.Z)(function*(L,V){const ne=q(L),Ke=(yield W()).transaction(G,"readwrite");return yield Ke.objectStore(G).put(V,ne),yield Ke.done,V})).apply(this,arguments)}function fn(L){return he.apply(this,arguments)}function he(){return(he=(0,F.Z)(function*(L){const V=q(L),fe=(yield W()).transaction(G,"readwrite");yield fe.objectStore(G).delete(V),yield fe.done})).apply(this,arguments)}function q({appConfig:L}){return L.appId}const U=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ie(L,V){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,F.Z)(function*(L,V){var ne;const fe=yield $n(L),Ke=tn(V),st={method:"POST",headers:fe,body:JSON.stringify(Ke)};let It;try{It=yield(yield fetch(pn(L.appConfig),st)).json()}catch(Vt){throw U.create("token-subscribe-failed",{errorInfo:null===(ne=Vt)||void 0===ne?void 0:ne.toString()})}if(It.error)throw U.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw U.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function it(L,V){return dt.apply(this,arguments)}function dt(){return(dt=(0,F.Z)(function*(L,V){var ne;const fe=yield $n(L),Ke=tn(V.subscriptionOptions),st={method:"PATCH",headers:fe,body:JSON.stringify(Ke)};let It;try{It=yield(yield fetch(`${pn(L.appConfig)}/${V.token}`,st)).json()}catch(Vt){throw U.create("token-update-failed",{errorInfo:null===(ne=Vt)||void 0===ne?void 0:ne.toString()})}if(It.error)throw U.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw U.create("token-update-no-token");return It.token})).apply(this,arguments)}function Ct(L,V){return kt.apply(this,arguments)}function kt(){return(kt=(0,F.Z)(function*(L,V){var ne;const Ke={method:"DELETE",headers:yield $n(L)};try{const It=yield(yield fetch(`${pn(L.appConfig)}/${V}`,Ke)).json();if(It.error)throw U.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(st){throw U.create("token-unsubscribe-failed",{errorInfo:null===(ne=st)||void 0===ne?void 0:ne.toString()})}})).apply(this,arguments)}function pn({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function $n(L){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,F.Z)(function*({appConfig:L,installations:V}){const ne=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function tn({p256dh:L,auth:V,endpoint:ne,vapidKey:fe}){const Ke={web:{endpoint:ne,auth:V,p256dh:L}};return fe!==Ir&&(Ke.web.applicationPubKey=fe),Ke}const Jr=6048e5;function fs(L){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,F.Z)(function*(L){const V=yield Tn(L.swRegistration,L.vapidKey),ne={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:V.endpoint,auth:un(V.getKey("auth")),p256dh:un(V.getKey("p256dh"))},fe=yield ke(L.firebaseDependencies);if(fe){if(An(fe.subscriptionOptions,ne))return Date.now()>=fe.createTime+Jr?z(L,{token:fe.token,createTime:Date.now(),subscriptionOptions:ne}):fe.token;try{yield Ct(L.firebaseDependencies,fe.token)}catch(Ke){console.warn(Ke)}return Ve(L.firebaseDependencies,ne)}return Ve(L.firebaseDependencies,ne)})).apply(this,arguments)}function Ya(L){return wn.apply(this,arguments)}function wn(){return(wn=(0,F.Z)(function*(L){const V=yield ke(L.firebaseDependencies);V&&(yield Ct(L.firebaseDependencies,V.token),yield fn(L.firebaseDependencies));const ne=yield L.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()})).apply(this,arguments)}function z(L,V){return de.apply(this,arguments)}function de(){return(de=(0,F.Z)(function*(L,V){try{const ne=yield it(L.firebaseDependencies,V),fe=Object.assign(Object.assign({},V),{token:ne,createTime:Date.now()});return yield St(L.firebaseDependencies,fe),ne}catch(ne){throw yield Ya(L),ne}})).apply(this,arguments)}function Ve(L,V){return ht.apply(this,arguments)}function ht(){return(ht=(0,F.Z)(function*(L,V){const fe={token:yield ie(L,V),createTime:Date.now(),subscriptionOptions:V};return yield St(L,fe),fe.token})).apply(this,arguments)}function Tn(L,V){return jt.apply(this,arguments)}function jt(){return(jt=(0,F.Z)(function*(L,V){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wi(V)})})).apply(this,arguments)}function An(L,V){return V.vapidKey===L.vapidKey&&V.endpoint===L.endpoint&&V.auth===L.auth&&V.p256dh===L.p256dh}function cn(L){const V={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function(L,V){if(!V.notification)return;L.notification={};const ne=V.notification.title;ne&&(L.notification.title=ne);const fe=V.notification.body;fe&&(L.notification.body=fe);const Ke=V.notification.image;Ke&&(L.notification.image=Ke)}(V,L),function(L,V){!V.data||(L.data=V.data)}(V,L),function(L,V){var ne,fe,Ke,st,It;if(!V.fcmOptions&&!(null===(ne=V.notification)||void 0===ne?void 0:ne.click_action))return;L.fcmOptions={};const Vt=null!==(Ke=null===(fe=V.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ke?Ke:null===(st=V.notification)||void 0===st?void 0:st.click_action;Vt&&(L.fcmOptions.link=Vt);const Mr=null===(It=V.fcmOptions)||void 0===It?void 0:It.analytics_label;Mr&&(L.fcmOptions.analyticsLabel=Mr)}(V,L),V}function xo(L){return"object"==typeof L&&!!L&&ar in L}function Ts(L,V){const ne=[];for(let fe=0;fe<L.length;fe++)ne.push(L.charAt(fe)),fe<V.length&&ne.push(V.charAt(fe));return ne.join("")}function ei(L){return U.create("missing-app-config-values",{valueName:L})}Ts("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ts("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Sr{constructor(V,ne,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function(L){if(!L||!L.options)throw ei("App Configuration Object");if(!L.name)throw ei("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=L;for(const fe of V)if(!ne[fe])throw ei(fe);return{appName:L.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Ke,installations:ne,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function Bs(L){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,F.Z)(function*(L){var V;try{L.swRegistration=yield navigator.serviceWorker.register(Dn,{scope:qn}),L.swRegistration.update().catch(()=>{})}catch(ne){throw U.create("failed-service-worker-registration",{browserErrorMessage:null===(V=ne)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function Ti(L,V){return xn.apply(this,arguments)}function xn(){return(xn=(0,F.Z)(function*(L,V){if(!V&&!L.swRegistration&&(yield Bs(L)),V||!L.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw U.create("invalid-sw-registration");L.swRegistration=V}})).apply(this,arguments)}function ha(L,V){return fa.apply(this,arguments)}function fa(){return(fa=(0,F.Z)(function*(L,V){V?L.vapidKey=V:L.vapidKey||(L.vapidKey=Ir)})).apply(this,arguments)}function pa(){return(pa=(0,F.Z)(function*(L,V){if(!navigator)throw U.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw U.create("permission-blocked");return yield ha(L,null==V?void 0:V.vapidKey),yield Ti(L,null==V?void 0:V.serviceWorkerRegistration),fs(L)})).apply(this,arguments)}function Ro(L,V,ne){return fo.apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(L,V,ne){const fe=Cs(V);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:ne[ar],message_name:ne[Xn],message_time:ne[Un],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cs(L){switch(L){case nt.NOTIFICATION_CLICKED:return"notification_open";case nt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Oo(){return(Oo=(0,F.Z)(function*(L,V){const ne=V.data;if(!ne.isFirebaseMessaging)return;L.onMessageHandler&&ne.messageType===nt.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(cn(ne)):L.onMessageHandler.next(cn(ne)));const fe=ne.data;xo(fe)&&"1"===fe[mn]&&(yield Ro(L,ne.messageType,fe))})).apply(this,arguments)}const ci="@firebase/messaging";function Mi(){return ma.apply(this,arguments)}function ma(){return(ma=(0,F.Z)(function*(){try{yield(0,Se.eu)()}catch(L){return!1}return"undefined"!=typeof window&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new ye.wA("messaging",L=>{const V=new Sr(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function(L,V){return Oo.apply(this,arguments)}(V,ne)),V},"PUBLIC")),(0,ue._registerComponent)(new ye.wA("messaging-internal",L=>{const V=L.getProvider("messaging").getImmediate();return{getToken:fe=>function(L,V){return pa.apply(this,arguments)}(V,fe)}},"PRIVATE")),(0,ue.registerVersion)(ci,"0.9.16"),(0,ue.registerVersion)(ci,"0.9.16","esm2017");var ng=M(5106),rg=M(7771),eu=M(3637),Ih=M(7574),xl=M(3342),Ss=M(3101),No=M(309);const Po=new h.GfV("7.4.1"),tu="__angularfire_symbol__analyticsIsSupportedValue",nu="__angularfire_symbol__analyticsIsSupported",ru="__angularfire_symbol__remoteConfigIsSupportedValue",Rl="__angularfire_symbol__remoteConfigIsSupported",qs="__angularfire_symbol__messagingIsSupportedValue",Ol="__angularfire_symbol__messagingIsSupported";globalThis[nu]||(globalThis[nu]=(0,ng.Gb)().then(L=>globalThis[tu]=L).catch(()=>globalThis[tu]=!1)),globalThis[Ol]||(globalThis[Ol]=Mi().then(L=>globalThis[qs]=L).catch(()=>globalThis[qs]=!1)),globalThis[Rl]||(globalThis[Rl]=qr().then(L=>globalThis[ru]=L).catch(()=>globalThis[ru]=!1));const _a={async:()=>globalThis[nu],sync:()=>{const L=globalThis[tu];if(void 0===L)throw new Error((L=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${L} in the constructor, first ensure that ${L} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${L})\`.`)("Analytics"));return L}};function es(L,V,ne){if(V){if(1===V.length)return V[0];const st=V.filter(It=>It.app===ne);if(1===st.length)return st[0]}return ne.container.getProvider(L).getImmediate({optional:!0})}const Ch=(L,V)=>{const ne=V?[V]:(0,Z.C6)(),fe=[];return ne.forEach(Ke=>{Ke.container.getProvider(L).instances.forEach(It=>{fe.includes(It)||fe.push(It)})}),fe};function Mo(){}class ko{constructor(V,ne=rg.N){this.zone=V,this.delegate=ne}now(){return this.delegate.now()}schedule(V,ne,fe){const Ke=this.zone;return this.delegate.schedule(function(It){Ke.runGuarded(()=>{V.apply(this,[It])})},ne,fe)}}class iu{constructor(V){this.zone=V,this.task=null}call(V,ne){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)),ne.pipe((0,xl.b)({next:fe,complete:fe,error:fe})).subscribe(V).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ba=(()=>{class L{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new ko(Zone.current)),this.insideAngular=ne.run(()=>new ko(Zone.current,eu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(ne){return new(ne||L)(h.LFG(h.R0b))},L.\u0275prov=h.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function $s(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function ts(L){return $s().ngZone.runOutsideAngular(()=>L())}function ns(L){return $s().ngZone.run(()=>L())}function Ds(L){return $s(),function(L){return function(ne){return(ne=ne.lift(new iu(L.ngZone))).pipe((0,Ss.R)(L.outsideAngular),(0,No.QV)(L.insideAngular))}}($s())(L)}const su=(L,V)=>function(){const fe=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),ns(()=>L.apply(void 0,fe))},Hn=(L,V)=>function(){let ne;const fe=arguments;for(let st=0;st<arguments.length;st++)"function"==typeof fe[st]&&(V&&(ne||(ne=ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)))),fe[st]=su(fe[st],ne));const Ke=ts(()=>L.apply(this,fe));if(!V){if(Ke instanceof Ih.y){const st=$s();return Ke.pipe((0,Ss.R)(st.outsideAngular),(0,No.QV)(st.insideAngular))}return ns(()=>Ke)}return Ke instanceof Ih.y?Ke.pipe(Ds):Ke instanceof Promise?ns(()=>new Promise((st,It)=>Ke.then(Vt=>ns(()=>st(Vt)),Vt=>ns(()=>It(Vt))))):"function"==typeof Ke&&ne?function(){return setTimeout(()=>{ne&&"scheduled"===ne.state&&ne.invoke()},10),Ke.apply(this,arguments)}:ns(()=>Ke)}},708:(ct,Oe,M)=>{"use strict";M.d(Oe,{$:()=>Fn,A:()=>$,B:()=>pe,G:()=>de,H:()=>An,J:()=>Ci,L:()=>on,M:()=>xl,N:()=>tu,P:()=>Xv,Q:()=>nu,R:()=>Wv,T:()=>ru,U:()=>Po,V:()=>ki,W:()=>Th,X:()=>Mo,Y:()=>ne,Z:()=>Ke,_:()=>It,a:()=>Ml,a0:()=>Li,a1:()=>ac,a2:()=>ou,a3:()=>ps,a4:()=>Sh,a5:()=>ig,a6:()=>vn,a7:()=>Dh,a8:()=>sg,a9:()=>uc,aA:()=>yo,aB:()=>bu,aC:()=>Dg,aD:()=>Sg,aE:()=>wn,aI:()=>kl,aL:()=>qs,aa:()=>Fv,ab:()=>Ia,ac:()=>Vi,af:()=>po,ag:()=>ag,ah:()=>Oh,ak:()=>ts,al:()=>cg,an:()=>Uv,ao:()=>hg,ap:()=>pn,aq:()=>Ze,ar:()=>kt,as:()=>it,at:()=>Ne,au:()=>Wo,av:()=>s_,aw:()=>rt,ax:()=>Ee,ay:()=>se,az:()=>fn,b:()=>gc,c:()=>Ws,d:()=>Mn,e:()=>yu,f:()=>xg,g:()=>_u,h:()=>vu,i:()=>rs,j:()=>n_,k:()=>zl,l:()=>MD,m:()=>Fg,o:()=>be,r:()=>kD,s:()=>Kv,u:()=>rw,v:()=>X0});var h=M(8239),Z=M(3854),F=M(8026),ue=M(4762),Se=M(5422),ye=M(3910);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const pe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Te=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new Se.Yd("@firebase/auth");function ze(E,...y){qe.logLevel<=Se.in.ERROR&&qe.error(`Auth (${F.SDK_VERSION}): ${E}`,...y)}function Ne(E,...y){throw Mt(E,...y)}function rt(E,...y){return Mt(E,...y)}function vt(E,y,_){const T=Object.assign(Object.assign({},Ue()),{[y]:_});return new Z.LL("auth","Firebase",T).create(y,{appName:E.name})}function tt(E,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&Ne(E,"argument-error"),vt(E,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(E,...y){if("string"!=typeof E){const _=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(_,...T)}return Te.create(E,...y)}function Ee(E,y,..._){if(!E)throw Mt(y,..._)}function $e(E){const y="INTERNAL ASSERTION FAILED: "+E;throw ze(y),new Error(y)}function Ze(E,y){E||$e(y)}const re=new Map;function se(E){Ze(E instanceof Function,"Expected a class definition");let y=re.get(E);return y?(Ze(y instanceof E,"Instance stored in cache mismatched with class"),y):(y=new E,re.set(E,y),y)}function _e(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function He(){return"http:"===Et()||"https:"===Et()}function Et(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class wt{constructor(y,_){this.shortDelay=y,this.longDelay=_,Ze(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,Z.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function gn(E,y){Ze(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class sr{static initialize(y,_,T){this.fetchImpl=y,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},or=new wt(3e4,6e4);function At(E,y){return E.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:E.tenantId}):y}function pt(E,y,_,T){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(E,y,_,T,R={}){return Ei(E,R,(0,h.Z)(function*(){let k={},ce={};T&&("GET"===y?ce=T:k={body:JSON.stringify(T)});const Be=(0,Z.xO)(Object.assign({key:E.config.apiKey},ce)).slice(1),ft=yield E._getAdditionalHeaders();return ft["Content-Type"]="application/json",E.languageCode&&(ft["X-Firebase-Locale"]=E.languageCode),sr.fetch()(pr(E,E.config.apiHost,_,Be),Object.assign({method:y,headers:ft,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Ei(E,y,_){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(E,y,_){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},Sn),y);try{const R=new Vn(E),k=yield Promise.race([_(),R.promise]);R.clearNetworkTimeout();const ce=yield k.json();if("needConfirmation"in ce)throw Zn(E,"account-exists-with-different-credential",ce);if(k.ok&&!("errorMessage"in ce))return ce;{const Be=k.ok?ce.errorMessage:ce.error.message,[ft,Rt]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw Zn(E,"credential-already-in-use",ce);if("EMAIL_EXISTS"===ft)throw Zn(E,"email-already-in-use",ce);if("USER_DISABLED"===ft)throw Zn(E,"user-disabled",ce);const rn=T[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(Rt)throw vt(E,rn,Rt);Ne(E,rn)}}catch(R){if(R instanceof Z.ZR)throw R;Ne(E,"network-request-failed")}})).apply(this,arguments)}function Yt(E,y,_,T){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(E,y,_,T,R={}){const k=yield pt(E,y,_,T,R);return"mfaPendingCredential"in k&&Ne(E,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function pr(E,y,_,T){const R=`${y}${_}?${T}`;return E.config.emulator?gn(E.config,R):`${E.config.apiScheme}://${R}`}class Vn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(rt(this.auth,"network-request-failed")),or.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(E,y,_){const T={appName:E.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const R=rt(E,y,T);return R.customData._tokenResponse=_,R}function qr(){return(qr=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function gr(E,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Dn(E,y){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Ir(E){if(E)try{const y=new Date(Number(E));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Xn(){return(Xn=(0,h.Z)(function*(E,y=!1){const _=(0,Z.m9)(E),T=yield _.getIdToken(y),R=mn(T);Ee(R&&R.exp&&R.auth_time&&R.iat,_.auth,"internal-error");const k="object"==typeof R.firebase?R.firebase:void 0,ce=null==k?void 0:k.sign_in_provider;return{claims:R,token:T,authTime:Ir(Un(R.auth_time)),issuedAtTime:Ir(Un(R.iat)),expirationTime:Ir(Un(R.exp)),signInProvider:ce||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Un(E){return 1e3*Number(E)}function mn(E){var y;const[_,T,R]=E.split(".");if(void 0===_||void 0===T||void 0===R)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,Z.tV)(T);return k?JSON.parse(k):(ze("Failed to decode base64 JWT payload"),null)}catch(k){return ze("Caught error parsing JWT payload as JSON",null===(y=k)||void 0===y?void 0:y.toString()),null}}function nt(E,y){return un.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(E,y,_=!1){if(_)return y;try{return yield y}catch(T){throw T instanceof Z.ZR&&wi(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}function wi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class ur{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const R=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,h.Z)(function*(){yield _.iteration()}),T)}iteration(){var y=this;return(0,h.Z)(function*(){var _;try{yield y.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(_=T)||void 0===_?void 0:_.code)&&y.schedule(!0))}y.schedule()})()}}class yn{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(E){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(E){var y;const _=E.auth,T=yield E.getIdToken(),R=yield nt(E,Dn(_,{idToken:T}));Ee(null==R?void 0:R.users.length,_,"internal-error");const k=R.users[0];E._notifyReloadListener(k);const ce=(null===(y=k.providerUserInfo)||void 0===y?void 0:y.length)?J(k.providerUserInfo):[],Be=K(E.providerData,ce),rn=!!E.isAnonymous&&!(E.email&&k.passwordHash||(null==Be?void 0:Be.length)),Jn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Be,metadata:new yn(k.createdAt,k.lastLoginAt),isAnonymous:rn};Object.assign(E,Jn)})).apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(E){const y=(0,Z.m9)(E);yield kn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function K(E,y){return[...E.filter(T=>!y.some(R=>R.providerId===T.providerId)),...y]}function J(E){return E.map(y=>{var{providerId:_}=y,T=(0,ue._T)(y,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Y(){return(Y=(0,h.Z)(function*(E,y){const _=yield Ei(E,{},(0,h.Z)(function*(){const T=(0,Z.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:R,apiKey:k}=E.config,ce=pr(E,R,"/v1/token",`key=${k}`),Be=yield E._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",sr.fetch()(ce,{method:"POST",headers:Be,body:T})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ee(y.idToken,"internal-error"),Ee(void 0!==y.idToken,"internal-error"),Ee(void 0!==y.refreshToken,"internal-error");const _="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(E){const y=mn(E);return Ee(y,"internal-error"),Ee(void 0!==y.exp,"internal-error"),Ee(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var T=this;return(0,h.Z)(function*(){return Ee(!T.accessToken||T.refreshToken,y,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var T=this;return(0,h.Z)(function*(){const{accessToken:R,refreshToken:k,expiresIn:ce}=yield function(E,y){return Y.apply(this,arguments)}(y,_);T.updateTokensAndExpiration(R,k,Number(ce))})()}updateTokensAndExpiration(y,_,T){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,_){const{refreshToken:T,accessToken:R,expirationTime:k}=_,ce=new W;return T&&(Ee("string"==typeof T,"internal-error",{appName:y}),ce.refreshToken=T),R&&(Ee("string"==typeof R,"internal-error",{appName:y}),ce.accessToken=R),k&&(Ee("number"==typeof k,"internal-error",{appName:y}),ce.expirationTime=k),ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return $e("not implemented")}}function ke(E,y){Ee("string"==typeof E||void 0===E,"internal-error",{appName:y})}class et{constructor(y){var{uid:_,auth:T,stsTokenManager:R}=y,k=(0,ue._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new yn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,h.Z)(function*(){const T=yield nt(_,_.stsTokenManager.getToken(_.auth,y));return Ee(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(y){return function(E){return Xn.apply(this,arguments)}(this,y)}reload(){return function(E){return $r.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ee(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new et(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var T=this;return(0,h.Z)(function*(){let R=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),R=!0),_&&(yield kn(T)),yield T.auth._persistUserIfCurrent(T),R&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,h.Z)(function*(){const _=yield y.getIdToken();return yield nt(y,function(E,y){return qr.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var T,R,k,ce,Be,ft,Rt,rn;const Jn=null!==(T=_.displayName)&&void 0!==T?T:void 0,Ys=null!==(R=_.email)&&void 0!==R?R:void 0,ys=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,Gh=null!==(ce=_.photoURL)&&void 0!==ce?ce:void 0,Lg=null!==(Be=_.tenantId)&&void 0!==Be?Be:void 0,os=null!==(ft=_._redirectEventId)&&void 0!==ft?ft:void 0,zh=null!==(Rt=_.createdAt)&&void 0!==Rt?Rt:void 0,Ns=null!==(rn=_.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:_o,emailVerified:Wh,isAnonymous:Kh,providerData:Tc,stsTokenManager:g_}=_;Ee(_o&&g_,y,"internal-error");const dw=W.fromJSON(this.name,g_);Ee("string"==typeof _o,y,"internal-error"),ke(Jn,y.name),ke(Ys,y.name),Ee("boolean"==typeof Wh,y,"internal-error"),Ee("boolean"==typeof Kh,y,"internal-error"),ke(ys,y.name),ke(Gh,y.name),ke(Lg,y.name),ke(os,y.name),ke(zh,y.name),ke(Ns,y.name);const Vg=new et({uid:_o,auth:y,email:Ys,emailVerified:Wh,displayName:Jn,isAnonymous:Kh,photoURL:Gh,phoneNumber:ys,tenantId:Lg,stsTokenManager:dw,createdAt:zh,lastLoginAt:Ns});return Tc&&Array.isArray(Tc)&&(Vg.providerData=Tc.map(Kl=>Object.assign({},Kl))),os&&(Vg._redirectEventId=os),Vg}static _fromIdTokenResponse(y,_,T=!1){return(0,h.Z)(function*(){const R=new W;R.updateFromServerResponse(_);const k=new et({uid:_.localId,auth:y,stsTokenManager:R,isAnonymous:T});return yield kn(k),k})()}}const on=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(_,T){var R=this;return(0,h.Z)(function*(){R.storage[_]=T})()}_get(_){var T=this;return(0,h.Z)(function*(){const R=T.storage[_];return void 0===R?null:R})()}_remove(_){var T=this;return(0,h.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return E.type="NONE",E})();function fn(E,y,_){return`firebase:${E}:${y}:${_}`}class he{constructor(y,_,T){this.persistence=y,this.auth=_,this.userKey=T;const{config:R,name:k}=this.auth;this.fullUserKey=fn(this.userKey,R.apiKey,k),this.fullPersistenceKey=fn("persistence",R.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,h.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?et._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,h.Z)(function*(){if(_.persistence===y)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,T="authUser"){return(0,h.Z)(function*(){if(!_.length)return new he(se(on),y,T);const R=(yield Promise.all(_.map(function(){var Rt=(0,h.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return Rt.apply(this,arguments)}}()))).filter(Rt=>Rt);let k=R[0]||se(on);const ce=fn(T,y.config.apiKey,y.name);let Be=null;for(const Rt of _)try{const rn=yield Rt._get(ce);if(rn){const Jn=et._fromJSON(y,rn);Rt!==k&&(Be=Jn),k=Rt;break}}catch(rn){}const ft=R.filter(Rt=>Rt._shouldAllowMigration);return k._shouldAllowMigration&&ft.length?(k=ft[0],Be&&(yield k._set(ce,Be.toJSON())),yield Promise.all(_.map(function(){var Rt=(0,h.Z)(function*(rn){if(rn!==k)try{yield rn._remove(ce)}catch(Jn){}});return function(rn){return Rt.apply(this,arguments)}}())),new he(k,y,T)):new he(k,y,T)})()}}function q(E){const y=E.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Fe(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(j(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(dt(y))return"Blackberry";if(Ct(y))return"Webos";if(U(y))return"Safari";if((y.includes("chrome/")||ie(y))&&!y.includes("edge/"))return"Chrome";if(it(y))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function j(E=(0,Z.z$)()){return/firefox\//i.test(E)}function U(E=(0,Z.z$)()){const y=E.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ie(E=(0,Z.z$)()){return/crios\//i.test(E)}function Fe(E=(0,Z.z$)()){return/iemobile/i.test(E)}function it(E=(0,Z.z$)()){return/android/i.test(E)}function dt(E=(0,Z.z$)()){return/blackberry/i.test(E)}function Ct(E=(0,Z.z$)()){return/webos/i.test(E)}function kt(E=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function pn(E=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function tn(E=(0,Z.z$)()){return kt(E)||it(E)||Ct(E)||dt(E)||/windows phone/i.test(E)||Fe(E)}function fs(E,y=[]){let _;switch(E){case"Browser":_=q((0,Z.z$)());break;case"Worker":_=`${q((0,Z.z$)())}-${E}`;break;default:_=E}const T=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${T}`}class Tr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,_){const T=k=>new Promise((ce,Be)=>{try{ce(y(k))}catch(ft){Be(ft)}});T.onAbort=_,this.queue.push(T);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(y){var _=this;return(0,h.Z)(function*(){var T;if(_.auth.currentUser===y)return;const R=[];try{for(const k of _.queue)yield k(y),k.onAbort&&R.push(k.onAbort)}catch(k){R.reverse();for(const ce of R)try{ce()}catch(Be){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=k)||void 0===T?void 0:T.message})}})()}}class Ya{constructor(y,_,T){this.app=y,this.heartbeatServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z(this),this.idTokenSubscription=new z(this),this.beforeStateQueue=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Te,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(y,_){var T=this;return _&&(this._popupRedirectResolver=se(_)),this._initializationPromise=this.queue((0,h.Z)(function*(){var R,k;if(!T._deleted&&(T.persistenceManager=yield he.create(T,y),!T._deleted)){if(null===(R=T._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(ce){}yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(k=T.currentUser)||void 0===k?void 0:k.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,h.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_,!0)}})()}initializeCurrentUser(y){var _=this;return(0,h.Z)(function*(){var T;const R=yield _.assertedPersistence.getCurrentUser();let k=R,ce=!1;if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Be=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,ft=null==k?void 0:k._redirectEventId,Rt=yield _.tryRedirectSignIn(y);(!Be||Be===ft)&&(null==Rt?void 0:Rt.user)&&(k=Rt.user,ce=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(ce)try{yield _.beforeStateQueue.runMiddleware(k)}catch(Be){k=R,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Be))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return Ee(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(y){var _=this;return(0,h.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(R){yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,h.Z)(function*(){var T;try{yield kn(y)}catch(R){if("auth/network-request-failed"!==(null===(T=R)||void 0===T?void 0:T.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var y=this;return(0,h.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,h.Z)(function*(){const T=y?(0,Z.m9)(y):null;return T&&Ee(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(y,_=!1){var T=this;return(0,h.Z)(function*(){if(!T._deleted)return y&&Ee(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),_||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,h.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,h.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var _=this;return this.queue((0,h.Z)(function*(){yield _.assertedPersistence.setPersistence(se(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new Z.LL("auth","Firebase",y())}onAuthStateChanged(y,_,T){return this.registerStateListener(this.authStateSubscription,y,_,T)}beforeAuthStateChanged(y,_){return this.beforeStateQueue.pushCallback(y,_)}onIdTokenChanged(y,_,T){return this.registerStateListener(this.idTokenSubscription,y,_,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var T=this;return(0,h.Z)(function*(){const R=yield T.getOrInitRedirectPersistenceManager(_);return null===y?R.removeCurrentUser():R.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,h.Z)(function*(){if(!_.redirectPersistenceManager){const T=y&&se(y)||_._popupRedirectResolver;Ee(T,_,"argument-error"),_.redirectPersistenceManager=yield he.create(_,[se(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,h.Z)(function*(){var T,R;return _._isInitialized&&(yield _.queue((0,h.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===y?_._currentUser:(null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,h.Z)(function*(){if(y===_.currentUser)return _.queue((0,h.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,T,R){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),ce=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(ce,this,"internal-error"),ce.then(()=>k(this.currentUser)),"function"==typeof _?y.addObserver(_,T,R):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,h.Z)(function*(){_.currentUser&&_.currentUser!==y&&_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh(),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,h.Z)(function*(){var _;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const R=yield null===(_=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return R&&(T["X-Firebase-Client"]=R),T})()}}function wn(E){return(0,Z.m9)(E)}class z{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,Z.ne)(_=>this.observer=_)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function de(E,y,_){const T=wn(E);Ee(T._canInitEmulator,T,"emulator-config-failed"),Ee(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const R=!!(null==_?void 0:_.disableWarnings),k=Ve(y),{host:ce,port:Be}=function(E){const y=Ve(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(y.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(T);if(R){const k=R[1];return{host:k,port:Tn(T.substr(k.length+1))}}{const[k,ce]=T.split(":");return{host:k,port:Tn(ce)}}}(y);T.config.emulator={url:`${k}//${ce}${null===Be?"":`:${Be}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ce,port:Be,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function(){function E(){const y=document.createElement("p"),_=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Ve(E){const y=E.indexOf(":");return y<0?"":E.substr(0,y+1)}function Tn(E){if(!E)return null;const y=Number(E);return isNaN(y)?null:y}class An{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return $e("not implemented")}_getIdTokenResponse(y){return $e("not implemented")}_linkToIdToken(y,_){return $e("not implemented")}_getReauthenticationResolver(y){return $e("not implemented")}}function cn(E,y){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:resetPassword",At(E,y))})).apply(this,arguments)}function Cr(E,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function xo(E,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:update",At(E,y))})).apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signInWithPassword",At(E,y))})).apply(this,arguments)}function Sr(E,y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:sendOobCode",At(E,y))})).apply(this,arguments)}function Ii(E,y){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(E,y){return Sr(E,y)})).apply(this,arguments)}function xn(E,y){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(E,y){return Sr(E,y)})).apply(this,arguments)}function fa(E,y){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(E,y){return Sr(E,y)})).apply(this,arguments)}function pa(E,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(E,y){return Sr(E,y)})).apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signInWithEmailLink",At(E,y))})).apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signInWithEmailLink",At(E,y))})).apply(this,arguments)}class ci extends An{constructor(y,_,T,R=null){super("password",T),this._email=y,this._password=_,this._tenantId=R}static _fromEmailAndPassword(y,_){return new ci(y,_,"password")}static _fromEmailAndCode(y,_,T=null){return new ci(y,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return function(E,y){return ei.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(E,y){return Cs.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:Ne(y,"internal-error")}})()}_linkToIdToken(y,_){var T=this;return(0,h.Z)(function*(){switch(T.signInMethod){case"password":return Cr(y,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(E,y){return Oo.apply(this,arguments)}(y,{idToken:_,email:T._email,oobCode:T._password});default:Ne(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Cn(E,y){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signInWithIdp",At(E,y))})).apply(this,arguments)}class Ci extends An{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new Ci(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):Ne("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:R}=_,k=(0,ue._T)(_,["providerId","signInMethod"]);if(!T||!R)return null;const ce=new Ci(T,R);return ce.idToken=k.idToken||void 0,ce.accessToken=k.accessToken||void 0,ce.secret=k.secret,ce.nonce=k.nonce,ce.pendingToken=k.pendingToken||null,ce}_getIdTokenResponse(y){return Cn(y,this.buildRequest())}_linkToIdToken(y,_){const T=this.buildRequest();return T.idToken=_,Cn(y,T)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Cn(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,Z.xO)(_)}return y}}function Mi(E,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:sendVerificationCode",At(E,y))})).apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signInWithPhoneNumber",At(E,y))})).apply(this,arguments)}function Eh(){return(Eh=(0,h.Z)(function*(E,y){const _=yield Yt(E,"POST","/v1/accounts:signInWithPhoneNumber",At(E,y));if(_.temporaryProof)throw Zn(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Xa={USER_NOT_FOUND:"user-not-found"};function wh(){return(wh=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signInWithPhoneNumber",At(E,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Xa)})).apply(this,arguments)}class va extends An{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new va({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new va({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function(E,y){return ya.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function(E,y){return Eh.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(E,y){return wh.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:T,verificationCode:R}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:T,code:R}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:T,phoneNumber:R,temporaryProof:k}=y;return T||_||R||k?new va({verificationId:_,verificationCode:T,phoneNumber:R,temporaryProof:k}):null}}class eu{constructor(y){var _,T,R,k,ce,Be;const ft=(0,Z.zd)((0,Z.pd)(y)),Rt=null!==(_=ft.apiKey)&&void 0!==_?_:null,rn=null!==(T=ft.oobCode)&&void 0!==T?T:null,Jn=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=ft.mode)&&void 0!==R?R:null);Ee(Rt&&rn&&Jn,"argument-error"),this.apiKey=Rt,this.operation=Jn,this.code=rn,this.continueUrl=null!==(k=ft.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(ce=ft.languageCode)&&void 0!==ce?ce:null,this.tenantId=null!==(Be=ft.tenantId)&&void 0!==Be?Be:null}static parseLink(y){const _=function(E){const y=(0,Z.zd)((0,Z.pd)(E)).link,_=y?(0,Z.zd)((0,Z.pd)(y)).deep_link_id:null,T=(0,Z.zd)((0,Z.pd)(E)).deep_link_id;return(T?(0,Z.zd)((0,Z.pd)(T)).link:null)||T||_||y||E}(y);try{return new eu(_)}catch(T){return null}}}let xl=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(_,T){return ci._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const R=eu.parseLink(T);return Ee(R,"argument-error"),ci._fromEmailAndCode(_,R.code,R.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Ss{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class No extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Po extends No{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return Ee("providerId"in _&&"signInMethod"in _,"argument-error"),Ci._fromParams(_)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ee(y.idToken||y.accessToken,"argument-error"),Ci._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Po.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Po.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:R,pendingToken:k,nonce:ce,providerId:Be}=y;if(!T&&!R&&!_&&!k||!Be)return null;try{return new Po(Be)._credential({idToken:_,accessToken:T,nonce:ce,pendingToken:k})}catch(ft){return null}}}let tu=(()=>{class E extends No{constructor(){super("facebook.com")}static credential(_){return Ci._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(T){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),nu=(()=>{class E extends No{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return Ci._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:R}=_;if(!T&&!R)return null;try{return E.credential(T,R)}catch(k){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),ru=(()=>{class E extends No{constructor(){super("github.com")}static credential(_){return Ci._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(T){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class qs extends An{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return Cn(y,this.buildRequest())}_linkToIdToken(y,_){const T=this.buildRequest();return T.idToken=_,Cn(y,T)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Cn(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:R,pendingToken:k}=_;return T&&R&&k&&T===R?new qs(T,k):null}static _create(y,_){return new qs(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends Ss{constructor(y){Ee(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return ki.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return ki.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const _=qs.fromJSON(y);return Ee(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:_,providerId:T}=y;if(!_||!T)return null;try{return qs._create(T,_)}catch(R){return null}}}let Th=(()=>{class E extends No{constructor(){super("twitter.com")}static credential(_,T){return Ci._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:R}=_;if(!T||!R)return null;try{return E.credential(T,R)}catch(k){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Nl(E,y){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signUp",At(E,y))})).apply(this,arguments)}class es{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,T,R=!1){return(0,h.Z)(function*(){const k=yield et._fromIdTokenResponse(y,T,R),ce=Ch(T);return new es({user:k,providerId:ce,_tokenResponse:T,operationType:_})})()}static _forOperation(y,_,T){return(0,h.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const R=Ch(T);return new es({user:y,providerId:R,_tokenResponse:T,operationType:_})})()}}function Ch(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Mo(E){return ko.apply(this,arguments)}function ko(){return(ko=(0,h.Z)(function*(E){var y;const _=wn(E);if(yield _._initializationPromise,null===(y=_.currentUser)||void 0===y?void 0:y.isAnonymous)return new es({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield Nl(_,{returnSecureToken:!0}),R=yield es._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class iu extends Z.ZR{constructor(y,_,T,R){var k;super(_.code,_.message),this.operationType=T,this.user=R,Object.setPrototypeOf(this,iu.prototype),this.customData={appName:y.name,tenantId:null!==(k=y.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,_,T,R){return new iu(y,_,T,R)}}function ba(E,y,_,T){return("reauthenticate"===y?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?iu._fromErrorAndOperation(E,k,y,T):k})}function $s(E){return new Set(E.map(({providerId:y})=>y).filter(y=>!!y))}function ts(E,y){return ns.apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(E,y){const _=(0,Z.m9)(E);yield Ds(!0,_,y);const{providerUserInfo:T}=yield gr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),R=$s(T||[]);return _.providerData=_.providerData.filter(k=>R.has(k.providerId)),R.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function oc(E,y){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,h.Z)(function*(E,y,_=!1){const T=yield nt(E,y._linkToIdToken(E.auth,yield E.getIdToken()),_);return es._forOperation(E,"link",T)})).apply(this,arguments)}function Ds(E,y,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(E,y,_){yield kn(y);const R=!1===E?"provider-already-linked":"no-such-provider";Ee($s(y.providerData).has(_)===E,y.auth,R)})).apply(this,arguments)}function su(E,y){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(E,y,_=!1){var T;const{auth:R}=E,k="reauthenticate";try{const ce=yield nt(E,ba(R,k,y,E),_);Ee(ce.idToken,R,"internal-error");const Be=mn(ce.idToken);Ee(Be,R,"internal-error");const{sub:ft}=Be;return Ee(E.uid===ft,R,"user-mismatch"),es._forOperation(E,k,ce)}catch(ce){throw"auth/user-not-found"===(null===(T=ce)||void 0===T?void 0:T.code)&&Ne(R,"user-mismatch"),ce}})).apply(this,arguments)}function L(E,y){return V.apply(this,arguments)}function V(){return(V=(0,h.Z)(function*(E,y,_=!1){const T="signIn",R=yield ba(E,T,y),k=yield es._fromIdTokenResponse(E,T,R);return _||(yield E._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ne(E,y){return fe.apply(this,arguments)}function fe(){return(fe=(0,h.Z)(function*(E,y){return L(wn(E),y)})).apply(this,arguments)}function Ke(E,y){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(E,y){const _=(0,Z.m9)(E);return yield Ds(!1,_,y.providerId),oc(_,y)})).apply(this,arguments)}function It(E,y){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(E,y){return su((0,Z.m9)(E),y)})).apply(this,arguments)}function Mr(E,y){return cr.apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(E,y){return Yt(E,"POST","/v1/accounts:signInWithCustomToken",At(E,y))})).apply(this,arguments)}function Fn(E,y){return xt.apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(E,y){const _=wn(E),T=yield Mr(_,{token:y,returnSecureToken:!0}),R=yield es._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class Fi{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?Hs._fromServerResponse(y,_):Ne(y,"internal-error")}}class Hs extends Fi{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new Hs(_)}}function Zs(E,y,_){var T;Ee((null===(T=_.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),Ee(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ee(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),y.iOSBundleId=_.iOS.bundleId),_.android&&(Ee(_.android.packageName.length>0,E,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function Li(E,y,_){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E),R={requestType:"PASSWORD_RESET",email:y};_&&Zs(T,R,_),yield xn(T,R)})).apply(this,arguments)}function ac(E,y,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(E,y,_){yield cn((0,Z.m9)(E),{oobCode:y,newPassword:_})})).apply(this,arguments)}function ou(E,y){return Si.apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(E,y){yield xo((0,Z.m9)(E),{oobCode:y})})).apply(this,arguments)}function ps(E,y){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,h.Z)(function*(E,y){const _=(0,Z.m9)(E),T=yield cn(_,{oobCode:y}),R=T.requestType;switch(Ee(R,_,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(T.mfaInfo,_,"internal-error");default:Ee(T.email,_,"internal-error")}let k=null;return T.mfaInfo&&(k=Fi._fromServerResponse(wn(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:k},operation:R}})).apply(this,arguments)}function Sh(E,y){return wa.apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(E,y){const{data:_}=yield ps((0,Z.m9)(E),y);return _.email})).apply(this,arguments)}function ig(E,y,_){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(E,y,_){const T=wn(E),R=yield Nl(T,{returnSecureToken:!0,email:y,password:_}),k=yield es._fromIdTokenResponse(T,"signIn",R);return yield T._updateCurrentUser(k.user),k})).apply(this,arguments)}function vn(E,y,_){return ne((0,Z.m9)(E),xl.credential(y,_))}function Dh(E,y,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E),R={requestType:"EMAIL_SIGNIN",email:y};Ee(_.handleCodeInApp,T,"argument-error"),_&&Zs(T,R,_),yield fa(T,R)})).apply(this,arguments)}function sg(E,y){const _=eu.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function uc(E,y,_){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E),R=xl.credentialWithLink(y,_||_e());return Ee(R._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),ne(T,R)})).apply(this,arguments)}function Ah(E,y){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:createAuthUri",At(E,y))})).apply(this,arguments)}function Fv(E,y){return og.apply(this,arguments)}function og(){return(og=(0,h.Z)(function*(E,y){const T={identifier:y,continueUri:He()?_e():"http://localhost"},{signinMethods:R}=yield Ah((0,Z.m9)(E),T);return R||[]})).apply(this,arguments)}function Ia(E,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,h.Z)(function*(E,y){const _=(0,Z.m9)(E),R={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};y&&Zs(_.auth,R,y);const{email:k}=yield Ii(_.auth,R);k!==E.email&&(yield E.reload())})).apply(this,arguments)}function Vi(E,y,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:y};_&&Zs(T.auth,k,_);const{email:ce}=yield pa(T.auth,k);ce!==E.email&&(yield E.reload())})).apply(this,arguments)}function xh(E,y){return jo.apply(this,arguments)}function jo(){return(jo=(0,h.Z)(function*(E,y){return pt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function po(E,y){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,h.Z)(function*(E,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const T=(0,Z.m9)(E),k={idToken:yield T.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},ce=yield nt(T,xh(T.auth,k));T.displayName=ce.displayName||null,T.photoURL=ce.photoUrl||null;const Be=T.providerData.find(({providerId:ft})=>"password"===ft);Be&&(Be.displayName=T.displayName,Be.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ce)})).apply(this,arguments)}function ag(E,y){return Nh((0,Z.m9)(E),y,null)}function Oh(E,y){return Nh((0,Z.m9)(E),null,y)}function Nh(E,y,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,h.Z)(function*(E,y,_){const{auth:T}=E,k={idToken:yield E.getIdToken(),returnSecureToken:!0};y&&(k.email=y),_&&(k.password=_);const ce=yield nt(E,Cr(T,k));yield E._updateTokensIfNecessary(ce,!0)})).apply(this,arguments)}class Ta{constructor(y,_,T={}){this.isNewUser=y,this.providerId=_,this.profile=T}}class Mh extends Ta{constructor(y,_,T,R){super(y,_,T),this.username=R}}class Lv extends Ta{constructor(y,_){super(y,"facebook.com",_)}}class Vv extends Mh{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class lc extends Ta{constructor(y,_){super(y,"google.com",_)}}class ug extends Mh{constructor(y,_,T){super(y,"twitter.com",_,T)}}function cg(E){const{user:y,_tokenResponse:_}=E;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(E){var y,_;if(!E)return null;const{providerId:T}=E,R=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},k=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&(null==E?void 0:E.idToken)){const ce=null===(_=null===(y=mn(E.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(ce)return new Ta(k,"anonymous"!==ce&&"custom"!==ce?ce:null)}if(!T)return null;switch(T){case"facebook.com":return new Lv(k,R);case"github.com":return new Vv(k,R);case"google.com":return new lc(k,R);case"twitter.com":return new ug(k,R,E.screenName||null);case"custom":case"anonymous":return new Ta(k,null);default:return new Ta(k,T,R)}}(_)}function X0(E,y,_,T){return(0,Z.m9)(E).onAuthStateChanged(y,_,T)}class Sa{constructor(y,_){this.type=y,this.credential=_}static _fromIdtoken(y){return new Sa("enroll",y)}static _fromMfaPendingCredential(y){return new Sa("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,T;if(null==y?void 0:y.multiFactorSession){if(null===(_=y.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Sa._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(T=y.multiFactorSession)||void 0===T?void 0:T.idToken)return Sa._fromIdtoken(y.multiFactorSession.idToken)}return null}}class hc{constructor(y,_,T){this.session=y,this.hints=_,this.signInResolver=T}static _fromError(y,_){const T=wn(y),R=_.customData._serverResponse,k=(R.mfaInfo||[]).map(Be=>Fi._fromServerResponse(T,Be));Ee(R.mfaPendingCredential,T,"internal-error");const ce=Sa._fromMfaPendingCredential(R.mfaPendingCredential);return new hc(ce,k,function(){var Be=(0,h.Z)(function*(ft){const Rt=yield ft._process(T,ce);delete R.mfaInfo,delete R.mfaPendingCredential;const rn=Object.assign(Object.assign({},R),{idToken:Rt.idToken,refreshToken:Rt.refreshToken});switch(_.operationType){case"signIn":const Jn=yield es._fromIdTokenResponse(T,_.operationType,rn);return yield T._updateCurrentUser(Jn.user),Jn;case"reauthenticate":return Ee(_.user,T,"internal-error"),es._forOperation(_.user,_.operationType,rn);default:Ne(T,"internal-error")}});return function(ft){return Be.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,h.Z)(function*(){return _.signInResolver(y)})()}}function Uv(E,y){var _;const T=(0,Z.m9)(E),R=y;return Ee(y.customData.operationType,T,"argument-error"),Ee(null===(_=R.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),hc._fromError(T,R)}function jv(E,y){return pt(E,"POST","/v2/accounts/mfaEnrollment:start",At(E,y))}class au{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>Fi._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new au(y)}getSession(){var y=this;return(0,h.Z)(function*(){return Sa._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,_){var T=this;return(0,h.Z)(function*(){const R=y,k=yield T.getSession(),ce=yield nt(T.user,R._process(T.user.auth,k,_));return yield T.user._updateTokensIfNecessary(ce),T.user.reload()})()}unenroll(y){var _=this;return(0,h.Z)(function*(){var T;const R="string"==typeof y?y:y.uid,k=yield _.user.getIdToken(),ce=yield nt(_.user,function(E,y){return pt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",At(E,y))}(_.user.auth,{idToken:k,mfaEnrollmentId:R}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Be})=>Be!==R),yield _.user._updateTokensIfNecessary(ce);try{yield _.user.reload()}catch(Be){if("auth/user-token-expired"!==(null===(T=Be)||void 0===T?void 0:T.code))throw Be}})()}}const fc=new WeakMap;function hg(E){const y=(0,Z.m9)(E);return fc.has(y)||fc.set(y,au._fromUser(y)),fc.get(y)}const pc="__sak";class fg{constructor(y,_){this.storageRetriever=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const gc=(()=>{class E extends fg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,Z.z$)();return U(E)||kt(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=tn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const R=this.storage.getItem(T),k=this.localCache[T];R!==k&&_(T,k,R)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys((Be,ft,Rt)=>{this.notifyListeners(Be,Rt)});const R=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(R);if(_.newValue!==Be)null!==_.newValue?this.storage.setItem(R,_.newValue):this.storage.removeItem(R);else if(this.localCache[R]===_.newValue&&!T)return}const k=()=>{const Be=this.storage.getItem(R);!T&&this.localCache[R]===Be||this.notifyListeners(R,Be)},ce=this.storage.getItem(R);(0,Z.w1)()&&10===document.documentMode&&ce!==_.newValue&&_.newValue!==_.oldValue?setTimeout(k,10):k()}notifyListeners(_,T){this.localCache[_]=T;const R=this.listeners[_];if(R)for(const k of Array.from(R))k(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var R=()=>super._set,k=this;return(0,h.Z)(function*(){yield R().call(k,_,T),k.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,R=this;return(0,h.Z)(function*(){const k=yield T().call(R,_);return R.localCache[_]=JSON.stringify(k),k})()}_remove(_){var T=()=>super._remove,R=this;return(0,h.Z)(function*(){yield T().call(R,_),delete R.localCache[_]})()}}return E.type="LOCAL",E})(),Ml=(()=>{class E extends fg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return E.type="SESSION",E})();let nw=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(k=>k.isListeningto(_));if(T)return T;const R=new E(_);return this.receivers.push(R),R}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,h.Z)(function*(){const R=_,{eventId:k,eventType:ce,data:Be}=R.data,ft=T.handlersMap[ce];if(!(null==ft?void 0:ft.size))return;R.ports[0].postMessage({status:"ack",eventId:k,eventType:ce});const Rt=Array.from(ft).map(function(){var Jn=(0,h.Z)(function*(Ys){return Ys(R.origin,Be)});return function(Ys){return Jn.apply(this,arguments)}}()),rn=yield function(E){return Promise.all(E.map(function(){var y=(0,h.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return y.apply(this,arguments)}}()))}(Rt);R.ports[0].postMessage({status:"done",eventId:k,eventType:ce,response:rn})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function kl(E="",y=10){let _="";for(let T=0;T<y;T++)_+=Math.floor(10*Math.random());return E+_}class uu{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,T=50){var R=this;return(0,h.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let ce,Be;return new Promise((ft,Rt)=>{const rn=kl("",20);k.port1.start();const Jn=setTimeout(()=>{Rt(new Error("unsupported_event"))},T);Be={messageChannel:k,onMessage(Ys){const ys=Ys;if(ys.data.eventId===rn)switch(ys.data.status){case"ack":clearTimeout(Jn),ce=setTimeout(()=>{Rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ce),ft(ys.data.response);break;default:clearTimeout(Jn),clearTimeout(ce),Rt(new Error("invalid_response"))}}},R.handlers.add(Be),k.port1.addEventListener("message",Be.onMessage),R.target.postMessage({eventType:y,eventId:rn,data:_},[k.port2])}).finally(()=>{Be&&R.removeMessageHandler(Be)})})()}}function yr(){return window}function mc(){return void 0!==yr().WorkerGlobalScope&&"function"==typeof yr().importScripts}function Fl(){return(Fl=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const cu="firebaseLocalStorageDb",lu="firebaseLocalStorage",Hv="fbase_key";class vc{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Pt(E,y){return E.transaction([lu],y?"readwrite":"readonly").objectStore(lu)}function Zr(){const E=indexedDB.open(cu,1);return new Promise((y,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(lu,{keyPath:Hv})}catch(R){_(R)}}),E.addEventListener("success",(0,h.Z)(function*(){const T=E.result;T.objectStoreNames.contains(lu)?y(T):(T.close(),yield function(){const E=indexedDB.deleteDatabase(cu);return new vc(E).toPromise()}(),y(yield Zr()))}))})}function xs(E,y,_){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(E,y,_){const T=Pt(E,!0).put({[Hv]:y,value:_});return new vc(T).toPromise()})).apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(E,y){const _=Pt(E,!1).get(y),T=yield new vc(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function _c(E,y){const _=Pt(E,!0).delete(y);return new vc(_).toPromise()}const rs=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,h.Z)(function*(){return _.db||(_.db=yield Zr()),_.db})()}_withRetries(_){var T=this;return(0,h.Z)(function*(){let R=0;for(;;)try{const k=yield T._openDb();return yield _(k)}catch(k){if(R++>3)throw k;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,h.Z)(function*(){return mc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,h.Z)(function*(){_.receiver=nw._getInstance(mc()?self:null),_.receiver._subscribe("keyChanged",function(){var T=(0,h.Z)(function*(R,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(R,k){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,h.Z)(function*(R,k){return["keyChanged"]});return function(R,k){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,h.Z)(function*(){var T,R;if(_.activeServiceWorker=yield function(){return Fl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new uu(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(T=k[0])||void 0===T?void 0:T.fulfilled)&&(null===(R=k[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,h.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Zr();return yield xs(_,pc,"1"),yield _c(_,pc),!0}catch(_){}return!1})()}_withPendingWrite(_){var T=this;return(0,h.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var R=this;return(0,h.Z)(function*(){return R._withPendingWrite((0,h.Z)(function*(){return yield R._withRetries(k=>xs(k,_,T)),R.localCache[_]=T,R.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,h.Z)(function*(){const R=yield T._withRetries(k=>function(E,y){return du.apply(this,arguments)}(k,_));return T.localCache[_]=R,R})()}_remove(_){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(R=>_c(R,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,h.Z)(function*(){const T=yield _._withRetries(ce=>{const Be=Pt(ce,!1).getAll();return new vc(Be).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const R=[],k=new Set;for(const{fbase_key:ce,value:Be}of T)k.add(ce),JSON.stringify(_.localCache[ce])!==JSON.stringify(Be)&&(_.notifyListeners(ce,Be),R.push(ce));for(const ce of Object.keys(_.localCache))_.localCache[ce]&&!k.has(ce)&&(_.notifyListeners(ce,null),R.push(ce));return R})()}notifyListeners(_,T){this.localCache[_]=T;const R=this.listeners[_];if(R)for(const k of Array.from(R))k(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function vg(E,y){return pt(E,"POST","/v2/accounts/mfaSignIn:start",At(E,y))}function hu(){return(hu=(0,h.Z)(function*(E){return(yield pt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fh(E){return new Promise((y,_)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=y,T.onerror=R=>{const k=rt("internal-error");k.customData=R,_(k)},T.type="text/javascript",T.charset="UTF-8",function(){var E,y;return null!==(y=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==y?y:document}().appendChild(T)})}function Gs(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Ll=1e12;class Vl{constructor(y){this.auth=y,this.counter=Ll,this._widgets=new Map}render(y,_){const T=this.counter;return this._widgets.set(T,new Ul(y,this.auth.name,_||{})),this.counter++,T}reset(y){var _;const T=y||Ll;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(y){var _;return(null===(_=this._widgets.get(y||Ll))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,h.Z)(function*(){var T;return null===(T=_._widgets.get(y||Ll))||void 0===T||T.execute(),""})()}}class Ul{constructor(y,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof y?document.getElementById(y):y;Ee(R,"argument-error",{appName:_}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}();const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $o=Gs("rcb"),zs=new wt(3e4,6e4);class bc{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(y=yr().grecaptcha)||void 0===y?void 0:y.render)}load(y,_=""){return Ee((E=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(yr().grecaptcha):new Promise((T,R)=>{const k=yr().setTimeout(()=>{R(rt(y,"network-request-failed"))},zs.get());yr()[$o]=()=>{yr().clearTimeout(k),delete yr()[$o];const Be=yr().grecaptcha;if(!Be)return void R(rt(y,"internal-error"));const ft=Be.render;Be.render=(Rt,rn)=>{const Jn=ft(Rt,rn);return this.counter++,Jn},this.hostLanguage=_,T(Be)},Fh(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:$o,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),R(rt(y,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var _;return!!(null===(_=yr().grecaptcha)||void 0===_?void 0:_.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lh{load(y){return(0,h.Z)(function*(){return new Vl(y)})()}clearedOneInstance(){}}const _g="recaptcha",Vh={theme:"light",type:"image"};class Wv{constructor(y,_=Object.assign({},Vh),T){this.parameters=_,this.type=_g,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(T),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof y?document.getElementById(y):y;Ee(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lh:new bc,this.validateStartingState()}verify(){var y=this;return(0,h.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(_)||new Promise(k=>{const ce=Be=>{!Be||(y.tokenChangeListeners.delete(ce),k(Be))};y.tokenChangeListeners.add(ce),y.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof y)y(_);else if("string"==typeof y){const T=yr()[y];"function"==typeof T&&T(_)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,h.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,h.Z)(function*(){Ee(He()&&!mc(),y.auth,"internal-error"),yield function(){let E=null;return new Promise(y=>{"complete"!==document.readyState?(E=()=>y(),window.addEventListener("load",E)):y()}).catch(y=>{throw E&&window.removeEventListener("load",E),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function(E){return hu.apply(this,arguments)}(y.auth);Ee(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gn{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=va._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function Kv(E,y,_){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,h.Z)(function*(E,y,_){const T=wn(E),R=yield Eg(T,y,(0,Z.m9)(_));return new Gn(R,k=>ne(T,k))})).apply(this,arguments)}function MD(E,y,_){return Qv.apply(this,arguments)}function Qv(){return(Qv=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E);yield Ds(!1,T,"phone");const R=yield Eg(T.auth,y,(0,Z.m9)(_));return new Gn(R,k=>Ke(T,k))})).apply(this,arguments)}function kD(E,y,_){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E),R=yield Eg(T.auth,y,(0,Z.m9)(_));return new Gn(R,k=>It(T,k))})).apply(this,arguments)}function Eg(E,y,_){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,h.Z)(function*(E,y,_){var T;const R=yield _.verify();try{let k;if(Ee("string"==typeof R,E,"argument-error"),Ee(_.type===_g,E,"argument-error"),k="string"==typeof y?{phoneNumber:y}:y,"session"in k){const ce=k.session;if("phoneNumber"in k)return Ee("enroll"===ce.type,E,"internal-error"),(yield jv(E,{idToken:ce.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{Ee("signin"===ce.type,E,"internal-error");const Be=(null===(T=k.multiFactorHint)||void 0===T?void 0:T.uid)||k.multiFactorUid;return Ee(Be,E,"missing-multi-factor-info"),(yield vg(E,{mfaPendingCredential:ce.credential,mfaEnrollmentId:Be,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ce}=yield Mi(E,{phoneNumber:k.phoneNumber,recaptchaToken:R});return ce}}finally{_._reset()}})).apply(this,arguments)}function rw(E,y){return wg.apply(this,arguments)}function wg(){return(wg=(0,h.Z)(function*(E,y){yield oc((0,Z.m9)(E),y)})).apply(this,arguments)}let Xv=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=wn(_)}verifyPhoneNumber(_,T){return Eg(this.auth,_,(0,Z.m9)(T))}static credential(_,T){return va._fromVerification(_,T)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:R}=_;return T&&R?va._fromTokenResponse(T,R):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function is(E,y){return y?se(y):(Ee(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class jl extends An{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Cn(y,this._buildIdpRequest())}_linkToIdToken(y,_){return Cn(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return Cn(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function Dr(E){return L(E.auth,new jl(E),E.bypassAuthState)}function Bl(E){const{auth:y,user:_}=E;return Ee(_,y,"internal-error"),su(_,new jl(E),E.bypassAuthState)}function gu(E){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,h.Z)(function*(E){const{auth:y,user:_}=E;return Ee(_,y,"internal-error"),oc(_,new jl(E),E.bypassAuthState)})).apply(this,arguments)}class e_{constructor(y,_,T,R,k=!1){this.auth=y,this.resolver=T,this.user=R,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,h.Z)(function*(T,R){y.pendingPromise={resolve:T,reject:R};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(k){y.reject(k)}});return function(T,R){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,h.Z)(function*(){const{urlResponse:T,sessionId:R,postBody:k,tenantId:ce,error:Be,type:ft}=y;if(Be)return void _.reject(Be);const Rt={auth:_.auth,requestUri:T,sessionId:R,tenantId:ce||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ft)(Rt))}catch(rn){_.reject(rn)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Dr;case"linkViaPopup":case"linkViaRedirect":return gu;case"reauthViaPopup":case"reauthViaRedirect":return Bl;default:Ne(this.auth,"internal-error")}}resolve(y){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rs=new wt(2e3,1e4);function Ws(E,y,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,h.Z)(function*(E,y,_){const T=wn(E);tt(E,y,Ss);const R=is(T,_);return new Ho(T,"signInViaPopup",y,R).executeNotNull()})).apply(this,arguments)}function yu(E,y,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E);tt(T.auth,y,Ss);const R=is(T.auth,_);return new Ho(T.auth,"reauthViaPopup",y,R,T).executeNotNull()})).apply(this,arguments)}function Mn(E,y,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E);tt(T.auth,y,Ss);const R=is(T.auth,_);return new Ho(T.auth,"linkViaPopup",y,R,T).executeNotNull()})).apply(this,arguments)}let Ho=(()=>{class E extends e_{constructor(_,T,R,k,ce){super(_,T,k,ce),this.provider=R,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,h.Z)(function*(){const T=yield _.execute();return Ee(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,h.Z)(function*(){Ze(1===_.filter.length,"Popup operations only handle one event");const T=kl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(R=>{_.reject(R)}),_.resolver._isIframeWebStorageSupported(_.auth,R=>{R||_.reject(rt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,R;this.pollId=(null===(R=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Rs.get())};_()}}return E.currentPopupAction=null,E})();const ql=new Map;class Tg extends e_{constructor(y,_,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,h.Z)(function*(){let T=ql.get(_.auth._key());if(!T){try{const k=(yield function(E,y){return ss.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;T=()=>Promise.resolve(k)}catch(R){T=()=>Promise.reject(R)}ql.set(_.auth._key(),T)}return _.bypassAuthState||ql.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,T=this;return(0,h.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(T,y);if("unknown"!==y.type){if(y.eventId){const R=yield T.auth._redirectUserForId(y.eventId);if(R)return T.user=R,_().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ss(){return(ss=(0,h.Z)(function*(E,y){const _=Ag(y),T=jh(E);if(!(yield T._isAvailable()))return!1;const R="true"===(yield T._get(_));return yield T._remove(_),R})).apply(this,arguments)}function Zo(E,y){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,h.Z)(function*(E,y){return jh(E)._set(Ag(y),"true")})).apply(this,arguments)}function Sg(){ql.clear()}function Dg(E,y){ql.set(E._key(),y)}function jh(E){return se(E._redirectPersistence)}function Ag(E){return fn("pendingRedirect",E.config.apiKey,E.name)}function xg(E,y,_){return function(E,y,_){return xa.apply(this,arguments)}(E,y,_)}function xa(){return(xa=(0,h.Z)(function*(E,y,_){const T=wn(E);tt(E,y,Ss);const R=is(T,_);return yield Zo(R,T),R._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function vu(E,y,_){return function(E,y,_){return Hl.apply(this,arguments)}(E,y,_)}function Hl(){return(Hl=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E);tt(T.auth,y,Ss);const R=is(T.auth,_);yield Zo(R,T.auth);const k=yield r_(T);return R._openRedirect(T.auth,y,"reauthViaRedirect",k)})).apply(this,arguments)}function _u(E,y,_){return function(E,y,_){return Os.apply(this,arguments)}(E,y,_)}function Os(){return(Os=(0,h.Z)(function*(E,y,_){const T=(0,Z.m9)(E);tt(T.auth,y,Ss);const R=is(T.auth,_);yield Ds(!1,T,y.providerId),yield Zo(R,T.auth);const k=yield r_(T);return R._openRedirect(T.auth,y,"linkViaRedirect",k)})).apply(this,arguments)}function n_(E,y){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,h.Z)(function*(E,y){return yield wn(E)._initializationPromise,bu(E,y,!1)})).apply(this,arguments)}function bu(E,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(E,y,_=!1){const T=wn(E),R=is(T,y),ce=yield new Tg(T,R,_).execute();return ce&&!_&&(delete ce.user._redirectEventId,yield T._persistUserIfCurrent(ce.user),yield T._setRedirectUser(null,y)),ce})).apply(this,arguments)}function r_(E){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,h.Z)(function*(E){const y=kl(`${E.uid}:::`);return E._redirectEventId=y,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),y})).apply(this,arguments)}class yo{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(_=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ar(E);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var T;if(y.error&&!Ar(y)){const R=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(rt(this.auth,R))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const T=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(y))}saveEventToCache(y){this.cachedEventUids.add(i_(y)),this.lastProcessedEventTime=Date.now()}}function i_(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(y=>y).join("-")}function Ar({type:E,error:y}){return"unknown"===E&&"auth/no-auth-event"===(null==y?void 0:y.code)}function s_(E){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(E,y={}){return pt(E,"GET","/v1/projects",y)})).apply(this,arguments)}const Gl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iw=/^https?/;function qh(){return(qh=(0,h.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:y}=yield s_(E);for(const _ of y)try{if(FD(_))return}catch(T){}Ne(E,"unauthorized-domain")})).apply(this,arguments)}function FD(E){const y=_e(),{protocol:_,hostname:T}=new URL(y);if(E.startsWith("chrome-extension://")){const ce=new URL(E);return""===ce.hostname&&""===T?"chrome-extension:"===_&&E.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&ce.hostname===T}if(!iw.test(_))return!1;if(Gl.test(E))return T===E;const R=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(T)}const wc=new wt(3e4,6e4);function vo(){const E=yr().___jsl;if(null==E?void 0:E.H)for(const y of Object.keys(E.H))if(E.H[y].r=E.H[y].r||[],E.H[y].L=E.H[y].L||[],E.H[y].r=[...E.H[y].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let Qs=null;function Og(E){return Qs=Qs||function(E){return new Promise((y,_)=>{var T,R,k;function ce(){vo(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{vo(),_(rt(E,"network-request-failed"))},timeout:wc.get()})}if(null===(R=null===(T=yr().gapi)||void 0===T?void 0:T.iframes)||void 0===R?void 0:R.Iframe)y(gapi.iframes.getContext());else{if(!(null===(k=yr().gapi)||void 0===k?void 0:k.load)){const Be=Gs("iframefcb");return yr()[Be]=()=>{gapi.load?ce():_(rt(E,"network-request-failed"))},Fh(`https://apis.google.com/js/api.js?onload=${Be}`).catch(ft=>_(ft))}ce()}}).catch(y=>{throw Qs=null,y})}(E),Qs}const a_=new wt(5e3,15e3),u_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sw(E){const y=E.config;Ee(y.authDomain,E,"auth-domain-config-required");const _=y.emulator?gn(y,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,T={apiKey:y.apiKey,appName:E.name,v:F.SDK_VERSION},R=c_.get(E.config.apiHost);R&&(T.eid=R);const k=E._getFrameworks();return k.length&&(T.fw=k.join(",")),`${_}?${(0,Z.xO)(T).slice(1)}`}function wu(){return wu=(0,h.Z)(function*(E){const y=yield Og(E),_=yr().gapi;return Ee(_,E,"internal-error"),y.open({where:document.body,url:sw(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u_,dontclear:!0},T=>new Promise(function(){var R=(0,h.Z)(function*(k,ce){yield T.restyle({setHideOnLeave:!1});const Be=rt(E,"network-request-failed"),ft=yr().setTimeout(()=>{ce(Be)},a_.get());function Rt(){yr().clearTimeout(ft),k(T)}T.ping(Rt).then(Rt,()=>{ce(Be)})});return function(k,ce){return R.apply(this,arguments)}}()))}),wu.apply(this,arguments)}const Pg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ic{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Wo(E,y,_,T,R,k){Ee(E.config.authDomain,E,"auth-domain-config-required"),Ee(E.config.apiKey,E,"invalid-api-key");const ce={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:T,v:F.SDK_VERSION,eventId:R};if(y instanceof Ss){y.setDefaultLanguage(E.languageCode),ce.providerId=y.providerId||"",(0,Z.xb)(y.getCustomParameters())||(ce.customParameters=JSON.stringify(y.getCustomParameters()));for(const[ft,Rt]of Object.entries(k||{}))ce[ft]=Rt}if(y instanceof No){const ft=y.getScopes().filter(Rt=>""!==Rt);ft.length>0&&(ce.scopes=ft.join(","))}E.tenantId&&(ce.tid=E.tenantId);const Be=ce;for(const ft of Object.keys(Be))void 0===Be[ft]&&delete Be[ft];return`${function({config:E}){return E.emulator?gn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,Z.xO)(Be).slice(1)}`}const kg="webStorageSupport",zl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ml,this._completeRedirectFn=bu,this._overrideRedirectResult=Dg}_openPopup(y,_,T,R){var k=this;return(0,h.Z)(function*(){var ce;Ze(null===(ce=k.eventManagers[y._key()])||void 0===ce?void 0:ce.manager,"_initialize() not called before _openPopup()");const Be=Wo(y,_,T,_e(),R);return function(E,y,_,T=500,R=600){const k=Math.max((window.screen.availHeight-R)/2,0).toString(),ce=Math.max((window.screen.availWidth-T)/2,0).toString();let Be="";const ft=Object.assign(Object.assign({},Pg),{width:T.toString(),height:R.toString(),top:k,left:ce}),Rt=(0,Z.z$)().toLowerCase();_&&(Be=ie(Rt)?"_blank":_),j(Rt)&&(y=y||"http://localhost",ft.scrollbars="yes");const rn=Object.entries(ft).reduce((Ys,[ys,Gh])=>`${Ys}${ys}=${Gh},`,"");if(function(E=(0,Z.z$)()){var y;return kt(E)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(Rt)&&"_self"!==Be)return function(E,y){const _=document.createElement("a");_.href=E,_.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(y||"",Be),new Ic(null);const Jn=window.open(y||"",Be,rn);Ee(Jn,E,"popup-blocked");try{Jn.focus()}catch(Ys){}return new Ic(Jn)}(y,Be,kl())})()}_openRedirect(y,_,T,R){var k=this;return(0,h.Z)(function*(){return yield k._originValidation(y),E=Wo(y,_,T,_e(),R),yr().location.href=E,new Promise(()=>{});var E})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:R,promise:k}=this.eventManagers[_];return R?Promise.resolve(R):(Ze(k,"If manager is not set, promise should be"),k)}const T=this.initAndGetManager(y);return this.eventManagers[_]={promise:T},T.catch(()=>{delete this.eventManagers[_]}),T}initAndGetManager(y){var _=this;return(0,h.Z)(function*(){const T=yield function(E){return wu.apply(this,arguments)}(y),R=new yo(y);return T.register("authEvent",k=>(Ee(null==k?void 0:k.authEvent,y,"invalid-auth-event"),{status:R.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:R},_.iframes[y._key()]=T,R})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send(kg,{type:kg},R=>{var k;const ce=null===(k=null==R?void 0:R[0])||void 0===k?void 0:k[kg];void 0!==ce&&_(!!ce),Ne(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return qh.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return tn()||U()||kt()}};class Bi extends class{constructor(y){this.factorId=y}_process(y,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,T);case"signin":return this._finalizeSignIn(y,_.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Bi(y)}_finalizeEnroll(y,_,T){return function(E,y){return pt(E,"POST","/v2/accounts/mfaEnrollment:finalize",At(E,y))}(y,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function(E,y){return pt(E,"POST","/v2/accounts/mfaSignIn:finalize",At(E,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fg=(()=>{class E{constructor(){}static assertion(_){return Bi._fromCredential(_)}}return E.FACTOR_ID="phone",E})();var E,Zh="@firebase/auth";class d_{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,h.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(T=>{var R;y((null===(R=T)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);!_||(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}E="Browser",(0,F._registerComponent)(new ye.wA("auth",(y,{options:_})=>{const T=y.getProvider("app").getImmediate(),R=y.getProvider("heartbeat"),{apiKey:k,authDomain:ce}=T.options;return((Be,ft)=>{Ee(k&&!k.includes(":"),"invalid-api-key",{appName:Be.name}),Ee(!(null==ce?void 0:ce.includes(":")),"argument-error",{appName:Be.name});const Rt={apiKey:k,authDomain:ce,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fs(E)},rn=new Ya(Be,ft,Rt);return function(E,y){const _=(null==y?void 0:y.persistence)||[],T=(Array.isArray(_)?_:[_]).map(se);(null==y?void 0:y.errorMap)&&E._updateErrorMap(y.errorMap),E._initializeWithPersistence(T,null==y?void 0:y.popupRedirectResolver)}(rn,_),rn})(T,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,T)=>{y.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new ye.wA("auth-internal",y=>{const _=wn(y.getProvider("auth").getImmediate());return new d_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Zh,"0.20.6",void 0),(0,F.registerVersion)(Zh,"0.20.6","esm2017")},3854:(ct,Oe,M)=>{"use strict";M.d(Oe,{BH:()=>te,LL:()=>_e,ZR:()=>De,zI:()=>re,US:()=>ye,tV:()=>le,L:()=>be,$s:()=>kn,r3:()=>At,Sg:()=>pe,ne:()=>qr,vZ:()=>ui,ZB:()=>$,pd:()=>Zn,m9:()=>$r,z$:()=>Ue,jU:()=>qe,ru:()=>ze,d:()=>rt,xb:()=>bn,w1:()=>vt,hl:()=>$e,uI:()=>Te,UG:()=>we,b$:()=>Ne,G6:()=>Ee,Mn:()=>tt,xO:()=>pr,zd:()=>Vn,eu:()=>Ze});const ue=function(K){const J=[];let G=0;for(let Y=0;Y<K.length;Y++){let W=K.charCodeAt(Y);W<128?J[G++]=W:W<2048?(J[G++]=W>>6|192,J[G++]=63&W|128):55296==(64512&W)&&Y+1<K.length&&56320==(64512&K.charCodeAt(Y+1))?(W=65536+((1023&W)<<10)+(1023&K.charCodeAt(++Y)),J[G++]=W>>18|240,J[G++]=W>>12&63|128,J[G++]=W>>6&63|128,J[G++]=63&W|128):(J[G++]=W>>12|224,J[G++]=W>>6&63|128,J[G++]=63&W|128)}return J},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,J){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let W=0;W<K.length;W+=3){const ke=K[W],et=W+1<K.length,St=et?K[W+1]:0,on=W+2<K.length,fn=on?K[W+2]:0;let j=(15&St)<<2|fn>>6,U=63&fn;on||(U=64,et||(j=64)),Y.push(G[ke>>2],G[(3&ke)<<4|St>>4],G[j],G[U])}return Y.join("")},encodeString(K,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(K):this.encodeByteArray(ue(K),J)},decodeString(K,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(K):function(K){const J=[];let G=0,Y=0;for(;G<K.length;){const W=K[G++];if(W<128)J[Y++]=String.fromCharCode(W);else if(W>191&&W<224){const ke=K[G++];J[Y++]=String.fromCharCode((31&W)<<6|63&ke)}else if(W>239&&W<365){const on=((7&W)<<18|(63&K[G++])<<12|(63&K[G++])<<6|63&K[G++])-65536;J[Y++]=String.fromCharCode(55296+(on>>10)),J[Y++]=String.fromCharCode(56320+(1023&on))}else{const ke=K[G++],et=K[G++];J[Y++]=String.fromCharCode((15&W)<<12|(63&ke)<<6|63&et)}}return J.join("")}(this.decodeStringToByteArray(K,J))},decodeStringToByteArray(K,J){this.init_();const G=J?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let W=0;W<K.length;){const ke=G[K.charAt(W++)],St=W<K.length?G[K.charAt(W)]:0;++W;const fn=W<K.length?G[K.charAt(W)]:64;++W;const q=W<K.length?G[K.charAt(W)]:64;if(++W,null==ke||null==St||null==fn||null==q)throw Error();Y.push(ke<<2|St>>4),64!==fn&&(Y.push(St<<4&240|fn>>2),64!==q&&Y.push(fn<<6&192|q))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},be=function(K){return function(K){const J=ue(K);return ye.encodeByteArray(J,!0)}(K).replace(/\./g,"")},le=function(K){try{return ye.decodeString(K,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function $(K,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return J}for(const G in J)!J.hasOwnProperty(G)||!oe(G)||(K[G]=$(K[G],J[G]));return K}function oe(K){return"__proto__"!==K}class te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,G)=>{this.resolve=J,this.reject=G})}wrapCallback(J){return(G,Y)=>{G?this.reject(G):this.resolve(Y),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(G):J(G,Y))}}}function pe(K,J){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=J||"demo-project",W=K.iat||0,ke=K.sub||K.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:W,exp:W+3600,auth_time:W,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},K);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(et)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function qe(){return"object"==typeof self&&self.self===self}function ze(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){return Ue().indexOf("Electron/")>=0}function vt(){const K=Ue();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function tt(){return Ue().indexOf("MSAppHost/")>=0}function Ee(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $e(){return"object"==typeof indexedDB}function Ze(){return new Promise((K,J)=>{try{let G=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(Y);W.onsuccess=()=>{W.result.close(),G||self.indexedDB.deleteDatabase(Y),K(!0)},W.onupgradeneeded=()=>{G=!1},W.onerror=()=>{var ke;J((null===(ke=W.error)||void 0===ke?void 0:ke.message)||"")}}catch(G){J(G)}})}function re(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class De extends Error{constructor(J,G,Y){super(G),this.code=J,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(J,G,Y){this.service=J,this.serviceName=G,this.errors=Y}create(J,...G){const Y=G[0]||{},W=`${this.service}/${J}`,ke=this.errors[J],et=ke?function(K,J){return K.replace(Et,(G,Y)=>{const W=J[Y];return null!=W?String(W):`<${Y}?>`})}(ke,Y):"Error";return new De(W,`${this.serviceName}: ${et} (${W}).`,Y)}}const Et=/\{\$([^}]+)}/g;function At(K,J){return Object.prototype.hasOwnProperty.call(K,J)}function bn(K){for(const J in K)if(Object.prototype.hasOwnProperty.call(K,J))return!1;return!0}function ui(K,J){if(K===J)return!0;const G=Object.keys(K),Y=Object.keys(J);for(const W of G){if(!Y.includes(W))return!1;const ke=K[W],et=J[W];if(Yt(ke)&&Yt(et)){if(!ui(ke,et))return!1}else if(ke!==et)return!1}for(const W of Y)if(!G.includes(W))return!1;return!0}function Yt(K){return null!==K&&"object"==typeof K}function pr(K){const J=[];for(const[G,Y]of Object.entries(K))Array.isArray(Y)?Y.forEach(W=>{J.push(encodeURIComponent(G)+"="+encodeURIComponent(W))}):J.push(encodeURIComponent(G)+"="+encodeURIComponent(Y));return J.length?"&"+J.join("&"):""}function Vn(K){const J={};return K.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[W,ke]=Y.split("=");J[decodeURIComponent(W)]=decodeURIComponent(ke)}}),J}function Zn(K){const J=K.indexOf("?");if(!J)return"";const G=K.indexOf("#",J);return K.substring(J,G>0?G:void 0)}function qr(K,J){const G=new gr(K,J);return G.subscribe.bind(G)}class gr{constructor(J,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{J(this)}).catch(Y=>{this.error(Y)})}next(J){this.forEachObserver(G=>{G.next(J)})}error(J){this.forEachObserver(G=>{G.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,G,Y){let W;if(void 0===J&&void 0===G&&void 0===Y)throw new Error("Missing Observer.");W=function(K,J){if("object"!=typeof K||null===K)return!1;for(const G of["next","error","complete"])if(G in K&&"function"==typeof K[G])return!0;return!1}(J)?J:{next:J,error:G,complete:Y},void 0===W.next&&(W.next=qn),void 0===W.error&&(W.error=qn),void 0===W.complete&&(W.complete=qn);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(et){}}),this.observers.push(W),ke}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,J)}sendOne(J,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{G(this.observers[J])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}function kn(K,J=1e3,G=2){const Y=J*Math.pow(G,K),W=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+W)}function $r(K){return K&&K._delegate?K._delegate:K}},5106:(ct,Oe,M)=>{"use strict";M.d(Oe,{Gb:()=>hn,Kz:()=>ke,Iv:()=>J});var h=M(8239),Z=M(8026),F=M(5422),ue=M(3854),Se=M(3910);M(3328);const Re="analytics",be="firebase_id",$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oe="https://www.googletagmanager.com/gtag/js",te=new F.Yd("@firebase/analytics");function pe(he){return Promise.all(he.map(q=>q.catch(j=>j)))}function Ue(he,q){const j=document.createElement("script");j.src=`${oe}?l=${he}&id=${q}`,j.async=!0,document.head.appendChild(j)}function we(he,q,j,U,ie,Fe){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(he,q,j,U,ie,Fe){const it=U[ie];try{if(it)yield q[it];else{const Ct=(yield pe(j)).find(kt=>kt.measurementId===ie);Ct&&(yield q[Ct.appId])}}catch(dt){te.error(dt)}he("config",ie,Fe)})).apply(this,arguments)}function ze(he,q,j,U,ie){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,h.Z)(function*(he,q,j,U,ie){try{let Fe=[];if(ie&&ie.send_to){let it=ie.send_to;Array.isArray(it)||(it=[it]);const dt=yield pe(j);for(const Ct of it){const kt=dt.find($n=>$n.measurementId===Ct),pn=kt&&q[kt.appId];if(!pn){Fe=[];break}Fe.push(pn)}}0===Fe.length&&(Fe=Object.values(q)),yield Promise.all(Fe),he("event",U,ie||{})}catch(Fe){te.error(Fe)}})).apply(this,arguments)}function tt(){const he=window.document.getElementsByTagName("script");for(const q of Object.values(he))if(q.src&&q.src.includes(oe))return q;return null}const Ee=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),se=new class{constructor(q={},j=1e3){this.throttleMetadata=q,this.intervalMillis=j}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,j){this.throttleMetadata[q]=j}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function ge(he){return new Headers({Accept:"application/json","x-goog-api-key":he})}function De(he){return _e.apply(this,arguments)}function _e(){return(_e=(0,h.Z)(function*(he){var q;const{appId:j,apiKey:U}=he,ie={method:"GET",headers:ge(U)},Fe=$.replace("{app-id}",j),it=yield fetch(Fe,ie);if(200!==it.status&&304!==it.status){let dt="";try{const Ct=yield it.json();(null===(q=Ct.error)||void 0===q?void 0:q.message)&&(dt=Ct.error.message)}catch(Ct){}throw Ee.create("config-fetch-failed",{httpStatus:it.status,responseMessage:dt})}return it.json()})).apply(this,arguments)}function He(he){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(he,q=se,j){const{appId:U,apiKey:ie,measurementId:Fe}=he.options;if(!U)throw Ee.create("no-app-id");if(!ie){if(Fe)return{measurementId:Fe,appId:U};throw Ee.create("no-api-key")}const it=q.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new sr;return setTimeout((0,h.Z)(function*(){dt.abort()}),void 0!==j?j:6e4),an({appId:U,apiKey:ie,measurementId:Fe},it,dt,q)})).apply(this,arguments)}function an(he,q,j){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(he,{throttleEndTimeMillis:q,backoffCount:j},U,ie=se){var Fe,it;const{appId:dt,measurementId:Ct}=he;try{yield wt(U,q)}catch(kt){if(Ct)return te.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${null===(Fe=kt)||void 0===Fe?void 0:Fe.message}]`),{appId:dt,measurementId:Ct};throw kt}try{const kt=yield De(he);return ie.deleteThrottleMetadata(dt),kt}catch(kt){const pn=kt;if(!gn(pn)){if(ie.deleteThrottleMetadata(dt),Ct)return te.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${null==pn?void 0:pn.message}]`),{appId:dt,measurementId:Ct};throw kt}const $n=503===Number(null===(it=null==pn?void 0:pn.customData)||void 0===it?void 0:it.httpStatus)?(0,ue.$s)(j,ie.intervalMillis,30):(0,ue.$s)(j,ie.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+$n,backoffCount:j+1};return ie.setThrottleMetadata(dt,Ht),te.debug(`Calling attemptFetch again in ${$n} millis`),an(he,Ht,U,ie)}})).apply(this,arguments)}function wt(he,q){return new Promise((j,U)=>{const ie=Math.max(q-Date.now(),0),Fe=setTimeout(j,ie);he.addEventListener(()=>{clearTimeout(Fe),U(Ee.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function gn(he){if(!(he instanceof ue.ZR&&he.customData))return!1;const q=Number(he.customData.httpStatus);return 429===q||500===q||503===q||504===q}class sr{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let Sn,Zn;function At(){return(At=(0,h.Z)(function*(he,q,j,U,ie){if(ie&&ie.global)he("event",j,U);else{const Fe=yield q;he("event",j,Object.assign(Object.assign({},U),{send_to:Fe}))}})).apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(he,q,j,U){if(U&&U.global)return he("set",{user_id:j}),Promise.resolve();he("config",yield q,{update:!0,user_id:j})})).apply(this,arguments)}function Br(he){Zn=he}function qr(he){Sn=he}function gr(){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(){var he;if(!(0,ue.hl)())return te.warn(Ee.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(q){return te.warn(Ee.create("indexeddb-unavailable",{errorInfo:null===(he=q)||void 0===he?void 0:he.toString()}).message),!1}return!0})).apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(he,q,j,U,ie,Fe,it){var dt;const Ct=He(he);Ct.then(tn=>{j[tn.measurementId]=tn.appId,he.options.measurementId&&tn.measurementId!==he.options.measurementId&&te.warn(`The measurement ID in the local Firebase config (${he.options.measurementId}) does not match the measurement ID fetched from the server (${tn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tn=>te.error(tn)),q.push(Ct);const kt=gr().then(tn=>{if(tn)return U.getId()}),[pn,$n]=yield Promise.all([Ct,kt]);tt()||Ue(Fe,pn.measurementId),Zn&&(ie("consent","default",Zn),Br(void 0)),ie("js",new Date);const Ht=null!==(dt=null==it?void 0:it.config)&&void 0!==dt?dt:{};return Ht.origin="firebase",Ht.update=!0,null!=$n&&(Ht[be]=$n),ie("config",pn.measurementId,Ht),Sn&&(ie("set",Sn),qr(void 0)),pn.measurementId})).apply(this,arguments)}class Ir{constructor(q){this.app=q}_delete(){return delete lt[this.app.options.appId],Promise.resolve()}}let lt={},ar=[];const Xn={};let _t,nt,Un="dataLayer",un=!1;function yn(he,q,j){!function(){const he=[];if((0,ue.ru)()&&he.push("This is a browser extension environment."),(0,ue.zI)()||he.push("Cookies are not available."),he.length>0){const q=he.map((U,ie)=>`(${ie+1}) ${U}`).join(" "),j=Ee.create("invalid-analytics-context",{errorInfo:q});te.warn(j.message)}}();const U=he.options.appId;if(!U)throw Ee.create("no-app-id");if(!he.options.apiKey){if(!he.options.measurementId)throw Ee.create("no-api-key");te.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${he.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lt[U])throw Ee.create("already-exists",{id:U});if(!un){!function(he){let q=[];Array.isArray(window[he])?q=window[he]:window[he]=q}(Un);const{wrappedGtag:Fe,gtagCore:it}=function(he,q,j,U,ie){let Fe=function(...it){window[U].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(Fe=window[ie]),window[ie]=function(he,q,j,U){function Fe(){return(Fe=(0,h.Z)(function*(it,dt,Ct){try{"event"===it?yield ze(he,q,j,dt,Ct):"config"===it?yield we(he,q,j,U,dt,Ct):"consent"===it?he("consent","update",Ct):he("set",dt)}catch(kt){te.error(kt)}})).apply(this,arguments)}return function(it,dt,Ct){return Fe.apply(this,arguments)}}(Fe,he,q,j),{gtagCore:Fe,wrappedGtag:window[ie]}}(lt,ar,Xn,Un,"gtag");nt=Fe,_t=it,un=!0}return lt[U]=function(he,q,j,U,ie,Fe,it){return qn.apply(this,arguments)}(he,ar,Xn,q,_t,Un,j),new Ir(he)}function hn(){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(he){return!1}})).apply(this,arguments)}function J(he,q,j){he=(0,ue.m9)(he),function(he,q,j,U){return ui.apply(this,arguments)}(nt,lt[he.app.options.appId],q,j).catch(U=>te.error(U))}function ke(he,q,j,U){he=(0,ue.m9)(he),function(he,q,j,U,ie){return At.apply(this,arguments)}(nt,lt[he.app.options.appId],q,j,U).catch(ie=>te.error(ie))}const St="@firebase/analytics";(0,Z._registerComponent)(new Se.wA(Re,(q,{options:j})=>yn(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,Z._registerComponent)(new Se.wA("analytics-internal",function(q){try{const j=q.getProvider(Re).getImmediate();return{logEvent:(U,ie,Fe)=>ke(j,U,ie,Fe)}}catch(j){throw Ee.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,Z.registerVersion)(St,"0.8.0"),(0,Z.registerVersion)(St,"0.8.0","esm2017")},2329:(ct,Oe,M)=>{"use strict";M.d(Oe,{Mq:()=>h.getApp,C6:()=>h.getApps,KN:()=>h.registerVersion});var h=M(8026);(0,h.registerVersion)("firebase","9.9.4","app")},7841:(ct,Oe,M)=>{"use strict";M.d(Oe,{Z:()=>h.Z});var h=M(3394);h.Z.registerVersion("firebase","9.9.4","app-compat")},4828:(ct,Oe,M)=>{"use strict";M.r(Oe);var h=M(8239),Z=M(3394),F=M(708),ue=M(3854),Re=(M(8026),M(5422),M(3910));function be(){return window}function $(){return($=(0,h.Z)(function*(q,j,U){var ie;const{BuildInfo:Fe}=be();(0,F.aq)(j.sessionId,"AuthEvent did not contain a session ID");const it=yield qe(j.sessionId),dt={};return(0,F.ar)()?dt.ibi=Fe.packageName:(0,F.as)()?dt.apn=Fe.packageName:(0,F.at)(q,"operation-not-supported-in-this-environment"),Fe.displayName&&(dt.appDisplayName=Fe.displayName),dt.sessionId=it,(0,F.au)(q,U,j.type,void 0,null!==(ie=j.eventId)&&void 0!==ie?ie:void 0,dt)})).apply(this,arguments)}function te(){return(te=(0,h.Z)(function*(q){const{BuildInfo:j}=be(),U={};(0,F.ar)()?U.iosBundleId=j.packageName:(0,F.as)()?U.androidPackageName=j.packageName:(0,F.at)(q,"operation-not-supported-in-this-environment"),yield(0,F.av)(q,U)})).apply(this,arguments)}function Te(){return(Te=(0,h.Z)(function*(q,j,U){const{cordova:ie}=be();let Fe=()=>{};try{yield new Promise((it,dt)=>{let Ct=null;function kt(){var Ht;it();const tn=null===(Ht=ie.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof tn&&tn(),"function"==typeof(null==U?void 0:U.close)&&U.close()}function pn(){Ct||(Ct=window.setTimeout(()=>{dt((0,F.aw)(q,"redirect-cancelled-by-user"))},2e3))}function $n(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}j.addPassiveListener(kt),document.addEventListener("resume",pn,!1),(0,F.as)()&&document.addEventListener("visibilitychange",$n,!1),Fe=()=>{j.removePassiveListener(kt),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",$n,!1),Ct&&window.clearTimeout(Ct)}})}finally{Fe()}})).apply(this,arguments)}function qe(q){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(q){const j=Ne(q),U=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(U)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ne(q){if((0,F.aq)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(q);const j=new ArrayBuffer(q.length),U=new Uint8Array(j);for(let ie=0;ie<q.length;ie++)U[ie]=q.charCodeAt(ie);return U}class vt extends F.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(j)),super.onEvent(j)}initialized(){var j=this;return(0,h.Z)(function*(){yield j.initPromise})()}}function Ee(q){return $e.apply(this,arguments)}function $e(){return($e=(0,h.Z)(function*(q){const j=yield se()._get(ge(q));return j&&(yield se()._remove(ge(q))),j})).apply(this,arguments)}function re(){const q=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const ie=Math.floor(Math.random()*j.length);q.push(j.charAt(ie))}return q.join("")}function se(){return(0,F.ay)(F.b)}function ge(q){return(0,F.az)("authEvent",q.config.apiKey,q.name)}function He(q){if(!(null==q?void 0:q.includes("?")))return{};const[j,...U]=q.split("?");return(0,ue.zd)(U.join("?"))}function wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}function At(){var q;return(null===(q=null==self?void 0:self.location)||void 0===q?void 0:q.protocol)||null}function bn(q=(0,ue.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function pr(){try{const q=self.localStorage,j=F.aI();if(q)return q.setItem(j,"1"),q.removeItem(j),!function(q=(0,ue.z$)()){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(q=(0,ue.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,ue.hl)()}catch(q){return Vn()&&(0,ue.hl)()}return!1}function Vn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return("http:"===At()||"https:"===At()||(0,ue.ru)()||bn())&&!((0,ue.b$)()||(0,ue.UG)())&&pr()&&!Vn()}function Br(){return bn()&&"undefined"!=typeof document}function gr(){return(gr=(0,h.Z)(function*(){return!!Br()&&new Promise(q=>{const j=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),q(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},qn=F.ax,Ir="persistence";function ar(q){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,h.Z)(function*(q){yield q._initializationPromise;const j=mn(),U=F.az(Ir,q.config.apiKey,q.name);j&&j.setItem(U,q._getPersistence())})).apply(this,arguments)}function mn(){var q;try{return(null===(q="undefined"!=typeof window?window:null)||void 0===q?void 0:q.sessionStorage)||null}catch(j){return null}}const _t=F.ax;class nt{constructor(){this.browserResolver=F.ay(F.k),this.cordovaResolver=F.ay(class{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(j){var U=this;return(0,h.Z)(function*(){const ie=j._key();let Fe=U.eventManagers.get(ie);return Fe||(Fe=new vt(j),U.eventManagers.set(ie,Fe),U.attachCallbackListeners(j,Fe)),Fe})()}_openPopup(j){(0,F.at)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,U,ie,Fe){var it=this;return(0,h.Z)(function*(){!function(q){var j,U,ie,Fe,it,dt,Ct,kt,pn,$n;const Ht=be();(0,F.ax)("function"==typeof(null===(j=null==Ht?void 0:Ht.universalLinks)||void 0===j?void 0:j.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(void 0!==(null===(U=null==Ht?void 0:Ht.BuildInfo)||void 0===U?void 0:U.packageName),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(it=null===(Fe=null===(ie=null==Ht?void 0:Ht.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===it?void 0:it.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(kt=null===(Ct=null===(dt=null==Ht?void 0:Ht.cordova)||void 0===dt?void 0:dt.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===kt?void 0:kt.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===($n=null===(pn=null==Ht?void 0:Ht.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===$n?void 0:$n.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const dt=yield it._initialize(j);yield dt.initialized(),dt.resetRedirect(),(0,F.aD)(),yield it._originValidation(j);const Ct=function(q,j,U=null){return{type:j,eventId:U,urlResponse:null,sessionId:re(),postBody:null,tenantId:q.tenantId,error:(0,F.aw)(q,"no-auth-event")}}(j,ie,Fe);yield function(q,j){return se()._set(ge(q),j)}(j,Ct);const kt=yield function(q,j,U){return $.apply(this,arguments)}(j,Ct,U),pn=yield function(q){const{cordova:j}=be();return new Promise(U=>{j.plugins.browsertab.isAvailable(ie=>{let Fe=null;ie?j.plugins.browsertab.openUrl(q):Fe=j.InAppBrowser.open(q,(0,F.ap)()?"_blank":"_system","location=yes"),U(Fe)})})}(kt);return function(q,j,U){return Te.apply(this,arguments)}(j,dt,pn)})()}_isIframeWebStorageSupported(j,U){throw new Error("Method not implemented.")}_originValidation(j){const U=j._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function(q){return te.apply(this,arguments)}(j)),this.originValidationPromises[U]}attachCallbackListeners(j,U){const{universalLinks:ie,handleOpenURL:Fe,BuildInfo:it}=be(),dt=setTimeout((0,h.Z)(function*(){yield Ee(j),U.onEvent(wt())}),500),Ct=function(){var $n=(0,h.Z)(function*(Ht){clearTimeout(dt);const tn=yield Ee(j);let Jr=null;tn&&(null==Ht?void 0:Ht.url)&&(Jr=function(q,j){var U,ie;const Fe=function(q){const j=He(q),U=j.link?decodeURIComponent(j.link):void 0,ie=He(U).link,Fe=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return He(Fe).link||Fe||ie||U||q}(j);if(Fe.includes("/__/auth/callback")){const it=He(Fe),dt=it.firebaseError?function(q){try{return JSON.parse(q)}catch(j){return null}}(decodeURIComponent(it.firebaseError)):null,Ct=null===(ie=null===(U=null==dt?void 0:dt.code)||void 0===U?void 0:U.split("auth/"))||void 0===ie?void 0:ie[1],kt=Ct?(0,F.aw)(Ct):null;return kt?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:Fe,postBody:null}}return null}(tn,Ht.url)),U.onEvent(Jr||wt())});return function(tn){return $n.apply(this,arguments)}}();void 0!==ie&&"function"==typeof ie.subscribe&&ie.subscribe(null,Ct);const kt=Fe,pn=`${it.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var $n=(0,h.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(pn)&&Ct({url:Ht}),"function"==typeof kt)try{kt(Ht)}catch(tn){console.error(tn)}});return function(Ht){return $n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(j){var U=this;return(0,h.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,U,ie,Fe){var it=this;return(0,h.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openPopup(j,U,ie,Fe)})()}_openRedirect(j,U,ie,Fe){var it=this;return(0,h.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openRedirect(j,U,ie,Fe)})()}_isIframeWebStorageSupported(j,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,U)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return Br()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,h.Z)(function*(){if(j.underlyingResolver)return;const U=yield function(){return gr.apply(this,arguments)}();j.underlyingResolver=U?j.cordovaResolver:j.browserResolver})()}}function un(q){return q.unwrap()}function ur(q){return kn(q)}function kn(q){const{_tokenResponse:j}=q instanceof ue.ZR?q.customData:q;if(!j)return null;if(!(q instanceof ue.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return F.P.credentialFromResult(q);const U=j.providerId;if(!U||U===F.o.PASSWORD)return null;let ie;switch(U){case F.o.GOOGLE:ie=F.Q;break;case F.o.FACEBOOK:ie=F.N;break;case F.o.GITHUB:ie=F.T;break;case F.o.TWITTER:ie=F.W;break;default:const{oauthIdToken:Fe,oauthAccessToken:it,oauthTokenSecret:dt,pendingToken:Ct,nonce:kt}=j;return it||dt||Fe||Ct?Ct?U.startsWith("saml.")?F.aL._create(U,Ct):F.J._fromParams({providerId:U,signInMethod:U,pendingToken:Ct,idToken:Fe,accessToken:it}):new F.U(U).credential({idToken:Fe,accessToken:it,rawNonce:kt}):null}return q instanceof ue.ZR?ie.credentialFromError(q):ie.credentialFromResult(q)}function Pn(q,j){return j.catch(U=>{throw U instanceof ue.ZR&&function(q,j){var U,ie;const Fe=null===(U=j.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ie=j)||void 0===ie?void 0:ie.code))j.resolver=new K(q,F.an(q,j));else if(Fe){const it=kn(j),dt=j;it&&(dt.credential=it,dt.tenantId=Fe.tenantId||void 0,dt.email=Fe.email||void 0,dt.phoneNumber=Fe.phoneNumber||void 0)}}(q,U),U}).then(U=>{const Fe=U.user;return{operationType:U.operationType,credential:ur(U),additionalUserInfo:F.al(U),user:J.getOrCreate(Fe)}})}function hn(q,j){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(q,j){const U=yield j;return{verificationId:U.verificationId,confirm:ie=>Pn(q,U.confirm(ie))}})).apply(this,arguments)}class K{constructor(j,U){this.resolver=U,this.auth=j.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return Pn(un(this.auth),this.resolver.resolveSignIn(j))}}class J{constructor(j){this._delegate=j,this.multiFactor=F.ao(j)}static getOrCreate(j){return J.USER_MAP.has(j)||J.USER_MAP.set(j,new J(j)),J.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var U=this;return(0,h.Z)(function*(){return Pn(U.auth,F.Z(U._delegate,j))})()}linkWithPhoneNumber(j,U){var ie=this;return(0,h.Z)(function*(){return hn(ie.auth,F.l(ie._delegate,j,U))})()}linkWithPopup(j){var U=this;return(0,h.Z)(function*(){return Pn(U.auth,F.d(U._delegate,j,nt))})()}linkWithRedirect(j){var U=this;return(0,h.Z)(function*(){return yield ar(F.aE(U.auth)),F.g(U._delegate,j,nt)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var U=this;return(0,h.Z)(function*(){return Pn(U.auth,F._(U._delegate,j))})()}reauthenticateWithPhoneNumber(j,U){return hn(this.auth,F.r(this._delegate,j,U))}reauthenticateWithPopup(j){return Pn(this.auth,F.e(this._delegate,j,nt))}reauthenticateWithRedirect(j){var U=this;return(0,h.Z)(function*(){return yield ar(F.aE(U.auth)),F.h(U._delegate,j,nt)})()}sendEmailVerification(j){return F.ab(this._delegate,j)}unlink(j){var U=this;return(0,h.Z)(function*(){return yield F.ak(U._delegate,j),U})()}updateEmail(j){return F.ag(this._delegate,j)}updatePassword(j){return F.ah(this._delegate,j)}updatePhoneNumber(j){return F.u(this._delegate,j)}updateProfile(j){return F.af(this._delegate,j)}verifyBeforeUpdateEmail(j,U){return F.ac(this._delegate,j,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}J.USER_MAP=new WeakMap;const G=F.ax;let Y=(()=>{class q{constructor(U,ie){if(this.app=U,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=U.options;G(Fe,"invalid-api-key",{appName:U.name}),G(Fe,"invalid-api-key",{appName:U.name});const it="undefined"!=typeof window?nt:void 0;this._delegate=ie.initialize({options:{persistence:ke(Fe,U.name),popupRedirectResolver:it}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?J.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,ie){F.G(this._delegate,U,ie)}applyActionCode(U){return F.a2(this._delegate,U)}checkActionCode(U){return F.a3(this._delegate,U)}confirmPasswordReset(U,ie){return F.a1(this._delegate,U,ie)}createUserWithEmailAndPassword(U,ie){var Fe=this;return(0,h.Z)(function*(){return Pn(Fe._delegate,F.a5(Fe._delegate,U,ie))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return F.aa(this._delegate,U)}isSignInWithEmailLink(U){return F.a8(this._delegate,U)}getRedirectResult(){var U=this;return(0,h.Z)(function*(){G(Zn(),U._delegate,"operation-not-supported-in-this-environment");const ie=yield F.j(U._delegate,nt);return ie?Pn(U._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function(q,j){(0,F.aE)(q)._logFramework(j)}(this._delegate,U)}onAuthStateChanged(U,ie,Fe){const{next:it,error:dt,complete:Ct}=W(U,ie,Fe);return this._delegate.onAuthStateChanged(it,dt,Ct)}onIdTokenChanged(U,ie,Fe){const{next:it,error:dt,complete:Ct}=W(U,ie,Fe);return this._delegate.onIdTokenChanged(it,dt,Ct)}sendSignInLinkToEmail(U,ie){return F.a7(this._delegate,U,ie)}sendPasswordResetEmail(U,ie){return F.a0(this._delegate,U,ie||void 0)}setPersistence(U){var ie=this;return(0,h.Z)(function*(){let Fe;switch(function(q,j){qn(Object.values(Dn).includes(j),q,"invalid-persistence-type"),(0,ue.b$)()?qn(j!==Dn.SESSION,q,"unsupported-persistence-type"):(0,ue.UG)()?qn(j===Dn.NONE,q,"unsupported-persistence-type"):Vn()?qn(j===Dn.NONE||j===Dn.LOCAL&&(0,ue.hl)(),q,"unsupported-persistence-type"):qn(j===Dn.NONE||pr(),q,"unsupported-persistence-type")}(ie._delegate,U),U){case Dn.SESSION:Fe=F.a;break;case Dn.LOCAL:Fe=(yield F.ay(F.i)._isAvailable())?F.i:F.b;break;case Dn.NONE:Fe=F.L;break;default:return F.at("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return Pn(this._delegate,F.X(this._delegate))}signInWithCredential(U){return Pn(this._delegate,F.Y(this._delegate,U))}signInWithCustomToken(U){return Pn(this._delegate,F.$(this._delegate,U))}signInWithEmailAndPassword(U,ie){return Pn(this._delegate,F.a6(this._delegate,U,ie))}signInWithEmailLink(U,ie){return Pn(this._delegate,F.a9(this._delegate,U,ie))}signInWithPhoneNumber(U,ie){return hn(this._delegate,F.s(this._delegate,U,ie))}signInWithPopup(U){var ie=this;return(0,h.Z)(function*(){return G(Zn(),ie._delegate,"operation-not-supported-in-this-environment"),Pn(ie._delegate,F.c(ie._delegate,U,nt))})()}signInWithRedirect(U){var ie=this;return(0,h.Z)(function*(){return G(Zn(),ie._delegate,"operation-not-supported-in-this-environment"),yield ar(ie._delegate),F.f(ie._delegate,U,nt)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return F.a4(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Dn,q})();function W(q,j,U){let ie=q;"function"!=typeof q&&({next:ie,error:j,complete:U}=q);const Fe=ie;return{next:dt=>Fe(dt&&J.getOrCreate(dt)),error:j,complete:U}}function ke(q,j){const U=function(q,j){const U=mn();if(!U)return[];const ie=F.az(Ir,q,j);switch(U.getItem(ie)){case Dn.NONE:return[F.L];case Dn.LOCAL:return[F.i,F.a];case Dn.SESSION:return[F.a];default:return[]}}(q,j);if("undefined"!=typeof self&&!U.includes(F.i)&&U.push(F.i),"undefined"!=typeof window)for(const ie of[F.b,F.a])U.includes(ie)||U.push(ie);return U.includes(F.L)||U.push(F.L),U}class et{constructor(){this.providerId="phone",this._delegate=new F.P(un(Z.Z.auth()))}static credential(j,U){return F.P.credential(j,U)}verifyPhoneNumber(j,U){return this._delegate.verifyPhoneNumber(j,U)}unwrap(){return this._delegate}}et.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,et.PROVIDER_ID=F.P.PROVIDER_ID;const St=F.ax;var q;(q=Z.Z).INTERNAL.registerComponent(new Re.wA("auth-compat",j=>{const U=j.getProvider("app-compat").getImmediate(),ie=j.getProvider("auth");return new Y(U,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:et,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:class{constructor(j,U,ie=Z.Z.app()){var Fe;St(null===(Fe=ie.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new F.R(j,U,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:F.W,Auth:Y,AuthCredential:F.H,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.19")},7574:(ct,Oe,M)=>{"use strict";M.d(Oe,{y:()=>$});var h=M(7393),F=M(9181),ue=M(6490),ye=M(6554),Re=M(4487);var B=M(2494);let $=(()=>{class te{constructor(Ue){this._isScalar=!1,Ue&&(this._subscribe=Ue)}lift(Ue){const Te=new te;return Te.source=this,Te.operator=Ue,Te}subscribe(Ue,Te,we){const{operator:qe}=this,ze=function(te,pe,Ue){if(te){if(te instanceof h.L)return te;if(te[F.b])return te[F.b]()}return te||pe||Ue?new h.L(te,pe,Ue):new h.L(ue.c)}(Ue,Te,we);if(ze.add(qe?qe.call(ze,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!ze.syncErrorThrowable?this._subscribe(ze):this._trySubscribe(ze)),B.v.useDeprecatedSynchronousErrorHandling&&ze.syncErrorThrowable&&(ze.syncErrorThrowable=!1,ze.syncErrorThrown))throw ze.syncErrorValue;return ze}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Te){B.v.useDeprecatedSynchronousErrorHandling&&(Ue.syncErrorThrown=!0,Ue.syncErrorValue=Te),function(te){for(;te;){const{closed:pe,destination:Ue,isStopped:Te}=te;if(pe||Te)return!1;te=Ue&&Ue instanceof h.L?Ue:null}return!0}(Ue)?Ue.error(Te):console.warn(Te)}}forEach(Ue,Te){return new(Te=oe(Te))((we,qe)=>{let ze;ze=this.subscribe(Ne=>{try{Ue(Ne)}catch(rt){qe(rt),ze&&ze.unsubscribe()}},qe,we)})}_subscribe(Ue){const{source:Te}=this;return Te&&Te.subscribe(Ue)}[ye.L](){return this}pipe(...Ue){return 0===Ue.length?this:function(te){return 0===te.length?Re.y:1===te.length?te[0]:function(Ue){return te.reduce((Te,we)=>we(Te),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=oe(Ue))((Te,we)=>{let qe;this.subscribe(ze=>qe=ze,ze=>we(ze),()=>Te(qe))})}}return te.create=pe=>new te(pe),te})();function oe(te){if(te||(te=B.v.Promise||Promise),!te)throw new Error("no Promise impl found");return te}},6490:(ct,Oe,M)=>{"use strict";M.d(Oe,{c:()=>F});var h=M(2494),Z=M(4449);const F={closed:!0,next(ue){},error(ue){if(h.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,Z.z)(ue)},complete(){}}},9765:(ct,Oe,M)=>{"use strict";M.d(Oe,{Yc:()=>Re,xQ:()=>be});var h=M(7574),Z=M(7393),F=M(5319),ue=M(7971),Se=M(8858),ye=M(9181);class Re extends Z.L{constructor($){super($),this.destination=$}}let be=(()=>{class B extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ye.b](){return new Re(this)}lift(oe){const te=new le(this,this);return te.operator=oe,te}next(oe){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:te}=this,pe=te.length,Ue=te.slice();for(let Te=0;Te<pe;Te++)Ue[Te].next(oe)}}error(oe){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=oe,this.isStopped=!0;const{observers:te}=this,pe=te.length,Ue=te.slice();for(let Te=0;Te<pe;Te++)Ue[Te].error(oe);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:oe}=this,te=oe.length,pe=oe.slice();for(let Ue=0;Ue<te;Ue++)pe[Ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(oe){if(this.closed)throw new ue.N;return super._trySubscribe(oe)}_subscribe(oe){if(this.closed)throw new ue.N;return this.hasError?(oe.error(this.thrownError),F.w.EMPTY):this.isStopped?(oe.complete(),F.w.EMPTY):(this.observers.push(oe),new Se.W(this,oe))}asObservable(){const oe=new h.y;return oe.source=this,oe}}return B.create=($,oe)=>new le($,oe),B})();class le extends be{constructor($,oe){super(),this.destination=$,this.source=oe}next($){const{destination:oe}=this;oe&&oe.next&&oe.next($)}error($){const{destination:oe}=this;oe&&oe.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:oe}=this;return oe?this.source.subscribe($):F.w.EMPTY}}},8858:(ct,Oe,M)=>{"use strict";M.d(Oe,{W:()=>Z});var h=M(5319);class Z extends h.w{constructor(ue,Se){super(),this.subject=ue,this.subscriber=Se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,Se=ue.observers;if(this.subject=null,!Se||0===Se.length||ue.isStopped||ue.closed)return;const ye=Se.indexOf(this.subscriber);-1!==ye&&Se.splice(ye,1)}}},7393:(ct,Oe,M)=>{"use strict";M.d(Oe,{L:()=>Re});var h=M(9105),Z=M(6490),F=M(5319),ue=M(9181),Se=M(2494),ye=M(4449);class Re extends F.w{constructor(B,$,oe){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Z.c;break;case 1:if(!B){this.destination=Z.c;break}if("object"==typeof B){B instanceof Re?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new be(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new be(this,B,$,oe)}}[ue.b](){return this}static create(B,$,oe){const te=new Re(B,$,oe);return te.syncErrorThrowable=!1,te}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class be extends Re{constructor(B,$,oe,te){super(),this._parentSubscriber=B;let pe,Ue=this;(0,h.m)($)?pe=$:$&&(pe=$.next,oe=$.error,te=$.complete,$!==Z.c&&(Ue=Object.create($),(0,h.m)(Ue.unsubscribe)&&this.add(Ue.unsubscribe.bind(Ue)),Ue.unsubscribe=this.unsubscribe.bind(this))),this._context=Ue,this._next=pe,this._error=oe,this._complete=te}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;Se.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:oe}=Se.v;if(this._error)oe&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if($.syncErrorThrowable)oe?($.syncErrorValue=B,$.syncErrorThrown=!0):(0,ye.z)(B),this.unsubscribe();else{if(this.unsubscribe(),oe)throw B;(0,ye.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const $=()=>this._complete.call(this._context);Se.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,$){try{B.call(this._context,$)}catch(oe){if(this.unsubscribe(),Se.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,ye.z)(oe)}}__tryOrSetError(B,$,oe){if(!Se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,oe)}catch(te){return Se.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=te,B.syncErrorThrown=!0,!0):((0,ye.z)(te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(ct,Oe,M)=>{"use strict";M.d(Oe,{w:()=>ye});var h=M(9796),Z=M(1555),F=M(9105);const Se=(()=>{function be(le){return Error.call(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((B,$)=>`${$+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le,this}return be.prototype=Object.create(Error.prototype),be})();class ye{constructor(le){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,le&&(this._ctorUnsubscribe=!0,this._unsubscribe=le)}unsubscribe(){let le;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:$,_unsubscribe:oe,_subscriptions:te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof ye)B.remove(this);else if(null!==B)for(let pe=0;pe<B.length;++pe)B[pe].remove(this);if((0,F.m)(oe)){$&&(this._unsubscribe=void 0);try{oe.call(this)}catch(pe){le=pe instanceof Se?Re(pe.errors):[pe]}}if((0,h.k)(te)){let pe=-1,Ue=te.length;for(;++pe<Ue;){const Te=te[pe];if((0,Z.K)(Te))try{Te.unsubscribe()}catch(we){le=le||[],we instanceof Se?le=le.concat(Re(we.errors)):le.push(we)}}}if(le)throw new Se(le)}add(le){let B=le;if(!le)return ye.EMPTY;switch(typeof le){case"function":B=new ye(le);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof ye)){const te=B;B=new ye,B._subscriptions=[te]}break;default:throw new Error("unrecognized teardown "+le+" added to Subscription.")}let{_parentOrParents:$}=B;if(null===$)B._parentOrParents=this;else if($ instanceof ye){if($===this)return B;B._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return B;$.push(this)}const oe=this._subscriptions;return null===oe?this._subscriptions=[B]:oe.push(B),B}remove(le){const B=this._subscriptions;if(B){const $=B.indexOf(le);-1!==$&&B.splice($,1)}}}var be;function Re(be){return be.reduce((le,B)=>le.concat(B instanceof Se?B.errors:B),[])}ye.EMPTY=((be=new ye).closed=!0,be)},2494:(ct,Oe,M)=>{"use strict";M.d(Oe,{v:()=>Z});let h=!1;const Z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=F},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(ct,Oe,M)=>{"use strict";M.d(Oe,{IY:()=>ue,Ds:()=>ye,ft:()=>be});var h=M(7393),Z=M(7574),F=M(7444);class ue extends h.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ye extends h.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function be(le,B){if(B.closed)return;if(le instanceof Z.y)return le.subscribe(B);let $;try{$=(0,F.s)(le)(B)}catch(oe){B.error(oe)}return $}},2441:(ct,Oe,M)=>{"use strict";M.d(Oe,{c:()=>Se,N:()=>ye});var h=M(9765),Z=M(7574),F=M(5319),ue=M(1307);class Se extends Z.y{constructor($,oe){super(),this.source=$,this.subjectFactory=oe,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new F.w,$.add(this.source.subscribe(new Re(this.getSubject(),this))),$.closed&&(this._connection=null,$=F.w.EMPTY)),$}refCount(){return(0,ue.x)()(this)}}const ye=(()=>{const B=Se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class Re extends h.Yc{constructor($,oe){super($),this.connectable=oe}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const oe=$._connection;$._refCount=0,$._subject=null,$._connection=null,oe&&oe.unsubscribe()}}}},9193:(ct,Oe,M)=>{"use strict";M.d(Oe,{E:()=>Z,c:()=>F});var h=M(7574);const Z=new h.y(Se=>Se.complete());function F(Se){return Se?function(Se){return new h.y(ye=>Se.schedule(()=>ye.complete()))}(Se):Z}},4402:(ct,Oe,M)=>{"use strict";M.d(Oe,{D:()=>Ue});var h=M(7574),Z=M(7444),F=M(5319),ue=M(6554),Re=M(4087),be=M(377),$=M(4072),oe=M(9489);function Ue(Te,we){return we?function(Te,we){if(null!=Te){if(function(Te){return Te&&"function"==typeof Te[ue.L]}(Te))return function(Te,we){return new h.y(qe=>{const ze=new F.w;return ze.add(we.schedule(()=>{const Ne=Te[ue.L]();ze.add(Ne.subscribe({next(rt){ze.add(we.schedule(()=>qe.next(rt)))},error(rt){ze.add(we.schedule(()=>qe.error(rt)))},complete(){ze.add(we.schedule(()=>qe.complete()))}}))})),ze})}(Te,we);if((0,$.t)(Te))return function(Te,we){return new h.y(qe=>{const ze=new F.w;return ze.add(we.schedule(()=>Te.then(Ne=>{ze.add(we.schedule(()=>{qe.next(Ne),ze.add(we.schedule(()=>qe.complete()))}))},Ne=>{ze.add(we.schedule(()=>qe.error(Ne)))}))),ze})}(Te,we);if((0,oe.z)(Te))return(0,Re.r)(Te,we);if(function(Te){return Te&&"function"==typeof Te[be.hZ]}(Te)||"string"==typeof Te)return function(Te,we){if(!Te)throw new Error("Iterable cannot be null");return new h.y(qe=>{const ze=new F.w;let Ne;return ze.add(()=>{Ne&&"function"==typeof Ne.return&&Ne.return()}),ze.add(we.schedule(()=>{Ne=Te[be.hZ](),ze.add(we.schedule(function(){if(qe.closed)return;let rt,vt;try{const tt=Ne.next();rt=tt.value,vt=tt.done}catch(tt){return void qe.error(tt)}vt?qe.complete():(qe.next(rt),this.schedule())}))})),ze})}(Te,we)}throw new TypeError((null!==Te&&typeof Te||Te)+" is not observable")}(Te,we):Te instanceof h.y?Te:new h.y((0,Z.s)(Te))}},6693:(ct,Oe,M)=>{"use strict";M.d(Oe,{n:()=>ue});var h=M(7574),Z=M(5015),F=M(4087);function ue(Se,ye){return ye?(0,F.r)(Se,ye):new h.y((0,Z.V)(Se))}},6682:(ct,Oe,M)=>{"use strict";M.d(Oe,{T:()=>Se});var h=M(7574),Z=M(4869),F=M(3282),ue=M(6693);function Se(...ye){let Re=Number.POSITIVE_INFINITY,be=null,le=ye[ye.length-1];return(0,Z.K)(le)?(be=ye.pop(),ye.length>1&&"number"==typeof ye[ye.length-1]&&(Re=ye.pop())):"number"==typeof le&&(Re=ye.pop()),null===be&&1===ye.length&&ye[0]instanceof h.y?ye[0]:(0,F.J)(Re)((0,ue.n)(ye,be))}},5917:(ct,Oe,M)=>{"use strict";M.d(Oe,{of:()=>ue});var h=M(4869),Z=M(6693),F=M(4087);function ue(...Se){let ye=Se[Se.length-1];return(0,h.K)(ye)?(Se.pop(),(0,F.r)(Se,ye)):(0,Z.n)(Se)}},8002:(ct,Oe,M)=>{"use strict";M.d(Oe,{U:()=>Z});var h=M(7393);function Z(Se,ye){return function(be){if("function"!=typeof Se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return be.lift(new F(Se,ye))}}class F{constructor(ye,Re){this.project=ye,this.thisArg=Re}call(ye,Re){return Re.subscribe(new ue(ye,this.project,this.thisArg))}}class ue extends h.L{constructor(ye,Re,be){super(ye),this.project=Re,this.count=0,this.thisArg=be||this}_next(ye){let Re;try{Re=this.project.call(this.thisArg,ye,this.count++)}catch(be){return void this.destination.error(be)}this.destination.next(Re)}}},3282:(ct,Oe,M)=>{"use strict";M.d(Oe,{J:()=>F});var h=M(9773),Z=M(4487);function F(ue=Number.POSITIVE_INFINITY){return(0,h.zg)(Z.y,ue)}},9773:(ct,Oe,M)=>{"use strict";M.d(Oe,{zg:()=>ue});var h=M(8002),Z=M(4402),F=M(5345);function ue(be,le,B=Number.POSITIVE_INFINITY){return"function"==typeof le?$=>$.pipe(ue((oe,te)=>(0,Z.D)(be(oe,te)).pipe((0,h.U)((pe,Ue)=>le(oe,pe,te,Ue))),B)):("number"==typeof le&&(B=le),$=>$.lift(new Se(be,B)))}class Se{constructor(le,B=Number.POSITIVE_INFINITY){this.project=le,this.concurrent=B}call(le,B){return B.subscribe(new ye(le,this.project,this.concurrent))}}class ye extends F.Ds{constructor(le,B,$=Number.POSITIVE_INFINITY){super(le),this.project=B,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(le){this.active<this.concurrent?this._tryNext(le):this.buffer.push(le)}_tryNext(le){let B;const $=this.index++;try{B=this.project(le,$)}catch(oe){return void this.destination.error(oe)}this.active++,this._innerSub(B)}_innerSub(le){const B=new F.IY(this),$=this.destination;$.add(B);const oe=(0,F.ft)(le,B);oe!==B&&$.add(oe)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(le){this.destination.next(le)}notifyComplete(){const le=this.buffer;this.active--,le.length>0?this._next(le.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(ct,Oe,M)=>{"use strict";M.d(Oe,{ht:()=>$,QV:()=>le});var h=M(7393),Z=M(9193),F=M(5917),ue=M(7574);class be{constructor(pe,Ue,Te){this.kind=pe,this.value=Ue,this.error=Te,this.hasValue="N"===pe}observe(pe){switch(this.kind){case"N":return pe.next&&pe.next(this.value);case"E":return pe.error&&pe.error(this.error);case"C":return pe.complete&&pe.complete()}}do(pe,Ue,Te){switch(this.kind){case"N":return pe&&pe(this.value);case"E":return Ue&&Ue(this.error);case"C":return Te&&Te()}}accept(pe,Ue,Te){return pe&&"function"==typeof pe.next?this.observe(pe):this.do(pe,Ue,Te)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return te=this.error,new ue.y(Ue=>Ue.error(te));case"C":return(0,Z.c)()}var te;throw new Error("unexpected notification kind value")}static createNext(pe){return void 0!==pe?new be("N",pe):be.undefinedValueNotification}static createError(pe){return new be("E",void 0,pe)}static createComplete(){return be.completeNotification}}function le(te,pe=0){return function(Te){return Te.lift(new B(te,pe))}}be.completeNotification=new be("C"),be.undefinedValueNotification=new be("N",void 0);class B{constructor(pe,Ue=0){this.scheduler=pe,this.delay=Ue}call(pe,Ue){return Ue.subscribe(new $(pe,this.scheduler,this.delay))}}class $ extends h.L{constructor(pe,Ue,Te=0){super(pe),this.scheduler=Ue,this.delay=Te}static dispatch(pe){const{notification:Ue,destination:Te}=pe;Ue.observe(Te),this.unsubscribe()}scheduleMessage(pe){this.destination.add(this.scheduler.schedule($.dispatch,this.delay,new oe(pe,this.destination)))}_next(pe){this.scheduleMessage(be.createNext(pe))}_error(pe){this.scheduleMessage(be.createError(pe)),this.unsubscribe()}_complete(){this.scheduleMessage(be.createComplete()),this.unsubscribe()}}class oe{constructor(pe,Ue){this.notification=pe,this.destination=Ue}}},1307:(ct,Oe,M)=>{"use strict";M.d(Oe,{x:()=>Z});var h=M(7393);function Z(){return function(ye){return ye.lift(new F(ye))}}class F{constructor(ye){this.connectable=ye}call(ye,Re){const{connectable:be}=this;be._refCount++;const le=new ue(ye,be),B=Re.subscribe(le);return le.closed||(le.connection=be.connect()),B}}class ue extends h.L{constructor(ye,Re){super(ye),this.connectable=Re}_unsubscribe(){const{connectable:ye}=this;if(!ye)return void(this.connection=null);this.connectable=null;const Re=ye._refCount;if(Re<=0)return void(this.connection=null);if(ye._refCount=Re-1,Re>1)return void(this.connection=null);const{connection:be}=this,le=ye._connection;this.connection=null,le&&(!be||le===be)&&le.unsubscribe()}}},3101:(ct,Oe,M)=>{"use strict";M.d(Oe,{R:()=>we});var h=M(7574);let Z=1;const F=Promise.resolve(),ue={};function Se(ze){return ze in ue&&(delete ue[ze],!0)}const ye={setImmediate(ze){const Ne=Z++;return ue[Ne]=!0,F.then(()=>Se(Ne)&&ze()),Ne},clearImmediate(ze){Se(ze)}};var be=M(6465),B=M(6102);const te=new class extends B.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:rt}=this;let vt,tt=-1,Mt=rt.length;Ne=Ne||rt.shift();do{if(vt=Ne.execute(Ne.state,Ne.delay))break}while(++tt<Mt&&(Ne=rt.shift()));if(this.active=!1,vt){for(;++tt<Mt&&(Ne=rt.shift());)Ne.unsubscribe();throw vt}}}(class extends be.o{constructor(Ne,rt){super(Ne,rt),this.scheduler=Ne,this.work=rt}requestAsyncId(Ne,rt,vt=0){return null!==vt&&vt>0?super.requestAsyncId(Ne,rt,vt):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=ye.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,rt,vt=0){if(null!==vt&&vt>0||null===vt&&this.delay>0)return super.recycleAsyncId(Ne,rt,vt);0===Ne.actions.length&&(ye.clearImmediate(rt),Ne.scheduled=void 0)}});var pe=M(9796);class Te extends h.y{constructor(Ne,rt=0,vt=te){var ze;super(),this.source=Ne,this.delayTime=rt,this.scheduler=vt,(!(!(0,pe.k)(ze=rt)&&ze-parseFloat(ze)+1>=0)||rt<0)&&(this.delayTime=0),(!vt||"function"!=typeof vt.schedule)&&(this.scheduler=te)}static create(Ne,rt=0,vt=te){return new Te(Ne,rt,vt)}static dispatch(Ne){const{source:rt,subscriber:vt}=Ne;return this.add(rt.subscribe(vt))}_subscribe(Ne){return this.scheduler.schedule(Te.dispatch,this.delayTime,{source:this.source,subscriber:Ne})}}function we(ze,Ne=0){return function(vt){return vt.lift(new qe(ze,Ne))}}class qe{constructor(Ne,rt){this.scheduler=Ne,this.delay=rt}call(Ne,rt){return new Te(rt,this.delay,this.scheduler).subscribe(Ne)}}},3342:(ct,Oe,M)=>{"use strict";M.d(Oe,{b:()=>ue});var h=M(7393);function Z(){}var F=M(9105);function ue(Re,be,le){return function($){return $.lift(new Se(Re,be,le))}}class Se{constructor(be,le,B){this.nextOrObserver=be,this.error=le,this.complete=B}call(be,le){return le.subscribe(new ye(be,this.nextOrObserver,this.error,this.complete))}}class ye extends h.L{constructor(be,le,B,$){super(be),this._tapNext=Z,this._tapError=Z,this._tapComplete=Z,this._tapError=B||Z,this._tapComplete=$||Z,(0,F.m)(le)?(this._context=this,this._tapNext=le):le&&(this._context=le,this._tapNext=le.next||Z,this._tapError=le.error||Z,this._tapComplete=le.complete||Z)}_next(be){try{this._tapNext.call(this._context,be)}catch(le){return void this.destination.error(le)}this.destination.next(be)}_error(be){try{this._tapError.call(this._context,be)}catch(le){return void this.destination.error(le)}this.destination.error(be)}_complete(){try{this._tapComplete.call(this._context)}catch(be){return void this.destination.error(be)}return this.destination.complete()}}},4087:(ct,Oe,M)=>{"use strict";M.d(Oe,{r:()=>F});var h=M(7574),Z=M(5319);function F(ue,Se){return new h.y(ye=>{const Re=new Z.w;let be=0;return Re.add(Se.schedule(function(){be!==ue.length?(ye.next(ue[be++]),ye.closed||Re.add(this.schedule())):ye.complete()})),Re})}},6465:(ct,Oe,M)=>{"use strict";M.d(Oe,{o:()=>F});var h=M(5319);class Z extends h.w{constructor(Se,ye){super()}schedule(Se,ye=0){return this}}class F extends Z{constructor(Se,ye){super(Se,ye),this.scheduler=Se,this.work=ye,this.pending=!1}schedule(Se,ye=0){if(this.closed)return this;this.state=Se;const Re=this.id,be=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(be,Re,ye)),this.pending=!0,this.delay=ye,this.id=this.id||this.requestAsyncId(be,this.id,ye),this}requestAsyncId(Se,ye,Re=0){return setInterval(Se.flush.bind(Se,this),Re)}recycleAsyncId(Se,ye,Re=0){if(null!==Re&&this.delay===Re&&!1===this.pending)return ye;clearInterval(ye)}execute(Se,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(Se,ye);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,ye){let be,Re=!1;try{this.work(Se)}catch(le){Re=!0,be=!!le&&le||new Error(le)}if(Re)return this.unsubscribe(),be}_unsubscribe(){const Se=this.id,ye=this.scheduler,Re=ye.actions,be=Re.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==be&&Re.splice(be,1),null!=Se&&(this.id=this.recycleAsyncId(ye,Se,null)),this.delay=null}}},6102:(ct,Oe,M)=>{"use strict";M.d(Oe,{v:()=>Z});let h=(()=>{class F{constructor(Se,ye=F.now){this.SchedulerAction=Se,this.now=ye}schedule(Se,ye=0,Re){return new this.SchedulerAction(this,Se).schedule(Re,ye)}}return F.now=()=>Date.now(),F})();class Z extends h{constructor(ue,Se=h.now){super(ue,()=>Z.delegate&&Z.delegate!==this?Z.delegate.now():Se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,Se=0,ye){return Z.delegate&&Z.delegate!==this?Z.delegate.schedule(ue,Se,ye):super.schedule(ue,Se,ye)}flush(ue){const{actions:Se}=this;if(this.active)return void Se.push(ue);let ye;this.active=!0;do{if(ye=ue.execute(ue.state,ue.delay))break}while(ue=Se.shift());if(this.active=!1,ye){for(;ue=Se.shift();)ue.unsubscribe();throw ye}}}},3637:(ct,Oe,M)=>{"use strict";M.d(Oe,{z:()=>F});var h=M(6465);const F=new(M(6102).v)(h.o)},7771:(ct,Oe,M)=>{"use strict";M.d(Oe,{c:()=>ye,N:()=>Se});var h=M(6465),F=M(6102);const Se=new class extends F.v{}(class extends h.o{constructor(be,le){super(be,le),this.scheduler=be,this.work=le}schedule(be,le=0){return le>0?super.schedule(be,le):(this.delay=le,this.state=be,this.scheduler.flush(this),this)}execute(be,le){return le>0||this.closed?super.execute(be,le):this._execute(be,le)}requestAsyncId(be,le,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(be,le,B):be.flush(this)}}),ye=Se},377:(ct,Oe,M)=>{"use strict";M.d(Oe,{hZ:()=>Z});const Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ct,Oe,M)=>{"use strict";M.d(Oe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ct,Oe,M)=>{"use strict";M.d(Oe,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ct,Oe,M)=>{"use strict";M.d(Oe,{N:()=>Z});const Z=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(ct,Oe,M)=>{"use strict";function h(Z){setTimeout(()=>{throw Z},0)}M.d(Oe,{z:()=>h})},4487:(ct,Oe,M)=>{"use strict";function h(Z){return Z}M.d(Oe,{y:()=>h})},9796:(ct,Oe,M)=>{"use strict";M.d(Oe,{k:()=>h});const h=Array.isArray||(Z=>Z&&"number"==typeof Z.length)},9489:(ct,Oe,M)=>{"use strict";M.d(Oe,{z:()=>h});const h=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},9105:(ct,Oe,M)=>{"use strict";function h(Z){return"function"==typeof Z}M.d(Oe,{m:()=>h})},1555:(ct,Oe,M)=>{"use strict";function h(Z){return null!==Z&&"object"==typeof Z}M.d(Oe,{K:()=>h})},4072:(ct,Oe,M)=>{"use strict";function h(Z){return!!Z&&"function"!=typeof Z.subscribe&&"function"==typeof Z.then}M.d(Oe,{t:()=>h})},4869:(ct,Oe,M)=>{"use strict";function h(Z){return Z&&"function"==typeof Z.schedule}M.d(Oe,{K:()=>h})},7444:(ct,Oe,M)=>{"use strict";M.d(Oe,{s:()=>$});var h=M(5015),Z=M(4449),ue=M(377),ye=M(6554),be=M(9489),le=M(4072),B=M(1555);const $=oe=>{if(oe&&"function"==typeof oe[ye.L])return(oe=>te=>{const pe=oe[ye.L]();if("function"!=typeof pe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return pe.subscribe(te)})(oe);if((0,be.z)(oe))return(0,h.V)(oe);if((0,le.t)(oe))return(oe=>te=>(oe.then(pe=>{te.closed||(te.next(pe),te.complete())},pe=>te.error(pe)).then(null,Z.z),te))(oe);if(oe&&"function"==typeof oe[ue.hZ])return(oe=>te=>{const pe=oe[ue.hZ]();for(;;){let Ue;try{Ue=pe.next()}catch(Te){return te.error(Te),te}if(Ue.done){te.complete();break}if(te.next(Ue.value),te.closed)break}return"function"==typeof pe.return&&te.add(()=>{pe.return&&pe.return()}),te})(oe);{const pe=`You provided ${(0,B.K)(oe)?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(pe)}}},5015:(ct,Oe,M)=>{"use strict";M.d(Oe,{V:()=>h});const h=Z=>F=>{for(let ue=0,Se=Z.length;ue<Se&&!F.closed;ue++)F.next(Z[ue]);F.complete()}},259:(ct,Oe,M)=>{"use strict";var h=M(3018);let Z=null;function F(){return Z}const Re=new h.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:le,token:n,providedIn:"platform"}),n})();function le(){return(0,h.LFG)($)}const B=new h.OlP("Location Initialized");let $=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){oe()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){oe()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re))},n.\u0275prov=(0,h.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function te(){return new $((0,h.LFG)(Re))}function pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Te(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:qe,token:n,providedIn:"root"}),n})();function qe(n){const e=(0,h.LFG)(Re).location;return new Ne((0,h.LFG)(be),e&&e.origin||"")}const ze=new h.OlP("appBaseHref");let Ne=(()=>{class n extends we{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Te(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+Te(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+Te(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(ze,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),rt=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=pe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+Te(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+Te(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(ze,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),vt=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(Ee(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Te(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Te(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Te(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we),h.LFG(be))},n.normalizeQueryParams=Te,n.joinWithSlash=pe,n.stripTrailingSlash=Ue,n.\u0275prov=(0,h.Yz7)({factory:tt,token:n,providedIn:"root"}),n})();function tt(){return new vt((0,h.LFG)(we),(0,h.LFG)(be))}function Ee(n){return n.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))(),se=(()=>((se=se||{})[se.Format=0]="Format",se[se.Standalone=1]="Standalone",se))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),De=(()=>((De=De||{})[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function or(n,e){return sn((0,h.cg1)(n)[h.wAp.DateFormat],e)}function At(n,e){return sn((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function pt(n,e){return sn((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function bn(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(void 0===r){if(e===_e.CurrencyDecimal)return t[h.wAp.NumberSymbols][_e.Decimal];if(e===_e.CurrencyGroup)return t[h.wAp.NumberSymbols][_e.Group]}return r}const Vn=h.kL8;function Zn(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Dn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ar=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xn={},Un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mn=(()=>((mn=mn||{})[mn.Short=0]="Short",mn[mn.ShortGMT=1]="ShortGMT",mn[mn.Long=2]="Long",mn[mn.Extended=3]="Extended",mn))(),_t=(()=>((_t=_t||{})[_t.FullYear=0]="FullYear",_t[_t.Month=1]="Month",_t[_t.Date=2]="Date",_t[_t.Hours=3]="Hours",_t[_t.Minutes=4]="Minutes",_t[_t.Seconds=5]="Seconds",_t[_t.FractionalSeconds=6]="FractionalSeconds",_t[_t.Day=7]="Day",_t))(),nt=(()=>((nt=nt||{})[nt.DayPeriods=0]="DayPeriods",nt[nt.Days=1]="Days",nt[nt.Months=2]="Months",nt[nt.Eras=3]="Eras",nt))();function un(n,e,t,r){let o=function(n){if(it(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,u=1,l=1]=n.split("-").map(f=>+f);return wi(o,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ar))return function(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,g=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,f,g,v),e}(r)}const e=new Date(n);if(!it(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ur(t,e)||e;let f,l=[];for(;e;){if(f=Un.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const I=l.pop();if(!I)break;e=I}}let g=o.getTimezoneOffset();r&&(g=q(r,g),o=function(n,e,t){const o=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(q(e,o)-o))}(o,r));let v="";return l.forEach(I=>{const C=function(n){if(fn[n])return fn[n];let e;switch(n){case"G":case"GG":case"GGG":e=K(nt.Eras,ge.Abbreviated);break;case"GGGG":e=K(nt.Eras,ge.Wide);break;case"GGGGG":e=K(nt.Eras,ge.Narrow);break;case"y":e=hn(_t.FullYear,1,0,!1,!0);break;case"yy":e=hn(_t.FullYear,2,0,!0,!0);break;case"yyy":e=hn(_t.FullYear,3,0,!1,!0);break;case"yyyy":e=hn(_t.FullYear,4,0,!1,!0);break;case"Y":e=on(1);break;case"YY":e=on(2,!0);break;case"YYY":e=on(3);break;case"YYYY":e=on(4);break;case"M":case"L":e=hn(_t.Month,1,1);break;case"MM":case"LL":e=hn(_t.Month,2,1);break;case"MMM":e=K(nt.Months,ge.Abbreviated);break;case"MMMM":e=K(nt.Months,ge.Wide);break;case"MMMMM":e=K(nt.Months,ge.Narrow);break;case"LLL":e=K(nt.Months,ge.Abbreviated,se.Standalone);break;case"LLLL":e=K(nt.Months,ge.Wide,se.Standalone);break;case"LLLLL":e=K(nt.Months,ge.Narrow,se.Standalone);break;case"w":e=St(1);break;case"ww":e=St(2);break;case"W":e=St(1,!0);break;case"d":e=hn(_t.Date,1);break;case"dd":e=hn(_t.Date,2);break;case"c":case"cc":e=hn(_t.Day,1);break;case"ccc":e=K(nt.Days,ge.Abbreviated,se.Standalone);break;case"cccc":e=K(nt.Days,ge.Wide,se.Standalone);break;case"ccccc":e=K(nt.Days,ge.Narrow,se.Standalone);break;case"cccccc":e=K(nt.Days,ge.Short,se.Standalone);break;case"E":case"EE":case"EEE":e=K(nt.Days,ge.Abbreviated);break;case"EEEE":e=K(nt.Days,ge.Wide);break;case"EEEEE":e=K(nt.Days,ge.Narrow);break;case"EEEEEE":e=K(nt.Days,ge.Short);break;case"a":case"aa":case"aaa":e=K(nt.DayPeriods,ge.Abbreviated);break;case"aaaa":e=K(nt.DayPeriods,ge.Wide);break;case"aaaaa":e=K(nt.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=K(nt.DayPeriods,ge.Abbreviated,se.Standalone,!0);break;case"bbbb":e=K(nt.DayPeriods,ge.Wide,se.Standalone,!0);break;case"bbbbb":e=K(nt.DayPeriods,ge.Narrow,se.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(nt.DayPeriods,ge.Abbreviated,se.Format,!0);break;case"BBBB":e=K(nt.DayPeriods,ge.Wide,se.Format,!0);break;case"BBBBB":e=K(nt.DayPeriods,ge.Narrow,se.Format,!0);break;case"h":e=hn(_t.Hours,1,-12);break;case"hh":e=hn(_t.Hours,2,-12);break;case"H":e=hn(_t.Hours,1);break;case"HH":e=hn(_t.Hours,2);break;case"m":e=hn(_t.Minutes,1);break;case"mm":e=hn(_t.Minutes,2);break;case"s":e=hn(_t.Seconds,1);break;case"ss":e=hn(_t.Seconds,2);break;case"S":e=hn(_t.FractionalSeconds,1);break;case"SS":e=hn(_t.FractionalSeconds,2);break;case"SSS":e=hn(_t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=G(mn.Short);break;case"ZZZZZ":e=G(mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=G(mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=G(mn.Long);break;default:return null}return fn[n]=e,e}(I);v+=C?C(o,t,g):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function wi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ur(n,e){const t=function(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(Xn[t]=Xn[t]||{},Xn[t][e])return Xn[t][e];let r="";switch(e){case"shortDate":r=or(n,De.Short);break;case"mediumDate":r=or(n,De.Medium);break;case"longDate":r=or(n,De.Long);break;case"fullDate":r=or(n,De.Full);break;case"shortTime":r=At(n,De.Short);break;case"mediumTime":r=At(n,De.Medium);break;case"longTime":r=At(n,De.Long);break;case"fullTime":r=At(n,De.Full);break;case"short":const o=ur(n,"shortTime"),u=ur(n,"shortDate");r=yn(pt(n,De.Short),[o,u]);break;case"medium":const l=ur(n,"mediumTime"),f=ur(n,"mediumDate");r=yn(pt(n,De.Medium),[l,f]);break;case"long":const g=ur(n,"longTime"),v=ur(n,"longDate");r=yn(pt(n,De.Long),[g,v]);break;case"full":const I=ur(n,"fullTime"),C=ur(n,"fullDate");r=yn(pt(n,De.Full),[I,C])}return r&&(Xn[t][e]=r),r}function yn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function kn(n,e,t="-",r,o){let u="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.substr(l.length-e)),u+l}function hn(n,e,t=0,r=!1,o=!1){return function(u,l){let f=function(n,e){switch(n){case _t.FullYear:return e.getFullYear();case _t.Month:return e.getMonth();case _t.Date:return e.getDate();case _t.Hours:return e.getHours();case _t.Minutes:return e.getMinutes();case _t.Seconds:return e.getSeconds();case _t.FractionalSeconds:return e.getMilliseconds();case _t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===_t.Hours)0===f&&-12===t&&(f=12);else if(n===_t.FractionalSeconds)return function(n,e){return kn(n,3).substr(0,e)}(f,e);const g=bn(l,_e.MinusSign);return kn(f,e,g,r,o)}}function K(n,e,t=se.Format,r=!1){return function(o,u){return function(n,e,t,r,o,u){switch(t){case nt.Months:return function(n,e,t){const r=(0,h.cg1)(n),u=sn([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return sn(u,t)}(e,o,r)[n.getMonth()];case nt.Days:return function(n,e,t){const r=(0,h.cg1)(n),u=sn([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return sn(u,t)}(e,o,r)[n.getDay()];case nt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(u){const v=function(n){const e=(0,h.cg1)(n);return Zn(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Dn(r):[Dn(r[0]),Dn(r[1])])}(e),I=function(n,e,t){const r=(0,h.cg1)(n);Zn(r);const u=sn([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return sn(u,t)||[]}(e,o,r),C=v.findIndex(D=>{if(Array.isArray(D)){const[x,N]=D,H=l>=x.hours&&f>=x.minutes,X=l<N.hours||l===N.hours&&f<N.minutes;if(x.hours<N.hours){if(H&&X)return!0}else if(H||X)return!0}else if(D.hours===l&&D.minutes===f)return!0;return!1});if(-1!==C)return I[C]}return function(n,e,t){const r=(0,h.cg1)(n),u=sn([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return sn(u,t)}(e,o,r)[l<12?0:1];case nt.Eras:return function(n,e){return sn((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,u,n,e,t,r)}}function G(n){return function(e,t,r){const o=-1*r,u=bn(t,_e.MinusSign),l=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case mn.Short:return(o>=0?"+":"")+kn(l,2,u)+kn(Math.abs(o%60),2,u);case mn.ShortGMT:return"GMT"+(o>=0?"+":"")+kn(l,1,u);case mn.Long:return"GMT"+(o>=0?"+":"")+kn(l,2,u)+":"+kn(Math.abs(o%60),2,u);case mn.Extended:return 0===r?"Z":(o>=0?"+":"")+kn(l,2,u)+":"+kn(Math.abs(o%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function et(n){return wi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function St(n,e=!1){return function(t,r){let o;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();o=1+Math.floor((l+u)/7)}else{const u=et(t),l=function(n){const e=wi(n,0,1).getDay();return wi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),f=u.getTime()-l.getTime();o=1+Math.round(f/6048e5)}return kn(o,n,bn(r,_e.MinusSign))}}function on(n,e=!1){return function(t,r){return kn(et(t).getFullYear(),n,bn(r,_e.MinusSign),e)}}const fn={};function q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function it(n){return n instanceof Date&&!isNaN(n.valueOf())}class An{}let Xr=(()=>{class n extends An{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Vn(r||this.locale)(t)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Bt(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}let xo=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class sc{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,u,l)=>{if(null==o.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new sc(null,this._ngForOf,-1,-1),null===l?void 0:l),g=new Sr(o,f);r.push(g)}else if(null==l)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const f=this._viewContainer.get(u);this._viewContainer.move(f,l);const g=new Sr(o,f);r.push(g)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,u=this._viewContainer.length;o<u;o++){const l=this._viewContainer.get(o);l.context.index=o,l.context.count=u,l.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Sr{constructor(e,t){this.record=e,this.view=t}}let Ii=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ti{constructor(){this.$implicit=null,this.ngIf=null}}function xn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Oo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[h.TTD]}),n})();let Xa=(()=>{class n{constructor(t){this.locale=t}transform(t,r="mediumDate",o,u){if(null==t||""===t||t!=t)return null;try{return un(t,r,u||this.locale,o)}catch(l){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,h.AaK)(n)}'`)}(n,l.message)}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0}),n})(),Rl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:An,useClass:Xr}]}),n})();function _a(n){return"server"===n}let ko=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new iu((0,h.LFG)(Re),window)}),n})();class iu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ba(this.window.history)||ba(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ba(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ns{}class Fo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Fo,Z||(Z=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ds=Ds||document.querySelector("base"),Ds?Ds.getAttribute("href"):null);return null==t?null:function(n){su=su||document.createElement("a"),su.setAttribute("href",n);const e=su.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bt(document.cookie,e)}}let su,Ds=null;const L=new h.OlP("TRANSITION_ID"),ne=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=F(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[L,Re,h.zs3],multi:!0}];class fe{static init(){(0,h.VLi)(new fe)}addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const f=function(g){l=l||g,u--,0==u&&r(l)};o.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ke=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Si=new h.OlP("EventManagerPlugins");let ps=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const l=o[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Si),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Lo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=F().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Sh=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),wa=(()=>{class n extends Sh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,o.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ig),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ig))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function ig(n){F().remove(n)}const Ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vn=/%COMP%/g;function Vo(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Vo(n,o,t):(o=o.replace(vn,n),t.push(o))}return t}function Fv(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ia=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Uo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new jo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case h.ifc.ShadowDom:return new po(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Vo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ps),h.LFG(wa),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ge[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Ge[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ge[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fv(r)):this.eventManager.addEventListener(e,t,Fv(r))}}class jo extends Uo{constructor(e,t,r,o){super(e),this.component=r;const u=Vo(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(vn,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(vn,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class po extends Uo{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Vo(o.id,o.styles,[]);for(let l=0;l<u.length;l++){const f=document.createElement("style");f.textContent=u[l],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Rh=(()=>{class n extends Lo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=["alt","control","meta","shift"],cg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ui={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ca=(()=>{class n extends Lo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="";if(lc.forEach(g=>{const v=r.indexOf(g);v>-1&&(r.splice(v,1),l+=g+".")}),l+=u,0!=r.length||0===u.length)return null;const f={};return f.domEventName=o,f.fullKey=l,f}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&lg.hasOwnProperty(e)&&(e=lg[e]))}return cg[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),lc.forEach(u=>{u!=o&&Ui[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fg=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){Fo.makeCurrent(),fe.init()},multi:!0},{provide:Re,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Bo=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:Si,useClass:Rh,multi:!0,deps:[Re,h.R0b,h.Lbi]},{provide:Si,useClass:Ca,multi:!0,deps:[Re]},[],{provide:Ia,useClass:Ia,deps:[ps,wa,h.AFp]},{provide:h.FYo,useExisting:Ia},{provide:Sh,useExisting:wa},{provide:wa,useClass:wa,deps:[Re]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:ps,useClass:ps,deps:[Si,h.R0b]},{provide:ns,useClass:Ke,deps:[]},[]];let Da=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:L,useExisting:h.AFp},ne]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Bo,imports:[Rl,h.hGG]}),n})();function pg(){return new Ml((0,h.LFG)(Re))}let Ml=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re))},n.\u0275prov=(0,h.Yz7)({factory:pg,token:n,providedIn:"root"}),n})();"undefined"!=typeof window&&window;var Pt=M(5917),kr=M(7574),Zr=M(9773);function xs(n,e){return(0,Zr.zg)(n,e,1)}var ti=M(7393);function ji(n,e){return function(r){return r.lift(new du(n,e))}}class du{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _c(e,this.predicate,this.thisArg))}}class _c extends ti.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}var Wt=M(8002);class kh{}class yg{}class rs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof rs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new rs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof rs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===u.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vg{encodeKey(e){return fu(e)}encodeValue(e){return fu(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Gv=/%(\d[a-f0-9])/gi,hu={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function fu(n){return encodeURIComponent(n).replace(Gv,(e,t)=>{var r;return null!==(r=hu[t])&&void 0!==r?r:e})}function Fh(n){return`${n}`}class Gs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[l,f]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],g=t.get(l)||[];g.push(f),t.set(l,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Gs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Fh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Fh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class pu{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Vl(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Ul(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Aa(n){return"undefined"!=typeof FormData&&n instanceof FormData}class zs{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new rs),this.context||(this.context=new pu),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new Gs,this.urlWithParams=t}serializeBody(){return null===this.body?null:Vl(this.body)||Ul(this.body)||Aa(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Gs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Aa(this.body)?null:Ul(this.body)?this.body.type||null:Vl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,I=e.params||this.params;const C=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((D,x)=>D.set(x,e.setHeaders[x]),v)),e.setParams&&(I=Object.keys(e.setParams).reduce((D,x)=>D.set(x,e.setParams[x]),I)),new zs(r,o,l,{params:I,headers:v,context:C,reportProgress:g,responseType:u,withCredentials:f})}}var Qn=(()=>((Qn=Qn||{})[Qn.Sent=0]="Sent",Qn[Qn.UploadProgress=1]="UploadProgress",Qn[Qn.ResponseHeader=2]="ResponseHeader",Qn[Qn.DownloadProgress=3]="DownloadProgress",Qn[Qn.Response=4]="Response",Qn[Qn.User=5]="User",Qn))();class bc{constructor(e,t=200,r="OK"){this.headers=e.headers||new rs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class go extends bc{constructor(e={}){super(e),this.type=Qn.ResponseHeader}clone(e={}){return new go({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Lh extends bc{constructor(e={}){super(e),this.type=Qn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Lh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _g extends bc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Vh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Wv=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof zs)u=t;else{let g,v;g=o.headers instanceof rs?o.headers:new rs(o.headers),o.params&&(v=o.params instanceof Gs?o.params:new Gs({fromObject:o.params})),u=new zs(t,r,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:v,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,Pt.of)(u).pipe(xs(g=>this.handler.handle(g)));if(t instanceof zs||"events"===o.observe)return l;const f=l.pipe(ji(g=>g instanceof Lh));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,Wt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,Wt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,Wt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,Wt.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Gs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Vh(o,r))}post(t,r,o={}){return this.request("POST",t,Vh(o,r))}put(t,r,o={}){return this.request("PUT",t,Vh(o,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(kh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class bg{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Gn=new h.OlP("HTTP_INTERCEPTORS");let Kv=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const rw=/^\)\]\}',?\n/;let Xv=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new kr.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((x,N)=>o.setRequestHeader(x,N.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const x=t.detectContentTypeHeader();null!==x&&o.setRequestHeader("Content-Type",x)}if(t.responseType){const x=t.responseType.toLowerCase();o.responseType="json"!==x?x:"text"}const u=t.serializeBody();let l=null;const f=()=>{if(null!==l)return l;const x=1223===o.status?204:o.status,N=o.statusText||"OK",H=new rs(o.getAllResponseHeaders()),X=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new go({headers:H,status:x,statusText:N,url:X}),l},g=()=>{let{headers:x,status:N,statusText:H,url:X}=f(),ve=null;204!==N&&(ve=void 0===o.response?o.responseText:o.response),0===N&&(N=ve?200:0);let Le=N>=200&&N<300;if("json"===t.responseType&&"string"==typeof ve){const xe=ve;ve=ve.replace(rw,"");try{ve=""!==ve?JSON.parse(ve):null}catch(je){ve=xe,Le&&(Le=!1,ve={error:je,text:ve})}}Le?(r.next(new Lh({body:ve,headers:x,status:N,statusText:H,url:X||void 0})),r.complete()):r.error(new _g({error:ve,headers:x,status:N,statusText:H,url:X||void 0}))},v=x=>{const{url:N}=f(),H=new _g({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:N||void 0});r.error(H)};let I=!1;const C=x=>{I||(r.next(f()),I=!0);let N={type:Qn.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(N.total=x.total),"text"===t.responseType&&!!o.responseText&&(N.partialText=o.responseText),r.next(N)},D=x=>{let N={type:Qn.UploadProgress,loaded:x.loaded};x.lengthComputable&&(N.total=x.total),r.next(N)};return o.addEventListener("load",g),o.addEventListener("error",v),o.addEventListener("timeout",v),o.addEventListener("abort",v),t.reportProgress&&(o.addEventListener("progress",C),null!==u&&o.upload&&o.upload.addEventListener("progress",D)),o.send(u),r.next({type:Qn.Sent}),()=>{o.removeEventListener("error",v),o.removeEventListener("abort",v),o.removeEventListener("load",g),o.removeEventListener("timeout",v),t.reportProgress&&(o.removeEventListener("progress",C),null!==u&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ns))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const is=new h.OlP("XSRF_COOKIE_NAME"),jl=new h.OlP("XSRF_HEADER_NAME");class Dr{}let Bl=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re),h.LFG(h.Lbi),h.LFG(is))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),gu=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dr),h.LFG(jl))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ig=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Gn,[]);this.chain=r.reduceRight((o,u)=>new bg(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(yg),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ws=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:gu,useClass:Kv}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:is,useValue:t.cookieName}:[],t.headerName?{provide:jl,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[gu,{provide:Gn,useExisting:gu,multi:!0},{provide:Dr,useClass:Bl},{provide:is,useValue:"XSRF-TOKEN"},{provide:jl,useValue:"X-XSRF-TOKEN"}]}),n})(),mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Wv,{provide:kh,useClass:Ig},Xv,{provide:yg,useExisting:Xv}],imports:[[Ws.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Mn=M(8370),Yn=M(4402),Ho=M(5345);function ni(n,e){return"function"==typeof e?t=>t.pipe(ni((r,o)=>(0,Yn.D)(n(r,o)).pipe((0,Wt.U)((u,l)=>e(r,u,o,l))))):t=>t.lift(new ql(n))}class ql{constructor(e){this.project=e}call(e,t){return t.subscribe(new Tg(e,this.project))}}class Tg extends Ho.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ho.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Ho.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var li=M(5319),ss=M(9765);class Cg{constructor(e,t,r,o){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=o}call(e,t){return t.subscribe(new Sg(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Sg extends ti.L{constructor(e,t,r,o,u){super(e),this.keySelector=t,this.elementSelector=r,this.durationSelector=o,this.subjectSelector=u,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)}_group(e,t){let r=this.groups;r||(r=this.groups=new Map);let u,o=r.get(t);if(this.elementSelector)try{u=this.elementSelector(e)}catch(l){this.error(l)}else u=e;if(!o){o=this.subjectSelector?this.subjectSelector():new ss.xQ,r.set(t,o);const l=new jh(t,o,this);if(this.destination.next(l),this.durationSelector){let f;try{f=this.durationSelector(new jh(t,o))}catch(g){return void this.error(g)}this.add(f.subscribe(new Dg(t,o,this)))}}o.closed||o.next(u)}_error(e){const t=this.groups;t&&(t.forEach((r,o)=>{r.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,r)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Dg extends ti.L{constructor(e,t,r){super(t),this.key=e,this.group=t,this.parent=r}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class jh extends kr.y{constructor(e,t,r){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=r}_subscribe(e){const t=new li.w,{refCountSubscription:r,groupSubject:o}=this;return r&&!r.closed&&t.add(new Ag(r)),t.add(o.subscribe(e)),t}}class Ag extends li.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}function xg(n,e){return t=>t.lift(new t_(n,e))}class t_{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new xa(e,this.compare,this.keySelector))}}class xa extends ti.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var vu=M(3282);function Hl(...n){return(0,vu.J)(1)((0,Pt.of)(...n))}var _u=M(4869);function Go(...n){const e=n[n.length-1];return(0,_u.K)(e)?(n.pop(),t=>Hl(n,t,e)):t=>Hl(n,t)}function Os(){return n=>n.lift(new n_)}class n_{call(e,t){return t.subscribe(new Bh(e))}}class Bh extends ti.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var bu=M(2329);var Wl=M(7971);class Bi extends ss.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Wl.N;return this._value}next(e){super.next(this._value=e)}}var Fg=M(9796);class Zh extends ti.L{notifyNext(e,t,r,o,u){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ko extends ti.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var d_=M(7444);function h_(n,e,t,r,o=new Ko(n,t,r)){if(!o.closed)return e instanceof kr.y?e.subscribe(o):(0,d_.s)(e)(o)}var f_=M(6693);const p_={};class y{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new _(e,this.resultSelector))}}class _ extends Zh{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(p_),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(h_(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,l=this.toRespond?o[r]===p_?--this.toRespond:this.toRespond:0;o[r]=t,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const R=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var k=M(9193);function ce(n){return new kr.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,Yn.D)(t):(0,k.c)()).subscribe(e)})}var Be=M(2441);const Rt=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function rn(n){return e=>0===n?(0,k.c)():e.lift(new Jn(n))}class Jn{constructor(e){if(this.total=e,this.total<0)throw new Rt}call(e,t){return t.subscribe(new Ys(e,this.total))}}class Ys extends ti.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function ys(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new Gh(n,e,t))}}class Gh{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Lg(e,this.accumulator,this.seed,this.hasSeed))}}class Lg extends ti.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function os(n){return function(t){const r=new zh(n),o=t.lift(r);return r.caught=o}}class zh{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Ns(e,this.selector,this.caught))}}class Ns extends Ho.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const r=new Ho.IY(this);this.add(r);const o=(0,Ho.ft)(t,r);o!==r&&this.add(o)}}}function _o(n){return function(t){return 0===n?(0,k.c)():t.lift(new Wh(n))}}class Wh{constructor(e){if(this.total=e,this.total<0)throw new Rt}call(e,t){return t.subscribe(new Kh(e,this.total))}}class Kh extends ti.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let u=0;u<r;u++){const l=t++%r;e.next(o[l])}}e.complete()}}function Tc(n=Vg){return e=>e.lift(new g_(n))}class g_{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new dw(e,this.errorFactory))}}class dw extends ti.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Vg(){return new R}function Kl(n=null){return e=>e.lift(new m_(n))}class m_{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new y_(e,this.defaultValue))}}class y_ extends ti.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var UD=M(4487);function Iu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ji((o,u)=>n(o,u,r)):UD.y,rn(1),t?Kl(e):Tc(()=>new R))}var Ps=M(3342),jD=M(1307);class qD{constructor(e){this.callback=e}call(e,t){return t.subscribe(new hw(e,this.callback))}}class hw extends ti.L{constructor(e,t){super(e),this.add(new li.w(t))}}class Js{constructor(e,t){this.id=e,this.url=t}}class Ug extends Js{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cc extends Js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fw extends Js{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xr extends Js{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $D extends Js{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HD extends Js{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v_ extends Js{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pw extends Js{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZD extends Js{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gw{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mw{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GD{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zD{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WP{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WD{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ql{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ut="primary";class __{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Sc(n){return new __(n)}const b_="ngNavigationCancelingError";function di(n){const e=Error("NavigationCancelingError: "+n);return e[b_]=!0,e}function E_(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],f=n[u];if(l.startsWith(":"))o[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Qo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!w_(n[o],e[o]))return!1;return!0}function w_(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function yw(n){return Array.prototype.concat.apply([],n)}function I_(n){return n.length>0?n[n.length-1]:null}function hi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yo(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Yn.D)(Promise.resolve(n)):(0,Pt.of)(n)}const YD={exact:function _w(n,e,t){if(!Ac(n.segments,e.segments)||!Bg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_w(n.children[r],e.children[r],t))return!1;return!0},subset:C_},T_={exact:function(n,e){return Qo(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>w_(n[t],e[t]))},ignored:()=>!0};function jg(n,e,t){return YD[t.paths](n.root,e.root,t.matrixParams)&&T_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function C_(n,e,t){return Yh(n,e,e.segments,t)}function Yh(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ac(o,t)||e.hasChildren()||!Bg(o,t,r))}if(n.segments.length===t.length){if(!Ac(n.segments,t)||!Bg(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!C_(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ac(n.segments,o)&&Bg(n.segments,o,r)&&n.children[Ut])&&Yh(n.children[Ut],e,u,r)}}function Bg(n,e,t){return e.every((r,o)=>T_[t](n[o].parameters,r.parameters))}class Dc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}toString(){return Xs.serialize(this)}}class dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ef(this)}}class Jh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Sc(this.parameters)),this._parameterMap}toString(){return ww(this)}}function Ac(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class S_{}class Xh{parse(e){const t=new x_(e);return new Dc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tf(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${nf(t)}=${nf(o)}`).join("&"):`${nf(t)}=${nf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Xs=new Xh;function ef(n){return n.segments.map(e=>ww(e)).join("/")}function tf(n,e){if(!n.hasChildren())return ef(n);if(e){const t=n.children[Ut]?tf(n.children[Ut],!1):"",r=[];return hi(n.children,(o,u)=>{u!==Ut&&r.push(`${u}:${tf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return hi(n.children,(r,o)=>{o===Ut&&(t=t.concat(e(r,o)))}),hi(n.children,(r,o)=>{o!==Ut&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ut?[tf(n.children[Ut],!1)]:[`${o}:${tf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${ef(n)}/${t[0]}`:`${ef(n)}/(${t.join("//")})`}}function bw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nf(n){return bw(n).replace(/%3B/gi,";")}function qg(n){return bw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $g(n){return decodeURIComponent(n)}function Ew(n){return $g(n.replace(/\+/g,"%20"))}function ww(n){return`${qg(n.path)}${function(n){return Object.keys(n).map(e=>`;${qg(e)}=${qg(n[e])}`).join("")}(n.parameters)}`}const JP=/^[^\/()?;=#]+/;function D_(n){const e=n.match(JP);return e?e[0]:""}const Iw=/^[^=?&#]+/,Xo=/^[^?&#]+/;class x_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new dn(e,t)),r}parseSegment(){const e=D_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Jh($g(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=D_(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=D_(this.remaining);o&&(r=o,this.capture(r))}e[$g(t)]=$g(r)}parseQueryParam(e){const t=function(n){const e=n.match(Iw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function(n){const e=n.match(Xo);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Ew(t),u=Ew(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=D_(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ut);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Ut]:new dn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Tw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return xc(e,this._root).map(t=>t.value)}}function Hg(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hg(n,t);if(r)return r}return null}function xc(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xc(n,t);if(r.length)return r.unshift(e),r}return[]}class ea{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zg extends Tw{constructor(e,t){super(e),this.snapshot=t,sf(this,e)}toString(){return this.snapshot.toString()}}function Gg(n,e){const t=function(n,e){const l=new rf([],{},{},"",{},Ut,e,null,n.root,-1,{});return new Sw("",new ea(l,[]))}(n,e),r=new Bi([new Jh("",{})]),o=new Bi({}),u=new Bi({}),l=new Bi({}),f=new Bi(""),g=new Tu(r,o,l,f,u,Ut,e,t.root);return g.snapshot=t.root,new Zg(new ea(g,[]),t)}class Tu{constructor(e,t,r,o,u,l,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Wt.U)(e=>Sc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Wt.U)(e=>Sc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class rf{constructor(e,t,r,o,u,l,f,g,v,I,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=f,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=I,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sw extends Tw{constructor(e,t){super(t),this.url=e,sf(this,t)}toString(){return Dw(this._root)}}function sf(n,e){e.value._routerState=n,e.children.forEach(t=>sf(n,t))}function Dw(n){const e=n.children.length>0?` { ${n.children.map(Dw).join(", ")} } `:"";return`${n.value}${e}`}function O_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qo(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function N_(n,e){const t=Qo(n.params,e.params)&&function(n,e){return Ac(n,e)&&n.every((t,r)=>Qo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||N_(n.parent,e.parent))}function zg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return zg(n,r,o);return zg(n,r)})}(n,e,t);return new ea(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return Aw(e,l),l}}const r=function(n){return new Tu(new Bi(n.url),new Bi(n.params),new Bi(n.queryParams),new Bi(n.fragment),new Bi(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>zg(n,u));return new ea(r,o)}}function Aw(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Aw(n.children[t],e.children[t])}function Xl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function af(n){return"object"==typeof n&&null!=n&&n.outlets}function M_(n,e,t,r,o){let u={};return r&&hi(r,(l,f)=>{u[f]=Array.isArray(l)?l.map(g=>`${g}`):`${l}`}),new Dc(t.root===n?e:k_(t.root,n,e),u,o)}function k_(n,e,t){const r={};return hi(n.children,(o,u)=>{r[u]=o===e?t:k_(o,e,t)}),new dn(n.segments,r)}class F_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xl(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(af);if(o&&o!==I_(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Nw(n,e,t){if(n||(n=new dn([],{})),0===n.segments.length&&n.hasChildren())return uf(n,e,t);const r=function(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],f=t[r];if(af(f))break;const g=`${f}`,v=r<t.length-1?t[r+1]:null;if(o>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!cf(g,v,l))return u;r+=2}else{if(!cf(g,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new dn(n.segments.slice(0,r.pathIndex),{});return u.children[Ut]=new dn(n.segments.slice(r.pathIndex),n.children),uf(u,0,o)}return r.match&&0===o.length?new dn(n.segments,{}):r.match&&!n.hasChildren()?Qg(n,e,t):r.match?uf(n,0,o):Qg(n,e,t)}function uf(n,e,t){if(0===t.length)return new dn(n.segments,{});{const r=function(n){return af(n[0])?n[0].outlets:{[Ut]:n}}(t),o={};return hi(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[l]=Nw(n.children[l],e,u))}),hi(n.children,(u,l)=>{void 0===r[l]&&(o[l]=u)}),new dn(n.segments,o)}}function Qg(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(af(u)){const g=L_(u.outlets);return new dn(r,g)}if(0===o&&Xl(t[0])){r.push(new Jh(n.segments[e].path,V_(t[0]))),o++;continue}const l=af(u)?u.outlets[Ut]:`${u}`,f=o<t.length-1?t[o+1]:null;l&&f&&Xl(f)?(r.push(new Jh(l,V_(f))),o+=2):(r.push(new Jh(l,{})),o++)}return new dn(r,{})}function L_(n){const e={};return hi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Qg(new dn([],{}),0,t))}),e}function V_(n){const e={};return hi(n,(t,r)=>e[r]=`${t}`),e}function cf(n,e,t){return n==t.path&&Qo(e,t.parameters)}class Mw{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),O_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Jl(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),hi(o,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Jl(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Jl(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new WD(u.value.snapshot))}),e.children.length&&this.forwardEvent(new zD(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(O_(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Jg(f.route)}else{const f=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),g=f?f.module.componentFactoryResolver:null;l.attachRef=null,l.route=o,l.resolver=g,l.outlet&&l.outlet.activateWith(o,g),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}function Jg(n){O_(n.value),n.children.forEach(Jg)}class lf{constructor(e,t){this.routes=e,this.module=t}}function eo(n){return"function"==typeof n}function Cu(n){return n instanceof Dc}const ed=Symbol("INITIAL_VALUE");function Xg(){return ni(n=>function(...n){let e,t;return(0,_u.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Fg.k)(n[0])&&(n=n[0]),(0,f_.n)(n,t).lift(new y(e))}(n.map(e=>e.pipe(rn(1),Go(ed)))).pipe(ys((e,t)=>{let r=!1;return t.reduce((o,u,l)=>o!==ed?o:(u===ed&&(r=!0),r||!1!==u&&l!==t.length-1&&!Cu(u)?o:u),e)},ed),ji(e=>e!==ed),(0,Wt.U)(e=>Cu(e)?e:!0===e),rn(1)))}let em=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[um]},encapsulation:2}),n})();function Lw(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Vw(r,sA(e,r))}}function Vw(n,e){n.children&&Lw(n.children,e)}function sA(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function j_(n){const e=n.children&&n.children.map(j_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=em),t}function Rr(n){return n.outlet||Ut}function Uw(n,e){const t=n.filter(r=>Rr(r)===e);return t.push(...n.filter(r=>Rr(r)!==e)),t}const B_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function tm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},B_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||E_)(t,n,e);if(!u)return Object.assign({},B_);const l={};hi(u.posParams,(g,v)=>{l[v]=g.path});const f=u.consumed.length>0?Object.assign(Object.assign({},l),u.consumed[u.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:f,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function nm(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>rm(n,e,r)&&Rr(r)!==Ut)}(n,t,r)){const l=new dn(e,function(n,e,t,r){const o={};o[Ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Rr(u)!==Ut){const l=new dn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,o[Rr(u)]=l}return o}(n,e,r,new dn(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>rm(n,e,r))}(n,t,r)){const l=new dn(n.segments,function(n,e,t,r,o,u){const l={};for(const f of r)if(rm(n,t,f)&&!o[Rr(f)]){const g=new dn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===u?n.segments.length:e.length,l[Rr(f)]=g}return Object.assign(Object.assign({},o),l)}(n,e,t,r,n.children,o));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const u=new dn(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function rm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Bw(n,e,t,r){return!!(Rr(n)===r||r!==Ut&&rm(e,t,n))&&("**"===n.path||tm(e,n,t).matched)}function Jt(n,e,t){return 0===e.length&&!n.children[t]}class td{constructor(e){this.segmentGroup=e||null}}class q_{constructor(e){this.urlTree=e}}function Nc(n){return new kr.y(e=>e.error(new td(n)))}function to(n){return new kr.y(e=>e.error(new q_(n)))}function qw(n){return new kr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Oa{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=nm(this.urlTree.root,[],[],this.config).segmentGroup,t=new dn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ut).pipe((0,Wt.U)(u=>this.createUrlTree(im(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(os(u=>{if(u instanceof q_)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof td?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ut).pipe((0,Wt.U)(o=>this.createUrlTree(im(o),e.queryParams,e.fragment))).pipe(os(o=>{throw o instanceof td?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new dn([],{[Ut]:e}):e;return new Dc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Wt.U)(u=>new dn([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Yn.D)(o).pipe(xs(u=>{const l=r.children[u],f=Uw(t,u);return this.expandSegmentGroup(e,f,l,u).pipe((0,Wt.U)(g=>({segment:g,outlet:u})))}),ys((u,l)=>(u[l.outlet]=l.segment,u),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ji((o,u)=>n(o,u,r)):UD.y,_o(1),t?Kl(e):Tc(()=>new R))}())}expandSegment(e,t,r,o,u,l){return(0,Yn.D)(r).pipe(xs(f=>this.expandSegmentAgainstRoute(e,t,r,f,o,u,l).pipe(os(v=>{if(v instanceof td)return(0,Pt.of)(null);throw v}))),Iu(f=>!!f),os((f,g)=>{if(f instanceof R||"EmptyError"===f.name){if(Jt(t,o,u))return(0,Pt.of)(new dn([],{}));throw new td(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,o,u,l,f){return Bw(o,t,u,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l):Nc(t):Nc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?to(u):this.lineralizeSegments(r,u).pipe((0,Zr.zg)(l=>{const f=new dn(l,{});return this.expandSegment(e,f,t,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:f,consumedSegments:g,lastChild:v,positionalParamSegments:I}=tm(t,o,u);if(!f)return Nc(t);const C=this.applyRedirectCommands(g,o.redirectTo,I);return o.redirectTo.startsWith("/")?to(C):this.lineralizeSegments(o,C).pipe((0,Zr.zg)(D=>this.expandSegment(e,t,r,D.concat(u.slice(v)),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Pt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Wt.U)(D=>(r._loadedConfig=D,new dn(o,{})))):(0,Pt.of)(new dn(o,{}));const{matched:l,consumedSegments:f,lastChild:g}=tm(t,r,o);if(!l)return Nc(t);const v=o.slice(g);return this.getChildConfig(e,r,o).pipe((0,Zr.zg)(C=>{const D=C.module,x=C.routes,{segmentGroup:N,slicedSegments:H}=nm(t,f,v,x),X=new dn(N.segments,N.children);if(0===H.length&&X.hasChildren())return this.expandChildren(D,x,X).pipe((0,Wt.U)(je=>new dn(f,je)));if(0===x.length&&0===H.length)return(0,Pt.of)(new dn(f,{}));const ve=Rr(r)===u;return this.expandSegment(D,X,x,H,ve?Ut:u,!0).pipe((0,Wt.U)(xe=>new dn(f.concat(xe.segments),xe.children)))}))}getChildConfig(e,t,r){return t.children?(0,Pt.of)(new lf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Pt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Zr.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,Wt.U)(u=>(t._loadedConfig=u,u))):(n=t,new kr.y(e=>e.error(di(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Pt.of)(new lf([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Pt.of)(!0);const u=o.map(l=>{const f=e.get(l);let g;if((n=f)&&eo(n.canLoad))g=f.canLoad(t,r);else{if(!eo(f))throw new Error("Invalid CanLoad guard");g=f(t,r)}var n;return Yo(g)});return(0,Pt.of)(u).pipe(Xg(),(0,Ps.b)(l=>{if(!Cu(l))return;const f=di(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw f.url=l,f}),(0,Wt.U)(l=>!0===l))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Pt.of)(r);if(o.numberOfChildren>1||!o.children[Ut])return qw(e.redirectTo);o=o.children[Ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Dc(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return hi(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[u]=t[f]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return hi(t.children,(f,g)=>{l[g]=this.createSegmentGroup(e,f,r,o)}),new dn(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function im(n){const e={};for(const r of Object.keys(n.children)){const u=im(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new dn(n.segments.concat(e.segments),e.children)}return n}(new dn(n.segments,e))}class lA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class df{constructor(e,t){this.component=e,this.route=t}}function eM(n,e,t){const r=n._root;return Mc(r,e?e._root:null,t,[r.value])}function Pc(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Mc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Jl(e);return n.children.forEach(l=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const g=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ac(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ac(n.url,e.url)||!Qo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N_(n,e)||!Qo(n.queryParams,e.queryParams);default:return!N_(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);g?o.canActivateChecks.push(new lA(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Mc(n,e,u.component?f?f.children:null:t,r,o),g&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new df(f.outlet.component,l))}else l&&nd(e,f,o),o.canActivateChecks.push(new lA(r)),Mc(n,null,u.component?f?f.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),hi(u,(l,f)=>nd(l,t.getContext(f),o)),o}function nd(n,e,t){const r=Jl(n),o=n.value;hi(r,(u,l)=>{nd(u,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new df(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class sM{}function pA(n){return new kr.y(e=>e.error(n))}class aM{constructor(e,t,r,o,u,l){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=l}recognize(){const e=nm(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ut);if(null===t)return null;const r=new rf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ea(r,t),u=new Sw(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Rc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const l=t.children[u],f=Uw(e,u),g=this.processSegmentGroup(f,l,u);if(null===g)return null;r.push(...g)}const o=gA(r);return o.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const u of e){const l=this.processSegmentAgainstRoute(u,t,r,o);if(null!==l)return l}return Jt(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Bw(e,t,r,o))return null;let u,l=[],f=[];if("**"===e.path){const x=r.length>0?I_(r).parameters:{};u=new rf(r,x,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,om(e),Rr(e),e.component,e,mA(t),Pa(t)+r.length,Zw(e))}else{const x=tm(t,e,r);if(!x.matched)return null;l=x.consumedSegments,f=r.slice(x.lastChild),u=new rf(l,x.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,om(e),Rr(e),e.component,e,mA(t),Pa(t)+l.length,Zw(e))}const g=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:v,slicedSegments:I}=nm(t,l,f,g.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution);var n;if(0===I.length&&v.hasChildren()){const x=this.processChildren(g,v);return null===x?null:[new ea(u,x)]}if(0===g.length&&0===I.length)return[new ea(u,[])];const C=Rr(e)===o,D=this.processSegment(g,v,I,C?Ut:o);return null===D?null:[new ea(u,D)]}}function lM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gA(n){const e=[],t=new Set;for(const r of n){if(!lM(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=gA(r.children);e.push(new ea(r.value,o))}return e.filter(r=>!t.has(r))}function mA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Pa(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function om(n){return n.data||{}}function Zw(n){return n.resolve||{}}function ta(n){return ni(e=>{const t=n(e);return t?(0,Yn.D)(t).pipe((0,Wt.U)(()=>e)):(0,Pt.of)(e)})}class dM extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hf=new h.OlP("ROUTES");class Kw{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Wt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=u.create(e);return new lf(yw(l.injector.get(hf,void 0,h.XFs.Self|h.XFs.Optional)).map(j_),l)}),os(u=>{throw t._loader$=void 0,u}));return t._loader$=new Be.c(o,()=>new ss.xQ).pipe((0,jD.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Yn.D)(this.loader.load(e)):Yo(e()).pipe((0,Zr.zg)(t=>t instanceof h.YKP?(0,Pt.of)(t):(0,Yn.D)(this.compiler.compileModuleAsync(t))))}}class Qw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rd,this.attachRef=null}}class rd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Qw,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class ff{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function id(n){throw n}function K_(n,e,t){return e.parse("/")}function kc(n,e){return(0,Pt.of)(null)}const pf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class n{constructor(t,r,o,u,l,f,g,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ss.xQ,this.errorHandler=id,this.malformedUriErrorHandler=K_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kc,afterPreactivation:kc},this.urlHandlingStrategy=new ff,this.routeReuseStrategy=new dM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(h.h0i),this.console=l.get(h.c2e);const D=l.get(h.R0b);this.isNgZoneEnabled=D instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new Dc(new dn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kw(f,g,x=>this.triggerEvent(new gw(x)),x=>this.triggerEvent(new mw(x))),this.routerState=Gg(this.currentUrlTree,this.rootComponentType),this.transitions=new Bi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ji(o=>0!==o.id),(0,Wt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ni(o=>{let u=!1,l=!1;return(0,Pt.of)(o).pipe((0,Ps.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ni(f=>{const g=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return gf(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Pt.of)(f).pipe(ni(C=>{const D=this.transitions.getValue();return r.next(new Ug(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions.getValue()?k.E:Promise.resolve(C)}),function(n,e,t,r){return ni(o=>function(n,e,t,r,o){return new Oa(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Wt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ps.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Zr.zg)(u=>function(n,e,t,r,o="emptyOnly",u="legacy"){try{const l=new aM(n,e,t,r,o,u).recognize();return null===l?pA(new sM):(0,Pt.of)(l)}catch(l){return pA(l)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,Wt.U)(l=>Object.assign(Object.assign({},u),{targetSnapshot:l}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ps.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const D=new $D(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);r.next(D)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:x,source:N,restoredState:H,extras:X}=f,ve=new Ug(D,this.serializeUrl(x),N,H);r.next(ve);const Le=Gg(x,this.rootComponentType).snapshot;return(0,Pt.of)(Object.assign(Object.assign({},f),{targetSnapshot:Le,urlAfterRedirects:x,extras:Object.assign(Object.assign({},X),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),k.E}),ta(f=>{const{targetSnapshot:g,id:v,extractedUrl:I,rawUrl:C,extras:{skipLocationChange:D,replaceUrl:x}}=f;return this.hooks.beforePreactivation(g,{navigationId:v,appliedUrlTree:I,rawUrlTree:C,skipLocationChange:!!D,replaceUrl:!!x})}),(0,Ps.b)(f=>{const g=new HD(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,Wt.U)(f=>Object.assign(Object.assign({},f),{guards:eM(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Zr.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,Pt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Yn.D)(n).pipe((0,Zr.zg)(o=>function(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Pt.of)(!0);const l=u.map(f=>{const g=Pc(f,e,o);let v;if(function(n){return n&&eo(n.canDeactivate)}(g))v=Yo(g.canDeactivate(n,e,t,r));else{if(!eo(g))throw new Error("Invalid CanDeactivate guard");v=Yo(g(n,e,t,r))}return v.pipe(Iu())});return(0,Pt.of)(l).pipe(Xg())}(o.component,o.route,t,e,r)),Iu(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Zr.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,e,t,r){return(0,Yn.D)(e).pipe(xs(o=>Hl(function(n,e){return null!==n&&e&&e(new GD(n)),(0,Pt.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new WP(n)),(0,Pt.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ce(()=>{const f=l.guards.map(g=>{const v=Pc(g,l.node,t);let I;if(function(n){return n&&eo(n.canActivateChild)}(v))I=Yo(v.canActivateChild(r,n));else{if(!eo(v))throw new Error("Invalid CanActivateChild guard");I=Yo(v(r,n))}return I.pipe(Iu())});return(0,Pt.of)(f).pipe(Xg())}));return(0,Pt.of)(u).pipe(Xg())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Pt.of)(!0);const o=r.map(u=>ce(()=>{const l=Pc(u,e,t);let f;if(function(n){return n&&eo(n.canActivate)}(l))f=Yo(l.canActivate(e,n));else{if(!eo(l))throw new Error("Invalid CanActivate guard");f=Yo(l(e,n))}return f.pipe(Iu())}));return(0,Pt.of)(o).pipe(Xg())}(n,o.route,t))),Iu(o=>!0!==o,!0))}(r,u,n,e):(0,Pt.of)(f)),(0,Wt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ps.b)(f=>{if(Cu(f.guardsResult)){const v=di(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw v.url=f.guardsResult,v}const g=new v_(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),ji(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),ta(f=>{if(f.guards.canActivateChecks.length)return(0,Pt.of)(f).pipe((0,Ps.b)(g=>{const v=new pw(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),ni(g=>{let v=!1;return(0,Pt.of)(g).pipe(function(n,e){return(0,Zr.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Pt.of)(t);let u=0;return(0,Yn.D)(o).pipe(xs(l=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Pt.of)({});const u={};return(0,Yn.D)(o).pipe((0,Zr.zg)(l=>function(n,e,t,r){const o=Pc(n,e,r);return Yo(o.resolve?o.resolve(e,t):o(e,t))}(n[l],e,t,r).pipe((0,Ps.b)(f=>{u[l]=f}))),_o(1),(0,Zr.zg)(()=>Object.keys(u).length===o.length?(0,Pt.of)(u):k.E))}(n._resolve,n,e,r).pipe((0,Wt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Rc(n,t).resolve),null)))}(l.route,r,n,e)),(0,Ps.b)(()=>u++),_o(1),(0,Zr.zg)(l=>u===o.length?(0,Pt.of)(t):k.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ps.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Ps.b)(g=>{const v=new ZD(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),ta(f=>{const{targetSnapshot:g,id:v,extractedUrl:I,rawUrl:C,extras:{skipLocationChange:D,replaceUrl:x}}=f;return this.hooks.afterPreactivation(g,{navigationId:v,appliedUrlTree:I,rawUrlTree:C,skipLocationChange:!!D,replaceUrl:!!x})}),(0,Wt.U)(f=>{const g=function(n,e,t){const r=zg(n,e._root,t?t._root:void 0);return new Zg(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,Ps.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Wt.U)(r=>(new Mw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ps.b)({next(){u=!0},complete(){u=!0}}),function(n){return e=>e.lift(new qD(n))}(()=>{var f;if(!u&&!l){const g=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,g)):this.cancelNavigationTransition(o,g)}(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===o.id&&(this.currentNavigation=null)}),os(f=>{if(l=!0,function(n){return n&&n[b_]}(f)){const g=Cu(f.url);g||(this.navigated=!0,this.restoreHistory(o,!0));const v=new fw(o.id,this.serializeUrl(o.extractedUrl),f.message);r.next(v),g?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),C={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gf(o.source)};this.scheduleNavigation(I,"imperative",null,C,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const g=new xr(o.id,this.serializeUrl(o.extractedUrl),f);r.next(g);try{o.resolve(this.errorHandler(f))}catch(v){o.reject(v)}}return k.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:u,urlTree:l}=r,f={replaceUrl:!0};if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(f.state=g)}this.scheduleNavigation(l,o,u,f)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Lw(t),this.config=t.map(j_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:f,preserveFragment:g}=r,v=o||this.routerState.root,I=g?this.currentUrlTree.fragment:l;let C=null;switch(f){case"merge":C=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),function(n,e,t,r,o){if(0===t.length)return M_(e.root,e.root,e,r,o);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new F_(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return hi(u.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...o,{outlets:f}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&o.push(f))}),o):[...o,u]},[]);return new F_(t,e,r)}(t);if(u.toRoot())return M_(e.root,new dn([],{}),e,r,o);const l=function(n,e,t){if(n.isAbsolute)return new Wg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Wg(u,u===e.root,0)}const r=Xl(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Wg(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),f=l.processChildren?uf(l.segmentGroup,l.index,u.commands):Nw(l.segmentGroup,l.index,u.commands);return M_(l.segmentGroup,f,e,r,o)}(v,this.currentUrlTree,t,C,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Cu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},pf):!1===r?Object.assign({},sd):r,Cu(t))return jg(this.currentUrlTree,t,o);const u=this.parseUrl(t);return jg(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Cc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,l){var f,g;if(this.disposed)return Promise.resolve(!1);const v=this.getTransition(),I=gf(r)&&v&&!gf(v.source),x=(this.lastSuccessfulId===v.id||this.currentNavigation?v.rawUrl:v.urlAfterRedirects).toString()===t.toString();if(I&&x)return Promise.resolve(!0);let N,H,X;l?(N=l.resolve,H=l.reject,X=l.promise):X=new Promise((xe,je)=>{N=xe,H=je});const ve=++this.navigationId;let Le;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Le=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):Le=0,this.setTransition({id:ve,targetPageId:Le,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:N,reject:H,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(xe=>Promise.reject(xe))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===l?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new fw(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.DyG),h.LFG(S_),h.LFG(rd),h.LFG(vt),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function gf(n){return"imperative"!==n}let na=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=[],this.onChanges=new ss.xQ,this.subscription=t.events.subscribe(u=>{u instanceof Cc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,l){if(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target)return!0;const f={skipLocationChange:Fc(this.skipLocationChange),replaceUrl:Fc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(qi),h.Y36(Tu),h.Y36(we))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&(h.Ikx("href",r.href,h.LSH),h.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function Fc(n){return""===n||!!n}let um=(()=>{class n{constructor(t,r,o,u,l){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=u||Ut,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const l=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new hM(t,f,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(rd),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class hM{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tu?this.route:e===rd?this.childContexts:this.parent.get(e,t)}}class Q_{}class Xw{preload(e,t){return(0,Pt.of)(null)}}let Y_=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=u,this.preloadingStrategy=l,this.loader=new Kw(r,o,v=>t.triggerEvent(new gw(v)),v=>t.triggerEvent(new mw(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(ji(t=>t instanceof Cc),xs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const l=u._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,Yn.D)(o).pipe((0,vu.J)(),(0,Wt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Pt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Zr.zg)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qi),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Q_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),J_=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ug?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ql&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ql(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qi),h.LFG(ko),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ri=new h.OlP("ROUTER_CONFIGURATION"),eI=new h.OlP("ROUTER_FORROOT_GUARD"),pM=[vt,{provide:S_,useClass:Xh},{provide:qi,useFactory:function(n,e,t,r,o,u,l,f={},g,v){const I=new qi(null,n,e,t,r,o,u,yw(l));return g&&(I.urlHandlingStrategy=g),v&&(I.routeReuseStrategy=v),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(f,I),f.enableTracing&&I.events.subscribe(C=>{var D,x;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(x=console.groupEnd)||void 0===x||x.call(console)}),I},deps:[S_,rd,vt,h.zs3,h.v3s,h.Sil,hf,ri,[class{},new h.FiY],[class{},new h.FiY]]},rd,{provide:Tu,useFactory:function(n){return n.routerState.root},deps:[qi]},{provide:h.v3s,useClass:h.EAV},Y_,Xw,class{preload(e,t){return t().pipe(os(()=>(0,Pt.of)(null)))}},{provide:ri,useValue:{enableTracing:!1}}];function gM(){return new h.PXZ("Router",qi)}let X_=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[pM,tb(t),{provide:eI,useFactory:eb,deps:[[qi,new h.FiY,new h.tp0]]},{provide:ri,useValue:r||{}},{provide:we,useFactory:wA,deps:[be,[new h.tBr(ze),new h.FiY],ri]},{provide:J_,useFactory:mM,deps:[qi,ko,ri]},{provide:Q_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Xw},{provide:h.PXZ,multi:!0,useFactory:gM},[cm,{provide:h.ip1,multi:!0,useFactory:SA,deps:[cm]},{provide:nI,useFactory:tI,deps:[cm]},{provide:h.tb,multi:!0,useExisting:nI}]]}}static forChild(t){return{ngModule:n,providers:[tb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(eI,8),h.LFG(qi,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function mM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new J_(n,e,t)}function wA(n,e,t={}){return t.useHash?new rt(n,e):new Ne(n,e)}function eb(n){return"guarded"}function tb(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:hf,multi:!0,useValue:n}]}let cm=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ss.xQ}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(f=>r=f),u=this.injector.get(qi),l=this.injector.get(ri);return"disabled"===l.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,Pt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(ri),o=this.injector.get(Y_),u=this.injector.get(J_),l=this.injector.get(qi),f=this.injector.get(h.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),o.setUpPreloading(),u.init(),l.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function SA(n){return n.appInitializer.bind(n)}function tI(n){return n.bootstrapListener.bind(n)}const nI=new h.OlP("Router Initializer");var nb=M(5106),xA=M(708),Kt=M(3854),Ma=M(8026),Su=M(5422),lm=M(3910);function yM(n){return new kr.y(function(e){return{unsubscribe:(0,xA.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class dm{constructor(e){return e}}const OA=(0,Mn.u3)(yM,!0);class bf{constructor(e){return e}}const ub=Mn.nk.async,pI=(0,Mn.u3)(nb.Kz,!0),KA=(0,Mn.u3)(nb.Iv,!0);let YA=(()=>{class n{constructor(t,r,o){let u;this.disposables=[],(0,bu.KN)("angularfire",Mn.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(l=>{u=l})),ub().then(()=>{const l=o.get(bf);l?this.disposables=[OA(t).subscribe(f=>{KA(l,null==f?void 0:f.uid),u()})]:u()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(dm),h.LFG(h.R0b),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const gm="firebase_screen_id",mm="outlet",as="screen_class",tx="screen_name";let vI=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const ym={},nx=n=>{const e=[n[as],n[mm]].join("#");if(ym.hasOwnProperty(e))return ym[e];{const t=vI++;return ym[e]=t,t}};let _I=(()=>{class n{constructor(t,r,o,u,l,f){(0,bu.KN)("angularfire",Mn.q4.full,"screen-tracking"),ub().then(()=>{const g=f.get(bf);!t||!g||u.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(ji(o=>o instanceof WD)).pipe(ni(o=>{var u;const f=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,x=>x.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===u?void 0:u.toString())||"",g=n.routerState.root.children.map(x=>x).find(x=>x.outlet===o.snapshot.outlet);if(!g)return(0,Pt.of)(null);let v=g;for(;v.firstChild;)v=v.firstChild;const I=v.pathFromRoot.map(x=>{var N;return null===(N=x.routeConfig)||void 0===N?void 0:N.path}).filter(x=>x).join("/")||"/",C={[tx]:I,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:I,[mm]:o.snapshot.outlet};e&&(C.page_title=e.getTitle());let D=g.component;if(D){if(D===em){let x=o.snapshot;for(;x.firstChild;)x=x.firstChild;D=x.component}}else D=o.snapshot.component;if("string"==typeof D)return(0,Pt.of)(Object.assign(Object.assign({},C),{[as]:D}));if(D){const x=t.resolveComponentFactory(D);return(0,Pt.of)(Object.assign(Object.assign({},C),{[as]:x.selector}))}return(0,Pt.of)(null)}),ji(o=>!!o),(0,Wt.U)(o=>Object.assign({firebase_screen_class:o[as],[gm]:nx(o)},o)),function(n,e,t,r){return o=>o.lift(new Cg(n,void 0,void 0,void 0))}(o=>o[mm]),(0,Zr.zg)(o=>o.pipe(xg((u,l)=>JSON.stringify(u)===JSON.stringify(l)),Go(void 0),Os(),(0,Wt.U)(([u,l])=>u?Object.assign({firebase_previous_class:u[as],firebase_previous_screen:u[tx],firebase_previous_id:u[gm]},l):l)))))(t,r,o).pipe(ni(v=>function(n,e,t,r){return new(t||(t=Promise))(function(u,l){function f(I){try{v(r.next(I))}catch(C){l(C)}}function g(I){try{v(r.throw(I))}catch(C){l(C)}}function v(I){I.done?u(I.value):function(u){return u instanceof t?u:new t(function(l){l(u)})}(I.value).then(f,g)}v((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return l&&(yield l.initialized),pI(g,"screen_view",v)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qi,8),h.LFG(Ml,8),h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(YA,8),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var bo=M(8939),sx=M(6682),ka=M(309),Lc=M(7771),bI=M(8858);class Eo extends ss.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new wf(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=r.length;let l;if(this.closed)throw new Wl.N;if(this.isStopped||this.hasError?l=li.w.EMPTY:(this.observers.push(e),l=new bI.W(this,e)),o&&e.add(e=new ka.ht(e,o)),t)for(let f=0;f<u&&!e.closed;f++)e.next(r[f]);else for(let f=0;f<u&&!e.closed;f++)e.next(r[f].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||Lc.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,u=o.length;let l=0;for(;l<u&&!(e-o[l].time<r);)l++;return u>t&&(l=Math.max(l,u-t)),l>0&&o.splice(0,l),o}}class wf{constructor(e,t){this.time=e,this.value=t}}function EI(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,l,u=0,f=!1,g=!1;return function(I){let C;u++,!o||f?(f=!1,o=new Eo(n,e,r),C=o.subscribe(this),l=I.subscribe({next(D){o.next(D)},error(D){f=!0,o.error(D)},complete(){g=!0,l=void 0,o.complete()}}),g&&(l=void 0)):C=o.subscribe(this),this.add(()=>{u--,C.unsubscribe(),C=void 0,l&&!g&&t&&0===u&&(l.unsubscribe(),l=void 0,o=void 0)})}}(r))}function _m(n,e){return e?ni(()=>n,e):ni(()=>n)}var no=M(3101),Pe=M(8239);const Di=new Map,Vc={activated:!1,tokenObservers:[]},bm={initialized:!1,enabled:!1};function jn(n){return Di.get(n)||Vc}function Ms(n,e){Di.set(n,e)}function Fa(){return bm}class ld{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Pe.Z)(function*(){t.stop();try{t.pending=new Kt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new Kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $i=new Kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lb(n){if(!jn(n).activated)throw $i.create("use-before-activation",{appName:n.name})}function wm(n,e){return Im.apply(this,arguments)}function Im(){return(Im=(0,Pe.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const x=yield l.getHeartbeatsHeader();x&&(u["X-Firebase-Client"]=x)}const f={method:"POST",body:JSON.stringify(e),headers:u};let g,v;try{g=yield fetch(n,f)}catch(x){throw $i.create("fetch-network-error",{originalErrorMessage:null===(r=x)||void 0===r?void 0:r.message})}if(200!==g.status)throw $i.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(x){throw $i.create("fetch-parse-error",{originalErrorMessage:null===(o=x)||void 0===o?void 0:o.message})}const I=v.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw $i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const C=1e3*Number(I[1]),D=Date.now();return{token:v.token,expireTimeMillis:D+C,issuedAtTimeMillis:D}})).apply(this,arguments)}function TI(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const hd="firebase-app-check-store";let db=null;function DI(){return db||(db=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e($i.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(hd,{keyPath:"compositeKey"})}}catch(r){e($i.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),db)}function OI(){return(OI=(0,Pe.Z)(function*(n,e){const r=(yield DI()).transaction(hd,"readwrite"),u=r.objectStore(hd).put({compositeKey:n,value:e});return new Promise((l,f)=>{u.onsuccess=g=>{l()},r.onerror=g=>{var v;f($i.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Cm=new Su.Yd("@firebase/app-check");function hx(n,e){return(0,Kt.hl)()?function(n,e){return function(n,e){return OI.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Cm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Sm(){return Fa().enabled}function Dm(){return pb.apply(this,arguments)}function pb(){return(pb=(0,Pe.Z)(function*(){const n=Fa();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const XM={error:"UNKNOWN_ERROR"};function ek(n){return Kt.US.encodeString(JSON.stringify(n),!1)}function Am(n){return xm.apply(this,arguments)}function xm(){return(xm=(0,Pe.Z)(function*(n,e=!1){const t=n.app;lb(t);const r=jn(t);let u,o=r.token;if(!o){const g=yield r.cachedTokenPromise;g&&Rm(g)&&(o=g)}if(!e&&o&&Rm(o))return{token:o.token};let f,l=!1;if(Sm()){r.exchangeTokenPromise||(r.exchangeTokenPromise=wm(TI(t,yield Dm()),n.heartbeatServiceProvider).then(v=>(r.exchangeTokenPromise=void 0,v)),l=!0);const g=yield r.exchangeTokenPromise;return yield hx(t,g),Ms(t,Object.assign(Object.assign({},r),{token:g})),{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(g=>(r.exchangeTokenPromise=void 0,g)),l=!0),o=yield r.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Cm.warn(g.message):Cm.error(g),u=g}return o?(f={token:o.token},Ms(t,Object.assign(Object.assign({},r),{token:o})),yield hx(t,o)):f=MI(u),l&&mb(t,f),f})).apply(this,arguments)}function gb(n,e){const t=jn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ms(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function jc(n){const{app:e}=n,t=jn(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new ld((0,Pe.Z)(function*(){let r;if(r=jn(e).token?yield Am(n,!0):yield Am(n),r.error)throw r.error}),()=>!0,()=>{const t=jn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ms(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mb(n,e){const t=jn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Rm(n){return n.expireTimeMillis-Date.now()>0}function MI(n){return{token:ek(XM),error:n}}class Om{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=jn(this.app);for(const t of e)gb(this.app,t.next);return Promise.resolve()}}const Eb="app-check-internal";(0,Ma._registerComponent)(new lm.wA("app-check",n=>function(n,e){return new Om(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Eb).initialize()})),(0,Ma._registerComponent)(new lm.wA(Eb,n=>function(n){return{getToken:e=>Am(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,u=jn(o),l={next:t,error:r,type:e};if(Ms(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,l]})),u.token&&Rm(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),jc(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>jc(n))}(n,"INTERNAL",e),removeTokenListener:e=>gb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ma.registerVersion)("@firebase/app-check","0.5.12");class km{constructor(){return(0,Mn.vb)("app-check")}}"undefined"!=typeof window&&window;var HI=M(7841);const Cb=new h.OlP("angularfire2.auth.use-emulator"),Sb=new h.OlP("angularfire2.auth.settings"),Db=new h.OlP("angularfire2.auth.tenant-id"),Ab=new h.OlP("angularfire2.auth.langugage-code"),Nx=new h.OlP("angularfire2.auth.use-device-language"),GI=new h.OlP("angularfire.auth.persistence"),zI=(n,e,t,r,o,u,l,f)=>(0,bo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=o,u&&g.useDeviceLanguage(),l)for(const[v,I]of Object.entries(l))g.settings[v]=I;return f&&g.setPersistence(f),g},[t,r,o,u,l,f]);let Fm=(()=>{class n{constructor(t,r,o,u,l,f,g,v,I,C,D,x){const N=new ss.xQ,H=(0,Pt.of)(void 0).pipe((0,ka.QV)(l.outsideAngular),ni(()=>u.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,4828)))),(0,Wt.U)(()=>(0,bo.on)(t,u,r)),(0,Wt.U)(X=>zI(X,u,f,v,I,C,g,D)),EI({bufferSize:1,refCount:!1}));if(_a(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pt.of)(null);else{H.pipe(Iu()).subscribe();const ve=H.pipe(ni(je=>je.getRedirectResult().then(Je=>Je,()=>null)),Mn.iC,EI({bufferSize:1,refCount:!1})),Le=H.pipe(ni(je=>new kr.y(Je=>({unsubscribe:u.runOutsideAngular(()=>je.onAuthStateChanged(Xe=>Je.next(Xe),Xe=>Je.error(Xe),()=>Je.complete()))})))),xe=H.pipe(ni(je=>new kr.y(Je=>({unsubscribe:u.runOutsideAngular(()=>je.onIdTokenChanged(Xe=>Je.next(Xe),Xe=>Je.error(Xe),()=>Je.complete()))}))));this.authState=ve.pipe(_m(Le),(0,no.R)(l.outsideAngular),(0,ka.QV)(l.insideAngular)),this.user=ve.pipe(_m(xe),(0,no.R)(l.outsideAngular),(0,ka.QV)(l.insideAngular)),this.idToken=this.user.pipe(ni(je=>je?(0,Yn.D)(je.getIdToken()):(0,Pt.of)(null))),this.idTokenResult=this.user.pipe(ni(je=>je?(0,Yn.D)(je.getIdTokenResult()):(0,Pt.of)(null))),this.credential=(0,sx.T)(ve,N,this.authState.pipe(ji(je=>!je))).pipe((0,Wt.U)(je=>(null==je?void 0:je.user)?je:null),(0,no.R)(l.outsideAngular),(0,ka.QV)(l.insideAngular))}return(0,bo.pX)(this,H,u,{spy:{apply:(X,ve,Le)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Le.then(xe=>N.next(xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bo.Dh),h.LFG(bo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Mn.HU),h.LFG(Cb,8),h.LFG(Sb,8),h.LFG(Db,8),h.LFG(Ab,8),h.LFG(Nx,8),h.LFG(GI,8),h.LFG(km,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Px=(()=>{class n{constructor(){HI.Z.registerVersion("angularfire",Mn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Fm]}),n})();class Gr{}const La="*";function xb(n,e=null){return{type:2,steps:n,options:e}}function Rb(n){return{type:6,styles:n,offset:null}}function Ob(n){Promise.resolve(null).then(n)}class us{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ob(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class QI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const u=this.players.length;0==u?Ob(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function wo(){return"undefined"!=typeof window&&void 0!==window.document}function ks(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function fi(n){switch(n.length){case 0:return new us;case 1:return n[0];default:return new QI(n)}}function Pb(n,e,t,r,o={},u={}){const l=[],f=[];let g=-1,v=null;if(r.forEach(I=>{const C=I.offset,D=C==g,x=D&&v||{};Object.keys(I).forEach(N=>{let H=N,X=I[N];if("offset"!==N)switch(H=e.normalizePropertyName(H,l),X){case"!":X=o[N];break;case La:X=u[N];break;default:X=e.normalizeStyleValue(N,H,X,l)}x[H]=X}),D||f.push(x),v=x,g=C}),l.length){const I="\n - ";throw new Error(`Unable to animate due to the following errors:${I}${l.join(I)}`)}return f}function Lm(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Mb(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Mb(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Mb(t,"destroy",n)))}}function Mb(n,e,t){const r=t.totalTime,u=kb(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function kb(n,e,t,r,o="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:u,disabled:!!l}}function Fs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function YI(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let xf=(n,e)=>!1,Fb=(n,e)=>!1,JI=(n,e,t)=>[];const Lb=ks();(Lb||"undefined"!=typeof Element)&&(xf=wo()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Fb=(()=>{if(Lb||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):Fb}})(),JI=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let u=0;u<o.length;u++)r.push(o[u])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let Bc=null,Vb=!1;function jm(n){Bc||(Bc=("undefined"!=typeof document?document.body:null)||{},Vb=!!Bc.style&&"WebkitAppearance"in Bc.style);let e=!0;return Bc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Bc.style,!e&&Vb&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Bc.style)),e}const pd=Fb,Rf=xf,Of=JI;function jb(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Bb=(()=>{class n{validateStyleProperty(t){return jm(t)}matchesElement(t,r){return pd(t,r)}containsElement(t,r){return Rf(t,r)}query(t,r,o){return Of(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,u,l,f=[],g){return new us(o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Bm=(()=>{class n{}return n.NOOP=new Bb,n})();const $b="ng-enter",qm="ng-leave",$m="ng-trigger",Hm=".ng-trigger",tT="ng-animating",Hb=".ng-animating";function qc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Zb(parseFloat(e[1]),e[2])}function Zb(n,e){return"s"===e?1e3*n:n}function Zm(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,u=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=Zb(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(u=Zb(parseFloat(g),f[4]));const v=f[5];v&&(l=v)}else o=n;if(!t){let f=!1,g=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(g,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:u,easing:l}}(n,e,t)}function gd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ru(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else gd(n,t);return t}function rT(n,e,t){return t?e+":"+t+";":""}function iT(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=rT(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=rT(0,zb(t),n.style[t]));n.setAttribute("style",e)}function ra(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=zm(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),ks()&&iT(n))}function Ou(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=zm(t);n.style[r]=""}),ks()&&iT(n))}function md(n){return Array.isArray(n)?1==n.length?n[0]:xb(n):n}const Gm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gb(n){let e=[];if("string"==typeof n){let t;for(;t=Gm.exec(n);)e.push(t[1]);Gm.lastIndex=0}return e}function Nf(n,e,t){const r=n.toString(),o=r.replace(Gm,(u,l)=>{let f=e[l];return e.hasOwnProperty(l)||(t.push(`Please provide a value for the animation param ${l}`),f=""),f.toString()});return o==r?n:o}function Pf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const oT=/-+([a-z0-9])/g;function zm(n){return n.replace(oT,(...e)=>e[1].toUpperCase())}function zb(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wb(n,e){return 0===n||0===e}function Nu(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],l=[];if(r.forEach(f=>{u.hasOwnProperty(f)||l.push(f),u[f]=t[f]}),l.length)for(var o=1;o<e.length;o++){let f=e[o];l.forEach(function(g){f[g]=Kb(n,g)})}}return e}function Ls(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Kb(n,e){return window.getComputedStyle(n)[e]}function fk(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const g=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],u=r[2],l=r[3];e.push(jx(o,l));"<"==u[0]&&!("*"==o&&"*"==l)&&e.push(jx(l,o))}(r,t,e)):t.push(n),t}const Mf=new Set(["true","1"]),kf=new Set(["false","0"]);function jx(n,e){const t=Mf.has(n)||kf.has(n),r=Mf.has(e)||kf.has(e);return(o,u)=>{let l="*"==n||n==o,f="*"==e||e==u;return!l&&t&&"boolean"==typeof o&&(l=o?Mf.has(n):kf.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?Mf.has(e):kf.has(e)),l&&f}}const Bx=new RegExp("s*:selfs*,?","g");function Yb(n,e,t){return new Wm(n).build(e,t)}class Wm{constructor(e){this._driver=e}build(e,t){const r=new Qm(t);return this._resetContextStyleTimingState(r),Ls(this,md(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(I=>{g.name=I,u.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,o+=g.depCount,l.push(g)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=o||{};if(r.styles.forEach(f=>{if(Jb(f)){const g=f;Object.keys(g).forEach(v=>{Gb(g[v]).forEach(I=>{l.hasOwnProperty(I)||u.add(I)})})}}),u.size){const f=Pf(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ls(this,md(e.animation),t);return{type:1,matchers:fk(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ua(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ls(this,r,t)),options:Ua(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const u=e.steps.map(l=>{t.currentTime=r;const f=Ls(this,l,t);return o=Math.max(o,t.currentTime),f});return t.currentTime=o,{type:3,steps:u,options:Ua(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Xb(Zm(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Xb(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||Zm(r,e),Xb(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,u=e.styles?e.styles:Rb({});if(5==u.type)o=this.visitKeyframes(u,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};r.easing&&(v.easing=r.easing),l=Rb(v)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(l,t);g.isEmptyStep=f,o=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(l=>{"string"==typeof l?l==La?r.push(l):t.errors.push(`The provided style string value ${l} is not allowed.`):r.push(l)}):r.push(e.styles);let o=!1,u=null;return r.forEach(l=>{if(Jb(l)){const f=l,g=f.easing;if(g&&(u=g,delete f.easing),!o)for(let v in f)if(f[v].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const g=t.collectedStyles[t.currentQuerySelector],v=g[f];let I=!0;v&&(u!=o&&u>=v.startTime&&o<=v.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${v.startTime}ms" and "${v.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),I=!1),u=v.startTime),I&&(g[f]={startTime:u,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=Gb(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(l[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let u=0;const l=[];let f=!1,g=!1,v=0;const I=e.steps.map(ve=>{const Le=this._makeStyleAst(ve,t);let xe=null!=Le.offset?Le.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Jb(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Jb(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Le.styles),je=0;return null!=xe&&(u++,je=Le.offset=xe),g=g||je<0||je>1,f=f||je<v,v=je,l.push(je),Le});g&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const C=e.steps.length;let D=0;u>0&&u<C?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(D=1/(C-1));const x=C-1,N=t.currentTime,H=t.currentAnimateTimings,X=H.duration;return I.forEach((ve,Le)=>{const xe=D>0?Le==x?1:D*Le:l[Le],je=xe*X;t.currentTime=N+H.delay+je,H.duration=je,this._validateStyleAst(ve,t),ve.offset=xe,r.styles.push(ve)}),r}visitReference(e,t){return{type:8,animation:Ls(this,md(e.animation),t),options:Ua(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ua(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ua(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Bx,"")),n=n.replace(/@\*/g,Hm).replace(/@\w+/g,t=>Hm+"-"+t.substr(1)).replace(/:animating/g,Hb),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Fs(t.collectedStyles,t.currentQuerySelector,{});const f=Ls(this,md(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Ua(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Zm(e.timings,t.errors,!0);return{type:12,animation:Ls(this,md(e.animation),t),timings:r,options:null}}}class Qm{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Jb(n){return!Array.isArray(n)&&"object"==typeof n}function Ua(n){return n?(n=gd(n)).params&&(n.params=function(n){return n?gd(n):null}(n.params)):n={},n}function Xb(n,e,t){return{duration:n,delay:e,easing:t}}function Ym(n,e,t,r,o,u,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:l,subTimeline:f}}class Ff{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $x=new RegExp(":enter","g"),Zx=new RegExp(":leave","g");function $c(n,e,t,r,o,u={},l={},f,g,v=[]){return(new Gx).buildKeyframes(n,e,t,r,o,u,l,f,g,v)}class Gx{buildKeyframes(e,t,r,o,u,l,f,g,v,I=[]){v=v||new Ff;const C=new eE(e,t,v,o,u,I,[]);C.options=g,C.currentTimeline.setStyles([l],null,C.errors,g),Ls(this,r,C);const D=C.timelines.filter(x=>x.containsAnimation());if(D.length&&Object.keys(f).length){const x=D[D.length-1];x.allowOnlyTimelineStyles()||x.setStyles([f],null,C.errors,g)}return D.length?D.map(x=>x.buildKeyframes()):[Ym(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,o,o.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?qc(r.duration):null,f=null!=r.delay?qc(r.delay):null;return 0!==l&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,l,f);u=Math.max(u,v.duration+v.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Ls(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const u=e.options;if(u&&(u.params||u.delay)&&(o=t.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Jm);const l=qc(u.delay);o.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ls(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?qc(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Ls(this,l,f),o=Math.max(o,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Zm(t.params?Nf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*u),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(o+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?qc(o.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Jm);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,I)=>{t.currentQueryIndex=I;const C=t.createSubContext(e.options,v);u&&C.delayNextStep(u),v===t.element&&(g=C.currentTimeline),Ls(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),f=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const I=t.currentTimeline;g&&I.delayNextStep(g);const C=I.currentTime;Ls(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-C+(o.startTime-r.currentTimeline.startTime)}}const Jm={};class eE{constructor(e,t,r,o,u,l,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Hc(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=qc(r.duration)),null!=r.delay&&(o.delay=qc(r.delay));const u=r.params;if(u){let l=o.params;l||(l=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=Nf(u[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,u=new eE(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=Jm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new dT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,u,l){let f=[];if(o&&f.push(this.element),e.length>0){e=(e=e.replace($x,"."+this._enterClassName)).replace(Zx,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!u&&0==f.length&&l.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class Hc{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Hc(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||La,this._currentKeyframe[t]=La}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const u=o&&o.params||{},l=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(u=>{t[u]=La})):Ru(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(l).forEach(f=>{const g=Nf(l[f],u,r);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:La),this._updateStyle(f,g)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((f,g)=>{const v=Ru(f,!0);Object.keys(v).forEach(I=>{const C=v[I];"!"==C?e.add(I):C==La&&t.add(I)}),r||(v.offset=g/this.duration),o.push(v)});const u=e.size?Pf(e.values()):[],l=t.size?Pf(t.values()):[];if(r){const f=o[0],g=gd(f);f.offset=0,g.offset=1,o=[f,g]}return Ym(this.element,o,u,l,this.duration,this.startTime,this.easing,!1)}}class dT extends Hc{constructor(e,t,r,o,u,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,f=t/l,g=Ru(e[0],!1);g.offset=0,u.push(g);const v=Ru(e[0],!1);v.offset=tE(f),u.push(v);const I=e.length-1;for(let C=1;C<=I;C++){let D=Ru(e[C],!1);D.offset=tE((t+D.offset*r)/l),u.push(D)}r=l,t=0,o="",e=u}return Ym(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function tE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Zc{}class zx extends Zc{normalizePropertyName(e,t){return zm(e)}normalizeStyleValue(e,t,r,o){let u="";const l=r.toString().trim();if(Wx[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return l+u}}const Wx=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function nE(n,e,t,r,o,u,l,f,g,v,I,C,D){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:I,totalTime:C,errors:D}}const ey={};class pT{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(u=>u(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],u=this._stateStyles[e],l=o?o.buildStyles(t,r):{};return u?u.buildStyles(t,r):l}build(e,t,r,o,u,l,f,g,v,I){const C=[],D=this.ast.options&&this.ast.options.params||ey,N=this.buildStyles(r,f&&f.params||ey,C),H=g&&g.params||ey,X=this.buildStyles(o,H,C),ve=new Set,Le=new Map,xe=new Map,je="void"===o,Je={params:Object.assign(Object.assign({},D),H)},Xe=I?[]:$c(e,t,this.ast.animation,u,l,N,X,Je,v,C);let at=0;if(Xe.forEach(fr=>{at=Math.max(fr.duration+fr.delay,at)}),C.length)return nE(t,this._triggerName,r,o,je,N,X,[],[],Le,xe,at,C);Xe.forEach(fr=>{const In=fr.element,da=Fs(Le,In,{});fr.preStyleProps.forEach(Dl=>da[Dl]=!0);const nc=Fs(xe,In,{});fr.postStyleProps.forEach(Dl=>nc[Dl]=!0),In!==t&&ve.add(In)});const $t=Pf(ve.values());return nE(t,this._triggerName,r,o,je,N,X,Xe,$t,Le,xe,at)}}class Kx{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=gd(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!=l&&(o[u]=l)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const l=u;Object.keys(l).forEach(f=>{let g=l[f];g.length>1&&(g=Nf(g,o,t));const v=this.normalizer.normalizePropertyName(f,t);g=this.normalizer.normalizeStyleValue(f,v,g,t),r[v]=g})}}),r}}class yk{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new Kx(o.style,o.options&&o.options.params||{},r)}),Yx(this.states,"true","1"),Yx(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new pT(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new pT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(l=>l.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Yx(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const _k=new Ff;class mT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=Yb(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,u=Pb(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],u=this._animations[e];let l;const f=new Map;if(u?(l=$c(this._driver,t,u,$b,qm,{},{},r,_k,o),l.forEach(I=>{const C=Fs(f,I.element,{});I.postStyleProps.forEach(D=>C[D]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),l=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);f.forEach((I,C)=>{Object.keys(I).forEach(D=>{I[D]=this._driver.computeStyle(C,D,La)})});const v=fi(l.map(I=>{const C=f.get(I.element);return this._buildPlayer(I,{},C)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const u=kb(t,"","","");return Lm(this._getPlayer(e),r,u,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const Lf="ng-animate-queued",yT="ng-animate-disabled",rE=".ng-animate-disabled",eR=[],vT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tR={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ro="__ng_removed";class ty{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const u=gd(e);delete u.value,this.options=u}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const Uf="void",iE=new ty(Uf);class yd{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,io(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const u=Fs(this._elementListeners,e,[]),l={name:t,phase:r,callback:o};u.push(l);const f=Fs(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(io(e,$m),io(e,$m+"-"+t),f[t]=iE),()=>{this._engine.afterFlush(()=>{const g=u.indexOf(l);g>=0&&u.splice(g,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const u=this._getTrigger(t),l=new ny(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(io(e,$m),io(e,$m+"-"+t),this._engine.statesByElement.set(e,f={}));let g=f[t];const v=new ty(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f[t]=v,g||(g=iE),v.value!==Uf&&g.value===v.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const u=t[o];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(g.params,v.params)){const H=[],X=u.matchStyles(g.value,g.params,H),ve=u.matchStyles(v.value,v.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{Ou(e,X),ra(e,ve)})}return}const D=Fs(this._engine.playersByElement,e,[]);D.forEach(H=>{H.namespaceId==this.id&&H.triggerName==t&&H.queued&&H.destroy()});let x=u.matchTransition(g.value,v.value,e,v.params),N=!1;if(!x){if(!o)return;x=u.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:g,toState:v,player:l,isFallbackTransition:N}),N||(io(e,Lf),l.onStart(()=>{vd(e,Lf)})),l.onDone(()=>{let H=this.players.indexOf(l);H>=0&&this.players.splice(H,1);const X=this._engine.playersByElement.get(e);if(X){let ve=X.indexOf(l);ve>=0&&X.splice(ve,1)}}),this.players.push(l),D.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Hm,!0);r.forEach(o=>{if(o[ro])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(l=>l.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const u=this._engine.statesByElement.get(e);if(u){const l=[];if(Object.keys(u).forEach(f=>{if(this._triggers[f]){const g=this.trigger(e,f,Uf,o);g&&l.push(g)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&fi(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(u=>{const l=u.name;if(o.has(l))return;o.add(l);const g=this._triggers[l].fallbackTransition,v=r[l]||iE,I=new ty(Uf),C=new ny(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:v,toState:I,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ro];(!u||u===vT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){io(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(f=>{if(f.name==r.triggerName){const g=kb(u,r.triggerName,r.fromState.value,r.toState.value);g._data=e,Lm(r.player,f.phase,g,f.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const u=r.transition.ast.depCount,l=o.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class nR{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new yd(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let u=0;u<o.length;u++){const l=r[o[u]].namespaceId;if(l){const f=this._fetchNamespace(l);f&&t.add(f)}}}return t}trigger(e,t,r,o){if(ry(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!ry(t))return;const u=t[ro];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),io(e,yT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vd(e,yT))}removeNode(e,t,r,o){if(ry(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[ro]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,u){return ry(t)?this._fetchNamespace(e).listen(t,r,o,u):()=>{}}_buildInstruction(e,t,r,o,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Hm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Hb,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return fi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ro];if(t&&t.setForRemoval){if(e[ro]=vT,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,rE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,rE,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)io(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?fi(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Ff,o=[],u=new Map,l=[],f=new Map,g=new Map,v=new Map,I=new Set;this.disabledNodes.forEach(Tt=>{I.add(Tt);const bt=this.driver.query(Tt,".ng-animate-queued",!0);for(let en=0;en<bt.length;en++)I.add(bt[en])});const C=this.bodyNode,D=Array.from(this.statesByElement.keys()),x=wT(D,this.collectedEnterElements),N=new Map;let H=0;x.forEach((Tt,bt)=>{const en=$b+H++;N.set(bt,en),Tt.forEach(Qt=>io(Qt,en))});const X=[],ve=new Set,Le=new Set;for(let Tt=0;Tt<this.collectedLeaveElements.length;Tt++){const bt=this.collectedLeaveElements[Tt],en=bt[ro];en&&en.setForRemoval&&(X.push(bt),ve.add(bt),en.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(Qt=>ve.add(Qt)):Le.add(bt))}const xe=new Map,je=wT(D,Array.from(ve));je.forEach((Tt,bt)=>{const en=qm+H++;xe.set(bt,en),Tt.forEach(Qt=>io(Qt,en))}),e.push(()=>{x.forEach((Tt,bt)=>{const en=N.get(bt);Tt.forEach(Qt=>vd(Qt,en))}),je.forEach((Tt,bt)=>{const en=xe.get(bt);Tt.forEach(Qt=>vd(Qt,en))}),X.forEach(Tt=>{this.processLeaveNode(Tt)})});const Je=[],Xe=[];for(let Tt=this._namespaceList.length-1;Tt>=0;Tt--)this._namespaceList[Tt].drainQueuedTransitions(t).forEach(en=>{const Qt=en.player,Xi=en.element;if(Je.push(Qt),this.collectedEnterElements.length){const ic=Xi[ro];if(ic&&ic.setForMove)return void Qt.destroy()}const rc=!C||!this.driver.containsElement(C,Xi),Ao=xe.get(Xi),_h=N.get(Xi),Yr=this._buildInstruction(en,r,_h,Ao,rc);if(Yr.errors&&Yr.errors.length)Xe.push(Yr);else{if(rc)return Qt.onStart(()=>Ou(Xi,Yr.fromStyles)),Qt.onDestroy(()=>ra(Xi,Yr.toStyles)),void o.push(Qt);if(en.isFallbackTransition)return Qt.onStart(()=>Ou(Xi,Yr.fromStyles)),Qt.onDestroy(()=>ra(Xi,Yr.toStyles)),void o.push(Qt);Yr.timelines.forEach(ic=>ic.stretchStartingKeyframe=!0),r.append(Xi,Yr.timelines),l.push({instruction:Yr,player:Qt,element:Xi}),Yr.queriedElements.forEach(ic=>Fs(f,ic,[]).push(Qt)),Yr.preStyleProps.forEach((ic,Y0)=>{const ND=Object.keys(ic);if(ND.length){let eg=g.get(Y0);eg||g.set(Y0,eg=new Set),ND.forEach(GP=>eg.add(GP))}}),Yr.postStyleProps.forEach((ic,Y0)=>{const ND=Object.keys(ic);let eg=v.get(Y0);eg||v.set(Y0,eg=new Set),ND.forEach(GP=>eg.add(GP))})}});if(Xe.length){const Tt=[];Xe.forEach(bt=>{Tt.push(`@${bt.triggerName} has failed due to:\n`),bt.errors.forEach(en=>Tt.push(`- ${en}\n`))}),Je.forEach(bt=>bt.destroy()),this.reportError(Tt)}const at=new Map,$t=new Map;l.forEach(Tt=>{const bt=Tt.element;r.has(bt)&&($t.set(bt,bt),this._beforeAnimationBuild(Tt.player.namespaceId,Tt.instruction,at))}),o.forEach(Tt=>{const bt=Tt.element;this._getPreviousPlayers(bt,!1,Tt.namespaceId,Tt.triggerName,null).forEach(Qt=>{Fs(at,bt,[]).push(Qt),Qt.destroy()})});const fr=X.filter(Tt=>CT(Tt,g,v)),In=new Map;iy(In,this.driver,Le,v,La).forEach(Tt=>{CT(Tt,g,v)&&fr.push(Tt)});const nc=new Map;x.forEach((Tt,bt)=>{iy(nc,this.driver,new Set(Tt),g,"!")}),fr.forEach(Tt=>{const bt=In.get(Tt),en=nc.get(Tt);In.set(Tt,Object.assign(Object.assign({},bt),en))});const Dl=[],Q0=[],OD={};l.forEach(Tt=>{const{element:bt,player:en,instruction:Qt}=Tt;if(r.has(bt)){if(I.has(bt))return en.onDestroy(()=>ra(bt,Qt.toStyles)),en.disabled=!0,en.overrideTotalTime(Qt.totalTime),void o.push(en);let Xi=OD;if($t.size>1){let Ao=bt;const _h=[];for(;Ao=Ao.parentNode;){const Yr=$t.get(Ao);if(Yr){Xi=Yr;break}_h.push(Ao)}_h.forEach(Yr=>$t.set(Yr,Xi))}const rc=this._buildAnimation(en.namespaceId,Qt,at,u,nc,In);if(en.setRealPlayer(rc),Xi===OD)Dl.push(en);else{const Ao=this.playersByElement.get(Xi);Ao&&Ao.length&&(en.parentPlayer=fi(Ao)),o.push(en)}}else Ou(bt,Qt.fromStyles),en.onDestroy(()=>ra(bt,Qt.toStyles)),Q0.push(en),I.has(bt)&&o.push(en)}),Q0.forEach(Tt=>{const bt=u.get(Tt.element);if(bt&&bt.length){const en=fi(bt);Tt.setRealPlayer(en)}}),o.forEach(Tt=>{Tt.parentPlayer?Tt.syncPlayerEvents(Tt.parentPlayer):Tt.destroy()});for(let Tt=0;Tt<X.length;Tt++){const bt=X[Tt],en=bt[ro];if(vd(bt,qm),en&&en.hasAnimation)continue;let Qt=[];if(f.size){let rc=f.get(bt);rc&&rc.length&&Qt.push(...rc);let Ao=this.driver.query(bt,Hb,!0);for(let _h=0;_h<Ao.length;_h++){let Yr=f.get(Ao[_h]);Yr&&Yr.length&&Qt.push(...Yr)}}const Xi=Qt.filter(rc=>!rc.destroyed);Xi.length?sR(this,bt,Xi):this.processLeaveNode(bt)}return X.length=0,Dl.forEach(Tt=>{this.players.push(Tt),Tt.onDone(()=>{Tt.destroy();const bt=this.players.indexOf(Tt);this.players.splice(bt,1)}),Tt.play()}),Dl}elementContainsData(e,t){let r=!1;const o=t[ro];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,u){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const g=!u||u==Uf;f.forEach(v=>{v.queued||!g&&v.triggerName!=o||l.push(v)})}}return(r||o)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||o&&o!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,I=v!==u,C=Fs(r,v,[]);this._getPreviousPlayers(v,I,l,f,t.toState).forEach(x=>{const N=x.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),x.destroy(),C.push(x)})}Ou(u,t.fromStyles)}_buildAnimation(e,t,r,o,u,l){const f=t.triggerName,g=t.element,v=[],I=new Set,C=new Set,D=t.timelines.map(N=>{const H=N.element;I.add(H);const X=H[ro];if(X&&X.removedBeforeQueried)return new us(N.duration,N.delay);const ve=H!==g,Le=function(n){const e=[];return IT(n,e),e}((r.get(H)||eR).map(at=>at.getRealPlayer())).filter(at=>!!at.element&&at.element===H),xe=u.get(H),je=l.get(H),Je=Pb(0,this._normalizer,0,N.keyframes,xe,je),Xe=this._buildPlayer(N,Je,Le);if(N.subTimeline&&o&&C.add(H),ve){const at=new ny(e,f,H);at.setRealPlayer(Xe),v.push(at)}return Xe});v.forEach(N=>{Fs(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,N.element,N))}),I.forEach(N=>io(N,tT));const x=fi(D);return x.onDestroy(()=>{I.forEach(N=>vd(N,tT)),ra(g,t.toStyles)}),C.forEach(N=>{Fs(o,N,[]).push(x)}),x}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new us(e.duration,e.delay)}}class ny{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new us,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Lm(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ry(n){return n&&1===n.nodeType}function ET(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function iy(n,e,t,r,o){const u=[];t.forEach(g=>u.push(ET(g)));const l=[];r.forEach((g,v)=>{const I={};g.forEach(C=>{const D=I[C]=e.computeStyle(v,C,o);(!D||0==D.length)&&(v[ro]=tR,l.push(v))}),n.set(v,I)});let f=0;return t.forEach(g=>ET(g,u[f++])),l}function wT(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const o=new Set(e),u=new Map;function l(f){if(!f)return 1;let g=u.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:o.has(v)?1:l(v),u.set(f,g),g}return e.forEach(f=>{const g=l(f);1!==g&&t.get(g).push(f)}),t}const jf="$$classes";function io(n,e){if(n.classList)n.classList.add(e);else{let t=n[jf];t||(t=n[jf]={}),t[e]=!0}}function vd(n,e){if(n.classList)n.classList.remove(e);else{let t=n[jf];t&&delete t[e]}}function sR(n,e,t){fi(t).onDone(()=>n.processLeaveNode(e))}function IT(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof QI?IT(r.players,e):e.push(r)}}function CT(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(u=>o.add(u)):e.set(n,r),t.delete(n),!0}class sy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new nR(e,t,r),this._timelineEngine=new mT(e,t,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(e,t,r,o,u){const l=e+"-"+o;let f=this._triggerCache[l];if(!f){const g=[],v=Yb(this._driver,u,g);if(g.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${g.join("\n - ")}`);f=function(n,e,t){return new yk(n,e,t)}(o,v,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,o,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[u,l]=YI(r);this._timelineEngine.command(u,t,l,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,u){if("@"==r.charAt(0)){const[l,f]=YI(r);return this._timelineEngine.listen(l,t,f,u)}return this._transitionEngine.listen(e,t,r,o,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ST(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=oE(e[0]),e.length>1&&(r=oE(e[e.length-1]))):e&&(t=oE(e)),t||r?new oR(n,t,r):null}let oR=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&ra(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ra(this._element,this._initialStyles),this._endStyles&&(ra(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ou(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ou(this._element,this._endStyles),this._endStyles=null),ra(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function oE(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];aR(o)&&(e=e||{},e[o]=n[o])}return e}function aR(n){return"display"===n||"position"===n}const DT="animation",aE="animationend";class cR{constructor(e,t,r,o,u,l,f){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=u,this._fillMode=l,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=g=>this._handleCallback(g)}apply(){(function(n,e){const t=ay(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),_d(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),oy(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xT(this._element,this._name,"paused")}resume(){xT(this._element,this._name,"running")}setPosition(e){const t=OT(this._element,this._name);this._position=e*this._duration,_d(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),oy(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=ay(n,"").split(","),o=uE(r,e);o>=0&&(r.splice(o,1),_d(n,"",r.join(",")))}(this._element,this._name))}}function xT(n,e,t){_d(n,"PlayState",t,OT(n,e))}function OT(n,e){const t=ay(n,"");return t.indexOf(",")>0?uE(t.split(","),e):uE([t],e)}function uE(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function oy(n,e,t){t?n.removeEventListener(aE,e):n.addEventListener(aE,e)}function _d(n,e,t,r){const o=DT+e;if(null!=r){const u=n.style[o];if(u.length){const l=u.split(",");l[r]=t,t=l.join(",")}}n.style[o]=t}function ay(n,e){return n.style[DT+e]||""}class uy{constructor(e,t,r,o,u,l,f,g){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=u,this._finalStyles=f,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=o+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new cR(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Kb(this.element,r))})}this.currentSnapshot=e}}class fR extends us{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=jb(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class lE{constructor(){this._count=0}validateStyleProperty(e){return jm(e)}matchesElement(e,t){return pd(e,t)}containsElement(e,t){return Rf(e,t)}query(e,t,r){return Of(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>jb(f));let o=`@keyframes ${t} {\n`,u="";r.forEach(f=>{u=" ";const g=parseFloat(f.offset);o+=`${u}${100*g}% {\n`,u+=" ",Object.keys(f).forEach(v=>{const I=f[v];switch(v){case"offset":return;case"easing":return void(I&&(o+=`${u}animation-timing-function: ${I};\n`));default:return void(o+=`${u}${v}: ${I};\n`)}}),o+=`${u}}\n`}),o+="}\n";const l=document.createElement("style");return l.textContent=o,l}animate(e,t,r,o,u,l=[],f){const g=l.filter(X=>X instanceof uy),v={};Wb(r,o)&&g.forEach(X=>{let ve=X.currentSnapshot;Object.keys(ve).forEach(Le=>v[Le]=ve[Le])});const I=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=Nu(e,t,v));if(0==r)return new fR(e,I);const C="gen_css_kf_"+this._count++,D=this.buildKeyframeElement(e,C,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(D);const N=ST(e,t),H=new uy(e,t,C,r,o,u,I,N);return H.onDestroy(()=>{var n;(n=D).parentNode.removeChild(n)}),H}}class gR{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Kb(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(FT().toString()),this._cssKeyframesDriver=new lE}validateStyleProperty(e){return jm(e)}matchesElement(e,t){return pd(e,t)}containsElement(e,t){return Rf(e,t)}query(e,t,r){return Of(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,u,l=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,u,l);const I={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(I.easing=u);const C={},D=l.filter(N=>N instanceof gR);Wb(r,o)&&D.forEach(N=>{let H=N.currentSnapshot;Object.keys(H).forEach(X=>C[X]=H[X])});const x=ST(e,t=Nu(e,t=t.map(N=>Ru(N,!1)),C));return new gR(e,t,I,x)}}function FT(){return wo()&&Element.prototype.animate||{}}let bd=(()=>{class n extends Gr{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?xb(t):t;return LT(this._renderer,null,r,"register",[o]),new mR(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(Re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class mR extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ek(this._id,e,t||{},this._renderer)}}class Ek{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return LT(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function LT(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const hE="@.disabled";let wk=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,l)=>{l&&l.parentNode(u)&&l.removeChild(u.parentNode,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(u);return I||(I=new qf("",u,this.engine),this._rendererCache.set(u,I)),I}const l=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=I=>{Array.isArray(I)?I.forEach(g):this.engine.registerTrigger(l,f,t,I.name,I)};return r.data.animation.forEach(g),new yR(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,f]=u;l(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(sy),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class qf{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==hE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class yR extends qf{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==hE?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),l="";return"@"!=u.charAt(0)&&([u,l]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,o,u,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let _R=(()=>{class n extends sy{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re),h.LFG(Bm),h.LFG(Zc))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const pE=new h.OlP("AnimationModuleType"),ly=[{provide:Gr,useClass:bd},{provide:Zc,useFactory:function(){return new zx}},{provide:sy,useClass:_R},{provide:h.FYo,useFactory:function(n,e,t){return new wk(n,e,t)},deps:[Ia,sy,h.R0b]}],gE=[{provide:Bm,useFactory:function(){return"function"==typeof FT()?new dE:new lE}},{provide:pE,useValue:"BrowserAnimations"},...ly],VT=[{provide:Bm,useClass:Bb},{provide:pE,useValue:"NoopAnimations"},...ly];let Tk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?VT:gE}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:gE,imports:[Da]}),n})();const Pu_firebase={projectId:"wiregrasshockey",appId:"1:363929730770:web:1b4af1a4ba5e2d0633370b",databaseURL:"https://wiregrasshockey-default-rtdb.firebaseio.com",storageBucket:"wiregrasshockey.appspot.com",locationId:"us-east1",apiKey:"AIzaSyAou3P1tl2h2PgbtKQQub9A4Z2zIVAEkIg",authDomain:"wiregrasshockey.firebaseapp.com",messagingSenderId:"363929730770",measurementId:"G-F25DPB485K"};class UT{}var gt,jT=M(3637),IR=(M(4828),M(3394)),TR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ia={},mE=mE||{},Xt=TR||self;function Gc(){}function Ed(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ja(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yE="closure_uid_"+(1e9*Math.random()>>>0),Dk=0;function SR(n,e,t){return n.call.apply(n.bind,arguments)}function DR(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Ai(n,e,t){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SR:DR).apply(null,arguments)}function dy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[o].apply(r,l)}}function Mu(){this.s=this.s,this.o=this.o}var xR={};Mu.prototype.s=!1,Mu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,yE)&&n[yE]||(n[yE]=++Dk)}(this);delete xR[n]}},Mu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},RR=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function wd(n){return Array.prototype.concat.apply([],arguments)}function vE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function hy(n){return/^[\s\xa0]*$/.test(n)}var Hi,qT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function pi(n,e){return-1!=n.indexOf(e)}function Ba(n,e){return n<e?-1:n>e?1:0}e:{var $T=Xt.navigator;if($T){var NR=$T.userAgent;if(NR){Hi=NR;break e}}Hi=""}function _E(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $f(n){const e={};for(const t in n)e[t]=n[t];return e}var HT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZT(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<HT.length;u++)t=HT[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fy(n){return fy[" "](n),n}fy[" "]=Gc;var Hf,n,bE=pi(Hi,"Opera"),zc=pi(Hi,"Trident")||pi(Hi,"MSIE"),EE=pi(Hi,"Edge"),wE=EE||zc,zT=pi(Hi,"Gecko")&&!(pi(Hi.toLowerCase(),"webkit")&&!pi(Hi,"Edge"))&&!(pi(Hi,"Trident")||pi(Hi,"MSIE"))&&!pi(Hi,"Edge"),WT=pi(Hi.toLowerCase(),"webkit")&&!pi(Hi,"Edge");function KT(){var n=Xt.document;return n?n.documentMode:void 0}e:{var Id="",Td=(n=Hi,zT?/rv:([^\);]+)(\)|;)/.exec(n):EE?/Edge\/([\d\.]+)/.exec(n):zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WT?/WebKit\/(\S+)/.exec(n):bE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Td&&(Id=Td?Td[1]:""),zc){var QT=KT();if(null!=QT&&QT>parseFloat(Id)){Hf=String(QT);break e}}Hf=Id}var Zf={};function Ln(){return e=Zf,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=qT(String(Hf)).split("."),t=qT("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var o=e[l]||"",u=t[l]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Ba(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Ba(0==o[2].length,0==u[2].length)||Ba(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n}();var e}var Gf=Xt.document&&zc&&(KT()||parseInt(Hf,10))||void 0,Ak=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Xt.addEventListener("test",Gc,e),Xt.removeEventListener("test",Gc,e)}catch(t){}return n}();function Ot(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Zi(n,e){if(Ot.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zT){e:{try{fy(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:IE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zi.Z.h.call(this)}}Ot.prototype.h=function(){this.defaultPrevented=!0},xi(Zi,Ot);var IE={2:"touch",3:"pen",4:"mouse"};Zi.prototype.h=function(){Zi.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Io="closure_listenable_"+(1e6*Math.random()|0),xk=0;function YT(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++xk,this.ca=this.fa=!1}function zf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function TE(n){this.src=n,this.g={},this.h=0}function CE(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=BT(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(zf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function SE(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}TE.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=SE(n,e,r,o);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new YT(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var vs="closure_lm_"+(1e6*Math.random()|0),er={};function so(n,e,t,r,o){if(r&&r.once)return AE(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)so(n,e[u],t,r,o);return null}return t=gy(t),n&&n[Io]?n.N(e,t,ja(r)?!!r.capture:!!r,o):DE(n,e,t,!1,r,o)}function DE(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=ja(o)?!!o.capture:!!o,f=qa(n);if(f||(n[vs]=f=new TE(n)),(t=f.add(e,t,r,l,u)).proxy)return t;if(r=function(){var e=MR;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ak||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Cd(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function AE(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)AE(n,e[u],t,r,o);return null}return t=gy(t),n&&n[Io]?n.O(e,t,ja(r)?!!r.capture:!!r,o):DE(n,e,t,!0,r,o)}function py(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)py(n,e[u],t,r,o);else r=ja(r)?!!r.capture:!!r,t=gy(t),n&&n[Io]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=SE(u=n.g[e],t,r,o))&&(zf(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=qa(n))&&(e=n.g[e.toString()],n=-1,e&&(n=SE(e,t,r,o)),(t=-1<n?e[n]:null)&&ku(t))}function ku(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Io])CE(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Cd(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qa(e))?(CE(t,n),0==t.h&&(t.src=null,e[vs]=null)):zf(n)}}}function Cd(n){return n in er?er[n]:er[n]="on"+n}function MR(n,e){if(n.ca)n=!0;else{e=new Zi(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ku(n),n=t.call(r,e)}return n}function qa(n){return(n=n[vs])instanceof TE?n:null}var xE="__closure_events_fn_"+(1e9*Math.random()>>>0);function gy(n){return"function"==typeof n?n:(n[xE]||(n[xE]=function(e){return n.handleEvent(e)}),n[xE])}function zr(){Mu.call(this),this.i=new TE(this),this.P=this,this.I=null}function Fr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ot(e,n);else if(e instanceof Ot)e.target=e.target||n;else{var o=e;ZT(e=new Ot(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=Sd(l,r,!0,e)&&o}if(o=Sd(l=e.g=n,r,!0,e)&&o,o=Sd(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Sd(l=e.g=t[u],r,!1,e)&&o}function Sd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ca&&l.capture==t){var f=l.listener,g=l.ia||l.src;l.fa&&CE(n.i,l),o=!1!==f.call(g,r)&&o}}return o&&!r.defaultPrevented}xi(zr,Mu),zr.prototype[Io]=!0,zr.prototype.removeEventListener=function(n,e,t,r){py(this,n,e,t,r)},zr.prototype.M=function(){if(zr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zf(t[r]);delete n.g[e],n.h--}}this.I=null},zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var my=Xt.JSON.stringify;function Dd(){var n=vy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ad,Wf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new JT,n=>n.reset());class JT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function XT(n){Xt.setTimeout(()=>{throw n},0)}function yy(n,e){Ad||function(){var n=Xt.Promise.resolve(void 0);Ad=function(){n.then(Rk)}}(),Kf||(Ad(),Kf=!0),vy.add(n,e)}var Kf=!1,vy=new class{constructor(){this.h=this.g=null}add(e,t){const r=Wf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Rk(){for(var n;n=Dd();){try{n.h.call(n.g)}catch(t){XT(t)}var e=Wf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Kf=!1}function RE(n,e){zr.call(this),this.h=n||1,this.g=e||Xt,this.j=Ai(this.kb,this),this.l=Date.now()}function zt(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function eC(n,e,t){if("function"==typeof n)t&&(n=Ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:Xt.setTimeout(n,e||0)}function xd(n){n.g=eC(()=>{n.g=null,n.i&&(n.i=!1,xd(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xi(RE,zr),(gt=RE.prototype).da=!1,gt.S=null,gt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fr(this,"tick"),this.da&&(zt(this),this.start()))}},gt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){RE.Z.M.call(this),zt(this),delete this.g};class LR extends Mu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xd(this)}M(){super.M(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qf(n){Mu.call(this),this.h=n,this.g={}}xi(Qf,Mu);var tC=[];function VR(n,e,t,r){Array.isArray(t)||(t&&(tC[0]=t.toString()),t=tC);for(var o=0;o<t.length;o++){var u=so(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function UR(n){_E(n.g,function(e,t){this.g.hasOwnProperty(t)&&ku(e)},n),n.g={}}function _y(){this.g=!0}function Rd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return my(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Qf.prototype.M=function(){Qf.Z.M.call(this),UR(this)},Qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_y.prototype.Aa=function(){this.g=!1},_y.prototype.info=function(){};var Kc={},nC=null;function by(){return nC=nC||new zr}function rC(n){Ot.call(this,Kc.Ma,n)}function Yf(n){const e=by();Fr(e,new rC(e,n))}function Ey(n,e){Ot.call(this,Kc.STAT_EVENT,n),this.stat=e}function cs(n){const e=by();Fr(e,new Ey(e,n))}function iC(n,e){Ot.call(this,Kc.Na,n),this.size=e}function Od(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){n()},e)}Kc.Ma="serverreachability",xi(rC,Ot),Kc.STAT_EVENT="statevent",xi(Ey,Ot),Kc.Na="timingevent",xi(iC,Ot);var Nd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function oC(){}function uC(){}oC.prototype.h=null;var ME,Jf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function NE(){Ot.call(this,"d")}function PE(){Ot.call(this,"c")}function Fu(){}function Xf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Qf(this),this.P=lC,this.W=new RE(n=wE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cC}function cC(){this.i=null,this.g="",this.h=!1}xi(NE,Ot),xi(PE,Ot),xi(Fu,oC),Fu.prototype.g=function(){return new XMLHttpRequest},Fu.prototype.i=function(){return{}},ME=new Fu;var lC=45e3,Qc={},kE={};function wy(n,e,t){n.K=1,n.v=_s(oa(e)),n.s=t,n.U=!0,dC(n,null)}function dC(n,e){n.F=Date.now(),ep(n),n.A=oa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),WR(t.h,"t",r),n.C=0,t=n.l.H,n.h=new cC,n.g=QE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new LR(Ai(n.Ia,n,n.g),n.O)),VR(n.V,n.g,"readystatechange",n.gb),e=n.H?$f(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Yf(1),function(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",f=u.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var I=v[0];v=v[1];var C=I.split("_");l=2<=C.length&&"type"==C[1]?l+(I+"=")+v+"&":l+(I+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function hC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function fC(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=qR(n,t),o==kE){4==e&&(n.o=4,cs(14),r=!1),Rd(n.j,n.m,null,"[Incomplete Response]");break}if(o==Qc){n.o=4,cs(15),Rd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rd(n.j,n.m,o,null),pC(n,o)}hC(n)&&o!=kE&&o!=Qc&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,cs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),GE(e),e.L=!0,cs(11))):(Rd(n.j,n.m,t,"[Invalid Chunked Response]"),Pd(n),tp(n))}function qR(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kE:(t=Number(e.substring(t,r)),isNaN(t)?Qc:(r+=1)+t>e.length?kE:(e=e.substr(r,t),n.C=r+t,e))}function ep(n){n.Y=Date.now()+n.P,FE(n,n.P)}function FE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Od(Ai(n.eb,n),e)}function Iy(n){n.B&&(Xt.clearTimeout(n.B),n.B=null)}function tp(n){0==n.l.G||n.I||DC(n.l,n)}function Pd(n){Iy(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,zt(n.W),UR(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function pC(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dy(t.i,n)))if(t.I=n.N,!n.J&&Dy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Od(Ai(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;cp(t),op(t)}ky(t),cs(18)}if(1>=jE(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else Vu(t,11)}else if((n.J||t.g==n)&&cp(t),!hy(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let v=o[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const I=v[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const C=v[4];null!=C&&(t.za=C,t.h.info("SVER="+t.za));const D=v[5];null!=D&&"number"==typeof D&&0<D&&(t.K=r=1.5*D,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const x=n.g;if(x){const N=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var u=r.i;!u.g&&(pi(N,"spdy")||pi(N,"quic")||pi(N,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(BE(u,u.h),u.h=null))}if(r.D){const H=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(r.sa=H,tr(r.F,r.D,H))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((r=t).oa=KE(r,r.H?r.la:null,r.W),l.J){bC(r.i,l);var f=l,g=r.K;g&&f.setTimeout(g),f.B&&(Iy(f),ep(f)),r.g=l}else My(r);0<t.l.length&&Py(t)}else"stop"!=v[0]&&"close"!=v[0]||Vu(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Vu(t,7):sp(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}Yf(4)}catch(v){}}function np(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ed(n)||"string"==typeof n)RR(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Ed(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Ed(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Md(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Md)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function LE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Yc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Yc(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Yc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(gt=Xf.prototype).setTimeout=function(n){this.P=n},gt.gb=function(n){n=n.target;const e=this.L;e&&3==Za(n)?e.l():this.Ia(n)},gt.Ia=function(n){try{if(n==this.g)e:{const I=Za(this.g);var e=this.g.Da();const C=this.g.ba();if(!(3>I)&&(3!=I||wE||this.g&&(this.h.h||this.g.ga()||ip(this.g)))){this.I||4!=I||7==e||Yf(8==e||0>=C?3:2),Iy(this);var t=this.g.ba();this.N=t;t:if(hC(this)){var r=ip(this.g);n="";var o=r.length,u=4==Za(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Pd(this),tp(this);var l="";break t}this.h.i=new Xt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hy(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,cs(12),Pd(this),tp(this);break e}Rd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pC(this,t)}this.U?(fC(this,I,l),wE&&this.i&&3==I&&(VR(this.V,this.W,"tick",this.fb),this.W.start())):(Rd(this.j,this.m,l,null),pC(this,l)),4==I&&Pd(this),this.i&&!this.I&&(4==I?DC(this.l,this):(this.i=!1,ep(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,cs(12)):(this.o=0,cs(13)),Pd(this),tp(this)}}}catch(I){}},gt.fb=function(){if(this.g){var n=Za(this.g),e=this.g.ga();this.C<e.length&&(Iy(this),fC(this,n,e),this.i&&4!=n&&ep(this))}},gt.cancel=function(){this.I=!0,Pd(this)},gt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yf(3),cs(17)),Pd(this),this.o=2,tp(this)):FE(this,this.Y-n)},(gt=Md.prototype).R=function(){LE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},gt.T=function(){return LE(this),this.g.concat()},gt.get=function(n,e){return Yc(this.h,n)?this.h[n]:e},gt.set=function(n,e){Yc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},gt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var gC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Jc){this.g=void 0!==e?e:n.g,kd(this,n.j),this.s=n.s,Ty(this,n.i),$a(this,n.m),this.l=n.l,e=n.h;var t=new Cy;t.i=e.i,e.g&&(t.g=new Md(e.g),t.h=e.h),Ri(this,t),this.o=n.o}else n&&(t=String(n).match(gC))?(this.g=!!e,kd(this,t[1]||"",!0),this.s=Fd(t[2]||""),Ty(this,t[3]||"",!0),$a(this,t[4]),this.l=Fd(t[5]||"",!0),Ri(this,t[6]||"",!0),this.o=Fd(t[7]||"")):(this.g=!!e,this.h=new Cy(null,this.g))}function oa(n){return new Jc(n)}function kd(n,e,t){n.j=t?Fd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ty(n,e,t){n.i=t?Fd(e,!0):e}function $a(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ri(n,e,t){e instanceof Cy?(n.h=e,function(n,e){e&&!n.j&&(Lu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(_C(this,r),WR(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ld(e,vC)),n.h=new Cy(e,n.g))}function tr(n,e,t){n.h.set(e,t)}function _s(n){return tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ld(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ld(e,yC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ld(e,yC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ld(t,"/"==t.charAt(0)?GR:ZR,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ld(t,zR)),n.join("")};var yC=/[#\/\?@]/g,ZR=/[#\?:]/g,GR=/[#\?]/g,vC=/[#\?@]/g,zR=/#/g;function Cy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Lu(n){n.g||(n.g=new Md,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _C(n,e){Lu(n),e=el(n,e),Yc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Yc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&LE(n)))}function Xc(n,e){return Lu(n),e=el(n,e),Yc(n.g.h,e)}function WR(n,e,t){_C(n,e),0<t.length&&(n.i=null,n.g.set(el(n,e),vE(t)),n.h+=t.length)}function el(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function UE(n){this.l=n||QR,n=Xt.PerformanceNavigationTiming?0<(n=Xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ea&&Xt.g.Ea()&&Xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=Cy.prototype).add=function(n,e){Lu(this),this.i=null,n=el(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Lu(this),this.g.forEach(function(t,r){RR(t,function(o){n.call(e,o,r,this)},this)},this)},gt.T=function(){Lu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},gt.R=function(n){Lu(this);var e=[];if("string"==typeof n)Xc(this,n)&&(e=wd(e,this.g.get(el(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=wd(e,n[t])}return e},gt.set=function(n,e){return Lu(this),this.i=null,Xc(this,n=el(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var l=o;""!==r[u]&&(l+="="+encodeURIComponent(String(r[u]))),n.push(l)}}return this.i=n.join("&")};var QR=10;function Sy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jE(n){return n.h?1:n.g?n.g.size:0}function Dy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BE(n,e){n.g?n.g.add(e):n.h=e}function bC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function EC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vE(n.i)}function qE(){}function YR(){this.g=new qE}function JR(n,e,t){const r=t||"";try{np(n,function(o,u){let l=o;ja(o)&&(l=my(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ay(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function Ha(n){this.l=n.$b||null,this.j=n.ib||!1}function rp(n,e){zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=xy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UE.prototype.cancel=function(){if(this.i=EC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qE.prototype.stringify=function(n){return Xt.JSON.stringify(n,void 0)},qE.prototype.parse=function(n){return Xt.JSON.parse(n,void 0)},xi(Ha,oC),Ha.prototype.g=function(){return new rp(this.l,this.j)},Ha.prototype.i=function(n){return function(){return n}}({}),xi(rp,zr);var xy=0;function $E(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Vd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ud(n)}function Ud(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=rp.prototype).open=function(n,e){if(this.readyState!=xy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ud(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Xt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vd(this)),this.readyState=xy},gt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ud(this)),this.g&&(this.readyState=3,Ud(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$E(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},gt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vd(this):Ud(this),3==this.readyState&&$E(this)}},gt.Ua=function(n){this.g&&(this.response=this.responseText=n,Vd(this))},gt.Ta=function(n){this.g&&(this.response=n,Vd(this))},gt.ha=function(){this.g&&Vd(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wC=Xt.JSON.parse;function Wr(n){zr.call(this),this.headers=new Md,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IC,this.K=this.L=!1}xi(Wr,zr);var IC="",TC=/^https?$/i,eO=["POST","PUT"];function nO(n){return"content-type"==n.toLowerCase()}function jd(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Bd(n),qd(n)}function Bd(n){n.D||(n.D=!0,Fr(n,"complete"),Fr(n,"error"))}function CC(n){if(n.h&&void 0!==mE&&(!n.C[1]||4!=Za(n)||2!=n.ba()))if(n.v&&4==Za(n))eC(n.Fa,0,n);else if(Fr(n,"readystatechange"),4==Za(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var o=String(n.H).match(gC)[1]||null;if(!o&&Xt.self&&Xt.self.location){var u=Xt.self.location.protocol;o=u.substr(0,u.length-1)}r=!TC.test(o?o.toLowerCase():"")}t=r}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var l=2<Za(n)?n.g.statusText:""}catch(g){l=""}n.j=l+" ["+n.ba()+"]",Bd(n)}}finally{qd(n)}}}function qd(n,e){if(n.g){To(n);const t=n.g,r=n.C[0]?Gc:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function To(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Xt.clearTimeout(n.A),n.A=null)}function Za(n){return n.g?n.g.readyState:0}function ip(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case IC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function HE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return _E(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tr(n,e,t))}function Ry(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Oy(n){this.za=0,this.l=[],this.h=new _y,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ry("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ry("baseRetryDelayMs",5e3,n),this.$a=Ry("retryDelaySeedMs",1e4,n),this.Ya=Ry("forwardChannelMaxRetries",2,n),this.ra=Ry("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new UE(n&&n.concurrentRequestLimit),this.Ca=new YR,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function sp(n){if(Ny(n),3==n.G){var e=n.V++,t=oa(n.F);tr(t,"SID",n.J),tr(t,"RID",e),tr(t,"TYPE","terminate"),up(n,t),(e=new Xf(n,n.h,e,void 0)).K=2,e.v=_s(oa(t)),t=!1,Xt.navigator&&Xt.navigator.sendBeacon&&(t=Xt.navigator.sendBeacon(e.v.toString(),"")),!t&&Xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=QE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ep(e)}AC(n)}function op(n){n.g&&(GE(n),n.g.cancel(),n.g=null)}function Ny(n){op(n),n.u&&(Xt.clearTimeout(n.u),n.u=null),cp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Xt.clearTimeout(n.m),n.m=null)}function ap(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Py(n)}function Py(n){Sy(n.i)||n.m||(n.m=!0,yy(n.Ha,n),n.C=0)}function SC(n,e){var t;t=e?e.m:n.V++;const r=oa(n.F);tr(r,"SID",n.J),tr(r,"RID",t),tr(r,"AID",n.U),up(n,r),n.o&&n.s&&HE(r,n.o,n.s),t=new Xf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ZE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),BE(n.i,t),wy(t,r,e)}function up(n,e){n.j&&np({},function(t,r){tr(e,r,t)})}function ZE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ai(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let g=0;g<t;g++){let v=o[g].h;const I=o[g].g;if(v-=u,0>v)u=Math.max(0,o[g].h-100),f=!1;else try{JR(I,l,"req"+v+"_")}catch(C){r&&r(I)}}if(f){r=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function My(n){n.g||n.u||(n.Y=1,yy(n.Ga,n),n.A=0)}function ky(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Od(Ai(n.Ga,n),WE(n,n.A)),n.A++,0))}function GE(n){null!=n.B&&(Xt.clearTimeout(n.B),n.B=null)}function zE(n){n.g=new Xf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=oa(n.oa);tr(e,"RID","rpc"),tr(e,"SID",n.J),tr(e,"CI",n.N?"0":"1"),tr(e,"AID",n.U),up(n,e),tr(e,"TYPE","xmlhttp"),n.o&&n.s&&HE(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=_s(oa(e)),t.s=null,t.U=!0,dC(t,n)}function cp(n){null!=n.v&&(Xt.clearTimeout(n.v),n.v=null)}function DC(n,e){var t=null;if(n.g==e){cp(n),GE(n),n.g=null;var r=2}else{if(!Dy(n.i,e))return;t=e.D,bC(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Fr(r=by(),new iC(r,t,e,o)),Py(n)}else My(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(jE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Od(Ai(n.Ha,n,e),WE(n,n.C)),n.C++,0)))}(n,e)||2==r&&ky(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Vu(n,5);break;case 4:Vu(n,10);break;case 3:Vu(n,6);break;default:Vu(n,2)}}function WE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Vu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ai(n.jb,n);t||(t=new Jc("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||kd(t,"https"),_s(t)),function(n,e){const t=new _y;if(Xt.Image){const r=new Image;r.onload=dy(Ay,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dy(Ay,t,r,"TestLoadImage: error",!1,e),r.onabort=dy(Ay,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dy(Ay,t,r,"TestLoadImage: timeout",!1,e),Xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else cs(2);n.G=0,n.j&&n.j.va(e),AC(n),Ny(n)}function AC(n){n.G=0,n.I=-1,n.j&&((0!=EC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,vE(n.l),n.l.length=0),n.j.ua())}function KE(n,e,t){let r=function(n){return n instanceof Jc?oa(n):new Jc(n,void 0)}(t);if(""!=r.i)e&&Ty(r,e+"."+r.i),$a(r,r.m);else{const o=Xt.location;r=function(n,e,t,r){var o=new Jc(null,void 0);return n&&kd(o,n),e&&Ty(o,e),t&&$a(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&_E(n.aa,function(o,u){tr(r,u,o)}),t=n.sa,(e=n.D)&&t&&tr(r,e,t),tr(r,"VER",n.ma),up(n,r),r}function QE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ba&&!n.qa?new Ha({ib:!0}):n.qa)).L=n.H,e}function sO(){}function gi(){if(zc&&!(10<=Number(Gf)))throw Error("Environmental error: no available transport.")}function mi(n,e){zr.call(this),this.g=new Oy(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!hy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lp(this)}function xC(n){NE.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function RC(){PE.call(this),this.status=1}function lp(n){this.g=n}(gt=Wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ME.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:ME),this.g.onreadystatechange=Ai(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void jd(this,u)}n=t||"";const o=new Md(this.headers);r&&np(r,function(u,l){o.set(l,u)}),r=function(n){e:{var e=nO;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Xt.FormData&&n instanceof Xt.FormData,!(0<=BT(eO,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,l){this.g.setRequestHeader(l,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{To(this),0<this.B&&((this.K=function(n){return zc&&Ln()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.pa,this)):this.A=eC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){jd(this,u)}},gt.pa=function(){void 0!==mE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),qd(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qd(this,!0)),Wr.Z.M.call(this)},gt.Fa=function(){this.s||(this.F||this.v||this.l?CC(this):this.cb())},gt.cb=function(){CC(this)},gt.ba=function(){try{return 2<Za(this)?this.g.status:-1}catch(n){return-1}},gt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},gt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),wC(e)}},gt.Da=function(){return this.m},gt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=Oy.prototype).ma=8,gt.G=1,gt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},gt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Xf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=$f(u),ZT(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZE(this,o,e),tr(t=oa(this.F),"RID",n),tr(t,"CVER",22),this.D&&tr(t,"X-HTTP-Session-Id",this.D),up(this,t),this.o&&u&&HE(t,this.o,u),BE(this.i,o),this.Ra&&tr(t,"TYPE","init"),this.ja?(tr(t,"$req",e),tr(t,"SID","null"),o.$=!0,wy(o,t,null)):wy(o,t,e),this.G=2}}else 3==this.G&&(n?SC(this,n):0==this.l.length||Sy(this.i)||SC(this))},gt.Ga=function(){if(this.u=null,zE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Od(Ai(this.bb,this),n)}},gt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cs(10),op(this),zE(this))},gt.ab=function(){null!=this.v&&(this.v=null,op(this),ky(this),cs(19))},gt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),cs(2)):(this.h.info("Failed to ping google.com"),cs(1))},(gt=sO.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Oa=function(){},gi.prototype.g=function(n,e){return new mi(n,e)},xi(mi,zr),mi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),yy(Ai(n.hb,n,e))),cs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=KE(n,null,n.W),Py(n)},mi.prototype.close=function(){sp(this.g)},mi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ap(this.g,e)}else this.v?((e={}).__data__=my(n),ap(this.g,e)):ap(this.g,n)},mi.prototype.M=function(){this.g.j=null,delete this.j,sp(this.g),delete this.g,mi.Z.M.call(this)},xi(xC,NE),xi(RC,PE),xi(lp,sO),lp.prototype.xa=function(){Fr(this.g,"a")},lp.prototype.wa=function(n){Fr(this.g,new xC(n))},lp.prototype.va=function(n){Fr(this.g,new RC(n))},lp.prototype.ua=function(){Fr(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,mi.prototype.send=mi.prototype.u,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,Nd.NO_ERROR=0,Nd.TIMEOUT=8,Nd.HTTP_ERROR=6,sC.COMPLETE="complete",uC.EventType=Jf,Jf.OPEN="a",Jf.CLOSE="b",Jf.ERROR="c",Jf.MESSAGE="d",zr.prototype.listen=zr.prototype.N,Wr.prototype.listenOnce=Wr.prototype.O,Wr.prototype.getLastError=Wr.prototype.La,Wr.prototype.getLastErrorCode=Wr.prototype.Da,Wr.prototype.getStatus=Wr.prototype.ba,Wr.prototype.getResponseJson=Wr.prototype.Qa,Wr.prototype.getResponseText=Wr.prototype.ga,Wr.prototype.send=Wr.prototype.ea;var dp=ia.createWebChannelTransport=function(){return new gi},oO=ia.getStatEventTarget=function(){return by()},hp=ia.ErrorCode=Nd,aO=ia.EventType=sC,OC=ia.Event=Kc,NC=ia.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uO=ia.FetchXmlHttpFactory=Ha,$d=ia.WebChannel=uC,PC=ia.XhrIo=Wr;const YE="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Uu="9.9.4";const tl=new Su.Yd("@firebase/firestore");function Fy(){return tl.logLevel}function Qe(n,...e){if(tl.logLevel<=Su.in.DEBUG){const t=e.map(JE);tl.debug(`Firestore (${Uu}): ${n}`,...t)}}function dr(n,...e){if(tl.logLevel<=Su.in.ERROR){const t=e.map(JE);tl.error(`Firestore (${Uu}): ${n}`,...t)}}function ju(n,...e){if(tl.logLevel<=Su.in.WARN){const t=e.map(JE);tl.warn(`Firestore (${Uu}): ${n}`,...t)}}function JE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function yt(n="Unexpected state"){const e=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function qt(n,e){n||yt()}function ut(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends Kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class MC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dO{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=v=>this.i!==o?(o=this.i,t(v)):Promise.resolve();let l=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ii,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,Pe.Z)(function*(){yield v.promise,yield u(r.currentUser)}))},g=v=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ii)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt("string"==typeof r.accessToken),new MC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e),new Lr(e)}}class hO{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(qt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class LC{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new hO(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.A;return this.A=u.token,Qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt("string"==typeof t.token),this.A=t.token,new VC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class XE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function nn(n,e){return n<e?-1:n>e?1:0}function Hd(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function BC(n){return n+"\0"}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new We(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new We(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new We(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nn(this.nanoseconds,e.nanoseconds):nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new nr(0,0))}static max(){return new Zt(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ly{constructor(e,t,r){void 0===t?t=0:t>e.length&&yt(),void 0===r?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ly.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ly?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends Ly{construct(e,t,r){return new Rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const Pk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Ly{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return Pk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new We(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const f=e[o];if("\\"===f){if(o+1===e.length)throw new We(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new We(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else"`"===f?(l=!l,o++):"."!==f||l?(r+=f,o++):(u(),o++)}if(u(),l)throw new We(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Rn.fromString(e))}static fromName(e){return new ot(Rn.fromString(e).popFirst(5))}static empty(){return new ot(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Rn(e.slice()))}}class e0{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function qC(n){return n.fields.find(e=>2===e.kind)}function Zd(n){return n.fields.filter(e=>2!==e.kind)}e0.UNKNOWN_ID=-1;class t0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vy{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vy(0,oo.min())}}function pO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Zt.fromTimestamp(1e9===r?new nr(t+1,0):new nr(t,r));return new oo(o,ot.empty(),e)}function gO(n){return new oo(n.readTime,n.key,-1)}class oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oo(Zt.min(),ot.empty(),-1)}static max(){return new oo(Zt.max(),ot.empty(),-1)}}function $C(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:nn(n.largestBatchId,e.largestBatchId))}const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bu(n){return GC.apply(this,arguments)}function GC(){return GC=(0,Pe.Z)(function*(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==HC)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}),GC.apply(this,arguments)}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,r)=>{t(e)})}static reject(e){return new Ie((t,r)=>{r(e)})}static waitFor(e){return new Ie((t,r)=>{let o=0,u=0,l=!1;e.forEach(f=>{++o,f.next(()=>{++u,l&&u===o&&t()},g=>r(g))}),l=!0,u===o&&t()})}static or(e){let t=Ie.resolve(!1);for(const r of e)t=t.next(o=>o?Ie.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new Ie((r,o)=>{const u=e.length,l=new Array(u);let f=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(I=>{l[v]=I,++f,f===u&&r(l)},I=>o(I))}})}static doWhile(e,t){return new Ie((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class n0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ii,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new fp(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=r0(r.target.error);this.P.reject(new fp(e,o))}}static open(e,t,r,o){try{return new n0(t,e.transaction(o,r))}catch(u){throw new fp(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Fk(t)}}class Co{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Co.D((0,Kt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qe("SimpleDb","Removing database:",e),Gd(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Kt.hl)())return!1;if(Co.N())return!0;const e=(0,Kt.z$)(),t=Co.D(e),r=0<t&&t<10,o=Co.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Pe.Z)(function*(){return t.db||(Qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{o(new fp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const f=l.target.error;o("VersionError"===f.name?new We(Ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new We(Ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new fp(e,f))},u.onupgradeneeded=l=>{Qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Pe.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.F(e);const g=n0.open(u.db,e,l?"readonly":"readwrite",r),v=o(g).next(I=>(g.V(),I)).catch(I=>(g.abort(I),Ie.reject(I))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,I="FirebaseError"!==v.name&&f<3;if(Qe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",I),u.close(),!I)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mO{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Gd(this.U.delete())}}class fp extends We{constructor(e,t){super(Ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function nl(n){return"IndexedDbTransactionError"===n.name}class Fk{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Qe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gd(r)}add(e){return Qe("SimpleDb","ADD",this.store.name,e,e),Gd(this.store.add(e))}get(e){return Gd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qe("SimpleDb","DELETE",this.store.name,e),Gd(this.store.delete(e))}count(){return Qe("SimpleDb","COUNT",this.store.name),Gd(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(l,f)=>{u.push(f)}).next(()=>u)}{const o=this.store.getAll(r.range);return new Ie((u,l)=>{o.onerror=f=>{l(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ie((o,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}Y(e,t){Qe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,l,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new Ie((r,o)=>{t.onerror=u=>{const l=r0(u.target.error);o(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}H(e,t){const r=[];return new Ie((o,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void o();const g=new mO(f),v=t(f.primaryKey,f.value,g);if(v instanceof Ie){const I=v.catch(C=>(g.done(),Ie.reject(C)));r.push(I)}g.isDone?o():null===g.G?f.continue():f.continue(g.G)}}).next(()=>Ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gd(n){return new Ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=r0(r.target.error);t(o)}})}let yO=!1;function r0(n){const e=Co.D((0,Kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yO||(yO=!0,setTimeout(()=>{throw r},0)),r}}return n}class Lk{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Pe.Z)(function*(){t.task=null;try{Qe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){nl(r)?Qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Bu(r)}yield t.nt(1)}))}}class vO{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return Ie.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Qe("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,o).next(f=>{o-=f,r.add(l)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(o,u)).next(f=>(Qe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const l=gO(u);$C(l,r)>0&&(r=l)}),new oo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class zi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function rl(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}zi.at=-1;class Nr{constructor(e,t){this.comparator=e,this.root=t||yi.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yi{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:yi.RED,this.left=null!=o?o:yi.EMPTY,this.right=null!=u?u:yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new yi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return yi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pp(n){return n.hasNext()?n.getNext():void 0}class bs{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new bs([])}unionWith(e){let t=new Bn(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Kr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const Vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(n){if(qt(!!n),"string"==typeof n){let e=0;const t=Vk.exec(n);if(qt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(n.seconds),nanos:Ur(n.nanos)}}function Ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sl(n){return"string"==typeof n?Kr.fromBase64String(n):Kr.fromUint8Array(n)}function WC(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gp(n){const e=n.mapValue.fields.__previous_value__;return WC(e)?gp(e):e}function mp(n){const e=il(n.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}class Uk{constructor(e,t,r,o,u,l,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class ol{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}function al(n){return null==n}function yp(n){return 0===n&&1/n==-1/0}function _O(n){return"number"==typeof n&&Number.isInteger(n)&&!yp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jy={nullValue:"NULL_VALUE"};function Wd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WC(n)?4:qy(n)?9007199254740991:10:yt()}function So(n,e){if(n===e)return!0;const t=Wd(n);if(t!==Wd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mp(n).isEqual(mp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=il(r.timestampValue),l=il(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,sl(n.bytesValue).isEqual(sl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ur(r.geoPointValue.latitude)===Ur(o.geoPointValue.latitude)&&Ur(r.geoPointValue.longitude)===Ur(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ur(r.integerValue)===Ur(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Ur(r.doubleValue),l=Ur(o.doubleValue);return u===l?yp(u)===yp(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Hd(n.arrayValue.values||[],e.arrayValue.values||[],So);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(rl(u)!==rl(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!So(u[f],l[f])))return!1;return!0}(n,e);default:return yt()}var o}function vp(n,e){return void 0!==(n.values||[]).find(t=>So(t,e))}function cl(n,e){if(n===e)return 0;const t=Wd(n),r=Wd(e);if(t!==r)return nn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nn(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=Ur(o.integerValue||o.doubleValue),f=Ur(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return bO(n.timestampValue,e.timestampValue);case 4:return bO(mp(n),mp(e));case 5:return nn(n.stringValue,e.stringValue);case 6:return function(o,u){const l=sl(o),f=sl(u);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),f=u.split("/");for(let g=0;g<l.length&&g<f.length;g++){const v=nn(l[g],f[g]);if(0!==v)return v}return nn(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=nn(Ur(o.latitude),Ur(u.latitude));return 0!==l?l:nn(Ur(o.longitude),Ur(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],f=u.values||[];for(let g=0;g<l.length&&g<f.length;++g){const v=cl(l[g],f[g]);if(v)return v}return nn(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===ul.mapValue&&u===ul.mapValue)return 0;if(o===ul.mapValue)return 1;if(u===ul.mapValue)return-1;const l=o.fields||{},f=Object.keys(l),g=u.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let I=0;I<f.length&&I<v.length;++I){const C=nn(f[I],v[I]);if(0!==C)return C;const D=cl(l[f[I]],g[v[I]]);if(0!==D)return D}return nn(f.length,v.length)}(n.mapValue,e.mapValue);default:throw yt()}}function bO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return nn(n,e);const t=il(n),r=il(e),o=nn(t.seconds,r.seconds);return 0!==o?o:nn(t.nanos,r.nanos)}function Kd(n){return ll(n)}function ll(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=il(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sl(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=ll(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${ll(r.fields[f])}`;return u+"}"}(n.mapValue):yt();var e}function dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function o0(n){return!!n&&"integerValue"in n}function _p(n){return!!n&&"arrayValue"in n}function By(n){return!!n&&"nullValue"in n}function KC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wi(n){return!!n&&"mapValue"in n}function bp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function EO(n){return"nullValue"in n?jy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dl(ol.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:yt()}function wO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dl(ol.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ul:yt()}function $y(n,e){const t=cl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function a0(n,e){const t=cl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wi(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bp(t)}setAll(e){let t=Vr.emptyPath(),r={},o=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=f.popLast()}l?r[f.lastSegment()]=bp(l):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Wi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Wi(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){qu(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new vi(bp(this.value))}}function QC(n){const e=[];return qu(n.fields,(t,r)=>{const o=new Vr([t]);if(Wi(r)){const u=QC(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new bs(e)}class zn{constructor(e,t,r,o,u,l){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=l}static newInvalidDocument(e){return new zn(e,0,Zt.min(),Zt.min(),vi.empty(),0)}static newFoundDocument(e,t,r){return new zn(e,1,t,Zt.min(),r,0)}static newNoDocument(e,t){return new zn(e,2,t,Zt.min(),vi.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Zt.min(),vi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class YC{constructor(e,t=null,r=[],o=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=f,this.ht=null}}function JC(n,e=null,t=[],r=[],o=null,u=null,l=null){return new YC(n,e,t,r,o,u,l)}function hl(n){const e=ut(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Kd(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),al(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kd(r)).join(",")),e.ht=t}return e.ht}function Qd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!DO(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!So(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tS(n.startAt,e.startAt)&&tS(n.endAt,e.endAt)}function Ep(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yd(n,e){return n.filters.filter(t=>t instanceof Oi&&t.field.isEqual(e))}function XC(n,e,t){let r=jy,o=!0;for(const u of Yd(n,e)){let l=jy,f=!0;switch(u.op){case"<":case"<=":l=EO(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,f=!1;break;case"!=":case"not-in":l=jy}$y({value:r,inclusive:o},{value:l,inclusive:f})<0&&(r=l,o=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];$y({value:r,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}function ao(n,e,t){let r=ul,o=!0;for(const u of Yd(n,e)){let l=ul,f=!0;switch(u.op){case">=":case">":l=wO(u.value),f=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,f=!1;break;case"!=":case"not-in":l=ul}a0({value:r,inclusive:o},{value:l,inclusive:f})>0&&(r=l,o=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];a0({value:r,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}class Oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new jk(e,t,r):"array-contains"===t?new TO(e,r):"in"===t?new CO(e,r):"not-in"===t?new qk(e,r):"array-contains-any"===t?new SO(e,r):new Oi(e,t,r)}static lt(e,t,r){return"in"===t?new IO(e,r):new Bk(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(cl(t,this.value)):null!==t&&Wd(this.value)===Wd(t)&&this.ft(cl(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jk extends Oi{constructor(e,t,r){super(e,t,r),this.key=ot.fromName(r.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.ft(t)}}class IO extends Oi{constructor(e,t){super(e,"in",t),this.keys=eS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bk extends Oi{constructor(e,t){super(e,"not-in",t),this.keys=eS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ot.fromName(r.referenceValue))}class TO extends Oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _p(t)&&vp(t.arrayValue,this.value)}}class CO extends Oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vp(this.value.arrayValue,t)}}class qk extends Oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(vp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vp(this.value.arrayValue,t)}}class SO extends Oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vp(this.value.arrayValue,r))}}class Ga{constructor(e,t){this.position=e,this.inclusive=t}}class Jd{constructor(e,t="asc"){this.field=e,this.dir=t}}function DO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function c0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?ot.comparator(ot.fromName(l.referenceValue),t.key):cl(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function tS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!So(n.position[t],e.position[t]))return!1;return!0}class $u{constructor(e,t=null,r=[],o=[],u=null,l="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=g,this._t=null,this.wt=null}}function l0(n,e,t,r,o,u,l,f){return new $u(n,e,t,r,o,u,l,f)}function fl(n){return new $u(n)}function nS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function d0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Hy(n){for(const e of n.filters)if(e.dt())return e.field;return null}function pl(n){return null!==n.collectionGroup}function Hu(n){const e=ut(n);if(null===e._t){e._t=[];const t=Hy(e),r=d0(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Jd(t)),e._t.push(new Jd(Vr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Jd(Vr.keyField(),u))}}}return e._t}function ls(n){const e=ut(n);if(!e.wt)if("F"===e.limitType)e.wt=JC(e.path,e.collectionGroup,Hu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Hu(e))t.push(new Jd(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Ga(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Ga(e.startAt.position,e.startAt.inclusive):null;e.wt=JC(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function Zy(n,e,t){return new $u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wp(n,e){return Qd(ls(n),ls(e))&&n.limitType===e.limitType}function AO(n){return`${hl(ls(n))}|lt:${n.limitType}`}function rS(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Kd(r.value)}`;var r}).join(", ")}]`),al(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Kd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Kd(t)).join(",")),`Target(${e})`}(ls(n))}; limitType=${n.limitType})`}function iS(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):ot.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const f=c0(o,u,l);return o.inclusive?f<=0:f<0}(t.startAt,Hu(t),r)||t.endAt&&!function(o,u,l){const f=c0(o,u,l);return o.inclusive?f>=0:f>0}(t.endAt,Hu(t),r)));var t,r}function h0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f0(n){return(e,t)=>{let r=!1;for(const o of Hu(n)){const u=xO(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function xO(n,e,t){const r=n.field.isKeyField()?ot.comparator(e.key,t.key):function(o,u,l){const f=u.data.field(o),g=l.data.field(o);return null!==f&&null!==g?cl(f,g):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}function sS(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(e)?"-0":e}}function oS(n){return{integerValue:""+n}}function aS(n,e){return _O(e)?oS(e):sS(n,e)}class Ip{constructor(){this._=void 0}}function $k(n,e,t){return n instanceof Zu?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof hr?RO(n,e):n instanceof Gu?p0(n,e):function(r,o){const u=uS(r,o),l=Tp(u)+Tp(r.yt);return o0(u)&&o0(r.yt)?oS(l):sS(r.It,l)}(n,e)}function Hk(n,e,t){return n instanceof hr?RO(n,e):n instanceof Gu?p0(n,e):t}function uS(n,e){return n instanceof Xd?o0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Zu extends Ip{}class hr extends Ip{constructor(e){super(),this.elements=e}}function RO(n,e){const t=cS(e);for(const r of n.elements)t.some(o=>So(o,r))||t.push(r);return{arrayValue:{values:t}}}class Gu extends Ip{constructor(e){super(),this.elements=e}}function p0(n,e){let t=cS(e);for(const r of n.elements)t=t.filter(o=>!So(o,r));return{arrayValue:{values:t}}}class Xd extends Ip{constructor(e,t){super(),this.It=e,this.yt=t}}function Tp(n){return Ur(n.integerValue||n.doubleValue)}function cS(n){return _p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cp{constructor(e,t){this.field=e,this.transform=t}}class gl{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class th{}function dS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new za(n.key,rr.none()):new _r(n.key,n.data,rr.none());{const t=n.data,r=vi.empty();let o=new Bn(Vr.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new zu(n.key,r,new bs(o.toArray()),rr.none())}}function Gy(n,e,t){n instanceof _r?function(r,o,u){const l=r.value.clone(),f=fS(r.fieldTransforms,o,u.transformResults);l.setAll(f),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof zu?function(r,o,u){if(!eh(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=fS(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(hS(r)),f.setAll(l),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sp(n,e,t,r){return n instanceof _r?function(o,u,l,f){if(!eh(o.precondition,u))return l;const g=o.value.clone(),v=OO(o.fieldTransforms,f,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof zu?function(o,u,l,f){if(!eh(o.precondition,u))return l;const g=OO(o.fieldTransforms,f,u),v=u.data;return v.setAll(hS(o)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(I=>I.field))}(n,e,t,r):(l=t,eh(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function g0(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=uS(r.transform,o||null);null!=u&&(null===t&&(t=vi.empty()),t.set(r.field,u))}return t||null}function m0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Hd(t,r,(o,u)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof hr&&r instanceof hr||t instanceof Gu&&r instanceof Gu?Hd(t.elements,r.elements,So):t instanceof Xd&&r instanceof Xd?So(t.yt,r.yt):t instanceof Zu&&r instanceof Zu);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class _r extends th{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zu extends th{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fS(n,e,t){const r=new Map;qt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,f=e.data.field(u.field);r.set(u.field,Hk(l,f,t[o]))}return r}function OO(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,$k(u,l,e))}return r}class za extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y0 extends th{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zk{constructor(e){this.count=e}}var si,On;function pS(n){switch(n){default:return yt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function gS(n){if(void 0===n)return dr("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case si.OK:return Ae.OK;case si.CANCELLED:return Ae.CANCELLED;case si.UNKNOWN:return Ae.UNKNOWN;case si.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case si.INTERNAL:return Ae.INTERNAL;case si.UNAVAILABLE:return Ae.UNAVAILABLE;case si.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case si.NOT_FOUND:return Ae.NOT_FOUND;case si.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case si.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case si.ABORTED:return Ae.ABORTED;case si.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case si.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case si.DATA_LOSS:return Ae.DATA_LOSS;default:return yt()}}(On=si||(si={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS";class Wu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qu(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return zC(this.inner)}size(){return this.innerSize}}const NO=new Nr(ot.comparator);function Es(){return NO}const PO=new Nr(ot.comparator);function Dp(...n){let e=PO;for(const t of n)e=e.insert(t.key,t);return e}function mS(n){let e=PO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function aa(){return zy()}function MO(){return zy()}function zy(){return new Wu(n=>n.toString(),(n,e)=>n.isEqual(e))}const kO=new Nr(ot.comparator),FO=new Bn(ot.comparator);function ln(...n){let e=FO;for(const t of n)e=e.add(t);return e}const LO=new Bn(nn);function Wy(){return LO}class ds{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ap.createSynthesizedTargetChangeForCurrentChange(e,t)),new ds(Zt.min(),r,Wy(),Es(),ln())}}class Ap{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ap(Kr.EMPTY_BYTE_STRING,t,ln(),ln(),ln())}}class Ky{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class yS{constructor(e,t){this.targetId=e,this.At=t}}class vS{constructor(e,t,r=Kr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class VO{constructor(){this.Rt=0,this.bt=bS(),this.Pt=Kr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ln(),t=ln(),r=ln();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:yt()}}),new Ap(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=bS()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class UO{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Es(),this.qt=_S(),this.Kt=new Bn(nn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(Ep(u))if(0===r){const l=new ot(u.path);this.jt(t,l,zn.newNoDocument(l,Zt.min()))}else qt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,l)=>{const f=this.Xt(l);if(f){if(u.current&&Ep(f.target)){const g=new ot(f.target.path);null!==this.Ut.get(g)||this.ee(l,g)||this.jt(l,g,zn.newNoDocument(g,e))}u.Dt&&(t.set(l,u.xt()),u.Nt())}});let r=ln();this.qt.forEach((u,l)=>{let f=!0;l.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Ut.forEach((u,l)=>l.setReadTime(e));const o=new ds(e,t,this.Kt,this.Ut,r);return this.Ut=Es(),this.qt=_S(),this.Kt=new Bn(nn),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new VO,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Bn(nn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new VO),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function _S(){return new Nr(ot.comparator)}function bS(){return new Nr(ot.comparator)}const xp={asc:"ASCENDING",desc:"DESCENDING"},ES={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Gk{constructor(e,t){this.databaseId=e,this.gt=t}}function Rp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jO(n,e){return n.gt?e.toBase64():e.toUint8Array()}function zk(n,e){return Rp(n,e.toTimestamp())}function Ni(n){return qt(!!n),Zt.fromTimestamp(function(e){const t=il(e);return new nr(t.seconds,t.nanos)}(n))}function Op(n,e){return(t=n,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wS(n){const e=Rn.fromString(n);return qt(OS(e)),e}function Np(n,e){return Op(n.databaseId,e.path)}function ua(n,e){const t=wS(e);if(t.get(1)!==n.databaseId.projectId)throw new We(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new We(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(CS(t))}function IS(n,e){return Op(n.databaseId,e)}function TS(n){const e=wS(n);return 4===e.length?Rn.emptyPath():CS(e)}function Pp(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CS(n){return qt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uo(n,e,t){return{name:Np(n,e),fields:t.value.mapValue.fields}}function BO(n,e,t){const r=ua(n,e.name),o=Ni(e.updateTime),u=new vi({mapValue:{fields:e.fields}}),l=zn.newFoundDocument(r,o,u);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function nh(n,e){let t;if(e instanceof _r)t={update:uo(n,e.key,e.value)};else if(e instanceof za)t={delete:Np(n,e.key)};else if(e instanceof zu)t={update:uo(n,e.key,e.data),updateMask:HO(e.fieldMask)};else{if(!(e instanceof y0))return yt();t={verify:Np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof Zu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hr)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xd)return{fieldPath:u.field.canonicalString(),increment:l.yt};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:zk(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:yt()),t;var o}function Qy(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?rr.updateTime(Ni(o.updateTime)):void 0!==o.exists?rr.exists(o.exists):rr.none():rr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,l){let f=null;"setToServerValue"in l?(qt("REQUEST_TIME"===l.setToServerValue),f=new Zu):"appendMissingElements"in l?f=new hr(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Gu(l.removeAllFromArray.values||[]):"increment"in l?f=new Xd(u,l.increment):yt();const g=Vr.fromServerFormat(l.fieldPath);return new Cp(g,f)}(n,o)):[];var o;if(e.update){const o=ua(n,e.update.name),u=new vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new bs((e.updateMask.fieldPaths||[]).map(v=>Vr.fromServerFormat(v)));return new zu(o,u,l,t,r)}return new _r(o,u,t,r)}if(e.delete){const o=ua(n,e.delete);return new za(o,t)}if(e.verify){const o=ua(n,e.verify);return new y0(o,t)}return yt()}function Yy(n,e){return{documents:[IS(n,e.path)]}}function Jy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=IS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=IS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(g){if(0===g.length)return;const v=g.map(I=>function(C){if("=="===C.op){if(KC(C.value))return{unaryFilter:{field:rh(C.field),op:"IS_NAN"}};if(By(C.value))return{unaryFilter:{field:rh(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(KC(C.value))return{unaryFilter:{field:rh(C.field),op:"IS_NOT_NAN"}};if(By(C.value))return{unaryFilter:{field:rh(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(C.field),op:xS(C.op),value:C.value}}}(I));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(g){if(0!==g.length)return g.map(v=>{return{field:rh((I=v).field),direction:AS(I.dir)};var I})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(v=e.limit,n.gt||al(v)?v:{value:v});var v,f,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function Xy(n){let e=TS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){qt(1===r);const I=t.from[0];I.allDescendants?o=I.collectionId:e=e.child(I.collectionId)}let u=[];t.where&&(u=Mp(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(I=>{return new Jd(ih((C=I).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let f=null;t.limit&&(f=function(I){let C;return C="object"==typeof I?I.value:I,al(C)?null:C}(t.limit));let g=null;var I;t.startAt&&(g=new Ga((I=t.startAt).values||[],!!I.before));let v=null;return t.endAt&&(v=function(I){return new Ga(I.values||[],!I.before)}(t.endAt)),l0(e,o,l,u,f,"F",g,v)}function Mp(n){return n?void 0!==n.unaryFilter?[$O(n)]:void 0!==n.fieldFilter?[RS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Mp(e)).reduce((e,t)=>e.concat(t)):yt():[]}function AS(n){return xp[n]}function xS(n){return ES[n]}function rh(n){return{fieldPath:n.canonicalString()}}function ih(n){return Vr.fromServerFormat(n.fieldPath)}function RS(n){return Oi.create(ih(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function $O(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ih(n.unaryFilter.field);return Oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ih(n.unaryFilter.field);return Oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ih(n.unaryFilter.field);return Oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ih(n.unaryFilter.field);return Oi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function HO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Pi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ki(e)),e=ZO(n.get(t),e);return Ki(e)}function ZO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Ki(n){return n+"\x01\x01"}function ws(n){const e=n.length;if(qt(e>=2),2===e)return qt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Rn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&yt(),n.charAt(l+1)){case"\x01":const f=n.substring(u,l);let g;0===o.length?g=f:(o+=f,g=o,o=""),r.push(g);break;case"\x10":o+=n.substring(u,l),o+="\0";break;case"\x11":o+=n.substring(u,l+1);break;default:yt()}u=l+2}return new Rn(r)}const kp=["userId","batchId"];function Fp(n,e){return[n,Pi(e)]}function Lp(n,e,t){return[n,Pi(e),t]}const v0={},NS=["prefixPath","collectionGroup","readTime","documentId"],tv=["prefixPath","collectionGroup","documentId"],GO=["collectionGroup","readTime","prefixPath","documentId"],zO=["canonicalId","targetId"],WO=["targetId","path"],KO=["path","targetId"],PS=["collectionId","parent"],QO=["indexId","uid"],YO=["uid","sequenceNumber"],JO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ku=["indexId","uid","orderedDocumentKey"],Vp=["userId","collectionPath","documentId"],_0=["userId","collectionPath","largestBatchId"],XO=["userId","collectionGroup","largestBatchId"],MS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eN=[...MS,"documentOverlays"],nv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kS=nv,FS=[...kS,"indexConfiguration","indexState","indexEntries"];class rv extends ZC{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function _i(n,e){const t=ut(n);return Co.O(t.ie,e)}class b0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Gy(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MO();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=t.has(o.key)?null:f;const g=dS(l,f);null!==g&&r.set(o.key,g),l.isValidDocument()||l.convertToNoDocument(Zt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ln())}isEqual(e){return this.batchId===e.batchId&&Hd(this.mutations,e.mutations,(t,r)=>m0(t,r))&&Hd(this.baseMutations,e.baseMutations,(t,r)=>m0(t,r))}}class E0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){qt(e.mutations.length===r.length);let o=kO;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new E0(e,t,r,o)}}class Do{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class co{constructor(e,t,r,o,u=Zt.min(),l=Zt.min(),f=Kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ml{constructor(e){this.re=e}}function yl(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Np(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Rp(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:vl(e.version)};else{if(!e.isUnknownDocument())return yt();r.unknownDocument={path:t.path.toArray(),version:vl(e.version)}}var o,u;return r}function sv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _l(n){const e=new nr(n.seconds,n.nanoseconds);return Zt.fromTimestamp(e)}function Qu(n,e){const t=(e.baseMutations||[]).map(u=>Qy(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const l=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(l.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Qy(n.re,u)),o=nr.fromMillis(e.localWriteTimeMs);return new b0(e.batchId,o,t,r)}function sh(n){const e=_l(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_l(n.lastLimboFreeSnapshotVersion):Zt.min();let r;var o;return void 0!==n.query.documents?(qt(1===(o=n.query).documents.length),r=ls(fl(TS(o.documents[0])))):r=ls(Xy(n.query)),new co(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Kr.fromBase64String(n.resumeToken))}function w0(n,e){const t=vl(e.snapshotVersion),r=vl(e.lastLimboFreeSnapshotVersion);let o;o=Ep(e.target)?Yy(n.re,e.target):Jy(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function ov(n){const e=Xy({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Zy(e,e.limit,"L"):e}function Up(n,e){return new Do(e.largestBatchId,Qy(n.re,e.overlayMutation))}function LS(n,e){const t=e.path.lastSegment();return[n,Pi(e.path.popLast()),t]}function VS(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:vl(r.readTime),documentKey:Pi(r.documentKey.path),largestBatchId:r.largestBatchId}}class US{getBundleMetadata(e,t){return Yu(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:_l(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Yu(e).put({bundleId:(r=t).id,createTime:vl(Ni(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return av(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:ov(o.bundledQuery),readTime:_l(o.readTime)};var o})}saveNamedQuery(e,t){return av(e).put({name:(r=t).name,readTime:vl(Ni(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Yu(n){return _i(n,"bundles")}function av(n){return _i(n,"namedQueries")}class uv{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new uv(e,t.uid||"")}getOverlay(e,t){return jp(e).get(LS(this.userId,t)).next(r=>r?Up(this.It,r):null)}getOverlays(e,t){const r=aa();return Ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,l)=>{const f=new Do(t,l);o.push(this.ue(e,f))}),Ie.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(l=>o.add(Pi(l.getCollectionPath())));const u=[];return o.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(jp(e).Y("collectionPathOverlayIndex",f))}),Ie.waitFor(u)}getOverlaysForCollection(e,t,r){const o=aa(),u=Pi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return jp(e).W("collectionPathOverlayIndex",l).next(f=>{for(const g of f){const v=Up(this.It,g);o.set(v.getKey(),v)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=aa();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jp(e).Z({index:"collectionGroupOverlayIndex",range:f},(g,v,I)=>{const C=Up(this.It,v);u.size()<o||C.largestBatchId===l?(u.set(C.getKey(),C),l=C.largestBatchId):I.done()}).next(()=>u)}ue(e,t){return jp(e).put(function(r,o,u){const[l,f,g]=LS(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:g,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:nh(r.re,u.mutation)}}(this.It,this.userId,t))}}function jp(n){return _i(n,"documentOverlays")}class oh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ur(e.integerValue));else if("doubleValue"in e){const r=Ur(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),yp(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(sl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?qy(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):yt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),ot.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Wk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function tN(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Wk(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}oh.Te=new oh;class Kk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=tN(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=tN(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class nN{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class rN{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class cv{constructor(){this.Be=new Kk,this.Le=new nN(this.Be),this.Ue=new rN(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ah{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ah(this.indexId,this.documentKey,this.arrayValue,r)}}function uh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iN(n.arrayValue,e.arrayValue),0!==t?t:(t=iN(n.directionalValue,e.directionalValue),0!==t?t:ot.comparator(n.documentKey,e.documentKey)))}function iN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class sN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=qC(e);if(void 0!==t&&!this.ze(t))return!1;const r=Zd(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const l=r[o];if(!this.He(this.je,l)||!this.Je(this.Ge[u++],l))return!1;++o}for(;o<r.length;++o){const l=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],l))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Qk{constructor(){this.Ye=new jS}addToCollectionParentIndex(e,t){return this.Ye.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return Ie.resolve(oo.min())}updateCollectionGroup(e,t,r){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class jS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Bn(Rn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bn(Rn.comparator)).toArray()}}const I0=new Uint8Array(0);class Yk{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new jS,this.Ze=new Wu(r=>hl(r),(r,o)=>Qd(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:Pi(o)};return i(e).put(u)}return Ie.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[BC(t),""],!1,!0);return i(e).W(o).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(ws(l.parent))}return r})}addFieldIndex(e,t){const r=a(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete o.indexId;const u=r.add(o);if(t.indexState){const l=c(e);return u.next(f=>{l.put(VS(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=a(e),o=c(e),u=s(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=s(e);let o=!0;const u=new Map;return Ie.forEach(this.tn(t),l=>this.en(e,l).next(f=>{o&&(o=!!f),u.set(l,f)})).next(()=>{if(o){let l=ln();const f=[];return Ie.forEach(u,(g,v)=>{var I;Qe("IndexedDbIndexManager",`Using index ${I=g,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(xe=>`${xe.fieldPath}:${xe.kind}`).join(",")}`} to execute ${hl(t)}`);const C=function(xe,je){const Je=qC(je);if(void 0===Je)return null;for(const Xe of Yd(xe,Je.fieldPath))switch(Xe.op){case"array-contains-any":return Xe.value.arrayValue.values||[];case"array-contains":return[Xe.value]}return null}(v,g),D=function(xe,je){const Je=new Map;for(const Xe of Zd(je))for(const at of Yd(xe,Xe.fieldPath))switch(at.op){case"==":case"in":Je.set(Xe.fieldPath.canonicalString(),at.value);break;case"not-in":case"!=":return Je.set(Xe.fieldPath.canonicalString(),at.value),Array.from(Je.values())}return null}(v,g),x=function(xe,je){const Je=[];let Xe=!0;for(const at of Zd(je)){const $t=0===at.kind?XC(xe,at.fieldPath,xe.startAt):ao(xe,at.fieldPath,xe.startAt);Je.push($t.value),Xe&&(Xe=$t.inclusive)}return new Ga(Je,Xe)}(v,g),N=function(xe,je){const Je=[];let Xe=!0;for(const at of Zd(je)){const $t=0===at.kind?ao(xe,at.fieldPath,xe.endAt):XC(xe,at.fieldPath,xe.endAt);Je.push($t.value),Xe&&(Xe=$t.inclusive)}return new Ga(Je,Xe)}(v,g),H=this.nn(g,v,x),X=this.nn(g,v,N),ve=this.sn(g,v,D),Le=this.rn(g.indexId,C,H,x.inclusive,X,N.inclusive,ve);return Ie.forEach(Le,xe=>r.J(xe,t.limit).next(je=>{je.forEach(Je=>{const Xe=ot.fromSegments(Je.documentKey);l.has(Xe)||(l=l.add(Xe),f.push(Xe))})}))}).next(()=>f)}return Ie.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,l,f){const g=(null!=t?t.length:1)*Math.max(r.length,u.length),v=g/(null!=t?t.length:1),I=[];for(let C=0;C<g;++C){const D=t?this.on(t[C/v]):I0,x=this.un(e,D,r[C%v],o),N=this.cn(e,D,u[C%v],l),H=f.map(X=>this.un(e,D,X,!0));I.push(...this.createRange(x,N,H))}return I}un(e,t,r,o){const u=new ah(e,ot.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new ah(e,ot.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new sN(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let l=null;for(const f of u)r.We(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;return Ie.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(l){let f=new Bn(Vr.comparator),g=!1;for(const v of l.filters){const I=v;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?g=!0:f=f.add(I.field))}for(const v of l.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new cv;for(const o of Zd(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const l=r.qe(o.kind);oh.Te.ce(u,l)}return r.$e()}on(e){const t=new cv;return oh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new cv;return oh.Te.ce(dl(this.databaseId,t),r.qe(function(o){const u=Zd(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new cv);let u=0;for(const l of Zd(e)){const f=r[u++];for(const g of o)if(this.ln(t,l.fieldPath)&&_p(f))o=this.fn(o,l,f);else{const v=g.qe(l.kind);oh.Te.ce(f,v)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const l of r.arrayValue.values||[])for(const f of o){const g=new cv;g.seed(f.$e()),oh.Te.ce(l,g.qe(t.kind)),u.push(g)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Oi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=a(e),o=c(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const l=[];return Ie.forEach(u,f=>o.get([f.indexId,this.uid]).next(g=>{l.push(function(v,I){const C=I?new Vy(I.sequenceNumber,new oo(_l(I.readTime),new ot(ws(I.documentKey)),I.largestBatchId)):Vy.empty(),D=v.fields.map(([x,N])=>new t0(Vr.fromServerFormat(x),N));return new e0(v.indexId,v.collectionGroup,D,C)}(f,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:nn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=a(e),u=c(e);return this._n(e).next(l=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>Ie.forEach(f,g=>u.put(VS(g.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return Ie.forEach(t,(o,u)=>{const l=r.get(o.collectionGroup);return(l?Ie.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(f=>(r.set(o.collectionGroup,f),Ie.forEach(f,g=>this.wn(e,o,g).next(v=>{const I=this.mn(u,g);return v.isEqual(I)?Ie.resolve():this.gn(e,u,g,v,I)}))))})}yn(e,t,r,o){return s(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return s(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=s(e);let u=new Bn(uh);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(l,f)=>{u=u.add(new ah(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}mn(e,t){let r=new Bn(uh);const o=this.an(t,e);if(null==o)return r;const u=qC(t);if(null!=u){const l=e.data.field(u.fieldPath);if(_p(l))for(const f of l.arrayValue.values||[])r=r.add(new ah(t.indexId,e.key,this.on(f),o))}else r=r.add(new ah(t.indexId,e.key,I0,o));return r}gn(e,t,r,o,u){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,g,v,I,C){const D=f.getIterator(),x=g.getIterator();let N=pp(D),H=pp(x);for(;N||H;){let X=!1,ve=!1;if(N&&H){const Le=v(N,H);Le<0?ve=!0:Le>0&&(X=!0)}else null!=N?ve=!0:X=!0;X?(I(H),H=pp(x)):ve?(C(N),N=pp(D)):(N=pp(D),H=pp(x))}}(o,u,uh,f=>{l.push(this.yn(e,t,r,f))},f=>{l.push(this.pn(e,t,r,f))}),Ie.waitFor(l)}_n(e){let t=1;return c(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>uh(l,f)).filter((l,f,g)=>!f||0!==uh(l,g[f-1]));const o=[];o.push(e);for(const l of r){const f=uh(l,e),g=uh(l,t);if(0===f)o[0]=e.Ke();else if(f>0&&g<0)o.push(l),o.push(l.Ke());else if(g>0)break}o.push(t);const u=[];for(let l=0;l<o.length;l+=2)u.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,I0,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,I0,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(d)}getMinOffset(e,t){return Ie.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||yt())).next(d)}}function i(n){return _i(n,"collectionParents")}function s(n){return _i(n,"indexEntries")}function a(n){return _i(n,"indexConfiguration")}function c(n){return _i(n,"indexState")}function d(n){qt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;$C(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new oo(e.readTime,e.documentKey,t)}const p={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class m{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new m(e,m.DEFAULT_COLLECTION_PERCENTILE,m.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function b(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let f=0;const g=r.Z({range:l},(I,C,D)=>(f++,D.delete()));u.push(g.next(()=>{qt(1===f)}));const v=[];for(const I of t.mutations){const C=Lp(e,I.key.path,t.batchId);u.push(o.delete(C)),v.push(I.key)}return Ie.waitFor(u).next(()=>v)}function w(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yt();e=n.noDocument}return JSON.stringify(e).length}m.DEFAULT_COLLECTION_PERCENTILE=10,m.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,m.DEFAULT=new m(41943040,m.DEFAULT_COLLECTION_PERCENTILE,m.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),m.DISABLED=new m(-1,0,0);class S{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){qt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new S(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return O(e).Z({index:"userMutationsIndex",range:r},(o,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=P(e),l=O(e);return l.add({}).next(f=>{qt("number"==typeof f);const g=new b0(f,t,r,o),v=function(D,x,N){const H=N.baseMutations.map(ve=>nh(D.re,ve)),X=N.mutations.map(ve=>nh(D.re,ve));return{userId:x,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:H,mutations:X}}(this.It,this.userId,g),I=[];let C=new Bn((D,x)=>nn(D.canonicalString(),x.canonicalString()));for(const D of o){const x=Lp(this.userId,D.key.path,f);C=C.add(D.key.path.popLast()),I.push(l.put(v)),I.push(u.put(x,v0))}return C.forEach(D=>{I.push(this.indexManager.addToCollectionParentIndex(e,D))}),e.addOnCommittedListener(()=>{this.In[f]=g.keys()}),Ie.waitFor(I).next(()=>g)})}lookupMutationBatch(e,t){return O(e).get(t).next(r=>r?(qt(r.userId===this.userId),Qu(this.It,r)):null)}Tn(e,t){return this.In[t]?Ie.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return O(e).Z({index:"userMutationsIndex",range:o},(l,f,g)=>{f.userId===this.userId&&(qt(f.batchId>=r),u=Qu(this.It,f)),g.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return O(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return O(e).W("userMutationsIndex",t).next(r=>r.map(o=>Qu(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Fp(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return P(e).Z({range:o},(l,f,g)=>{const[v,I,C]=l,D=ws(I);if(v===this.userId&&t.path.isEqual(D))return O(e).get(C).next(x=>{if(!x)throw yt();qt(x.userId===this.userId),u.push(Qu(this.It,x))});g.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(nn);const o=[];return t.forEach(u=>{const l=Fp(this.userId,u.path),f=IDBKeyRange.lowerBound(l),g=P(e).Z({range:f},(v,I,C)=>{const[D,x,N]=v,H=ws(x);D===this.userId&&u.path.isEqual(H)?r=r.add(N):C.done()});o.push(g)}),Ie.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Fp(this.userId,r),l=IDBKeyRange.lowerBound(u);let f=new Bn(nn);return P(e).Z({range:l},(g,v,I)=>{const[C,D,x]=g,N=ws(D);C===this.userId&&r.isPrefixOf(N)?N.length===o&&(f=f.add(x)):I.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push(O(e).get(u).next(l=>{if(null===l)throw yt();qt(l.userId===this.userId),r.push(Qu(this.It,l))}))}),Ie.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return b(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return P(e).Z({range:r},(u,l,f)=>{if(u[0]===this.userId){const g=ws(u[1]);o.push(g)}else f.done()}).next(()=>{qt(0===o.length)})})}containsKey(e,t){return A(e,this.userId,t)}Rn(e){return Q(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function A(n,e,t){const r=Fp(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return P(n).Z({range:u,X:!0},(f,g,v)=>{const[I,C,D]=f;I===e&&C===o&&(l=!0),v.done()}).next(()=>l)}function O(n){return _i(n,"mutations")}function P(n){return _i(n,"documentMutations")}function Q(n){return _i(n,"mutationQueues")}class ee{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ee(0)}static vn(){return new ee(-1)}}class Ce{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new ee(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Zt.fromTimestamp(new nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ae(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(qt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return ae(e).Z((l,f)=>{const g=sh(f);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(o++,u.push(this.removeTargetData(e,g)))}).next(()=>Ie.waitFor(u)).next(()=>o)}forEachTarget(e,t){return ae(e).Z((r,o)=>{const u=sh(o);t(u)})}Vn(e){return Ye(e).get("targetGlobalKey").next(t=>(qt(null!==t),t))}Sn(e,t){return Ye(e).put("targetGlobalKey",t)}Dn(e,t){return ae(e).put(w0(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=hl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ae(e).Z({range:o,index:"queryTargetsIndex"},(l,f,g)=>{const v=sh(f);Qd(t,v.target)&&(u=v,g.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Me(e);return t.forEach(l=>{const f=Pi(l.path);o.push(u.put({targetId:r,path:f})),o.push(this.referenceDelegate.addReference(e,r,l))}),Ie.waitFor(o)}removeMatchingKeys(e,t,r){const o=Me(e);return Ie.forEach(t,u=>{const l=Pi(u.path);return Ie.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Me(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Me(e);let u=ln();return o.Z({range:r,X:!0},(l,f,g)=>{const v=ws(l[1]),I=new ot(v);u=u.add(I)}).next(()=>u)}containsKey(e,t){const r=Pi(t.path),o=IDBKeyRange.bound([r],[BC(r)],!1,!0);let u=0;return Me(e).Z({index:"documentTargetsIndex",X:!0,range:o},([l,f],g,v)=>{0!==l&&(u++,v.done())}).next(()=>u>0)}se(e,t){return ae(e).get(t).next(r=>r?sh(r):null)}}function ae(n){return _i(n,"targets")}function Ye(n){return _i(n,"targetGlobal")}function Me(n){return _i(n,"targetDocuments")}function Nt([n,e],[t,r]){const o=nn(n,t);return 0===o?nn(e,r):o}class Gt{constructor(e){this.xn=e,this.buffer=new Bn(Nt),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Nt(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class En{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Pe.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){nl(r)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Bu(r)}yield t.Fn(3e5)}))}}class oi{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ie.resolve(zi.at);const r=new Gt(t);return this.$n.forEachTarget(e,o=>r.Mn(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.Mn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(p)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,l,f,g,v;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,l=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(r=C,f=Date.now(),this.removeTargets(e,r,t))).next(C=>(u=C,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(v=Date.now(),Fy()<=Su.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-I}ms\n\tDetermined least recently used ${o} in `+(f-l)+`ms\n\tRemoved ${u} targets in `+(g-f)+`ms\n\tRemoved ${C} documents in `+(v-g)+`ms\nTotal Duration: ${v-I}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C})))}}class lo{constructor(e,t){this.db=e,this.garbageCollector=new oi(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return Ju(e,r)}removeReference(e,t,r){return Ju(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ju(e,t)}Gn(e,t){return function(r,o){let u=!1;return Q(r).tt(l=>A(r,l,o).next(f=>(f&&(u=!0),Ie.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(l,f)=>{if(f<=t){const g=this.Gn(e,l).next(v=>{if(!v)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Zt.min()),Me(e).delete([0,Pi(l.path)])))});o.push(g)}}).next(()=>Ie.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ju(e,t)}Kn(e,t){const r=Me(e);let o,u=zi.at;return r.Z({index:"documentTargetsIndex"},([l,f],{path:g,sequenceNumber:v})=>{0===l?(u!==zi.at&&t(new ot(ws(o)),u),u=v,o=g):u=zi.at}).next(()=>{u!==zi.at&&t(new ot(ws(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ju(n,e){return Me(n).put((r=n.currentSequenceNumber,{targetId:0,path:Pi(e.path),sequenceNumber:r}));var r}class bl{constructor(){this.changes=new Wu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ch{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Wa(e).put(r)}removeEntry(e,t,r){return Wa(e).delete(function(o,u){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],sv(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=zn.newInvalidDocument(t);return Wa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(wl(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:zn.newInvalidDocument(t)};return Wa(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(wl(t))},(o,u)=>{r={document:this.jn(t,u),size:w(u)}}).next(()=>r)}getEntries(e,t){let r=Es();return this.zn(e,t,(o,u)=>{const l=this.jn(o,u);r=r.insert(o,l)}).next(()=>r)}Hn(e,t){let r=Es(),o=new Nr(ot.comparator);return this.zn(e,t,(u,l)=>{const f=this.jn(u,l);r=r.insert(u,f),o=o.insert(u,w(l))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return Ie.resolve();let o=new Bn(Jk);t.forEach(g=>o=o.add(g));const u=IDBKeyRange.bound(wl(o.first()),wl(o.last())),l=o.getIterator();let f=l.getNext();return Wa(e).Z({index:"documentKeyIndex",range:u},(g,v,I)=>{const C=ot.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&Jk(f,C)<0;)r(f,null),f=l.getNext();f&&f.isEqual(C)&&(r(f,v),f=l.hasNext()?l.getNext():null),f?I.j(wl(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),sv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wa(e).W(IDBKeyRange.bound(o,u,!0)).next(l=>{let f=Es();for(const g of l){const v=this.jn(ot.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,r,o){let u=Es();const l=dv(t,r),f=dv(t,oo.max());return Wa(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(g,v,I)=>{const C=this.jn(ot.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);u=u.insert(C.key,C),u.size===o&&I.done()}).next(()=>u)}newChangeBuffer(e){return new T0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return lv(e).get("remoteDocumentGlobalKey").next(t=>(qt(!!t),t))}Qn(e,t){return lv(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function(n,e){let t;if(e.document)t=BO(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ot.fromSegments(e.noDocument.path),o=_l(e.noDocument.readTime);t=zn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return yt();{const r=ot.fromSegments(e.unknownDocument.path),o=_l(e.unknownDocument.version);t=zn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new nr(r[0],r[1]);return Zt.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Zt.min()))return r}return zn.newInvalidDocument(e)}}function El(n){return new ch(n)}class T0 extends bl{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Wu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Bn((u,l)=>nn(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const f=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,f.readTime)),l.isValidDocument()){const g=yl(this.Yn.It,l);o=o.add(u.path.popLast()),r+=w(g)-f.size,t.push(this.Yn.addEntry(e,u,g))}else if(r-=f.size,this.trackRemovals){const g=yl(this.Yn.It,l.convertToNoDocument(Zt.min()));t.push(this.Yn.addEntry(e,u,g))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),Ie.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,l)=>{this.Xn.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function lv(n){return _i(n,"remoteDocumentGlobal")}function Wa(n){return _i(n,"remoteDocumentsV14")}function wl(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dv(n,e){const t=e.documentKey.path.toArray();return[n,sv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Jk(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=nn(t[u],r[u]),o)return o;return o=nn(t.length,r.length),o||(o=nn(t[t.length-2],r[r.length-2]),o||nn(t[t.length-1],r[r.length-1]))}class BU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xk{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&Sp(r.mutation,o,bs.empty(),nr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ln()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ln()){const o=aa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=Dp();return u.forEach((f,g)=>{l=l.insert(f,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ln()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,o){let u=Es();const l=zy(),f=zy();return t.forEach((g,v)=>{const I=r.get(v.key);o.has(v.key)&&(void 0===I||I.mutation instanceof zu)?u=u.insert(v.key,v):void 0!==I&&(l.set(v.key,I.mutation.getFieldMask()),Sp(I.mutation,v,I.mutation.getFieldMask(),nr.now()))}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,I)=>l.set(v,I)),t.forEach((v,I)=>{var C;return f.set(v,new BU(I,null!==(C=l.get(v))&&void 0!==C?C:null))}),f))}recalculateAndSaveOverlays(e,t){const r=zy();let o=new Nr((l,f)=>l-f),u=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let I=r.get(g)||bs.empty();I=f.applyToLocalView(v,I),r.set(g,I);const C=(o.get(f.batchId)||ln()).add(g);o=o.insert(f.batchId,C)})}).next(()=>{const l=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,I=g.value,C=MO();I.forEach(D=>{if(!u.has(D)){const x=dS(t.get(D),r.get(D));null!==x&&C.set(D,x),u=u.add(D)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,C))}return Ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ot.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):Ie.resolve(aa());let f=-1,g=u;return l.next(v=>Ie.forEach(v,(I,C)=>(f<C.largestBatchId&&(f=C.largestBatchId),u.get(I)?Ie.resolve():this.getBaseDocument(e,I,C).next(D=>{g=g.insert(I,D)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,ln())).next(I=>({batchId:f,changes:mS(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(r=>{let o=Dp();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Dp();return this.indexManager.getCollectionParents(e,o).next(l=>Ie.forEach(l,f=>{const g=(v=t,I=f.child(o),new $u(I,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,I;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(v=>{v.forEach((I,C)=>{u=u.insert(I,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((f,g)=>{const v=g.getKey();null===o.get(v)&&(o=o.insert(v,zn.newInvalidDocument(v)))});let l=Dp();return o.forEach((f,g)=>{const v=u.get(f);void 0!==v&&Sp(v.mutation,g,bs.empty(),nr.now()),iS(t,g)&&(l=l.insert(f,g))}),l})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ie.resolve(zn.newInvalidDocument(t))}}class qU{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ni(r.createTime)}),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ov(r.bundledQuery),readTime:Ni(r.readTime)}),Ie.resolve();var r}}class $U{constructor(){this.overlays=new Nr(ot.comparator),this.es=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=aa();return Ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),Ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),Ie.resolve()}getOverlaysForCollection(e,t,r){const o=aa(),u=t.length+1,l=new ot(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Nr((v,I)=>v-I);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let I=u.get(v.largestBatchId);null===I&&(I=aa(),u=u.insert(v.largestBatchId,I)),I.set(v.getKey(),v)}}const f=aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,I)=>f.set(v,I)),!(f.size()>=o)););return Ie.resolve(f)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Do(t,r));let u=this.es.get(t);void 0===u&&(u=ln(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class oN{constructor(){this.ns=new Bn(Qi.ss),this.rs=new Bn(Qi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Qi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Qi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ot(new Rn([])),r=new Qi(t,e),o=new Qi(t,e+1),u=[];return this.rs.forEachInRange([r,o],l=>{this.cs(l),u.push(l.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ot(new Rn([])),r=new Qi(t,e),o=new Qi(t,e+1);let u=ln();return this.rs.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Qi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Qi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ot.comparator(e.key,t.key)||nn(e._s,t._s)}static os(e,t){return nn(e._s,t._s)||ot.comparator(e.key,t.key)}}class HU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Bn(Qi.ss)}checkEmpty(e){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const l=new b0(u,t,r,o);this.mutationQueue.push(l);for(const f of o)this.gs=this.gs.add(new Qi(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Ie.resolve(l)}lookupMutationBatch(e,t){return Ie.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return Ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qi(t,0),o=new Qi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],l=>{const f=this.ys(l._s);u.push(f)}),Ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(nn);return t.forEach(o=>{const u=new Qi(o,0),l=new Qi(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,l],f=>{r=r.add(f._s)})}),Ie.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;ot.isDocumentKey(u)||(u=u.child(""));const l=new Qi(new ot(u),0);let f=new Bn(nn);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(f=f.add(g._s)),!0)},l),Ie.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){qt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ie.forEach(t.mutations,o=>{const u=new Qi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Qi(t,0),o=this.gs.firstAfterOrEqual(r);return Ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ie.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ZU{constructor(e){this.Es=e,this.docs=new Nr(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ie.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let r=Es();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():zn.newInvalidDocument(o))}),Ie.resolve(r)}getAllFromCollection(e,t,r){let o=Es();const u=new ot(t.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:f,value:{document:g}}=l.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||$C(gO(g),r)<=0||(o=o.insert(g.key,g.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,t,r,o){yt()}As(e,t){return Ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new GU(this)}getSize(e){return Ie.resolve(this.size)}}class GU extends bl{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),Ie.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class zU{constructor(e){this.persistence=e,this.Rs=new Wu(t=>hl(t),Qd),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new oN,this.targetCount=0,this.vs=ee.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ie.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ee(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.Dn(t),Ie.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Ie.waitFor(u).next(()=>o)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ie.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),Ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ie.resolve(r)}containsKey(e,t){return Ie.resolve(this.Ps.containsKey(t))}}class eF{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new zi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new zU(this),this.indexManager=new Qk,this.remoteDocumentCache=new ZU(r=>this.referenceDelegate.xs(r)),this.It=new ml(t),this.Ns=new qU(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $U,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new HU(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Qe("MemoryPersistence","Starting transaction:",e);const o=new WU(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Ms(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Os(e,t){return Ie.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class WU extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class BS{constructor(e){this.persistence=e,this.Fs=new oN,this.$s=null}static Bs(e){return new BS(e)}get Ls(){if(this.$s)return this.$s;throw yt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ie.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Ls,r=>{const o=ot.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,Zt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Ie.or([()=>Ie.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class KU{constructor(e){this.It=e}$(e,t,r,o){const u=new n0("createOrUpgrade",t);var f;r<1&&o>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kp,{unique:!0}),f.createObjectStore("documentMutations"),tF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=Ie.resolve();return r<3&&o>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),tF(e)),l=l.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(u))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(f,g){return g.store("mutations").W().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kp,{unique:!0});const I=g.store("mutations"),C=v.map(D=>I.put(D));return Ie.waitFor(C)})}(e,u))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(l=l.next(()=>this.qs(u))),r<6&&o>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(l=l.next(()=>this.Gs(u))),r<8&&o>=8&&(l=l.next(()=>this.Qs(e,u))),r<9&&o>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(l=l.next(()=>this.js(u))),r<11&&o>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(l=l.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Vp});g.createIndex("collectionPathOverlayIndex",_0,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",XO,{unique:!1})}(e)})),r<13&&o>=13&&(l=l.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:NS});g.createIndex("documentKeyIndex",tv),g.createIndex("collectionGroupIndex",GO)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.zs(e,u))),r<15&&o>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:QO}).createIndex("sequenceNumberIndex",YO,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:JO}).createIndex("documentKeyIndex",Ku,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=w(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>Ie.forEach(o,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",l).next(f=>Ie.forEach(f,g=>{qt(g.userId===u.userId);const v=Qu(this.It,g);return b(e,u.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((l,f)=>{const g=new Rn(l),v=[0,Pi(g)];u.push(t.get(v).next(I=>I?Ie.resolve():t.put({targetId:0,path:Pi(g),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ie.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:PS});const r=t.store("collectionParents"),o=new jS,u=l=>{if(o.add(l)){const f=l.lastSegment(),g=l.popLast();return r.put({collectionId:f,parent:Pi(g)})}};return t.store("remoteDocuments").Z({X:!0},(l,f)=>{const g=new Rn(l);return u(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,f,g],v)=>{const I=ws(f);return u(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=sh(o),l=w0(this.It,u);return t.put(l)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,l)=>{const f=t.store("remoteDocumentsV14"),g=(v=l,v.document?new ot(Rn.fromString(v.document.name).popFirst(5)):v.noDocument?ot.fromSegments(v.noDocument.path):v.unknownDocument?ot.fromSegments(v.unknownDocument.path):yt()).path.toArray();var v;const I={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(f.put(I))}).next(()=>Ie.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=El(this.It),u=new eF(BS.Bs,this.It.re);return r.W().next(l=>{const f=new Map;return l.forEach(g=>{var v;let I=null!==(v=f.get(g.userId))&&void 0!==v?v:ln();Qu(this.It,g).keys().forEach(C=>I=I.add(C)),f.set(g.userId,I)}),Ie.forEach(f,(g,v)=>{const I=new Lr(v),C=uv.oe(this.It,I),D=u.getIndexManager(I),x=S.oe(I,this.It,D,u.referenceDelegate);return new Xk(o,x,C,D).recalculateAndSaveOverlaysForDocumentKeys(new rv(t,zi.at),g).next()})})}}function tF(n){n.createObjectStore("targetDocuments",{keyPath:WO}).createIndex("documentTargetsIndex",KO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zO,{unique:!0}),n.createObjectStore("targetGlobal")}const aN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uN{constructor(e,t,r,o,u,l,f,g,v,I,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=l,this.document=f,this.Js=v,this.Ys=I,this.Xs=C,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=D=>Promise.resolve(),!uN.C())throw new We(Ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lo(this,o),this.ii=t+"main",this.It=new ml(g),this.ri=new Co(this.ii,this.Xs,new KU(this.It)),this.Cs=new Ce(this.referenceDelegate,this.It),this.remoteDocumentCache=El(this.It),this.Ns=new US,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(Ae.FAILED_PRECONDITION,aN);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new zi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Pe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Pe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(nl(e))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return C0(e).get("owner").next(t=>Ie.resolve(this.mi(t)))}gi(e){return qS(e).delete(this.clientId)}yi(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=_i(r,"clientMetadata");return o.W().next(u=>{const l=e.Ii(u,18e5),f=u.filter(g=>-1===l.indexOf(g));return Ie.forEach(f,g=>o.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ie.resolve(!0):C0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new We(Ae.FAILED_PRECONDITION,aN);return!1}}return!(!this.networkEnabled||!this.inForeground)||qS(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const l=!this.inForeground&&o.inForeground,f=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||l&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new rv(t,zi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>qS(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return S.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yk(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return uv.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Qe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(l=this.Xs)?FS:14===l?kS:13===l?nv:12===l?eN:11===l?MS:void yt();var l;let f;return this.ri.runTransaction(e,o,u,g=>(f=new rv(g,this.Ss?this.Ss.next():zi.at),"readwrite-primary"===t?this.fi(f).next(v=>!!v||this.di(f)).next(v=>{if(!v)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new We(Ae.FAILED_PRECONDITION,HC);return r(f)}).next(v=>this.wi(f).next(()=>v)):this.Vi(f).next(()=>r(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Vi(e){return C0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new We(Ae.FAILED_PRECONDITION,aN)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return C0(e).put("owner",t)}static C(){return Co.C()}_i(e){const t=C0(e);return t.get("owner").next(r=>this.mi(r)?(Qe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ie.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Qe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function C0(n){return _i(n,"owner")}function qS(n){return _i(n,"clientMetadata")}function cN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class lN{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=ln(),o=ln();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lN(e,t.fromCache,r,o)}}class nF{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Mi(e,t,o,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(nS(t))return Ie.resolve(null);let r=ls(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Zy(t,null,"F"),r=ls(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=ln(...u);return this.Ni.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const v=this.Fi(t,f);return this.$i(t,v,l,g.readTime)?this.ki(e,Zy(t,null,"F")):this.Bi(e,v,t,g)}))})))}Mi(e,t,r,o){return nS(t)||o.isEqual(Zt.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const l=this.Fi(t,u);return this.$i(t,l,r,o)?this.Oi(e,t):(Fy()<=Su.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rS(t)),this.Bi(e,l,t,pO(o,-1)))})}Fi(e,t){let r=new Bn(f0(e));return t.forEach((o,u)=>{iS(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Oi(e,t){return Fy()<=Su.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",rS(t)),this.Ni.getDocumentsMatchingQuery(e,t,oo.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class QU{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Nr(nn),this.qi=new Wu(u=>hl(u),Qd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function rF(n,e,t,r){return new QU(n,e,t,r)}function iF(n,e){return dN.apply(this,arguments)}function dN(){return dN=(0,Pe.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],f=[];let g=ln();for(const v of o){l.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}for(const v of u){f.push(v.batchId);for(const I of v.mutations)g=g.add(I.key)}return t.localDocuments.getDocuments(r,g).next(v=>({ji:v,removedBatchIds:l,addedBatchIds:f}))})})}),dN.apply(this,arguments)}function YU(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,f,g,v){const I=g.batch,C=I.keys();let D=Ie.resolve();return C.forEach(x=>{D=D.next(()=>v.getEntry(f,x)).next(N=>{const H=g.docVersions.get(x);qt(null!==H),N.version.compareTo(H)<0&&(I.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),v.addEntry(N)))})}),D.next(()=>l.mutationQueue.removeMutationBatch(f,I))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=ln();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(f=f.add(l.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function sF(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function JU(n,e){const t=ut(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const f=[];e.targetChanges.forEach((I,C)=>{const D=o.get(C);if(!D)return;f.push(t.Cs.removeMatchingKeys(u,I.removedDocuments,C).next(()=>t.Cs.addMatchingKeys(u,I.addedDocuments,C)));let x=D.withSequenceNumber(u.currentSequenceNumber);var N,H,X;e.targetMismatches.has(C)?x=x.withResumeToken(Kr.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):I.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(I.resumeToken,r)),o=o.insert(C,x),H=x,X=I,(0===(N=D).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(u,x))});let g=Es(),v=ln();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,I))}),f.push(oF(u,l,e.documentUpdates).next(I=>{g=I.Wi,v=I.zi})),!r.isEqual(Zt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(u).next(C=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(I)}return Ie.waitFor(f).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.Ui=o,u))}function oF(n,e,t){let r=ln(),o=ln();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Es();return t.forEach((f,g)=>{const v=u.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Zt.min())?(e.removeEntry(f,g.readTime),l=l.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),l=l.insert(f,g)):Qe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Wi:l,zi:o}})}function XU(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hv(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,Ie.resolve(o)):t.Cs.allocateTargetId(r).next(l=>(o=new co(e,l,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function fv(n,e,t){return hN.apply(this,arguments)}function hN(){return hN=(0,Pe.Z)(function*(n,e,t){const r=ut(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!nl(l))throw l;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),hN.apply(this,arguments)}function $S(n,e,t){const r=ut(n);let o=Zt.min(),u=ln();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,g,v){const I=ut(f),C=I.qi.get(v);return void 0!==C?Ie.resolve(I.Ui.get(C)):I.Cs.getTargetData(g,v)}(r,l,ls(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,f.targetId).next(g=>{u=g})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,t?o:Zt.min(),t?u:ln())).next(f=>(cF(r,h0(e),f),{documents:f,Hi:u})))}function aF(n,e){const t=ut(n),r=ut(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(l=>l?l.target:null))}function uF(n,e){const t=ut(n),r=t.Ki.get(e)||Zt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,pO(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(cF(t,e,o),o))}function cF(n,e,t){let r=Zt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function fN(){return fN=(0,Pe.Z)(function*(n,e,t,r){const o=ut(n);let u=ln(),l=Es();for(const v of t){const I=e.Ji(v.metadata.name);v.document&&(u=u.add(I));const C=e.Yi(v);C.setReadTime(e.Xi(v.metadata.readTime)),l=l.insert(I,C)}const f=o.Gi.newChangeBuffer({trackRemovals:!0}),g=yield hv(o,(v=r,ls(fl(Rn.fromString(`__bundle__/docs/${v}`)))));var v;return o.persistence.runTransaction("Apply bundle documents","readwrite",v=>oF(v,f,l).next(I=>(f.apply(v),I)).next(I=>o.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>o.Cs.addMatchingKeys(v,u,g.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(v,I.Wi,I.zi)).next(()=>I.Wi)))}),fN.apply(this,arguments)}function t2(n,e){return pN.apply(this,arguments)}function pN(){return pN=(0,Pe.Z)(function*(n,e,t=ln()){const r=yield hv(n,ls(ov(e.bundledQuery))),o=ut(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const l=Ni(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.Ns.saveNamedQuery(u,e);const f=r.withResumeToken(Kr.EMPTY_BYTE_STRING,l);return o.Ui=o.Ui.insert(f.targetId,f),o.Cs.updateTargetData(u,f).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),pN.apply(this,arguments)}function lF(n,e){return`firestore_clients_${n}_${e}`}function dF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function gN(n,e){return`firestore_targets_${n}_${e}`}class HS{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(u=new We(o.error.code,o.error.message))),l?new HS(e,t,o.state,u):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class S0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new We(r.error.code,r.error.message))),u?new S0(e,r.state,o):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ZS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Wy();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=_O(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return o?new ZS(e,u):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mN(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yN{constructor(){this.activeTargetIds=Wy()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vN{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Nr(nn),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=lF(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new yN),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(lF(e.persistenceKey,o));if(u){const l=ZS.Zi(o,u);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(gN(this.persistenceKey,e));if(r){const o=S0.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gN(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qe("SharedClientState","READ",e,t),t}setItem(e,t){Qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Qe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let l=zi.at;if(null!=u)try{const f=JSON.parse(u);qt("number"==typeof f),l=f}catch(f){dr("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);o!==zi.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Mr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new HS(this.currentUser,e,t,r),u=dF(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=dF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=gN(this.persistenceKey,e),u=new S0(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return ZS.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return HS.Zi(new Lr(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return S0.Zi(o,t)}yr(e){return mN.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),l=[],f=[];return u.forEach(g=>{o.has(g)||l.push(g)}),o.forEach(g=>{u.has(g)||f.push(g)}),this.syncEngine.Br(l,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Wy();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class hF{constructor(){this.Lr=new yN,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new yN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class n2{qr(e){}shutdown(){}}class fF{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const r2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class i2{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class s2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,u){const l=this.ao(e,t);Qe("RestConnection","Sending: ",l,r);const f={};return this.ho(f,o,u),this.lo(e,l,f,r).then(g=>(Qe("RestConnection","Received: ",g),g),g=>{throw ju("RestConnection",`${e} failed with error: `,g,"url: ",l,"request:",r),g})}fo(e,t,r,o,u,l){return this.co(e,t,r,o,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ao(e,t){return`${this.oo}/v1/${t}:${r2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){return new Promise((u,l)=>{const f=new PC;f.listenOnce(aO.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case hp.NO_ERROR:const v=f.getResponseJson();Qe("Connection","XHR received:",JSON.stringify(v)),u(v);break;case hp.TIMEOUT:Qe("Connection",'RPC "'+e+'" timed out'),l(new We(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const I=f.getStatus();if(Qe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const C=f.getResponseJson().error;if(C&&C.status&&C.message){const D=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(N)>=0?N:Ae.UNKNOWN}(C.status);l(new We(D,C.message))}else l(new We(Ae.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new We(Ae.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Qe("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(o);f.send(t,"POST",g,r,15)})}_o(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dp(),l=oO(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new uO({})),this.ho(f.initMessageHeaders,t,r),(0,Kt.uI)()||(0,Kt.b$)()||(0,Kt.d)()||(0,Kt.w1)()||(0,Kt.Mn)()||(0,Kt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=o.join("");Qe("Connection","Creating WebChannel: "+g,f);const v=u.createWebChannel(g,f);let I=!1,C=!1;const D=new i2({Hr:N=>{C?Qe("Connection","Not sending because WebChannel is closed:",N):(I||(Qe("Connection","Opening WebChannel transport."),v.open(),I=!0),Qe("Connection","WebChannel sending:",N),v.send(N))},Jr:()=>v.close()}),x=(N,H,X)=>{N.listen(H,ve=>{try{X(ve)}catch(Le){setTimeout(()=>{throw Le},0)}})};return x(v,$d.EventType.OPEN,()=>{C||Qe("Connection","WebChannel transport opened.")}),x(v,$d.EventType.CLOSE,()=>{C||(C=!0,Qe("Connection","WebChannel transport closed"),D.io())}),x(v,$d.EventType.ERROR,N=>{C||(C=!0,ju("Connection","WebChannel transport errored:",N),D.io(new We(Ae.UNAVAILABLE,"The operation could not be completed")))}),x(v,$d.EventType.MESSAGE,N=>{var H;if(!C){const X=N.data[0];qt(!!X);const ve=X,Le=ve.error||(null===(H=ve[0])||void 0===H?void 0:H.error);if(Le){Qe("Connection","WebChannel received error:",Le);const xe=Le.status;let je=function(Xe){const at=si[Xe];if(void 0!==at)return gS(at)}(xe),Je=Le.message;void 0===je&&(je=Ae.INTERNAL,Je="Unknown error status: "+xe+" with message "+Le.message),C=!0,D.io(new We(je,Je)),v.close()}else Qe("Connection","WebChannel received:",X),D.ro(X)}}),x(l,OC.STAT_EVENT,N=>{N.stat===NC.PROXY?Qe("Connection","Detected buffering proxy"):N.stat===NC.NOPROXY&&Qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{D.so()},0),D}}function pF(){return"undefined"!=typeof window?window:null}function GS(){return"undefined"!=typeof document?document:null}function D0(n){return new Gk(n,!0)}class _N{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=o,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&Qe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class gF{constructor(e,t,r,o,u,l,f,g){this.Hs=e,this.Po=r,this.vo=o,this.Vo=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new _N(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Pe.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Pe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Pe.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===Ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new We(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Pe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o2 extends gF{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:yt(),o=e.targetChange.targetIds||[],u=function(g,v){return g.gt?(qt(void 0===v||"string"==typeof v),Kr.fromBase64String(v||"")):(qt(void 0===v||v instanceof Uint8Array),Kr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(g){const v=void 0===g.code?Ae.UNKNOWN:gS(g.code);return new We(v,g.message||"")}(l);t=new vS(r,o,u,f||null)}else if("documentChange"in e){const r=e.documentChange,o=ua(n,r.document.name),u=Ni(r.document.updateTime),l=new vi({mapValue:{fields:r.document.fields}}),f=zn.newFoundDocument(o,u,l);t=new Ky(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,o=ua(n,r.document),u=r.readTime?Ni(r.readTime):Zt.min(),l=zn.newNoDocument(o,u);t=new Ky([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=ua(n,r.document);t=new Ky([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return yt();{const r=e.filter,u=new Zk(r.count||0);t=new yS(r.targetId,u)}}var g;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return Zt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Zt.min():u.readTime?Ni(u.readTime):Zt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Pp(this.It),t.addTarget=function(o,u){let l;const f=u.target;return l=Ep(f)?{documents:Yy(o,f)}:{query:Jy(o,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=jO(o,u.resumeToken):u.snapshotVersion.compareTo(Zt.min())>0&&(l.readTime=Rp(o,u.snapshotVersion.toTimestamp())),l}(this.It,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Pp(this.It),t.removeTarget=e,this.Bo(t)}}class a2 extends gF{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function(n,e){return n&&n.length>0?(qt(void 0!==e),n.map(t=>function(r,o){let u=Ni(r.updateTime?r.updateTime:o);return u.isEqual(Zt.min())&&(u=Ni(o)),new gl(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.Zo(r,t)}return qt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Pp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nh(this.It,r))};this.Bo(t)}}class u2 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=o,this.nu=!1}su(){if(this.nu)throw new We(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.Vo.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Ae.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.Vo.fo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new We(Ae.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class c2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(dr(t),this.ou=!1):Qe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class l2{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(f=>{r.enqueueAndForget((0,Pe.Z)(function*(){var g;lh(l)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Pe.Z)(function*(v){const I=ut(v);I._u.add(4),yield pv(I),I.gu.set("Unknown"),I._u.delete(4),yield A0(I)}),function(v){return g.apply(this,arguments)})(l))}))}),this.gu=new c2(r,o)}}function A0(n){return bN.apply(this,arguments)}function bN(){return bN=(0,Pe.Z)(function*(n){if(lh(n))for(const e of n.wu)yield e(!0)}),bN.apply(this,arguments)}function pv(n){return EN.apply(this,arguments)}function EN(){return EN=(0,Pe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),EN.apply(this,arguments)}function zS(n,e){const t=ut(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),TN(t)?IN(t):mv(t).ko()&&wN(t,e))}function x0(n,e){const t=ut(n),r=mv(t);t.du.delete(e),r.ko()&&mF(t,e),0===t.du.size&&(r.ko()?r.Fo():lh(t)&&t.gu.set("Unknown"))}function wN(n,e){n.yu.Ot(e.targetId),mv(n).zo(e)}function mF(n,e){n.yu.Ot(e),mv(n).Ho(e)}function IN(n){n.yu=new UO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),mv(n).start(),n.gu.uu()}function TN(n){return lh(n)&&!mv(n).No()&&n.du.size>0}function lh(n){return 0===ut(n)._u.size}function yF(n){n.yu=void 0}function d2(n){return CN.apply(this,arguments)}function CN(){return CN=(0,Pe.Z)(function*(n){n.du.forEach((e,t)=>{wN(n,e)})}),CN.apply(this,arguments)}function h2(n,e){return SN.apply(this,arguments)}function SN(){return SN=(0,Pe.Z)(function*(n,e){yF(n),TN(n)?(n.gu.hu(e),IN(n)):n.gu.set("Unknown")}),SN.apply(this,arguments)}function f2(n,e,t){return DN.apply(this,arguments)}function DN(){return DN=(0,Pe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof vS&&2===e.state&&e.cause)try{yield(r=(0,Pe.Z)(function*(o,u){const l=u.cause;for(const f of u.targetIds)o.du.has(f)&&(yield o.remoteSyncer.rejectListen(f,l),o.du.delete(f),o.yu.removeTarget(f))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield WS(n,r)}else if(e instanceof Ky?n.yu.Gt(e):e instanceof yS?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Zt.min()))try{const r=yield sF(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.yu.te(u);return l.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.du.get(g);v&&o.du.set(g,v.withResumeToken(f.resumeToken,u))}}),l.targetMismatches.forEach(f=>{const g=o.du.get(f);if(!g)return;o.du.set(f,g.withResumeToken(Kr.EMPTY_BYTE_STRING,g.snapshotVersion)),mF(o,f);const v=new co(g.target,f,1,g.sequenceNumber);wN(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Qe("RemoteStore","Failed to raise snapshot:",r),yield WS(n,r)}var r}),DN.apply(this,arguments)}function WS(n,e,t){return AN.apply(this,arguments)}function AN(){return AN=(0,Pe.Z)(function*(n,e,t){if(!nl(e))throw e;n._u.add(1),yield pv(n),n.gu.set("Offline"),t||(t=()=>sF(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield A0(n)}))}),AN.apply(this,arguments)}function vF(n,e){return e().catch(t=>WS(n,t,e))}function gv(n){return xN.apply(this,arguments)}function xN(){return xN=(0,Pe.Z)(function*(n){const e=ut(n),t=dh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;p2(e);)try{const o=yield XU(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,g2(e,o)}catch(o){yield WS(e,o)}_F(e)&&bF(e)}),xN.apply(this,arguments)}function p2(n){return lh(n)&&n.fu.length<10}function g2(n,e){n.fu.push(e);const t=dh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function _F(n){return lh(n)&&!dh(n).No()&&n.fu.length>0}function bF(n){dh(n).start()}function m2(n){return RN.apply(this,arguments)}function RN(){return RN=(0,Pe.Z)(function*(n){dh(n).eu()}),RN.apply(this,arguments)}function y2(n){return ON.apply(this,arguments)}function ON(){return ON=(0,Pe.Z)(function*(n){const e=dh(n);for(const t of n.fu)e.Xo(t.mutations)}),ON.apply(this,arguments)}function v2(n,e,t){return NN.apply(this,arguments)}function NN(){return NN=(0,Pe.Z)(function*(n,e,t){const r=n.fu.shift(),o=E0.from(r,e,t);yield vF(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield gv(n)}),NN.apply(this,arguments)}function _2(n,e){return PN.apply(this,arguments)}function PN(){return PN=(0,Pe.Z)(function*(n,e){var t;e&&dh(n).Yo&&(yield(t=(0,Pe.Z)(function*(r,o){if(pS(u=o.code)&&u!==Ae.ABORTED){const l=r.fu.shift();dh(r).Oo(),yield vF(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield gv(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),_F(n)&&bF(n)}),PN.apply(this,arguments)}function EF(n,e){return MN.apply(this,arguments)}function MN(){return MN=(0,Pe.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const r=lh(t);t._u.add(3),yield pv(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield A0(t)}),MN.apply(this,arguments)}function kN(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,Pe.Z)(function*(n,e){const t=ut(n);e?(t._u.delete(2),yield A0(t)):e||(t._u.add(2),yield pv(t),t.gu.set("Unknown"))}),FN.apply(this,arguments)}function mv(n){return n.pu||(n.pu=function(e,t,r){const o=ut(e);return o.su(),new o2(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:d2.bind(null,n),Zr:h2.bind(null,n),Wo:f2.bind(null,n)}),n.wu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.pu.Oo(),TN(n)?IN(n):n.gu.set("Unknown")):(yield n.pu.stop(),yF(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function dh(n){return n.Iu||(n.Iu=function(e,t,r){const o=ut(e);return o.su(),new a2(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:m2.bind(null,n),Zr:_2.bind(null,n),tu:y2.bind(null,n),Zo:v2.bind(null,n)}),n.wu.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.Iu.Oo(),yield gv(n)):(yield n.Iu.stop(),n.fu.length>0&&(Qe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class LN{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,f=new LN(e,t,l,o,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(n,e){if(dr("AsyncQueue",`${e}: ${n}`),nl(n))return new We(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class vv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ot.comparator(t.key,r.key):(t,r)=>ot.comparator(t.key,r.key),this.keyedMap=Dp(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new vv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class wF{constructor(){this.Tu=new Nr(ot.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):yt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class _v{constructor(e,t,r,o,u,l,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(l=>{u.push({type:0,doc:l})}),new _v(e,t,vv.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class b2{constructor(){this.Au=void 0,this.listeners=[]}}class E2{constructor(){this.queries=new Wu(e=>AO(e),wp),this.onlineState="Unknown",this.Ru=new Set}}function VN(n,e){return UN.apply(this,arguments)}function UN(){return UN=(0,Pe.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new b2),o)try{u.Au=yield t.onListen(r)}catch(l){const f=yv(l,`Initialization of query '${rS(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&qN(t)}),UN.apply(this,arguments)}function jN(n,e){return BN.apply(this,arguments)}function BN(){return BN=(0,Pe.Z)(function*(n,e){const t=ut(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),BN.apply(this,arguments)}function w2(n,e){const t=ut(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const f of l.listeners)f.Pu(o)&&(r=!0);l.Au=o}}r&&qN(t)}function I2(n,e,t){const r=ut(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function qN(n){n.Ru.forEach(e=>{e.next()})}class $N{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new _v(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=_v.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class T2{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class IF{constructor(e){this.It=e}Ji(e){return ua(this.It,e)}Yi(e){return e.metadata.exists?BO(this.It,e.document,!1):zn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ni(e)}}class C2{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TF(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Rn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new IF(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const l of o.metadata.queries){const f=(t.get(l)||ln()).add(u);t.set(l,f)}}return t}complete(){var e=this;return(0,Pe.Z)(function*(){const t=yield function(n,e,t,r){return fN.apply(this,arguments)}(e.localStore,new IF(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const o of e.queries)yield t2(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function TF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class CF{constructor(e){this.key=e}}class SF{constructor(e){this.key=e}}class DF{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=ln(),this.mutatedKeys=ln(),this.Ku=f0(e),this.Gu=new vv(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new wF,o=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,f=!1;const g="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,v="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((I,C)=>{const D=o.get(I),x=iS(this.query,C)?C:null,N=!!D&&this.mutatedKeys.has(D.key),H=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let X=!1;D&&x?D.data.isEqual(x.data)?N!==H&&(r.track({type:3,doc:x}),X=!0):this.zu(D,x)||(r.track({type:2,doc:x}),X=!0,(g&&this.Ku(x,g)>0||v&&this.Ku(x,v)<0)&&(f=!0)):!D&&x?(r.track({type:0,doc:x}),X=!0):D&&!x&&(r.track({type:1,doc:D}),X=!0,(g||v)&&(f=!0)),X&&(x?(l=l.add(x),u=H?u.add(I):u.delete(I)):(l=l.delete(I),u=u.delete(I)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const I="F"===this.query.limitType?l.last():l.first();l=l.delete(I.key),u=u.delete(I.key),r.track({type:1,doc:I})}return{Gu:l,Wu:r,$i:f,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((v,I)=>function(C,D){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return x(C)-x(D)}(v.type,I.type)||this.Ku(v.doc,I.doc)),this.Hu(r);const l=t?this.Ju():[],f=0===this.qu.size&&this.current?1:0,g=f!==this.Uu;return this.Uu=f,0!==u.length||g?{snapshot:new _v(this.query,e.Gu,o,u,e.mutatedKeys,0===f,g,!1),Yu:l}:{Yu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new wF,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ln(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new SF(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new CF(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=ln();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return _v.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class S2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class D2{constructor(e){this.key=e,this.ec=!1}}class A2{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new Wu(f=>AO(f),wp),this.ic=new Map,this.rc=new Set,this.oc=new Nr(ot.comparator),this.uc=new Map,this.cc=new oN,this.ac={},this.hc=new Map,this.lc=ee.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function x2(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,Pe.Z)(function*(n,e){const t=p1(n);let r,o;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.tc();else{const l=yield hv(t.localStore,ls(e));t.isPrimaryClient&&zS(t.remoteStore,l);const f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield ZN(t,e,r,"current"===f)}return o}),HN.apply(this,arguments)}function ZN(n,e,t,r){return GN.apply(this,arguments)}function GN(){return GN=(0,Pe.Z)(function*(n,e,t,r){n.dc=(I,C,D)=>{return(x=(0,Pe.Z)(function*(N,H,X,ve){let Le=H.view.ju(X);Le.$i&&(Le=yield $S(N.localStore,H.query,!1).then(({documents:Je})=>H.view.ju(Je,Le)));const xe=ve&&ve.targetChanges.get(H.targetId),je=H.view.applyChanges(Le,N.isPrimaryClient,xe);return n1(N,H.targetId,je.Yu),je.snapshot}),function(N,H,X,ve){return x.apply(this,arguments)})(n,I,C,D);var x};const o=yield $S(n.localStore,e,!0),u=new DF(e,o.Hi),l=u.ju(o.documents),f=Ap.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),g=u.applyChanges(l,n.isPrimaryClient,f);n1(n,t,g.Yu);const v=new S2(e,t,u);return n.sc.set(e,v),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),g.snapshot}),GN.apply(this,arguments)}function R2(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,Pe.Z)(function*(n,e){const t=ut(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(u=>!wp(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield fv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),x0(t.remoteStore,r.targetId),bv(t,r.targetId)}).catch(Bu))):(bv(t,r.targetId),yield fv(t.localStore,r.targetId,!0))}),zN.apply(this,arguments)}function WN(){return WN=(0,Pe.Z)(function*(n,e,t){const r=g1(n);try{const o=yield function(u,l){const f=ut(u),g=nr.now(),v=l.reduce((D,x)=>D.add(x.key),ln());let I,C;return f.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=Es(),N=ln();return f.Gi.getEntries(D,v).next(H=>{x=H,x.forEach((X,ve)=>{ve.isValidDocument()||(N=N.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(D,x)).next(H=>{I=H;const X=[];for(const ve of l){const Le=g0(ve,I.get(ve.key).overlayedDocument);null!=Le&&X.push(new zu(ve.key,Le,QC(Le.value.mapValue),rr.exists(!0)))}return f.mutationQueue.addMutationBatch(D,g,X,l)}).next(H=>{C=H;const X=H.applyToLocalDocumentSet(I,N);return f.documentOverlayCache.saveOverlays(D,H.batchId,X)})}).then(()=>({batchId:C.batchId,changes:mS(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,f){let g=u.ac[u.currentUser.toKey()];g||(g=new Nr(nn)),g=g.insert(l,f),u.ac[u.currentUser.toKey()]=g}(r,o.batchId,t),yield Il(r,o.changes),yield gv(r.remoteStore)}catch(o){const u=yv(o,"Failed to persist write");t.reject(u)}}),WN.apply(this,arguments)}function AF(n,e){return KN.apply(this,arguments)}function KN(){return KN=(0,Pe.Z)(function*(n,e){const t=ut(n);try{const r=yield JU(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.uc.get(u);l&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.ec=!0:o.modifiedDocuments.size>0?qt(l.ec):o.removedDocuments.size>0&&(qt(l.ec),l.ec=!1))}),yield Il(t,r,e)}catch(r){yield Bu(r)}}),KN.apply(this,arguments)}function xF(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((u,l)=>{const f=l.view.bu(e);f.snapshot&&o.push(f.snapshot)}),function(u,l){const f=ut(u);f.onlineState=l;let g=!1;f.queries.forEach((v,I)=>{for(const C of I.listeners)C.bu(l)&&(g=!0)}),g&&qN(f)}(r.eventManager,e),o.length&&r.nc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function N2(n,e,t){return QN.apply(this,arguments)}function QN(){return QN=(0,Pe.Z)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),u=o&&o.key;if(u){let l=new Nr(ot.comparator);l=l.insert(u,zn.newNoDocument(u,Zt.min()));const f=ln().add(u),g=new ds(Zt.min(),new Map,new Bn(nn),l,f);yield AF(r,g),r.oc=r.oc.remove(u),r.uc.delete(e),r1(r)}else yield fv(r.localStore,e,!1).then(()=>bv(r,e,t)).catch(Bu)}),QN.apply(this,arguments)}function P2(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,Pe.Z)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const o=yield YU(t.localStore,e);t1(t,r,null),e1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Il(t,o)}catch(o){yield Bu(o)}}),YN.apply(this,arguments)}function M2(n,e,t){return JN.apply(this,arguments)}function JN(){return JN=(0,Pe.Z)(function*(n,e,t){const r=ut(n);try{const o=yield function(u,l){const f=ut(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.mutationQueue.lookupMutationBatch(g,l).next(I=>(qt(null!==I),v=I.keys(),f.mutationQueue.removeMutationBatch(g,I))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>f.localDocuments.getDocuments(g,v))})}(r.localStore,e);t1(r,e,t),e1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Il(r,o)}catch(o){yield Bu(o)}}),JN.apply(this,arguments)}function XN(){return XN=(0,Pe.Z)(function*(n,e){const t=ut(n);lh(t.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=ut(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const o=t.hc.get(r)||[];o.push(e),t.hc.set(r,o)}catch(r){const o=yv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),XN.apply(this,arguments)}function e1(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function t1(n,e,t){const r=ut(n);let o=r.ac[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function bv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||RF(n,r)})}function RF(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(x0(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),r1(n))}function n1(n,e,t){for(const r of t)r instanceof CF?(n.cc.addReference(r.key,e),F2(n,r)):r instanceof SF?(Qe("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||RF(n,r.key)):yt()}function F2(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Qe("SyncEngine","New document in limbo: "+t),n.rc.add(r),r1(n))}function r1(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new ot(Rn.fromString(e)),r=n.lc.next();n.uc.set(r,new D2(t)),n.oc=n.oc.insert(t,r),zS(n.remoteStore,new co(ls(fl(t.path)),r,2,zi.at))}}function Il(n,e,t){return s1.apply(this,arguments)}function s1(){return s1=(0,Pe.Z)(function*(n,e,t){const r=ut(n),o=[],u=[],l=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,g)=>{l.push(r.dc(g,e,t).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v.fromCache?"not-current":"current"),o.push(v);const I=lN.Ci(g.targetId,v);u.push(I)}}))}),yield Promise.all(l),r.nc.Wo(o),yield(f=(0,Pe.Z)(function*(g,v){const I=ut(g);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>Ie.forEach(v,D=>Ie.forEach(D.Si,x=>I.persistence.referenceDelegate.addReference(C,D.targetId,x)).next(()=>Ie.forEach(D.Di,x=>I.persistence.referenceDelegate.removeReference(C,D.targetId,x)))))}catch(C){if(!nl(C))throw C;Qe("LocalStore","Failed to update sequence numbers: "+C)}for(const C of v){const D=C.targetId;if(!C.fromCache){const x=I.Ui.get(D),H=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);I.Ui=I.Ui.insert(D,H)}}}),function(g,v){return f.apply(this,arguments)})(r.localStore,u))}),s1.apply(this,arguments)}function L2(n,e){return o1.apply(this,arguments)}function o1(){return o1=(0,Pe.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const r=yield iF(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(l=>{l.forEach(f=>{f.reject(new We(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Il(t,r.ji)}var o}),o1.apply(this,arguments)}function V2(n,e){const t=ut(n),r=t.uc.get(e);if(r&&r.ec)return ln().add(r.key);{let o=ln();const u=t.ic.get(e);if(!u)return o;for(const l of u){const f=t.sc.get(l);o=o.unionWith(f.view.Qu)}return o}}function U2(n,e){return a1.apply(this,arguments)}function a1(){return a1=(0,Pe.Z)(function*(n,e){const t=ut(n),r=yield $S(t.localStore,e.query,!0),o=e.view.Zu(r);return t.isPrimaryClient&&n1(t,e.targetId,o.Yu),o}),a1.apply(this,arguments)}function j2(n,e){return u1.apply(this,arguments)}function u1(){return u1=(0,Pe.Z)(function*(n,e){const t=ut(n);return uF(t.localStore,e).then(r=>Il(t,r))}),u1.apply(this,arguments)}function B2(n,e,t,r){return c1.apply(this,arguments)}function c1(){return c1=(0,Pe.Z)(function*(n,e,t,r){const o=ut(n),u=yield function(l,f){const g=ut(l),v=ut(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",I=>v.Tn(I,f).next(C=>C?g.localDocuments.getDocuments(I,C):Ie.resolve(null)))}(o.localStore,e);var f;null!==u?("pending"===t?yield gv(o.remoteStore):"acknowledged"===t||"rejected"===t?(t1(o,e,r||null),e1(o,e),f=e,ut(ut(o.localStore).mutationQueue).An(f)):yt(),yield Il(o,u)):Qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),c1.apply(this,arguments)}function l1(){return l1=(0,Pe.Z)(function*(n,e){const t=ut(n);if(p1(t),g1(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield OF(t,r.toArray());t.fc=!0,yield kN(t.remoteStore,!0);for(const u of o)zS(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let o=Promise.resolve();t.ic.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(bv(t,l),fv(t.localStore,l,!0))),x0(t.remoteStore,l)}),yield o,yield OF(t,r),function(u){const l=ut(u);l.uc.forEach((f,g)=>{x0(l.remoteStore,g)}),l.cc.fs(),l.uc=new Map,l.oc=new Nr(ot.comparator)}(t),t.fc=!1,yield kN(t.remoteStore,!1)}}),l1.apply(this,arguments)}function OF(n,e,t){return d1.apply(this,arguments)}function d1(){return d1=(0,Pe.Z)(function*(n,e,t){const r=ut(n),o=[],u=[];for(const l of e){let f;const g=r.ic.get(l);if(g&&0!==g.length){f=yield hv(r.localStore,ls(g[0]));for(const v of g){const I=r.sc.get(v),C=yield U2(r,I);C.snapshot&&u.push(C.snapshot)}}else{const v=yield aF(r.localStore,l);f=yield hv(r.localStore,v),yield ZN(r,NF(v),l,!1)}o.push(f)}return r.nc.Wo(u),o}),d1.apply(this,arguments)}function NF(n){return l0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $2(n){const e=ut(n);return ut(ut(e.localStore).persistence).vi()}function H2(n,e,t,r){return h1.apply(this,arguments)}function h1(){return h1=(0,Pe.Z)(function*(n,e,t,r){const o=ut(n);if(o.fc)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const u=o.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield uF(o.localStore,h0(u[0])),f=ds.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Il(o,l,f);break}case"rejected":yield fv(o.localStore,e,!0),bv(o,e,r);break;default:yt()}}),h1.apply(this,arguments)}function Z2(n,e,t){return f1.apply(this,arguments)}function f1(){return f1=(0,Pe.Z)(function*(n,e,t){const r=p1(n);if(r.fc){for(const o of e){if(r.ic.has(o)){Qe("SyncEngine","Adding an already active target "+o);continue}const u=yield aF(r.localStore,o),l=yield hv(r.localStore,u);yield ZN(r,NF(u),l.targetId,!1),zS(r.remoteStore,l)}for(const o of t)r.ic.has(o)&&(yield fv(r.localStore,o,!1).then(()=>{x0(r.remoteStore,o),bv(r,o)}).catch(Bu))}}),f1.apply(this,arguments)}function p1(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N2.bind(null,e),e.nc.Wo=w2.bind(null,e.eventManager),e.nc._c=I2.bind(null,e.eventManager),e}function g1(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class PF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.It=D0(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return rF(this.persistence,new nF,e.initialUser,this.It)}gc(e){return new eF(BS.Bs,this.It)}mc(e){return new hF}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MF extends PF{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Pe.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield g1(r.Ec.syncEngine),yield gv(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return rF(this.persistence,new nF,e.initialUser,this.It)}Ic(e,t){return new En(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new vO(t,this.persistence);return new Lk(e.asyncQueue,r)}gc(e){const t=cN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?m.withCacheSize(this.cacheSizeBytes):m.DEFAULT;return new uN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pF(),GS(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new hF}}class z2 extends MF{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Pe.Z)(function*(){yield t().call(r,e);const o=r.Ec.syncEngine;r.sharedClientState instanceof vN&&(r.sharedClientState.syncEngine={Fr:B2.bind(null,o),$r:H2.bind(null,o),Br:Z2.bind(null,o),vi:$2.bind(null,o),Or:j2.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Pe.Z)(function*(l){yield function(n,e){return l1.apply(this,arguments)}(r.Ec.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}mc(e){const t=pF();if(!vN.C(t))throw new We(Ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class m1{initialize(e,t){var r=this;return(0,Pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>xF(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=L2.bind(null,r.syncEngine),yield kN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new E2}createDatastore(e){const t=D0(e.databaseInfo.databaseId),r=new s2(e.databaseInfo);return new u2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=f=>xF(this.syncEngine,f,0),l=fF.C()?new fF:new n2,new l2(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,f,g,v){const I=new A2(r,o,u,l,f,g);return v&&(I.fc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(t){const r=ut(t);Qe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield pv(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kF(n,e=10240){let t=0;return{read:()=>(0,Pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class KS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class W2{constructor(e,t){this.bc=e,this.It=t,this.metadata=new ii,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),o=Number(r);isNaN(o)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(o);return new T2(JSON.parse(u),t.length+o)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Pe.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,Pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class K2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new We(Ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Pe.Z)(function*(u,l){const f=ut(u),g=Pp(f.It)+"/documents",v={documents:l.map(x=>Np(f.It,x))},I=yield f.fo("BatchGetDocuments",g,v,l.length),C=new Map;I.forEach(x=>{const N=function(n,e){return"found"in e?function(t,r){qt(!!r.found);const o=ua(t,r.found.name),u=Ni(r.found.updateTime),l=new vi({mapValue:{fields:r.found.fields}});return zn.newFoundDocument(o,u,l)}(n,e):"missing"in e?function(t,r){qt(!!r.missing),qt(!!r.readTime);const o=ua(t,r.missing),u=Ni(r.readTime);return zn.newNoDocument(o,u)}(n,e):yt()}(f.It,x);C.set(N.key.toString(),N)});const D=[];return l.forEach(x=>{const N=C.get(x.toString());qt(!!N),D.push(N)}),D}),function(u,l){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new za(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=ot.fromPath(o);e.mutations.push(new y0(u,e.precondition(u)))}),yield(r=(0,Pe.Z)(function*(o,u){const l=ut(o),f=Pp(l.It)+"/documents",g={writes:u.map(v=>nh(l.It,v))};yield l.co("Commit",f,g)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yt();t=Zt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new We(Ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zt.min())?rr.exists(!1):rr.updateTime(t):rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zt.min()))throw new We(Ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(t)}return rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Q2{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new _N(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Pe.Z)(function*(){const t=new K2(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Oc(u)}))}).catch(o=>{e.Oc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!al(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!pS(t)}return!1}}class Y2{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Lr.UNAUTHENTICATED,this.clientId=XE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Pe.Z)(function*(f){Qe("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Qe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=yv(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function FF(n,e){return y1.apply(this,arguments)}function y1(){return y1=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Pe.Z)(function*(u){r.isEqual(u)||(yield iF(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),y1.apply(this,arguments)}function LF(n,e){return v1.apply(this,arguments)}function v1(){return v1=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _1(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>EF(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>EF(e.remoteStore,u)),n.onlineComponents=e}),v1.apply(this,arguments)}function _1(n){return b1.apply(this,arguments)}function b1(){return b1=(0,Pe.Z)(function*(n){return n.offlineComponents||(Qe("FirestoreClient","Using default OfflineComponentProvider"),yield FF(n,new PF)),n.offlineComponents}),b1.apply(this,arguments)}function QS(n){return E1.apply(this,arguments)}function E1(){return E1=(0,Pe.Z)(function*(n){return n.onlineComponents||(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield LF(n,new m1)),n.onlineComponents}),E1.apply(this,arguments)}function VF(n){return _1(n).then(e=>e.persistence)}function YS(n){return _1(n).then(e=>e.localStore)}function UF(n){return QS(n).then(e=>e.remoteStore)}function w1(n){return QS(n).then(e=>e.syncEngine)}function Ev(n){return I1.apply(this,arguments)}function I1(){return I1=(0,Pe.Z)(function*(n){const e=yield QS(n),t=e.eventManager;return t.onListen=x2.bind(null,e.syncEngine),t.onUnlisten=R2.bind(null,e.syncEngine),t}),I1.apply(this,arguments)}function jF(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(o,u,l,f,g){const v=new KS({next:C=>{u.enqueueAndForget(()=>jN(o,I));const D=C.docs.has(l);!D&&C.fromCache?g.reject(new We(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&C.fromCache&&f&&"server"===f.source?g.reject(new We(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),I=new $N(fl(l.path),v,{includeMetadataChanges:!0,Nu:!0});return VN(o,I)}(yield Ev(n),n.asyncQueue,e,t,r)})),r.promise}function BF(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(o,u,l,f,g){const v=new KS({next:C=>{u.enqueueAndForget(()=>jN(o,I)),C.fromCache&&"server"===f.source?g.reject(new We(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),I=new $N(l,v,{includeMetadataChanges:!0,Nu:!0});return VN(o,I)}(yield Ev(n),n.asyncQueue,e,t,r)})),r.promise}const qF=new Map;function T1(n,e,t){if(!t)throw new We(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $F(n,e,t,r){if(!0===e&&!0===r)throw new We(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HF(n){if(!ot.isDocumentKey(n))throw new We(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZF(n){if(ot.isDocumentKey(n))throw new We(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yt()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new We(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JS(n);throw new We(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GF(n,e){if(e<=0)throw new We(Ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class zF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new We(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new We(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$F("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new We(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kC;switch(t.type){case"gapi":return new LC(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new We(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qF.get(e);t&&(Qe("ComponentProvider","Removing Datastore"),qF.delete(e),t.terminate())}(this),Promise.resolve()}}class br{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}}class Is{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class Xu extends Is{constructor(e,t,r){super(e,t,fl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new ot(e))}withConverter(e){return new Xu(this.firestore,e,this._path)}}function WF(n,e,...t){if(n=(0,Kt.m9)(n),T1("collection","path",e),n instanceof R0){const r=Rn.fromString(e,...t);return ZF(r),new Xu(n,null,r)}{if(!(n instanceof br||n instanceof Xu))throw new We(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(e,...t));return ZF(r),new Xu(n.firestore,null,r)}}function XS(n,e,...t){if(n=(0,Kt.m9)(n),1===arguments.length&&(e=XE.R()),T1("doc","path",e),n instanceof R0){const r=Rn.fromString(e,...t);return HF(r),new br(n,null,new ot(r))}{if(!(n instanceof br||n instanceof Xu))throw new We(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rn.fromString(e,...t));return HF(r),new br(n.firestore,n instanceof Xu?n.converter:null,new ot(r))}}function KF(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),(n instanceof br||n instanceof Xu)&&(e instanceof br||e instanceof Xu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function QF(n,e){return n=(0,Kt.m9)(n),e=(0,Kt.m9)(e),n instanceof Is&&e instanceof Is&&n.firestore===e.firestore&&wp(n._query,e._query)&&n.converter===e.converter}class uj{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new _N(this,"async_queue_retry"),this.jc=()=>{const t=GS();t&&Qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=GS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=GS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new ii;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!nl(t))throw t;Qe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,dr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const o=LN.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(o),o}Wc(){this.qc&&yt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function C1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class cj{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pr extends R0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new uj,this._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YF(this),this._firestoreClient.terminate()}}function bi(n){return n._firestoreClient||YF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YF(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Uk(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new Y2(n._authCredentials,n._appCheckCredentials,n._queue,r)}function JF(n,e,t){const r=new ii;return n.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield FF(n,t),yield LF(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(l=u).name?l.code===Ae.FAILED_PRECONDITION||l.code===Ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw u;ju("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var l})).then(()=>r.promise)}function XF(n){if(n._initialized||n._terminated)throw new We(Ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new We(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(Kr.fromBase64String(e))}catch(t){throw new We(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ec(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bp{constructor(e){this._methodName=e}}class eD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new We(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new We(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nn(this._lat,e._lat)||nn(this._long,e._long)}}const _j=/^__.*__$/;class bj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new _r(e,this.data,t,this.fieldTransforms)}}class eL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class tD{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new tD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.oa(e),o}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.ea(),o}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return iD(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(tL(this.na)&&_j.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Ej{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||D0(e)}fa(e,t,r,o=!1){return new tD({na:e,methodName:t,la:r,path:Vr.emptyPath(),ra:!1,ha:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function qp(n){const e=n._freezeSettings(),t=D0(n._databaseId);return new Ej(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nD(n,e,t,r,o,u={}){const l=n.fa(u.merge||u.mergeFields?2:0,e,t,o);x1("Data must be an object, but it was:",l,r);const f=iL(r,l);let g,v;if(u.merge)g=new bs(l.fieldMask),v=l.fieldTransforms;else if(u.mergeFields){const I=[];for(const C of u.mergeFields){const D=R1(e,C,t);if(!l.contains(D))throw new We(Ae.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);oL(I,D)||I.push(D)}g=new bs(I),v=l.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,v=l.fieldTransforms;return new bj(new vi(f),g,v)}class O0 extends Bp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O0}}function nL(n,e,t){return new tD({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class S1 extends Bp{_toFieldTransform(e){return new Cp(e.path,new Zu)}isEqual(e){return e instanceof S1}}class wj extends Bp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=nL(this,e,!0),r=this.da.map(u=>$p(u,t)),o=new hr(r);return new Cp(e.path,o)}isEqual(e){return this===e}}class Ij extends Bp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=nL(this,e,!0),r=this.da.map(u=>$p(u,t)),o=new Gu(r);return new Cp(e.path,o)}isEqual(e){return this===e}}class Tj extends Bp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Xd(e.It,aS(e.It,this._a));return new Cp(e.path,t)}isEqual(e){return this===e}}function D1(n,e,t,r){const o=n.fa(1,e,t);x1("Data must be an object, but it was:",o,r);const u=[],l=vi.empty();qu(r,(g,v)=>{const I=rD(e,g,t);v=(0,Kt.m9)(v);const C=o.ua(I);if(v instanceof O0)u.push(I);else{const D=$p(v,C);null!=D&&(u.push(I),l.set(I,D))}});const f=new bs(u);return new eL(l,f,o.fieldTransforms)}function A1(n,e,t,r,o,u){const l=n.fa(1,e,t),f=[R1(e,r,t)],g=[o];if(u.length%2!=0)throw new We(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)f.push(R1(e,u[D])),g.push(u[D+1]);const v=[],I=vi.empty();for(let D=f.length-1;D>=0;--D)if(!oL(v,f[D])){const x=f[D];let N=g[D];N=(0,Kt.m9)(N);const H=l.ua(x);if(N instanceof O0)v.push(x);else{const X=$p(N,H);null!=X&&(v.push(x),I.set(x,X))}}const C=new bs(v);return new eL(I,C,l.fieldTransforms)}function rL(n,e,t,r=!1){return $p(t,n.fa(r?4:3,e))}function $p(n,e){if(sL(n=(0,Kt.m9)(n)))return x1("Unsupported field value:",e,n),iL(n,e);if(n instanceof Bp)return function(t,r){if(!tL(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let f=$p(l,r.ca(u));null==f&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return aS(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=nr.fromDate(t);return{timestampValue:Rp(r.It,o)}}if(t instanceof nr){const o=new nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rp(r.It,o)}}if(t instanceof eD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ec)return{bytesValue:jO(r.It,t._byteString)};if(t instanceof br){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Op(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${JS(t)}`)}(n,e)}function iL(n,e){const t={};return zC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qu(n,(r,o)=>{const u=$p(o,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function sL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof eD||n instanceof ec||n instanceof br||n instanceof Bp)}function x1(n,e,t){if(!sL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=JS(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function R1(n,e,t){if((e=(0,Kt.m9)(e))instanceof Tl)return e._internalPath;if("string"==typeof e)return rD(n,e);throw iD("Field path arguments must be of type string or ",n,!1,void 0,t)}const Cj=new RegExp("[~\\*/\\[\\]]");function rD(n,e,t){if(e.search(Cj)>=0)throw iD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tl(...e.split("."))._internalPath}catch(r){throw iD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iD(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||l)&&(g+=" (found",u&&(g+=` in field ${r}`),l&&(g+=` in document ${o}`),g+=")"),new We(Ae.INVALID_ARGUMENT,f+n+g)}function oL(n,e){return n.some(t=>t.isEqual(e))}class N0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sj extends N0{data(){return super.data()}}function sD(n,e){return"string"==typeof e?rD(n,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}class Hp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends N0{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new P0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class P0 extends Cl{data(e={}){return super.data(e)}}class hh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Hp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new P0(this._firestore,this._userDataWriter,r.key,r,new Hp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new We(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new P0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const f=new P0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return 0!==l.type&&(g=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),v=u.indexOf(l.doc.key)),{type:Dj(l.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Dj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function aL(n,e){return n instanceof Cl&&e instanceof Cl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hh&&e instanceof hh&&n._firestore===e._firestore&&QF(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function uL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new We(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M0{}function fh(n,...e){for(const t of e)n=t._apply(n);return n}class Aj extends M0{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=qp(e.firestore),r=function(o,u,l,f,g,v,I){let C;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new We(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){pL(I,v);const x=[];for(const N of I)x.push(fL(f,o,N));C={arrayValue:{values:x}}}else C=fL(f,o,I)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||pL(I,v),C=rL(l,"where",I,"in"===v||"not-in"===v);const D=Oi.create(g,v,C);return function(x,N){if(N.dt()){const X=Hy(x);if(null!==X&&!X.isEqual(N.field))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${X.toString()}' and '${N.field.toString()}'`);const ve=d0(x);null!==ve&&gL(0,N.field,ve)}const H=function(X,ve){for(const Le of X.filters)if(ve.indexOf(Le.op)>=0)return Le.op;return null}(x,function(X){switch(X){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(null!==H)throw new We(Ae.INVALID_ARGUMENT,H===N.op?`Invalid query. You cannot use more than one '${N.op.toString()}' filter.`:`Invalid query. You cannot use '${N.op.toString()}' filters with '${H.toString()}' filters.`)}(o,D),D}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Is(e.firestore,e.converter,function(o,u){const l=o.filters.concat([u]);return new $u(o.path,o.collectionGroup,o.explicitOrderBy.slice(),l,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Rj extends M0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new We(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new We(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Jd(o,u);return function(f,g){if(null===d0(f)){const v=Hy(f);null!==v&&gL(0,v,g.field)}}(r,l),l}(e._query,this.wa,this.ya);return new Is(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new $u(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class cL extends M0{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Is(e.firestore,e.converter,Zy(e._query,this.pa,this.Ia))}}class lL extends M0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=hL(e,this.type,this.Ta,this.Ea);return new Is(e.firestore,e.converter,(o=t,new $u((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class dL extends M0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=hL(e,this.type,this.Ta,this.Ea);return new Is(e.firestore,e.converter,(o=t,new $u((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function hL(n,e,t,r){if(t[0]=(0,Kt.m9)(t[0]),t[0]instanceof N0)return function(o,u,l,f,g){if(!f)throw new We(Ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const I of Hu(o))if(I.field.isKeyField())v.push(dl(u,f.key));else{const C=f.data.field(I.field);if(WC(C))throw new We(Ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const D=I.field.canonicalString();throw new We(Ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}v.push(C)}return new Ga(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=qp(n.firestore);return function(u,l,f,g,v,I){const C=u.explicitOrderBy;if(v.length>C.length)throw new We(Ae.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let x=0;x<v.length;x++){const N=v[x];if(C[x].field.isKeyField()){if("string"!=typeof N)throw new We(Ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof N}`);if(!pl(u)&&-1!==N.indexOf("/"))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${N}' contains a slash.`);const H=u.path.child(Rn.fromString(N));if(!ot.isDocumentKey(H))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const X=new ot(H);D.push(dl(l,X))}else{const H=rL(f,g,N);D.push(H)}}return new Ga(D,I)}(n._query,n.firestore._databaseId,o,e,t,r)}}function fL(n,e,t){if("string"==typeof(t=(0,Kt.m9)(t))){if(""===t)throw new We(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pl(e)&&-1!==t.indexOf("/"))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Rn.fromString(t));if(!ot.isDocumentKey(r))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dl(n,new ot(r))}if(t instanceof br)return dl(n,t._key);throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${JS(t)}.`)}function pL(n,e){if(!Array.isArray(n)||0===n.length)throw new We(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new We(Ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gL(n,e,t){if(!t.isEqual(e))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Vj={maxAttempts:5};class O1{convertValue(e,t="none"){switch(Wd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yt()}}convertObject(e,t){const r={};return qu(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new eD(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mp(e));default:return null}}convertTimestamp(e){const t=il(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rn.fromString(e);qt(OS(r));const o=new ol(r.get(1),r.get(3)),u=new ot(r.popFirst(5));return o.isEqual(t)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function oD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Uj extends O1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,t)}}class mL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qp(e)}set(e,t,r){this._verifyNotCommitted();const o=ph(e,this._firestore),u=oD(o.converter,t,r),l=nD(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,rr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=ph(e,this._firestore);let l;return l="string"==typeof(t=(0,Kt.m9)(t))||t instanceof Tl?A1(this._dataReader,"WriteBatch.update",u._key,t,r,o):D1(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ph(e,this._firestore);return this._mutations=this._mutations.concat(new za(t._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ph(n,e){if((n=(0,Kt.m9)(n)).firestore!==e)throw new We(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Zp extends O1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,t)}}function yL(n,e,t){n=Nn(n,br);const r=Nn(n.firestore,Pr),o=oD(n.converter,e,t);return wv(r,[nD(qp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,rr.none())])}function vL(n,e,t,...r){n=Nn(n,br);const o=Nn(n.firestore,Pr),u=qp(o);let l;return l="string"==typeof(e=(0,Kt.m9)(e))||e instanceof Tl?A1(u,"updateDoc",n._key,e,t,r):D1(u,"updateDoc",n._key,e),wv(o,[l.toMutation(n._key,rr.exists(!0))])}function _L(n,...e){var t,r,o;n=(0,Kt.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||C1(e[l])||(u=e[l],l++);const f={includeMetadataChanges:u.includeMetadataChanges};if(C1(e[l])){const C=e[l];e[l]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[l+1]=null===(r=C.error)||void 0===r?void 0:r.bind(C),e[l+2]=null===(o=C.complete)||void 0===o?void 0:o.bind(C)}let g,v,I;if(n instanceof br)v=Nn(n.firestore,Pr),I=fl(n._key.path),g={next:C=>{e[l]&&e[l](N1(v,n,C))},error:e[l+1],complete:e[l+2]};else{const C=Nn(n,Is);v=Nn(C.firestore,Pr),I=C._query;const D=new Zp(v);g={next:x=>{e[l]&&e[l](new hh(v,D,C,x))},error:e[l+1],complete:e[l+2]},uL(n._query)}return function(C,D,x,N){const H=new KS(N),X=new $N(D,H,x);return C.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return VN(yield Ev(C),X)})),()=>{H.Rc(),C.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return jN(yield Ev(C),X)}))}}(bi(v),I,f,g)}function wv(n,e){return function(t,r){const o=new ii;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(n,e,t){return WN.apply(this,arguments)}(yield w1(t),r,o)})),o.promise}(bi(n),e)}function N1(n,e,t){const r=t.docs.get(e._key),o=new Zp(n);return new Cl(n,o,e._key,r,new Hp(t.hasPendingWrites,t.fromCache),e.converter)}class Kj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qp(e)}get(e){const t=ph(e,this._firestore),r=new Uj(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return yt();const u=o[0];if(u.isFoundDocument())return new N0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new N0(this._firestore,r,t._key,null,t.converter);throw yt()})}set(e,t,r){const o=ph(e,this._firestore),u=oD(o.converter,t,r),l=nD(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(e,t,r,...o){const u=ph(e,this._firestore);let l;return l="string"==typeof(t=(0,Kt.m9)(t))||t instanceof Tl?A1(this._dataReader,"Transaction.update",u._key,t,r,o):D1(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=ph(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ph(e,this._firestore),r=new Zp(this._firestore);return super.get(e).then(o=>new Cl(this._firestore,r,t._key,o._document,new Hp(!1,!1),t.converter))}}function P1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new We("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function EL(){if("undefined"==typeof Uint8Array)throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function wL(){if("undefined"==typeof atob)throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Uu=Ma.SDK_VERSION,(0,Ma._registerComponent)(new lm.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new Pr(new dO(t.getProvider("auth-internal")),new UC(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new We(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(f.options.projectId,g)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Ma.registerVersion)(YE,"3.4.15",n),(0,Ma.registerVersion)(YE,"3.4.15","esm2017")}();class k0{constructor(e){this._delegate=e}static fromBase64String(e){return wL(),new k0(ec.fromBase64String(e))}static fromUint8Array(e){return EL(),new k0(ec.fromUint8Array(e))}toBase64(){return wL(),this._delegate.toBase64()}toUint8Array(){return EL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function M1(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class sB{enableIndexedDbPersistence(e,t){return function(n,e){XF(n=Nn(n,Pr));const t=bi(n),r=n._freezeSettings(),o=new m1;return JF(t,o,new MF(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){XF(n=Nn(n,Pr));const e=bi(n),t=n._freezeSettings(),r=new m1;return JF(e,r,new z2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new We(Ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(t=(0,Pe.Z)(function*(r){if(!Co.C())return Promise.resolve();const o=r+"main";yield Co.delete(o)}),function(r){return t.apply(this,arguments)})(cN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class IL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ol||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ju("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const u=(n=Nn(n,R0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=Lr.MOCK_USER;else{l=(0,Kt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new We(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Lr(g)}n._authCredentials=new FC(new MC(l,f))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield VF(n),t=yield UF(n);return e.setNetworkEnabled(!0),function(r){const o=ut(r);return o._u.delete(0),A0(o)}(t)}))}(bi(n=Nn(n,Pr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield VF(n),t=yield UF(n);return e.setNetworkEnabled(!1),(r=(0,Pe.Z)(function*(o){const u=ut(o);u._u.add(0),yield pv(u),u.gu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(bi(n=Nn(n,Pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$F("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new ii;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(n,e){return XN.apply(this,arguments)}(yield w1(e),t)})),t.promise}(bi(n=Nn(n,Pr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new KS(e);return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return r=yield Ev(n),o=t,ut(r).Ru.add(o),void o.next();var r,o})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return r=yield Ev(n),o=t,void ut(r).Ru.delete(o);var r,o}))}}(bi(n=Nn(n,Pr)),C1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iv(this,WF(this._delegate,e))}catch(t){throw Us(t,"collection()","Firestore.collection()")}}doc(e){try{return new ca(this,XS(this._delegate,e))}catch(t){throw Us(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new js(this,function(n,e){if(n=Nn(n,R0),T1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(Ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Is(n,null,(t=e,new $u(Rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Us(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e,t){n=Nn(n,Pr);const r=Object.assign(Object.assign({},Vj),t);return function(o){if(o.maxAttempts<1)throw new We(Ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(n,e,t){const r=new ii;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const o=yield(u=n,QS(u).then(l=>l.datastore));var u;new Q2(n.asyncQueue,o,t,e,r).run()})),r.promise}(bi(n),o=>e(new Kj(n,o)),r)}(this._delegate,t=>e(new TL(this,t)))}batch(){return bi(this._delegate),new CL(new mL(this._delegate,e=>wv(this._delegate,e)))}loadBundle(e){return function(n,e){const t=bi(n=Nn(n,Pr)),r=new cj;return function(n,e,t,r){const o=function(u,l){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,g=function(g,v){if(g instanceof Uint8Array)return kF(g,v);if(g instanceof ArrayBuffer)return kF(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new W2(g,l);var g}(t,D0(e));n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function(n,e,t){const r=ut(n);var o;(o=(0,Pe.Z)(function*(u,l,f){try{const g=yield l.getMetadata();if(yield function(D,x){const N=ut(D),H=Ni(x.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",X=>N.Ns.getBundleMetadata(X,x.id)).then(X=>!!X&&X.createTime.compareTo(H)>=0)}(u.localStore,g))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(D=g).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);f._updateProgress(TF(g));const v=new C2(g,u.localStore,l.It);let I=yield l.wc();for(;I;){const D=yield v.Ou(I);D&&f._updateProgress(D),I=yield l.wc()}const C=yield v.complete();return yield Il(u,C.Bu,void 0),yield function(D,x){const N=ut(D);return N.persistence.runTransaction("Save bundle","readwrite",H=>N.Ns.saveBundleMetadata(H,x))}(u.localStore,g),f._completeWith(C.progress),Promise.resolve(C.$u)}catch(g){return ju("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var D}),function(u,l,f){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield w1(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(t,r){const o=ut(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield YS(n),e)}))}(bi(n=Nn(n,Pr)),e).then(t=>t?new Is(n,null,t.query):null)}(this._delegate,e).then(t=>t?new js(this,t):null)}}class aD extends O1{constructor(e){super(),this.firestore=e}convertBytes(e){return new k0(new ec(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ca.forKey(t,this.firestore,null)}}class TL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aD(e)}get(e){const t=zp(e);return this._delegate.get(t).then(r=>new F0(this._firestore,new Cl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=zp(e);return r?(P1("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}}class CL{constructor(e){this._delegate=e}set(e,t,r){const o=zp(e);return r?(P1("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new P0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new L0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Gp(e,new aD(e),t),o.set(t,u)),u}}Gp.INSTANCES=new WeakMap;class ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ca(t,new br(t._delegate,r,new ot(e)))}static forKey(e,t,r){return new ca(t,new br(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Iv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iv(this.firestore,WF(this._delegate,e))}catch(t){throw Us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Kt.m9)(e))instanceof br&&KF(this._delegate,e)}set(e,t){t=P1("DocumentReference.set",t);try{return t?yL(this._delegate,e,t):yL(this._delegate,e)}catch(r){throw Us(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?vL(this._delegate,e):vL(this._delegate,e,t,...r)}catch(o){throw Us(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return wv(Nn(n.firestore,Pr),[new za(n._key,rr.none())])}(this._delegate)}onSnapshot(...e){const t=SL(e),r=DL(e,o=>new F0(this.firestore,new Cl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return _L(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Nn(n,br);const e=Nn(n.firestore,Pr),t=bi(e),r=new Zp(e);return function(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(r=(0,Pe.Z)(function*(o,u,l){try{const f=yield function(g,v){const I=ut(g);return I.persistence.runTransaction("read document","readonly",C=>I.localDocuments.getDocument(C,v))}(o,u);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new We(Ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=yv(f,`Failed to get document '${u} from cache`);l.reject(g)}}),function(o,u,l){return r.apply(this,arguments)})(yield YS(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Cl(e,r,n._key,o,new Hp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Nn(n,br);const e=Nn(n.firestore,Pr);return jF(bi(e),n._key,{source:"server"}).then(t=>N1(e,n,t))}(this._delegate):function(n){n=Nn(n,br);const e=Nn(n.firestore,Pr);return jF(bi(e),n._key).then(t=>N1(e,n,t))}(this._delegate),t.then(r=>new F0(this.firestore,new Cl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ca(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function Us(n,e,t){return n.message=n.message.replace(e,t),n}function SL(n){for(const e of n)if("object"==typeof e&&!M1(e))return e;return{}}function DL(n,e){var t,r;let o;return o=M1(n[0])?n[0]:M1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class F0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return aL(this._delegate,e._delegate)}}class L0 extends F0{data(e){const t=this._delegate.data(e);return function(n,e){n||yt()}(void 0!==t),t}}class js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aD(e)}where(e,t,r){try{return new js(this.firestore,fh(this._delegate,function(n,e,t){const r=e,o=sD("where",n);return new Aj(o,r,t)}(e,t,r)))}catch(o){throw Us(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new js(this.firestore,fh(this._delegate,function(n,e="asc"){const t=e,r=sD("orderBy",n);return new Rj(r,t)}(e,t)))}catch(r){throw Us(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new js(this.firestore,fh(this._delegate,function(n){return GF("limit",n),new cL("limit",n,"F")}(e)))}catch(t){throw Us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new js(this.firestore,fh(this._delegate,function(n){return GF("limitToLast",n),new cL("limitToLast",n,"L")}(e)))}catch(t){throw Us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new js(this.firestore,fh(this._delegate,function(...n){return new lL("startAt",n,!0)}(...e)))}catch(t){throw Us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new js(this.firestore,fh(this._delegate,function(...n){return new lL("startAfter",n,!1)}(...e)))}catch(t){throw Us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new js(this.firestore,fh(this._delegate,function(...n){return new dL("endBefore",n,!1)}(...e)))}catch(t){throw Us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new js(this.firestore,fh(this._delegate,function(...n){return new dL("endAt",n,!0)}(...e)))}catch(t){throw Us(t,"endAt()","Query.endAt()")}}isEqual(e){return QF(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Nn(n,Is);const e=Nn(n.firestore,Pr),t=bi(e),r=new Zp(e);return function(n,e){const t=new ii;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(r=(0,Pe.Z)(function*(o,u,l){try{const f=yield $S(o,u,!0),g=new DF(u,f.Hi),v=g.ju(f.documents),I=g.applyChanges(v,!1);l.resolve(I.snapshot)}catch(f){const g=yv(f,`Failed to execute query '${u} against cache`);l.reject(g)}}),function(o,u,l){return r.apply(this,arguments)})(yield YS(n),e,t);var r})),t.promise}(t,n._query).then(o=>new hh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Nn(n,Is);const e=Nn(n.firestore,Pr),t=bi(e),r=new Zp(e);return BF(t,n._query,{source:"server"}).then(o=>new hh(e,r,n,o))}(this._delegate):function(n){n=Nn(n,Is);const e=Nn(n.firestore,Pr),t=bi(e),r=new Zp(e);return uL(n._query),BF(t,n._query).then(o=>new hh(e,r,n,o))}(this._delegate),t.then(r=>new k1(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=SL(e),r=DL(e,o=>new k1(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return _L(this._delegate,t,r)}withConverter(e){return new js(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}class aB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new L0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class k1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new L0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new L0(this._firestore,r))})}isEqual(e){return aL(this._delegate,e._delegate)}}class Iv extends js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ca(this.firestore,e):null}doc(e){try{return new ca(this.firestore,void 0===e?XS(this._delegate):XS(this._delegate,e))}catch(t){throw Us(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Nn(n.firestore,Pr),r=XS(n),o=oD(n.converter,e);return wv(t,[nD(qp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ca(this.firestore,t))}isEqual(e){return KF(this._delegate,e._delegate)}withConverter(e){return new Iv(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function zp(n){return Nn(n,br)}class F1{constructor(...e){this._delegate=new Tl(...e)}static documentId(){return new F1(Vr.keyField().canonicalString())}isEqual(e){return(e=(0,Kt.m9)(e))instanceof Tl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new S1("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Wp(e)}static delete(){const e=new O0("deleteField");return e._methodName="FieldValue.delete",new Wp(e)}static arrayUnion(...e){const t=function(...n){return new wj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wp(t)}static arrayRemove(...e){const t=function(...n){return new Ij("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wp(t)}static increment(e){const t=function(n){return new Tj("increment",n)}(e);return t._methodName="FieldValue.increment",new Wp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uB={Firestore:IL,GeoPoint:eD,Timestamp:nr,Blob:k0,Transaction:TL,WriteBatch:CL,DocumentReference:ca,DocumentSnapshot:F0,Query:js,QueryDocumentSnapshot:L0,QuerySnapshot:k1,CollectionReference:Iv,FieldPath:F1,FieldValue:Wp,setLogLevel:function(n){!function(n){tl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function AL(n,e){return function(n,e=jT.z){return new kr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function L1(n,e){return AL(n,e).pipe((0,Wt.U)(t=>({payload:t,type:"query"})))}function uD(n,e){return L1(n,e).pipe(Go(void 0),Os(),(0,Wt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const g=o.find(I=>I.doc.ref.isEqual(l.ref)),v=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(l.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(l.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),u}))}function xL(n,e,t){return uD(n,t).pipe(ys((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return V1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return V1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return V1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),xg(),(0,Wt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function V1(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function RL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new lm.wA("firestore-compat",t=>((e,t)=>new IL(e,t,new sB))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},uB)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.24")}(IR.Z);class OL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Wt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Go(void 0),Os(),ji(([r,o])=>o.length>0||!r),(0,Wt.U)(([r,o])=>o),Mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ys((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=RL(e);return xL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return L1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Mn.iC)}get(e){return(0,Yn.D)(this.query.get(e)).pipe(Mn.iC)}add(e){return this.ref.add(e)}doc(e){return new NL(this.ref.doc(e),this.afs)}}class NL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=PL(r,t);return new OL(o,u,this.afs)}snapshotChanges(){return function(n,e){return AL(n,e).pipe(Go(void 0),Os(),(0,Wt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Yn.D)(this.ref.get(e)).pipe(Mn.iC)}}class gB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ji(t=>t.length>0),Mn.iC):uD(this.query,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ys((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=RL(e);return xL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(e={}){return L1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Wt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Mn.iC)}get(e){return(0,Yn.D)(this.query.get(e)).pipe(Mn.iC)}}const mB=new h.OlP("angularfire2.enableFirestorePersistence"),yB=new h.OlP("angularfire2.firestore.persistenceSettings"),vB=new h.OlP("angularfire2.firestore.settings"),_B=new h.OlP("angularfire2.firestore.use-emulator");function PL(n,e=(t=>t)){return{query:e(n),ref:n}}let Tv=(()=>{class n{constructor(t,r,o,u,l,f,g,v,I,C,D,x,N,H,X,ve,Le){this.schedulers=g;const xe=(0,bo.on)(t,f,r),je=I;C&&zI(xe,f,D,N,H,X,x,ve),[this.firestore,this.persistenceEnabled$]=(0,bo.cc)(`${xe.name}.firestore`,"AngularFirestore",xe.name,()=>{const Je=f.runOutsideAngular(()=>xe.firestore());if(u&&Je.settings(u),je&&Je.useEmulator(...je),o&&!_a(l)){const Xe=()=>{try{return(0,Yn.D)(Je.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(at){return"undefined"!=typeof console&&console.warn(at),(0,Pt.of)(!1)}};return[Je,f.runOutsideAngular(Xe)]}return[Je,(0,Pt.of)(!1)]},[u,je,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=PL(o,r),f=this.schedulers.ngZone.run(()=>u);return new OL(f,l,this)}collectionGroup(t,r){const o=r||(l=>l),u=this.firestore.collectionGroup(t);return new gB(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new NL(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bo.Dh),h.LFG(bo.xv,8),h.LFG(mB,8),h.LFG(vB,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Mn.HU),h.LFG(yB,8),h.LFG(_B,8),h.LFG(Fm,8),h.LFG(Cb,8),h.LFG(Sb,8),h.LFG(Db,8),h.LFG(Ab,8),h.LFG(Nx,8),h.LFG(GI,8),h.LFG(km,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function bB(n,e){if(1&n&&h._UZ(0,"img",20),2&n){const t=h.oxw(2);h.MGl("src","../../assets/img/players/",t.images[0],"",h.LSH)}}function EB(n,e){1&n&&h._UZ(0,"img",21)}function wB(n,e){if(1&n&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.AsE("TIED ",t.game.goals_for,"-",t.game.goals_against,"")}}function IB(n,e){if(1&n&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.lnq("",t.game.goals_for>t.game.goals_against?"WON":"LOST"," ",t.game.goals_for,"-",t.game.goals_against,"")}}const TB=function(n){return["/player",n]};function CB(n,e){if(1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.TgZ(9,"td"),h._uU(10),h.qZA(),h.TgZ(11,"td"),h._uU(12),h.qZA(),h.TgZ(13,"td"),h.TgZ(14,"a",22),h._UZ(15,"i",23),h._uU(16," View Profile"),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.jersey_number),h.xp6(2),h.Oqu(t.first_name),h.xp6(2),h.Oqu(t.last_name),h.xp6(2),h.Oqu(t.goals),h.xp6(2),h.Oqu(t.assists),h.xp6(2),h.Oqu(t.points),h.xp6(2),h.Q6J("routerLink",h.VKq(7,TB,t.playerId))}}function SB(n,e){1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"td",24),h._uU(2,"No Stats Available"),h.qZA(),h.qZA())}function DB(n,e){if(1&n&&(h.TgZ(0,"section",1),h.TgZ(1,"div",2),h.TgZ(2,"div",3),h.TgZ(3,"h2",4),h._uU(4,"Game Details"),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.qZA(),h.qZA(),h.qZA(),h.TgZ(7,"div",5),h.TgZ(8,"div",6),h.TgZ(9,"div",7),h.TgZ(10,"div",8),h.TgZ(11,"div",9),h.TgZ(12,"figure",10),h.YNc(13,bB,1,1,"img",11),h.YNc(14,EB,1,0,"img",12),h.TgZ(15,"h2",13),h.YNc(16,wB,2,2,"span",14),h.YNc(17,IB,2,3,"span",14),h.qZA(),h.qZA(),h.qZA(),h.TgZ(18,"div",15),h.TgZ(19,"div",16),h.TgZ(20,"h3"),h._uU(21),h.ALo(22,"date"),h.TgZ(23,"small"),h._uU(24),h.qZA(),h.qZA(),h.qZA(),h.TgZ(25,"div",8),h.TgZ(26,"div",17),h.TgZ(27,"h3"),h._uU(28,"GAME STATS"),h.qZA(),h.TgZ(29,"table",18),h.TgZ(30,"thead"),h.TgZ(31,"tr"),h.TgZ(32,"th"),h._uU(33,"#"),h.qZA(),h.TgZ(34,"th"),h._uU(35,"First Name"),h.qZA(),h.TgZ(36,"th"),h._uU(37,"Last Name"),h.qZA(),h.TgZ(38,"th"),h._uU(39,"Goals"),h.qZA(),h.TgZ(40,"th"),h._uU(41,"Assists"),h.qZA(),h.TgZ(42,"th"),h._uU(43,"Points"),h.qZA(),h._UZ(44,"th"),h.qZA(),h.qZA(),h.TgZ(45,"tbody"),h.YNc(46,CB,17,9,"tr",19),h.YNc(47,SB,3,0,"tr",14),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw();h.xp6(6),h.Oqu(t.game.varsity?"VARSITY":"JV"),h.xp6(7),h.Q6J("ngIf",t.images),h.xp6(1),h.Q6J("ngIf",!t.images),h.xp6(2),h.Q6J("ngIf",t.game.tie),h.xp6(1),h.Q6J("ngIf",!t.game.tie),h.xp6(4),h.hij(" ",h.xi3(22,9,null==t.game.date?null:t.game.date.toDate(),"MM/dd/yyyy hh:mm a")," "),h.xp6(3),h.Oqu(t.game.location),h.xp6(22),h.Q6J("ngForOf",t.gameStats),h.xp6(1),h.Q6J("ngIf",!(null!=t.gameStats&&t.gameStats.length))}}let AB=(()=>{class n{constructor(t,r){this.route=t,this.firestore=r}ngOnInit(){this.route.params.subscribe(t=>{this.selectedGame=t.gameId,this.firestore.doc(`games/${this.selectedGame}`).valueChanges({idField:"id"}).subscribe({next:r=>{this.game=r}}),this.firestore.collection("players").valueChanges({idField:"id"}).subscribe({next:r=>{const o=[];r.forEach(u=>{let l=u.seasons.find(f=>"2022-2023"===f.year);l&&l.stats.forEach(f=>{var g;if(!0==(f.date.toDate().toLocaleDateString()===(null===(g=this.game.date)||void 0===g?void 0:g.toDate().toLocaleDateString()))&&!0==(f.varsity===this.game.varsity)){const C=new UT;C.playerId=u.id,C.first_name=u.first_name,C.last_name=u.last_name,C.jersey_number=u.jersey_number,C.goals=f.goals,C.assists=f.assists,C.points=f.points,o.push(C)}})}),this.gameStats=o}})})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu),h.Y36(Tv))},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-4","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/wrhs_logo.png","class","img-responsive","alt","Image",4,"ngIf"],[1,"text-left","bold",2,"margin-left","85px"],[4,"ngIf"],[1,"col-md-8","col-sm-9"],[1,"team-intro"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/wrhs_logo.png","alt","Image",1,"img-responsive"],[3,"routerLink"],["aria-hidden","true",1,"fa","fa-id-card"],["colspan","5",1,"text-center","text-bold"]],template:function(t,r){1&t&&h.YNc(0,DB,48,12,"section",0),2&t&&h.Q6J("ngIf",r.game&&r.game.complete)},directives:[Ii,ei,na],pipes:[Xa],styles:[""]}),n})();function xB(n,e){if(1&n&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(1),h.AsE("TIED ",t.goals_for,"-",t.goals_against,"")}}function RB(n,e){if(1&n&&(h.TgZ(0,"span"),h._uU(1),h.qZA()),2&n){const t=h.oxw(2).$implicit;h.xp6(1),h.lnq("",t.goals_for>t.goals_against?"W":"L"," ",t.goals_for,"-",t.goals_against,"")}}const OB=function(n){return["/games",n]};function NB(n,e){if(1&n&&(h.TgZ(0,"div"),h.YNc(1,xB,2,2,"span",20),h.YNc(2,RB,2,3,"span",20),h.TgZ(3,"a",22),h._uU(4,"View Game Summary"),h.qZA(),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(1),h.Q6J("ngIf",t.tie),h.xp6(1),h.Q6J("ngIf",!t.tie),h.xp6(1),h.Q6J("routerLink",h.VKq(3,OB,t.id))}}function PB(n,e){if(1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"th",21),h._uU(2),h.ALo(3,"date"),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.ALo(6,"date"),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.TgZ(9,"td"),h._uU(10),h.qZA(),h.TgZ(11,"td"),h.YNc(12,NB,5,5,"div",20),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(h.xi3(3,5,null==t||null==t.date?null:t.date.toDate(),"MM/dd/yyyy")),h.xp6(3),h.Oqu(h.xi3(6,8,null==t||null==t.date?null:t.date.toDate(),"h:mm a")),h.xp6(3),h.Oqu(t.opponent),h.xp6(2),h.Oqu(t.location),h.xp6(2),h.Q6J("ngIf",t.complete)}}function MB(n,e){1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"td",23),h._uU(2,"No Schedule Available"),h.qZA(),h.qZA())}function kB(n,e){if(1&n&&(h.TgZ(0,"div",5),h.TgZ(1,"div",6),h.TgZ(2,"table",18),h.TgZ(3,"thead"),h.TgZ(4,"tr"),h.TgZ(5,"th"),h._uU(6,"Date"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"Time"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"Opponent"),h.qZA(),h.TgZ(11,"th"),h._uU(12,"Location"),h.qZA(),h._UZ(13,"th"),h.qZA(),h.qZA(),h.TgZ(14,"tbody"),h.YNc(15,PB,13,11,"tr",19),h.YNc(16,MB,3,0,"tr",20),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.team,r=h.oxw();h.xp6(15),h.Q6J("ngForOf","varsity"===t?r.varsityGames:r.jvGames),h.xp6(1),h.Q6J("ngIf","varsity"===t?!r.varsityGames.length:!r.jvGames.length)}}const ML=function(n){return{active:n}},kL=function(n){return{"in active":n}},FB=function(){return{team:"varsity"}},LB=function(){return{team:"jv"}};let VB=(()=>{class n{constructor(t,r){this.route=t,this.firestore=r,this.varsityGames=[],this.jvGames=[],this.showCompleted=!0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.selectedTeam=t.team,this.firestore.collection("games",r=>r.orderBy("date","asc")).valueChanges({idField:"id"}).subscribe({next:r=>{this.varsityGames=r.filter(o=>!0===o.varsity),this.jvGames=r.filter(o=>!1===o.varsity)}})})}test(){this.firestore.collection("games").valueChanges({idField:"id"}).subscribe({next:t=>{t.forEach(r=>{void 0===r.year&&(r.complete=!1,r.goals_against=0,r.goals_for=0,r.tie=!1,r.varsity=!0,r.win=!1,r.year="2022-2023",this.firestore.doc(`games/${r.id}`).update(r))})}})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu),h.Y36(Tv))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-players"]],decls:25,vars:18,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-12"],[1,"border-bottom-tab"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",3,"ngClass"],["href","#varsity","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],["href","#jv","role","tab","data-toggle","tab",1,"waves-effect","waves-dark"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","varsity",1,"tab-pane","fade",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel","id","jv",1,"tab-pane","fade",3,"ngClass"],["schedule",""],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["routerLink","games",1,"ml-10",3,"routerLink"],["colspan","5",1,"text-center","text-bold"]],template:function(t,r){if(1&t&&(h.TgZ(0,"section",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"h2",3),h._uU(4,"Game Schedules"),h.qZA(),h.TgZ(5,"p",4),h._uU(6,"Select the team to view the schedule"),h.qZA(),h.qZA(),h.TgZ(7,"div",5),h.TgZ(8,"div",6),h.TgZ(9,"div",7),h.TgZ(10,"ul",8),h.TgZ(11,"li",9),h.TgZ(12,"a",10),h._uU(13,"Varsity"),h.qZA(),h.qZA(),h.TgZ(14,"li",9),h.TgZ(15,"a",11),h._uU(16,"JV"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(17,"div",12),h.TgZ(18,"div",13),h.TgZ(19,"div",14),h.GkF(20,15),h.qZA(),h.TgZ(21,"div",16),h.GkF(22,15),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(23,kB,17,2,"ng-template",null,17,h.W1O)),2&t){const o=h.MAs(24);h.xp6(11),h.Q6J("ngClass",h.VKq(8,ML,"varsity"===r.selectedTeam)),h.xp6(3),h.Q6J("ngClass",h.VKq(10,ML,"jv"===r.selectedTeam)),h.xp6(5),h.Q6J("ngClass",h.VKq(12,kL,"varsity"===r.selectedTeam)),h.xp6(1),h.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",h.DdM(14,FB)),h.xp6(1),h.Q6J("ngClass",h.VKq(15,kL,"jv"===r.selectedTeam)),h.xp6(1),h.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",h.DdM(17,LB))}},directives:[xo,Oo,ei,Ii,na],pipes:[Xa],styles:[""]}),n})();function UB(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.lnq("Season Record: ",t.varsityStats.wins,"-",t.varsityStats.losses,"-",t.varsityStats.ties,"")}}function jB(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.lnq("Season Record: ",t.jvStats.wins,"-",t.jvStats.losses,"-",t.jvStats.ties,"")}}function BB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"th",19),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.TgZ(9,"td"),h._uU(10),h.qZA(),h.TgZ(11,"td"),h._uU(12),h.qZA(),h.TgZ(13,"td"),h.TgZ(14,"a",20),h.NdJ("click",function(){const u=h.CHM(t).$implicit;return h.oxw().viewProfile(u.id)}),h._UZ(15,"i",21),h._uU(16," View Profile"),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.jersey_number),h.xp6(2),h.Oqu(t.first_name),h.xp6(2),h.Oqu(t.last_name),h.xp6(2),h.Oqu(null==t||null==t.currentSeasonStats?null:t.currentSeasonStats.goals),h.xp6(2),h.Oqu(null==t||null==t.currentSeasonStats?null:t.currentSeasonStats.assists),h.xp6(2),h.Oqu(null==t||null==t.currentSeasonStats?null:t.currentSeasonStats.points)}}function qB(n,e){1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"td",22),h._uU(2,"Roster Information Coming Soon"),h.qZA(),h.qZA())}const FL=function(n){return{selected:n}};let $B=(()=>{class n{constructor(t,r){this.router=t,this.firestore=r,this.players=[]}ngOnInit(){this.getTeam("varsity"),this.getStats()}getStats(){this.firestore.collection("season_totals").valueChanges().subscribe({next:t=>{t.forEach(r=>{r.varsity?this.varsityStats=r:this.jvStats=r})}})}getTeam(t){if(this.selectedTeam=t,"varsity"===t){if(this.varsity)return}else if(this.jv)return;this.firestore.collection("players").valueChanges({idField:"id"}).subscribe({next:r=>{this.players=r,console.log(r)}})}viewProfile(t){this.router.navigate([`players/${t}`])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(qi),h.Y36(Tv))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-players"]],decls:54,vars:11,consts:[[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper",3,"ngClass","click"],[1,"team-img"],["src","../../assets/img/varsity_placeholder.png","alt","Image",1,"img-responsive"],[1,"team-title"],[4,"ngIf"],["routerLink","../schedule/varsity"],["src","../../assets/img/jv_placeholder.png","alt","Image",1,"img-responsive"],[1,"row","mt-50"],[1,"col-md-8","col-md-offset-2"],[1,"mt-30"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["scope","row"],[3,"click"],["aria-hidden","true",1,"fa","fa-id-card"],["colspan","4",1,"text-center","text-bold"]],template:function(t,r){1&t&&(h.TgZ(0,"section",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"h2",3),h._uU(4,"Our Teams"),h.qZA(),h.TgZ(5,"p",4),h._uU(6,"Select the team to view more details"),h.qZA(),h.qZA(),h.TgZ(7,"div",5),h.TgZ(8,"div",6),h.TgZ(9,"div",7),h.NdJ("click",function(){return r.getTeam("varsity")}),h.TgZ(10,"div",8),h._UZ(11,"img",9),h.qZA(),h.TgZ(12,"div",10),h.TgZ(13,"h3"),h._uU(14,"VARSITY"),h.qZA(),h.TgZ(15,"span"),h._uU(16,"Coach: John Scoby"),h.qZA(),h.YNc(17,UB,2,3,"p",11),h.TgZ(18,"a",12),h._uU(19,"View Varsity Schedule"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(20,"div",6),h.TgZ(21,"div",7),h.NdJ("click",function(){return r.getTeam("jv")}),h.TgZ(22,"div",8),h._UZ(23,"img",13),h.qZA(),h.TgZ(24,"div",10),h.TgZ(25,"h3"),h._uU(26,"JV"),h.qZA(),h.TgZ(27,"span"),h._uU(28,"Coach: Bill Talbot"),h.qZA(),h.YNc(29,jB,2,3,"p",11),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(30,"div",14),h.TgZ(31,"div",15),h.TgZ(32,"h3"),h._uU(33),h.qZA(),h._UZ(34,"div",16),h.TgZ(35,"table",17),h.TgZ(36,"thead"),h.TgZ(37,"tr"),h.TgZ(38,"th"),h._uU(39,"#"),h.qZA(),h.TgZ(40,"th"),h._uU(41,"First Name"),h.qZA(),h.TgZ(42,"th"),h._uU(43,"Last Name"),h.qZA(),h.TgZ(44,"th"),h._uU(45,"Goals"),h.qZA(),h.TgZ(46,"th"),h._uU(47,"Assists"),h.qZA(),h.TgZ(48,"th"),h._uU(49,"Points"),h.qZA(),h._UZ(50,"th"),h.qZA(),h.qZA(),h.TgZ(51,"tbody"),h.YNc(52,BB,17,6,"tr",18),h.YNc(53,qB,3,0,"tr",11),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(9),h.Q6J("ngClass",h.VKq(7,FL,"varsity"===r.selectedTeam)),h.xp6(8),h.Q6J("ngIf",r.varsityStats),h.xp6(4),h.Q6J("ngClass",h.VKq(9,FL,"jv"===r.selectedTeam)),h.xp6(8),h.Q6J("ngIf",r.jvStats),h.xp6(4),h.hij("","varsity"===r.selectedTeam?"VARSITY":"JV"," ROSTER"),h.xp6(19),h.Q6J("ngForOf",r.players),h.xp6(1),h.Q6J("ngIf",!r.players.length))},directives:[xo,Ii,na,ei],styles:[""]}),n})();class U1{constructor(){this.goals_for=0,this.assists_for=0,this.points_for=0}static getGoalDiff(e,t){let r;return e&&t?(r=(e-t).toString(),r=e>t?"+ "+r:"- "+r):r="--",r}}const LL=function(n){return{team:n}};function HB(n,e){if(1&n&&(h.TgZ(0,"div",37),h.TgZ(1,"div",38),h.TgZ(2,"div",39),h.TgZ(3,"span",40),h._uU(4),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.qZA(),h.TgZ(7,"p"),h._uU(8),h.ALo(9,"date"),h.qZA(),h.TgZ(10,"a",41),h._uU(11,"View full schedule"),h.qZA(),h.qZA(),h.TgZ(12,"div",42),h.TgZ(13,"span",43),h._uU(14),h.qZA(),h.TgZ(15,"p"),h._uU(16),h.qZA(),h.TgZ(17,"p"),h._uU(18),h.ALo(19,"date"),h.qZA(),h.TgZ(20,"a",41),h._uU(21,"View full schedule"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.uIk("data-groups",t.groups),h.xp6(4),h.AsE("",t.varsity?"Varsity":"JV"," vs ",t.opponent,""),h.xp6(2),h.Oqu(t.location),h.xp6(2),h.Oqu(h.xi3(9,11,null==t.date?null:t.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),h.xp6(2),h.Q6J("queryParams",h.VKq(17,LL,t.varsity?"varsity":"jv")),h.xp6(4),h.AsE("",t.varsity?"Varsity":"JV"," vs ",t.opponent,""),h.xp6(2),h.Oqu(t.location),h.xp6(2),h.Oqu(h.xi3(19,14,null==t.date?null:t.date.toDate(),"EEEE, MMMM d, y @ h:mm a")),h.xp6(2),h.Q6J("queryParams",h.VKq(19,LL,t.varsity?"varsity":"jv"))}}function ZB(n,e){if(1&n&&(h.TgZ(0,"div",35),h.YNc(1,HB,22,21,"div",36),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.upcomingGames)}}function GB(n,e){1&n&&(h.TgZ(0,"div",44),h._uU(1,"No Games Schedules"),h.qZA())}function zB(n,e){if(1&n&&(h.TgZ(0,"div",45),h.TgZ(1,"div",46),h._UZ(2,"i",47),h.TgZ(3,"span",48),h._uU(4),h.qZA(),h.TgZ(5,"span",49),h._uU(6,"Wins"),h.qZA(),h.qZA(),h.TgZ(7,"div",46),h._UZ(8,"i",50),h.TgZ(9,"span",48),h._uU(10),h.qZA(),h.TgZ(11,"span",49),h._uU(12,"Goals For"),h.qZA(),h.qZA(),h.TgZ(13,"div",46),h._UZ(14,"i",51),h.TgZ(15,"span",52),h._uU(16),h.qZA(),h.TgZ(17,"span",49),h._uU(18,"Goal Differential"),h.qZA(),h.qZA(),h.TgZ(19,"div",46),h._UZ(20,"i",53),h.TgZ(21,"span",48),h._uU(22),h.qZA(),h.TgZ(23,"span",49),h._uU(24,"Shots"),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw();h.xp6(4),h.Oqu(t.seasonStats.wins),h.xp6(6),h.Oqu(t.seasonStats.goals_for),h.xp6(6),h.Oqu(t.seasonStats.goalDiff),h.xp6(6),h.Oqu(t.seasonStats.shots_for)}}let WB=(()=>{class n{constructor(t){this.allUpcomingGames=[],this.upcomingGames=[],this.gameGroup="all",t.collection("season_totals",r=>r.where("season","==","2022-2023").where("varsity","==",!0)).valueChanges().subscribe({next:r=>{const o=r[0],u=U1.getGoalDiff(o.goals_for,o.goals_against);o.goalDiff=u,this.seasonStats=o}}),t.collection("games",r=>r.orderBy("date","asc")).valueChanges().subscribe({next:r=>{let o=r.filter(u=>!1===u.complete&&"2022-2023"===u.year);o.forEach(u=>{u.groups=u.varsity?"['all','varsity']":"['all','jv']"}),o=o.slice(0,6),this.allUpcomingGames=o,this.gameGroupChanged("all")}})}ngOnInit(){}gameGroupChanged(t){this.gameGroup=t,this.upcomingGames=this.allUpcomingGames.filter(r=>"all"===this.gameGroup||("varsity"===this.gameGroup?!0===r.varsity:"jv"!==this.gameGroup||!1===r.varsity))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tv))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:78,vars:3,consts:[["data-stellar-background-ratio","0.5",1,"banner-7","parallax-bg","bg-fixed","overlay","fullscreen-banner","valign-wrapper"],[1,"valign-cell"],[1,"container","padding-top-160"],[1,"text-center"],[1,"tt-headline","loading-bar"],[1,"tt-words-wrapper",2,"color","#762741","-webkit-text-stroke-width","1px","-webkit-text-stroke-color","white"],[1,"is-visible"],[1,"sub-intro","lead","white-text"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"row"],[1,"col-md-6","col-sm-6"],[1,"team-wrapper"],[1,"team-img"],["src","../../assets/img/players/scoby.png","alt","Image",1,"img-responsive"],[1,"team-title"],["src","../../assets/img/players/talbot.png","alt","Image",1,"img-responsive"],[1,"content-promo-box","banner","padding-top-100","padding-bottom-120","gray-bg"],[1,"col-md-7"],[1,"font-30","text-extrabold","mb-30","text-uppercase"],["id","works",1,"section-padding"],[1,"portfolio-container"],[1,"portfolio-filter","brand-filter","text-center"],["data-group","all",1,"active","waves-effect","waves-light",3,"click"],["data-group","varsity",1,"waves-effect","waves-light",3,"click"],["data-group","jv",1,"waves-effect","waves-light",3,"click"],["class","portfolio portfolio-with-title col-3 gutter mtb-50",4,"ngIf"],["class","text-center text-bold",4,"ngIf"],["data-stellar-background-ratio","0.5",1,"counter-section","facts-two","banner-10","parallax-bg","bg-fixed","overlay","light-9"],[1,"row","text-center","mt-30"],[1,"col-sm-12"],["class","row text-center",4,"ngIf"],[1,"portfolio","portfolio-with-title","col-3","gutter","mtb-50"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"portfolio-item"],[1,"card"],[1,"card-content"],[1,"card-title","activator"],["routerLink","schedule",1,"readmore",3,"queryParams"],[1,"card-reveal"],[1,"card-title"],[1,"text-center","text-bold"],[1,"row","text-center"],[1,"col-sm-3","counter-wrap"],[1,"fa","fa-4x","fa-trophy","brand-color"],[1,"timer"],[1,"count-description"],[1,"fa","fa-4x","fa-bullhorn","brand-color"],[1,"fa","fa-4x","fa-plus","brand-color"],[1,"timer2"],[1,"fa","fa-4x","fa-crosshairs","brand-color"]],template:function(t,r){1&t&&(h.TgZ(0,"section",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h1",4),h.TgZ(5,"span"),h._uU(6,"We're\xa0"),h.qZA(),h.TgZ(7,"span",5),h.TgZ(8,"b",6),h._uU(9,"Dedicated"),h.qZA(),h.TgZ(10,"b"),h._uU(11,"Passionate"),h.qZA(),h.TgZ(12,"b"),h._uU(13,"United"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(14,"p",7),h._uU(15,"Proud Member of the Lightning High School Hockey League"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"section",8),h.TgZ(17,"div",9),h.TgZ(18,"div",10),h.TgZ(19,"h2",11),h._uU(20,"Our Coaches"),h.qZA(),h.TgZ(21,"p",12),h._uU(22,"Our coaches bring a wealth of experience & professionalism to our program. Dedicated to making our players better not only on the ice, but in their daily lives as well."),h.qZA(),h.qZA(),h.TgZ(23,"div",13),h.TgZ(24,"div",14),h.TgZ(25,"div",15),h.TgZ(26,"div",16),h._UZ(27,"img",17),h.qZA(),h.TgZ(28,"div",18),h.TgZ(29,"h3"),h._uU(30,"Jonn Scoby"),h.qZA(),h.TgZ(31,"span"),h._uU(32,"Varsity Head Coach"),h.qZA(),h.TgZ(33,"p"),h._uU(34," Joining Wiregrass as the Varsity Head Coach in the Summer of 2022, Coach Scoby has his sights set on taking the program to the next level and beyond. His experience has brought a whole new level of excitement to the program"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(35,"div",14),h.TgZ(36,"div",15),h.TgZ(37,"div",16),h._UZ(38,"img",19),h.qZA(),h.TgZ(39,"div",18),h.TgZ(40,"h3"),h._uU(41,"Bill Talbot"),h.qZA(),h.TgZ(42,"span"),h._uU(43,"JV Head Coach"),h.qZA(),h.TgZ(44,"p"),h._uU(45,"Coach Talbot brings a wealth of coaching experience from the Travel level through High School. He is working closely with Coach Scoby to develop our JV players and prepare them for the next level."),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(46,"section",20),h.TgZ(47,"div",9),h.TgZ(48,"div",13),h.TgZ(49,"div",21),h.TgZ(50,"h2",22),h._uU(51,"PLAYER OF THE WEEK"),h.qZA(),h.TgZ(52,"p"),h._uU(53,"This weeks Player of the Week is Aiden Bishop. Aiden started the season off strong scoring 3 goals and adding 2 assists helping Wiregrass win their season opener vs Freedom 9-4. Great Job Aiden!"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(54,"section",23),h.TgZ(55,"div",9),h.TgZ(56,"div",10),h.TgZ(57,"h2",11),h._uU(58,"Upcoming Games"),h.qZA(),h.TgZ(59,"p",12),h._uU(60,"Come Support Wiregrass Hockey at the following upcoming games:"),h.qZA(),h.qZA(),h.TgZ(61,"div",24),h.TgZ(62,"ul",25),h.TgZ(63,"li",26),h.NdJ("click",function(){return r.gameGroupChanged("all")}),h._uU(64,"All"),h.qZA(),h.TgZ(65,"li",27),h.NdJ("click",function(){return r.gameGroupChanged("varsity")}),h._uU(66,"Varsity"),h.qZA(),h.TgZ(67,"li",28),h.NdJ("click",function(){return r.gameGroupChanged("jv")}),h._uU(68,"JV"),h.qZA(),h.qZA(),h.YNc(69,ZB,2,1,"div",29),h.YNc(70,GB,2,0,"div",30),h.qZA(),h.qZA(),h.qZA(),h.TgZ(71,"section",31),h.TgZ(72,"div",9),h.TgZ(73,"div",32),h.TgZ(74,"div",33),h.TgZ(75,"h2",11),h._uU(76,"Varsity Season Stats"),h.qZA(),h.qZA(),h.qZA(),h.YNc(77,zB,25,4,"div",34),h.qZA(),h.qZA()),2&t&&(h.xp6(69),h.Q6J("ngIf",r.upcomingGames&&r.upcomingGames.length),h.xp6(1),h.Q6J("ngIf",r.upcomingGames&&!r.upcomingGames.length),h.xp6(7),h.Q6J("ngIf",r.seasonStats))},directives:[Ii,ei,na],pipes:[Xa],styles:[""]}),n})();function KB(n,e){if(1&n&&h._UZ(0,"img",22),2&n){const t=h.oxw(2);h.MGl("src","../../assets/img/players/",t.player.image,"",h.LSH)}}function QB(n,e){1&n&&h._UZ(0,"img",23)}function YB(n,e){1&n&&(h.TgZ(0,"div",24),h._uU(1,"Photo Coming Soon"),h.qZA())}function JB(n,e){if(1&n&&(h.TgZ(0,"div",25),h.TgZ(1,"div",9),h.TgZ(2,"div",26),h.TgZ(3,"h4"),h._uU(4,"Season Totals"),h.TgZ(5,"small"),h._uU(6," (Includes JV & Varsity)"),h.qZA(),h.qZA(),h.TgZ(7,"div",27),h.TgZ(8,"span",28),h._uU(9,"Goals"),h.qZA(),h.TgZ(10,"div",29),h.TgZ(11,"div",30),h._uU(12),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"div",27),h.TgZ(14,"span",28),h._uU(15,"Assists"),h.qZA(),h.TgZ(16,"div",29),h.TgZ(17,"div",30),h._uU(18),h.qZA(),h.qZA(),h.qZA(),h.TgZ(19,"div",27),h.TgZ(20,"span",28),h._uU(21,"Points"),h.qZA(),h.TgZ(22,"div",29),h.TgZ(23,"div",30),h._uU(24),h.qZA(),h.qZA(),h.qZA(),h.TgZ(25,"h6"),h._uU(26,"**NOTE** % Values are the precentage of the team total for that category"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw(2);h.xp6(11),h.Udp("height","20px")("width",t.getBarWidth(t.player.currentSeasonStats.goals,t.seasonStats.goals_for)),h.uIk("aria-valuenow",t.player.currentSeasonStats.goals)("aria-valuemax",t.seasonStats.goals_for),h.xp6(1),h.lnq(" ",t.player.currentSeasonStats.goals,"/",t.seasonStats.goals_for," (",t.getBarWidth(t.player.currentSeasonStats.goals,t.seasonStats.goals_for),") "),h.xp6(5),h.Udp("height","20px")("width",t.getBarWidth(t.player.currentSeasonStats.assists,t.seasonStats.assists_for)),h.uIk("aria-valuenow",t.player.currentSeasonStats.assists)("aria-valuemax",t.seasonStats.assists_for),h.xp6(1),h.lnq(" ",t.player.currentSeasonStats.assists,"/",t.seasonStats.assists_for," (",t.getBarWidth(t.player.currentSeasonStats.assists,t.seasonStats.assists_for),") "),h.xp6(5),h.Udp("height","20px")("width",t.getBarWidth(t.player.currentSeasonStats.points,t.seasonStats.points_for)),h.uIk("aria-valuenow",t.player.currentSeasonStats.points)("aria-valuemax",t.seasonStats.points_for),h.xp6(1),h.lnq(" ",t.player.currentSeasonStats.points,"/",t.seasonStats.points_for," (",t.getBarWidth(t.player.currentSeasonStats.points,t.seasonStats.points_for),") ")}}function XB(n,e){if(1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"th",31),h._uU(2),h.ALo(3,"date"),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(h.xi3(3,5,null==t||null==t.date?null:t.date.toDate(),"MM/dd/yyyy")),h.xp6(3),h.Oqu(t.varsity?"VARSITY":"JV"),h.xp6(2),h.Oqu(t.goals),h.xp6(2),h.Oqu(t.assists),h.xp6(2),h.Oqu(t.points)}}function eq(n,e){1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"td",32),h._uU(2,"No Stats Available"),h.qZA(),h.qZA())}function tq(n,e){if(1&n&&(h.TgZ(0,"section",1),h.TgZ(1,"div",2),h.TgZ(2,"div",3),h.TgZ(3,"h2",4),h._uU(4,"Player Profile"),h.qZA(),h._UZ(5,"p",5),h.qZA(),h.qZA(),h.TgZ(6,"div",6),h.TgZ(7,"div",7),h.TgZ(8,"div",8),h.TgZ(9,"div",9),h.TgZ(10,"div",10),h.TgZ(11,"figure",11),h.YNc(12,KB,1,1,"img",12),h.YNc(13,QB,1,0,"img",13),h.YNc(14,YB,2,0,"div",14),h.qZA(),h.qZA(),h.TgZ(15,"div",15),h.TgZ(16,"div",16),h.TgZ(17,"h3"),h._uU(18),h.TgZ(19,"small"),h._uU(20),h.qZA(),h.qZA(),h.qZA(),h.YNc(21,JB,27,27,"div",17),h.TgZ(22,"div",9),h.TgZ(23,"div",18),h.TgZ(24,"h3"),h._uU(25,"GAME STATS"),h.qZA(),h.TgZ(26,"table",19),h.TgZ(27,"thead"),h.TgZ(28,"tr"),h.TgZ(29,"th"),h._uU(30,"Date"),h.qZA(),h.TgZ(31,"th"),h._uU(32,"JV/Varsity"),h.qZA(),h.TgZ(33,"th"),h._uU(34,"Goals"),h.qZA(),h.TgZ(35,"th"),h._uU(36,"Assists"),h.qZA(),h.TgZ(37,"th"),h._uU(38,"Points"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(39,"tbody"),h.YNc(40,XB,12,8,"tr",20),h.YNc(41,eq,3,0,"tr",21),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw();h.xp6(12),h.Q6J("ngIf",t.player.image),h.xp6(1),h.Q6J("ngIf",!t.player.image),h.xp6(1),h.Q6J("ngIf",!t.player.image),h.xp6(4),h.lnq("#",t.player.jersey_number," ",t.player.first_name," ",t.player.last_name," "),h.xp6(2),h.Oqu(t.getPlayerStatus()),h.xp6(1),h.Q6J("ngIf",t.player&&t.seasonStats),h.xp6(19),h.Q6J("ngForOf",t.playerStats),h.xp6(1),h.Q6J("ngIf",!(null!=t.playerStats&&t.playerStats.length))}}const nq=[{path:"",component:WB},{path:"teams",component:$B},{path:"schedule",component:VB},{path:"players/:playerId",component:(()=>{class n{constructor(t,r){this.route=t,this.firestore=r}ngOnInit(){this.route.params.subscribe(t=>{this.playerId=t.playerId,this.firestore.doc(`players/${this.playerId}`).valueChanges({idField:"id"}).subscribe({next:r=>{var o;this.player=r,this.playerStats=null===(o=this.player.seasons.find(u=>u.year="2022-2023"))||void 0===o?void 0:o.stats}}),this.firestore.collection("season_totals").valueChanges({idField:"id"}).subscribe({next:r=>{this.seasonStats=new U1,r.forEach(o=>{this.seasonStats.goals_for+=o.goals_for,this.seasonStats.assists_for+=o.assists_for,this.seasonStats.points_for+=o.points_for})}})})}getPlayerStatus(){return this.player.seasons[0].varsity&&this.player.seasons[0].jv?"2 Way":this.player.seasons[0].jv&&!this.player.seasons[0].varsity?"JV":"Varsity"}getBarWidth(t,r){let u=(t/r*100).toPrecision(2);return console.log(u),u.toString()+"%"}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tu),h.Y36(Tv))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-players"]],decls:1,vars:1,consts:[["class","section-padding",4,"ngIf"],[1,"section-padding"],[1,"container"],[1,"text-center","mb-80"],[1,"section-title","text-uppercase"],[1,"section-sub"],[1,"panel-body"],[1,"tab-content"],["role","tabpanel","id","team-1",1,"tab-pane","fade","in","active"],[1,"row"],[1,"col-md-4","col-sm-3"],[1,"team-img","text-center"],["class","img-responsive","alt","Image",3,"src",4,"ngIf"],["src","../../assets/img/wrhs_logo.png","class","img-responsive","alt","Image",4,"ngIf"],["class","text-left","style","margin-left: 59px;",4,"ngIf"],[1,"col-md-8","col-sm-9"],[1,"team-intro"],["class","team-skill",4,"ngIf"],[1,"col-md-12"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","Image",1,"img-responsive",3,"src"],["src","../../assets/img/wrhs_logo.png","alt","Image",1,"img-responsive"],[1,"text-left",2,"margin-left","59px"],[1,"team-skill"],[1,"col-sm-6"],[1,"progress-section"],[1,"progress-title"],[1,"progress"],["role","progressbar","aria-valuemin","0",1,"progress-bar"],["scope","row"],["colspan","5",1,"text-center","text-bold"]],template:function(t,r){1&t&&h.YNc(0,tq,42,10,"section",0),2&t&&h.Q6J("ngIf",r.player)},directives:[Ii,ei],pipes:[Xa],styles:[""]}),n})()},{path:"games/:gameId",component:AB},{path:"**",redirectTo:"",pathMatch:"full"}];let rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[X_.forRoot(nq)],X_]}),n})();const VL=function(){return{team:"varsity"}};let iq=(()=>{class n{constructor(t){this.today=new Date("2022-09-01"),t.collection("season_totals",r=>r.where("season","==","2022-2023").where("varsity","==",!0)).valueChanges().subscribe({next:r=>{const o=r[0],u=U1.getGoalDiff(o.goals_for,o.goals_against);o.goalDiff=u,this.seasonStats=o}})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tv))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:56,vars:8,consts:[["id","header",1,"tt-nav","transparent-header"],[1,"header-sticky","semi-transparent"],[1,"container"],["id","materialize-menu",1,"menuzord"],["href","index.html",1,"logo-brand"],["src","../assets/img/WR_Logo.png","alt",""],[1,"logo-brand-text"],[1,"menuzord-menu","pull-right","light"],[1,"active"],["routerLink","home"],["routerLink","teams"],["routerLink","schedule",3,"queryParams"],[1,"footer","footer-four"],[1,"primary-footer","brand-bg","text-center"],["href","#top","data-section","#top",1,"page-scroll","btn-floating","btn-large","pink","back-top","waves-effect","waves-light"],[1,"material-icons"],[1,"social-link","tt-animate","ltr","mt-20"],["href","https://www.facebook.com/groups/wiregrasshockeyclub","target","_blank"],[1,"fa","fa-facebook"],["href","https://www.instagram.com/wrhs.hockey","target","_blank"],[1,"fa","fa-instagram"],[1,"mt-15"],[1,"row"],[1,"col-md-12"],[1,"footer-logo"],["src","../assets/img/wrhs_logo.png","alt",""],[1,"copy-text"],["href","#"],[1,"footer-intro"],[1,"secondary-footer","brand-bg","darken-2","text-center"]],template:function(t,r){1&t&&(h.TgZ(0,"header",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"a",4),h._UZ(5,"img",5),h.TgZ(6,"div",6),h._uU(7,"Wiregrass Hockey"),h.qZA(),h.qZA(),h.TgZ(8,"ul",7),h.TgZ(9,"li",8),h.TgZ(10,"a",9),h._uU(11,"Home"),h.qZA(),h.qZA(),h.TgZ(12,"li"),h.TgZ(13,"a",10),h._uU(14,"Teams"),h.qZA(),h.qZA(),h.TgZ(15,"li"),h.TgZ(16,"a",11),h._uU(17,"Schedule"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(18,"router-outlet"),h.TgZ(19,"footer",12),h.TgZ(20,"div",13),h.TgZ(21,"div",2),h.TgZ(22,"a",14),h.TgZ(23,"i",15),h._uU(24,"\ue316"),h.qZA(),h.qZA(),h.TgZ(25,"ul",16),h.TgZ(26,"li"),h.TgZ(27,"a",17),h._UZ(28,"i",18),h.qZA(),h.qZA(),h.TgZ(29,"li"),h.TgZ(30,"a",19),h._UZ(31,"i",20),h.qZA(),h.qZA(),h.qZA(),h._UZ(32,"hr",21),h.TgZ(33,"div",22),h.TgZ(34,"div",23),h.TgZ(35,"div",24),h._UZ(36,"img",25),h.qZA(),h.TgZ(37,"span",26),h._uU(38),h.ALo(39,"date"),h.TgZ(40,"a",27),h._uU(41,"Wiregrass Ranch Hockey Club"),h.qZA(),h._uU(42," \xa0 | \xa0 All Rights Reserved"),h.qZA(),h._UZ(43,"div",28),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(44,"div",29),h.TgZ(45,"div",2),h.TgZ(46,"ul"),h.TgZ(47,"li"),h.TgZ(48,"a",9),h._uU(49,"Home"),h.qZA(),h.qZA(),h.TgZ(50,"li"),h.TgZ(51,"a",10),h._uU(52,"Team"),h.qZA(),h.qZA(),h.TgZ(53,"li"),h.TgZ(54,"a",11),h._uU(55,"Schedule"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(16),h.Q6J("queryParams",h.DdM(6,VL)),h.xp6(22),h.hij("Copyright \xa9 ",h.xi3(39,3,r.today,"YYYY")," "),h.xp6(16),h.Q6J("queryParams",h.DdM(7,VL)))},directives:[na,um],pipes:[Xa],styles:[".logo-brand-text[_ngcontent-%COMP%]{font-family:Raleway;font-weight:700;text-transform:uppercase;color:#fff;width:325px!important;margin-top:-30px}.sticky[_ngcontent-%COMP%]   .logo-brand-text[_ngcontent-%COMP%]{margin-top:-15px!important}"]}),n})();var Wn=(()=>(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error"}(Wn||(Wn={})),Wn))();function V0(n){return!!n&&n<7}var me=M(4762),j1="Invariant Violation",UL=Object.setPrototypeOf,sq=void 0===UL?function(n,e){return n.__proto__=e,n}:UL,ir=function(n){function e(t){void 0===t&&(t=j1);var r=n.call(this,"number"==typeof t?j1+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return r.framesToPop=1,r.name=j1,sq(r,e.prototype),r}return(0,me.ZT)(e,n),e}(Error);function mt(n,e){if(!n)throw new ir(e)}var cD=["debug","log","warn","error","silent"],B1=cD.indexOf("log");function lD(n){return function(){if(cD.indexOf(n)>=B1){var e=console[n]||console.log;return e.apply(console,arguments)}}}function la(n){try{return n()}catch(e){}}!function(n){n.debug=lD("debug"),n.log=lD("log"),n.warn=lD("warn"),n.error=lD("error")}(mt||(mt={}));const jL=la(function(){return globalThis})||la(function(){return window})||la(function(){return self})||la(function(){return global})||la(function(){return la.constructor("return this")()});var BL="__",qL=[BL,BL].join("DEV");const q1=function(){try{return Boolean(__DEV__)}catch(n){return Object.defineProperty(jL,qL,{value:"production"!==la(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),jL[qL]}}();function gh(n){try{return n()}catch(e){}}var $1=gh(function(){return globalThis})||gh(function(){return window})||gh(function(){return self})||gh(function(){return global})||gh(function(){return gh.constructor("return this")()}),H1=!1;$1&&!gh(function(){return"production"})&&!gh(function(){return process})&&(Object.defineProperty($1,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),H1=!0),"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol,"function"==typeof Symbol&&null!=Symbol.toStringTag&&Symbol;const Z1="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function dD(n){return(dD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function ZL(n){return hD(n,[])}function hD(n,e){switch(dD(n)){case"string":return JSON.stringify(n);case"function":return n.name?"[function ".concat(n.name,"]"):"[function]";case"object":return null===n?"null":function(n,e){if(-1!==e.indexOf(n))return"[Circular]";var t=[].concat(e,[n]),r=function(n){var e=n[String(Z1)];return"function"==typeof e?e:"function"==typeof n.inspect?n.inspect:void 0}(n);if(void 0!==r){var o=r.call(n);if(o!==n)return"string"==typeof o?o:hD(o,t)}else if(Array.isArray(n))return function(n,e){if(0===n.length)return"[]";if(e.length>2)return"[Array]";for(var t=Math.min(10,n.length),r=n.length-t,o=[],u=0;u<t;++u)o.push(hD(n[u],e));return 1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items")),"["+o.join(", ")+"]"}(n,t);return function(n,e){var t=Object.keys(n);if(0===t.length)return"{}";if(e.length>2)return"["+function(n){var e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof n.constructor){var t=n.constructor.name;if("string"==typeof t&&""!==t)return t}return e}(n)+"]";var r=t.map(function(o){return o+": "+hD(n[o],e)});return"{ "+r.join(", ")+" }"}(n,t)}(n,e);default:return String(n)}}function WL(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function KL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function z1(n,e,t){return e&&KL(n.prototype,e),t&&KL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}H1&&(delete $1.process,H1=!1),__DEV__?mt("boolean"==typeof q1,q1):mt("boolean"==typeof q1,36);var W1=function(){return"function"==typeof Symbol},K1=function(n){return W1()&&Boolean(Symbol[n])},Q1=function(n){return K1(n)?Symbol[n]:"@@"+n};W1()&&!K1("observable")&&(Symbol.observable=Symbol("observable"));var Eq=Q1("iterator"),Y1=Q1("observable"),QL=Q1("species");function fD(n,e){var t=n[e];if(null!=t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}}function U0(n){var e=n.constructor;return void 0!==e&&null===(e=e[QL])&&(e=void 0),void 0!==e?e:Er}function Cv(n){Cv.log?Cv.log(n):setTimeout(function(){throw n})}function pD(n){Promise.resolve().then(function(){try{n()}catch(e){Cv(e)}})}function YL(n){var e=n._cleanup;if(void 0!==e&&(n._cleanup=void 0,e))try{if("function"==typeof e)e();else{var t=fD(e,"unsubscribe");t&&t.call(e)}}catch(r){Cv(r)}}function J1(n){n._observer=void 0,n._queue=void 0,n._state="closed"}function JL(n,e,t){n._state="running";var r=n._observer;try{var o=fD(r,e);switch(e){case"next":o&&o.call(r,t);break;case"error":if(J1(n),!o)throw t;o.call(r,t);break;case"complete":J1(n),o&&o.call(r)}}catch(u){Cv(u)}"closed"===n._state?YL(n):"running"===n._state&&(n._state="ready")}function X1(n,e,t){if("closed"!==n._state){if("buffering"===n._state)return void n._queue.push({type:e,value:t});if("ready"!==n._state)return n._state="buffering",n._queue=[{type:e,value:t}],void pD(function(){return function(n){var e=n._queue;if(e){n._queue=void 0,n._state="ready";for(var t=0;t<e.length&&(JL(n,e[t].type,e[t].value),"closed"!==n._state);++t);}}(n)});JL(n,e,t)}}var Tq=function(){function n(t,r){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new Cq(this);try{this._cleanup=r.call(void 0,o)}catch(u){o.error(u)}"initializing"===this._state&&(this._state="ready")}return n.prototype.unsubscribe=function(){"closed"!==this._state&&(J1(this),YL(this))},z1(n,[{key:"closed",get:function(){return"closed"===this._state}}]),n}(),Cq=function(){function n(t){this._subscription=t}var e=n.prototype;return e.next=function(r){X1(this._subscription,"next",r)},e.error=function(r){X1(this._subscription,"error",r)},e.complete=function(){X1(this._subscription,"complete")},z1(n,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),n}(),Er=function(){function n(t){if(!(this instanceof n))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var e=n.prototype;return e.subscribe=function(r){return("object"!=typeof r||null===r)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new Tq(r,this._subscriber)},e.forEach=function(r){var o=this;return new Promise(function(u,l){if("function"==typeof r)var g=o.subscribe({next:function(v){try{r(v,f)}catch(I){l(I),g.unsubscribe()}},error:l,complete:u});else l(new TypeError(r+" is not a function"));function f(){g.unsubscribe(),u()}})},e.map=function(r){var o=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(U0(this))(function(l){return o.subscribe({next:function(f){try{f=r(f)}catch(g){return l.error(g)}l.next(f)},error:function(f){l.error(f)},complete:function(){l.complete()}})})},e.filter=function(r){var o=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(U0(this))(function(l){return o.subscribe({next:function(f){try{if(!r(f))return}catch(g){return l.error(g)}l.next(f)},error:function(f){l.error(f)},complete:function(){l.complete()}})})},e.reduce=function(r){var o=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var u=U0(this),l=arguments.length>1,f=!1,g=arguments[1],v=g;return new u(function(I){return o.subscribe({next:function(C){var D=!f;if(f=!0,!D||l)try{v=r(v,C)}catch(x){return I.error(x)}else v=C},error:function(C){I.error(C)},complete:function(){if(!f&&!l)return I.error(new TypeError("Cannot reduce an empty sequence"));I.next(v),I.complete()}})})},e.concat=function(){for(var r=this,o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];var f=U0(this);return new f(function(g){var v,I=0;return function C(D){v=D.subscribe({next:function(x){g.next(x)},error:function(x){g.error(x)},complete:function(){I===u.length?(v=void 0,g.complete()):C(f.from(u[I++]))}})}(r),function(){v&&(v.unsubscribe(),v=void 0)}})},e.flatMap=function(r){var o=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var u=U0(this);return new u(function(l){var f=[],g=o.subscribe({next:function(I){if(r)try{I=r(I)}catch(D){return l.error(D)}var C=u.from(I).subscribe({next:function(D){l.next(D)},error:function(D){l.error(D)},complete:function(){var D=f.indexOf(C);D>=0&&f.splice(D,1),v()}});f.push(C)},error:function(I){l.error(I)},complete:function(){v()}});function v(){g.closed&&0===f.length&&l.complete()}return function(){f.forEach(function(I){return I.unsubscribe()}),g.unsubscribe()}})},e[Y1]=function(){return this},n.from=function(r){var o="function"==typeof this?this:n;if(null==r)throw new TypeError(r+" is not an object");var u=fD(r,Y1);if(u){var l=u.call(r);if(Object(l)!==l)throw new TypeError(l+" is not an object");return function(n){return n instanceof Er}(l)&&l.constructor===o?l:new o(function(f){return l.subscribe(f)})}if(K1("iterator")&&(u=fD(r,Eq)))return new o(function(f){pD(function(){if(!f.closed){for(var v,g=function(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return WL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return WL(n,e)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u.call(r));!(v=g()).done;)if(f.next(v.value),f.closed)return;f.complete()}})});if(Array.isArray(r))return new o(function(f){pD(function(){if(!f.closed){for(var g=0;g<r.length;++g)if(f.next(r[g]),f.closed)return;f.complete()}})});throw new TypeError(r+" is not observable")},n.of=function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];var l="function"==typeof this?this:n;return new l(function(f){pD(function(){if(!f.closed){for(var g=0;g<o.length;++g)if(f.next(o[g]),f.closed)return;f.complete()}})})},z1(n,null,[{key:QL,get:function(){return this}}]),n}();function Qr(n){return null!==n&&"object"==typeof n}function Dq(n,e){var t=e,r=[];return n.definitions.forEach(function(u){if("OperationDefinition"===u.kind)throw __DEV__?new ir("Found a ".concat(u.operation," operation").concat(u.name?" named '".concat(u.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new ir(41);"FragmentDefinition"===u.kind&&r.push(u)}),void 0===t&&(__DEV__?mt(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):mt(1===r.length,42),t=r[0].name.value),(0,me.pi)((0,me.pi)({},n),{definitions:(0,me.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions,!0)})}function gD(n){void 0===n&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function eP(n,e){switch(n.kind){case"InlineFragment":return n;case"FragmentSpread":var t=e&&e[n.name.value];return __DEV__?mt(t,"No fragment named ".concat(n.name.value,".")):mt(t,43),t;default:return null}}function Sv(n){return{__ref:String(n)}}function Kn(n){return Boolean(n&&"object"==typeof n&&"string"==typeof n.__ref)}function Dv(n,e,t,r){if(function(n){return"IntValue"===n.kind}(t)||function(n){return"FloatValue"===n.kind}(t))n[e.value]=Number(t.value);else if(function(n){return"BooleanValue"===n.kind}(t)||function(n){return"StringValue"===n.kind}(t))n[e.value]=t.value;else if(function(n){return"ObjectValue"===n.kind}(t)){var o={};t.fields.map(function(l){return Dv(o,l.name,l.value,r)}),n[e.value]=o}else if(function(n){return"Variable"===n.kind}(t))n[e.value]=(r||{})[t.name.value];else if(function(n){return"ListValue"===n.kind}(t))n[e.value]=t.values.map(function(l){var f={};return Dv(f,e,l,r),f[e.value]});else if(function(n){return"EnumValue"===n.kind}(t))n[e.value]=t.value;else{if(!function(n){return"NullValue"===n.kind}(t))throw __DEV__?new ir('The inline argument "'.concat(e.value,'" of kind "').concat(t.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new ir(52);n[e.value]=null}}W1()&&Object.defineProperty(Er,Symbol("extensions"),{value:{symbol:Y1,hostReportError:Cv},configurable:!0});var Uq=["connection","include","skip","client","rest","export"],tP=Object.assign(function(n,e,t){if(e&&t&&t.connection&&t.connection.key){if(t.connection.filter&&t.connection.filter.length>0){var r=t.connection.filter?t.connection.filter:[];r.sort();var o={};return r.forEach(function(f){o[f]=e[f]}),"".concat(t.connection.key,"(").concat(j0(o),")")}return t.connection.key}var u=n;if(e){var l=j0(e);u+="(".concat(l,")")}return t&&Object.keys(t).forEach(function(f){-1===Uq.indexOf(f)&&(t[f]&&Object.keys(t[f]).length?u+="@".concat(f,"(").concat(j0(t[f]),")"):u+="@".concat(f))}),u},{setStringify:function(n){var e=j0;return j0=n,e}}),j0=function(e){return JSON.stringify(e,jq)};function jq(n,e){return Qr(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(t,r){return t[r]=e[r],t},{})),e}function mD(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(r){return Dv(t,r.name,r.value,e)}),t}return null}function Kp(n){return n.alias?n.alias.value:n.name.value}function nP(n,e,t){if("string"==typeof n.__typename)return n.__typename;for(var r=0,o=e.selections;r<o.length;r++){var u=o[r];if(Sl(u)){if("__typename"===u.name.value)return n[Kp(u)]}else{var l=nP(n,eP(u,t).selectionSet,t);if("string"==typeof l)return l}}}function Sl(n){return"Field"===n.kind}function XL(n){return"InlineFragment"===n.kind}function yD(n){__DEV__?mt(n&&"Document"===n.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):mt(n&&"Document"===n.kind,44);var e=n.definitions.filter(function(t){return"FragmentDefinition"!==t.kind}).map(function(t){if("OperationDefinition"!==t.kind)throw __DEV__?new ir('Schema type definitions not allowed in queries. Found: "'.concat(t.kind,'"')):new ir(45);return t});return __DEV__?mt(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):mt(e.length<=1,46),n}function B0(n){return yD(n),n.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function rP(n){return n.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function vD(n){return n.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function eV(n){var e=B0(n);return __DEV__?mt(e&&"query"===e.operation,"Must contain a query definition."):mt(e&&"query"===e.operation,47),e}function iP(n){yD(n);for(var e,t=0,r=n.definitions;t<r.length;t++){var o=r[t];if("OperationDefinition"===o.kind){var u=o.operation;if("query"===u||"mutation"===u||"subscription"===u)return o}"FragmentDefinition"===o.kind&&!e&&(e=o)}if(e)return e;throw __DEV__?new ir("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new ir(51)}function sP(n){var e=Object.create(null),t=n&&n.variableDefinitions;return t&&t.length&&t.forEach(function(r){r.defaultValue&&Dv(e,r.variable.name,r.defaultValue)}),e}function tV(n,e){return e?e(n):Er.of()}function q0(n){return"function"==typeof n?new Av(n):n}function _D(n){return n.request.length<=1}var Hq=function(n){function e(t,r){var o=n.call(this,t)||this;return o.link=r,o}return(0,me.ZT)(e,n),e}(Error),Av=function(){function n(e){e&&(this.request=e)}return n.empty=function(){return new n(function(){return Er.of()})},n.from=function(e){return 0===e.length?n.empty():e.map(q0).reduce(function(t,r){return t.concat(r)})},n.split=function(e,t,r){var o=q0(t),u=q0(r||new n(tV));return _D(o)&&_D(u)?new n(function(l){return e(l)?o.request(l)||Er.of():u.request(l)||Er.of()}):new n(function(l,f){return e(l)?o.request(l,f)||Er.of():u.request(l,f)||Er.of()})},n.execute=function(e,t){return e.request(function(n,e){var t=(0,me.pi)({},n);return Object.defineProperty(e,"setContext",{enumerable:!1,value:function(u){t=(0,me.pi)((0,me.pi)({},t),"function"==typeof u?u(t):u)}}),Object.defineProperty(e,"getContext",{enumerable:!1,value:function(){return(0,me.pi)({},t)}}),e}(t.context,function(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName="string"!=typeof e.query?rP(e.query)||void 0:""),e}(function(n){for(var e=["query","operationName","variables","extensions","context"],t=0,r=Object.keys(n);t<r.length;t++){var o=r[t];if(e.indexOf(o)<0)throw __DEV__?new ir("illegal argument: ".concat(o)):new ir(24)}return n}(t))))||Er.of()},n.concat=function(e,t){var r=q0(e);if(_D(r))return __DEV__&&mt.warn(new Hq("You are calling concat on a terminating link, which will have no effect",r)),r;var o=q0(t);return _D(o)?new n(function(u){return r.request(u,function(l){return o.request(l)||Er.of()})||Er.of()}):new n(function(u,l){return r.request(u,function(f){return o.request(f,l)||Er.of()})||Er.of()})},n.prototype.split=function(e,t,r){return this.concat(n.split(e,t,r||new n(tV)))},n.prototype.concat=function(e){return n.concat(this,e)},n.prototype.request=function(e,t){throw __DEV__?new ir("request is not implemented"):new ir(19)},n.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},n.prototype.setOnError=function(e){return this.onError=e,this},n}(),oP=Av.execute;function nV(n){var e=n.prototype.toJSON;"function"==typeof e||function(n,e){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),n.prototype.inspect=e,Z1&&(n.prototype[Z1]=e)}var zq=function(){function n(t,r,o){this.start=t.start,this.end=r.end,this.startToken=t,this.endToken=r,this.source=o}return n.prototype.toJSON=function(){return{start:this.start,end:this.end}},n}();nV(zq);var Wq=function(){function n(t,r,o,u,l,f,g){this.kind=t,this.start=r,this.end=o,this.line=u,this.column=l,this.value=g,this.prev=f,this.next=null}return n.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},n}();function rV(n){return null!=n&&"string"==typeof n.kind}nV(Wq);var Kq={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},xv=Object.freeze({});function tc(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kq,r=void 0,o=Array.isArray(n),u=[n],l=-1,f=[],g=void 0,v=void 0,I=void 0,C=[],D=[],x=n;do{var N=++l===u.length,H=N&&0!==f.length;if(N){if(v=0===D.length?void 0:C[C.length-1],g=I,I=D.pop(),H){if(o)g=g.slice();else{for(var X={},ve=0,Le=Object.keys(g);ve<Le.length;ve++){var xe=Le[ve];X[xe]=g[xe]}g=X}for(var je=0,Je=0;Je<f.length;Je++){var Xe=f[Je][0],at=f[Je][1];o&&(Xe-=je),o&&null===at?(g.splice(Xe,1),je++):g[Xe]=at}}l=r.index,u=r.keys,f=r.edits,o=r.inArray,r=r.prev}else{if(v=I?o?l:u[l]:void 0,null==(g=I?I[v]:x))continue;I&&C.push(v)}var In,$t=void 0;if(!Array.isArray(g)){if(!rV(g))throw new Error("Invalid AST Node: ".concat(ZL(g),"."));var fr=aP(e,g.kind,N);if(fr){if(($t=fr.call(e,g,v,I,C,D))===xv)break;if(!1===$t){if(!N){C.pop();continue}}else if(void 0!==$t&&(f.push([v,$t]),!N)){if(!rV($t)){C.pop();continue}g=$t}}}void 0===$t&&H&&f.push([v,g]),N?C.pop():(r={inArray:o,index:l,keys:u,edits:f,prev:r},u=(o=Array.isArray(g))?g:null!==(In=t[g.kind])&&void 0!==In?In:[],l=-1,f=[],I&&D.push(I),I=g)}while(void 0!==r);return 0!==f.length&&(x=f[f.length-1][1]),x}function aP(n,e,t){var r=n[e];if(r){if(!t&&"function"==typeof r)return r;var o=t?r.leave:r.enter;if("function"==typeof o)return o}else{var u=t?n.leave:n.enter;if(u){if("function"==typeof u)return u;var l=u[e];if("function"==typeof l)return l}}}var uP=function(n,e){var t;try{t=JSON.stringify(n)}catch(o){var r=__DEV__?new ir("Network request failed. ".concat(e," is not serializable: ").concat(o.message)):new ir(21);throw r.parseError=o,r}return t},iV=function(n,e,t){var r=new Error(t);throw r.name="ServerError",r.response=n,r.statusCode=n.status,r.result=e,r},sV=Object.prototype.hasOwnProperty;function aV(n){return tc(n,{leave:n$})}var n$={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Dt(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,o=jr("(",Dt(e.variableDefinitions,", "),")"),u=Dt(e.directives," "),l=e.selectionSet;return r||u||o||"query"!==t?Dt([t,Dt([r,o]),u,l]," "):l},VariableDefinition:function(e){var u=e.directives;return e.variable+": "+e.type+jr(" = ",e.defaultValue)+jr(" ",Dt(u," "))},SelectionSet:function(e){return Qa(e.selections)},Field:function(e){var r=e.name,o=e.arguments,u=e.directives,l=e.selectionSet,f=jr("",e.alias,": ")+r,g=f+jr("(",Dt(o,", "),")");return g.length>80&&(g=f+jr("(\n",bD(Dt(o,"\n")),"\n)")),Dt([g,Dt(u," "),l]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+jr(" ",Dt(e.directives," "))},InlineFragment:function(e){var r=e.directives,o=e.selectionSet;return Dt(["...",jr("on ",e.typeCondition),Dt(r," "),o]," ")},FragmentDefinition:function(e){var r=e.typeCondition,o=e.variableDefinitions,u=e.directives,l=e.selectionSet;return"fragment ".concat(e.name).concat(jr("(",Dt(o,", "),")")," ")+"on ".concat(r," ").concat(jr("",Dt(u," ")," "))+l},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===n.indexOf("\n"),o=" "===n[0]||"\t"===n[0],u='"'===n[n.length-1],l="\\"===n[n.length-1],f=!r||u||l||t,g="";return f&&!(r&&o)&&(g+="\n"+e),g+=e?n.replace(/\n/g,"\n"+e):n,f&&(g+="\n"),'"""'+g.replace(/"""/g,'\\"""')+'"""'}(r,"description"===t?"":"  "):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+Dt(e.values,", ")+"]"},ObjectValue:function(e){return"{"+Dt(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+jr("(",Dt(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:Ka(function(n){var t=n.operationTypes;return Dt(["schema",Dt(n.directives," "),Qa(t)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:Ka(function(n){return Dt(["scalar",n.name,Dt(n.directives," ")]," ")}),ObjectTypeDefinition:Ka(function(n){var r=n.directives,o=n.fields;return Dt(["type",n.name,jr("implements ",Dt(n.interfaces," & ")),Dt(r," "),Qa(o)]," ")}),FieldDefinition:Ka(function(n){var t=n.arguments,r=n.type,o=n.directives;return n.name+(uV(t)?jr("(\n",bD(Dt(t,"\n")),"\n)"):jr("(",Dt(t,", "),")"))+": "+r+jr(" ",Dt(o," "))}),InputValueDefinition:Ka(function(n){var o=n.directives;return Dt([n.name+": "+n.type,jr("= ",n.defaultValue),Dt(o," ")]," ")}),InterfaceTypeDefinition:Ka(function(n){var r=n.directives,o=n.fields;return Dt(["interface",n.name,jr("implements ",Dt(n.interfaces," & ")),Dt(r," "),Qa(o)]," ")}),UnionTypeDefinition:Ka(function(n){var r=n.types;return Dt(["union",n.name,Dt(n.directives," "),r&&0!==r.length?"= "+Dt(r," | "):""]," ")}),EnumTypeDefinition:Ka(function(n){var r=n.values;return Dt(["enum",n.name,Dt(n.directives," "),Qa(r)]," ")}),EnumValueDefinition:Ka(function(n){return Dt([n.name,Dt(n.directives," ")]," ")}),InputObjectTypeDefinition:Ka(function(n){var r=n.fields;return Dt(["input",n.name,Dt(n.directives," "),Qa(r)]," ")}),DirectiveDefinition:Ka(function(n){var t=n.arguments,r=n.repeatable,o=n.locations;return"directive @"+n.name+(uV(t)?jr("(\n",bD(Dt(t,"\n")),"\n)"):jr("(",Dt(t,", "),")"))+(r?" repeatable":"")+" on "+Dt(o," | ")}),SchemaExtension:function(e){var r=e.operationTypes;return Dt(["extend schema",Dt(e.directives," "),Qa(r)]," ")},ScalarTypeExtension:function(e){return Dt(["extend scalar",e.name,Dt(e.directives," ")]," ")},ObjectTypeExtension:function(e){var o=e.directives,u=e.fields;return Dt(["extend type",e.name,jr("implements ",Dt(e.interfaces," & ")),Dt(o," "),Qa(u)]," ")},InterfaceTypeExtension:function(e){var o=e.directives,u=e.fields;return Dt(["extend interface",e.name,jr("implements ",Dt(e.interfaces," & ")),Dt(o," "),Qa(u)]," ")},UnionTypeExtension:function(e){var o=e.types;return Dt(["extend union",e.name,Dt(e.directives," "),o&&0!==o.length?"= "+Dt(o," | "):""]," ")},EnumTypeExtension:function(e){var o=e.values;return Dt(["extend enum",e.name,Dt(e.directives," "),Qa(o)]," ")},InputObjectTypeExtension:function(e){var o=e.fields;return Dt(["extend input",e.name,Dt(e.directives," "),Qa(o)]," ")}};function Ka(n){return function(e){return Dt([e.description,n(e)],"\n")}}function Dt(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null==n?void 0:n.filter(function(r){return r}).join(t))&&void 0!==e?e:""}function Qa(n){return jr("{\n",bD(Dt(n,"\n")),"\n}")}function jr(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=e&&""!==e?n+e+t:""}function bD(n){return jr("  ",n.replace(/\n/g,"\n  "))}function r$(n){return-1!==n.indexOf("\n")}function uV(n){return null!=n&&n.some(r$)}var a$={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},cV=function(n,e){return e(n)};function u$(n){if(n){var e=Object.create(null);return Object.keys(Object(n)).forEach(function(t){e[t.toLowerCase()]=n[t]}),e}return n}function dV(n){return new Er(function(e){e.error(n)})}var hV=la(function(){return fetch}),d$=function(n){void 0===n&&(n={});var e=n.uri,t=void 0===e?"/graphql":e,r=n.fetch,o=n.print,u=void 0===o?cV:o,l=n.includeExtensions,f=n.useGETForQueries,g=n.includeUnusedVariables,v=void 0!==g&&g,I=(0,me._T)(n,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(n){if(!n&&"undefined"==typeof fetch)throw __DEV__?new ir("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new ir(20)}(r||hV);var C={http:{includeExtensions:l},options:I.fetchOptions,credentials:I.credentials,headers:I.headers};return new Av(function(D){var x=function(n,e){return n.getContext().uri||("function"==typeof e?e(n):e||"/graphql")}(D,t),N=D.getContext(),H={};if(N.clientAwareness){var X=N.clientAwareness,ve=X.name,Le=X.version;ve&&(H["apollographql-client-name"]=ve),Le&&(H["apollographql-client-version"]=Le)}var fr,xe=(0,me.pi)((0,me.pi)({},H),N.headers),Je=function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var o={},u={};t.forEach(function(C){o=(0,me.pi)((0,me.pi)((0,me.pi)({},o),C.options),{headers:(0,me.pi)((0,me.pi)({},o.headers),u$(C.headers))}),C.credentials&&(o.credentials=C.credentials),u=(0,me.pi)((0,me.pi)({},u),C.http)});var f=n.extensions,v=n.query,I={operationName:n.operationName,variables:n.variables};return u.includeExtensions&&(I.extensions=f),u.includeQuery&&(I.query=e(v,aV)),{options:o,body:I}}(D,u,a$,C,{http:N.http,options:N.fetchOptions,credentials:N.credentials,headers:xe}),Xe=Je.options,at=Je.body;if(at.variables&&!v){var $t=new Set(Object.keys(at.variables));tc(D.query,{Variable:function(bt,en,Qt){Qt&&"VariableDefinition"!==Qt.kind&&$t.delete(bt.name.value)}}),$t.size&&(at.variables=(0,me.pi)({},at.variables),$t.forEach(function(bt){delete at.variables[bt]}))}if(!Xe.signal){var In=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var n=new AbortController;return{controller:n,signal:n.signal}}();(fr=In.controller)&&(Xe.signal=In.signal)}if(f&&!D.query.definitions.some(function(bt){return"OperationDefinition"===bt.kind&&"mutation"===bt.operation})&&(Xe.method="GET"),"GET"===Xe.method){var Q0=function(n,e){var t=[],r=function(C,D){t.push("".concat(C,"=").concat(encodeURIComponent(D)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var o=void 0;try{o=uP(e.variables,"Variables map")}catch(C){return{parseError:C}}r("variables",o)}if(e.extensions){var u=void 0;try{u=uP(e.extensions,"Extensions map")}catch(C){return{parseError:C}}r("extensions",u)}var l="",f=n,g=n.indexOf("#");-1!==g&&(l=n.substr(g),f=n.substr(0,g));var v=-1===f.indexOf("?")?"?":"&";return{newURI:f+v+t.join("&")+l}}(x,at),OD=Q0.newURI,Tt=Q0.parseError;if(Tt)return dV(Tt);x=OD}else try{Xe.body=uP(at,"Payload")}catch(bt){return dV(bt)}return new Er(function(bt){return(r||la(function(){return fetch})||hV)(x,Xe).then(function(Qt){return D.setContext({response:Qt}),Qt}).then(function(n){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(o){var r=o;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}).then(function(t){return e.status>=300&&iV(e,t,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(t)&&!sV.call(t,"data")&&!sV.call(t,"errors")&&iV(e,t,"Server response was missing for query '".concat(Array.isArray(n)?n.map(function(r){return r.operationName}):n.operationName,"'.")),t})}}(D)).then(function(Qt){return bt.next(Qt),bt.complete(),Qt}).catch(function(Qt){"AbortError"!==Qt.name&&(Qt.result&&Qt.result.errors&&Qt.result.data&&bt.next(Qt.result),bt.error(Qt))}),function(){fr&&fr.abort()}})})},h$=function(n){function e(t){void 0===t&&(t={});var r=n.call(this,d$(t).request)||this;return r.options=t,r}return(0,me.ZT)(e,n),e}(Av),fV=Object.prototype,pV=fV.toString,f$=fV.hasOwnProperty,gV=Function.prototype.toString,cP=new Map;function Yi(n,e){try{return lP(n,e)}finally{cP.clear()}}function lP(n,e){if(n===e)return!0;var t=pV.call(n);if(t!==pV.call(e))return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":if(yV(n,e))return!0;var o=mV(n),u=mV(e),l=o.length;if(l!==u.length)return!1;for(var f=0;f<l;++f)if(!f$.call(e,o[f]))return!1;for(f=0;f<l;++f){var g=o[f];if(!lP(n[g],e[g]))return!1}return!0;case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!=n)return e!=e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n=="".concat(e);case"[object Map]":case"[object Set]":if(n.size!==e.size)return!1;if(yV(n,e))return!0;for(var v=n.entries(),I="[object Map]"===t;;){var C=v.next();if(C.done)break;var D=C.value,x=D[0],N=D[1];if(!e.has(x)||I&&!lP(N,e.get(x)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":n=new Uint8Array(n),e=new Uint8Array(e);case"[object DataView]":var H=n.byteLength;if(H===e.byteLength)for(;H--&&n[H]===e[H];);return-1===H;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var X=gV.call(n);return X===gV.call(e)&&!function(n,e){var t=n.length-e.length;return t>=0&&n.indexOf(e,t)===t}(X,g$)}return!1}function mV(n){return Object.keys(n).filter(p$,n)}function p$(n){return void 0!==this[n]}var g$="{ [native code] }";function yV(n,e){var t=cP.get(n);if(t){if(t.has(e))return!0}else cP.set(n,t=new Set);return t.add(e),!1}var y$=function(){return Object.create(null)},vV=Array.prototype,v$=vV.forEach,_$=vV.slice,$0=function(){function n(e,t){void 0===e&&(e=!0),void 0===t&&(t=y$),this.weakness=e,this.makeData=t}return n.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},n.prototype.lookupArray=function(e){var t=this;return v$.call(e,function(r){return t=t.getChildTrie(r)}),t.data||(t.data=this.makeData(_$.call(e)))},n.prototype.getChildTrie=function(e){var t=this.weakness&&function(n){switch(typeof n){case"object":if(null===n)break;case"function":return!0}return!1}(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=t.get(e);return r||t.set(e,r=new n(this.weakness,this.makeData)),r},n}(),Qp="function"==typeof WeakMap&&"ReactNative"!==la(function(){return navigator.product}),E$="function"==typeof WeakSet,w$="function"==typeof Symbol&&"function"==typeof Symbol.for;function ED(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Object.create(null);return n.forEach(function(r){!r||Object.keys(r).forEach(function(o){var u=r[o];void 0!==u&&(t[o]=u)})}),t}function wD(n,e){var t=n.directives;return!t||!t.length||function(n){var e=[];return n&&n.length&&n.forEach(function(t){if(function(n){var e=n.name.value;return"skip"===e||"include"===e}(t)){var r=t.arguments,o=t.name.value;__DEV__?mt(r&&1===r.length,"Incorrect number of arguments for the @".concat(o," directive.")):mt(r&&1===r.length,38);var u=r[0];__DEV__?mt(u.name&&"if"===u.name.value,"Invalid argument for the @".concat(o," directive.")):mt(u.name&&"if"===u.name.value,39);var l=u.value;__DEV__?mt(l&&("Variable"===l.kind||"BooleanValue"===l.kind),"Argument for the @".concat(o," directive must be a variable or a boolean value.")):mt(l&&("Variable"===l.kind||"BooleanValue"===l.kind),40),e.push({directive:t,ifArgument:u})}}),e}(t).every(function(r){var o=r.directive,u=r.ifArgument,l=!1;return"Variable"===u.value.kind?(l=e&&e[u.value.name.value],__DEV__?mt(void 0!==l,"Invalid variable referenced in @".concat(o.name.value," directive.")):mt(void 0!==l,37)):l=u.value.value,"skip"===o.name.value?!l:l})}function dP(n,e){return function(n){var e=[];return tc(n,{Directive:function(t){e.push(t.name.value)}}),e}(e).some(function(t){return n.indexOf(t)>-1})}function S$(n){return n&&dP(["client"],n)&&dP(["export"],n)}la(function(){return window.document.createElement}),la(function(){return navigator.userAgent.indexOf("jsdom")>=0});var x$=Object.prototype.hasOwnProperty;function _V(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return hP(n)}function hP(n){var e=n[0]||{},t=n.length;if(t>1)for(var r=new Rv,o=1;o<t;++o)e=r.merge(e,n[o]);return e}var R$=function(n,e,t){return this.merge(n[t],e[t])},Rv=function(){function n(e){void 0===e&&(e=R$),this.reconciler=e,this.isObject=Qr,this.pastCopies=new Set}return n.prototype.merge=function(e,t){for(var r=this,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];return Qr(t)&&Qr(e)?(Object.keys(t).forEach(function(l){if(x$.call(e,l)){var f=e[l];if(t[l]!==f){var g=r.reconciler.apply(r,(0,me.ev)([e,t,l],o,!1));g!==f&&((e=r.shallowCopyForMerge(e))[l]=g)}}else(e=r.shallowCopyForMerge(e))[l]=t[l]}),e):t},n.prototype.shallowCopyForMerge=function(e){return Qr(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):(0,me.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},n}(),Ji=Object.prototype.hasOwnProperty;function bV(n,e){var t=n.__typename,r=n.id,o=n._id;if("string"==typeof t&&(e&&(e.keyObject=void 0!==r?{id:r}:void 0!==o?{_id:o}:void 0),void 0===r&&(r=o),void 0!==r))return"".concat(t,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var EV={dataIdFromObject:bV,addTypename:!0,resultCaching:!0,canonizeResults:!1};function wV(n){var e=n.canonizeResults;return void 0===e?EV.canonizeResults:e}var IV=/^[_a-z][_0-9a-z]*/i;function mh(n){var e=n.match(IV);return e?e[0]:n}function fP(n,e,t){return!!Qr(e)&&(ai(e)?e.every(function(r){return fP(n,r,t)}):n.selections.every(function(r){if(Sl(r)&&wD(r,t)){var o=Kp(r);return Ji.call(e,o)&&(!r.selectionSet||fP(r.selectionSet,e[o],t))}return!0}))}function Ov(n){return Qr(n)&&!Kn(n)&&!ai(n)}var gP,mP,ai=function(n){return Array.isArray(n)},pP=function(){function n(){this.known=new(E$?WeakSet:Set),this.pool=new $0(Qp),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return n.prototype.isKnown=function(e){return Qr(e)&&this.known.has(e)},n.prototype.pass=function(e){if(Qr(e)){var t=function(n){return Qr(n)?ai(n)?n.slice(0):(0,me.pi)({__proto__:Object.getPrototypeOf(n)},n):n}(e);return this.passes.set(t,e),t}return e},n.prototype.admit=function(e){var t=this;if(Qr(e)){var r=this.passes.get(e);if(r)return r;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var u=e.map(this.admit,this);return(l=this.pool.lookupArray(u)).array||(this.known.add(l.array=u),__DEV__&&Object.freeze(u)),l.array;case null:case Object.prototype:if(this.known.has(e))return e;var f=Object.getPrototypeOf(e),g=[f],v=this.sortedKeys(e);g.push(v.json);var l,I=g.length;if(v.sorted.forEach(function(x){g.push(t.admit(e[x]))}),!(l=this.pool.lookupArray(g)).object){var C=l.object=Object.create(f);this.known.add(C),v.sorted.forEach(function(x,N){C[x]=g[I+N]}),__DEV__&&Object.freeze(C)}return l.object}}return e},n.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var o=JSON.stringify(t);(r.keys=this.keysByJSON.get(o))||this.keysByJSON.set(o,r.keys={sorted:t,json:o})}return r.keys},n}(),Yp=Object.assign(function(n){if(Qr(n)){void 0===gP&&TV();var e=gP.admit(n),t=mP.get(e);return void 0===t&&mP.set(e,t=JSON.stringify(e)),t}return JSON.stringify(n)},{reset:TV});function TV(){gP=new pP,mP=new(Qp?WeakMap:Map)}function yP(n,e,t){return new Er(function(r){var o=r.next,u=r.error,l=r.complete,f=0,g=!1,v={then:function(x){return new Promise(function(N){return N(x())})}};function I(x,N){return x?function(H){++f;var X=function(){return x(H)};v=v.then(X,X).then(function(ve){--f,o&&o.call(r,ve),g&&C.complete()},function(ve){throw--f,ve}).catch(function(ve){u&&u.call(r,ve)})}:function(H){return N&&N.call(r,H)}}var C={next:I(e,o),error:I(t,u),complete:function(){g=!0,f||l&&l.call(r)}},D=n.subscribe(C);return function(){return D.unsubscribe()}})}function ID(n){return n.errors&&n.errors.length>0||!1}function CV(n,e,t){var r=0;return n.forEach(function(o,u){e.call(this,o,u,n)&&(n[r++]=o)},t),n.length=r,n}var SV={kind:"Field",name:{kind:"Name",value:"__typename"}};function DV(n,e){return n.selectionSet.selections.every(function(t){return"FragmentSpread"===t.kind&&DV(e[t.name.value],e)})}function vP(n){return DV(B0(n)||function(n){__DEV__?mt("Document"===n.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):mt("Document"===n.kind,48),__DEV__?mt(n.definitions.length<=1,"Fragment must have exactly one definition."):mt(n.definitions.length<=1,49);var e=n.definitions[0];return __DEV__?mt("FragmentDefinition"===e.kind,"Must be a fragment definition."):mt("FragmentDefinition"===e.kind,50),e}(n),gD(vD(n)))?null:n}function _P(n){return function(t){return n.some(function(r){return r.name&&r.name===t.name.value||r.test&&r.test(t)})}}function AV(n,e){var t=Object.create(null),r=[],o=Object.create(null),u=[],l=vP(tc(e,{Variable:{enter:function(f,g,v){"VariableDefinition"!==v.kind&&(t[f.name.value]=!0)}},Field:{enter:function(f){if(n&&f.directives&&n.some(function(v){return v.remove})&&f.directives&&f.directives.some(_P(n)))return f.arguments&&f.arguments.forEach(function(v){"Variable"===v.value.kind&&r.push({name:v.value.name.value})}),f.selectionSet&&xV(f.selectionSet).forEach(function(v){u.push({name:v.name.value})}),null}},FragmentSpread:{enter:function(f){o[f.name.value]=!0}},Directive:{enter:function(f){if(_P(n)(f))return null}}}));return l&&CV(r,function(f){return!!f.name&&!t[f.name]}).length&&(l=function(n,e){var t=function(n){return function(t){return n.some(function(r){return t.value&&"Variable"===t.value.kind&&t.value.name&&(r.name===t.value.name.value||r.test&&r.test(t))})}}(n);return vP(tc(e,{OperationDefinition:{enter:function(r){return(0,me.pi)((0,me.pi)({},r),{variableDefinitions:r.variableDefinitions?r.variableDefinitions.filter(function(o){return!n.some(function(u){return u.name===o.variable.name.value})}):[]})}},Field:{enter:function(r){var o=n.some(function(l){return l.remove});if(o){var u=0;if(r.arguments&&r.arguments.forEach(function(l){t(l)&&(u+=1)}),1===u)return null}}},Argument:{enter:function(r){if(t(r))return null}}}))}(r,l)),l&&CV(u,function(f){return!!f.name&&!o[f.name]}).length&&(l=function(n,e){function t(r){if(n.some(function(o){return o.name===r.name.value}))return null}return vP(tc(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}(u,l)),l}var bP=Object.assign(function(n){return tc(n,{SelectionSet:{enter:function(e,t,r){if(!r||"OperationDefinition"!==r.kind){var o=e.selections;if(o&&!o.some(function(f){return Sl(f)&&("__typename"===f.name.value||0===f.name.value.lastIndexOf("__",0))})){var l=r;if(!(Sl(l)&&l.directives&&l.directives.some(function(f){return"export"===f.name.value})))return(0,me.pi)((0,me.pi)({},e),{selections:(0,me.ev)((0,me.ev)([],o,!0),[SV],!1)})}}}}})},{added:function(n){return n===SV}}),k$={test:function(n){var e="connection"===n.name.value;return e&&(!n.arguments||!n.arguments.some(function(t){return"key"===t.name.value}))&&__DEV__&&mt.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function xV(n){var e=[];return n.selections.forEach(function(t){(Sl(t)||XL(t))&&t.selectionSet?xV(t.selectionSet).forEach(function(r){return e.push(r)}):"FragmentSpread"===t.kind&&e.push(t)}),e}function q$(n){return"query"===iP(n).operation?n:tc(n,{OperationDefinition:{enter:function(o){return(0,me.pi)((0,me.pi)({},o),{operation:"query"})}}})}var RV=new Map;function EP(n){var e=RV.get(n)||1;return RV.set(n,e+1),"".concat(n,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function H0(n,e,t){var r=[];n.forEach(function(o){return o[e]&&r.push(o)}),r.forEach(function(o){return o[e](t)})}function OV(n){function e(t){Object.defineProperty(n,t,{value:Er})}return w$&&Symbol.species&&e(Symbol.species),e("@@species"),n}function NV(n){return n&&"function"==typeof n.then}var Z0=function(n){function e(t){var r=n.call(this,function(o){return r.addObserver(o),function(){return r.removeObserver(o)}})||this;return r.observers=new Set,r.addCount=0,r.promise=new Promise(function(o,u){r.resolve=o,r.reject=u}),r.handlers={next:function(o){null!==r.sub&&(r.latest=["next",o],H0(r.observers,"next",o))},error:function(o){var u=r.sub;null!==u&&(u&&setTimeout(function(){return u.unsubscribe()}),r.sub=null,r.latest=["error",o],r.reject(o),H0(r.observers,"error",o))},complete:function(){var o=r.sub;if(null!==o){var u=r.sources.shift();u?NV(u)?u.then(function(l){return r.sub=l.subscribe(r.handlers)}):r.sub=u.subscribe(r.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),H0(r.observers,"complete"))}}},r.cancel=function(o){r.reject(o),r.sources=[],r.handlers.complete()},r.promise.catch(function(o){}),"function"==typeof t&&(t=[new Er(t)]),NV(t)?t.then(function(o){return r.start(o)},r.handlers.error):r.start(t),r}return(0,me.ZT)(e,n),e.prototype.start=function(t){void 0===this.sub&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var r=this.latest[0],o=t[r];o&&o.call(t,this.latest[1]),null===this.sub&&"next"===r&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t),++this.addCount)},e.prototype.removeObserver=function(t,r){this.observers.delete(t)&&--this.addCount<1&&!r&&this.handlers.complete()},e.prototype.cleanup=function(t){var r=this,o=!1,u=function(){o||(o=!0,r.observers.delete(l),t())},l={next:u,error:u,complete:u},f=this.addCount;this.addObserver(l),this.addCount=f},e}(Er);function Jp(n){return Array.isArray(n)&&n.length>0}OV(Z0);var Nv=function(n){function e(t){var r=t.graphQLErrors,o=t.clientErrors,u=t.networkError,l=t.errorMessage,f=t.extraInfo,g=n.call(this,l)||this;return g.graphQLErrors=r||[],g.clientErrors=o||[],g.networkError=u||null,g.message=l||function(n){var e="";return(Jp(n.graphQLErrors)||Jp(n.clientErrors))&&(n.graphQLErrors||[]).concat(n.clientErrors||[]).forEach(function(r){e+="".concat(r?r.message:"Error message not found.","\n")}),n.networkError&&(e+="".concat(n.networkError.message,"\n")),e=e.replace(/\n$/,"")}(g),g.extraInfo=f,g.__proto__=e.prototype,g}return(0,me.ZT)(e,n),e}(Error),G$=Object.prototype.toString;function PV(n){return wP(n)}function wP(n,e){switch(G$.call(n)){case"[object Array]":if((e=e||new Map).has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(o,u){t[u]=wP(o,e)}),t;case"[object Object]":if((e=e||new Map).has(n))return e.get(n);var r=Object.create(Object.getPrototypeOf(n));return e.set(n,r),Object.keys(n).forEach(function(o){r[o]=wP(n[o],e)}),r;default:return n}}var z$=Object.assign,W$=Object.hasOwnProperty,IP=function(n){function e(t){var r=t.queryManager,o=t.queryInfo,u=t.options,l=n.call(this,function(X){try{var ve=X._subscription._observer;ve&&!ve.error&&(ve.error=K$)}catch(je){}var Le=!l.observers.size;l.observers.add(X);var xe=l.last;return xe&&xe.error?X.error&&X.error(xe.error):xe&&xe.result&&X.next&&X.next(xe.result),Le&&l.reobserve().catch(function(){}),function(){l.observers.delete(X)&&!l.observers.size&&l.tearDownQuery()}})||this;l.observers=new Set,l.subscriptions=new Set,l.queryInfo=o,l.queryManager=r,l.isTornDown=!1;var f=r.defaultOptions.watchQuery,v=(void 0===f?{}:f).fetchPolicy,I=void 0===v?"cache-first":v,C=u.fetchPolicy,D=void 0===C?I:C,x=u.initialFetchPolicy,N=void 0===x?"standby"===D?I:D:x;l.options=(0,me.pi)((0,me.pi)({},u),{initialFetchPolicy:N,fetchPolicy:D}),l.queryId=o.queryId||r.generateQueryId();var H=B0(l.query);return l.queryName=H&&H.name&&H.name.value,l}return(0,me.ZT)(e,n),Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise(function(r,o){var u={next:function(f){r(f),t.observers.delete(u),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){l.unsubscribe()},0)},error:o},l=t.subscribe(u)})},e.prototype.getCurrentResult=function(t){void 0===t&&(t=!0);var r=this.getLastResult(!0),o=this.queryInfo.networkStatus||r&&r.networkStatus||Wn.ready,u=(0,me.pi)((0,me.pi)({},r),{loading:V0(o),networkStatus:o}),l=this.options.fetchPolicy,f=void 0===l?"cache-first":l;if("network-only"!==f&&"no-cache"!==f&&"standby"!==f&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var g=this.queryInfo.getDiff();(g.complete||this.options.returnPartialData)&&(u.data=g.result),Yi(u.data,{})&&(u.data=void 0),g.complete?(delete u.partial,g.complete&&u.networkStatus===Wn.loading&&("cache-first"===f||"cache-only"===f)&&(u.networkStatus=Wn.ready,u.loading=!1)):u.partial=!0,__DEV__&&!g.complete&&!this.options.partialRefetch&&!u.loading&&!u.data&&!u.error&&kV(g.missing)}return t&&this.updateLastResult(u),u},e.prototype.isDifferentFromLastResult=function(t){return!this.last||!Yi(this.last.result,t)},e.prototype.getLast=function(t,r){var o=this.last;if(o&&o[t]&&(!r||Yi(o.variables,this.variables)))return o[t]},e.prototype.getLastResult=function(t){return this.getLast("result",t)},e.prototype.getLastError=function(t){return this.getLast("error",t)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var r,o={pollInterval:0},u=this.options.fetchPolicy;if(o.fetchPolicy="cache-and-network"===u?u:"no-cache"===u?"no-cache":"network-only",__DEV__&&t&&W$.call(t,"variables")){var l=eV(this.query),f=l.variableDefinitions;(!f||!f.some(function(g){return"variables"===g.variable.name.value}))&&__DEV__&&mt.warn("Called refetch(".concat(JSON.stringify(t),") for query ").concat((null===(r=l.name)||void 0===r?void 0:r.value)||JSON.stringify(l),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return t&&!Yi(this.options.variables,t)&&(o.variables=this.options.variables=(0,me.pi)((0,me.pi)({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(o,Wn.refetch)},e.prototype.fetchMore=function(t){var r=this,o=(0,me.pi)((0,me.pi)({},t.query?t:(0,me.pi)((0,me.pi)((0,me.pi)((0,me.pi)({},this.options),{query:this.query}),t),{variables:(0,me.pi)((0,me.pi)({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"}),u=this.queryManager.generateQueryId(),l=this.queryInfo,f=l.networkStatus;l.networkStatus=Wn.fetchMore,o.notifyOnNetworkStatusChange&&this.observe();var g=new Set;return this.queryManager.fetchQuery(u,o,Wn.fetchMore).then(function(v){return r.queryManager.removeQuery(u),l.networkStatus===Wn.fetchMore&&(l.networkStatus=f),r.queryManager.cache.batch({update:function(I){var C=t.updateQuery;C?I.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(D){return C(D,{fetchMoreResult:v.data,variables:o.variables})}):I.writeQuery({query:o.query,variables:o.variables,data:v.data})},onWatchUpdated:function(I){g.add(I.query)}}),v}).finally(function(){g.has(r.query)||MV(r)})},e.prototype.subscribeToMore=function(t){var r=this,o=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(u){var l=t.updateQuery;l&&r.updateQuery(function(f,g){return l(f,{subscriptionData:u,variables:g.variables})})},error:function(u){t.onError?t.onError(u):__DEV__&&mt.error("Unhandled GraphQL subscription error",u)}});return this.subscriptions.add(o),function(){r.subscriptions.delete(o)&&o.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.setVariables=function(t){return Yi(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},Wn.setVariables):Promise.resolve())},e.prototype.updateQuery=function(t){var r=this.queryManager,u=t(r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});u&&(r.cache.writeQuery({query:this.options.query,data:u,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(t,r){if(r.nextFetchPolicy){var o=r.fetchPolicy,u=void 0===o?"cache-first":o,l=r.initialFetchPolicy,f=void 0===l?u:l;"standby"===u||(r.fetchPolicy="function"==typeof r.nextFetchPolicy?r.nextFetchPolicy(u,{reason:t,options:r,observable:this,initialFetchPolicy:f}):"variables-changed"===t?f:r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(t,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,t,r)},e.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var o=this.pollingInfo,u=this.options.pollInterval;if(!u)return void(o&&(clearTimeout(o.timeout),delete this.pollingInfo));if(!o||o.interval!==u){__DEV__?mt(u,"Attempted to start a polling query without a polling interval."):mt(u,10),(o||(this.pollingInfo={})).interval=u;var f=function(){t.pollingInfo&&(V0(t.queryInfo.networkStatus)?g():t.reobserve({fetchPolicy:"network-only"},Wn.poll).then(g,g))},g=function(){var v=t.pollingInfo;v&&(clearTimeout(v.timeout),v.timeout=setTimeout(f,v.interval))};g()}}},e.prototype.updateLastResult=function(t,r){return void 0===r&&(r=this.variables),this.last=(0,me.pi)((0,me.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?t:PV(t),variables:r}),Jp(t.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(t,r){var o=this;this.isTornDown=!1;var u=r===Wn.refetch||r===Wn.fetchMore||r===Wn.poll,l=this.options.variables,f=this.options.fetchPolicy,g=ED(this.options,t||{}),v=u?g:z$(this.options,g);u||(this.updatePolling(),t&&t.variables&&!Yi(t.variables,l)&&"standby"!==v.fetchPolicy&&v.fetchPolicy===f&&(this.applyNextFetchPolicy("variables-changed",v),void 0===r&&(r=Wn.setVariables)));var I=v.variables&&(0,me.pi)({},v.variables),C=this.fetch(v,r),D={next:function(x){o.reportResult(x,I)},error:function(x){o.reportError(x,I)}};return u||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=C,this.observer=D),C.addObserver(D),C.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(t,r){var o=this.getLastError();(o||this.isDifferentFromLastResult(t))&&((o||!t.partial||this.options.returnPartialData)&&this.updateLastResult(t,r),H0(this.observers,"next",t))},e.prototype.reportError=function(t,r){var o=(0,me.pi)((0,me.pi)({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:Wn.error,loading:!1});this.updateLastResult(o,r),H0(this.observers,"error",this.last.error=t)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Er);function MV(n){var e=n.options,t=e.fetchPolicy,r=e.nextFetchPolicy;return"cache-and-network"===t||"network-only"===t?n.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,"function"==typeof r?r.apply(this,arguments):t}}):n.reobserve()}function K$(n){__DEV__&&mt.error("Unhandled error",n.message,n.stack)}function kV(n){__DEV__&&n&&__DEV__&&mt.debug("Missing cache result fields: ".concat(JSON.stringify(n)),n)}OV(IP);var hs=null,FV={},Q$=1,TP="@wry/context:Slot",CP=Array,TD=CP[TP]||function(){var n=function(){function n(){this.id=["slot",Q$++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return n.prototype.hasValue=function(){for(var e=hs;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===FV)break;return e!==hs&&(hs.slots[this.id]=t),!0}return hs&&(hs.slots[this.id]=FV),!1},n.prototype.getValue=function(){if(this.hasValue())return hs.slots[this.id]},n.prototype.withValue=function(e,t,r,o){var u,l=((u={__proto__:null})[this.id]=e,u),f=hs;hs={parent:f,slots:l};try{return t.apply(o,r)}finally{hs=f}},n.bind=function(e){var t=hs;return function(){var r=hs;try{return hs=t,e.apply(this,arguments)}finally{hs=r}}},n.noContext=function(e,t,r){if(!hs)return e.apply(r,t);var o=hs;try{return hs=null,e.apply(r,t)}finally{hs=o}},n}();try{Object.defineProperty(CP,TP,{value:CP[TP]=n,enumerable:!1,writable:!1,configurable:!1})}finally{return n}}();function e3(){}var DP,t3=function(){function n(e,t){void 0===e&&(e=1/0),void 0===t&&(t=e3),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},n.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,o=t.newer;o&&(o.older=r),r&&(r.newer=o),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=o)}return t},n.prototype.set=function(e,t){var r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},n.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},n.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},n}(),CD=new TD,n3=Object.prototype.hasOwnProperty,AP=void 0===(DP=Array.from)?function(n){var e=[];return n.forEach(function(t){return e.push(t)}),e}:DP;function SD(n){var e=n.unsubscribe;"function"==typeof e&&(n.unsubscribe=void 0,e())}var G0=[];function Pv(n,e){if(!n)throw new Error(e||"assertion failure")}function VV(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}var o3=function(){function n(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++n.count}return n.prototype.peek=function(){if(1===this.value.length&&!yh(this))return UV(this),this.value[0]},n.prototype.recompute=function(e){return Pv(!this.recomputing,"already recomputing"),UV(this),yh(this)?function(n,e){return ZV(n),CD.withValue(n,u3,[n,e]),function(n,e){if("function"==typeof n.subscribe)try{SD(n),n.unsubscribe=n.subscribe.apply(null,e)}catch(t){return n.setDirty(),!1}return!0}(n,e)&&function(n){n.dirty=!1,!yh(n)&&BV(n)}(n),VV(n.value)}(this,e):VV(this.value)},n.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,jV(this),SD(this))},n.prototype.dispose=function(){var e=this;this.setDirty(),ZV(this),xP(this,function(t,r){t.setDirty(),GV(t,e)})},n.prototype.forget=function(){this.dispose()},n.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=G0.pop()||new Set),this.deps.add(e)},n.prototype.forgetDeps=function(){var e=this;this.deps&&(AP(this.deps).forEach(function(t){return t.delete(e)}),this.deps.clear(),G0.push(this.deps),this.deps=null)},n.count=0,n}();function UV(n){var e=CD.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),yh(n)?qV(e,n):$V(e,n),e}function u3(n,e){n.recomputing=!0,n.value.length=0;try{n.value[0]=n.fn.apply(null,e)}catch(t){n.value[1]=t}n.recomputing=!1}function yh(n){return n.dirty||!(!n.dirtyChildren||!n.dirtyChildren.size)}function jV(n){xP(n,qV)}function BV(n){xP(n,$V)}function xP(n,e){var t=n.parents.size;if(t)for(var r=AP(n.parents),o=0;o<t;++o)e(r[o],n)}function qV(n,e){Pv(n.childValues.has(e)),Pv(yh(e));var t=!yh(n);if(n.dirtyChildren){if(n.dirtyChildren.has(e))return}else n.dirtyChildren=G0.pop()||new Set;n.dirtyChildren.add(e),t&&jV(n)}function $V(n,e){Pv(n.childValues.has(e)),Pv(!yh(e));var t=n.childValues.get(e);0===t.length?n.childValues.set(e,function(n){return n.slice(0)}(e.value)):function(n,e){var t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}(t,e.value)||n.setDirty(),HV(n,e),!yh(n)&&BV(n)}function HV(n,e){var t=n.dirtyChildren;t&&(t.delete(e),0===t.size&&(G0.length<100&&G0.push(t),n.dirtyChildren=null))}function ZV(n){n.childValues.size>0&&n.childValues.forEach(function(e,t){GV(n,t)}),n.forgetDeps(),Pv(null===n.dirtyChildren)}function GV(n,e){e.parents.delete(n),n.childValues.delete(e),HV(n,e)}var d3={setDirty:!0,dispose:!0,forget:!0};function zV(n){var e=new Map,t=n&&n.subscribe;function r(o){var u=CD.getValue();if(u){var l=e.get(o);l||e.set(o,l=new Set),u.dependOn(l),"function"==typeof t&&(SD(l),l.unsubscribe=t(o))}}return r.dirty=function(u,l){var f=e.get(u);if(f){var g=l&&n3.call(d3,l)?l:"setDirty";AP(f).forEach(function(v){return v[g]()}),e.delete(u),SD(f)}},r}function WV(){var n=new $0("function"==typeof WeakMap);return function(){return n.lookupArray(arguments)}}WV();var RP=new Set;function DD(n,e){void 0===e&&(e=Object.create(null));var t=new t3(e.max||Math.pow(2,16),function(v){return v.dispose()}),r=e.keyArgs,o=e.makeCacheKey||WV(),u=function(){var v=o.apply(null,r?r.apply(null,arguments):arguments);if(void 0===v)return n.apply(null,arguments);var I=t.get(v);I||(t.set(v,I=new o3(n)),I.subscribe=e.subscribe,I.forget=function(){return t.delete(v)});var C=I.recompute(Array.prototype.slice.call(arguments));return t.set(v,I),RP.add(t),CD.hasValue()||(RP.forEach(function(D){return D.clean()}),RP.clear()),C};function l(v){var I=t.get(v);I&&I.setDirty()}function f(v){var I=t.get(v);if(I)return I.peek()}function g(v){return t.delete(v)}return Object.defineProperty(u,"size",{get:function(){return t.map.size},configurable:!1,enumerable:!1}),u.dirtyKey=l,u.dirty=function(){l(o.apply(null,arguments))},u.peekKey=f,u.peek=function(){return f(o.apply(null,arguments))},u.forgetKey=g,u.forget=function(){return g(o.apply(null,arguments))},u.makeCacheKey=o,u.getKey=r?function(){return o.apply(null,r.apply(null,arguments))}:o,Object.freeze(u)}var OP=new TD,KV=new WeakMap;function z0(n){var e=KV.get(n);return e||KV.set(n,e={vars:new Set,dep:zV()}),e}function QV(n){z0(n).vars.forEach(function(e){return e.forgetCache(n)})}function f3(n){var e=new Set,t=new Set,r=function(u){if(arguments.length>0){if(n!==u){n=u,e.forEach(function(g){z0(g).dep.dirty(r),p3(g)});var l=Array.from(t);t.clear(),l.forEach(function(g){return g(n)})}}else{var f=OP.getValue();f&&(o(f),z0(f).dep(r))}return n};r.onNextChange=function(u){return t.add(u),function(){t.delete(u)}};var o=r.attachCache=function(u){return e.add(u),z0(u).vars.add(r),r};return r.forgetCache=function(u){return e.delete(u)},r}function p3(n){n.broadcastWatches&&n.broadcastWatches()}var YV=function(){function n(e){var r=e.client,o=e.resolvers,u=e.fragmentMatcher;this.cache=e.cache,r&&(this.client=r),o&&this.addResolvers(o),u&&this.setFragmentMatcher(u)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){t.resolvers=_V(t.resolvers,r)}):this.resolvers=_V(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,o=e.context,u=e.variables,l=e.onlyRunForcedResolvers,f=void 0!==l&&l;return(0,me.mG)(this,void 0,void 0,function(){return(0,me.Jh)(this,function(g){return t?[2,this.resolveDocument(t,r.data,o,u,this.fragmentMatcher,f).then(function(v){return(0,me.pi)((0,me.pi)({},r),{data:v.result})})]:[2,r]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return dP(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return function(n){yD(n);var e=AV([{test:function(t){return"client"===t.name.value},remove:!0}],n);return e&&(e=tc(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet&&t.selectionSet.selections.every(function(o){return Sl(o)&&"__typename"===o.name.value}))return null}}})),e}(e)},n.prototype.prepareContext=function(e){var t=this.cache;return(0,me.pi)((0,me.pi)({},e),{cache:t,getCacheKey:function(r){return t.identify(r)}})},n.prototype.addExportedVariables=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),(0,me.mG)(this,void 0,void 0,function(){return(0,me.Jh)(this,function(o){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(u){return(0,me.pi)((0,me.pi)({},t),u.exportedVariables)})]:[2,(0,me.pi)({},t)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return tc(e,{Directive:{enter:function(r){if("client"===r.name.value&&r.arguments&&(t=r.arguments.some(function(o){return"always"===o.name.value&&"BooleanValue"===o.value.kind&&!0===o.value.value})))return xv}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:q$(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t,r,o,u,l){return void 0===r&&(r={}),void 0===o&&(o={}),void 0===u&&(u=function(){return!0}),void 0===l&&(l=!1),(0,me.mG)(this,void 0,void 0,function(){var f,g,v,I,C,D,x,N,H;return(0,me.Jh)(this,function(X){return f=iP(e),g=vD(e),v=gD(g),C=(I=f.operation)?I.charAt(0).toUpperCase()+I.slice(1):"Query",x=(D=this).cache,N=D.client,H={fragmentMap:v,context:(0,me.pi)((0,me.pi)({},r),{cache:x,client:N}),variables:o,fragmentMatcher:u,defaultOperationType:C,exportedVariables:{},onlyRunForcedResolvers:l},[2,this.resolveSelectionSet(f.selectionSet,t,H).then(function(ve){return{result:ve,exportedVariables:H.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,r){return(0,me.mG)(this,void 0,void 0,function(){var o,u,l,f,v=this;return(0,me.Jh)(this,function(I){return o=r.fragmentMap,u=r.context,l=r.variables,f=[t],[2,Promise.all(e.selections.map(function(C){return(0,me.mG)(v,void 0,void 0,function(){var D;return(0,me.Jh)(this,function(N){return wD(C,l)?Sl(C)?[2,this.resolveField(C,t,r).then(function(H){var X;void 0!==H&&f.push(((X={})[Kp(C)]=H,X))})]:(XL(C)?D=C:(D=o[C.name.value],__DEV__?mt(D,"No fragment named ".concat(C.name.value)):mt(D,9)),D&&D.typeCondition&&r.fragmentMatcher(t,D.typeCondition.name.value,u)?[2,this.resolveSelectionSet(D.selectionSet,t,r).then(function(H){f.push(H)})]:[2]):[2]})})})).then(function(){return hP(f)})]})})},n.prototype.resolveField=function(e,t,r){return(0,me.mG)(this,void 0,void 0,function(){var o,u,l,f,g,v,I,C,D,x=this;return(0,me.Jh)(this,function(N){return o=r.variables,u=e.name.value,l=Kp(e),f=u!==l,g=t[l]||t[u],v=Promise.resolve(g),(!r.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(I=t.__typename||r.defaultOperationType,(C=this.resolvers&&this.resolvers[I])&&(D=C[f?u:l])&&(v=Promise.resolve(OP.withValue(this.cache,D,[t,mD(e,o),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,v.then(function(H){return void 0===H&&(H=g),e.directives&&e.directives.forEach(function(X){"export"===X.name.value&&X.arguments&&X.arguments.forEach(function(ve){"as"===ve.name.value&&"StringValue"===ve.value.kind&&(r.exportedVariables[ve.value.value]=H)})}),e.selectionSet&&null!=H?Array.isArray(H)?x.resolveSubSelectedArray(e,H,r):e.selectionSet?x.resolveSelectionSet(e.selectionSet,H,r):void 0:H})]})})},n.prototype.resolveSubSelectedArray=function(e,t,r){var o=this;return Promise.all(t.map(function(u){return null===u?null:Array.isArray(u)?o.resolveSubSelectedArray(e,u,r):e.selectionSet?o.resolveSelectionSet(e.selectionSet,u,r):void 0}))},n}(),Mv=new(Qp?WeakMap:Map);function NP(n,e){var t=n[e];"function"==typeof t&&(n[e]=function(){return Mv.set(n,(Mv.get(n)+1)%1e15),t.apply(this,arguments)})}function JV(n){n.notifyTimeout&&(clearTimeout(n.notifyTimeout),n.notifyTimeout=void 0)}var PP=function(){function n(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Mv.has(r)||(Mv.set(r,0),NP(r,"evict"),NP(r,"modify"),NP(r,"reset"))}return n.prototype.init=function(e){var t=e.networkStatus||Wn.loading;return this.variables&&this.networkStatus!==Wn.loading&&!Yi(this.variables,e.variables)&&(t=Wn.setVariables),Yi(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},n.prototype.reset=function(){JV(this),this.lastDiff=void 0,this.dirty=!1},n.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Yi(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&"no-cache"===r.options.fetchPolicy)return{complete:!1};var o=this.cache.diff(t);return this.updateLastDiff(o,t),o},n.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},n.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},n.prototype.setDiff=function(e){var t=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!Yi(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0)))},n.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():MV(e)})):delete this.oqListener)},n.prototype.notify=function(){var e=this;JV(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},n.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(V0(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},n.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=n.prototype.cancel,this.subscriptions.forEach(function(t){return t.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},n.prototype.cancel=function(){},n.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var o=(0,me.pi)((0,me.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(u){return t.setDiff(u)}});(!this.lastWatch||!Yi(o,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=o))}},n.prototype.resetLastWrite=function(){this.lastWrite=void 0},n.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===Mv.get(this.cache)&&Yi(t,r.variables)&&Yi(e.data,r.result.data))},n.prototype.markResult=function(e,t,r){var o=this;this.graphQLErrors=Jp(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==r&&(MP(e,t.errorPolicy)?this.cache.performTransaction(function(u){if(o.shouldWrite(e,t.variables))u.writeQuery({query:o.document,data:e.data,variables:t.variables,overwrite:1===r}),o.lastWrite={result:e,variables:t.variables,dmCount:Mv.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete)return void(e.data=o.lastDiff.diff.result);var l=o.getDiffOptions(t.variables),f=u.diff(l);o.stopped||o.updateWatch(t.variables),o.updateLastDiff(f,l),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},n.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Wn.ready},n.prototype.markError=function(e){return this.networkStatus=Wn.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},n}();function MP(n,e){void 0===e&&(e="none");var t="ignore"===e||"all"===e,r=!ID(n);return!r&&t&&n.data&&(r=!0),r}var g3=Object.prototype.hasOwnProperty,m3=function(){function n(e){var t=e.cache,r=e.link,o=e.defaultOptions,u=e.queryDeduplication,l=void 0!==u&&u,f=e.onBroadcast,g=e.ssrMode,v=void 0!==g&&g,I=e.clientAwareness,C=void 0===I?{}:I,D=e.localState,x=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Qp?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=r,this.defaultOptions=o||Object.create(null),this.queryDeduplication=l,this.clientAwareness=C,this.localState=D||new YV({cache:t}),this.ssrMode=v,this.assumeImmutableResults=!!x,(this.onBroadcast=f)&&(this.mutationStore=Object.create(null))}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new ir("QueryManager stopped while query was in flight"):new ir(11))},n.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},n.prototype.mutate=function(e){var t,r,o=e.mutation,u=e.variables,l=e.optimisticResponse,f=e.updateQueries,g=e.refetchQueries,v=void 0===g?[]:g,I=e.awaitRefetchQueries,C=void 0!==I&&I,D=e.update,x=e.onQueryUpdated,N=e.fetchPolicy,H=void 0===N?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":N,X=e.errorPolicy,ve=void 0===X?(null===(r=this.defaultOptions.mutate)||void 0===r?void 0:r.errorPolicy)||"none":X,Le=e.keepRootFields,xe=e.context;return(0,me.mG)(this,void 0,void 0,function(){var je,Je,Xe;return(0,me.Jh)(this,function(at){switch(at.label){case 0:return __DEV__?mt(o,"mutation option is required. You must specify your GraphQL document in the mutation option."):mt(o,12),__DEV__?mt("network-only"===H||"no-cache"===H,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):mt("network-only"===H||"no-cache"===H,13),je=this.generateMutationId(),o=this.transform(o).document,u=this.getVariables(o,u),this.transform(o).hasClientExports?[4,this.localState.addExportedVariables(o,u,xe)]:[3,2];case 1:u=at.sent(),at.label=2;case 2:return Je=this.mutationStore&&(this.mutationStore[je]={mutation:o,variables:u,loading:!0,error:null}),l&&this.markMutationOptimistic(l,{mutationId:je,document:o,variables:u,fetchPolicy:H,errorPolicy:ve,context:xe,updateQueries:f,update:D,keepRootFields:Le}),this.broadcastQueries(),Xe=this,[2,new Promise(function($t,fr){return yP(Xe.getObservableFromLink(o,(0,me.pi)((0,me.pi)({},xe),{optimisticResponse:l}),u,!1),function(In){if(ID(In)&&"none"===ve)throw new Nv({graphQLErrors:In.errors});Je&&(Je.loading=!1,Je.error=null);var da=(0,me.pi)({},In);return"function"==typeof v&&(v=v(da)),"ignore"===ve&&ID(da)&&delete da.errors,Xe.markMutationResult({mutationId:je,result:da,document:o,variables:u,fetchPolicy:H,errorPolicy:ve,context:xe,update:D,updateQueries:f,awaitRefetchQueries:C,refetchQueries:v,removeOptimistic:l?je:void 0,onQueryUpdated:x,keepRootFields:Le})}).subscribe({next:function(In){Xe.broadcastQueries(),$t(In)},error:function(In){Je&&(Je.loading=!1,Je.error=In),l&&Xe.cache.removeOptimistic(je),Xe.broadcastQueries(),fr(In instanceof Nv?In:new Nv({networkError:In}))}})})]}})})},n.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var o=e.result,u=[],l="no-cache"===e.fetchPolicy;if(!l&&MP(o,e.errorPolicy)){u.push({result:o.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var f=e.updateQueries;f&&this.queries.forEach(function(v,I){var C=v.observableQuery,D=C&&C.queryName;if(D&&g3.call(f,D)){var x=f[D],N=r.queries.get(I),H=N.document,X=N.variables,ve=t.diff({query:H,variables:X,returnPartialData:!0,optimistic:!1}),Le=ve.result;if(ve.complete&&Le){var je=x(Le,{mutationResult:o,queryName:H&&rP(H)||void 0,queryVariables:X});je&&u.push({result:je,dataId:"ROOT_QUERY",query:H,variables:X})}}})}if(u.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var g=[];if(this.refetchQueries({updateCache:function(v){l||u.forEach(function(D){return v.write(D)});var I=e.update;if(I){if(!l){var C=v.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});C.complete&&(o=(0,me.pi)((0,me.pi)({},o),{data:C.result}))}I(v,o,{context:e.context,variables:e.variables})}!l&&!e.keepRootFields&&v.modify({id:"ROOT_MUTATION",fields:function(D,x){return"__typename"===x.fieldName?D:x.DELETE}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(v){return g.push(v)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(g).then(function(){return o})}return Promise.resolve(o)},n.prototype.markMutationOptimistic=function(e,t){var r=this,o="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction(function(u){try{r.markMutationResult((0,me.pi)((0,me.pi)({},t),{result:{data:o}}),u)}catch(l){__DEV__&&mt.error(l)}},t.mutationId)},n.prototype.fetchQuery=function(e,t,r){return this.fetchQueryObservable(e,t,r).promise},n.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},n.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},n.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var r=this.cache.transformDocument(e),o=function(n){return AV([k$],yD(n))}(this.cache.transformForLink(r)),u=this.localState.clientQuery(r),l=o&&this.localState.serverQuery(o),f={document:r,hasClientExports:S$(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:u,serverQuery:l,defaultVars:sP(B0(r)),asQuery:(0,me.pi)((0,me.pi)({},r),{definitions:r.definitions.map(function(v){return"OperationDefinition"===v.kind&&"query"!==v.operation?(0,me.pi)((0,me.pi)({},v),{operation:"query"}):v})})},g=function(v){v&&!t.has(v)&&t.set(v,f)};g(e),g(r),g(u),g(l)}return t.get(e)},n.prototype.getVariables=function(e,t){return(0,me.pi)((0,me.pi)({},this.transform(e).defaultVars),t)},n.prototype.watchQuery=function(e){void 0===(e=(0,me.pi)((0,me.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new PP(this),r=new IP({queryManager:this,queryInfo:t,options:e});return this.queries.set(r.queryId,t),t.init({document:r.query,observableQuery:r,variables:r.variables}),r},n.prototype.query=function(e,t){var r=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?mt(e.query,"query option is required. You must specify your GraphQL document in the query option."):mt(e.query,14),__DEV__?mt("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):mt("Document"===e.query.kind,15),__DEV__?mt(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):mt(!e.returnPartialData,16),__DEV__?mt(!e.pollInterval,"pollInterval option only supported on watchQuery."):mt(!e.pollInterval,17),this.fetchQuery(t,e).finally(function(){return r.stopQuery(t)})},n.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},n.prototype.generateRequestId=function(){return this.requestIdCounter++},n.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},n.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new ir("Store reset while query was in flight (not completed in link chain)"):new ir(18)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=Wn.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},n.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,o=new Map,u=new Set;return Array.isArray(e)&&e.forEach(function(l){"string"==typeof l?o.set(l,!1):function(n){return Qr(n)&&"Document"===n.kind&&Array.isArray(n.definitions)}(l)?o.set(t.transform(l).document,!1):Qr(l)&&l.query&&u.add(l)}),this.queries.forEach(function(l,f){var g=l.observableQuery,v=l.document;if(g){if("all"===e)return void r.set(f,g);var I=g.queryName;if("standby"===g.options.fetchPolicy||"active"===e&&!g.hasObservers())return;("active"===e||I&&o.has(I)||v&&o.has(v))&&(r.set(f,g),I&&o.set(I,!0),v&&o.set(v,!0))}}),u.size&&u.forEach(function(l){var f=EP("legacyOneTimeQuery"),g=t.getQuery(f).init({document:l.query,variables:l.variables}),v=new IP({queryManager:t,queryInfo:g,options:(0,me.pi)((0,me.pi)({},l),{fetchPolicy:"network-only"})});mt(v.queryId===f),g.setObservableQuery(v),r.set(f,v)}),__DEV__&&o.size&&o.forEach(function(l,f){l||__DEV__&&mt.warn("Unknown query ".concat("string"==typeof f?"named ":"").concat(JSON.stringify(f,null,2)," requested in refetchQueries options.include array"))}),r},n.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(o,u){var l=o.options.fetchPolicy;o.resetLastResults(),(e||"standby"!==l&&"cache-only"!==l)&&r.push(o.refetch()),t.getQuery(u).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},n.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},n.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,o=e.fetchPolicy,u=e.errorPolicy,l=e.variables,f=e.context,g=void 0===f?{}:f;r=this.transform(r).document,l=this.getVariables(r,l);var v=function(C){return t.getObservableFromLink(r,g,C).map(function(D){if("no-cache"!==o&&(MP(D,u)&&t.cache.write({query:r,result:D.data,dataId:"ROOT_SUBSCRIPTION",variables:C}),t.broadcastQueries()),ID(D))throw new Nv({graphQLErrors:D.errors});return D})};if(this.transform(r).hasClientExports){var I=this.localState.addExportedVariables(r,l,g).then(v);return new Er(function(C){var D=null;return I.then(function(x){return D=x.subscribe(C)},C.error),function(){return D&&D.unsubscribe()}})}return v(l)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},n.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,r,o){var l,u=this;void 0===o&&(o=null!==(l=null==t?void 0:t.queryDeduplication)&&void 0!==l?l:this.queryDeduplication);var f,g=this.transform(e).serverQuery;if(g){var I=this.inFlightLinkObservables,C=this.link,D={query:g,variables:r,operationName:rP(g)||void 0,context:this.prepareContext((0,me.pi)((0,me.pi)({},t),{forceFetch:!o}))};if(t=D.context,o){var x=I.get(g)||new Map;I.set(g,x);var N=Yp(r);if(!(f=x.get(N))){var H=new Z0([oP(C,D)]);x.set(N,f=H),H.cleanup(function(){x.delete(N)&&x.size<1&&I.delete(g)})}}else f=new Z0([oP(C,D)])}else f=new Z0([Er.of({data:{}})]),t=this.prepareContext(t);var X=this.transform(e).clientQuery;return X&&(f=yP(f,function(ve){return u.localState.runResolvers({document:X,remoteResult:ve,context:t,variables:r})})),f},n.prototype.getResultsFromLink=function(e,t,r){var o=e.lastRequestId=this.generateRequestId();return yP(this.getObservableFromLink(e.document,r.context,r.variables),function(u){var l=Jp(u.errors);if(o>=e.lastRequestId){if(l&&"none"===r.errorPolicy)throw e.markError(new Nv({graphQLErrors:u.errors}));e.markResult(u,r,t),e.markReady()}var f={data:u.data,loading:!1,networkStatus:Wn.ready};return l&&"ignore"!==r.errorPolicy&&(f.errors=u.errors,f.networkStatus=Wn.error),f},function(u){var l=function(n){return n.hasOwnProperty("graphQLErrors")}(u)?u:new Nv({networkError:u});throw o>=e.lastRequestId&&e.markError(l),l})},n.prototype.fetchQueryObservable=function(e,t,r){var o=this;void 0===r&&(r=Wn.loading);var u=this.transform(t.query).document,l=this.getVariables(u,t.variables),f=this.getQuery(e),g=this.defaultOptions.watchQuery,v=t.fetchPolicy,C=t.errorPolicy,x=t.returnPartialData,H=t.notifyOnNetworkStatusChange,ve=t.context,xe=Object.assign({},t,{query:u,variables:l,fetchPolicy:void 0===v?g&&g.fetchPolicy||"cache-first":v,errorPolicy:void 0===C?g&&g.errorPolicy||"none":C,returnPartialData:void 0!==x&&x,notifyOnNetworkStatusChange:void 0!==H&&H,context:void 0===ve?{}:ve}),je=function(at){xe.variables=at;var $t=o.fetchQueryByPolicy(f,xe,r);return"standby"!==xe.fetchPolicy&&$t.length>0&&f.observableQuery&&f.observableQuery.applyNextFetchPolicy("after-fetch",t),$t},Je=function(){return o.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(at){Je(),setTimeout(function(){return Xe.cancel(at)})});var Xe=new Z0(this.transform(xe.query).hasClientExports?this.localState.addExportedVariables(xe.query,xe.variables,xe.context).then(je):je(xe.variables));return Xe.promise.then(Je,Je),Xe},n.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,o=e.include,u=e.optimistic,l=void 0!==u&&u,f=e.removeOptimistic,g=void 0===f?l?EP("refetchQueries"):void 0:f,v=e.onQueryUpdated,I=new Map;o&&this.getObservableQueries(o).forEach(function(D,x){I.set(x,{oq:D,lastDiff:t.getQuery(x).getDiff()})});var C=new Map;return r&&this.cache.batch({update:r,optimistic:l&&g||!1,removeOptimistic:g,onWatchUpdated:function(D,x,N){var H=D.watcher instanceof PP&&D.watcher.observableQuery;if(H){if(v){I.delete(H.queryId);var X=v(H,x,N);return!0===X&&(X=H.refetch()),!1!==X&&C.set(H,X),X}null!==v&&I.set(H.queryId,{oq:H,lastDiff:N,diff:x})}}}),I.size&&I.forEach(function(D,x){var ve,N=D.oq,H=D.lastDiff,X=D.diff;if(v){if(!X){var Le=N.queryInfo;Le.reset(),X=Le.getDiff()}ve=v(N,X,H)}(!v||!0===ve)&&(ve=N.refetch()),!1!==ve&&C.set(N,ve),x.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(x)}),g&&this.cache.removeOptimistic(g),C},n.prototype.fetchQueryByPolicy=function(e,t,r){var o=this,u=t.query,l=t.variables,f=t.fetchPolicy,g=t.refetchWritePolicy,v=t.errorPolicy,I=t.returnPartialData,C=t.context,D=t.notifyOnNetworkStatusChange,x=e.networkStatus;e.init({document:this.transform(u).document,variables:l,networkStatus:r});var N=function(){return e.getDiff(l)},H=function(je,Je){void 0===Je&&(Je=e.networkStatus||Wn.loading);var Xe=je.result;__DEV__&&!I&&!Yi(Xe,{})&&kV(je.missing);var at=function($t){return Er.of((0,me.pi)({data:$t,loading:V0(Je),networkStatus:Je},je.complete?null:{partial:!0}))};return Xe&&o.transform(u).hasForcedResolvers?o.localState.runResolvers({document:u,remoteResult:{data:Xe},context:C,variables:l,onlyRunForcedResolvers:!0}).then(function($t){return at($t.data||void 0)}):at(Xe)},X="no-cache"===f?0:r===Wn.refetch&&"merge"!==g?1:2,ve=function(){return o.getResultsFromLink(e,X,{variables:l,context:C,fetchPolicy:f,errorPolicy:v})},Le=D&&"number"==typeof x&&x!==r&&V0(r);switch(f){default:case"cache-first":return(xe=N()).complete?[H(xe,e.markReady())]:I||Le?[H(xe),ve()]:[ve()];case"cache-and-network":var xe;return(xe=N()).complete||I||Le?[H(xe),ve()]:[ve()];case"cache-only":return[H(N(),e.markReady())];case"network-only":return Le?[H(N()),ve()]:[ve()];case"no-cache":return Le?[H(e.getDiff()),ve()]:[ve()];case"standby":return[]}},n.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new PP(this,e)),this.queries.get(e)},n.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,me.pi)((0,me.pi)({},t),{clientAwareness:this.clientAwareness})},n}();function kP(n,e){return ED(n,e,e.variables&&{variables:(0,me.pi)((0,me.pi)({},n&&n.variables),e.variables)})}var XV=!1,eU=function(){function n(e){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,l=e.cache,f=e.ssrMode,g=void 0!==f&&f,v=e.ssrForceFetchDelay,I=void 0===v?0:v,C=e.connectToDevTools,D=void 0===C?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:C,x=e.queryDeduplication,N=void 0===x||x,H=e.defaultOptions,X=e.assumeImmutableResults,ve=void 0!==X&&X,Le=e.resolvers,xe=e.typeDefs,je=e.fragmentMatcher,Je=e.name,Xe=e.version,at=e.link;if(at||(at=r?new h$({uri:r,credentials:e.credentials,headers:e.headers}):Av.empty()),!l)throw __DEV__?new ir("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new ir(7);if(this.link=at,this.cache=l,this.disableNetworkFetches=g||I>0,this.queryDeduplication=N,this.defaultOptions=H||Object.create(null),this.typeDefs=xe,I&&setTimeout(function(){return t.disableNetworkFetches=!1},I),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),D&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!XV&&__DEV__&&(XV=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var $t=window.navigator,fr=$t&&$t.userAgent,In=void 0;"string"==typeof fr&&(fr.indexOf("Chrome/")>-1?In="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":fr.indexOf("Firefox/")>-1&&(In="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),In&&__DEV__&&mt.log("Download the Apollo DevTools for a better development experience: "+In)}this.version="3.6.9",this.localState=new YV({cache:l,client:this,resolvers:Le,fragmentMatcher:je}),this.queryManager=new m3({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:N,ssrMode:g,clientAwareness:{name:Je,version:Xe},localState:this.localState,assumeImmutableResults:ve,onBroadcast:D?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=kP(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&("network-only"===e.fetchPolicy||"cache-and-network"===e.fetchPolicy)&&(e=(0,me.pi)((0,me.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=kP(this.defaultOptions.query,e)),__DEV__?mt("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):mt("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,me.pi)((0,me.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=kP(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},n.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},n.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},n.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return oP(this.link,e)},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],o=[];t.forEach(function(l,f){r.push(f),o.push(l)});var u=Promise.all(o);return u.queries=r,u.results=o,u.catch(function(l){__DEV__&&mt.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(l))}),u},n.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n.prototype.setLink=function(e){this.link=this.queryManager.link=e},n}(),y3=M(6554);function tU(n){return new kr.y(e=>(n().then(t=>{e.closed||(e.next(t),e.complete())},t=>{e.closed||e.error(t)}),()=>e.unsubscribe()))}class _3{constructor(e){this.zone=e,this.now=Date.now?Date.now:()=>+new Date}schedule(e,t=0,r){return this.zone.run(()=>Lc.N.schedule(e,t,r))}}function nU(n){return n[y3.L]=()=>n,n}function rU(n,e){return n.pipe((0,ka.QV)(new _3(e)))}function iU(n,e,t){return n&&void 0!==n[e]?n[e]:t}class E3{constructor(e,t,r){this.obsQuery=e;const o=rU((0,Yn.D)(nU(this.obsQuery)),t);this.valueChanges=r.useInitialLoading?o.pipe(function(n){return function(t){return new kr.y(function(o){const u=n.getCurrentResult(),{loading:l,errors:f,error:g,partial:v,data:I}=u,{partialRefetch:C,fetchPolicy:D}=n.options,x=f||g;return C&&v&&(!I||0===Object.keys(I).length)&&"cache-only"!==D&&!l&&!x&&o.next(Object.assign(Object.assign({},u),{loading:!0,networkStatus:Wn.loading})),t.subscribe(o)})}}(this.obsQuery)):o,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(e){return this.obsQuery.refetch(e)}fetchMore(e){return this.obsQuery.fetchMore(e)}subscribeToMore(e){return this.obsQuery.subscribeToMore(e)}updateQuery(e){return this.obsQuery.updateQuery(e)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(e){return this.obsQuery.startPolling(e)}setOptions(e){return this.obsQuery.setOptions(e)}setVariables(e){return this.obsQuery.setVariables(e)}}const w3=new h.OlP("APOLLO_FLAGS"),sU=new h.OlP("APOLLO_OPTIONS"),I3=new h.OlP("APOLLO_NAMED_OPTIONS");class oU{constructor(e,t,r){this.ngZone=e,this.flags=t,this._client=r,this.useInitialLoading=iU(t,"useInitialLoading",!1),this.useMutationLoading=iU(t,"useMutationLoading",!1)}watchQuery(e){return new E3(this.ensureClient().watchQuery(Object.assign({},e)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},e))}query(e){return tU(()=>this.ensureClient().query(Object.assign({},e)))}mutate(e){var t;return function(n,e){return e?n.pipe(Go({loading:!0}),(0,Wt.U)(t=>Object.assign(Object.assign({},t),{loading:!!t.loading}))):n.pipe((0,Wt.U)(t=>Object.assign(Object.assign({},t),{loading:!1})))}(tU(()=>this.ensureClient().mutate(Object.assign({},e))),null!==(t=e.useMutationLoading)&&void 0!==t?t:this.useMutationLoading)}subscribe(e,t){const r=(0,Yn.D)(nU(this.ensureClient().subscribe(Object.assign({},e))));return t&&!0!==t.useZone?r:rU(r,this.ngZone)}getClient(){return this.client}setClient(e){this.client=e}get client(){return this._client}set client(e){if(this._client)throw new Error("Client has been already defined");this._client=e}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let T3=(()=>{class n extends oU{constructor(t,r,o,u){if(super(t,u),this._ngZone=t,this.map=new Map,r&&this.createDefault(r),o&&"object"==typeof o)for(let l in o)o.hasOwnProperty(l)&&this.createNamed(l,o[l])}create(t,r){FP(r)?this.createDefault(t):this.createNamed(r,t)}default(){return this}use(t){return FP(t)?this.default():this.map.get(t)}createDefault(t){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new eU(t))}createNamed(t,r){if(this.map.has(t))throw new Error(`Client ${t} has been already created`);this.map.set(t,new oU(this._ngZone,this.flags,new eU(r)))}removeClient(t){FP(t)?this._client=void 0:this.map.delete(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(sU,8),h.LFG(I3,8),h.LFG(w3,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function FP(n){return!n||"default"===n}const C3=[T3];let S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:C3}),n})();var D3=function(){function n(){this.getFragmentDoc=DD(Dq)}return n.prototype.batch=function(e){var o,t=this;return this.performTransaction(function(){return o=e.update(t)},"string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0),o},n.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},n.prototype.transformDocument=function(e){return e},n.prototype.identify=function(e){},n.prototype.gc=function(){return[]},n.prototype.modify=function(e){return!1},n.prototype.transformForLink=function(e){return e},n.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,me.pi)((0,me.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},n.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,me.pi)((0,me.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},n.prototype.writeQuery=function(e){var t=e.id,r=e.data,o=(0,me._T)(e,["id","data"]);return this.write(Object.assign(o,{dataId:t||"ROOT_QUERY",result:r}))},n.prototype.writeFragment=function(e){var t=e.id,r=e.data,o=e.fragment,u=e.fragmentName,l=(0,me._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(l,{query:this.getFragmentDoc(o,u),dataId:t,result:r}))},n.prototype.updateQuery=function(e,t){return this.batch({update:function(r){var o=r.readQuery(e),u=t(o);return null==u?o:(r.writeQuery((0,me.pi)((0,me.pi)({},e),{data:u})),u)}})},n.prototype.updateFragment=function(e,t){return this.batch({update:function(r){var o=r.readFragment(e),u=t(o);return null==u?o:(r.writeFragment((0,me.pi)((0,me.pi)({},e),{data:u})),u)}})},n}(),aU=function(e,t,r,o){this.message=e,this.path=t,this.query=r,this.variables=o};function LP(n){return __DEV__&&function(n){var e=new Set([n]);e.forEach(function(t){Qr(t)&&function(n){if(__DEV__&&!Object.isFrozen(n))try{Object.freeze(n)}catch(e){if(e instanceof TypeError)return null;throw e}return n}(t)===t&&Object.getOwnPropertyNames(t).forEach(function(r){Qr(t[r])&&e.add(t[r])})})}(n),n}var AD=Object.create(null),VP=function(){return AD},uU=Object.create(null),W0=function(){function n(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(o,u){return LP(Kn(o)?r.get(o.__ref,u):o&&o[u])},this.canRead=function(o){return Kn(o)?r.has(o.__ref):"object"==typeof o},this.toReference=function(o,u){if("string"==typeof o)return Sv(o);if(Kn(o))return o;var l=r.policies.identify(o)[0];if(l){var f=Sv(l);return u&&r.merge(l,o),f}}}return n.prototype.toObject=function(){return(0,me.pi)({},this.data)},n.prototype.has=function(e){return void 0!==this.lookup(e,!0)},n.prototype.get=function(e,t){if(this.group.depend(e,t),Ji.call(this.data,e)){var r=this.data[e];if(r&&Ji.call(r,t))return r[t]}return"__typename"===t&&Ji.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof vh?this.parent.get(e,t):void 0},n.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Ji.call(this.data,e)?this.data[e]:this instanceof vh?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},n.prototype.merge=function(e,t){var o,r=this;Kn(e)&&(e=e.__ref),Kn(t)&&(t=t.__ref);var u="string"==typeof e?this.lookup(o=e):e,l="string"==typeof t?this.lookup(o=t):t;if(l){__DEV__?mt("string"==typeof o,"store.merge expects a string ID"):mt("string"==typeof o,1);var f=new Rv(O3).merge(u,l);if(this.data[o]=f,f!==u&&(delete this.refs[o],this.group.caching)){var g=Object.create(null);u||(g.__exists=1),Object.keys(l).forEach(function(v){if(!u||u[v]!==f[v]){g[v]=1;var I=mh(v);I!==v&&!r.policies.hasKeyArgs(f.__typename,I)&&(g[I]=1),void 0===f[v]&&!(r instanceof vh)&&delete f[v]}}),g.__typename&&!(u&&u.__typename)&&this.policies.rootTypenamesById[o]===f.__typename&&delete g.__typename,Object.keys(g).forEach(function(v){return r.group.dirty(o,v)})}}},n.prototype.modify=function(e,t){var r=this,o=this.lookup(e);if(o){var u=Object.create(null),l=!1,f=!0,g={DELETE:AD,INVALIDATE:uU,isReference:Kn,toReference:this.toReference,canRead:this.canRead,readField:function(v,I){return r.policies.readField("string"==typeof v?{fieldName:v,from:I||Sv(e)}:v,{store:r})}};if(Object.keys(o).forEach(function(v){var I=mh(v),C=o[v];if(void 0!==C){var D="function"==typeof t?t:t[v]||t[I];if(D){var x=D===VP?AD:D(LP(C),(0,me.pi)((0,me.pi)({},g),{fieldName:I,storeFieldName:v,storage:r.getStorage(e,v)}));x===uU?r.group.dirty(e,v):(x===AD&&(x=void 0),x!==C&&(u[v]=x,l=!0,C=x))}void 0!==C&&(f=!1)}}),l)return this.merge(e,u),f&&(this instanceof vh?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},n.prototype.delete=function(e,t,r){var o,u=this.lookup(e);if(u){var l=this.getFieldValue(u,"__typename"),f=t&&r?this.policies.getStoreFieldName({typename:l,fieldName:t,args:r}):t;return this.modify(e,f?((o={})[f]=VP,o):VP)}return!1},n.prototype.evict=function(e,t){var r=!1;return e.id&&(Ji.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof vh&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},n.prototype.clear=function(){this.replace(null)},n.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach(function(o){Ji.call(e.policies.rootTypenamesById,o)||r.push(o)}),r.length&&(t.__META={extraRootIds:r.sort()}),t},n.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(u){e&&Ji.call(e,u)||t.delete(u)}),e){var r=e.__META,o=(0,me._T)(e,["__META"]);Object.keys(o).forEach(function(u){t.merge(u,o[u])}),r&&r.extraRootIds.forEach(this.retain,this)}},n.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},n.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},n.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof vh?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},n.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach(function(l){Ji.call(r,l)&&(Object.keys(e.findChildRefIds(l)).forEach(t.add,t),delete r[l])});var o=Object.keys(r);if(o.length){for(var u=this;u instanceof vh;)u=u.parent;o.forEach(function(l){return u.delete(l)})}return o},n.prototype.findChildRefIds=function(e){if(!Ji.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var o=new Set([r]);o.forEach(function(u){Kn(u)&&(t[u.__ref]=!0),Qr(u)&&Object.keys(u).forEach(function(l){var f=u[l];Qr(f)&&o.add(f)})})}return this.refs[e]},n.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},n}(),cU=function(){function n(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return n.prototype.resetCaching=function(){this.d=this.caching?zV():null,this.keyMaker=new $0(Qp)},n.prototype.depend=function(e,t){if(this.d){this.d(UP(e,t));var r=mh(t);r!==t&&this.d(UP(e,r)),this.parent&&this.parent.depend(e,t)}},n.prototype.dirty=function(e,t){this.d&&this.d.dirty(UP(e,t),"__exists"===t?"forget":"setDirty")},n}();function UP(n,e){return e+"#"+n}function lU(n,e){K0(n)&&n.group.depend(e,"__exists")}!function(n){var e=function(t){function r(o){var l=o.resultCaching,g=o.seed,v=t.call(this,o.policies,new cU(void 0===l||l))||this;return v.stump=new R3(v),v.storageTrie=new $0(Qp),g&&v.replace(g),v}return(0,me.ZT)(r,t),r.prototype.addLayer=function(o,u){return this.stump.addLayer(o,u)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(n);n.Root=e}(W0||(W0={}));var vh=function(n){function e(t,r,o,u){var l=n.call(this,r.policies,u)||this;return l.id=t,l.parent=r,l.replay=o,l.group=u,o(l),l}return(0,me.ZT)(e,n),e.prototype.addLayer=function(t,r){return new e(t,this,r,this.group)},e.prototype.removeLayer=function(t){var r=this,o=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(u){var l=r.data[u],f=o.lookup(u);f?l?l!==f&&Object.keys(l).forEach(function(g){Yi(l[g],f[g])||r.group.dirty(u,g)}):(r.group.dirty(u,"__exists"),Object.keys(f).forEach(function(g){r.group.dirty(u,g)})):r.delete(u)}),o):o===this.parent?this:o.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return(0,me.pi)((0,me.pi)({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return Ji.call(this.data,t)?(0,me.pi)((0,me.pi)({},r),n.prototype.findChildRefIds.call(this,t)):r},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(W0),R3=function(n){function e(t){return n.call(this,"EntityStore.Stump",t,function(){},new cU(t.group.caching,t.group))||this}return(0,me.ZT)(e,n),e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(vh);function O3(n,e,t){var r=n[t],o=e[t];return Yi(r,o)?r:o}function K0(n){return!!(n instanceof W0&&n.group.caching)}function dU(n){return[n.selectionSet,n.objectOrReference,n.context,n.context.canonizeResults]}var N3=function(){function n(e){var t=this;this.knownResults=new(Qp?WeakMap:Map),this.config=ED(e,{addTypename:!1!==e.addTypename,canonizeResults:wV(e)}),this.canon=e.canon||new pP,this.executeSelectionSet=DD(function(r){var o,u=r.context.canonizeResults,l=dU(r);l[3]=!u;var f=(o=t.executeSelectionSet).peek.apply(o,l);return f?u?(0,me.pi)((0,me.pi)({},f),{result:t.canon.admit(f.result)}):f:(lU(r.context.store,r.enclosingRef.__ref),t.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:dU,makeCacheKey:function(r,o,u,l){if(K0(u.store))return u.store.makeCacheKey(r,Kn(o)?o.__ref:o,u.varString,l)}}),this.executeSubSelectedArray=DD(function(r){return lU(r.context.store,r.enclosingRef.__ref),t.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var o=r.field,u=r.array,l=r.context;if(K0(l.store))return l.store.makeCacheKey(o,u,l.varString)}})}return n.prototype.resetCanon=function(){this.canon=new pP},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,o=e.rootId,u=void 0===o?"ROOT_QUERY":o,l=e.variables,f=e.returnPartialData,g=void 0===f||f,v=e.canonizeResults,I=void 0===v?this.config.canonizeResults:v,C=this.config.cache.policies;l=(0,me.pi)((0,me.pi)({},sP(eV(r))),l);var N,D=Sv(u),x=this.executeSelectionSet({selectionSet:iP(r).selectionSet,objectOrReference:D,enclosingRef:D,context:{store:t,query:r,policies:C,variables:l,varString:Yp(l),canonizeResults:I,fragmentMap:gD(vD(r))}});if(x.missing&&(N=[new aU(P3(x.missing),x.missing,r,l)],!g))throw N[0];return{result:x.result,complete:!N,missing:N}},n.prototype.isFresh=function(e,t,r,o){if(K0(o.store)&&this.knownResults.get(e)===r){var u=this.executeSelectionSet.peek(r,t,o,this.canon.isKnown(e));if(u&&e===u.result)return!0}return!1},n.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,o=e.objectOrReference,u=e.enclosingRef,l=e.context;if(Kn(o)&&!l.policies.rootTypenamesById[o.__ref]&&!l.store.has(o.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(o.__ref," object")};var D,f=l.variables,g=l.policies,I=l.store.getFieldValue(o,"__typename"),C=[],x=new Rv;function N(xe,je){var Je;return xe.missing&&(D=x.merge(D,((Je={})[je]=xe.missing,Je))),xe.result}this.config.addTypename&&"string"==typeof I&&!g.rootIdsByTypename[I]&&C.push({__typename:I});var H=new Set(r.selections);H.forEach(function(xe){var je,Je;if(wD(xe,f))if(Sl(xe)){var Xe=g.readField({fieldName:xe.name.value,field:xe,variables:l.variables,from:o},l),at=Kp(xe);void 0===Xe?bP.added(xe)||(D=x.merge(D,((je={})[at]="Can't find field '".concat(xe.name.value,"' on ").concat(Kn(o)?o.__ref+" object":"object "+JSON.stringify(o,null,2)),je))):ai(Xe)?Xe=N(t.executeSubSelectedArray({field:xe,array:Xe,enclosingRef:u,context:l}),at):xe.selectionSet?null!=Xe&&(Xe=N(t.executeSelectionSet({selectionSet:xe.selectionSet,objectOrReference:Xe,enclosingRef:Kn(Xe)?Xe:u,context:l}),at)):l.canonizeResults&&(Xe=t.canon.pass(Xe)),void 0!==Xe&&C.push(((Je={})[at]=Xe,Je))}else{var $t=eP(xe,l.fragmentMap);$t&&g.fragmentMatches($t,I)&&$t.selectionSet.selections.forEach(H.add,H)}});var ve={result:hP(C),missing:D},Le=l.canonizeResults?this.canon.admit(ve):LP(ve);return Le.result&&this.knownResults.set(Le.result,r),Le},n.prototype.execSubSelectedArrayImpl=function(e){var f,t=this,r=e.field,o=e.array,u=e.enclosingRef,l=e.context,g=new Rv;function v(I,C){var D;return I.missing&&(f=g.merge(f,((D={})[C]=I.missing,D))),I.result}return r.selectionSet&&(o=o.filter(l.store.canRead)),o=o.map(function(I,C){return null===I?null:ai(I)?v(t.executeSubSelectedArray({field:r,array:I,enclosingRef:u,context:l}),C):r.selectionSet?v(t.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:I,enclosingRef:Kn(I)?I:u,context:l}),C):(__DEV__&&function(n,e,t){if(!e.selectionSet){var r=new Set([t]);r.forEach(function(o){Qr(o)&&(__DEV__?mt(!Kn(o),"Missing selection set for object of type ".concat(function(n,e){return Kn(e)?n.get(e.__ref,"__typename"):e&&e.__typename}(n,o)," returned for query field ").concat(e.name.value)):mt(!Kn(o),5),Object.values(o).forEach(r.add,r))})}}(l.store,r,I),I)}),{result:l.canonizeResults?this.canon.admit(o):o,missing:f}},n}();function P3(n){try{JSON.stringify(n,function(e,t){if("string"==typeof t)throw t;return t})}catch(e){return e}}var hU=Object.create(null);function jP(n){var e=JSON.stringify(n);return hU[e]||(hU[e]=Object.create(null))}function fU(n){var e=jP(n);return e.keyFieldsFn||(e.keyFieldsFn=function(t,r){var o=function(l,f){return r.readField(f,l)},u=r.keyObject=BP(n,function(l){var f=kv(r.storeObject,l,o);return void 0===f&&t!==r.storeObject&&Ji.call(t,l[0])&&(f=kv(t,l,mU)),__DEV__?mt(void 0!==f,"Missing field '".concat(l.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):mt(void 0!==f,2),f});return"".concat(r.typename,":").concat(JSON.stringify(u))})}function pU(n){var e=jP(n);return e.keyArgsFn||(e.keyArgsFn=function(t,r){var o=r.field,u=r.variables,l=r.fieldName,f=BP(n,function(v){var I=v[0],C=I.charAt(0);if("@"!==C)if("$"!==C){if(t)return kv(t,v)}else{var H=I.slice(1);if(u&&Ji.call(u,H)){var X=v.slice(0);return X[0]=H,kv(u,X)}}else if(o&&Jp(o.directives)){var D=I.slice(1),x=o.directives.find(function(ve){return ve.name.value===D}),N=x&&mD(x,u);return N&&kv(N,v.slice(1))}}),g=JSON.stringify(f);return(t||"{}"!==g)&&(l+=":"+g),l})}function BP(n,e){var t=new Rv;return gU(n).reduce(function(r,o){var u,l=e(o);if(void 0!==l){for(var f=o.length-1;f>=0;--f)(u={})[o[f]]=l,l=u;r=t.merge(r,l)}return r},Object.create(null))}function gU(n){var e=jP(n);if(!e.paths){var t=e.paths=[],r=[];n.forEach(function(o,u){ai(o)?(gU(o).forEach(function(l){return t.push(r.concat(l))}),r.length=0):(r.push(o),ai(n[u+1])||(t.push(r.slice(0)),r.length=0))})}return e.paths}function mU(n,e){return n[e]}function kv(n,e,t){return t=t||mU,yU(e.reduce(function r(o,u){return ai(o)?o.map(function(l){return r(l,u)}):o&&t(o,u)},n))}function yU(n){return Qr(n)?ai(n)?n.map(yU):BP(Object.keys(n).sort(),function(e){return kv(n,e)}):n}function qP(n){return void 0!==n.args?n.args:n.field?mD(n.field,n.variables):null}tP.setStringify(Yp);var F3=function(){},vU=function(n,e){return e.fieldName},_U=function(n,e,t){return(0,t.mergeObjects)(n,e)},bU=function(n,e){return e},L3=function(){function n(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,me.pi)({dataIdFromObject:bV},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return n.prototype.identify=function(e,t){var r,o=this,u=t&&(t.typename||(null===(r=t.storeObject)||void 0===r?void 0:r.__typename))||e.__typename;if(u===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var g,l=t&&t.storeObject||e,f=(0,me.pi)((0,me.pi)({},t),{typename:u,storeObject:l,readField:t&&t.readField||function(){var D=$P(arguments,l);return o.readField(D,{store:o.cache.data,variables:D.variables})}}),v=u&&this.getTypePolicy(u),I=v&&v.keyFn||this.config.dataIdFromObject;I;){var C=I(e,f);if(!ai(C)){g=C;break}I=fU(C)}return g=g?String(g):void 0,f.keyObject?[g,f.keyObject]:[g]},n.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(r){var o=e[r],u=o.queryType,l=o.mutationType,f=o.subscriptionType,g=(0,me._T)(o,["queryType","mutationType","subscriptionType"]);u&&t.setRootTypename("Query",r),l&&t.setRootTypename("Mutation",r),f&&t.setRootTypename("Subscription",r),Ji.call(t.toBeAdded,r)?t.toBeAdded[r].push(g):t.toBeAdded[r]=[g]})},n.prototype.updateTypePolicy=function(e,t){var r=this,o=this.getTypePolicy(e),u=t.keyFields,l=t.fields;function f(g,v){g.merge="function"==typeof v?v:!0===v?_U:!1===v?bU:g.merge}f(o,t.merge),o.keyFn=!1===u?F3:ai(u)?fU(u):"function"==typeof u?u:o.keyFn,l&&Object.keys(l).forEach(function(g){var v=r.getFieldPolicy(e,g,!0),I=l[g];if("function"==typeof I)v.read=I;else{var C=I.keyArgs,D=I.read,x=I.merge;v.keyFn=!1===C?vU:ai(C)?pU(C):"function"==typeof C?C:v.keyFn,"function"==typeof D&&(v.read=D),f(v,x)}v.read&&v.merge&&(v.keyFn=v.keyFn||vU)})},n.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),o=this.rootTypenamesById[r];t!==o&&(__DEV__?mt(!o||o===e,"Cannot change root ".concat(e," __typename more than once")):mt(!o||o===e,3),o&&delete this.rootIdsByTypename[o],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},n.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){t.getSupertypeSet(r,!0),e[r].forEach(function(o){t.getSupertypeSet(o,!0).add(r);var u=o.match(IV);(!u||u[0]!==o)&&t.fuzzySubtypes.set(o,new RegExp(o))})})},n.prototype.getTypePolicy=function(e){var t=this;if(!Ji.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var o=this.supertypeMap.get(e);o&&o.size&&o.forEach(function(l){var f=t.getTypePolicy(l),g=f.fields,v=(0,me._T)(f,["fields"]);Object.assign(r,v),Object.assign(r.fields,g)})}var u=this.toBeAdded[e];return u&&u.length&&u.splice(0).forEach(function(l){t.updateTypePolicy(e,l)}),this.typePolicies[e]},n.prototype.getFieldPolicy=function(e,t,r){if(e){var o=this.getTypePolicy(e).fields;return o[t]||r&&(o[t]=Object.create(null))}},n.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},n.prototype.fragmentMatches=function(e,t,r,o){var u=this;if(!e.typeCondition)return!0;if(!t)return!1;var l=e.typeCondition.name.value;if(t===l)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(l))for(var f=this.getSupertypeSet(t,!0),g=[f],v=function(N){var H=u.getSupertypeSet(N,!1);H&&H.size&&g.indexOf(H)<0&&g.push(H)},I=!(!r||!this.fuzzySubtypes.size),C=!1,D=0;D<g.length;++D){var x=g[D];if(x.has(l))return f.has(l)||(C&&__DEV__&&mt.warn("Inferring subtype ".concat(t," of supertype ").concat(l)),f.add(l)),!0;x.forEach(v),I&&D===g.length-1&&fP(e.selectionSet,r,o)&&(I=!1,C=!0,this.fuzzySubtypes.forEach(function(N,H){var X=t.match(N);X&&X[0]===t&&v(H)}))}return!1},n.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!(!r||!r.keyFn)},n.prototype.getStoreFieldName=function(e){var u,t=e.typename,r=e.fieldName,o=this.getFieldPolicy(t,r,!1),l=o&&o.keyFn;if(l&&t)for(var f={typename:t,fieldName:r,field:e.field||null,variables:e.variables},g=qP(e);l;){var v=l(g,f);if(!ai(v)){u=v||r;break}l=pU(v)}return void 0===u&&(u=e.field?function(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(o){t[o.name.value]={},o.arguments&&o.arguments.forEach(function(u){return Dv(t[o.name.value],u.name,u.value,e)})}));var r=null;return n.arguments&&n.arguments.length&&(r={},n.arguments.forEach(function(o){return Dv(r,o.name,o.value,e)})),tP(n.name.value,r,t)}(e.field,e.variables):tP(r,qP(e))),!1===u?r:r===mh(u)?u:r+":"+u},n.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var u=t.store.getFieldValue(r,"__typename");u&&(e.typename=u)}var l=this.getStoreFieldName(e),f=mh(l),g=t.store.getFieldValue(r,l),v=this.getFieldPolicy(e.typename,f,!1),I=v&&v.read;if(I){var C=EU(this,r,e,t,t.store.getStorage(Kn(r)?r.__ref:r,l));return OP.withValue(this.cache,I,[g,C])}return g}},n.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return r&&r.read},n.prototype.getMergeFunction=function(e,t,r){var o=this.getFieldPolicy(e,t,!1),u=o&&o.merge;return!u&&r&&(u=(o=this.getTypePolicy(r))&&o.merge),u},n.prototype.runMergeFunction=function(e,t,r,o,u){var l=r.field,f=r.typename,g=r.merge;return g===_U?wU(o.store)(e,t):g===bU?t:(o.overwrite&&(e=void 0),g(e,t,EU(this,void 0,{typename:f,fieldName:l.name.value,field:l,variables:o.variables},o,u||Object.create(null))))},n}();function EU(n,e,t,r,o){var u=n.getStoreFieldName(t),l=mh(u),f=t.variables||r.variables,g=r.store,v=g.toReference,I=g.canRead;return{args:qP(t),field:t.field||null,fieldName:l,storeFieldName:u,variables:f,isReference:Kn,toReference:v,storage:o,cache:n.cache,canRead:I,readField:function(){return n.readField($P(arguments,e,f),r)},mergeObjects:wU(r.store)}}function $P(n,e,t){var l,r=n[0];return"string"==typeof r?l={fieldName:r,from:n.length>1?n[1]:e}:(l=(0,me.pi)({},r),Ji.call(l,"from")||(l.from=e)),__DEV__&&void 0===l.from&&__DEV__&&mt.warn("Undefined 'from' passed to readField with arguments ".concat(function(n){var e=EP("stringifyForDisplay");return JSON.stringify(n,function(t,r){return void 0===r?e:r}).split(JSON.stringify(e)).join("<undefined>")}(Array.from(n)))),void 0===l.variables&&(l.variables=t),l}function wU(n){return function(t,r){if(ai(t)||ai(r))throw __DEV__?new ir("Cannot automatically merge arrays"):new ir(4);if(Qr(t)&&Qr(r)){var o=n.getFieldValue(t,"__typename"),u=n.getFieldValue(r,"__typename");if(o&&u&&o!==u)return r;if(Kn(t)&&Ov(r))return n.merge(t.__ref,r),t;if(Ov(t)&&Kn(r))return n.merge(t,r.__ref),r;if(Ov(t)&&Ov(r))return(0,me.pi)((0,me.pi)({},t),r)}return r}}function HP(n,e,t){var r="".concat(e).concat(t),o=n.flavors.get(r);return o||n.flavors.set(r,o=n.clientOnly===e&&n.deferred===t?n:(0,me.pi)((0,me.pi)({},n),{clientOnly:e,deferred:t})),o}var V3=function(){function n(e,t){this.cache=e,this.reader=t}return n.prototype.writeToStore=function(e,t){var r=this,o=t.query,u=t.result,l=t.dataId,f=t.variables,g=t.overwrite,v=B0(o),I=new Rv;f=(0,me.pi)((0,me.pi)({},sP(v)),f);var C={store:e,written:Object.create(null),merge:function(x,N){return I.merge(x,N)},variables:f,varString:Yp(f),fragmentMap:gD(vD(o)),overwrite:!!g,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},D=this.processSelectionSet({result:u||Object.create(null),dataId:l,selectionSet:v.selectionSet,mergeTree:{map:new Map},context:C});if(!Kn(D))throw __DEV__?new ir("Could not identify object ".concat(JSON.stringify(u))):new ir(6);return C.incomingById.forEach(function(x,N){var H=x.storeObject,X=x.mergeTree,ve=x.fieldNodeSet,Le=Sv(N);if(X&&X.map.size){var xe=r.applyMerges(X,Le,H,C);if(Kn(xe))return;H=xe}if(__DEV__&&!C.overwrite){var je=Object.create(null);ve.forEach(function(at){at.selectionSet&&(je[at.name.value]=!0)}),Object.keys(H).forEach(function(at){(function(at){return!0===je[mh(at)]})(at)&&!function(at){var $t=X&&X.map.get(at);return Boolean($t&&$t.info&&$t.info.merge)}(at)&&function(n,e,t,r){var o=function(C){var D=r.getFieldValue(C,t);return"object"==typeof D&&D},u=o(n);if(u){var l=o(e);if(l&&!Kn(u)&&!Yi(u,l)&&!Object.keys(u).every(function(C){return void 0!==r.getFieldValue(l,C)})){var f=r.getFieldValue(n,"__typename")||r.getFieldValue(e,"__typename"),g=mh(t),v="".concat(f,".").concat(g);if(!SU.has(v)){SU.add(v);var I=[];!ai(u)&&!ai(l)&&[u,l].forEach(function(C){var D=r.getFieldValue(C,"__typename");"string"==typeof D&&!I.includes(D)&&I.push(D)}),__DEV__&&mt.warn("Cache data may be lost when replacing the ".concat(g," field of a ").concat(f," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(I.length?"either ensure all objects of type "+I.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(v," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(u).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(l).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(Le,H,at,C.store)})}e.merge(N,H)}),e.retain(D.__ref),D},n.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,o=e.result,u=e.selectionSet,l=e.context,f=e.mergeTree,g=this.cache.policies,v=Object.create(null),I=r&&g.rootTypenamesById[r]||nP(o,u,l.fragmentMap)||r&&l.store.get(r,"__typename");"string"==typeof I&&(v.__typename=I);var C=function(){var xe=$P(arguments,v,l.variables);if(Kn(xe.from)){var je=l.incomingById.get(xe.from.__ref);if(je){var Je=g.readField((0,me.pi)((0,me.pi)({},xe),{from:je.storeObject}),l);if(void 0!==Je)return Je}}return g.readField(xe,l)},D=new Set;this.flattenFields(u,o,l,I).forEach(function(xe,je){var Je,Xe=Kp(je),at=o[Xe];if(D.add(je),void 0!==at){var $t=g.getStoreFieldName({typename:I,fieldName:je.name.value,field:je,variables:xe.variables}),fr=TU(f,$t),In=t.processFieldValue(at,je,je.selectionSet?HP(xe,!1,!1):xe,fr),da=void 0;je.selectionSet&&(Kn(In)||Ov(In))&&(da=C("__typename",In));var nc=g.getMergeFunction(I,je.name.value,da);nc?fr.info={field:je,typename:I,merge:nc}:CU(f,$t),v=xe.merge(v,((Je={})[$t]=In,Je))}else __DEV__&&!xe.clientOnly&&!xe.deferred&&!bP.added(je)&&!g.getReadFunction(I,je.name.value)&&__DEV__&&mt.error("Missing field '".concat(Kp(je),"' while writing result ").concat(JSON.stringify(o,null,2)).substring(0,1e3))});try{var x=g.identify(o,{typename:I,selectionSet:u,fragmentMap:l.fragmentMap,storeObject:v,readField:C}),H=x[1];r=r||x[0],H&&(v=l.merge(v,H))}catch(xe){if(!r)throw xe}if("string"==typeof r){var X=Sv(r),ve=l.written[r]||(l.written[r]=[]);if(ve.indexOf(u)>=0||(ve.push(u),this.reader&&this.reader.isFresh(o,X,u,l)))return X;var Le=l.incomingById.get(r);return Le?(Le.storeObject=l.merge(Le.storeObject,v),Le.mergeTree=ZP(Le.mergeTree,f),D.forEach(function(xe){return Le.fieldNodeSet.add(xe)})):l.incomingById.set(r,{storeObject:v,mergeTree:xD(f)?void 0:f,fieldNodeSet:D}),X}return v},n.prototype.processFieldValue=function(e,t,r,o){var u=this;return t.selectionSet&&null!==e?ai(e)?e.map(function(l,f){var g=u.processFieldValue(l,t,r,TU(o,f));return CU(o,f),g}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:o}):__DEV__?PV(e):e},n.prototype.flattenFields=function(e,t,r,o){void 0===o&&(o=nP(t,e,r.fragmentMap));var u=new Map,l=this.cache.policies,f=new $0(!1);return function g(v,I){var C=f.lookup(v,I.clientOnly,I.deferred);C.visited||(C.visited=!0,v.selections.forEach(function(D){if(wD(D,r.variables)){var x=I.clientOnly,N=I.deferred;if(!(x&&N)&&Jp(D.directives)&&D.directives.forEach(function(ve){var Le=ve.name.value;if("client"===Le&&(x=!0),"defer"===Le){var xe=mD(ve,r.variables);(!xe||!1!==xe.if)&&(N=!0)}}),Sl(D)){var H=u.get(D);H&&(x=x&&H.clientOnly,N=N&&H.deferred),u.set(D,HP(r,x,N))}else{var X=eP(D,r.fragmentMap);X&&l.fragmentMatches(X,o,t,r.variables)&&g(X.selectionSet,HP(r,x,N))}}}))}(e,r),u},n.prototype.applyMerges=function(e,t,r,o,u){var l,f=this;if(e.map.size&&!Kn(r)){var g=ai(r)||!Kn(t)&&!Ov(t)?void 0:t,v=r;g&&!u&&(u=[Kn(g)?g.__ref:g]);var I,C=function(D,x){return ai(D)?"number"==typeof x?D[x]:void 0:o.store.getFieldValue(D,String(x))};e.map.forEach(function(D,x){var N=C(g,x),H=C(v,x);if(void 0!==H){u&&u.push(x);var X=f.applyMerges(D,N,H,o,u);X!==H&&(I=I||new Map).set(x,X),u&&mt(u.pop()===x)}}),I&&(r=ai(v)?v.slice(0):(0,me.pi)({},v),I.forEach(function(D,x){r[x]=D}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,o,u&&(l=o.store).getStorage.apply(l,u)):r},n}(),IU=[];function TU(n,e){var t=n.map;return t.has(e)||t.set(e,IU.pop()||{map:new Map}),t.get(e)}function ZP(n,e){if(n===e||!e||xD(e))return n;if(!n||xD(n))return e;var t=n.info&&e.info?(0,me.pi)((0,me.pi)({},n.info),e.info):n.info||e.info,r=n.map.size&&e.map.size,u={info:t,map:r?new Map:n.map.size?n.map:e.map};if(r){var l=new Set(e.map.keys());n.map.forEach(function(f,g){u.map.set(g,ZP(f,e.map.get(g))),l.delete(g)}),l.forEach(function(f){u.map.set(f,ZP(e.map.get(f),n.map.get(f)))})}return u}function xD(n){return!n||!(n.info||n.map.size)}function CU(n,e){var t=n.map,r=t.get(e);r&&xD(r)&&(IU.push(r),t.delete(e))}var SU=new Set,j3=function(n){function e(t){void 0===t&&(t={});var r=n.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=f3,r.txCount=0,r.config=function(n){return ED(EV,n)}(t),r.addTypename=!!r.config.addTypename,r.policies=new L3({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return(0,me.ZT)(e,n),e.prototype.init=function(){var t=this.data=new W0.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},e.prototype.resetResultCache=function(t){var r=this,o=this.storeReader;this.storeWriter=new V3(this,this.storeReader=new N3({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:wV(this.config),canon:t?void 0:o&&o.canon})),this.maybeBroadcastWatch=DD(function(u,l){return r.broadcastWatch(u,l)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(u){var l=u.optimistic?r.optimisticData:r.data;if(K0(l))return l.makeCacheKey(u.query,u.callback,Yp({optimistic:u.optimistic,rootId:u.rootId,variables:u.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(u){return u.resetCaching()})},e.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},e.prototype.extract=function(t){return void 0===t&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var r=t.returnPartialData,o=void 0!==r&&r;try{return this.storeReader.diffQueryAgainstStore((0,me.pi)((0,me.pi)({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:o})).result||null}catch(u){if(u instanceof aU)return null;throw u}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},e.prototype.modify=function(t){if(Ji.call(t,"id")&&!t.id)return!1;var r=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(t.id||"ROOT_QUERY",t.fields)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore((0,me.pi)((0,me.pi)({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(t){var r=this;return this.watches.size||function(n){z0(n).vars.forEach(function(e){return e.attachCache(n)})}(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){r.watches.delete(t)&&!r.watches.size&&QV(r),r.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(t){Yp.reset();var r=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(t,r){return(r?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,r){return(r?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){if(Kn(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(r){__DEV__&&mt.warn(r)}},e.prototype.evict=function(t){if(!t.id){if(Ji.call(t,"id"))return!1;t=(0,me.pi)((0,me.pi)({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&!1!==t.broadcast&&this.broadcastWatches()}},e.prototype.reset=function(t){var r=this;return this.init(),Yp.reset(),t&&t.discardWatches?(this.watches.forEach(function(o){return r.maybeBroadcastWatch.forget(o)}),this.watches.clear(),QV(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var r=this.optimisticData.removeLayer(t);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(t){var v,r=this,o=t.update,u=t.optimistic,l=void 0===u||u,f=t.removeOptimistic,g=t.onWatchUpdated,I=function(D){var N=r.data,H=r.optimisticData;++r.txCount,D&&(r.data=r.optimisticData=D);try{return v=o(r)}finally{--r.txCount,r.data=N,r.optimisticData=H}},C=new Set;return g&&!this.txCount&&this.broadcastWatches((0,me.pi)((0,me.pi)({},t),{onWatchUpdated:function(D){return C.add(D),!1}})),"string"==typeof l?this.optimisticData=this.optimisticData.addLayer(l,I):!1===l?I(this.data):I(),"string"==typeof f&&(this.optimisticData=this.optimisticData.removeLayer(f)),g&&C.size?(this.broadcastWatches((0,me.pi)((0,me.pi)({},t),{onWatchUpdated:function(D,x){var N=g.call(this,D,x);return!1!==N&&C.delete(D),N}})),C.size&&C.forEach(function(D){return r.maybeBroadcastWatch.dirty(D)})):this.broadcastWatches(t),v},e.prototype.performTransaction=function(t,r){return this.batch({update:t,optimistic:r||null!==r})},e.prototype.transformDocument=function(t){if(this.addTypename){var r=this.typenameDocumentCache.get(t);return r||(r=bP(t),this.typenameDocumentCache.set(t,r),this.typenameDocumentCache.set(r,r)),r}return t},e.prototype.broadcastWatches=function(t){var r=this;this.txCount||this.watches.forEach(function(o){return r.maybeBroadcastWatch(o,t)})},e.prototype.broadcastWatch=function(t,r){var o=t.lastDiff,u=this.diff(t);r&&(t.optimistic&&"string"==typeof r.optimistic&&(u.fromOptimisticTransaction=!0),r.onWatchUpdated&&!1===r.onWatchUpdated.call(this,t,u,o))||(!o||!Yi(o.result,u.result))&&t.callback(t.lastDiff=u,o)},e}(D3);class B3 extends Av{constructor(e,t){super(),this.httpClient=e,this.options=t,this.print=aV,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new Er(o=>{const u=r.getContext(),l=(Le,xe)=>function(...n){const e=n.find(t=>void 0!==t);return void 0===e?n[n.length-1]:e}(u[Le],this.options[Le],xe);let f=l("method","POST");const g=l("includeQuery",!0),v=l("includeExtensions",!1),I=l("uri","graphql"),C=l("withCredentials"),D=l("useMultipart"),x=!0===this.options.useGETForQueries,N=r.query.definitions.some(Le=>"OperationDefinition"===Le.kind&&"query"===Le.operation);x&&N&&(f="GET");const H={method:f,url:"function"==typeof I?I(r):I,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:C,useMultipart:D,headers:this.options.headers}};v&&(H.body.extensions=r.extensions),g&&(H.body.query=this.print(r.query));const X=function(n){let e=n.headers&&n.headers instanceof rs?n.headers:new rs(n.headers);if(n.clientAwareness){const{name:t,version:r}=n.clientAwareness;t&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",t)),r&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",r))}return e}(u);H.options.headers=((n,e)=>n&&e?e.keys().reduce((r,o)=>r.set(o,e.getAll(o)),n):e||n)(H.options.headers,X);const ve=((n,e,t)=>{const r=-1!==["POST","PUT","PATCH"].indexOf(n.method.toUpperCase()),u=n.body.length;let f,l=n.options&&n.options.useMultipart;if(l){if(u)return new kr.y(v=>v.error(new Error("File upload is not available when combined with Batching")));if(!r)return new kr.y(v=>v.error(new Error("File upload is not available when GET is used")));if(!t)return new kr.y(v=>v.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));f=t(n.body),l=!!f.files.size}let g={};if(u){if(!r)return new kr.y(v=>v.error(new Error("Batching is not available for GET requests")));g={body:n.body}}else{const v=l?f.clone:n.body;g=r?{body:v}:{params:Object.keys(n.body).reduce((C,D)=>{const x=n.body[D];return C[D]=(v=>-1!==["variables","extensions"].indexOf(v.toLowerCase()))(D)?JSON.stringify(x):x,C},{})}}if(l&&r){const v=new FormData;v.append("operations",JSON.stringify(g.body));const I={},C=f.files;let D=0;C.forEach(x=>{I[++D]=x}),v.append("map",JSON.stringify(I)),D=0,C.forEach((x,N)=>{v.append(++D+"",N,N.name)}),g.body=v}return e.request(n.method,n.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},g),n.options))})(H,this.httpClient,this.options.extractFiles).subscribe({next:Le=>{r.setContext({response:Le}),o.next(Le.body)},error:Le=>o.error(Le),complete:()=>o.complete()});return()=>{ve.closed||ve.unsubscribe()}})}request(e){return this.requester(e)}}let q3=(()=>{class n{constructor(t){this.httpClient=t}create(t){return new B3(this.httpClient,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Wv))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function H3(n){return{link:n.create({uri:"http://localhost:4201/graphql"}),cache:new j3}}let Z3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:sU,useFactory:H3,deps:[q3]}],imports:[S3]}),n})(),G3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[iq]}),n.\u0275inj=h.cJS({providers:[_I,YA],imports:[[Da,rq,Z3,mu,Tk,bo.hO.initializeApp(Pu_firebase),Px]]}),n})();(0,h.G48)(),fg().bootstrapModule(G3).catch(n=>console.error(n))},4762:(ct,Oe,M)=>{"use strict";M.d(Oe,{ZT:()=>Z,pi:()=>F,_T:()=>ue,mG:()=>be,Jh:()=>le,ev:()=>Te});var h=function(re,se){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,De){ge.__proto__=De}||function(ge,De){for(var _e in De)Object.prototype.hasOwnProperty.call(De,_e)&&(ge[_e]=De[_e])})(re,se)};function Z(re,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function ge(){this.constructor=re}h(re,se),re.prototype=null===se?Object.create(se):(ge.prototype=se.prototype,new ge)}var F=function(){return F=Object.assign||function(se){for(var ge,De=1,_e=arguments.length;De<_e;De++)for(var He in ge=arguments[De])Object.prototype.hasOwnProperty.call(ge,He)&&(se[He]=ge[He]);return se},F.apply(this,arguments)};function ue(re,se){var ge={};for(var De in re)Object.prototype.hasOwnProperty.call(re,De)&&se.indexOf(De)<0&&(ge[De]=re[De]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(De=Object.getOwnPropertySymbols(re);_e<De.length;_e++)se.indexOf(De[_e])<0&&Object.prototype.propertyIsEnumerable.call(re,De[_e])&&(ge[De[_e]]=re[De[_e]])}return ge}function be(re,se,ge,De){return new(ge||(ge=Promise))(function(He,Et){function an(gn){try{wt(De.next(gn))}catch(sr){Et(sr)}}function _n(gn){try{wt(De.throw(gn))}catch(sr){Et(sr)}}function wt(gn){gn.done?He(gn.value):function(He){return He instanceof ge?He:new ge(function(Et){Et(He)})}(gn.value).then(an,_n)}wt((De=De.apply(re,se||[])).next())})}function le(re,se){var De,_e,He,Et,ge={label:0,sent:function(){if(1&He[0])throw He[1];return He[1]},trys:[],ops:[]};return Et={next:an(0),throw:an(1),return:an(2)},"function"==typeof Symbol&&(Et[Symbol.iterator]=function(){return this}),Et;function an(wt){return function(gn){return function(wt){if(De)throw new TypeError("Generator is already executing.");for(;ge;)try{if(De=1,_e&&(He=2&wt[0]?_e.return:wt[0]?_e.throw||((He=_e.return)&&He.call(_e),0):_e.next)&&!(He=He.call(_e,wt[1])).done)return He;switch(_e=0,He&&(wt=[2&wt[0],He.value]),wt[0]){case 0:case 1:He=wt;break;case 4:return ge.label++,{value:wt[1],done:!1};case 5:ge.label++,_e=wt[1],wt=[0];continue;case 7:wt=ge.ops.pop(),ge.trys.pop();continue;default:if(!(He=(He=ge.trys).length>0&&He[He.length-1])&&(6===wt[0]||2===wt[0])){ge=0;continue}if(3===wt[0]&&(!He||wt[1]>He[0]&&wt[1]<He[3])){ge.label=wt[1];break}if(6===wt[0]&&ge.label<He[1]){ge.label=He[1],He=wt;break}if(He&&ge.label<He[2]){ge.label=He[2],ge.ops.push(wt);break}He[2]&&ge.ops.pop(),ge.trys.pop();continue}wt=se.call(re,ge)}catch(gn){wt=[6,gn],_e=0}finally{De=He=0}if(5&wt[0])throw wt[1];return{value:wt[0]?wt[1]:void 0,done:!0}}([wt,gn])}}}function Te(re,se,ge){if(ge||2===arguments.length)for(var He,De=0,_e=se.length;De<_e;De++)(He||!(De in se))&&(He||(He=Array.prototype.slice.call(se,0,De)),He[De]=se[De]);return re.concat(He||Array.prototype.slice.call(se))}},3394:(ct,Oe,M)=>{"use strict";M.d(Oe,{Z:()=>Ue});var h=M(3854),Z=M(3910),F=M(8026),ue=M(5422);class Se{constructor(we,qe){this._delegate=we,this.firebase=qe,(0,F._addComponent)(we,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(we,qe=F._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(we);return!Ne.isInitialized()&&"EXPLICIT"===(null===(ze=Ne.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:qe})}_removeServiceInstance(we,qe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(qe)}_addComponent(we){(0,F._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,F._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function le(){const Te=function(Te){const we={},qe={__esModule:!0,initializeApp:function(Ee,$e={}){const Ze=F.initializeApp(Ee,$e);if((0,h.r3)(we,Ze.name))return we[Ze.name];const re=new Te(Ze,qe);return we[Ze.name]=re,re},app:Ne,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(Ee){const $e=Ee.name,Ze=$e.replace("-compat","");if(F._registerComponent(Ee)&&"PUBLIC"===Ee.type){const re=(se=Ne())=>{if("function"!=typeof se[Ze])throw Re.create("invalid-app-argument",{appName:$e});return se[Ze]()};void 0!==Ee.serviceProps&&(0,h.ZB)(re,Ee.serviceProps),qe[Ze]=re,Te.prototype[Ze]=function(...se){return this._getService.bind(this,$e).apply(this,Ee.multipleInstances?se:[])}}return"PUBLIC"===Ee.type?qe[Ze]:null},removeApp:function(Ee){delete we[Ee]},useAsService:function(Ee,$e){return"serverAuth"===$e?null:$e},modularAPIs:F}};function Ne(Ee){if(!(0,h.r3)(we,Ee=Ee||F._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:Ee});return we[Ee]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function(){return Object.keys(we).map(Ee=>we[Ee])}}),Ne.App=Te,qe}(Se);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function(qe){(0,h.ZB)(Te,qe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Te}(),$=new ue.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=B;(0,F.registerVersion)("@firebase/app-compat","0.1.33",undefined)},8026:(ct,Oe,M)=>{"use strict";M.r(Oe),M.d(Oe,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>pr,_DEFAULT_ENTRY_NAME:()=>_n,_addComponent:()=>Sn,_addOrOverwriteComponent:()=>or,_apps:()=>gn,_clearComponents:()=>Ei,_components:()=>sr,_getProvider:()=>pt,_registerComponent:()=>At,_removeServiceInstance:()=>bn,deleteApp:()=>qr,getApp:()=>Zn,getApps:()=>Br,initializeApp:()=>Vn,onLog:()=>Dn,registerVersion:()=>sn,setLogLevel:()=>qn});var h=M(8239),Z=M(3910),F=M(5422),ue=M(3854),Se=M(300);class ye{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function(G){const Y=G.getComponent();return"VERSION"===(null==Y?void 0:Y.type)}(W)){const ke=W.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(W=>W).join(" ")}}const be="@firebase/app",B=new F.Yd("@firebase/app"),_n="[DEFAULT]",wt={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,sr=new Map;function Sn(G,Y){try{G.container.addComponent(Y)}catch(W){B.debug(`Component ${Y.name} failed to register with FirebaseApp ${G.name}`,W)}}function or(G,Y){G.container.addOrOverwriteComponent(Y)}function At(G){const Y=G.name;if(sr.has(Y))return B.debug(`There were multiple attempts to register component ${Y}.`),!1;sr.set(Y,G);for(const W of gn.values())Sn(W,G);return!0}function pt(G,Y){const W=G.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),G.container.getProvider(Y)}function bn(G,Y,W=_n){pt(G,Y).clearInstance(W)}function Ei(){sr.clear()}const Yt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wr{constructor(Y,W,ke){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const pr="9.9.4";function Vn(G,Y={}){"object"!=typeof Y&&(Y={name:Y});const W=Object.assign({name:_n,automaticDataCollectionEnabled:!1},Y),ke=W.name;if("string"!=typeof ke||!ke)throw Yt.create("bad-app-name",{appName:String(ke)});const et=gn.get(ke);if(et){if((0,ue.vZ)(G,et.options)&&(0,ue.vZ)(W,et.config))return et;throw Yt.create("duplicate-app",{appName:ke})}const St=new Z.H0(ke);for(const fn of sr.values())St.addComponent(fn);const on=new wr(G,W,St);return gn.set(ke,on),on}function Zn(G=_n){const Y=gn.get(G);if(!Y)throw Yt.create("no-app",{appName:G});return Y}function Br(){return Array.from(gn.values())}function qr(G){return gr.apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(G){const Y=G.name;gn.has(Y)&&(gn.delete(Y),yield Promise.all(G.container.getProviders().map(W=>W.delete())),G.isDeleted=!0)})).apply(this,arguments)}function sn(G,Y,W){var ke;let et=null!==(ke=wt[G])&&void 0!==ke?ke:G;W&&(et+=`-${W}`);const St=et.match(/\s|\//),on=Y.match(/\s|\//);if(St||on){const fn=[`Unable to register library "${et}" with version "${Y}":`];return St&&fn.push(`library name "${et}" contains illegal characters (whitespace or "/")`),St&&on&&fn.push("and"),on&&fn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void B.warn(fn.join(" "))}At(new Z.wA(`${et}-version`,()=>({library:et,version:Y}),"VERSION"))}function Dn(G,Y){if(null!==G&&"function"!=typeof G)throw Yt.create("invalid-log-argument");(0,F.Am)(G,Y)}function qn(G){(0,F.Ub)(G)}const ar="firebase-heartbeat-store";let Xn=null;function Un(){return Xn||(Xn=(0,Se.X3)("firebase-heartbeat-database",1,{upgrade:(G,Y)=>{0===Y&&G.createObjectStore(ar)}}).catch(G=>{throw Yt.create("idb-open",{originalErrorMessage:G.message})})),Xn}function _t(){return(_t=(0,h.Z)(function*(G){var Y;try{return(yield Un()).transaction(ar).objectStore(ar).get(wi(G))}catch(W){if(W instanceof ue.ZR)B.warn(W.message);else{const ke=Yt.create("idb-get",{originalErrorMessage:null===(Y=W)||void 0===Y?void 0:Y.message});B.warn(ke.message)}}})).apply(this,arguments)}function nt(G,Y){return un.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(G,Y){var W;try{const et=(yield Un()).transaction(ar,"readwrite");return yield et.objectStore(ar).put(Y,wi(G)),et.done}catch(ke){if(ke instanceof ue.ZR)B.warn(ke.message);else{const et=Yt.create("idb-set",{originalErrorMessage:null===(W=ke)||void 0===W?void 0:W.message});B.warn(et.message)}}})).apply(this,arguments)}function wi(G){return`${G.name}!${G.options.appId}`}class kn{constructor(Y){this.container=Y,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new $r(W),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var Y=this;return(0,h.Z)(function*(){const ke=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=Pn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==et&&!Y._heartbeatsCache.heartbeats.some(St=>St.date===et))return Y._heartbeatsCache.heartbeats.push({date:et,agent:ke}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(St=>{const on=new Date(St.date).valueOf();return Date.now()-on<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,h.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const W=Pn(),{heartbeatsToSend:ke,unsentEntries:et}=function(G,Y=1024){const W=[];let ke=G.slice();for(const et of G){const St=W.find(on=>on.agent===et.agent);if(St){if(St.dates.push(et.date),K(W)>Y){St.dates.pop();break}}else if(W.push({agent:et.agent,dates:[et.date]}),K(W)>Y){W.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:W,unsentEntries:ke}}(Y._heartbeatsCache.heartbeats),St=(0,ue.L)(JSON.stringify({version:2,heartbeats:ke}));return Y._heartbeatsCache.lastSentHeartbeatDate=W,et.length>0?(Y._heartbeatsCache.heartbeats=et,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),St})()}}function Pn(){return(new Date).toISOString().substring(0,10)}class $r{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,h.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function(G){return _t.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var W=this;return(0,h.Z)(function*(){var ke;if(yield W._canUseIndexedDBPromise){const St=yield W.read();return nt(W.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:St.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var W=this;return(0,h.Z)(function*(){var ke;if(yield W._canUseIndexedDBPromise){const St=yield W.read();return nt(W.app,{lastSentHeartbeatDate:null!==(ke=Y.lastSentHeartbeatDate)&&void 0!==ke?ke:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...Y.heartbeats]})}})()}}function K(G){return(0,ue.L)(JSON.stringify({version:2,heartbeats:G})).length}At(new Z.wA("platform-logger",Y=>new ye(Y),"PRIVATE")),At(new Z.wA("heartbeat",Y=>new kn(Y),"PRIVATE")),sn(be,"0.7.32",""),sn(be,"0.7.32","esm2017"),sn("fire-js","")},3910:(ct,Oe,M)=>{"use strict";M.d(Oe,{wA:()=>F,H0:()=>be});var h=M(8239),Z=M(3854);class F{constructor(B,$,oe){this.name=B,this.instanceFactory=$,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ue="[DEFAULT]";class Se{constructor(B,$){this.name=B,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const $=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has($)){const oe=new Z.BH;if(this.instancesDeferred.set($,oe),this.isInitialized($)||this.shouldAutoInitialize())try{const te=this.getOrInitializeService({instanceIdentifier:$});te&&oe.resolve(te)}catch(te){}}return this.instancesDeferred.get($).promise}getImmediate(B){var $;const oe=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),te=null!==($=null==B?void 0:B.optional)&&void 0!==$&&$;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(pe){if(te)return null;throw pe}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if("EAGER"===B.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch($){}for(const[$,oe]of this.instancesDeferred.entries()){const te=this.normalizeInstanceIdentifier($);try{const pe=this.getOrInitializeService({instanceIdentifier:te});oe.resolve(pe)}catch(pe){}}}}clearInstance(B=ue){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,h.Z)(function*(){const $=Array.from(B.instances.values());yield Promise.all([...$.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...$.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ue){return this.instances.has(B)}getOptions(B=ue){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:$={}}=B,oe=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const te=this.getOrInitializeService({instanceIdentifier:oe,options:$});for(const[pe,Ue]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(pe)&&Ue.resolve(te);return te}onInit(B,$){var oe;const te=this.normalizeInstanceIdentifier($),pe=null!==(oe=this.onInitCallbacks.get(te))&&void 0!==oe?oe:new Set;pe.add(B),this.onInitCallbacks.set(te,pe);const Ue=this.instances.get(te);return Ue&&B(Ue,te),()=>{pe.delete(B)}}invokeOnInitCallbacks(B,$){const oe=this.onInitCallbacks.get($);if(oe)for(const te of oe)try{te(B,$)}catch(pe){}}getOrInitializeService({instanceIdentifier:B,options:$={}}){let oe=this.instances.get(B);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(le=B,le===ue?void 0:le),options:$}),this.instances.set(B,oe),this.instancesOptions.set(B,$),this.invokeOnInitCallbacks(oe,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,oe)}catch(te){}var le;return oe||null}normalizeInstanceIdentifier(B=ue){return this.component?this.component.multipleInstances?B:ue:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const $=this.getProvider(B.name);if($.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);$.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const $=new Se(B,this);return this.providers.set(B,$),$}getProviders(){return Array.from(this.providers.values())}}},3328:(ct,Oe,M)=>{"use strict";var h=M(8239),Z=M(8026),F=M(3910),ue=M(3854),Se=M(300);const ye="@firebase/installations",Re="0.5.12",le=`w:${Re}`,B="FIS_v2",Te=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(z){return z instanceof ue.ZR&&z.code.includes("request-failed")}function qe({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function ze(z){return{token:z.token,requestStatus:2,expiresIn:$e(z.expiresIn),creationTime:Date.now()}}function Ne(z,de){return rt.apply(this,arguments)}function rt(){return(rt=(0,h.Z)(function*(z,de){const ht=(yield de.json()).error;return Te.create("request-failed",{requestName:z,serverCode:ht.code,serverMessage:ht.message,serverStatus:ht.status})})).apply(this,arguments)}function vt({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function tt(z,{refreshToken:de}){const Ve=vt(z);return Ve.append("Authorization",function(z){return`${B} ${z}`}(de)),Ve}function Mt(z){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,h.Z)(function*(z){const de=yield z();return de.status>=500&&de.status<600?z():de})).apply(this,arguments)}function $e(z){return Number(z.replace("s","000"))}function re(z,de){return se.apply(this,arguments)}function se(){return(se=(0,h.Z)(function*({appConfig:z,heartbeatServiceProvider:de},{fid:Ve}){const ht=qe(z),Tn=vt(z),jt=de.getImmediate({optional:!0});if(jt){const Cr=yield jt.getHeartbeatsHeader();Cr&&Tn.append("x-firebase-client",Cr)}const cn={method:"POST",headers:Tn,body:JSON.stringify({fid:Ve,authVersion:B,appId:z.appId,sdkVersion:le})},Xr=yield Mt(()=>fetch(ht,cn));if(Xr.ok){const Cr=yield Xr.json();return{fid:Cr.fid||Ve,registrationStatus:2,refreshToken:Cr.refreshToken,authToken:ze(Cr.authToken)}}throw yield Ne("Create Installation",Xr)})).apply(this,arguments)}function ge(z){return new Promise(de=>{setTimeout(de,z)})}const _e=/^[cdef][\w-]{21}$/;function Et(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const Ve=function(z){return function(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return _e.test(Ve)?Ve:""}catch(z){return""}}function _n(z){return`${z.appName}!${z.appId}`}const wt=new Map;function gn(z,de){const Ve=_n(z);or(Ve,de),function(z,de){const Ve=(!pt&&"BroadcastChannel"in self&&(pt=new BroadcastChannel("[Firebase] FID Change"),pt.onmessage=z=>{or(z.data.key,z.data.fid)}),pt);Ve&&Ve.postMessage({key:z,fid:de}),0===wt.size&&pt&&(pt.close(),pt=null)}(Ve,de)}function or(z,de){const Ve=wt.get(z);if(Ve)for(const ht of Ve)ht(de)}let pt=null;const wr="firebase-installations-store";let pr=null;function Vn(){return pr||(pr=(0,Se.X3)("firebase-installations-database",1,{upgrade:(z,de)=>{0===de&&z.createObjectStore(wr)}})),pr}function Zn(z,de){return Br.apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(z,de){const Ve=_n(z),Tn=(yield Vn()).transaction(wr,"readwrite"),jt=Tn.objectStore(wr),An=yield jt.get(Ve);return yield jt.put(de,Ve),yield Tn.done,(!An||An.fid!==de.fid)&&gn(z,de.fid),de})).apply(this,arguments)}function qr(z){return gr.apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(z){const de=_n(z),ht=(yield Vn()).transaction(wr,"readwrite");yield ht.objectStore(wr).delete(de),yield ht.done})).apply(this,arguments)}function sn(z,de){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(z,de){const Ve=_n(z),Tn=(yield Vn()).transaction(wr,"readwrite"),jt=Tn.objectStore(wr),An=yield jt.get(Ve),cn=de(An);return void 0===cn?yield jt.delete(Ve):yield jt.put(cn,Ve),yield Tn.done,cn&&(!An||An.fid!==cn.fid)&&gn(z,cn.fid),cn})).apply(this,arguments)}function qn(z){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(z){let de;const Ve=yield sn(z.appConfig,ht=>{const Tn=lt(ht),jt=ar(z,Tn);return de=jt.registrationPromise,jt.installationEntry});return""===Ve.fid?{installationEntry:yield de}:{installationEntry:Ve,registrationPromise:de}})).apply(this,arguments)}function lt(z){return un(z||{fid:Et(),registrationStatus:0})}function ar(z,de){if(0===de.registrationStatus){if(!navigator.onLine)return{installationEntry:de,registrationPromise:Promise.reject(Te.create("app-offline"))};const Ve={fid:de.fid,registrationStatus:1,registrationTime:Date.now()},ht=function(z,de){return Un.apply(this,arguments)}(z,Ve);return{installationEntry:Ve,registrationPromise:ht}}return 1===de.registrationStatus?{installationEntry:de,registrationPromise:mn(z)}:{installationEntry:de}}function Un(){return(Un=(0,h.Z)(function*(z,de){try{const Ve=yield re(z,de);return Zn(z.appConfig,Ve)}catch(Ve){throw we(Ve)&&409===Ve.customData.serverCode?yield qr(z.appConfig):yield Zn(z.appConfig,{fid:de.fid,registrationStatus:0}),Ve}})).apply(this,arguments)}function mn(z){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(z){let de=yield nt(z.appConfig);for(;1===de.registrationStatus;)yield ge(100),de=yield nt(z.appConfig);if(0===de.registrationStatus){const{installationEntry:Ve,registrationPromise:ht}=yield qn(z);return ht||Ve}return de})).apply(this,arguments)}function nt(z){return sn(z,de=>{if(!de)throw Te.create("installation-not-found");return un(de)})}function un(z){return function(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function ur(z,de){return yn.apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*({appConfig:z,heartbeatServiceProvider:de},Ve){const ht=kn(z,Ve),Tn=tt(z,Ve),jt=de.getImmediate({optional:!0});if(jt){const Cr=yield jt.getHeartbeatsHeader();Cr&&Tn.append("x-firebase-client",Cr)}const cn={method:"POST",headers:Tn,body:JSON.stringify({installation:{sdkVersion:le,appId:z.appId}})},Xr=yield Mt(()=>fetch(ht,cn));if(Xr.ok)return ze(yield Xr.json());throw yield Ne("Generate Auth Token",Xr)})).apply(this,arguments)}function kn(z,{fid:de}){return`${qe(z)}/${de}/authTokens:generate`}function Pn(z){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(z,de=!1){let Ve;const ht=yield sn(z.appConfig,jt=>{if(!W(jt))throw Te.create("not-registered");const An=jt.authToken;if(!de&&ke(An))return jt;if(1===An.requestStatus)return Ve=$r(z,de),jt;{if(!navigator.onLine)throw Te.create("app-offline");const cn=St(jt);return Ve=G(z,cn),cn}});return Ve?yield Ve:ht.authToken})).apply(this,arguments)}function $r(z,de){return K.apply(this,arguments)}function K(){return(K=(0,h.Z)(function*(z,de){let Ve=yield J(z.appConfig);for(;1===Ve.authToken.requestStatus;)yield ge(100),Ve=yield J(z.appConfig);const ht=Ve.authToken;return 0===ht.requestStatus?Pn(z,de):ht})).apply(this,arguments)}function J(z){return sn(z,de=>{if(!W(de))throw Te.create("not-registered");return function(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(de.authToken)?Object.assign(Object.assign({},de),{authToken:{requestStatus:0}}):de})}function G(z,de){return Y.apply(this,arguments)}function Y(){return(Y=(0,h.Z)(function*(z,de){try{const Ve=yield ur(z,de),ht=Object.assign(Object.assign({},de),{authToken:Ve});return yield Zn(z.appConfig,ht),Ve}catch(Ve){if(!we(Ve)||401!==Ve.customData.serverCode&&404!==Ve.customData.serverCode){const ht=Object.assign(Object.assign({},de),{authToken:{requestStatus:0}});yield Zn(z.appConfig,ht)}else yield qr(z.appConfig);throw Ve}})).apply(this,arguments)}function W(z){return void 0!==z&&2===z.registrationStatus}function ke(z){return 2===z.requestStatus&&!function(z){const de=Date.now();return de<z.creationTime||z.creationTime+z.expiresIn<de+36e5}(z)}function St(z){const de={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:de})}function he(){return(he=(0,h.Z)(function*(z){const de=z,{installationEntry:Ve,registrationPromise:ht}=yield qn(de);return ht?ht.catch(console.error):Pn(de).catch(console.error),Ve.fid})).apply(this,arguments)}function j(){return(j=(0,h.Z)(function*(z,de=!1){const Ve=z;return yield U(Ve),(yield Pn(Ve,de)).token})).apply(this,arguments)}function U(z){return ie.apply(this,arguments)}function ie(){return(ie=(0,h.Z)(function*(z){const{registrationPromise:de}=yield qn(z);de&&(yield de)})).apply(this,arguments)}function tn(z){return Te.create("missing-app-config-values",{valueName:z})}const Jr="installations";(0,Z._registerComponent)(new F.wA(Jr,z=>{const de=z.getProvider("app").getImmediate(),Ve=function(z){if(!z||!z.options)throw tn("App Configuration");if(!z.name)throw tn("App Name");const de=["projectId","apiKey","appId"];for(const Ve of de)if(!z.options[Ve])throw tn(Ve);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(de);return{app:de,appConfig:Ve,heartbeatServiceProvider:(0,Z._getProvider)(de,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Z._registerComponent)(new F.wA("installations-internal",z=>{const de=z.getProvider("app").getImmediate(),Ve=(0,Z._getProvider)(de,Jr).getImmediate();return{getId:()=>function(z){return he.apply(this,arguments)}(Ve),getToken:Tn=>function(z){return j.apply(this,arguments)}(Ve,Tn)}},"PRIVATE")),(0,Z.registerVersion)(ye,Re),(0,Z.registerVersion)(ye,Re,"esm2017")},5422:(ct,Oe,M)=>{"use strict";M.d(Oe,{in:()=>Z,Yd:()=>Re,Ub:()=>be,Am:()=>le});const h=[];var Z=(()=>{return(B=Z||(Z={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",Z;var B})();const F={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ue=Z.INFO,Se={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ye=(B,$,...oe)=>{if($<B.logLevel)return;const te=(new Date).toISOString(),pe=Se[$];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[pe](`[${te}]  ${B.name}:`,...oe)};class Re{constructor($){this.name=$,this._logLevel=ue,this._logHandler=ye,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in Z))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?F[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...$),this._logHandler(this,Z.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...$),this._logHandler(this,Z.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...$),this._logHandler(this,Z.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...$),this._logHandler(this,Z.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...$),this._logHandler(this,Z.ERROR,...$)}}function be(B){h.forEach($=>{$.setLogLevel(B)})}function le(B,$){for(const oe of h){let te=null;$&&$.level&&(te=F[$.level]),oe.userLogHandler=null===B?null:(pe,Ue,...Te)=>{const we=Te.map(qe=>{if(null==qe)return null;if("string"==typeof qe)return qe;if("number"==typeof qe||"boolean"==typeof qe)return qe.toString();if(qe instanceof Error)return qe.message;try{return JSON.stringify(qe)}catch(ze){return null}}).filter(qe=>qe).join(" ");Ue>=(null!=te?te:pe.logLevel)&&B({level:Z[Ue].toLowerCase(),message:we,args:Te,type:pe.name})}}}},300:(ct,Oe,M)=>{"use strict";M.d(Oe,{Lj:()=>rt,X3:()=>Ne});var h=M(8239);let F,ue;const Re=new WeakMap,be=new WeakMap,le=new WeakMap,B=new WeakMap,$=new WeakMap;let pe={get($e,Ze,re){if($e instanceof IDBTransaction){if("done"===Ze)return be.get($e);if("objectStoreNames"===Ze)return $e.objectStoreNames||le.get($e);if("store"===Ze)return re.objectStoreNames[1]?void 0:re.objectStore(re.objectStoreNames[0])}return qe($e[Ze])},set:($e,Ze,re)=>($e[Ze]=re,!0),has:($e,Ze)=>$e instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in $e};function we($e){return"function"==typeof $e?function($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes($e)?function(...Ze){return $e.apply(ze(this),Ze),qe(Re.get(this))}:function(...Ze){return qe($e.apply(ze(this),Ze))}:function(Ze,...re){const se=$e.call(ze(this),Ze,...re);return le.set(se,Ze.sort?Ze.sort():[Ze]),qe(se)}}($e):($e instanceof IDBTransaction&&function($e){if(be.has($e))return;const Ze=new Promise((re,se)=>{const ge=()=>{$e.removeEventListener("complete",De),$e.removeEventListener("error",_e),$e.removeEventListener("abort",_e)},De=()=>{re(),ge()},_e=()=>{se($e.error||new DOMException("AbortError","AbortError")),ge()};$e.addEventListener("complete",De),$e.addEventListener("error",_e),$e.addEventListener("abort",_e)});be.set($e,Ze)}($e),(($e,Ze)=>Ze.some(re=>$e instanceof re))($e,F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy($e,pe):$e)}function qe($e){if($e instanceof IDBRequest)return function($e){const Ze=new Promise((re,se)=>{const ge=()=>{$e.removeEventListener("success",De),$e.removeEventListener("error",_e)},De=()=>{re(qe($e.result)),ge()},_e=()=>{se($e.error),ge()};$e.addEventListener("success",De),$e.addEventListener("error",_e)});return Ze.then(re=>{re instanceof IDBCursor&&Re.set(re,$e)}).catch(()=>{}),$.set(Ze,$e),Ze}($e);if(B.has($e))return B.get($e);const Ze=we($e);return Ze!==$e&&(B.set($e,Ze),$.set(Ze,$e)),Ze}const ze=$e=>$.get($e);function Ne($e,Ze,{blocked:re,upgrade:se,blocking:ge,terminated:De}={}){const _e=indexedDB.open($e,Ze),He=qe(_e);return se&&_e.addEventListener("upgradeneeded",Et=>{se(qe(_e.result),Et.oldVersion,Et.newVersion,qe(_e.transaction))}),re&&_e.addEventListener("blocked",()=>re()),He.then(Et=>{De&&Et.addEventListener("close",()=>De()),ge&&Et.addEventListener("versionchange",()=>ge())}).catch(()=>{}),He}function rt($e,{blocked:Ze}={}){const re=indexedDB.deleteDatabase($e);return Ze&&re.addEventListener("blocked",()=>Ze()),qe(re).then(()=>{})}const vt=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],Mt=new Map;function Ee($e,Ze){if(!($e instanceof IDBDatabase)||Ze in $e||"string"!=typeof Ze)return;if(Mt.get(Ze))return Mt.get(Ze);const re=Ze.replace(/FromIndex$/,""),se=Ze!==re,ge=tt.includes(re);if(!(re in(se?IDBIndex:IDBObjectStore).prototype)||!ge&&!vt.includes(re))return;const De=function(){var _e=(0,h.Z)(function*(He,...Et){const an=this.transaction(He,ge?"readwrite":"readonly");let _n=an.store;return se&&(_n=_n.index(Et.shift())),(yield Promise.all([_n[re](...Et),ge&&an.done]))[0]});return function(Et){return _e.apply(this,arguments)}}();return Mt.set(Ze,De),De}var $e;pe=PU(NU({},$e=pe),{get:(Ze,re,se)=>Ee(Ze,re)||$e.get(Ze,re,se),has:(Ze,re)=>!!Ee(Ze,re)||$e.has(Ze,re)})},8239:(ct,Oe,M)=>{"use strict";function h(F,ue,Se,ye,Re,be,le){try{var B=F[be](le),$=B.value}catch(oe){return void Se(oe)}B.done?ue($):Promise.resolve($).then(ye,Re)}function Z(F){return function(){var ue=this,Se=arguments;return new Promise(function(ye,Re){var be=F.apply(ue,Se);function le($){h(be,ye,Re,le,B,"next",$)}function B($){h(be,ye,Re,le,B,"throw",$)}le(void 0)})}}M.d(Oe,{Z:()=>Z})}},ct=>{ct(ct.s=259)}]);